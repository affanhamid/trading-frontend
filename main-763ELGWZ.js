var B5=Object.create;var gm=Object.defineProperty,j5=Object.defineProperties,U5=Object.getOwnPropertyDescriptor,V5=Object.getOwnPropertyDescriptors,H5=Object.getOwnPropertyNames,M2=Object.getOwnPropertySymbols,q5=Object.getPrototypeOf,k2=Object.prototype.hasOwnProperty,G5=Object.prototype.propertyIsEnumerable;var A2=(B,P,J)=>P in B?gm(B,P,{enumerable:!0,configurable:!0,writable:!0,value:J}):B[P]=J,zr=(B,P)=>{for(var J in P||={})k2.call(P,J)&&A2(B,J,P[J]);if(M2)for(var J of M2(P))G5.call(P,J)&&A2(B,J,P[J]);return B},Yo=(B,P)=>j5(B,V5(P));var W5=(B,P)=>()=>(P||B((P={exports:{}}).exports,P),P.exports);var Y5=(B,P,J,S)=>{if(P&&typeof P=="object"||typeof P=="function")for(let x of H5(P))!k2.call(B,x)&&x!==J&&gm(B,x,{get:()=>P[x],enumerable:!(S=U5(P,x))||S.enumerable});return B};var $5=(B,P,J)=>(J=B!=null?B5(q5(B)):{},Y5(P||!B||!B.__esModule?gm(J,"default",{value:B,enumerable:!0}):J,B));var qc=(B,P,J)=>new Promise((S,x)=>{var e=n=>{try{y(J.next(n))}catch(M){x(M)}},p=n=>{try{y(J.throw(n))}catch(M){x(M)}},y=n=>n.done?S(n.value):Promise.resolve(n.value).then(e,p);y((J=J.apply(B,P)).next())});var q4=W5((kg,q1)=>{"use strict";(function(B,P){typeof kg=="object"&&typeof q1=="object"?q1.exports=P():typeof define=="function"&&define.amd?define([],P):typeof kg=="object"?kg.Plotly=P():B.Plotly=P()})(self,function(){return function(){var B={79288:function(S,x,e){"use strict";var p=e(3400),y={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in y){var M=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(M,y[n])}},86712:function(S,x,e){"use strict";S.exports=e(84224)},37240:function(S,x,e){"use strict";S.exports=e(51132)},29744:function(S,x,e){"use strict";S.exports=e(94456)},29352:function(S,x,e){"use strict";S.exports=e(67244)},96144:function(S,x,e){"use strict";S.exports=e(97776)},53219:function(S,x,e){"use strict";S.exports=e(61712)},4624:function(S,x,e){"use strict";S.exports=e(95856)},54543:function(S,x,e){"use strict";S.exports=e(54272)},45e3:function(S,x,e){"use strict";S.exports=e(85404)},62300:function(S,x,e){"use strict";S.exports=e(26048)},6920:function(S,x,e){"use strict";S.exports=e(66240)},10264:function(S,x,e){"use strict";S.exports=e(40448)},32016:function(S,x,e){"use strict";S.exports=e(64884)},27528:function(S,x,e){"use strict";S.exports=e(15088)},75556:function(S,x,e){"use strict";S.exports=e(76744)},39204:function(S,x,e){"use strict";S.exports=e(94704)},73996:function(S,x,e){"use strict";S.exports=e(62396)},16489:function(S,x,e){"use strict";S.exports=e(32028)},5e3:function(S,x,e){"use strict";S.exports=e(81932)},77280:function(S,x,e){"use strict";S.exports=e(45536)},33992:function(S,x,e){"use strict";S.exports=e(42600)},17600:function(S,x,e){"use strict";S.exports=e(21536)},49116:function(S,x,e){"use strict";S.exports=e(65664)},46808:function(S,x,e){"use strict";S.exports=e(29044)},36168:function(S,x,e){"use strict";S.exports=e(48928)},13792:function(S,x,e){"use strict";var p=e(32016);p.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),S.exports=p},3920:function(S,x,e){"use strict";S.exports=e(43480)},25120:function(S,x,e){"use strict";S.exports=e(6296)},4340:function(S,x,e){"use strict";S.exports=e(7404)},86152:function(S,x,e){"use strict";S.exports=e(65456)},56816:function(S,x,e){"use strict";S.exports=e(22020)},89296:function(S,x,e){"use strict";S.exports=e(29928)},20260:function(S,x,e){"use strict";S.exports=e(75792)},32140:function(S,x,e){"use strict";S.exports=e(156)},84764:function(S,x,e){"use strict";S.exports=e(45499)},48824:function(S,x,e){"use strict";S.exports=e(3296)},69967:function(S,x,e){"use strict";S.exports=e(4184)},8363:function(S,x,e){"use strict";S.exports=e(36952)},86636:function(S,x,e){"use strict";S.exports=e(38983)},70192:function(S,x,e){"use strict";S.exports=e(11572)},81604:function(S,x,e){"use strict";S.exports=e(76924)},63796:function(S,x,e){"use strict";S.exports=e(62944)},89336:function(S,x,e){"use strict";S.exports=e(95443)},67484:function(S,x,e){"use strict";S.exports=e(34864)},97312:function(S,x,e){"use strict";S.exports=e(76272)},42192:function(S,x,e){"use strict";S.exports=e(97924)},29800:function(S,x,e){"use strict";S.exports=e(15436)},63560:function(S,x,e){"use strict";S.exports=e(5621)},89904:function(S,x,e){"use strict";S.exports=e(91304)},50248:function(S,x,e){"use strict";S.exports=e(41724)},65832:function(S,x,e){"use strict";S.exports=e(31991)},79440:function(S,x,e){"use strict";S.exports=e(22869)},13752:function(S,x,e){"use strict";S.exports=e(67776)},83096:function(S,x,e){"use strict";S.exports=e(95952)},72196:function(S){"use strict";S.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(S,x,e){"use strict";var p=e(72196),y=e(25376),n=e(33816),M=e(31780).templatedArray;e(36208),S.exports=M("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:y({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:y({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(23816).draw;function M(f){var s=f._fullLayout;p.filterVisible(s.annotations).forEach(function(t){var o=y.getFromId(f,t.xref),r=y.getFromId(f,t.yref),i=y.getRefType(t.xref),a=y.getRefType(t.yref);t._extremes={},i==="range"&&b(t,o),a==="range"&&b(t,r)})}function b(f,s){var t,o=s._id,r=o.charAt(0),i=f[r],a=f["a"+r],l=f[r+"ref"],u=f["a"+r+"ref"],h=f["_"+r+"padplus"],c=f["_"+r+"padminus"],w={x:1,y:-1}[r]*f[r+"shift"],g=3*f.arrowsize*f.arrowwidth||0,v=g+w,m=g-w,T=3*f.startarrowsize*f.arrowwidth||0,_=T+w,A=T-w;if(u===l){var d=y.findExtremes(s,[s.r2c(i)],{ppadplus:v,ppadminus:m}),C=y.findExtremes(s,[s.r2c(a)],{ppadplus:Math.max(h,_),ppadminus:Math.max(c,A)});t={min:[d.min[0],C.min[0]],max:[d.max[0],C.max[0]]}}else _=a?_+a:_,A=a?A-a:A,t=y.findExtremes(s,[s.r2c(i)],{ppadplus:Math.max(h,v,_),ppadminus:Math.max(c,m,A)});f._extremes[o]=t}S.exports=function(f){var s=f._fullLayout;if(p.filterVisible(s.annotations).length&&f._fullData.length)return p.syncOrAsync([n,M],f)}},42300:function(S,x,e){"use strict";var p=e(3400),y=e(24040),n=e(31780).arrayEditor;function M(f,s){var t,o,r,i,a,l,u,h=f._fullLayout.annotations,c=[],w=[],g=[],v=(s||[]).length;for(t=0;t<h.length;t++)if(i=(r=h[t]).clicktoshow){for(o=0;o<v;o++)if(l=(a=s[o]).xaxis,u=a.yaxis,l._id===r.xref&&u._id===r.yref&&l.d2r(a.x)===b(r._xclick,l)&&u.d2r(a.y)===b(r._yclick,u)){(r.visible?i==="onout"?w:g:c).push(t);break}o===v&&r.visible&&i==="onout"&&w.push(t)}return{on:c,off:w,explicitOff:g}}function b(f,s){return s.type==="log"?s.l2r(f):s.d2r(f)}S.exports={hasClickToShow:function(f,s){var t=M(f,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(f,s){var t,o,r=M(f,s),i=r.on,a=r.off.concat(r.explicitOff),l={},u=f._fullLayout.annotations;if(i.length||a.length){for(t=0;t<i.length;t++)(o=n(f.layout,"annotations",u[i[t]])).modifyItem("visible",!0),p.extendFlat(l,o.getUpdateObj());for(t=0;t<a.length;t++)(o=n(f.layout,"annotations",u[a[t]])).modifyItem("visible",!1),p.extendFlat(l,o.getUpdateObj());return y.call("update",f,{},l)}}}},87192:function(S,x,e){"use strict";var p=e(3400),y=e(76308);S.exports=function(n,M,b,f){f("opacity");var s=f("bgcolor"),t=f("bordercolor"),o=y.opacity(t);f("borderpad");var r=f("borderwidth"),i=f("showarrow");if(f("text",i?" ":b._dfltTitle.annotation),f("textangle"),p.coerceFont(f,"font",b.font),f("width"),f("align"),f("height")&&f("valign"),i){var a,l,u=f("arrowside");u.indexOf("end")!==-1&&(a=f("arrowhead"),l=f("arrowsize")),u.indexOf("start")!==-1&&(f("startarrowhead",a),f("startarrowsize",l)),f("arrowcolor",o?M.bordercolor:y.defaultLine),f("arrowwidth",2*(o&&r||1)),f("standoff"),f("startstandoff")}var h=f("hovertext"),c=b.hoverlabel||{};if(h){var w=f("hoverlabel.bgcolor",c.bgcolor||(y.opacity(s)?y.rgb(s):y.defaultLine)),g=f("hoverlabel.bordercolor",c.bordercolor||y.contrast(w)),v=p.extendFlat({},c.font);v.color||(v.color=g),p.coerceFont(f,"hoverlabel.font",v)}f("captureevents",!!h)}},26828:function(S,x,e){"use strict";var p=e(38248),y=e(36896);S.exports=function(n,M,b,f){M=M||{};var s=b==="log"&&M.type==="linear",t=b==="linear"&&M.type==="log";if(s||t)for(var o,r,i=n._fullLayout.annotations,a=M._id.charAt(0),l=0;l<i.length;l++)o=i[l],r="annotations["+l+"].",o[a+"ref"]===M._id&&u(a),o["a"+a+"ref"]===M._id&&u("a"+a);function u(h){var c=o[h],w=null;w=s?y(c,M.range):Math.pow(10,c),p(w)||(w=null),f(r+h,w)}}},45216:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(51272),M=e(87192),b=e(13916);function f(s,t,o){function r(C,k){return p.coerce(s,t,b,C,k)}var i=r("visible"),a=r("clicktoshow");if(i||a){M(s,t,o,r);for(var l=t.showarrow,u=["x","y"],h=[-10,-30],c={_fullLayout:o},w=0;w<2;w++){var g=u[w],v=y.coerceRef(s,t,c,g,"","paper");if(v!=="paper"&&y.getFromId(c,v)._annIndices.push(t._index),y.coercePosition(t,c,r,v,g,.5),l){var m="a"+g,T=y.coerceRef(s,t,c,m,"pixel",["pixel","paper"]);T!=="pixel"&&T!==v&&(T=t[m]="pixel");var _=T==="pixel"?h[w]:.4;y.coercePosition(t,c,r,T,m,_)}r(g+"anchor"),r(g+"shift")}if(p.noneOrAll(s,t,["x","y"]),l&&p.noneOrAll(s,t,["ax","ay"]),a){var A=r("xclick"),d=r("yclick");t._xclick=A===void 0?t.x:y.cleanPosition(A,c,t.xref),t._yclick=d===void 0?t.y:y.cleanPosition(d,c,t.yref)}}}S.exports=function(s,t){n(s,t,{name:"annotations",handleItemDefaults:f})}},23816:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(7316),M=e(3400),b=M.strTranslate,f=e(54460),s=e(76308),t=e(43616),o=e(93024),r=e(72736),i=e(93972),a=e(86476),l=e(31780).arrayEditor,u=e(33652);function h(g,v){var m=g._fullLayout.annotations[v]||{},T=f.getFromId(g,m.xref),_=f.getFromId(g,m.yref);T&&T.setScale(),_&&_.setScale(),w(g,m,v,!1,T,_)}function c(g,v,m,T,_){var A=_[m],d=_[m+"ref"],C=m.indexOf("y")!==-1,k=f.getRefType(d)==="domain",D=C?T.h:T.w;return g?k?A+(C?-v:v)/g._length:g.p2r(g.r2p(A)+v):A+(C?-v:v)/D}function w(g,v,m,T,_,A){var d,C,k=g._fullLayout,D=g._fullLayout._size,O=g._context.edits;T?(d="annotation-"+T,C=T+".annotations"):(d="annotation",C="annotations");var L=l(g.layout,C,v),R=L.modifyBase,z=L.modifyItem,q=L.getUpdateObj;k._infolayer.selectAll("."+d+'[data-index="'+m+'"]').remove();var N="clip"+k._uid+"_ann"+m;if(v._input&&v.visible!==!1){var V={x:{},y:{}},Z=+v.textangle||0,j=k._infolayer.append("g").classed(d,!0).attr("data-index",String(m)).style("opacity",v.opacity),H=j.append("g").classed("annotation-text-g",!0),Y=O[v.showarrow?"annotationTail":"annotationPosition"],ie=v.captureevents||O.annotationText||Y,re=H.append("g").style("pointer-events",ie?"all":null).call(i,"pointer").on("click",function(){g._dragging=!1,g.emit("plotly_clickannotation",_e(p.event))});v.hovertext&&re.on("mouseover",function(){var ye=v.hoverlabel,Se=ye.font,Ie=this.getBoundingClientRect(),xe=g.getBoundingClientRect();o.loneHover({x0:Ie.left-xe.left,x1:Ie.right-xe.left,y:(Ie.top+Ie.bottom)/2-xe.top,text:v.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color,fontWeight:Se.weight,fontStyle:Se.style,fontVariant:Se.variant,fontShadow:Se.fontShadow,fontLineposition:Se.fontLineposition,fontTextcase:Se.fontTextcase},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:g})}).on("mouseout",function(){o.loneUnhover(k._hoverlayer.node())});var ne=v.borderwidth,ee=v.borderpad,Q=ne+ee,X=re.append("rect").attr("class","bg").style("stroke-width",ne+"px").call(s.stroke,v.bordercolor).call(s.fill,v.bgcolor),se=v.width||v.height,ce=k._topclips.selectAll("#"+N).data(se?[0]:[]);ce.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),ce.exit().remove();var le=v.font,de=k._meta?M.templateString(v.text,k._meta):v.text,be=re.append("text").classed("annotation-text",!0).text(de);O.annotationText?be.call(r.makeEditable,{delegate:re,gd:g}).call(ve).on("edit",function(ye){v.text=ye,this.call(ve),z("text",ye),_&&_.autorange&&R(_._name+".autorange",!0),A&&A.autorange&&R(A._name+".autorange",!0),y.call("_guiRelayout",g,q())}):be.call(ve)}else p.selectAll("#"+N).remove();function _e(ye){var Se={index:m,annotation:v._input,fullAnnotation:v,event:ye};return T&&(Se.subplotId=T),Se}function ve(ye){return ye.call(t.font,le).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),r.convertToTspans(ye,g,me),ye}function me(){var ye=be.selectAll("a");ye.size()===1&&ye.text()===be.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(X.node());var Se=re.select(".annotation-text-math-group"),Ie=!Se.empty(),xe=t.bBox((Ie?Se:be).node()),ue=xe.width,ae=xe.height,pe=v.width||ue,De=v.height||ae,Te=Math.round(pe+2*Q),Ae=Math.round(De+2*Q);function Ce(yt,ht){return ht==="auto"&&(ht=yt<.3333333333333333?"left":yt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ht]}for(var Re=!1,Ne=["x","y"],ge=0;ge<Ne.length;ge++){var Me,Ee,Fe,Le,Ue,Ge=Ne[ge],Ke=v[Ge+"ref"]||Ge,at=v["a"+Ge+"ref"],st={x:_,y:A}[Ge],vt=(Z+(Ge==="x"?0:-90))*Math.PI/180,xt=Te*Math.cos(vt),gt=Ae*Math.sin(vt),nt=Math.abs(xt)+Math.abs(gt),et=v[Ge+"anchor"],At=v[Ge+"shift"]*(Ge==="x"?1:-1),Pt=V[Ge],Rt=f.getRefType(Ke);if(st&&Rt!=="domain"){var Et=st.r2fraction(v[Ge]);(Et<0||Et>1)&&(at===Ke?((Et=st.r2fraction(v["a"+Ge]))<0||Et>1)&&(Re=!0):Re=!0),Me=st._offset+st.r2p(v[Ge]),Le=.5}else{var Ye=Rt==="domain";Ge==="x"?(Fe=v[Ge],Me=Ye?st._offset+st._length*Fe:Me=D.l+D.w*Fe):(Fe=1-v[Ge],Me=Ye?st._offset+st._length*Fe:Me=D.t+D.h*Fe),Le=v.showarrow?.5:Fe}if(v.showarrow){Pt.head=Me;var Xe=v["a"+Ge];if(Ue=xt*Ce(.5,v.xanchor)-gt*Ce(.5,v.yanchor),at===Ke){var Ve=f.getRefType(at);Ve==="domain"?(Ge==="y"&&(Xe=1-Xe),Pt.tail=st._offset+st._length*Xe):Ve==="paper"?Ge==="y"?(Xe=1-Xe,Pt.tail=D.t+D.h*Xe):Pt.tail=D.l+D.w*Xe:Pt.tail=st._offset+st.r2p(Xe),Ee=Ue}else Pt.tail=Me+Xe,Ee=Ue+Xe;Pt.text=Pt.tail+Ue;var Ze=k[Ge==="x"?"width":"height"];if(Ke==="paper"&&(Pt.head=M.constrain(Pt.head,1,Ze-1)),at==="pixel"){var lt=-Math.max(Pt.tail-3,Pt.text),it=Math.min(Pt.tail+3,Pt.text)-Ze;lt>0?(Pt.tail+=lt,Pt.text+=lt):it>0&&(Pt.tail-=it,Pt.text-=it)}Pt.tail+=At,Pt.head+=At}else Ee=Ue=nt*Ce(Le,et),Pt.text=Me+Ue;Pt.text+=At,Ue+=At,Ee+=At,v["_"+Ge+"padplus"]=nt/2+Ee,v["_"+Ge+"padminus"]=nt/2-Ee,v["_"+Ge+"size"]=nt,v["_"+Ge+"shift"]=Ue}if(Re)re.remove();else{var Be=0,je=0;if(v.align!=="left"&&(Be=(pe-ue)*(v.align==="center"?.5:1)),v.valign!=="top"&&(je=(De-ae)*(v.valign==="middle"?.5:1)),Ie)Se.select("svg").attr({x:Q+Be-1,y:Q+je}).call(t.setClipUrl,se?N:null,g);else{var ot=Q+je-xe.top,$e=Q+Be-xe.left;be.call(r.positionText,$e,ot).call(t.setClipUrl,se?N:null,g)}ce.select("rect").call(t.setRect,Q,Q,pe,De),X.call(t.setRect,ne/2,ne/2,Te-ne,Ae-ne),re.call(t.setTranslate,Math.round(V.x.text-Te/2),Math.round(V.y.text-Ae/2)),H.attr({transform:"rotate("+Z+","+V.x.text+","+V.y.text+")"});var dt,mt=function(yt,ht){j.selectAll(".annotation-arrow-g").remove();var kt=V.x.head,bt=V.y.head,St=V.x.tail+yt,Lt=V.y.tail+ht,Ot=V.x.text+yt,Ft=V.y.text+ht,$t=M.rotationXYMatrix(Z,Ot,Ft),on=M.apply2DTransform($t),Ht=M.apply2DTransform2($t),Zt=+X.attr("width"),jt=+X.attr("height"),Ln=Ot-.5*Zt,Tn=Ln+Zt,gn=Ft-.5*jt,Qt=gn+jt,cn=[[Ln,gn,Ln,Qt],[Ln,Qt,Tn,Qt],[Tn,Qt,Tn,gn],[Tn,gn,Ln,gn]].map(Ht);if(!cn.reduce(function(nr,$n){return nr^!!M.segmentsIntersect(kt,bt,kt+1e6,bt+1e6,$n[0],$n[1],$n[2],$n[3])},!1)){cn.forEach(function(nr){var $n=M.segmentsIntersect(St,Lt,kt,bt,nr[0],nr[1],nr[2],nr[3]);$n&&(St=$n.x,Lt=$n.y)});var nn=v.arrowwidth,hn=v.arrowcolor,bn=v.arrowside,wn=j.append("g").style({opacity:s.opacity(hn)}).classed("annotation-arrow-g",!0),En=wn.append("path").attr("d","M"+St+","+Lt+"L"+kt+","+bt).style("stroke-width",nn+"px").call(s.stroke,s.rgb(hn));if(u(En,bn,v),O.annotationPosition&&En.node().parentNode&&!T){var Dn=kt,kn=bt;if(v.standoff){var Bn=Math.sqrt(Math.pow(kt-St,2)+Math.pow(bt-Lt,2));Dn+=v.standoff*(St-kt)/Bn,kn+=v.standoff*(Lt-bt)/Bn}var Rn,Kn,Gn=wn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(St-Dn)+","+(Lt-kn),transform:b(Dn,kn)}).style("stroke-width",nn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");a.init({element:Gn.node(),gd:g,prepFn:function(){var nr=t.getTranslate(re);Rn=nr.x,Kn=nr.y,_&&_.autorange&&R(_._name+".autorange",!0),A&&A.autorange&&R(A._name+".autorange",!0)},moveFn:function(nr,$n){var fr=on(Rn,Kn),en=fr[0]+nr,rn=fr[1]+$n;re.call(t.setTranslate,en,rn),z("x",c(_,nr,"x",D,v)),z("y",c(A,$n,"y",D,v)),v.axref===v.xref&&z("ax",c(_,nr,"ax",D,v)),v.ayref===v.yref&&z("ay",c(A,$n,"ay",D,v)),wn.attr("transform",b(nr,$n)),H.attr({transform:"rotate("+Z+","+en+","+rn+")"})},doneFn:function(){y.call("_guiRelayout",g,q());var nr=document.querySelector(".js-notes-box-panel");nr&&nr.redraw(nr.selectedObj)}})}}};v.showarrow&&mt(0,0),Y&&a.init({element:re.node(),gd:g,prepFn:function(){dt=H.attr("transform")},moveFn:function(yt,ht){var kt="pointer";if(v.showarrow)v.axref===v.xref?z("ax",c(_,yt,"ax",D,v)):z("ax",v.ax+yt),v.ayref===v.yref?z("ay",c(A,ht,"ay",D.w,v)):z("ay",v.ay+ht),mt(yt,ht);else{if(T)return;var bt,St;if(_)bt=c(_,yt,"x",D,v);else{var Lt=v._xsize/D.w,Ot=v.x+(v._xshift-v.xshift)/D.w-Lt/2;bt=a.align(Ot+yt/D.w,Lt,0,1,v.xanchor)}if(A)St=c(A,ht,"y",D,v);else{var Ft=v._ysize/D.h,$t=v.y-(v._yshift+v.yshift)/D.h-Ft/2;St=a.align($t-ht/D.h,Ft,0,1,v.yanchor)}z("x",bt),z("y",St),_&&A||(kt=a.getCursor(_?.5:bt,A?.5:St,v.xanchor,v.yanchor))}H.attr({transform:b(yt,ht)+dt}),i(re,kt)},clickFn:function(yt,ht){v.captureevents&&g.emit("plotly_clickannotation",_e(ht))},doneFn:function(){i(re),y.call("_guiRelayout",g,q());var yt=document.querySelector(".js-notes-box-panel");yt&&yt.redraw(yt.selectedObj)}})}}}S.exports={draw:function(g){var v=g._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var m=0;m<v.annotations.length;m++)v.annotations[m].visible&&h(g,m);return n.previousPromises(g)},drawOne:h,drawRaw:w}},33652:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(72196),M=e(3400),b=M.strScale,f=M.strRotate,s=M.strTranslate;S.exports=function(t,o,r){var i,a,l,u,h=t.node(),c=n[r.arrowhead||0],w=n[r.startarrowhead||0],g=(r.arrowwidth||1)*(r.arrowsize||1),v=(r.arrowwidth||1)*(r.startarrowsize||1),m=o.indexOf("start")>=0,T=o.indexOf("end")>=0,_=c.backoff*g+r.standoff,A=w.backoff*v+r.startstandoff;if(h.nodeName==="line"){i={x:+t.attr("x1"),y:+t.attr("y1")},a={x:+t.attr("x2"),y:+t.attr("y2")};var d=i.x-a.x,C=i.y-a.y;if(u=(l=Math.atan2(C,d))+Math.PI,_&&A&&_+A>Math.sqrt(d*d+C*C))return void j();if(_){if(_*_>d*d+C*C)return void j();var k=_*Math.cos(l),D=_*Math.sin(l);a.x+=k,a.y+=D,t.attr({x2:a.x,y2:a.y})}if(A){if(A*A>d*d+C*C)return void j();var O=A*Math.cos(l),L=A*Math.sin(l);i.x-=O,i.y-=L,t.attr({x1:i.x,y1:i.y})}}else if(h.nodeName==="path"){var R=h.getTotalLength(),z="";if(R<_+A)return void j();var q=h.getPointAtLength(0),N=h.getPointAtLength(.1);l=Math.atan2(q.y-N.y,q.x-N.x),i=h.getPointAtLength(Math.min(A,R)),z="0px,"+A+"px,";var V=h.getPointAtLength(R),Z=h.getPointAtLength(R-.1);u=Math.atan2(V.y-Z.y,V.x-Z.x),a=h.getPointAtLength(Math.max(0,R-_)),z+=R-(z?A+_:_)+"px,"+R+"px",t.style("stroke-dasharray",z)}function j(){t.style("stroke-dasharray","0px,100px")}function H(Y,ie,re,ne){Y.path&&(Y.noRotate&&(re=0),p.select(h.parentNode).append("path").attr({class:t.attr("class"),d:Y.path,transform:s(ie.x,ie.y)+f(180*re/Math.PI)+b(ne)}).style({fill:y.rgb(r.arrowcolor),"stroke-width":0}))}m&&H(w,i,l,v),T&&H(c,a,u,g)}},79180:function(S,x,e){"use strict";var p=e(23816),y=e(42300);S.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:y.hasClickToShow,onClick:y.onClick,convertCoords:e(26828)}},45899:function(S,x,e){"use strict";var p=e(13916),y=e(67824).overrideAll,n=e(31780).templatedArray;S.exports=y(n("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},42456:function(S,x,e){"use strict";var p=e(3400),y=e(54460);function n(M,b){var f=b.fullSceneLayout.domain,s=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};M._xa={},p.extendFlat(M._xa,t),y.setConvert(M._xa),M._xa._offset=s.l+f.x[0]*s.w,M._xa.l2p=function(){return .5*(1+M._pdata[0]/M._pdata[3])*s.w*(f.x[1]-f.x[0])},M._ya={},p.extendFlat(M._ya,t),y.setConvert(M._ya),M._ya._offset=s.t+(1-f.y[1])*s.h,M._ya.l2p=function(){return .5*(1-M._pdata[1]/M._pdata[3])*s.h*(f.y[1]-f.y[0])}}S.exports=function(M){for(var b=M.fullSceneLayout.annotations,f=0;f<b.length;f++)n(b[f],M);M.fullLayout._infolayer.selectAll(".annotation-"+M.id).remove()}},52808:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(51272),M=e(87192),b=e(45899);function f(s,t,o,r){function i(l,u){return p.coerce(s,t,b,l,u)}function a(l){var u=l+"axis",h={_fullLayout:{}};return h._fullLayout[u]=o[u],y.coercePosition(t,h,i,l,l,.5)}i("visible")&&(M(s,t,r.fullLayout,i),a("x"),a("y"),a("z"),p.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",i("xanchor"),i("yanchor"),i("xshift"),i("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",i("ax",-10),i("ay",-30),p.noneOrAll(s,t,["ax","ay"])))}S.exports=function(s,t,o){n(s,t,{name:"annotations",handleItemDefaults:f,fullLayout:o.fullLayout})}},71836:function(S,x,e){"use strict";var p=e(23816).drawRaw,y=e(94424),n=["x","y","z"];S.exports=function(M){for(var b=M.fullSceneLayout,f=M.dataScale,s=b.annotations,t=0;t<s.length;t++){for(var o=s[t],r=!1,i=0;i<3;i++){var a=n[i],l=o[a],u=b[a+"axis"].r2fraction(l);if(u<0||u>1){r=!0;break}}r?M.fullLayout._infolayer.select(".annotation-"+M.id+'[data-index="'+t+'"]').remove():(o._pdata=y(M.glplot.cameraParams,[b.xaxis.r2l(o.x)*f[0],b.yaxis.r2l(o.y)*f[1],b.zaxis.r2l(o.z)*f[2]]),p(M.graphDiv,o,t,M.id,o._xa,o._ya))}}},56864:function(S,x,e){"use strict";var p=e(24040),y=e(3400);S.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(n,M){var b=p.subplotsRegistry.gl3d;if(b)for(var f=b.attrRegex,s=Object.keys(n),t=0;t<s.length;t++){var o=s[t];f.test(o)&&(n[o].annotations||[]).length&&(y.pushUnique(M._basePlotModules,b),y.pushUnique(M._subplots.gl3d,o))}},convert:e(42456),draw:e(71836)}},54976:function(S,x,e){"use strict";S.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(S,x,e){"use strict";var p=e(54976),y=e(3400),n=e(39032),M=n.EPOCHJD,b=n.ONEDAY,f={valType:"enumerated",values:y.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},s=function(g,v,m,T){var _={};return _[m]=f,y.coerce(g,v,_,m,T)},t="##",o={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function i(g){var v=r[g];return v||(r[g]=p.instance(g))}function a(g){return y.extendFlat({},f,{description:g})}function l(g){return"Sets the calendar system to use with `"+g+"` date data."}var u={xcalendar:a(l("x"))},h=y.extendFlat({},u,{ycalendar:a(l("y"))}),c=y.extendFlat({},h,{zcalendar:a(l("z"))}),w=a(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));S.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:h,bar:h,box:h,heatmap:h,contour:h,histogram:h,histogram2d:h,histogram2dcontour:h,scatter3d:c,surface:c,mesh3d:c,scattergl:h,ohlc:u,candlestick:u},layout:{calendar:a(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:a(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:s,handleTraceDefaults:function(g,v,m,T){for(var _=0;_<m.length;_++)s(g,v,m[_]+"calendar",T.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:i,worldCalFmt:function(g,v,m){for(var T,_,A,d,C,k=Math.floor((v+.05)/b)+M,D=i(m).fromJD(k),O=0;(O=g.indexOf("%",O))!==-1;)(T=g.charAt(O+1))==="0"||T==="-"||T==="_"?(A=3,_=g.charAt(O+2),T==="_"&&(T="-")):(_=T,T="0",A=2),(d=o[_])?(C=d===t?t:D.formatDate(d[T]),g=g.substr(0,O)+C+g.substr(O+A),O+=C.length):O+=A;return g}}},22548:function(S,x){"use strict";x.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],x.defaultLine="#444",x.lightLine="#eee",x.background="#fff",x.borderLine="#BEC8D9",x.lightFraction=90.9090909090909},76308:function(S,x,e){"use strict";var p=e(49760),y=e(38248),n=e(38116).isTypedArray,M=S.exports={},b=e(22548);M.defaults=b.defaults;var f=M.defaultLine=b.defaultLine;M.lightLine=b.lightLine;var s=M.background=b.background;function t(o){if(y(o)||typeof o!="string")return o;var r=o.trim();if(r.substr(0,3)!=="rgb")return o;var i=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!i)return o;var a=i[1].trim().split(/\s*[\s,]\s*/),l=r.charAt(3)==="a"&&a.length===4;if(!l&&a.length!==3)return o;for(var u=0;u<a.length;u++){if(!a[u].length||(a[u]=Number(a[u]),!(a[u]>=0)))return o;if(u===3)a[u]>1&&(a[u]=1);else if(a[u]>=1)return o}var h=Math.round(255*a[0])+", "+Math.round(255*a[1])+", "+Math.round(255*a[2]);return l?"rgba("+h+", "+a[3]+")":"rgb("+h+")"}M.tinyRGB=function(o){var r=o.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},M.rgb=function(o){return M.tinyRGB(p(o))},M.opacity=function(o){return o?p(o).getAlpha():0},M.addOpacity=function(o,r){var i=p(o).toRgb();return"rgba("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+", "+r+")"},M.combine=function(o,r){var i=p(o).toRgb();if(i.a===1)return p(o).toRgbString();var a=p(r||s).toRgb(),l=a.a===1?a:{r:255*(1-a.a)+a.r*a.a,g:255*(1-a.a)+a.g*a.a,b:255*(1-a.a)+a.b*a.a},u={r:l.r*(1-i.a)+i.r*i.a,g:l.g*(1-i.a)+i.g*i.a,b:l.b*(1-i.a)+i.b*i.a};return p(u).toRgbString()},M.interpolate=function(o,r,i){var a=p(o).toRgb(),l=p(r).toRgb(),u={r:i*a.r+(1-i)*l.r,g:i*a.g+(1-i)*l.g,b:i*a.b+(1-i)*l.b};return p(u).toRgbString()},M.contrast=function(o,r,i){var a=p(o);return a.getAlpha()!==1&&(a=p(M.combine(o,s))),(a.isDark()?r?a.lighten(r):s:i?a.darken(i):f).toString()},M.stroke=function(o,r){var i=p(r);o.style({stroke:M.tinyRGB(i),"stroke-opacity":i.getAlpha()})},M.fill=function(o,r){var i=p(r);o.style({fill:M.tinyRGB(i),"fill-opacity":i.getAlpha()})},M.clean=function(o){if(o&&typeof o=="object"){var r,i,a,l,u=Object.keys(o);for(r=0;r<u.length;r++)if(l=o[a=u[r]],a.substr(a.length-5)==="color")if(Array.isArray(l))for(i=0;i<l.length;i++)l[i]=t(l[i]);else o[a]=t(l);else if(a.substr(a.length-10)==="colorscale"&&Array.isArray(l))for(i=0;i<l.length;i++)Array.isArray(l[i])&&(l[i][1]=t(l[i][1]));else if(Array.isArray(l)){var h=l[0];if(!Array.isArray(h)&&h&&typeof h=="object")for(i=0;i<l.length;i++)M.clean(l[i])}else l&&typeof l=="object"&&!n(l)&&M.clean(l)}}},42996:function(S,x,e){"use strict";var p=e(94724),y=e(25376),n=e(92880).extendFlat,M=e(67824).overrideAll;S.exports=M({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:n({},p.ticks,{dflt:""}),ticklabeloverflow:n({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:y({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:y({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:y({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(S){"use strict";S.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(S,x,e){"use strict";var p=e(3400),y=e(31780),n=e(26332),M=e(25404),b=e(95936),f=e(42568),s=e(42996);S.exports=function(t,o,r){var i=y.newContainer(o,"colorbar"),a=t.colorbar||{};function l(z,q){return p.coerce(a,i,s,z,q)}var u=r.margin||{t:0,b:0,l:0,r:0},h=r.width-u.l-u.r,c=r.height-u.t-u.b,w=l("orientation")==="v",g=l("thicknessmode");l("thickness",g==="fraction"?30/(w?h:c):30);var v=l("lenmode");l("len",v==="fraction"?1:w?c:h);var m,T,_,A=l("yref")==="paper",d=l("xref")==="paper",C="left";w?(_="middle",C=d?"left":"right",m=d?1.02:1,T=.5):(_=A?"bottom":"top",C="center",m=.5,T=A?1.02:1),p.coerce(a,i,{x:{valType:"number",min:d?-2:0,max:d?3:1,dflt:m}},"x"),p.coerce(a,i,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:T}},"y"),l("xanchor",C),l("xpad"),l("yanchor",_),l("ypad"),p.noneOrAll(a,i,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var k=p.coerce(a,i,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:w?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(a,i,l,"linear");var D=r.font,O={noAutotickangles:!0,outerTicks:!1,font:D};k.indexOf("inside")!==-1&&(O.bgColor="black"),f(a,i,l,"linear",O),b(a,i,l,"linear",O),M(a,i,l,"linear",O),l("title.text",r._dfltTitle.colorbar);var L=i.showticklabels?i.tickfont:D,R=p.extendFlat({},D,{family:L.family,size:p.bigFont(L.size)});p.coerceFont(l,"title.font",R),l("title.side",w?"top":"right")}},37848:function(S,x,e){"use strict";var p=e(33428),y=e(49760),n=e(7316),M=e(24040),b=e(54460),f=e(86476),s=e(3400),t=s.strTranslate,o=e(92880).extendFlat,r=e(93972),i=e(43616),a=e(76308),l=e(81668),u=e(72736),h=e(94288).flipScale,c=e(28336),w=e(37668),g=e(94724),v=e(84284),m=v.LINE_SPACING,T=v.FROM_TL,_=v.FROM_BR,A=e(63964).cn;S.exports={draw:function(d){var C=d._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(k){var D,O,L,R,z=k._fullLayout,q=k.calcdata,N=[];function V(se){return o(se,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Z(){typeof R.calc=="function"?R.calc(k,L,D):(D._fillgradient=O.reversescale?h(O.colorscale):O.colorscale,D._zrange=[O[R.min],O[R.max]])}for(var j=0;j<q.length;j++){var H=q[j];if((L=H[0].trace)._module){var Y=L._module.colorbar;if(L.visible===!0&&Y)for(var ie=Array.isArray(Y),re=ie?Y:[Y],ne=0;ne<re.length;ne++){var ee=(R=re[ne]).container;(O=ee?L[ee]:L)&&O.showscale&&((D=V(O.colorbar))._id="cb"+L.uid+(ie&&ee?"-"+ee:""),D._traceIndex=L.index,D._propPrefix=(ee?ee+".":"")+"colorbar.",D._meta=L._meta,Z(),N.push(D))}}}for(var Q in z._colorAxes)if((O=z[Q]).showscale){var X=z._colorAxes[Q];(D=V(O.colorbar))._id="cb"+Q,D._propPrefix=Q+".colorbar.",D._meta=z._meta,R={min:"cmin",max:"cmax"},X[0]!=="heatmap"&&(L=X[1],R.calc=L._module.colorbar.calc),Z(),N.push(D)}return N}(d),function(k){return k._id});C.enter().append("g").attr("class",function(k){return k._id}).classed(A.colorbar,!0),C.each(function(k){var D=p.select(this);s.ensureSingle(D,"rect",A.cbbg),s.ensureSingle(D,"g",A.cbfills),s.ensureSingle(D,"g",A.cblines),s.ensureSingle(D,"g",A.cbaxis,function(L){L.classed(A.crisp,!0)}),s.ensureSingle(D,"g",A.cbtitleunshift,function(L){L.append("g").classed(A.cbtitle,!0)}),s.ensureSingle(D,"rect",A.cboutline);var O=function(L,R,z){var q=R.orientation==="v",N=R.len,V=R.lenmode,Z=R.thickness,j=R.thicknessmode,H=R.outlinewidth,Y=R.borderwidth,ie=R.bgcolor,re=R.xanchor,ne=R.yanchor,ee=R.xpad,Q=R.ypad,X=R.x,se=q?R.y:1-R.y,ce=R.yref==="paper",le=R.xref==="paper",de=z._fullLayout,be=de._size,_e=R._fillcolor,ve=R._line,me=R.title,ye=me.side,Se=R._zrange||p.extent((typeof _e=="function"?_e:ve.color).domain()),Ie=typeof ve.color=="function"?ve.color:function(){return ve.color},xe=typeof _e=="function"?_e:function(){return _e},ue=R._levels,ae=function(Ve,Ze,lt){var it,Be,je=Ze._levels,ot=[],$e=[],dt=je.end+je.size/100,mt=je.size,yt=1.001*lt[0]-.001*lt[1],ht=1.001*lt[1]-.001*lt[0];for(Be=0;Be<1e5&&(it=je.start+Be*mt,!(mt>0?it>=dt:it<=dt));Be++)it>yt&&it<ht&&ot.push(it);if(Ze._fillgradient)$e=[0];else if(typeof Ze._fillcolor=="function"){var kt=Ze._filllevels;if(kt)for(dt=kt.end+kt.size/100,mt=kt.size,Be=0;Be<1e5&&(it=kt.start+Be*mt,!(mt>0?it>=dt:it<=dt));Be++)it>lt[0]&&it<lt[1]&&$e.push(it);else($e=ot.map(function(bt){return bt-je.size/2})).push($e[$e.length-1]+je.size)}else Ze._fillcolor&&typeof Ze._fillcolor=="string"&&($e=[0]);return je.size<0&&(ot.reverse(),$e.reverse()),{line:ot,fill:$e}}(0,R,Se),pe=ae.fill,De=ae.line,Te=Math.round(Z*(j==="fraction"?q?be.w:be.h:1)),Ae=Te/(q?be.w:be.h),Ce=Math.round(N*(V==="fraction"?q?be.h:be.w:1)),Re=Ce/(q?be.h:be.w),Ne=le?be.w:z._fullLayout.width,ge=ce?be.h:z._fullLayout.height,Me=Math.round(q?X*Ne+ee:se*ge+Q),Ee={center:.5,right:1}[re]||0,Fe={top:1,middle:.5}[ne]||0,Le=q?X-Ee*Ae:se-Fe*Ae,Ue=q?se-Fe*Re:X-Ee*Re,Ge=Math.round(q?ge*(1-Ue):Ne*Ue);R._lenFrac=Re,R._thickFrac=Ae,R._uFrac=Le,R._vFrac=Ue;var Ke=R._axis=function(Ve,Ze,lt){var it=Ve._fullLayout,Be=Ze.orientation==="v",je={type:"linear",range:lt,tickmode:Ze.tickmode,nticks:Ze.nticks,tick0:Ze.tick0,dtick:Ze.dtick,tickvals:Ze.tickvals,ticktext:Ze.ticktext,ticks:Ze.ticks,ticklen:Ze.ticklen,tickwidth:Ze.tickwidth,tickcolor:Ze.tickcolor,showticklabels:Ze.showticklabels,labelalias:Ze.labelalias,ticklabelposition:Ze.ticklabelposition,ticklabeloverflow:Ze.ticklabeloverflow,ticklabelstep:Ze.ticklabelstep,tickfont:Ze.tickfont,tickangle:Ze.tickangle,tickformat:Ze.tickformat,exponentformat:Ze.exponentformat,minexponent:Ze.minexponent,separatethousands:Ze.separatethousands,showexponent:Ze.showexponent,showtickprefix:Ze.showtickprefix,tickprefix:Ze.tickprefix,showticksuffix:Ze.showticksuffix,ticksuffix:Ze.ticksuffix,title:Ze.title,showline:!0,anchor:"free",side:Be?"right":"bottom",position:1},ot=Be?"y":"x",$e={type:"linear",_id:ot+Ze._id},dt={letter:ot,font:it.font,noAutotickangles:ot==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:it.calendar};function mt(yt,ht){return s.coerce(je,$e,g,yt,ht)}return c(je,$e,mt,dt,it),w(je,$e,mt,dt),$e}(z,R,Se);Ke.position=Ae+(q?X+ee/be.w:se+Q/be.h);var at=["top","bottom"].indexOf(ye)!==-1;if(q&&at&&(Ke.title.side=ye,Ke.titlex=X+ee/be.w,Ke.titley=Ue+(me.side==="top"?Re-Q/be.h:Q/be.h)),q||at||(Ke.title.side=ye,Ke.titley=se+Q/be.h,Ke.titlex=Ue+ee/be.w),ve.color&&R.tickmode==="auto"){Ke.tickmode="linear",Ke.tick0=ue.start;var st=ue.size,vt=s.constrain(Ce/50,4,15)+1,xt=(Se[1]-Se[0])/((R.nticks||vt)*st);if(xt>1){var gt=Math.pow(10,Math.floor(Math.log(xt)/Math.LN10));st*=gt*s.roundUp(xt/gt,[2,5,10]),(Math.abs(ue.start)/ue.size+1e-6)%1<2e-6&&(Ke.tick0=0)}Ke.dtick=st}Ke.domain=q?[Ue+Q/be.h,Ue+Re-Q/be.h]:[Ue+ee/be.w,Ue+Re-ee/be.w],Ke.setScale(),L.attr("transform",t(Math.round(be.l),Math.round(be.t)));var nt,et=L.select("."+A.cbtitleunshift).attr("transform",t(-Math.round(be.l),-Math.round(be.t))),At=Ke.ticklabelposition,Pt=Ke.title.font.size,Rt=L.select("."+A.cbaxis),Et=0,Ye=0;function Xe(Ve,Ze){var lt={propContainer:Ke,propName:R._propPrefix+"title",traceIndex:R._traceIndex,_meta:R._meta,placeholder:de._dfltTitle.colorbar,containerGroup:L.select("."+A.cbtitle)},it=Ve.charAt(0)==="h"?Ve.substr(1):"h"+Ve;L.selectAll("."+it+",."+it+"-math-group").remove(),l.draw(z,Ve,o(lt,Ze||{}))}return s.syncOrAsync([n.previousPromises,function(){var Ve,Ze;(q&&at||!q&&!at)&&(ye==="top"&&(Ve=ee+be.l+Ne*X,Ze=Q+be.t+ge*(1-Ue-Re)+3+.75*Pt),ye==="bottom"&&(Ve=ee+be.l+Ne*X,Ze=Q+be.t+ge*(1-Ue)-3-.25*Pt),ye==="right"&&(Ze=Q+be.t+ge*se+3+.75*Pt,Ve=ee+be.l+Ne*Ue),Xe(Ke._id+"title",{attributes:{x:Ve,y:Ze,"text-anchor":q?"start":"middle"}}))},function(){if(!q&&!at||q&&at){var Ve,Ze=L.select("."+A.cbtitle),lt=Ze.select("text"),it=[-H/2,H/2],Be=Ze.select(".h"+Ke._id+"title-math-group").node(),je=15.6;if(lt.node()&&(je=parseInt(lt.node().style.fontSize,10)*m),Be?(Ve=i.bBox(Be),Ye=Ve.width,(Et=Ve.height)>je&&(it[1]-=(Et-je)/2)):lt.node()&&!lt.classed(A.jsPlaceholder)&&(Ve=i.bBox(lt.node()),Ye=Ve.width,Et=Ve.height),q){if(Et){if(Et+=5,ye==="top")Ke.domain[1]-=Et/be.h,it[1]*=-1;else{Ke.domain[0]+=Et/be.h;var ot=u.lineCount(lt);it[1]+=(1-ot)*je}Ze.attr("transform",t(it[0],it[1])),Ke.setScale()}}else Ye&&(ye==="right"&&(Ke.domain[0]+=(Ye+Pt/2)/be.w),Ze.attr("transform",t(it[0],it[1])),Ke.setScale())}L.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",q?t(0,Math.round(be.h*(1-Ke.domain[1]))):t(Math.round(be.w*Ke.domain[0]),0)),Rt.attr("transform",q?t(0,Math.round(-be.t)):t(Math.round(-be.l),0));var $e=L.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(pe);$e.enter().append("rect").classed(A.cbfill,!0).attr("style",""),$e.exit().remove();var dt=Se.map(Ke.c2p).map(Math.round).sort(function(bt,St){return bt-St});$e.each(function(bt,St){var Lt=[St===0?Se[0]:(pe[St]+pe[St-1])/2,St===pe.length-1?Se[1]:(pe[St]+pe[St+1])/2].map(Ke.c2p).map(Math.round);q&&(Lt[1]=s.constrain(Lt[1]+(Lt[1]>Lt[0])?1:-1,dt[0],dt[1]));var Ot=p.select(this).attr(q?"x":"y",Me).attr(q?"y":"x",p.min(Lt)).attr(q?"width":"height",Math.max(Te,2)).attr(q?"height":"width",Math.max(p.max(Lt)-p.min(Lt),2));if(R._fillgradient)i.gradient(Ot,z,R._id,q?"vertical":"horizontalreversed",R._fillgradient,"fill");else{var Ft=xe(bt).replace("e-","");Ot.attr("fill",y(Ft).toHexString())}});var mt=L.select("."+A.cblines).selectAll("path."+A.cbline).data(ve.color&&ve.width?De:[]);mt.enter().append("path").classed(A.cbline,!0),mt.exit().remove(),mt.each(function(bt){var St=Me,Lt=Math.round(Ke.c2p(bt))+ve.width/2%1;p.select(this).attr("d","M"+(q?St+","+Lt:Lt+","+St)+(q?"h":"v")+Te).call(i.lineGroupStyle,ve.width,Ie(bt),ve.dash)}),Rt.selectAll("g."+Ke._id+"tick,path").remove();var yt=Me+Te+(H||0)/2-(R.ticks==="outside"?1:0),ht=b.calcTicks(Ke),kt=b.getTickSigns(Ke)[2];return b.drawTicks(z,Ke,{vals:Ke.ticks==="inside"?b.clipEnds(Ke,ht):ht,layer:Rt,path:b.makeTickPath(Ke,yt,kt),transFn:b.makeTransTickFn(Ke)}),b.drawLabels(z,Ke,{vals:ht,layer:Rt,transFn:b.makeTransTickLabelFn(Ke),labelFns:b.makeLabelFns(Ke,yt)})},function(){if(q&&!at||!q&&at){var Ve,Ze,lt=Ke.position||0,it=Ke._offset+Ke._length/2;if(ye==="right")Ze=it,Ve=be.l+Ne*lt+10+Pt*(Ke.showticklabels?1:.5);else if(Ve=it,ye==="bottom"&&(Ze=be.t+ge*lt+10+(At.indexOf("inside")===-1?Ke.tickfont.size:0)+(Ke.ticks!=="intside"&&R.ticklen||0)),ye==="top"){var Be=me.text.split("<br>").length;Ze=be.t+ge*lt+10-Te-m*Pt*Be}Xe((q?"h":"v")+Ke._id+"title",{avoid:{selection:p.select(z).selectAll("g."+Ke._id+"tick"),side:ye,offsetTop:q?0:be.t,offsetLeft:q?be.l:0,maxShift:q?de.width:de.height},attributes:{x:Ve,y:Ze,"text-anchor":"middle"},transform:{rotate:q?-90:0,offset:0}})}},n.previousPromises,function(){var Ve,Ze=Te+H/2;At.indexOf("inside")===-1&&(Ve=i.bBox(Rt.node()),Ze+=q?Ve.width:Ve.height),nt=et.select("text");var lt=0,it=q&&ye==="top",Be=!q&&ye==="right",je=0;if(nt.node()&&!nt.classed(A.jsPlaceholder)){var ot,$e=et.select(".h"+Ke._id+"title-math-group").node();$e&&(q&&at||!q&&!at)?(lt=(Ve=i.bBox($e)).width,ot=Ve.height):(lt=(Ve=i.bBox(et.node())).right-be.l-(q?Me:Ge),ot=Ve.bottom-be.t-(q?Ge:Me),q||ye!=="top"||(Ze+=Ve.height,je=Ve.height)),Be&&(nt.attr("transform",t(lt/2+Pt/2,0)),lt*=2),Ze=Math.max(Ze,q?lt:ot)}var dt=2*(q?ee:Q)+Ze+Y+H/2,mt=0;!q&&me.text&&ne==="bottom"&&se<=0&&(dt+=mt=dt/2,je+=mt),de._hColorbarMoveTitle=mt,de._hColorbarMoveCBTitle=je;var yt=Y+H,ht=(q?Me:Ge)-yt/2-(q?ee:0),kt=(q?Ge:Me)-(q?Ce:Q+je-mt);L.select("."+A.cbbg).attr("x",ht).attr("y",kt).attr(q?"width":"height",Math.max(dt-mt,2)).attr(q?"height":"width",Math.max(Ce+yt,2)).call(a.fill,ie).call(a.stroke,R.bordercolor).style("stroke-width",Y);var bt=Be?Math.max(lt-10,0):0;L.selectAll("."+A.cboutline).attr("x",(q?Me:Ge+ee)+bt).attr("y",(q?Ge+Q-Ce:Me)+(it?Et:0)).attr(q?"width":"height",Math.max(Te,2)).attr(q?"height":"width",Math.max(Ce-(q?2*Q+Et:2*ee+bt),2)).call(a.stroke,R.outlinecolor).style({fill:"none","stroke-width":H});var St=q?Ee*dt:0,Lt=q?0:(1-Fe)*dt-je;if(St=le?be.l-St:-St,Lt=ce?be.t-Lt:-Lt,L.attr("transform",t(St,Lt)),!q&&(Y||y(ie).getAlpha()&&!y.equals(de.paper_bgcolor,ie))){var Ot=Rt.selectAll("text"),Ft=Ot[0].length,$t=L.select("."+A.cbbg).node(),on=i.bBox($t),Ht=i.getTranslate(L);Ot.each(function(bn,wn){var En=Ft-1;if(wn===0||wn===En){var Dn,kn=i.bBox(this),Bn=i.getTranslate(this);if(wn===En){var Rn=kn.right+Bn.x;(Dn=on.right+Ht.x+Ge-Y-2+X-Rn)>0&&(Dn=0)}else if(wn===0){var Kn=kn.left+Bn.x;(Dn=on.left+Ht.x+Ge+Y+2-Kn)<0&&(Dn=0)}Dn&&(Ft<3?this.setAttribute("transform","translate("+Dn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Zt={},jt=T[re],Ln=_[re],Tn=T[ne],gn=_[ne],Qt=dt-Te;q?(V==="pixels"?(Zt.y=se,Zt.t=Ce*Tn,Zt.b=Ce*gn):(Zt.t=Zt.b=0,Zt.yt=se+N*Tn,Zt.yb=se-N*gn),j==="pixels"?(Zt.x=X,Zt.l=dt*jt,Zt.r=dt*Ln):(Zt.l=Qt*jt,Zt.r=Qt*Ln,Zt.xl=X-Z*jt,Zt.xr=X+Z*Ln)):(V==="pixels"?(Zt.x=X,Zt.l=Ce*jt,Zt.r=Ce*Ln):(Zt.l=Zt.r=0,Zt.xl=X+N*jt,Zt.xr=X-N*Ln),j==="pixels"?(Zt.y=1-se,Zt.t=dt*Tn,Zt.b=dt*gn):(Zt.t=Qt*Tn,Zt.b=Qt*gn,Zt.yt=se-Z*Tn,Zt.yb=se+Z*gn));var cn=R.y<.5?"b":"t",nn=R.x<.5?"l":"r";z._fullLayout._reservedMargin[R._id]={};var hn={r:de.width-ht-St,l:ht+Zt.r,b:de.height-kt-Lt,t:kt+Zt.b};le&&ce?n.autoMargin(z,R._id,Zt):le?z._fullLayout._reservedMargin[R._id][cn]=hn[cn]:ce||q?z._fullLayout._reservedMargin[R._id][nn]=hn[nn]:z._fullLayout._reservedMargin[R._id][cn]=hn[cn]}],z)}(D,k,d);O&&O.then&&(d._promises||[]).push(O),d._context.edits.colorbarPosition&&function(L,R,z){var q,N,V,Z=R.orientation==="v",j=z._fullLayout._size;f.init({element:L.node(),gd:z,prepFn:function(){q=L.attr("transform"),r(L)},moveFn:function(H,Y){L.attr("transform",q+t(H,Y)),N=f.align((Z?R._uFrac:R._vFrac)+H/j.w,Z?R._thickFrac:R._lenFrac,0,1,R.xanchor),V=f.align((Z?R._vFrac:1-R._uFrac)-Y/j.h,Z?R._lenFrac:R._thickFrac,0,1,R.yanchor);var ie=f.getCursor(N,V,R.xanchor,R.yanchor);r(L,ie)},doneFn:function(){if(r(L),N!==void 0&&V!==void 0){var H={};H[R._propPrefix+"x"]=N,H[R._propPrefix+"y"]=V,R._traceIndex!==void 0?M.call("_guiRestyle",z,H,R._traceIndex):M.call("_guiRelayout",z,H)}}})}(D,k,d)}),C.exit().each(function(k){n.autoMargin(d,k._id)}).remove(),C.order()}}},90553:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y){return p.isPlainObject(y.colorbar)}},55080:function(S,x,e){"use strict";S.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(S,x,e){"use strict";var p=e(42996),y=e(53756).counter,n=e(95376),M=e(88304).scales;function b(f){return"`"+f+"`"}n(M),S.exports=function(f,s){f=f||"";var t,o=(s=s||{}).cLetter||"c",r=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:f==="marker.line"),i="showScaleDflt"in s?s.showScaleDflt:o==="z",a=typeof s.colorscaleDflt=="string"?M[s.colorscaleDflt]:null,l=s.editTypeOverride||"",u=f?f+".":"";"colorAttr"in s?(t=s.colorAttr,s.colorAttr):b(u+(t={z:"z",c:"color"}[o]));var h=o+"auto",c=o+"min",w=o+"max",g=o+"mid",v=(b(u+h),b(u+c),b(u+w),{});v[c]=v[w]=void 0;var m={};m[h]=!1;var T={};return t==="color"&&(T.color={valType:"color",arrayOk:!0,editType:l||"style"},s.anim&&(T.color.anim=!0)),T[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},T[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:m},T[w]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:m},T[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},T.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},T.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},T.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(T.showscale={valType:"boolean",dflt:i,editType:"calc"},T.colorbar=p),s.noColorAxis||(T.coloraxis={valType:"subplotid",regex:y("coloraxis"),dflt:null,editType:"calc"}),T}},47128:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(94288).extractOpts;S.exports=function(M,b,f){var s,t=M._fullLayout,o=f.vals,r=f.containerStr,i=r?y.nestedProperty(b,r).get():b,a=n(i),l=a.auto!==!1,u=a.min,h=a.max,c=a.mid,w=function(){return y.aggNums(Math.min,null,o)},g=function(){return y.aggNums(Math.max,null,o)};u===void 0?u=w():l&&(u=i._colorAx&&p(u)?Math.min(u,w()):w()),h===void 0?h=g():l&&(h=i._colorAx&&p(h)?Math.max(h,g()):g()),l&&c!==void 0&&(h-c>c-u?u=c-(h-c):h-c<c-u&&(h=c+(c-u))),u===h&&(u-=.5,h+=.5),a._sync("min",u),a._sync("max",h),a.autocolorscale&&(s=u*h<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,a._sync("colorscale",s))}},95504:function(S,x,e){"use strict";var p=e(3400),y=e(94288).hasColorscale,n=e(94288).extractOpts;S.exports=function(M,b){function f(l,u){var h=l["_"+u];h!==void 0&&(l[u]=h)}function s(l,u){var h=u.container?p.nestedProperty(l,u.container).get():l;if(h)if(h.coloraxis)h._colorAx=b[h.coloraxis];else{var c=n(h),w=c.auto;(w||c.min===void 0)&&f(h,u.min),(w||c.max===void 0)&&f(h,u.max),c.autocolorscale&&f(h,"colorscale")}}for(var t=0;t<M.length;t++){var o=M[t],r=o._module.colorbar;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++)s(o,r[i]);else s(o,r);y(o,"marker.line")&&s(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var a in b._colorAxes)s(b[a],{min:"cmin",max:"cmax"})}},27260:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(90553),M=e(64013),b=e(88304).isValid,f=e(24040).traceIs;function s(t,o){var r=o.slice(0,o.length-1);return o?y.nestedProperty(t,r).get()||{}:t}S.exports=function t(o,r,i,a,l){var u=l.prefix,h=l.cLetter,c="_module"in r,w=s(o,u),g=s(r,u),v=s(r._template||{},u)||{},m=function(){return delete o.coloraxis,delete r.coloraxis,t(o,r,i,a,l)};if(c){var T=i._colorAxes||{},_=a(u+"coloraxis");if(_){var A=f(r,"contour")&&y.nestedProperty(r,"contours.coloring").get()||"heatmap",d=T[_];return void(d?(d[2].push(m),d[0]!==A&&(d[0]=!1,y.warn(["Ignoring coloraxis:",_,"setting","as it is linked to incompatible colorscales."].join(" ")))):T[_]=[A,r,[m]])}}var C=w[h+"min"],k=w[h+"max"],D=p(C)&&p(k)&&C<k;a(u+h+"auto",!D)?a(u+h+"mid"):(a(u+h+"min"),a(u+h+"max"));var O,L,R=w.colorscale,z=v.colorscale;R!==void 0&&(O=!b(R)),z!==void 0&&(O=!b(z)),a(u+"autocolorscale",O),a(u+"colorscale"),a(u+"reversescale"),u!=="marker.line."&&(u&&c&&(L=n(w)),a(u+"showscale",L)&&(u&&v&&(g._template=v),M(w,g,i)))}},94288:function(S,x,e){"use strict";var p=e(33428),y=e(49760),n=e(38248),M=e(3400),b=e(76308),f=e(88304).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function o(u){var h,c,w,g=u._colorAx,v=g||u,m={};for(c=0;c<s.length;c++)m[w=s[c]]=v[w];if(g)for(h="c",c=0;c<t.length;c++)m[w=t[c]]=v["c"+w];else{var T;for(c=0;c<t.length;c++)((T="c"+(w=t[c]))in v||(T="z"+w)in v)&&(m[w]=v[T]);h=T.charAt(0)}return m._sync=function(_,A){var d=t.indexOf(_)!==-1?h+_:_;v[d]=v["_"+d]=A},m}function r(u){for(var h=o(u),c=h.min,w=h.max,g=h.reversescale?i(h.colorscale):h.colorscale,v=g.length,m=new Array(v),T=new Array(v),_=0;_<v;_++){var A=g[_];m[_]=c+A[0]*(w-c),T[_]=A[1]}return{domain:m,range:T}}function i(u){for(var h=u.length,c=new Array(h),w=h-1,g=0;w>=0;w--,g++){var v=u[w];c[g]=[1-v[0],v[1]]}return c}function a(u,h){h=h||{};for(var c=u.domain,w=u.range,g=w.length,v=new Array(g),m=0;m<g;m++){var T=y(w[m]).toRgb();v[m]=[T.r,T.g,T.b,T.a]}var _,A=p.scale.linear().domain(c).range(v).clamp(!0),d=h.noNumericCheck,C=h.returnArray;return(_=d&&C?A:d?function(k){return l(A(k))}:C?function(k){return n(k)?A(k):y(k).isValid()?k:b.defaultLine}:function(k){return n(k)?l(A(k)):y(k).isValid()?k:b.defaultLine}).domain=A.domain,_.range=function(){return w},_}function l(u){var h={r:u[0],g:u[1],b:u[2],a:u[3]};return y(h).toRgbString()}S.exports={hasColorscale:function(u,h,c){var w=h?M.nestedProperty(u,h).get()||{}:u,g=w[c||"color"];g&&g._inputArray&&(g=g._inputArray);var v=!1;if(M.isArrayOrTypedArray(g)){for(var m=0;m<g.length;m++)if(n(g[m])){v=!0;break}}return M.isPlainObject(w)&&(v||w.showscale===!0||n(w.cmin)&&n(w.cmax)||f(w.colorscale)||M.isPlainObject(w.colorbar))},extractOpts:o,extractScale:r,flipScale:i,makeColorScaleFunc:a,makeColorScaleFuncFromTrace:function(u,h){return a(r(u),h)}}},8932:function(S,x,e){"use strict";var p=e(88304),y=e(94288);S.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:y.hasColorscale,extractOpts:y.extractOpts,extractScale:y.extractScale,flipScale:y.flipScale,makeColorScaleFunc:y.makeColorScaleFunc,makeColorScaleFuncFromTrace:y.makeColorScaleFuncFromTrace}},92332:function(S,x,e){"use strict";var p=e(92880).extendFlat,y=e(49084),n=e(88304).scales;S.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},y("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(S,x,e){"use strict";var p=e(3400),y=e(31780),n=e(92332),M=e(27260);S.exports=function(b,f){function s(h,c){return p.coerce(b,f,n,h,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,o,r=f._colorAxes;function i(h,c){return p.coerce(t,o,n.coloraxis,h,c)}for(var a in r){var l=r[a];if(l[0])t=b[a]||{},(o=y.newContainer(f,a,"coloraxis"))._name=a,M(t,o,f,i,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete f._colorAxes[a]}}}},88304:function(S,x,e){"use strict";var p=e(49760),y={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=y.RdBu;function M(b){var f=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||+b[0][0]!=0||+b[b.length-1][0]!=1)return!1;for(var s=0;s<b.length;s++){var t=b[s];if(t.length!==2||+t[0]<f||!p(t[1]).isValid())return!1;f=+t[0]}return!0}S.exports={scales:y,defaultScale:n,get:function(b,f){if(f||(f=n),!b)return f;function s(){try{b=y[b]||JSON.parse(b)}catch{b=f}}return typeof b=="string"&&(s(),typeof b=="string"&&s()),M(b)?b:f},isValid:function(b){return y[b]!==void 0||M(b)}}},78316:function(S){"use strict";S.exports=function(x,e,p,y,n){var M=(x-p)/(y-p),b=M+e/(y-p),f=(M+b)/2;return n==="left"||n==="bottom"?M:n==="center"||n==="middle"?f:n==="right"||n==="top"?b:M<.6666666666666666-f?M:b>1.3333333333333333-f?b:f}},67416:function(S,x,e){"use strict";var p=e(3400),y=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];S.exports=function(n,M,b,f){return n=b==="left"?0:b==="center"?1:b==="right"?2:p.constrain(Math.floor(3*n),0,2),M=f==="bottom"?0:f==="middle"?1:f==="top"?2:p.constrain(Math.floor(3*M),0,2),y[M][n]}},72760:function(S,x){"use strict";x.selectMode=function(e){return e==="lasso"||e==="select"},x.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},x.openMode=function(e){return e==="drawline"||e==="drawopenpath"},x.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},x.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},x.selectingOrDrawing=function(e){return x.freeMode(e)||x.rectMode(e)}},86476:function(S,x,e){"use strict";var p=e(29128),y=e(52264),n=e(89184),M=e(3400).removeElement,b=e(33816),f=S.exports={};f.align=e(78316),f.getCursor=e(67416);var s=e(2616);function t(){var r=document.createElement("div");r.className="dragcover";var i=r.style;return i.position="fixed",i.left=0,i.right=0,i.top=0,i.bottom=0,i.zIndex=999999999,i.background="none",document.body.appendChild(r),r}function o(r){return p(r.changedTouches?r.changedTouches[0]:r,document.body)}f.unhover=s.wrapped,f.unhoverRaw=s.raw,f.init=function(r){var i,a,l,u,h,c,w,g,v=r.gd,m=1,T=v._context.doubleClickDelay,_=r.element;v._mouseDownTime||(v._mouseDownTime=0),_.style.pointerEvents="all",_.onmousedown=d,n?(_._ontouchstart&&_.removeEventListener("touchstart",_._ontouchstart),_._ontouchstart=d,_.addEventListener("touchstart",d,{passive:!1})):_.ontouchstart=d;var A=r.clampFn||function(D,O,L){return Math.abs(D)<L&&(D=0),Math.abs(O)<L&&(O=0),[D,O]};function d(D){v._dragged=!1,v._dragging=!0;var O=o(D);i=O[0],a=O[1],w=D.target,c=D,g=D.buttons===2||D.ctrlKey,D.clientX===void 0&&D.clientY===void 0&&(D.clientX=i,D.clientY=a),(l=new Date().getTime())-v._mouseDownTime<T?m+=1:(m=1,v._mouseDownTime=l),r.prepFn&&r.prepFn(D,i,a),y&&!g?(h=t()).style.cursor=window.getComputedStyle(_).cursor:y||(h=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(_).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),r.dragmode!==!1&&(D.preventDefault(),document.addEventListener("mousemove",C),document.addEventListener("touchmove",C,{passive:!1}))}function C(D){D.preventDefault();var O=o(D),L=r.minDrag||b.MINDRAG,R=A(O[0]-i,O[1]-a,L),z=R[0],q=R[1];(z||q)&&(v._dragged=!0,f.unhover(v,D)),v._dragged&&r.moveFn&&!g&&(v._dragdata={element:_,dx:z,dy:q},r.moveFn(z,q))}function k(D){if(delete v._dragdata,r.dragmode!==!1&&(D.preventDefault(),document.removeEventListener("mousemove",C),document.removeEventListener("touchmove",C)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),y?M(h):u&&(h.documentElement.style.cursor=u,u=null),v._dragging){if(v._dragging=!1,new Date().getTime()-v._mouseDownTime>T&&(m=Math.max(m-1,1)),v._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(m,c),!g){var O;try{O=new MouseEvent("click",D)}catch{var L=o(D);(O=document.createEvent("MouseEvents")).initMouseEvent("click",D.bubbles,D.cancelable,D.view,D.detail,D.screenX,D.screenY,L[0],L[1],D.ctrlKey,D.altKey,D.shiftKey,D.metaKey,D.button,D.relatedTarget)}w.dispatchEvent(O)}v._dragging=!1,v._dragged=!1}else v._dragged=!1}},f.coverSlip=t},2616:function(S,x,e){"use strict";var p=e(95924),y=e(91200),n=e(52200).getGraphDiv,M=e(92456),b=S.exports={};b.wrapped=function(f,s,t){(f=n(f))._fullLayout&&y.clear(f._fullLayout._uid+M.HOVERID),b.raw(f,s,t)},b.raw=function(f,s){var t=f._fullLayout,o=f._hoverdata;s||(s={}),s.target&&!f._dragged&&p.triggerHandler(f,"plotly_beforehover",s)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),f._hoverdata=void 0,s.target&&o&&f.emit("plotly_unhover",{event:s,points:o}))}},98192:function(S,x){"use strict";x.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},x.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=y.numberFormat,M=e(38248),b=e(49760),f=e(24040),s=e(76308),t=e(8932),o=y.strTranslate,r=e(72736),i=e(9616),a=e(84284).LINE_SPACING,l=e(13448).DESELECTDIM,u=e(43028),h=e(7152),c=e(10624).appendArrayPointValue,w=S.exports={};function g(xe){return xe==="none"?void 0:xe}w.font=function(xe,ue){var ae=ue.variant,pe=ue.style,De=ue.weight,Te=ue.color,Ae=ue.size,Ce=ue.family,Re=ue.shadow,Ne=ue.lineposition,ge=ue.textcase;Ce&&xe.style("font-family",Ce),Ae+1&&xe.style("font-size",Ae+"px"),Te&&xe.call(s.fill,Te),De&&xe.style("font-weight",De),pe&&xe.style("font-style",pe),ae&&xe.style("font-variant",ae),ge&&xe.style("text-transform",g(function(Me){return v[Me]}(ge))),Re&&xe.style("text-shadow",Re==="auto"?r.makeTextShadow(s.contrast(Te)):g(Re)),Ne&&xe.style("text-decoration-line",g(function(Me){return Me.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(Ne)))};var v={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function m(xe,ue,ae,pe){var De=ue.fillpattern,Te=ue.fillgradient,Ae=De&&w.getPatternAttr(De.shape,0,"");if(Ae){var Ce=w.getPatternAttr(De.bgcolor,0,null),Re=w.getPatternAttr(De.fgcolor,0,null),Ne=De.fgopacity,ge=w.getPatternAttr(De.size,0,8),Me=w.getPatternAttr(De.solidity,0,.3),Ee=ue.uid;w.pattern(xe,"point",ae,Ee,Ae,ge,Me,void 0,De.fillmode,Ce,Re,Ne)}else if(Te&&Te.type!=="none"){var Fe,Le,Ue=Te.type,Ge="scatterfill-"+ue.uid;pe&&(Ge="legendfill-"+ue.uid),pe||Te.start===void 0&&Te.stop===void 0?(Ue==="horizontal"&&(Ue+="reversed"),xe.call(w.gradient,ae,Ge,Ue,Te.colorscale,"fill")):(Ue==="horizontal"?(Fe={x:Te.start,y:0},Le={x:Te.stop,y:0}):Ue==="vertical"&&(Fe={x:0,y:Te.start},Le={x:0,y:Te.stop}),Fe.x=ue._xA.c2p(Fe.x===void 0?ue._extremes.x.min[0].val:Fe.x,!0),Fe.y=ue._yA.c2p(Fe.y===void 0?ue._extremes.y.min[0].val:Fe.y,!0),Le.x=ue._xA.c2p(Le.x===void 0?ue._extremes.x.max[0].val:Le.x,!0),Le.y=ue._yA.c2p(Le.y===void 0?ue._extremes.y.max[0].val:Le.y,!0),xe.call(k,ae,Ge,"linear",Te.colorscale,"fill",Fe,Le,!0,!1))}else ue.fillcolor&&xe.call(s.fill,ue.fillcolor)}w.setPosition=function(xe,ue,ae){xe.attr("x",ue).attr("y",ae)},w.setSize=function(xe,ue,ae){xe.attr("width",ue).attr("height",ae)},w.setRect=function(xe,ue,ae,pe,De){xe.call(w.setPosition,ue,ae).call(w.setSize,pe,De)},w.translatePoint=function(xe,ue,ae,pe){var De=ae.c2p(xe.x),Te=pe.c2p(xe.y);return!!(M(De)&&M(Te)&&ue.node())&&(ue.node().nodeName==="text"?ue.attr("x",De).attr("y",Te):ue.attr("transform",o(De,Te)),!0)},w.translatePoints=function(xe,ue,ae){xe.each(function(pe){var De=p.select(this);w.translatePoint(pe,De,ue,ae)})},w.hideOutsideRangePoint=function(xe,ue,ae,pe,De,Te){ue.attr("display",ae.isPtWithinRange(xe,De)&&pe.isPtWithinRange(xe,Te)?null:"none")},w.hideOutsideRangePoints=function(xe,ue){if(ue._hasClipOnAxisFalse){var ae=ue.xaxis,pe=ue.yaxis;xe.each(function(De){var Te=De[0].trace,Ae=Te.xcalendar,Ce=Te.ycalendar,Re=f.traceIs(Te,"bar-like")?".bartext":".point,.textpoint";xe.selectAll(Re).each(function(Ne){w.hideOutsideRangePoint(Ne,p.select(this),ae,pe,Ae,Ce)})})}},w.crispRound=function(xe,ue,ae){return ue&&M(ue)?xe._context.staticPlot?ue:ue<1?1:Math.round(ue):ae||0},w.singleLineStyle=function(xe,ue,ae,pe,De){ue.style("fill","none");var Te=(((xe||[])[0]||{}).trace||{}).line||{},Ae=ae||Te.width||0,Ce=De||Te.dash||"";s.stroke(ue,pe||Te.color),w.dashLine(ue,Ce,Ae)},w.lineGroupStyle=function(xe,ue,ae,pe){xe.style("fill","none").each(function(De){var Te=(((De||[])[0]||{}).trace||{}).line||{},Ae=ue||Te.width||0,Ce=pe||Te.dash||"";p.select(this).call(s.stroke,ae||Te.color).call(w.dashLine,Ce,Ae)})},w.dashLine=function(xe,ue,ae){ae=+ae||0,ue=w.dashStyle(ue,ae),xe.style({"stroke-dasharray":ue,"stroke-width":ae+"px"})},w.dashStyle=function(xe,ue){ue=+ue||1;var ae=Math.max(ue,3);return xe==="solid"?xe="":xe==="dot"?xe=ae+"px,"+ae+"px":xe==="dash"?xe=3*ae+"px,"+3*ae+"px":xe==="longdash"?xe=5*ae+"px,"+5*ae+"px":xe==="dashdot"?xe=3*ae+"px,"+ae+"px,"+ae+"px,"+ae+"px":xe==="longdashdot"&&(xe=5*ae+"px,"+2*ae+"px,"+ae+"px,"+2*ae+"px"),xe},w.singleFillStyle=function(xe,ue){var ae=p.select(xe.node());m(xe,((ae.data()[0]||[])[0]||{}).trace||{},ue,!1)},w.fillGroupStyle=function(xe,ue,ae){xe.style("stroke-width",0).each(function(pe){var De=p.select(this);pe[0].trace&&m(De,pe[0].trace,ue,ae)})};var T=e(71984);w.symbolNames=[],w.symbolFuncs=[],w.symbolBackOffs=[],w.symbolNeedLines={},w.symbolNoDot={},w.symbolNoFill={},w.symbolList=[],Object.keys(T).forEach(function(xe){var ue=T[xe],ae=ue.n;w.symbolList.push(ae,String(ae),xe,ae+100,String(ae+100),xe+"-open"),w.symbolNames[ae]=xe,w.symbolFuncs[ae]=ue.f,w.symbolBackOffs[ae]=ue.backoff||0,ue.needLine&&(w.symbolNeedLines[ae]=!0),ue.noDot?w.symbolNoDot[ae]=!0:w.symbolList.push(ae+200,String(ae+200),xe+"-dot",ae+300,String(ae+300),xe+"-open-dot"),ue.noFill&&(w.symbolNoFill[ae]=!0)});var _=w.symbolNames.length;function A(xe,ue,ae,pe){var De=xe%100;return w.symbolFuncs[De](ue,ae,pe)+(xe>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}w.symbolNumber=function(xe){if(M(xe))xe=+xe;else if(typeof xe=="string"){var ue=0;xe.indexOf("-open")>0&&(ue=100,xe=xe.replace("-open","")),xe.indexOf("-dot")>0&&(ue+=200,xe=xe.replace("-dot","")),(xe=w.symbolNames.indexOf(xe))>=0&&(xe+=ue)}return xe%100>=_||xe>=400?0:Math.floor(Math.max(xe,0))};var d=n("~f"),C={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function k(xe,ue,ae,pe,De,Te,Ae,Ce,Re,Ne){var ge,Me=De.length;pe==="linear"?ge={node:"linearGradient",attrs:{x1:Ae.x,y1:Ae.y,x2:Ce.x,y2:Ce.y,gradientUnits:Re?"userSpaceOnUse":"objectBoundingBox"},reversed:Ne}:pe==="radial"&&(ge={node:"radialGradient",reversed:Ne});for(var Ee=new Array(Me),Fe=0;Fe<Me;Fe++)ge.reversed?Ee[Me-1-Fe]=[d(100*(1-De[Fe][0])),De[Fe][1]]:Ee[Fe]=[d(100*De[Fe][0]),De[Fe][1]];var Le=ue._fullLayout,Ue="g"+Le._uid+"-"+ae,Ge=Le._defs.select(".gradients").selectAll("#"+Ue).data([pe+Ee.join(";")],y.identity);Ge.exit().remove(),Ge.enter().append(ge.node).each(function(){var Ke=p.select(this);ge.attrs&&Ke.attr(ge.attrs),Ke.attr("id",Ue);var at=Ke.selectAll("stop").data(Ee);at.exit().remove(),at.enter().append("stop"),at.each(function(st){var vt=b(st[1]);p.select(this).attr({offset:st[0]+"%","stop-color":s.tinyRGB(vt),"stop-opacity":vt.getAlpha()})})}),xe.style(Te,ne(Ue,ue)).style(Te+"-opacity",null),xe.classed("gradient_filled",!0)}w.gradient=function(xe,ue,ae,pe,De,Te){var Ae=C[pe];return k(xe,ue,ae,Ae.type,De,Te,Ae.start,Ae.stop,!1,Ae.reversed)},w.pattern=function(xe,ue,ae,pe,De,Te,Ae,Ce,Re,Ne,ge,Me){var Ee=ue==="legend";Ce&&(Re==="overlay"?(Ne=Ce,ge=s.contrast(Ne)):(Ne=void 0,ge=Ce));var Fe,Le,Ue,Ge,Ke,at,st,vt,xt,gt=ae._fullLayout,nt="p"+gt._uid+"-"+pe,et={},At=b(ge),Pt=s.tinyRGB(At),Rt=Me*At.getAlpha();switch(De){case"/":Fe=Te*Math.sqrt(2),Le=Te*Math.sqrt(2),at="path",et={d:Ue="M-"+Fe/4+","+Le/4+"l"+Fe/2+",-"+Le/2+"M0,"+Le+"L"+Fe+",0M"+Fe/4*3+","+Le/4*5+"l"+Fe/2+",-"+Le/2,opacity:Rt,stroke:Pt,"stroke-width":(Ge=Ae*Te)+"px"};break;case"\\":Fe=Te*Math.sqrt(2),Le=Te*Math.sqrt(2),at="path",et={d:Ue="M"+Fe/4*3+",-"+Le/4+"l"+Fe/2+","+Le/2+"M0,0L"+Fe+","+Le+"M-"+Fe/4+","+Le/4*3+"l"+Fe/2+","+Le/2,opacity:Rt,stroke:Pt,"stroke-width":(Ge=Ae*Te)+"px"};break;case"x":Fe=Te*Math.sqrt(2),Le=Te*Math.sqrt(2),Ue="M-"+Fe/4+","+Le/4+"l"+Fe/2+",-"+Le/2+"M0,"+Le+"L"+Fe+",0M"+Fe/4*3+","+Le/4*5+"l"+Fe/2+",-"+Le/2+"M"+Fe/4*3+",-"+Le/4+"l"+Fe/2+","+Le/2+"M0,0L"+Fe+","+Le+"M-"+Fe/4+","+Le/4*3+"l"+Fe/2+","+Le/2,Ge=Te-Te*Math.sqrt(1-Ae),at="path",et={d:Ue,opacity:Rt,stroke:Pt,"stroke-width":Ge+"px"};break;case"|":at="path",at="path",et={d:Ue="M"+(Fe=Te)/2+",0L"+Fe/2+","+(Le=Te),opacity:Rt,stroke:Pt,"stroke-width":(Ge=Ae*Te)+"px"};break;case"-":at="path",at="path",et={d:Ue="M0,"+(Le=Te)/2+"L"+(Fe=Te)+","+Le/2,opacity:Rt,stroke:Pt,"stroke-width":(Ge=Ae*Te)+"px"};break;case"+":at="path",Ue="M"+(Fe=Te)/2+",0L"+Fe/2+","+(Le=Te)+"M0,"+Le/2+"L"+Fe+","+Le/2,Ge=Te-Te*Math.sqrt(1-Ae),at="path",et={d:Ue,opacity:Rt,stroke:Pt,"stroke-width":Ge+"px"};break;case".":Fe=Te,Le=Te,Ae<Math.PI/4?Ke=Math.sqrt(Ae*Te*Te/Math.PI):(st=Ae,vt=Math.PI/4,Ke=(xt=Te/2)+(Te/Math.sqrt(2)-xt)*(st-vt)/(1-vt)),at="circle",et={cx:Fe/2,cy:Le/2,r:Ke,opacity:Rt,fill:Pt}}var Et=[De||"noSh",Ne||"noBg",ge||"noFg",Te,Ae].join(";"),Ye=gt._defs.select(".patterns").selectAll("#"+nt).data([Et],y.identity);Ye.exit().remove(),Ye.enter().append("pattern").each(function(){var Xe=p.select(this);if(Xe.attr({id:nt,width:Fe+"px",height:Le+"px",patternUnits:"userSpaceOnUse",patternTransform:Ee?"scale(0.8)":""}),Ne){var Ve=b(Ne),Ze=s.tinyRGB(Ve),lt=Ve.getAlpha(),it=Xe.selectAll("rect").data([0]);it.exit().remove(),it.enter().append("rect").attr({width:Fe+"px",height:Le+"px",fill:Ze,"fill-opacity":lt})}var Be=Xe.selectAll(at).data([0]);Be.exit().remove(),Be.enter().append(at).attr(et)}),xe.style("fill",ne(nt,ae)).style("fill-opacity",null),xe.classed("pattern_filled",!0)},w.initGradients=function(xe){var ue=xe._fullLayout;y.ensureSingle(ue._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),p.select(xe).selectAll(".gradient_filled").classed("gradient_filled",!1)},w.initPatterns=function(xe){var ue=xe._fullLayout;y.ensureSingle(ue._defs,"g","patterns").selectAll("pattern").remove(),p.select(xe).selectAll(".pattern_filled").classed("pattern_filled",!1)},w.getPatternAttr=function(xe,ue,ae){return xe&&y.isArrayOrTypedArray(xe)?ue<xe.length?xe[ue]:ae:xe},w.pointStyle=function(xe,ue,ae,pe){if(xe.size()){var De=w.makePointStyleFns(ue);xe.each(function(Te){w.singlePointStyle(Te,p.select(this),ue,De,ae,pe)})}},w.singlePointStyle=function(xe,ue,ae,pe,De,Te){var Ae=ae.marker,Ce=Ae.line;if(Te&&Te.i>=0&&xe.i===void 0&&(xe.i=Te.i),ue.style("opacity",pe.selectedOpacityFn?pe.selectedOpacityFn(xe):xe.mo===void 0?Ae.opacity:xe.mo),pe.ms2mrc){var Re;Re=xe.ms==="various"||Ae.size==="various"?3:pe.ms2mrc(xe.ms),xe.mrc=Re,pe.selectedSizeFn&&(Re=xe.mrc=pe.selectedSizeFn(xe));var Ne=w.symbolNumber(xe.mx||Ae.symbol)||0;xe.om=Ne%200>=100;var ge=Ie(xe,ae),Me=X(xe,ae);ue.attr("d",A(Ne,Re,ge,Me))}var Ee,Fe,Le,Ue=!1;if(xe.so)Le=Ce.outlierwidth,Fe=Ce.outliercolor,Ee=Ae.outliercolor;else{var Ge=(Ce||{}).width;Le=(xe.mlw+1||Ge+1||(xe.trace?(xe.trace.marker.line||{}).width:0)+1)-1||0,Fe="mlc"in xe?xe.mlcc=pe.lineScale(xe.mlc):y.isArrayOrTypedArray(Ce.color)?s.defaultLine:Ce.color,y.isArrayOrTypedArray(Ae.color)&&(Ee=s.defaultLine,Ue=!0),Ee="mc"in xe?xe.mcc=pe.markerScale(xe.mc):Ae.color||Ae.colors||"rgba(0,0,0,0)",pe.selectedColorFn&&(Ee=pe.selectedColorFn(xe))}if(xe.om)ue.call(s.stroke,Ee).style({"stroke-width":(Le||1)+"px",fill:"none"});else{ue.style("stroke-width",(xe.isBlank?0:Le)+"px");var Ke=Ae.gradient,at=xe.mgt;at?Ue=!0:at=Ke&&Ke.type,y.isArrayOrTypedArray(at)&&(at=at[0],C[at]||(at=0));var st=Ae.pattern,vt=st&&w.getPatternAttr(st.shape,xe.i,"");if(at&&at!=="none"){var xt=xe.mgc;xt?Ue=!0:xt=Ke.color;var gt=ae.uid;Ue&&(gt+="-"+xe.i),w.gradient(ue,De,gt,at,[[0,xt],[1,Ee]],"fill")}else if(vt){var nt=!1,et=st.fgcolor;!et&&Te&&Te.color&&(et=Te.color,nt=!0);var At=w.getPatternAttr(et,xe.i,Te&&Te.color||null),Pt=w.getPatternAttr(st.bgcolor,xe.i,null),Rt=st.fgopacity,Et=w.getPatternAttr(st.size,xe.i,8),Ye=w.getPatternAttr(st.solidity,xe.i,.3);nt=nt||xe.mcc||y.isArrayOrTypedArray(st.shape)||y.isArrayOrTypedArray(st.bgcolor)||y.isArrayOrTypedArray(st.fgcolor)||y.isArrayOrTypedArray(st.size)||y.isArrayOrTypedArray(st.solidity);var Xe=ae.uid;nt&&(Xe+="-"+xe.i),w.pattern(ue,"point",De,Xe,vt,Et,Ye,xe.mcc,st.fillmode,Pt,At,Rt)}else y.isArrayOrTypedArray(Ee)?s.fill(ue,Ee[xe.i]):s.fill(ue,Ee);Le&&s.stroke(ue,Fe)}},w.makePointStyleFns=function(xe){var ue={},ae=xe.marker;return ue.markerScale=w.tryColorscale(ae,""),ue.lineScale=w.tryColorscale(ae,"line"),f.traceIs(xe,"symbols")&&(ue.ms2mrc=u.isBubble(xe)?h(xe):function(){return(ae.size||6)/2}),xe.selectedpoints&&y.extendFlat(ue,w.makeSelectedPointStyleFns(xe)),ue},w.makeSelectedPointStyleFns=function(xe){var ue={},ae=xe.selected||{},pe=xe.unselected||{},De=xe.marker||{},Te=ae.marker||{},Ae=pe.marker||{},Ce=De.opacity,Re=Te.opacity,Ne=Ae.opacity,ge=Re!==void 0,Me=Ne!==void 0;(y.isArrayOrTypedArray(Ce)||ge||Me)&&(ue.selectedOpacityFn=function(vt){var xt=vt.mo===void 0?De.opacity:vt.mo;return vt.selected?ge?Re:xt:Me?Ne:l*xt});var Ee=De.color,Fe=Te.color,Le=Ae.color;(Fe||Le)&&(ue.selectedColorFn=function(vt){var xt=vt.mcc||Ee;return vt.selected?Fe||xt:Le||xt});var Ue=De.size,Ge=Te.size,Ke=Ae.size,at=Ge!==void 0,st=Ke!==void 0;return f.traceIs(xe,"symbols")&&(at||st)&&(ue.selectedSizeFn=function(vt){var xt=vt.mrc||Ue/2;return vt.selected?at?Ge/2:xt:st?Ke/2:xt}),ue},w.makeSelectedTextStyleFns=function(xe){var ue={},ae=xe.selected||{},pe=xe.unselected||{},De=xe.textfont||{},Te=ae.textfont||{},Ae=pe.textfont||{},Ce=De.color,Re=Te.color,Ne=Ae.color;return ue.selectedTextColorFn=function(ge){var Me=ge.tc||Ce;return ge.selected?Re||Me:Ne||(Re?Me:s.addOpacity(Me,l))},ue},w.selectedPointStyle=function(xe,ue){if(xe.size()&&ue.selectedpoints){var ae=w.makeSelectedPointStyleFns(ue),pe=ue.marker||{},De=[];ae.selectedOpacityFn&&De.push(function(Te,Ae){Te.style("opacity",ae.selectedOpacityFn(Ae))}),ae.selectedColorFn&&De.push(function(Te,Ae){s.fill(Te,ae.selectedColorFn(Ae))}),ae.selectedSizeFn&&De.push(function(Te,Ae){var Ce=Ae.mx||pe.symbol||0,Re=ae.selectedSizeFn(Ae);Te.attr("d",A(w.symbolNumber(Ce),Re,Ie(Ae,ue),X(Ae,ue))),Ae.mrc2=Re}),De.length&&xe.each(function(Te){for(var Ae=p.select(this),Ce=0;Ce<De.length;Ce++)De[Ce](Ae,Te)})}},w.tryColorscale=function(xe,ue){var ae=ue?y.nestedProperty(xe,ue).get():xe;if(ae){var pe=ae.color;if((ae.colorscale||ae._colorAx)&&y.isArrayOrTypedArray(pe))return t.makeColorScaleFuncFromTrace(ae)}return y.identity};var D,O,L={start:1,end:-1,middle:0,bottom:1,top:-1};function R(xe,ue,ae,pe,De){var Te=p.select(xe.node().parentNode),Ae=ue.indexOf("top")!==-1?"top":ue.indexOf("bottom")!==-1?"bottom":"middle",Ce=ue.indexOf("left")!==-1?"end":ue.indexOf("right")!==-1?"start":"middle",Re=pe?pe/.8+1:0,Ne=(r.lineCount(xe)-1)*a+1,ge=L[Ce]*Re,Me=.75*ae+L[Ae]*Re+(L[Ae]-1)*Ne*ae/2;xe.attr("text-anchor",Ce),De||Te.attr("transform",o(ge,Me))}function z(xe,ue){var ae=xe.ts||ue.textfont.size;return M(ae)&&ae>0?ae:0}function q(xe,ue,ae){return ae&&(xe=Y(xe)),ue?V(xe[1]):N(xe[0])}function N(xe){var ue=p.round(xe,2);return D=ue,ue}function V(xe){var ue=p.round(xe,2);return O=ue,ue}function Z(xe,ue,ae,pe){var De=xe[0]-ue[0],Te=xe[1]-ue[1],Ae=ae[0]-ue[0],Ce=ae[1]-ue[1],Re=Math.pow(De*De+Te*Te,.25),Ne=Math.pow(Ae*Ae+Ce*Ce,.25),ge=(Ne*Ne*De-Re*Re*Ae)*pe,Me=(Ne*Ne*Te-Re*Re*Ce)*pe,Ee=3*Ne*(Re+Ne),Fe=3*Re*(Re+Ne);return[[N(ue[0]+(Ee&&ge/Ee)),V(ue[1]+(Ee&&Me/Ee))],[N(ue[0]-(Fe&&ge/Fe)),V(ue[1]-(Fe&&Me/Fe))]]}w.textPointStyle=function(xe,ue,ae){if(xe.size()){var pe;if(ue.selectedpoints){var De=w.makeSelectedTextStyleFns(ue);pe=De.selectedTextColorFn}var Te=ue.texttemplate,Ae=ae._fullLayout;xe.each(function(Ce){var Re=p.select(this),Ne=Te?y.extractOption(Ce,ue,"txt","texttemplate"):y.extractOption(Ce,ue,"tx","text");if(Ne||Ne===0){if(Te){var ge=ue._module.formatLabels,Me=ge?ge(Ce,ue,Ae):{},Ee={};c(Ee,ue,Ce.i);var Fe=ue._meta||{};Ne=y.texttemplateString(Ne,Me,Ae._d3locale,Ee,Ce,Fe)}var Le=Ce.tp||ue.textposition,Ue=z(Ce,ue),Ge=pe?pe(Ce):Ce.tc||ue.textfont.color;Re.call(w.font,{family:Ce.tf||ue.textfont.family,weight:Ce.tw||ue.textfont.weight,style:Ce.ty||ue.textfont.style,variant:Ce.tv||ue.textfont.variant,textcase:Ce.tC||ue.textfont.textcase,lineposition:Ce.tE||ue.textfont.lineposition,shadow:Ce.tS||ue.textfont.shadow,size:Ue,color:Ge}).text(Ne).call(r.convertToTspans,ae).call(R,Le,Ue,Ce.mrc)}else Re.remove()})}},w.selectedTextStyle=function(xe,ue){if(xe.size()&&ue.selectedpoints){var ae=w.makeSelectedTextStyleFns(ue);xe.each(function(pe){var De=p.select(this),Te=ae.selectedTextColorFn(pe),Ae=pe.tp||ue.textposition,Ce=z(pe,ue);s.fill(De,Te);var Re=f.traceIs(ue,"bar-like");R(De,Ae,Ce,pe.mrc2||pe.mrc,Re)})}},w.smoothopen=function(xe,ue){if(xe.length<3)return"M"+xe.join("L");var ae,pe="M"+xe[0],De=[];for(ae=1;ae<xe.length-1;ae++)De.push(Z(xe[ae-1],xe[ae],xe[ae+1],ue));for(pe+="Q"+De[0][0]+" "+xe[1],ae=2;ae<xe.length-1;ae++)pe+="C"+De[ae-2][1]+" "+De[ae-1][0]+" "+xe[ae];return pe+"Q"+De[xe.length-3][1]+" "+xe[xe.length-1]},w.smoothclosed=function(xe,ue){if(xe.length<3)return"M"+xe.join("L")+"Z";var ae,pe="M"+xe[0],De=xe.length-1,Te=[Z(xe[De],xe[0],xe[1],ue)];for(ae=1;ae<De;ae++)Te.push(Z(xe[ae-1],xe[ae],xe[ae+1],ue));for(Te.push(Z(xe[De-1],xe[De],xe[0],ue)),ae=1;ae<=De;ae++)pe+="C"+Te[ae-1][1]+" "+Te[ae][0]+" "+xe[ae];return pe+"C"+Te[De][1]+" "+Te[0][0]+" "+xe[0]+"Z"};var j={hv:function(xe,ue,ae){return"H"+N(ue[0])+"V"+q(ue,1,ae)},vh:function(xe,ue,ae){return"V"+V(ue[1])+"H"+q(ue,0,ae)},hvh:function(xe,ue,ae){return"H"+N((xe[0]+ue[0])/2)+"V"+V(ue[1])+"H"+q(ue,0,ae)},vhv:function(xe,ue,ae){return"V"+V((xe[1]+ue[1])/2)+"H"+N(ue[0])+"V"+q(ue,1,ae)}},H=function(xe,ue,ae){return"L"+q(ue,0,ae)+","+q(ue,1,ae)};function Y(xe,ue){var ae=xe.backoff,pe=xe.trace,De=xe.d,Te=xe.i;if(ae&&pe&&pe.marker&&pe.marker.angle%360==0&&pe.line&&pe.line.shape!=="spline"){var Ae=y.isArrayOrTypedArray(ae),Ce=xe,Re=ue?ue[0]:D||0,Ne=ue?ue[1]:O||0,ge=Ce[0],Me=Ce[1],Ee=ge-Re,Fe=Me-Ne,Le=Math.atan2(Fe,Ee),Ue=Ae?ae[Te]:ae;if(Ue==="auto"){var Ge=Ce.i;pe.type==="scatter"&&Ge--;var Ke=Ce.marker,at=Ke.symbol;y.isArrayOrTypedArray(at)&&(at=at[Ge]);var st=Ke.size;y.isArrayOrTypedArray(st)&&(st=st[Ge]),Ue=Ke?w.symbolBackOffs[w.symbolNumber(at)]*st:0,Ue+=w.getMarkerStandoff(De[Ge],pe)||0}var vt=ge-Ue*Math.cos(Le),xt=Me-Ue*Math.sin(Le);(vt<=ge&&vt>=Re||vt>=ge&&vt<=Re)&&(xt<=Me&&xt>=Ne||xt>=Me&&xt<=Ne)&&(xe=[vt,xt])}return xe}w.steps=function(xe){var ue=j[xe]||H;return function(ae){for(var pe="M"+N(ae[0][0])+","+V(ae[0][1]),De=ae.length,Te=1;Te<De;Te++)pe+=ue(ae[Te-1],ae[Te],Te===De-1);return pe}},w.applyBackoff=Y,w.makeTester=function(){var xe=y.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(ae){ae.attr(i.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ue=y.ensureSingle(xe,"path","js-reference-point",function(ae){ae.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});w.tester=xe,w.testref=ue},w.savedBBoxes={};var ie=0;function re(xe){var ue=xe.getAttribute("data-unformatted");if(ue!==null)return ue+xe.getAttribute("data-math")+xe.getAttribute("text-anchor")+xe.getAttribute("style")}function ne(xe,ue){if(!xe)return null;var ae=ue._context,pe=ae._exportedPlot?"":ae._baseUrl||"";return pe?"url('"+pe+"#"+xe+"')":"url(#"+xe+")"}w.bBox=function(xe,ue,ae){var pe,De,Te;if(ae||(ae=re(xe)),ae){if(pe=w.savedBBoxes[ae])return y.extendFlat({},pe)}else if(xe.childNodes.length===1){var Ae=xe.childNodes[0];if(ae=re(Ae)){var Ce=+Ae.getAttribute("x")||0,Re=+Ae.getAttribute("y")||0,Ne=Ae.getAttribute("transform");if(!Ne){var ge=w.bBox(Ae,!1,ae);return Ce&&(ge.left+=Ce,ge.right+=Ce),Re&&(ge.top+=Re,ge.bottom+=Re),ge}if(ae+="~"+Ce+"~"+Re+"~"+Ne,pe=w.savedBBoxes[ae])return y.extendFlat({},pe)}}ue?De=xe:(Te=w.tester.node(),De=xe.cloneNode(!0),Te.appendChild(De)),p.select(De).attr("transform",null).call(r.positionText,0,0);var Me=De.getBoundingClientRect(),Ee=w.testref.node().getBoundingClientRect();ue||Te.removeChild(De);var Fe={height:Me.height,width:Me.width,left:Me.left-Ee.left,top:Me.top-Ee.top,right:Me.right-Ee.left,bottom:Me.bottom-Ee.top};return ie>=1e4&&(w.savedBBoxes={},ie=0),ae&&(w.savedBBoxes[ae]=Fe),ie++,y.extendFlat({},Fe)},w.setClipUrl=function(xe,ue,ae){xe.attr("clip-path",ne(ue,ae))},w.getTranslate=function(xe){var ue=(xe[xe.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(ae,pe,De){return[pe,De].join(" ")}).split(" ");return{x:+ue[0]||0,y:+ue[1]||0}},w.setTranslate=function(xe,ue,ae){var pe=xe.attr?"attr":"getAttribute",De=xe.attr?"attr":"setAttribute",Te=xe[pe]("transform")||"";return ue=ue||0,ae=ae||0,Te=Te.replace(/(\btranslate\(.*?\);?)/,"").trim(),Te=(Te+=o(ue,ae)).trim(),xe[De]("transform",Te),Te},w.getScale=function(xe){var ue=(xe[xe.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(ae,pe,De){return[pe,De].join(" ")}).split(" ");return{x:+ue[0]||1,y:+ue[1]||1}},w.setScale=function(xe,ue,ae){var pe=xe.attr?"attr":"getAttribute",De=xe.attr?"attr":"setAttribute",Te=xe[pe]("transform")||"";return ue=ue||1,ae=ae||1,Te=Te.replace(/(\bscale\(.*?\);?)/,"").trim(),Te=(Te+="scale("+ue+","+ae+")").trim(),xe[De]("transform",Te),Te};var ee=/\s*sc.*/;w.setPointGroupScale=function(xe,ue,ae){if(ue=ue||1,ae=ae||1,xe){var pe=ue===1&&ae===1?"":"scale("+ue+","+ae+")";xe.each(function(){var De=(this.getAttribute("transform")||"").replace(ee,"");De=(De+=pe).trim(),this.setAttribute("transform",De)})}};var Q=/translate\([^)]*\)\s*$/;function X(xe,ue){var ae;return xe&&(ae=xe.mf),ae===void 0&&(ae=ue.marker&&ue.marker.standoff||0),ue._geo||ue._xA?ae:-ae}w.setTextPointsScale=function(xe,ue,ae){xe&&xe.each(function(){var pe,De=p.select(this),Te=De.select("text");if(Te.node()){var Ae=parseFloat(Te.attr("x")||0),Ce=parseFloat(Te.attr("y")||0),Re=(De.attr("transform")||"").match(Q);pe=ue===1&&ae===1?[]:[o(Ae,Ce),"scale("+ue+","+ae+")",o(-Ae,-Ce)],Re&&pe.push(Re),De.attr("transform",pe.join(""))}})},w.getMarkerStandoff=X;var se,ce,le,de,be,_e,ve=Math.atan2,me=Math.cos,ye=Math.sin;function Se(xe,ue){var ae=ue[0],pe=ue[1];return[ae*me(xe)-pe*ye(xe),ae*ye(xe)+pe*me(xe)]}function Ie(xe,ue){var ae,pe,De=xe.ma;De===void 0&&((De=ue.marker.angle)&&!y.isArrayOrTypedArray(De)||(De=0));var Te=ue.marker.angleref;if(Te==="previous"||Te==="north"){if(ue._geo){var Ae=ue._geo.project(xe.lonlat);ae=Ae[0],pe=Ae[1]}else{var Ce=ue._xA,Re=ue._yA;if(!Ce||!Re)return 90;ae=Ce.c2p(xe.x),pe=Re.c2p(xe.y)}if(ue._geo){var Ne,ge=xe.lonlat[0],Me=xe.lonlat[1],Ee=ue._geo.project([ge,Me+1e-5]),Fe=ue._geo.project([ge+1e-5,Me]),Le=ve(Fe[1]-pe,Fe[0]-ae),Ue=ve(Ee[1]-pe,Ee[0]-ae);if(Te==="north")Ne=De/180*Math.PI;else if(Te==="previous"){var Ge=ge/180*Math.PI,Ke=Me/180*Math.PI,at=se/180*Math.PI,st=ce/180*Math.PI,vt=at-Ge,xt=me(st)*ye(vt),gt=ye(st)*me(Ke)-me(st)*ye(Ke)*me(vt);Ne=-ve(xt,gt)-Math.PI,se=ge,ce=Me}var nt=Se(Le,[me(Ne),0]),et=Se(Ue,[ye(Ne),0]);De=ve(nt[1]+et[1],nt[0]+et[0])/Math.PI*180,Te!=="previous"||_e===ue.uid&&xe.i===be+1||(De=null)}if(Te==="previous"&&!ue._geo)if(_e===ue.uid&&xe.i===be+1&&M(ae)&&M(pe)){var At=ae-le,Pt=pe-de,Rt=ue.line&&ue.line.shape||"",Et=Rt.slice(Rt.length-1);Et==="h"&&(Pt=0),Et==="v"&&(At=0),De+=ve(Pt,At)/Math.PI*180+90}else De=null}return le=ae,de=pe,be=xe.i,_e=ue.uid,De}w.getMarkerAngle=Ie},71984:function(S,x,e){"use strict";var p,y,n,M,b=e(21984),f=e(33428).round,s="M0,0Z",t=Math.sqrt(2),o=Math.sqrt(3),r=Math.PI,i=Math.cos,a=Math.sin;function l(h){return h===null}function u(h,c,w){if(!(h&&h%360!=0||c))return w;if(n===h&&M===c&&p===w)return y;function g(z,q){var N=i(z),V=a(z),Z=q[0],j=q[1]+(c||0);return[Z*N-j*V,Z*V+j*N]}n=h,M=c,p=w;for(var v=h/180*r,m=0,T=0,_=b(w),A="",d=0;d<_.length;d++){var C=_[d],k=C[0],D=m,O=T;if(k==="M"||k==="L")m=+C[1],T=+C[2];else if(k==="m"||k==="l")m+=+C[1],T+=+C[2];else if(k==="H")m=+C[1];else if(k==="h")m+=+C[1];else if(k==="V")T=+C[1];else if(k==="v")T+=+C[1];else if(k==="A"){m=+C[1],T=+C[2];var L=g(v,[+C[6],+C[7]]);C[6]=L[0],C[7]=L[1],C[3]=+C[3]+h}k!=="H"&&k!=="V"||(k="L"),k!=="h"&&k!=="v"||(k="l"),k!=="m"&&k!=="l"||(m-=D,T-=O);var R=g(v,[m,T]);k!=="H"&&k!=="V"||(k="L"),k!=="M"&&k!=="L"&&k!=="m"&&k!=="l"||(C[1]=R[0],C[2]=R[1]),C[0]=k,A+=C[0]+C.slice(1).join(",")}return y=A,A}S.exports={circle:{n:0,f:function(h,c,w){if(l(c))return s;var g=f(h,2),v="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return w?u(c,w,v):v}},square:{n:1,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(h,c,w){if(l(c))return s;var g=f(1.3*h,2);return u(c,w,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(h,c,w){if(l(c))return s;var g=f(.4*h,2),v=f(1.2*h,2);return u(c,w,"M"+v+","+g+"H"+g+"V"+v+"H-"+g+"V"+g+"H-"+v+"V-"+g+"H-"+g+"V-"+v+"H"+g+"V-"+g+"H"+v+"Z")}},x:{n:4,f:function(h,c,w){if(l(c))return s;var g=f(.8*h/t,2),v="l"+g+","+g,m="l"+g+",-"+g,T="l-"+g+",-"+g,_="l-"+g+","+g;return u(c,w,"M0,"+g+v+m+T+m+T+_+T+_+v+_+v+"Z")}},"triangle-up":{n:5,f:function(h,c,w){if(l(c))return s;var g=f(2*h/o,2);return u(c,w,"M-"+g+","+f(h/2,2)+"H"+g+"L0,-"+f(h,2)+"Z")}},"triangle-down":{n:6,f:function(h,c,w){if(l(c))return s;var g=f(2*h/o,2);return u(c,w,"M-"+g+",-"+f(h/2,2)+"H"+g+"L0,"+f(h,2)+"Z")}},"triangle-left":{n:7,f:function(h,c,w){if(l(c))return s;var g=f(2*h/o,2);return u(c,w,"M"+f(h/2,2)+",-"+g+"V"+g+"L-"+f(h,2)+",0Z")}},"triangle-right":{n:8,f:function(h,c,w){if(l(c))return s;var g=f(2*h/o,2);return u(c,w,"M-"+f(h/2,2)+",-"+g+"V"+g+"L"+f(h,2)+",0Z")}},"triangle-ne":{n:9,f:function(h,c,w){if(l(c))return s;var g=f(.6*h,2),v=f(1.2*h,2);return u(c,w,"M-"+v+",-"+g+"H"+g+"V"+v+"Z")}},"triangle-se":{n:10,f:function(h,c,w){if(l(c))return s;var g=f(.6*h,2),v=f(1.2*h,2);return u(c,w,"M"+g+",-"+v+"V"+g+"H-"+v+"Z")}},"triangle-sw":{n:11,f:function(h,c,w){if(l(c))return s;var g=f(.6*h,2),v=f(1.2*h,2);return u(c,w,"M"+v+","+g+"H-"+g+"V-"+v+"Z")}},"triangle-nw":{n:12,f:function(h,c,w){if(l(c))return s;var g=f(.6*h,2),v=f(1.2*h,2);return u(c,w,"M-"+g+","+v+"V-"+g+"H"+v+"Z")}},pentagon:{n:13,f:function(h,c,w){if(l(c))return s;var g=f(.951*h,2),v=f(.588*h,2),m=f(-h,2),T=f(-.309*h,2);return u(c,w,"M"+g+","+T+"L"+v+","+f(.809*h,2)+"H-"+v+"L-"+g+","+T+"L0,"+m+"Z")}},hexagon:{n:14,f:function(h,c,w){if(l(c))return s;var g=f(h,2),v=f(h/2,2),m=f(h*o/2,2);return u(c,w,"M"+m+",-"+v+"V"+v+"L0,"+g+"L-"+m+","+v+"V-"+v+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(h,c,w){if(l(c))return s;var g=f(h,2),v=f(h/2,2),m=f(h*o/2,2);return u(c,w,"M-"+v+","+m+"H"+v+"L"+g+",0L"+v+",-"+m+"H-"+v+"L-"+g+",0Z")}},octagon:{n:16,f:function(h,c,w){if(l(c))return s;var g=f(.924*h,2),v=f(.383*h,2);return u(c,w,"M-"+v+",-"+g+"H"+v+"L"+g+",-"+v+"V"+v+"L"+v+","+g+"H-"+v+"L-"+g+","+v+"V-"+v+"Z")}},star:{n:17,f:function(h,c,w){if(l(c))return s;var g=1.4*h,v=f(.225*g,2),m=f(.951*g,2),T=f(.363*g,2),_=f(.588*g,2),A=f(-g,2),d=f(-.309*g,2),C=f(.118*g,2),k=f(.809*g,2);return u(c,w,"M"+v+","+d+"H"+m+"L"+T+","+C+"L"+_+","+k+"L0,"+f(.382*g,2)+"L-"+_+","+k+"L-"+T+","+C+"L-"+m+","+d+"H-"+v+"L0,"+A+"Z")}},hexagram:{n:18,f:function(h,c,w){if(l(c))return s;var g=f(.66*h,2),v=f(.38*h,2),m=f(.76*h,2);return u(c,w,"M-"+m+",0l-"+v+",-"+g+"h"+m+"l"+v+",-"+g+"l"+v+","+g+"h"+m+"l-"+v+","+g+"l"+v+","+g+"h-"+m+"l-"+v+","+g+"l-"+v+",-"+g+"h-"+m+"Z")}},"star-triangle-up":{n:19,f:function(h,c,w){if(l(c))return s;var g=f(h*o*.8,2),v=f(.8*h,2),m=f(1.6*h,2),T=f(4*h,2),_="A "+T+","+T+" 0 0 1 ";return u(c,w,"M-"+g+","+v+_+g+","+v+_+"0,-"+m+_+"-"+g+","+v+"Z")}},"star-triangle-down":{n:20,f:function(h,c,w){if(l(c))return s;var g=f(h*o*.8,2),v=f(.8*h,2),m=f(1.6*h,2),T=f(4*h,2),_="A "+T+","+T+" 0 0 1 ";return u(c,w,"M"+g+",-"+v+_+"-"+g+",-"+v+_+"0,"+m+_+g+",-"+v+"Z")}},"star-square":{n:21,f:function(h,c,w){if(l(c))return s;var g=f(1.1*h,2),v=f(2*h,2),m="A "+v+","+v+" 0 0 1 ";return u(c,w,"M-"+g+",-"+g+m+"-"+g+","+g+m+g+","+g+m+g+",-"+g+m+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(h,c,w){if(l(c))return s;var g=f(1.4*h,2),v=f(1.9*h,2),m="A "+v+","+v+" 0 0 1 ";return u(c,w,"M-"+g+",0"+m+"0,"+g+m+g+",0"+m+"0,-"+g+m+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(h,c,w){if(l(c))return s;var g=f(.7*h,2),v=f(1.4*h,2);return u(c,w,"M0,"+v+"L"+g+",0L0,-"+v+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(h,c,w){if(l(c))return s;var g=f(1.4*h,2),v=f(.7*h,2);return u(c,w,"M0,"+v+"L"+g+",0L0,-"+v+"L-"+g+",0Z")}},hourglass:{n:25,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(h,c,w){if(l(c))return s;var g=f(h,2),v=f(h/t,2);return u(c,w,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(h,c,w){if(l(c))return s;var g=f(1.3*h,2);return u(c,w,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(h,c,w){if(l(c))return s;var g=f(1.3*h,2),v=f(.65*h,2);return u(c,w,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+v+",-"+v+"L"+v+","+v+"M-"+v+","+v+"L"+v+",-"+v)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(h,c,w){if(l(c))return s;var g=f(1.4*h,2);return u(c,w,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(h,c,w){if(l(c))return s;var g=f(1.2*h,2),v=f(.85*h,2);return u(c,w,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(h,c,w){if(l(c))return s;var g=f(h/2,2),v=f(h,2);return u(c,w,"M"+g+","+v+"V-"+v+"M"+(g-v)+",-"+v+"V"+v+"M"+v+","+g+"H-"+v+"M-"+v+","+(g-v)+"H"+v)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(h,c,w){if(l(c))return s;var g=f(1.2*h,2),v=f(1.6*h,2),m=f(.8*h,2);return u(c,w,"M-"+g+","+m+"L0,0M"+g+","+m+"L0,0M0,-"+v+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(h,c,w){if(l(c))return s;var g=f(1.2*h,2),v=f(1.6*h,2),m=f(.8*h,2);return u(c,w,"M-"+g+",-"+m+"L0,0M"+g+",-"+m+"L0,0M0,"+v+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(h,c,w){if(l(c))return s;var g=f(1.2*h,2),v=f(1.6*h,2),m=f(.8*h,2);return u(c,w,"M"+m+","+g+"L0,0M"+m+",-"+g+"L0,0M-"+v+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(h,c,w){if(l(c))return s;var g=f(1.2*h,2),v=f(1.6*h,2),m=f(.8*h,2);return u(c,w,"M-"+m+","+g+"L0,0M-"+m+",-"+g+"L0,0M"+v+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(h,c,w){if(l(c))return s;var g=f(1.4*h,2);return u(c,w,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(h,c,w){if(l(c))return s;var g=f(1.4*h,2);return u(c,w,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M0,0L-"+g+","+f(2*h,2)+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M0,0L-"+g+",-"+f(2*h,2)+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(h,c,w){if(l(c))return s;var g=f(2*h,2),v=f(h,2);return u(c,w,"M0,0L"+g+",-"+v+"V"+v+"Z")},noDot:!0},"arrow-right":{n:48,f:function(h,c,w){if(l(c))return s;var g=f(2*h,2),v=f(h,2);return u(c,w,"M0,0L-"+g+",-"+v+"V"+v+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M-"+g+",0H"+g+"M0,0L-"+g+","+f(2*h,2)+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(h,c,w){if(l(c))return s;var g=f(h,2);return u(c,w,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+f(2*h,2)+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(h,c,w){if(l(c))return s;var g=f(2*h,2),v=f(h,2);return u(c,w,"M0,-"+v+"V"+v+"M0,0L"+g+",-"+v+"V"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(h,c,w){if(l(c))return s;var g=f(2*h,2),v=f(h,2);return u(c,w,"M0,-"+v+"V"+v+"M0,0L-"+g+",-"+v+"V"+v+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(h,c,w){if(l(c))return s;var g=r/2.5,v=2*h*i(g),m=2*h*a(g);return u(c,w,"M0,0L"+-v+","+m+"L"+v+","+m+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(h,c,w){if(l(c))return s;var g=r/4,v=2*h*i(g),m=2*h*a(g);return u(c,w,"M0,0L"+-v+","+m+"A "+2*h+","+2*h+" 0 0 1 "+v+","+m+"Z")},backoff:.4,noDot:!0}}},97644:function(S){"use strict";S.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(S,x,e){"use strict";var p=e(38248),y=e(24040),n=e(54460),M=e(3400),b=e(93792);function f(s,t,o,r){var i=t["error_"+r]||{},a=[];if(i.visible&&["linear","log"].indexOf(o.type)!==-1){for(var l=b(i),u=0;u<s.length;u++){var h=s[u],c=h.i;if(c===void 0)c=u;else if(c===null)continue;var w=h[r];if(p(o.c2l(w))){var g=l(w,c);if(p(g[0])&&p(g[1])){var v=h[r+"s"]=w-g[0],m=h[r+"h"]=w+g[1];a.push(v,m)}}}var T=o._id,_=t._extremes[T],A=n.findExtremes(o,a,M.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(A.min),_.max=_.max.concat(A.max)}}S.exports=function(s){for(var t=s.calcdata,o=0;o<t.length;o++){var r=t[o],i=r[0].trace;if(i.visible===!0&&y.traceIs(i,"errorBarsOK")){var a=n.getFromId(s,i.xaxis),l=n.getFromId(s,i.yaxis);f(r,i,a,"x"),f(r,i,l,"y")}}}},93792:function(S){"use strict";function x(e,p){return e==="percent"?function(y){return Math.abs(y*p/100)}:e==="constant"?function(){return Math.abs(p)}:e==="sqrt"?function(y){return Math.sqrt(Math.abs(y))}:void 0}S.exports=function(e){var p=e.type,y=e.symmetric;if(p==="data"){var n=e.array||[];if(y)return function(s,t){var o=+n[t];return[o,o]};var M=e.arrayminus||[];return function(s,t){var o=+n[t],r=+M[t];return isNaN(o)&&isNaN(r)?[NaN,NaN]:[r||0,o||0]}}var b=x(p,e.value),f=x(p,e.valueminus);return y||e.valueminus===void 0?function(s){var t=b(s);return[t,t]}:function(s){return[f(s),b(s)]}}},65200:function(S,x,e){"use strict";var p=e(38248),y=e(24040),n=e(3400),M=e(31780),b=e(97644);S.exports=function(f,s,t,o){var r="error_"+o.axis,i=M.newContainer(s,r),a=f[r]||{};function l(w,g){return n.coerce(a,i,b,w,g)}if(l("visible",a.array!==void 0||a.value!==void 0||a.type==="sqrt")!==!1){var u=l("type","array"in a?"data":"percent"),h=!0;u!=="sqrt"&&(h=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in a))),u==="data"?(l("array"),l("traceref"),h||(l("arrayminus"),l("tracerefminus"))):u!=="percent"&&u!=="constant"||(l("value"),h||l("valueminus"));var c="copy_"+o.inherit+"style";o.inherit&&(s["error_"+o.inherit]||{}).visible&&l(c,!(a.color||p(a.thickness)||p(a.width))),o.inherit&&i[c]||(l("color",t),l("thickness"),l("width",y.traceIs(s,"gl3d")?0:4))}}},64968:function(S,x,e){"use strict";var p=e(3400),y=e(67824).overrideAll,n=e(97644),M={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n)};delete M.error_x.copy_zstyle,delete M.error_y.copy_zstyle,delete M.error_y.copy_ystyle;var b={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n),error_z:p.extendFlat({},n)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,S.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:M,bar:M,histogram:M,scatter3d:y(b,"calc","nested"),scattergl:y(M,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(f,s,t){(s.error_y||{}).visible&&(t.yerr=f.yh-f.y,s.error_y.symmetric||(t.yerrneg=f.y-f.ys)),(s.error_x||{}).visible&&(t.xerr=f.xh-f.x,s.error_x.symmetric||(t.xerrneg=f.x-f.xs))}}},78512:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(43616),M=e(43028);S.exports=function(b,f,s,t){var o=s.xaxis,r=s.yaxis,i=t&&t.duration>0,a=b._context.staticPlot;f.each(function(l){var u,h=l[0].trace,c=h.error_x||{},w=h.error_y||{};h.ids&&(u=function(T){return T.id});var g=M.hasMarkers(h)&&h.marker.maxdisplayed>0;w.visible||c.visible||(l=[]);var v=p.select(this).selectAll("g.errorbar").data(l,u);if(v.exit().remove(),l.length){c.visible||v.selectAll("path.xerror").remove(),w.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var m=v.enter().append("g").classed("errorbar",!0);i&&m.style("opacity",0).transition().duration(t.duration).style("opacity",1),n.setClipUrl(v,s.layerClipId,b),v.each(function(T){var _=p.select(this),A=function(L,R,z){var q={x:R.c2p(L.x),y:z.c2p(L.y)};return L.yh!==void 0&&(q.yh=z.c2p(L.yh),q.ys=z.c2p(L.ys),y(q.ys)||(q.noYS=!0,q.ys=z.c2p(L.ys,!0))),L.xh!==void 0&&(q.xh=R.c2p(L.xh),q.xs=R.c2p(L.xs),y(q.xs)||(q.noXS=!0,q.xs=R.c2p(L.xs,!0))),q}(T,o,r);if(!g||T.vis){var d,C=_.select("path.yerror");if(w.visible&&y(A.x)&&y(A.yh)&&y(A.ys)){var k=w.width;d="M"+(A.x-k)+","+A.yh+"h"+2*k+"m-"+k+",0V"+A.ys,A.noYS||(d+="m-"+k+",0h"+2*k),C.size()?i&&(C=C.transition().duration(t.duration).ease(t.easing)):C=_.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("yerror",!0),C.attr("d",d)}else C.remove();var D=_.select("path.xerror");if(c.visible&&y(A.y)&&y(A.xh)&&y(A.xs)){var O=(c.copy_ystyle?w:c).width;d="M"+A.xh+","+(A.y-O)+"v"+2*O+"m0,-"+O+"H"+A.xs,A.noXS||(d+="m0,-"+O+"v"+2*O),D.size()?i&&(D=D.transition().duration(t.duration).ease(t.easing)):D=_.append("path").style("vector-effect",a?"none":"non-scaling-stroke").classed("xerror",!0),D.attr("d",d)}else D.remove()}})}})}},92036:function(S,x,e){"use strict";var p=e(33428),y=e(76308);S.exports=function(n){n.each(function(M){var b=M[0].trace,f=b.error_y||{},s=b.error_x||{},t=p.select(this);t.selectAll("path.yerror").style("stroke-width",f.thickness+"px").call(y.stroke,f.color),s.copy_ystyle&&(s=f),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(y.stroke,s.color)})}},55756:function(S,x,e){"use strict";var p=e(25376),y=e(65460).hoverlabel,n=e(92880).extendFlat;S.exports={hoverlabel:{bgcolor:n({},y.bgcolor,{arrayOk:!0}),bordercolor:n({},y.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:n({},y.align,{arrayOk:!0}),namelength:n({},y.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(S,x,e){"use strict";var p=e(3400),y=e(24040);function n(M,b,f,s){s=s||p.identity,Array.isArray(M)&&(b[0][f]=s(M))}S.exports=function(M){var b=M.calcdata,f=M._fullLayout;function s(a){return function(l){return p.coerceHoverinfo({hoverinfo:l},{_module:a._module},f)}}for(var t=0;t<b.length;t++){var o=b[t],r=o[0].trace;if(!y.traceIs(r,"pie-like")){var i=y.traceIs(r,"2dMap")?n:p.fillArray;i(r.hoverinfo,o,"hi",s(r)),r.hovertemplate&&i(r.hovertemplate,o,"ht"),r.hoverlabel&&(i(r.hoverlabel.bgcolor,o,"hbg"),i(r.hoverlabel.bordercolor,o,"hbc"),i(r.hoverlabel.font.size,o,"hts"),i(r.hoverlabel.font.color,o,"htc"),i(r.hoverlabel.font.family,o,"htf"),i(r.hoverlabel.font.weight,o,"htw"),i(r.hoverlabel.font.style,o,"hty"),i(r.hoverlabel.font.variant,o,"htv"),i(r.hoverlabel.namelength,o,"hnl"),i(r.hoverlabel.align,o,"hta"))}}}},62376:function(S,x,e){"use strict";var p=e(24040),y=e(83292).hover;S.exports=function(n,M,b){var f=p.getComponentMethod("annotations","onClick")(n,n._hoverdata);function s(){n.emit("plotly_click",{points:n._hoverdata,event:M})}b!==void 0&&y(n,M,b,!0),n._hoverdata&&M&&M.target&&(f&&f.then?f.then(s):s(),M.stopImmediatePropagation&&M.stopImmediatePropagation())}},92456:function(S){"use strict";S.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(S,x,e){"use strict";var p=e(3400),y=e(55756),n=e(16132);S.exports=function(M,b,f,s){var t=p.extendFlat({},s.hoverlabel);b.hovertemplate&&(t.namelength=-1),n(M,b,function(o,r){return p.coerce(M,b,y,o,r)},t)}},10624:function(S,x,e){"use strict";var p=e(3400);x.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},x.isTraceInSubplots=function(s,t){if(s.type==="splom"){for(var o=s.xaxes||[],r=s.yaxes||[],i=0;i<o.length;i++)for(var a=0;a<r.length;a++)if(t.indexOf(o[i]+r[a])!==-1)return!0;return!1}return t.indexOf(x.getSubplot(s))!==-1},x.flat=function(s,t){for(var o=new Array(s.length),r=0;r<s.length;r++)o[r]=t;return o},x.p2c=function(s,t){for(var o=new Array(s.length),r=0;r<s.length;r++)o[r]=s[r].p2c(t);return o},x.getDistanceFunction=function(s,t,o,r){return s==="closest"?r||x.quadrature(t,o):s.charAt(0)==="x"?t:o},x.getClosest=function(s,t,o){if(o.index!==!1)o.index>=0&&o.index<s.length?o.distance=0:o.index=!1;else for(var r=0;r<s.length;r++){var i=t(s[r]);i<=o.distance&&(o.index=r,o.distance=i)}return o},x.inbox=function(s,t,o){return s*t<0||s===0?o:1/0},x.quadrature=function(s,t){return function(o){var r=s(o),i=t(o);return Math.sqrt(r*r+i*i)}},x.makeEventData=function(s,t,o){var r="index"in s?s.index:s.pointNumber,i={data:t._input,fullData:t,curveNumber:t.index,pointNumber:r};if(t._indexToPoints){var a=t._indexToPoints[r];a.length===1?i.pointIndex=a[0]:i.pointIndices=a}else i.pointIndex=r;return t._module.eventData?i=t._module.eventData(i,s,t,o,r):("xVal"in s?i.x=s.xVal:"x"in s&&(i.x=s.x),"yVal"in s?i.y=s.yVal:"y"in s&&(i.y=s.y),s.xa&&(i.xaxis=s.xa),s.ya&&(i.yaxis=s.ya),s.zLabelVal!==void 0&&(i.z=s.zLabelVal)),x.appendArrayPointValue(i,t,r),i},x.appendArrayPointValue=function(s,t,o){var r=t._arrayAttrs;if(r)for(var i=0;i<r.length;i++){var a=r[i],l=n(a);if(s[l]===void 0){var u=M(p.nestedProperty(t,a).get(),o);u!==void 0&&(s[l]=u)}}},x.appendArrayMultiPointValues=function(s,t,o){var r=t._arrayAttrs;if(r)for(var i=0;i<r.length;i++){var a=r[i],l=n(a);if(s[l]===void 0){for(var u=p.nestedProperty(t,a).get(),h=new Array(o.length),c=0;c<o.length;c++)h[c]=M(u,o[c]);s[l]=h}}};var y={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(s){return y[s]||s}function M(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var b={x:!0,y:!0},f={"x unified":!0,"y unified":!0};x.isUnifiedHover=function(s){return typeof s=="string"&&!!f[s]},x.isXYhover=function(s){return typeof s=="string"&&!!b[s]}},83292:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(49760),M=e(3400),b=M.pushUnique,f=M.strTranslate,s=M.strRotate,t=e(95924),o=e(72736),r=e(72213),i=e(43616),a=e(76308),l=e(86476),u=e(54460),h=e(24040),c=e(10624),w=e(92456),g=e(77864),v=e(31140),m=w.YANGLE,T=Math.PI*m/180,_=1/Math.sin(T),A=Math.cos(T),d=Math.sin(T),C=w.HOVERARROWSIZE,k=w.HOVERTEXTPAD,D={box:!0,ohlc:!0,violin:!0,candlestick:!0},O={scatter:!0,scattergl:!0,splom:!0};function L(X,se){return X.distance-se.distance}function R(X){return[X.trace.index,X.index,X.x0,X.y0,X.name,X.attr,X.xa?X.xa._id:"",X.ya?X.ya._id:""].join(",")}x.hover=function(X,se,ce,le){X=M.getGraphDiv(X);var de=se.target;M.throttle(X._fullLayout._uid+w.HOVERID,w.HOVERMINTIME,function(){(function(be,_e,ve,me,ye){ve||(ve="xy");var Se,Ie,xe,ue=Array.isArray(ve)?ve:[ve],ae=be._fullLayout,pe=ae.hoversubplots,De=ae._plots||[],Te=De[ve],Ae=ae._has("cartesian"),Ce=_e.hovermode||ae.hovermode,Re=(Ce||"").charAt(0)==="x",Ne=(Ce||"").charAt(0)==="y";if(Ae&&(Re||Ne)&&pe==="axis"){for(var ge=ue.length,Me=0;Me<ge;Me++)if(De[Se=ue[Me]]){Ie=u.getFromId(be,Se,"x"),xe=u.getFromId(be,Se,"y");var Ee=(Re?Ie:xe)._subplotsWith;if(Ee&&Ee.length)for(var Fe=0;Fe<Ee.length;Fe++)b(ue,Ee[Fe])}}if(Te&&pe!=="single"){var Le=Te.overlays.map(function(Bt){return Bt.id});ue=ue.concat(Le)}for(var Ue=ue.length,Ge=new Array(Ue),Ke=new Array(Ue),at=!1,st=0;st<Ue;st++)if(De[Se=ue[st]])at=!0,Ge[st]=De[Se].xaxis,Ke[st]=De[Se].yaxis;else{if(!ae[Se]||!ae[Se]._subplot)return void M.warn("Unrecognized subplot: "+Se);var vt=ae[Se]._subplot;Ge[st]=vt.xaxis,Ke[st]=vt.yaxis}if(Ce&&!at&&(Ce="closest"),["x","y","closest","x unified","y unified"].indexOf(Ce)===-1||!be.calcdata||be.querySelector(".zoombox")||be._dragging)return l.unhoverRaw(be,_e);var xt=ae.hoverdistance;xt===-1&&(xt=1/0);var gt=ae.spikedistance;gt===-1&&(gt=1/0);var nt,et,At,Pt,Rt,Et,Ye,Xe,Ve,Ze,lt,it,Be,je=[],ot=[],$e={hLinePoint:null,vLinePoint:null},dt=!1;if(Array.isArray(_e))for(Ce="array",At=0;At<_e.length;At++)(Rt=be.calcdata[_e[At].curveNumber||0])&&(Et=Rt[0].trace,Rt[0].trace.hoverinfo!=="skip"&&(ot.push(Rt),Et.orientation==="h"&&(dt=!0)));else{var mt,yt,ht=be.calcdata.slice();for(ht.sort(function(Bt,Jt){return(Bt[0].trace.zorder||0)-(Jt[0].trace.zorder||0)}),Pt=0;Pt<ht.length;Pt++)Rt=ht[Pt],(Et=Rt[0].trace).hoverinfo!=="skip"&&c.isTraceInSubplots(Et,ue)&&(ot.push(Rt),Et.orientation==="h"&&(dt=!0));if(ye){if(t.triggerHandler(be,"plotly_beforehover",_e)===!1)return;var kt=ye.getBoundingClientRect();mt=_e.clientX-kt.left,yt=_e.clientY-kt.top,ae._calcInverseTransform(be);var bt=M.apply3DTransform(ae._invTransform)(mt,yt);if(mt=bt[0],yt=bt[1],mt<0||mt>Ge[0]._length||yt<0||yt>Ke[0]._length)return l.unhoverRaw(be,_e)}else mt="xpx"in _e?_e.xpx:Ge[0]._length/2,yt="ypx"in _e?_e.ypx:Ke[0]._length/2;if(_e.pointerX=mt+Ge[0]._offset,_e.pointerY=yt+Ke[0]._offset,nt="xval"in _e?c.flat(ue,_e.xval):c.p2c(Ge,mt),et="yval"in _e?c.flat(ue,_e.yval):c.p2c(Ke,yt),!y(nt[0])||!y(et[0]))return M.warn("Fx.hover failed",_e,be),l.unhoverRaw(be,_e)}var St=1/0;function Lt(Bt,Jt){for(Pt=0;Pt<ot.length;Pt++)if((Rt=ot[Pt])&&Rt[0]&&Rt[0].trace&&(Et=Rt[0].trace).visible===!0&&Et._length!==0&&["carpet","contourcarpet"].indexOf(Et._module.name)===-1){if(Ve=Ce,c.isUnifiedHover(Ve)&&(Ve=Ve.charAt(0)),Et.type==="splom"?Ye=ue[Xe=0]:(Ye=c.getSubplot(Et),Xe=ue.indexOf(Ye)),it={cd:Rt,trace:Et,xa:Ge[Xe],ya:Ke[Xe],maxHoverDistance:xt,maxSpikeDistance:gt,index:!1,distance:Math.min(St,xt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:Et.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ae[Ye]&&(it.subplot=ae[Ye]._subplot),ae._splomScenes&&ae._splomScenes[Et.uid]&&(it.scene=ae._splomScenes[Et.uid]),Ve==="array"){var fn=_e[Pt];"pointNumber"in fn?(it.index=fn.pointNumber,Ve="closest"):(Ve="","xval"in fn&&(Ze=fn.xval,Ve="x"),"yval"in fn&&(lt=fn.yval,Ve=Ve?"closest":"y"))}else Bt!==void 0&&Jt!==void 0?(Ze=Bt,lt=Jt):(Ze=nt[Xe],lt=et[Xe]);if(Be=je.length,xt!==0)if(Et._module&&Et._module.hoverPoints){var dn=Et._module.hoverPoints(it,Ze,lt,Ve,{finiteRange:!0,hoverLayer:ae._hoverlayer,hoversubplots:pe,gd:be});if(dn)for(var xn,sn=0;sn<dn.length;sn++)xn=dn[sn],y(xn.x0)&&y(xn.y0)&&je.push(j(xn,Ce))}else M.log("Unrecognized trace type in hover:",Et);if(Ce==="closest"&&je.length>Be&&(je.splice(0,Be),St=je[0].distance),Ae&&gt!==0&&je.length===0){it.distance=gt,it.index=!1;var Yt=Et._module.hoverPoints(it,Ze,lt,"closest",{hoverLayer:ae._hoverlayer});if(Yt&&(Yt=Yt.filter(function(Nn){return Nn.spikeDistance<=gt})),Yt&&Yt.length){var Wt,tn=Yt.filter(function(Nn){return Nn.xa.showspikes&&Nn.xa.spikesnap!=="hovered data"});if(tn.length){var ln=tn[0];y(ln.x0)&&y(ln.y0)&&(Wt=Ft(ln),(!$e.vLinePoint||$e.vLinePoint.spikeDistance>Wt.spikeDistance)&&($e.vLinePoint=Wt))}var An=Yt.filter(function(Nn){return Nn.ya.showspikes&&Nn.ya.spikesnap!=="hovered data"});if(An.length){var In=An[0];y(In.x0)&&y(In.y0)&&(Wt=Ft(In),(!$e.hLinePoint||$e.hLinePoint.spikeDistance>Wt.spikeDistance)&&($e.hLinePoint=Wt))}}}}}function Ot(Bt,Jt,fn){for(var dn,xn=null,sn=1/0,Yt=0;Yt<Bt.length;Yt++)Ie&&Ie._id!==Bt[Yt].xa._id||xe&&xe._id!==Bt[Yt].ya._id||(dn=Bt[Yt].spikeDistance,fn&&Yt===0&&(dn=-1/0),dn<=sn&&dn<=Jt&&(xn=Bt[Yt],sn=dn));return xn}function Ft(Bt){return Bt?{xa:Bt.xa,ya:Bt.ya,x:Bt.xSpike!==void 0?Bt.xSpike:(Bt.x0+Bt.x1)/2,y:Bt.ySpike!==void 0?Bt.ySpike:(Bt.y0+Bt.y1)/2,distance:Bt.distance,spikeDistance:Bt.spikeDistance,curveNumber:Bt.trace.index,color:Bt.color,pointNumber:Bt.index}:null}Lt();var $t={fullLayout:ae,container:ae._hoverlayer,event:_e},on=be._spikepoints,Ht={vLinePoint:$e.vLinePoint,hLinePoint:$e.hLinePoint};be._spikepoints=Ht;var Zt=function(){var Bt=je.filter(function(fn){return Ie&&Ie._id===fn.xa._id&&xe&&xe._id===fn.ya._id}),Jt=je.filter(function(fn){return!(Ie&&Ie._id===fn.xa._id&&xe&&xe._id===fn.ya._id)});Bt.sort(L),Jt.sort(L),je=function(fn,dn){for(var xn=dn.charAt(0),sn=[],Yt=[],Wt=[],tn=0;tn<fn.length;tn++){var ln=fn[tn];h.traceIs(ln.trace,"bar-like")||h.traceIs(ln.trace,"box-violin")?Wt.push(ln):ln.trace[xn+"period"]?Yt.push(ln):sn.push(ln)}return sn.concat(Yt).concat(Wt)}(je=Bt.concat(Jt),Ce)};Zt();var jt=Ce.charAt(0),Ln=(jt==="x"||jt==="y")&&je[0]&&O[je[0].trace.type];if(Ae&&gt!==0&&je.length!==0){var Tn=Ot(je.filter(function(Bt){return Bt.ya.showspikes}),gt,Ln);$e.hLinePoint=Ft(Tn);var gn=Ot(je.filter(function(Bt){return Bt.xa.showspikes}),gt,Ln);$e.vLinePoint=Ft(gn)}if(je.length===0){var Qt=l.unhoverRaw(be,_e);return!Ae||$e.hLinePoint===null&&$e.vLinePoint===null||Y(on)&&H(be,$e,$t),Qt}if(Ae&&Y(on)&&H(be,$e,$t),c.isXYhover(Ve)&&je[0].length!==0&&je[0].trace.type!=="splom"){var cn=je[0],nn=(je=D[cn.trace.type]?je.filter(function(Bt){return Bt.trace.index===cn.trace.index}):[cn]).length;Lt(re("x",cn,ae),re("y",cn,ae));var hn,bn=[],wn={},En=0,Dn=function(Bt){var Jt=D[Bt.trace.type]?R(Bt):Bt.trace.index;if(wn[Jt]){var fn=wn[Jt]-1,dn=bn[fn];fn>0&&Math.abs(Bt.distance)<Math.abs(dn.distance)&&(bn[fn]=Bt)}else En++,wn[Jt]=En,bn.push(Bt)};for(hn=0;hn<nn;hn++)Dn(je[hn]);for(hn=je.length-1;hn>nn-1;hn--)Dn(je[hn]);je=bn,Zt()}var kn=be._hoverdata,Bn=[],Rn=ne(be),Kn=ee(be);for(At=0;At<je.length;At++){var Gn=je[At],nr=c.makeEventData(Gn,Gn.trace,Gn.cd);if(Gn.hovertemplate!==!1){var $n=!1;Gn.cd[Gn.index]&&Gn.cd[Gn.index].ht&&($n=Gn.cd[Gn.index].ht),Gn.hovertemplate=$n||Gn.trace.hovertemplate||!1}if(Gn.xa&&Gn.ya){var fr=Gn.x0+Gn.xa._offset,en=Gn.x1+Gn.xa._offset,rn=Gn.y0+Gn.ya._offset,Cn=Gn.y1+Gn.ya._offset,mn=Math.min(fr,en),On=Math.max(fr,en),Hn=Math.min(rn,Cn),Un=Math.max(rn,Cn);nr.bbox={x0:mn+Kn,x1:On+Kn,y0:Hn+Rn,y1:Un+Rn}}Gn.eventData=[nr],Bn.push(nr)}be._hoverdata=Bn;var Zn=Ce==="y"&&(ot.length>1||je.length>1)||Ce==="closest"&&dt&&je.length>1,pr=a.combine(ae.plot_bgcolor||a.background,ae.paper_bgcolor),Kt=q(je,{gd:be,hovermode:Ce,rotateLabels:Zn,bgColor:pr,container:ae._hoverlayer,outerContainer:ae._paper.node(),commonLabelOpts:ae.hoverlabel,hoverdistance:ae.hoverdistance}),vn=Kt.hoverLabels;if(c.isUnifiedHover(Ce)||(function(Bt,Jt,fn,dn){var xn,sn,Yt,Wt,tn,ln,An,In=Jt?"xa":"ya",Nn=Jt?"ya":"xa",jn=0,er=1,Wn=Bt.size(),Jn=new Array(Wn),rr=0,Qn=dn.minX,hr=dn.maxX,br=dn.minY,gr=dn.maxY,ar=function(Nr){return Nr*fn._invScaleX},mr=function(Nr){return Nr*fn._invScaleY};function kr(Nr){var co=Nr[0],ua=Nr[Nr.length-1];if(sn=co.pmin-co.pos-co.dp+co.size,Yt=ua.pos+ua.dp+ua.size-co.pmax,sn>.01){for(tn=Nr.length-1;tn>=0;tn--)Nr[tn].dp+=sn;xn=!1}if(!(Yt<.01)){if(sn<-.01){for(tn=Nr.length-1;tn>=0;tn--)Nr[tn].dp-=Yt;xn=!1}if(xn){var ao=0;for(Wt=0;Wt<Nr.length;Wt++)(ln=Nr[Wt]).pos+ln.dp+ln.size>co.pmax&&ao++;for(Wt=Nr.length-1;Wt>=0&&!(ao<=0);Wt--)(ln=Nr[Wt]).pos>co.pmax-1&&(ln.del=!0,ao--);for(Wt=0;Wt<Nr.length&&!(ao<=0);Wt++)if((ln=Nr[Wt]).pos<co.pmin+1)for(ln.del=!0,ao--,Yt=2*ln.size,tn=Nr.length-1;tn>=0;tn--)Nr[tn].dp-=Yt;for(Wt=Nr.length-1;Wt>=0&&!(ao<=0);Wt--)(ln=Nr[Wt]).pos+ln.dp+ln.size>co.pmax&&(ln.del=!0,ao--)}}}for(Bt.each(function(Nr){var co=Nr[In],ua=Nr[Nn],ao=co._id.charAt(0)==="x",es=co.range;rr===0&&es&&es[0]>es[1]!==ao&&(er=-1);var ms=0,Ao=ao?fn.width:fn.height;if(fn.hovermode==="x"||fn.hovermode==="y"){var Ba,ja,vs=V(Nr,Jt),ca=Nr.anchor,_a=ca==="end"?-1:1;if(ca==="middle")ja=(Ba=Nr.crossPos+(ao?mr(vs.y-Nr.by/2):ar(Nr.bx/2+Nr.tx2width/2)))+(ao?mr(Nr.by):ar(Nr.bx));else if(ao)ja=(Ba=Nr.crossPos+mr(C+vs.y)-mr(Nr.by/2-C))+mr(Nr.by);else{var wa=ar(_a*C+vs.x),wi=wa+ar(_a*Nr.bx);Ba=Nr.crossPos+Math.min(wa,wi),ja=Nr.crossPos+Math.max(wa,wi)}ao?br!==void 0&&gr!==void 0&&Math.min(ja,gr)-Math.max(Ba,br)>1&&(ua.side==="left"?(ms=ua._mainLinePosition,Ao=fn.width):Ao=ua._mainLinePosition):Qn!==void 0&&hr!==void 0&&Math.min(ja,hr)-Math.max(Ba,Qn)>1&&(ua.side==="top"?(ms=ua._mainLinePosition,Ao=fn.height):Ao=ua._mainLinePosition)}Jn[rr++]=[{datum:Nr,traceIndex:Nr.trace.index,dp:0,pos:Nr.pos,posref:Nr.posref,size:Nr.by*(ao?_:1)/2,pmin:ms,pmax:Ao}]}),Jn.sort(function(Nr,co){return Nr[0].posref-co[0].posref||er*(co[0].traceIndex-Nr[0].traceIndex)});!xn&&jn<=Wn;){for(jn++,xn=!0,Wt=0;Wt<Jn.length-1;){var Rr=Jn[Wt],Si=Jn[Wt+1],Ei=Rr[Rr.length-1],io=Si[0];if((sn=Ei.pos+Ei.dp+Ei.size-io.pos-io.dp+io.size)>.01&&Ei.pmin===io.pmin&&Ei.pmax===io.pmax){for(tn=Si.length-1;tn>=0;tn--)Si[tn].dp+=sn;for(Rr.push.apply(Rr,Si),Jn.splice(Wt+1,1),An=0,tn=Rr.length-1;tn>=0;tn--)An+=Rr[tn].dp;for(Yt=An/Rr.length,tn=Rr.length-1;tn>=0;tn--)Rr[tn].dp-=Yt;xn=!1}else Wt++}Jn.forEach(kr)}for(Wt=Jn.length-1;Wt>=0;Wt--){var Ai=Jn[Wt];for(tn=Ai.length-1;tn>=0;tn--){var Vi=Ai[tn],zo=Vi.datum;zo.offset=Vi.dp,zo.del=Vi.del}}}(vn,Zn,ae,Kt.commonLabelBoundingBox),Z(vn,Zn,ae._invScaleX,ae._invScaleY)),ye&&ye.tagName){var Dt=h.getComponentMethod("annotations","hasClickToShow")(be,Bn);r(p.select(ye),Dt?"pointer":"")}ye&&!me&&function(Bt,Jt,fn){if(!fn||fn.length!==Bt._hoverdata.length)return!0;for(var dn=fn.length-1;dn>=0;dn--){var xn=fn[dn],sn=Bt._hoverdata[dn];if(xn.curveNumber!==sn.curveNumber||String(xn.pointNumber)!==String(sn.pointNumber)||String(xn.pointNumbers)!==String(sn.pointNumbers))return!0}return!1}(be,0,kn)&&(kn&&be.emit("plotly_unhover",{event:_e,points:kn}),be.emit("plotly_hover",{event:_e,points:be._hoverdata,xaxes:Ge,yaxes:Ke,xvals:nt,yvals:et}))})(X,se,ce,le,de)})},x.loneHover=function(X,se){var ce=!0;Array.isArray(X)||(ce=!1,X=[X]);var le=se.gd,de=ne(le),be=ee(le),_e=q(X.map(function(ye){var Se=ye._x0||ye.x0||ye.x||0,Ie=ye._x1||ye.x1||ye.x||0,xe=ye._y0||ye.y0||ye.y||0,ue=ye._y1||ye.y1||ye.y||0,ae=ye.eventData;if(ae){var pe=Math.min(Se,Ie),De=Math.max(Se,Ie),Te=Math.min(xe,ue),Ae=Math.max(xe,ue),Ce=ye.trace;if(h.traceIs(Ce,"gl3d")){var Re=le._fullLayout[Ce.scene]._scene.container,Ne=Re.offsetLeft,ge=Re.offsetTop;pe+=Ne,De+=Ne,Te+=ge,Ae+=ge}ae.bbox={x0:pe+be,x1:De+be,y0:Te+de,y1:Ae+de},se.inOut_bbox&&se.inOut_bbox.push(ae.bbox)}else ae=!1;return{color:ye.color||a.defaultLine,x0:ye.x0||ye.x||0,x1:ye.x1||ye.x||0,y0:ye.y0||ye.y||0,y1:ye.y1||ye.y||0,xLabel:ye.xLabel,yLabel:ye.yLabel,zLabel:ye.zLabel,text:ye.text,name:ye.name,idealAlign:ye.idealAlign,borderColor:ye.borderColor,fontFamily:ye.fontFamily,fontSize:ye.fontSize,fontColor:ye.fontColor,fontWeight:ye.fontWeight,fontStyle:ye.fontStyle,fontVariant:ye.fontVariant,nameLength:ye.nameLength,textAlign:ye.textAlign,trace:ye.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ye.hovertemplate||!1,hovertemplateLabels:ye.hovertemplateLabels||!1,eventData:ae}}),{gd:le,hovermode:"closest",rotateLabels:!1,bgColor:se.bgColor||a.background,container:p.select(se.container),outerContainer:se.outerContainer||se.container}).hoverLabels,ve=0,me=0;return _e.sort(function(ye,Se){return ye.y0-Se.y0}).each(function(ye,Se){var Ie=ye.y0-ye.by/2;ye.offset=Ie-5<ve?ve-Ie+5:0,ve=Ie+ye.by+ye.offset,Se===se.anchorIndex&&(me=ye.offset)}).each(function(ye){ye.offset-=me}),Z(_e,!1,le._fullLayout._invScaleX,le._fullLayout._invScaleY),ce?_e:_e.node()};var z=/<extra>([\s\S]*)<\/extra>/;function q(X,se){var ce=se.gd,le=ce._fullLayout,de=se.hovermode,be=se.rotateLabels,_e=se.bgColor,ve=se.container,me=se.outerContainer,ye=se.commonLabelOpts||{};if(X.length===0)return[[]];var Se=se.fontFamily||w.HOVERFONT,Ie=se.fontSize||w.HOVERFONTSIZE,xe=se.fontWeight||le.font.weight,ue=se.fontStyle||le.font.style,ae=se.fontVariant||le.font.variant,pe=se.fontTextcase||le.font.textcase,De=se.fontLineposition||le.font.lineposition,Te=se.fontShadow||le.font.shadow,Ae=X[0],Ce=Ae.xa,Re=Ae.ya,Ne=de.charAt(0),ge=Ne+"Label",Me=Ae[ge];if(Me===void 0&&Ce.type==="multicategory")for(var Ee=0;Ee<X.length&&(Me=X[Ee][ge])===void 0;Ee++);var Fe=Q(ce,me),Le=Fe.top,Ue=Fe.width,Ge=Fe.height,Ke=Me!==void 0&&Ae.distance<=se.hoverdistance&&(de==="x"||de==="y");if(Ke){var at,st,vt=!0;for(at=0;at<X.length;at++)if(vt&&X[at].zLabel===void 0&&(vt=!1),st=X[at].hoverinfo||X[at].trace.hoverinfo){var xt=Array.isArray(st)?st:st.split("+");if(xt.indexOf("all")===-1&&xt.indexOf(de)===-1){Ke=!1;break}}vt&&(Ke=!1)}var gt=ve.selectAll("g.axistext").data(Ke?[0]:[]);gt.enter().append("g").classed("axistext",!0),gt.exit().remove();var nt={minX:0,maxX:0,minY:0,maxY:0};if(gt.each(function(){var jt=p.select(this),Ln=M.ensureSingle(jt,"path","",function(mn){mn.style({"stroke-width":"1px"})}),Tn=M.ensureSingle(jt,"text","",function(mn){mn.attr("data-notex",1)}),gn=ye.bgcolor||a.defaultLine,Qt=ye.bordercolor||a.contrast(gn),cn=a.contrast(gn),nn=ye.font,hn={weight:nn.weight||xe,style:nn.style||ue,variant:nn.variant||ae,textcase:nn.textcase||pe,lineposition:nn.lineposition||De,shadow:nn.shadow||Te,family:nn.family||Se,size:nn.size||Ie,color:nn.color||cn};Ln.style({fill:gn,stroke:Qt}),Tn.text(Me).call(i.font,hn).call(o.positionText,0,0).call(o.convertToTspans,ce),jt.attr("transform","");var bn,wn,En=Q(ce,Tn.node());if(de==="x"){var Dn=Ce.side==="top"?"-":"";Tn.attr("text-anchor","middle").call(o.positionText,0,Ce.side==="top"?Le-En.bottom-C-k:Le-En.top+C+k),bn=Ce._offset+(Ae.x0+Ae.x1)/2,wn=Re._offset+(Ce.side==="top"?0:Re._length);var kn=En.width/2+k,Bn=bn;bn<kn?Bn=kn:bn>le.width-kn&&(Bn=le.width-kn),Ln.attr("d","M"+(bn-Bn)+",0L"+(bn-Bn+C)+","+Dn+C+"H"+kn+"v"+Dn+(2*k+En.height)+"H"+-kn+"V"+Dn+C+"H"+(bn-Bn-C)+"Z"),bn=Bn,nt.minX=bn-kn,nt.maxX=bn+kn,Ce.side==="top"?(nt.minY=wn-(2*k+En.height),nt.maxY=wn-k):(nt.minY=wn+k,nt.maxY=wn+(2*k+En.height))}else{var Rn,Kn,Gn;Re.side==="right"?(Rn="start",Kn=1,Gn="",bn=Ce._offset+Ce._length):(Rn="end",Kn=-1,Gn="-",bn=Ce._offset),wn=Re._offset+(Ae.y0+Ae.y1)/2,Tn.attr("text-anchor",Rn),Ln.attr("d","M0,0L"+Gn+C+","+C+"V"+(k+En.height/2)+"h"+Gn+(2*k+En.width)+"V-"+(k+En.height/2)+"H"+Gn+C+"V-"+C+"Z"),nt.minY=wn-(k+En.height/2),nt.maxY=wn+(k+En.height/2),Re.side==="right"?(nt.minX=bn+C,nt.maxX=bn+C+(2*k+En.width)):(nt.minX=bn-C-(2*k+En.width),nt.maxX=bn-C);var nr,$n=En.height/2,fr=Le-En.top-$n,en="clip"+le._uid+"commonlabel"+Re._id;if(bn<En.width+2*k+C){nr="M-"+(C+k)+"-"+$n+"h-"+(En.width-k)+"V"+$n+"h"+(En.width-k)+"Z";var rn=En.width-bn+k;o.positionText(Tn,rn,fr),Rn==="end"&&Tn.selectAll("tspan").each(function(){var mn=p.select(this),On=i.tester.append("text").text(mn.text()).call(i.font,hn),Hn=Q(ce,On.node());Math.round(Hn.width)<Math.round(En.width)&&mn.attr("x",rn-Hn.width),On.remove()})}else o.positionText(Tn,Kn*(k+C),fr),nr=null;var Cn=le._topclips.selectAll("#"+en).data(nr?[0]:[]);Cn.enter().append("clipPath").attr("id",en).append("path"),Cn.exit().remove(),Cn.select("path").attr("d",nr),i.setClipUrl(Tn,nr?en:null,ce)}jt.attr("transform",f(bn,wn))}),c.isUnifiedHover(de)){ve.selectAll("g.hovertext").remove();var et=X.filter(function(jt){return jt.hoverinfo!=="none"});if(et.length===0)return[];var At=le.hoverlabel,Pt=At.font,Rt={showlegend:!0,legend:{title:{text:Me,font:Pt},font:Pt,bgcolor:At.bgcolor,bordercolor:At.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:le.legend?le.legend.traceorder:void 0,orientation:"v"}},Et={font:Pt};g(Rt,Et,ce._fullData);var Ye=Et.legend;Ye.entries=[];for(var Xe=0;Xe<et.length;Xe++){var Ve=et[Xe];if(Ve.hoverinfo!=="none"){var Ze=N(Ve,!0,de,le,Me),lt=Ze[0],it=Ze[1];Ve.name=it,Ve.text=it!==""?it+" : "+lt:lt;var Be=Ve.cd[Ve.index];Be&&(Be.mc&&(Ve.mc=Be.mc),Be.mcc&&(Ve.mc=Be.mcc),Be.mlc&&(Ve.mlc=Be.mlc),Be.mlcc&&(Ve.mlc=Be.mlcc),Be.mlw&&(Ve.mlw=Be.mlw),Be.mrc&&(Ve.mrc=Be.mrc),Be.dir&&(Ve.dir=Be.dir)),Ve._distinct=!0,Ye.entries.push([Ve])}}Ye.entries.sort(function(jt,Ln){return jt[0].trace.index-Ln[0].trace.index}),Ye.layer=ve,Ye._inHover=!0,Ye._groupTitleFont=At.grouptitlefont,v(ce,Ye);var je,ot,$e,dt,mt=ve.select("g.legend"),yt=Q(ce,mt.node()),ht=yt.width+2*k,kt=yt.height+2*k,bt=et[0],St=(bt.x0+bt.x1)/2,Lt=(bt.y0+bt.y1)/2,Ot=!(h.traceIs(bt.trace,"bar-like")||h.traceIs(bt.trace,"box-violin"));Ne==="y"?Ot?(ot=Lt-k,je=Lt+k):(ot=Math.min.apply(null,et.map(function(jt){return Math.min(jt.y0,jt.y1)})),je=Math.max.apply(null,et.map(function(jt){return Math.max(jt.y0,jt.y1)}))):ot=je=M.mean(et.map(function(jt){return(jt.y0+jt.y1)/2}))-kt/2,Ne==="x"?Ot?($e=St+k,dt=St-k):($e=Math.max.apply(null,et.map(function(jt){return Math.max(jt.x0,jt.x1)})),dt=Math.min.apply(null,et.map(function(jt){return Math.min(jt.x0,jt.x1)}))):$e=dt=M.mean(et.map(function(jt){return(jt.x0+jt.x1)/2}))-ht/2;var Ft,$t,on=Ce._offset,Ht=Re._offset;return dt+=on-ht,ot+=Ht-kt,Ft=($e+=on)+ht<Ue&&$e>=0?$e:dt+ht<Ue&&dt>=0?dt:on+ht<Ue?on:$e-St<St-dt+ht?Ue-ht:0,Ft+=k,$t=(je+=Ht)+kt<Ge&&je>=0?je:ot+kt<Ge&&ot>=0?ot:Ht+kt<Ge?Ht:je-Lt<Lt-ot+kt?Ge-kt:0,$t+=k,mt.attr("transform",f(Ft-1,$t-1)),mt}var Zt=ve.selectAll("g.hovertext").data(X,function(jt){return R(jt)});return Zt.enter().append("g").classed("hovertext",!0).each(function(){var jt=p.select(this);jt.append("rect").call(a.fill,a.addOpacity(_e,.8)),jt.append("text").classed("name",!0),jt.append("path").style("stroke-width","1px"),jt.append("text").classed("nums",!0).call(i.font,{weight:xe,style:ue,variant:ae,textcase:pe,lineposition:De,shadow:Te,family:Se,size:Ie})}),Zt.exit().remove(),Zt.each(function(jt){var Ln=p.select(this).attr("transform",""),Tn=jt.color;Array.isArray(Tn)&&(Tn=Tn[jt.eventData[0].pointNumber]);var gn=jt.bgcolor||Tn,Qt=a.combine(a.opacity(gn)?gn:a.defaultLine,_e),cn=a.combine(a.opacity(Tn)?Tn:a.defaultLine,_e),nn=jt.borderColor||a.contrast(Qt),hn=N(jt,Ke,de,le,Me,Ln),bn=hn[0],wn=hn[1],En=Ln.select("text.nums").call(i.font,{family:jt.fontFamily||Se,size:jt.fontSize||Ie,color:jt.fontColor||nn,weight:jt.fontWeight||xe,style:jt.fontStyle||ue,variant:jt.fontVariant||ae,textcase:jt.fontTextcase||pe,lineposition:jt.fontLineposition||De,shadow:jt.fontShadow||Te}).text(bn).attr("data-notex",1).call(o.positionText,0,0).call(o.convertToTspans,ce),Dn=Ln.select("text.name"),kn=0,Bn=0;if(wn&&wn!==bn){Dn.call(i.font,{family:jt.fontFamily||Se,size:jt.fontSize||Ie,color:cn,weight:jt.fontWeight||xe,style:jt.fontStyle||ue,variant:jt.fontVariant||ae,textcase:jt.fontTextcase||pe,lineposition:jt.fontLineposition||De,shadow:jt.fontShadow||Te}).text(wn).attr("data-notex",1).call(o.positionText,0,0).call(o.convertToTspans,ce);var Rn=Q(ce,Dn.node());kn=Rn.width+2*k,Bn=Rn.height+2*k}else Dn.remove(),Ln.select("rect").remove();Ln.select("path").style({fill:Qt,stroke:nn});var Kn=jt.xa._offset+(jt.x0+jt.x1)/2,Gn=jt.ya._offset+(jt.y0+jt.y1)/2,nr=Math.abs(jt.x1-jt.x0),$n=Math.abs(jt.y1-jt.y0),fr=Q(ce,En.node()),en=fr.width/le._invScaleX,rn=fr.height/le._invScaleY;jt.ty0=(Le-fr.top)/le._invScaleY,jt.bx=en+2*k,jt.by=Math.max(rn+2*k,Bn),jt.anchor="start",jt.txwidth=en,jt.tx2width=kn,jt.offset=0;var Cn,mn,On=(en+C+k+kn)*le._invScaleX;if(be)jt.pos=Kn,Cn=Gn+$n/2+On<=Ge,mn=Gn-$n/2-On>=0,jt.idealAlign!=="top"&&Cn||!mn?Cn?(Gn+=$n/2,jt.anchor="start"):jt.anchor="middle":(Gn-=$n/2,jt.anchor="end"),jt.crossPos=Gn;else{if(jt.pos=Gn,Cn=Kn+nr/2+On<=Ue,mn=Kn-nr/2-On>=0,jt.idealAlign!=="left"&&Cn||!mn)if(Cn)Kn+=nr/2,jt.anchor="start";else{jt.anchor="middle";var Hn=On/2,Un=Kn+Hn-Ue,Zn=Kn-Hn;Un>0&&(Kn-=Un),Zn<0&&(Kn+=-Zn)}else Kn-=nr/2,jt.anchor="end";jt.crossPos=Kn}En.attr("text-anchor",jt.anchor),kn&&Dn.attr("text-anchor",jt.anchor),Ln.attr("transform",f(Kn,Gn)+(be?s(m):""))}),{hoverLabels:Zt,commonLabelBoundingBox:nt}}function N(X,se,ce,le,de,be){var _e="",ve="";X.nameOverride!==void 0&&(X.name=X.nameOverride),X.name&&(X.trace._meta&&(X.name=M.templateString(X.name,X.trace._meta)),_e=ie(X.name,X.nameLength));var me=ce.charAt(0),ye=me==="x"?"y":"x";X.zLabel!==void 0?(X.xLabel!==void 0&&(ve+="x: "+X.xLabel+"<br>"),X.yLabel!==void 0&&(ve+="y: "+X.yLabel+"<br>"),X.trace.type!=="choropleth"&&X.trace.type!=="choroplethmapbox"&&(ve+=(ve?"z: ":"")+X.zLabel)):se&&X[me+"Label"]===de?ve=X[ye+"Label"]||"":X.xLabel===void 0?X.yLabel!==void 0&&X.trace.type!=="scattercarpet"&&(ve=X.yLabel):ve=X.yLabel===void 0?X.xLabel:"("+X.xLabel+", "+X.yLabel+")",!X.text&&X.text!==0||Array.isArray(X.text)||(ve+=(ve?"<br>":"")+X.text),X.extraText!==void 0&&(ve+=(ve?"<br>":"")+X.extraText),be&&ve===""&&!X.hovertemplate&&(_e===""&&be.remove(),ve=_e);var Se=X.hovertemplate||!1;if(Se){var Ie=X.hovertemplateLabels||X;X[me+"Label"]!==de&&(Ie[me+"other"]=Ie[me+"Val"],Ie[me+"otherLabel"]=Ie[me+"Label"]),ve=(ve=M.hovertemplateString(Se,Ie,le._d3locale,X.eventData[0]||{},X.trace._meta)).replace(z,function(xe,ue){return _e=ie(ue,X.nameLength),""})}return[ve,_e]}function V(X,se){var ce=0,le=X.offset;return se&&(le*=-d,ce=X.offset*A),{x:ce,y:le}}function Z(X,se,ce,le){var de=function(_e){return _e*ce},be=function(_e){return _e*le};X.each(function(_e){var ve=p.select(this);if(_e.del)return ve.remove();var me,ye,Se,Ie,xe=ve.select("text.nums"),ue=_e.anchor,ae=ue==="end"?-1:1,pe=(Ie=(Se=(ye={start:1,end:-1,middle:0}[(me=_e).anchor])*(C+k))+ye*(me.txwidth+k),me.anchor==="middle"&&(Se-=me.tx2width/2,Ie+=me.txwidth/2+k),{alignShift:ye,textShiftX:Se,text2ShiftX:Ie}),De=V(_e,se),Te=De.x,Ae=De.y,Ce=ue==="middle";ve.select("path").attr("d",Ce?"M-"+de(_e.bx/2+_e.tx2width/2)+","+be(Ae-_e.by/2)+"h"+de(_e.bx)+"v"+be(_e.by)+"h-"+de(_e.bx)+"Z":"M0,0L"+de(ae*C+Te)+","+be(C+Ae)+"v"+be(_e.by/2-C)+"h"+de(ae*_e.bx)+"v-"+be(_e.by)+"H"+de(ae*C+Te)+"V"+be(Ae-C)+"Z");var Re=Te+pe.textShiftX,Ne=Ae+_e.ty0-_e.by/2+k,ge=_e.textAlign||"auto";ge!=="auto"&&(ge==="left"&&ue!=="start"?(xe.attr("text-anchor","start"),Re=Ce?-_e.bx/2-_e.tx2width/2+k:-_e.bx-k):ge==="right"&&ue!=="end"&&(xe.attr("text-anchor","end"),Re=Ce?_e.bx/2-_e.tx2width/2-k:_e.bx+k)),xe.call(o.positionText,de(Re),be(Ne)),_e.tx2width&&(ve.select("text.name").call(o.positionText,de(pe.text2ShiftX+pe.alignShift*k+Te),be(Ae+_e.ty0-_e.by/2+k)),ve.select("rect").call(i.setRect,de(pe.text2ShiftX+(pe.alignShift-1)*_e.tx2width/2+Te),be(Ae-_e.by/2-1),de(_e.tx2width),be(_e.by+2)))})}function j(X,se){var ce=X.index,le=X.trace||{},de=X.cd[0],be=X.cd[ce]||{};function _e(xe){return xe||y(xe)&&xe===0}var ve=Array.isArray(ce)?function(xe,ue){var ae=M.castOption(de,ce,xe);return _e(ae)?ae:M.extractOption({},le,"",ue)}:function(xe,ue){return M.extractOption(be,le,xe,ue)};function me(xe,ue,ae){var pe=ve(ue,ae);_e(pe)&&(X[xe]=pe)}if(me("hoverinfo","hi","hoverinfo"),me("bgcolor","hbg","hoverlabel.bgcolor"),me("borderColor","hbc","hoverlabel.bordercolor"),me("fontFamily","htf","hoverlabel.font.family"),me("fontSize","hts","hoverlabel.font.size"),me("fontColor","htc","hoverlabel.font.color"),me("fontWeight","htw","hoverlabel.font.weight"),me("fontStyle","hty","hoverlabel.font.style"),me("fontVariant","htv","hoverlabel.font.variant"),me("nameLength","hnl","hoverlabel.namelength"),me("textAlign","hta","hoverlabel.align"),X.posref=se==="y"||se==="closest"&&le.orientation==="h"?X.xa._offset+(X.x0+X.x1)/2:X.ya._offset+(X.y0+X.y1)/2,X.x0=M.constrain(X.x0,0,X.xa._length),X.x1=M.constrain(X.x1,0,X.xa._length),X.y0=M.constrain(X.y0,0,X.ya._length),X.y1=M.constrain(X.y1,0,X.ya._length),X.xLabelVal!==void 0&&(X.xLabel="xLabel"in X?X.xLabel:u.hoverLabelText(X.xa,X.xLabelVal,le.xhoverformat),X.xVal=X.xa.c2d(X.xLabelVal)),X.yLabelVal!==void 0&&(X.yLabel="yLabel"in X?X.yLabel:u.hoverLabelText(X.ya,X.yLabelVal,le.yhoverformat),X.yVal=X.ya.c2d(X.yLabelVal)),X.zLabelVal!==void 0&&X.zLabel===void 0&&(X.zLabel=String(X.zLabelVal)),!(isNaN(X.xerr)||X.xa.type==="log"&&X.xerr<=0)){var ye=u.tickText(X.xa,X.xa.c2l(X.xerr),"hover").text;X.xerrneg!==void 0?X.xLabel+=" +"+ye+" / -"+u.tickText(X.xa,X.xa.c2l(X.xerrneg),"hover").text:X.xLabel+=" \xB1 "+ye,se==="x"&&(X.distance+=1)}if(!(isNaN(X.yerr)||X.ya.type==="log"&&X.yerr<=0)){var Se=u.tickText(X.ya,X.ya.c2l(X.yerr),"hover").text;X.yerrneg!==void 0?X.yLabel+=" +"+Se+" / -"+u.tickText(X.ya,X.ya.c2l(X.yerrneg),"hover").text:X.yLabel+=" \xB1 "+Se,se==="y"&&(X.distance+=1)}var Ie=X.hoverinfo||X.trace.hoverinfo;return Ie&&Ie!=="all"&&((Ie=Array.isArray(Ie)?Ie:Ie.split("+")).indexOf("x")===-1&&(X.xLabel=void 0),Ie.indexOf("y")===-1&&(X.yLabel=void 0),Ie.indexOf("z")===-1&&(X.zLabel=void 0),Ie.indexOf("text")===-1&&(X.text=void 0),Ie.indexOf("name")===-1&&(X.name=void 0)),X}function H(X,se,ce){var le,de,be=ce.container,_e=ce.fullLayout,ve=_e._size,me=ce.event,ye=!!se.hLinePoint,Se=!!se.vLinePoint;if(be.selectAll(".spikeline").remove(),Se||ye){var Ie=a.combine(_e.plot_bgcolor,_e.paper_bgcolor);if(ye){var xe,ue,ae=se.hLinePoint;le=ae&&ae.xa,(de=ae&&ae.ya).spikesnap==="cursor"?(xe=me.pointerX,ue=me.pointerY):(xe=le._offset+ae.x,ue=de._offset+ae.y);var pe,De,Te=n.readability(ae.color,Ie)<1.5?a.contrast(Ie):ae.color,Ae=de.spikemode,Ce=de.spikethickness,Re=de.spikecolor||Te,Ne=u.getPxPosition(X,de);if(Ae.indexOf("toaxis")!==-1||Ae.indexOf("across")!==-1){if(Ae.indexOf("toaxis")!==-1&&(pe=Ne,De=xe),Ae.indexOf("across")!==-1){var ge=de._counterDomainMin,Me=de._counterDomainMax;de.anchor==="free"&&(ge=Math.min(ge,de.position),Me=Math.max(Me,de.position)),pe=ve.l+ge*ve.w,De=ve.l+Me*ve.w}be.insert("line",":first-child").attr({x1:pe,x2:De,y1:ue,y2:ue,"stroke-width":Ce,stroke:Re,"stroke-dasharray":i.dashStyle(de.spikedash,Ce)}).classed("spikeline",!0).classed("crisp",!0),be.insert("line",":first-child").attr({x1:pe,x2:De,y1:ue,y2:ue,"stroke-width":Ce+2,stroke:Ie}).classed("spikeline",!0).classed("crisp",!0)}Ae.indexOf("marker")!==-1&&be.insert("circle",":first-child").attr({cx:Ne+(de.side!=="right"?Ce:-Ce),cy:ue,r:Ce,fill:Re}).classed("spikeline",!0)}if(Se){var Ee,Fe,Le=se.vLinePoint;le=Le&&Le.xa,de=Le&&Le.ya,le.spikesnap==="cursor"?(Ee=me.pointerX,Fe=me.pointerY):(Ee=le._offset+Le.x,Fe=de._offset+Le.y);var Ue,Ge,Ke=n.readability(Le.color,Ie)<1.5?a.contrast(Ie):Le.color,at=le.spikemode,st=le.spikethickness,vt=le.spikecolor||Ke,xt=u.getPxPosition(X,le);if(at.indexOf("toaxis")!==-1||at.indexOf("across")!==-1){if(at.indexOf("toaxis")!==-1&&(Ue=xt,Ge=Fe),at.indexOf("across")!==-1){var gt=le._counterDomainMin,nt=le._counterDomainMax;le.anchor==="free"&&(gt=Math.min(gt,le.position),nt=Math.max(nt,le.position)),Ue=ve.t+(1-nt)*ve.h,Ge=ve.t+(1-gt)*ve.h}be.insert("line",":first-child").attr({x1:Ee,x2:Ee,y1:Ue,y2:Ge,"stroke-width":st,stroke:vt,"stroke-dasharray":i.dashStyle(le.spikedash,st)}).classed("spikeline",!0).classed("crisp",!0),be.insert("line",":first-child").attr({x1:Ee,x2:Ee,y1:Ue,y2:Ge,"stroke-width":st+2,stroke:Ie}).classed("spikeline",!0).classed("crisp",!0)}at.indexOf("marker")!==-1&&be.insert("circle",":first-child").attr({cx:Ee,cy:xt-(le.side!=="top"?st:-st),r:st,fill:vt}).classed("spikeline",!0)}}}function Y(X,se){return!se||se.vLinePoint!==X._spikepoints.vLinePoint||se.hLinePoint!==X._spikepoints.hLinePoint}function ie(X,se){return o.plainText(X||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function re(X,se,ce){var le=se[X+"a"],de=se[X+"Val"],be=se.cd[0];if(le.type==="category"||le.type==="multicategory")de=le._categoriesMap[de];else if(le.type==="date"){var _e=se.trace[X+"periodalignment"];if(_e){var ve=se.cd[se.index],me=ve[X+"Start"];me===void 0&&(me=ve[X]);var ye=ve[X+"End"];ye===void 0&&(ye=ve[X]);var Se=ye-me;_e==="end"?de+=Se:_e==="middle"&&(de+=Se/2)}de=le.d2c(de)}return be&&be.t&&be.t.posLetter===le._id&&(ce.boxmode!=="group"&&ce.violinmode!=="group"||(de+=be.t.dPos)),de}function ne(X){return X.offsetTop+X.clientTop}function ee(X){return X.offsetLeft+X.clientLeft}function Q(X,se){var ce=X._fullLayout,le=se.getBoundingClientRect(),de=le.left,be=le.top,_e=de+le.width,ve=be+le.height,me=M.apply3DTransform(ce._invTransform)(de,be),ye=M.apply3DTransform(ce._invTransform)(_e,ve),Se=me[0],Ie=me[1],xe=ye[0],ue=ye[1];return{x:Se,y:Ie,width:xe-Se,height:ue-Ie,top:Math.min(Ie,ue),left:Math.min(Se,xe),right:Math.max(Se,xe),bottom:Math.max(Ie,ue)}}},16132:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(10624).isUnifiedHover;S.exports=function(M,b,f,s){s=s||{};var t=b.legend;function o(r){s.font[r]||(s.font[r]=t?b.legend.font[r]:b.font[r])}b&&n(b.hovermode)&&(s.font||(s.font={}),o("size"),o("family"),o("color"),o("weight"),o("style"),o("variant"),t?(s.bgcolor||(s.bgcolor=y.combine(b.legend.bgcolor,b.paper_bgcolor)),s.bordercolor||(s.bordercolor=b.legend.bordercolor)):s.bgcolor||(s.bgcolor=b.paper_bgcolor)),f("hoverlabel.bgcolor",s.bgcolor),f("hoverlabel.bordercolor",s.bordercolor),f("hoverlabel.namelength",s.namelength),p.coerceFont(f,"hoverlabel.font",s.font),f("hoverlabel.align",s.align)}},41008:function(S,x,e){"use strict";var p=e(3400),y=e(65460);S.exports=function(n,M){function b(f,s){return M[f]!==void 0?M[f]:p.coerce(n,M,y,f,s)}return b("clickmode"),b("hoversubplots"),b("hovermode")}},93024:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(86476),M=e(10624),b=e(65460),f=e(83292);S.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:b},attributes:e(55756),layoutAttributes:b,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:M.getDistanceFunction,getClosest:M.getClosest,inbox:M.inbox,quadrature:M.quadrature,appendArrayPointValue:M.appendArrayPointValue,castHoverOption:function(s,t,o){return y.castOption(s,t,"hoverlabel."+o)},castHoverinfo:function(s,t,o){return y.castOption(s,o,"hoverinfo",function(r){return y.coerceHoverinfo({hoverinfo:r},{_module:s._module},t)})},hover:f.hover,unhover:n.unhover,loneHover:f.loneHover,loneUnhover:function(s){var t=y.isD3Selection(s)?s:p.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(S,x,e){"use strict";var p=e(92456),y=e(25376),n=y({editType:"none"});n.family.dflt=p.HOVERFONT,n.size.dflt=p.HOVERFONTSIZE,S.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:y({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(S,x,e){"use strict";var p=e(3400),y=e(65460),n=e(41008),M=e(16132);S.exports=function(b,f){function s(i,a){return p.coerce(b,f,y,i,a)}n(b,f)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var t=f._has("mapbox"),o=f._has("geo"),r=f._basePlotModules.length;f.dragmode==="zoom"&&((t||o)&&r===1||t&&o&&r===2)&&(f.dragmode="pan"),M(b,f,s),p.coerceFont(s,"hoverlabel.grouptitlefont",f.hoverlabel.font)}},81976:function(S,x,e){"use strict";var p=e(3400),y=e(16132),n=e(65460);S.exports=function(M,b){y(M,b,function(f,s){return p.coerce(M,b,n,f,s)})}},12704:function(S,x,e){"use strict";var p=e(3400),y=e(53756).counter,n=e(86968).u,M=e(33816).idRegex,b=e(31780),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[y("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[M.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[M.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(r,i,a){var l=i[a+"axes"],u=Object.keys((r._splomAxes||{})[a]||{});return Array.isArray(l)?l:u.length?u:void 0}function t(r,i,a,l,u,h){var c=i(r+"gap",a),w=i("domain."+r);i(r+"side",l);for(var g=new Array(u),v=w[0],m=(w[1]-v)/(u-c),T=m*(1-c),_=0;_<u;_++){var A=v+m*_;g[h?u-1-_:_]=[A,A+T]}return g}function o(r,i,a,l,u){var h,c=new Array(a);function w(g,v){i.indexOf(v)!==-1&&l[v]===void 0?(c[g]=v,l[v]=g):c[g]=""}if(Array.isArray(r))for(h=0;h<a;h++)w(h,r[h]);else for(w(0,u),h=1;h<a;h++)w(h,u+(h+1));return c}S.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:function(r,i){var a=r.grid||{},l=s(i,a,"x"),u=s(i,a,"y");if(r.grid||l||u){var h,c,w=Array.isArray(a.subplots)&&Array.isArray(a.subplots[0]),g=Array.isArray(l),v=Array.isArray(u),m=g&&l!==a.xaxes&&v&&u!==a.yaxes;w?(h=a.subplots.length,c=a.subplots[0].length):(v&&(h=u.length),g&&(c=l.length));var T=b.newContainer(i,"grid"),_=L("rows",h),A=L("columns",c);if(_*A>1){w||g||v||L("pattern")==="independent"&&(w=!0),T._hasSubplotGrid=w;var d,C,k=L("roworder")==="top to bottom",D=w?.2:.1,O=w?.3:.1;m&&i._splomGridDflt&&(d=i._splomGridDflt.xside,C=i._splomGridDflt.yside),T._domains={x:t("x",L,D,d,A),y:t("y",L,O,C,_,k)}}else delete i.grid}function L(R,z){return p.coerce(a,T,f,R,z)}},contentDefaults:function(r,i){var a=i.grid;if(a&&a._domains){var l,u,h,c,w,g,v,m=r.grid||{},T=i._subplots,_=a._hasSubplotGrid,A=a.rows,d=a.columns,C=a.pattern==="independent",k=a._axisMap={};if(_){var D=m.subplots||[];g=a.subplots=new Array(A);var O=1;for(l=0;l<A;l++){var L=g[l]=new Array(d),R=D[l]||[];for(u=0;u<d;u++)if(C?(w=O===1?"xy":"x"+O+"y"+O,O++):w=R[u],L[u]="",T.cartesian.indexOf(w)!==-1){if(v=w.indexOf("y"),h=w.slice(0,v),c=w.slice(v),k[h]!==void 0&&k[h]!==u||k[c]!==void 0&&k[c]!==l)continue;L[u]=w,k[h]=u,k[c]=l}}}else{var z=s(i,m,"x"),q=s(i,m,"y");a.xaxes=o(z,T.xaxis,d,k,"x"),a.yaxes=o(q,T.yaxis,A,k,"y")}var N=a._anchors={},V=a.roworder==="top to bottom";for(var Z in k){var j,H,Y,ie=Z.charAt(0),re=a[ie+"side"];if(re.length<8)N[Z]="free";else if(ie==="x"){if(re.charAt(0)==="t"===V?(j=0,H=1,Y=A):(j=A-1,H=-1,Y=-1),_){var ne=k[Z];for(l=j;l!==Y;l+=H)if((w=g[l][ne])&&(v=w.indexOf("y"),w.slice(0,v)===Z)){N[Z]=w.slice(v);break}}else for(l=j;l!==Y;l+=H)if(c=a.yaxes[l],T.cartesian.indexOf(Z+c)!==-1){N[Z]=c;break}}else if(re.charAt(0)==="l"?(j=0,H=1,Y=d):(j=d-1,H=-1,Y=-1),_){var ee=k[Z];for(l=j;l!==Y;l+=H)if((w=g[ee][l])&&(v=w.indexOf("y"),w.slice(v)===Z)){N[Z]=w.slice(0,v);break}}else for(l=j;l!==Y;l+=H)if(h=a.xaxes[l],T.cartesian.indexOf(h+Z)!==-1){N[Z]=h;break}}}}}},65760:function(S,x,e){"use strict";var p=e(33816),y=e(31780).templatedArray;e(36208),S.exports=y("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(S,x,e){"use strict";var p=e(38248),y=e(36896);S.exports=function(n,M,b,f){M=M||{};var s=b==="log"&&M.type==="linear",t=b==="linear"&&M.type==="log";if(s||t){for(var o,r,i=n._fullLayout.images,a=M._id.charAt(0),l=0;l<i.length;l++)if(r="images["+l+"].",(o=i[l])[a+"ref"]===M._id){var u=o[a],h=o["size"+a],c=null,w=null;if(s){c=y(u,M.range);var g=h/Math.pow(10,c)/2;w=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else w=(c=Math.pow(10,u))*(Math.pow(10,h/2)-Math.pow(10,-h/2));p(c)?p(w)||(w=null):(c=null,w=null),f(r+a,c),f(r+"size"+a,w)}}}},25024:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(51272),M=e(65760);function b(f,s,t){function o(c,w){return p.coerce(f,s,M,c,w)}var r=o("source");if(!o("visible",!!r))return s;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var i={_fullLayout:t},a=["x","y"],l=0;l<2;l++){var u=a[l],h=y.coerceRef(f,s,i,u,"paper",void 0);h!=="paper"&&y.getFromId(i,h)._imgIndices.push(s._index),y.coercePosition(s,i,o,h,u,0)}return s}S.exports=function(f,s){n(f,s,{name:"images",handleItemDefaults:b})}},60963:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(54460),M=e(79811),b=e(9616);S.exports=function(f){var s,t,o=f._fullLayout,r=[],i={},a=[];for(t=0;t<o.images.length;t++){var l=o.images[t];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){s=M.ref2id(l.xref)+M.ref2id(l.yref);var u=o._plots[s];if(!u){a.push(l);continue}u.mainplot&&(s=u.mainplot.id),i[s]||(i[s]=[]),i[s].push(l)}else l.layer==="above"?r.push(l):a.push(l)}var h={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function w(d){var C=p.select(this);if(this._imgSrc!==d.source)if(C.attr("xmlns",b.svg),d.source&&d.source.slice(0,5)==="data:")C.attr("xlink:href",d.source),this._imgSrc=d.source;else{var k=new Promise((function(D){var O=new Image;function L(){C.remove(),D()}this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=L,O.onload=function(){var R=document.createElement("canvas");R.width=this.width,R.height=this.height,R.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=R.toDataURL("image/png");C.attr("xlink:href",z),D()},C.on("error",L),O.src=d.source,this._imgSrc=d.source}).bind(this));f._promises.push(k)}}function g(d){var C,k,D=p.select(this),O=n.getFromId(f,d.xref),L=n.getFromId(f,d.yref),R=n.getRefType(d.xref)==="domain",z=n.getRefType(d.yref)==="domain",q=o._size;C=O!==void 0?typeof d.xref=="string"&&R?O._length*d.sizex:Math.abs(O.l2p(d.sizex)-O.l2p(0)):d.sizex*q.w,k=L!==void 0?typeof d.yref=="string"&&z?L._length*d.sizey:Math.abs(L.l2p(d.sizey)-L.l2p(0)):d.sizey*q.h;var N,V,Z=C*h[d.xanchor].offset,j=k*c[d.yanchor].offset,H=h[d.xanchor].sizing+c[d.yanchor].sizing;switch(N=O!==void 0?typeof d.xref=="string"&&R?O._length*d.x+O._offset:O.r2p(d.x)+O._offset:d.x*q.w+q.l,N+=Z,V=L!==void 0?typeof d.yref=="string"&&z?L._length*(1-d.y)+L._offset:L.r2p(d.y)+L._offset:q.h-d.y*q.h+q.t,V+=j,d.sizing){case"fill":H+=" slice";break;case"stretch":H="none"}D.attr({x:N,y:V,width:C,height:k,preserveAspectRatio:H,opacity:d.opacity});var Y=(O&&n.getRefType(d.xref)!=="domain"?O._id:"")+(L&&n.getRefType(d.yref)!=="domain"?L._id:"");y.setClipUrl(D,Y?"clip"+o._uid+Y:null,f)}var v=o._imageLowerLayer.selectAll("image").data(a),m=o._imageUpperLayer.selectAll("image").data(r);v.enter().append("image"),m.enter().append("image"),v.exit().remove(),m.exit().remove(),v.each(function(d){w.bind(this)(d),g.bind(this)(d)}),m.each(function(d){w.bind(this)(d),g.bind(this)(d)});var T=Object.keys(o._plots);for(t=0;t<T.length;t++){s=T[t];var _=o._plots[s];if(_.imagelayer){var A=_.imagelayer.selectAll("image").data(i[s]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(d){w.bind(this)(d),g.bind(this)(d)})}}}},7402:function(S,x,e){"use strict";S.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(S,x,e){"use strict";var p=e(25376),y=e(22548);S.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(S){"use strict";S.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(31780),M=e(45464),b=e(3800),f=e(64859),s=e(42451);function t(o,r,i,a){var l=r[o]||{},u=n.newContainer(i,o);function h(H,Y){return y.coerce(l,u,b,H,Y)}var c=y.coerceFont(h,"font",i.font);if(h("bgcolor",i.paper_bgcolor),h("bordercolor"),h("visible")){for(var w,g=function(H,Y){var ie=w._input,re=w;return y.coerce(ie,re,M,H,Y)},v=i.font||{},m=y.coerceFont(h,"grouptitlefont",v,{overrideDflt:{size:Math.round(1.1*v.size)}}),T=0,_=!1,A="normal",d=(i.shapes||[]).filter(function(H){return H.showlegend}),C=a.concat(d).filter(function(H){return o===(H.legend||"legend")}),k=0;k<C.length;k++)if((w=C[k]).visible){var D=w._isShape;(w.showlegend||w._dfltShowLegend&&!(w._module&&w._module.attributes&&w._module.attributes.showlegend&&w._module.attributes.showlegend.dflt===!1))&&(T++,w.showlegend&&(_=!0,(!D&&p.traceIs(w,"pie-like")||w._input.showlegend===!0)&&T++),y.coerceFont(g,"legendgrouptitle.font",m)),(!D&&p.traceIs(w,"bar")&&i.barmode==="stack"||["tonextx","tonexty"].indexOf(w.fill)!==-1)&&(A=s.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),w.legendgroup!==void 0&&w.legendgroup!==""&&(A=s.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var O=y.coerce(r,i,f,"showlegend",_&&T>(o==="legend"?1:0));if(O===!1&&(i[o]=void 0),(O!==!1||l.uirevision)&&(h("uirevision",i.uirevision),O!==!1)){h("borderwidth");var L,R,z,q=h("orientation")==="h",N=h("yref")==="paper",V=h("xref")==="paper",Z="left";if(q?(L=0,p.getComponentMethod("rangeslider","isVisible")(r.xaxis)?N?(R=1.1,z="bottom"):(R=1,z="top"):N?(R=-.1,z="top"):(R=0,z="bottom")):(R=1,z="auto",V?L=1.02:(L=1,Z="right")),y.coerce(l,u,{x:{valType:"number",editType:"legend",min:V?-2:0,max:V?3:1,dflt:L}},"x"),y.coerce(l,u,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:R}},"y"),h("traceorder",A),s.isGrouped(i[o])&&h("tracegroupgap"),h("entrywidth"),h("entrywidthmode"),h("indentation"),h("itemsizing"),h("itemwidth"),h("itemclick"),h("itemdoubleclick"),h("groupclick"),h("xanchor",Z),h("yanchor",z),h("valign"),y.noneOrAll(l,u,["x","y"]),h("title.text")){h("title.side",q?"left":"top");var j=y.extendFlat({},c,{size:y.bigFont(c.size)});y.coerceFont(h,"title.font",j)}}}}S.exports=function(o,r,i){var a,l=i.slice(),u=r.shapes;if(u)for(a=0;a<u.length;a++){var h=u[a];if(h.showlegend){var c={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(c)}}var w=["legend"];for(a=0;a<l.length;a++)y.pushUnique(w,l[a].legend);for(r._legends=[],a=0;a<w.length;a++){var g=w[a];t(g,o,r,l),r[g]&&r[g].visible&&(r[g]._id=g),r._legends.push(g)}}},31140:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(7316),M=e(24040),b=e(95924),f=e(86476),s=e(43616),t=e(76308),o=e(72736),r=e(33048),i=e(65196),a=e(84284),l=a.LINE_SPACING,u=a.FROM_TL,h=a.FROM_BR,c=e(35456),w=e(2012),g=e(42451),v=1,m=/^legend[0-9]*$/;function T(z,q){var N,V,Z=q||{},j=z._fullLayout,H=R(Z),Y=Z._inHover;if(Y?(V=Z.layer,N="hover"):(V=j._infolayer,N=H),V){var ie;if(N+=j._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0),Y){if(!Z.entries)return;ie=c(Z.entries,Z)}else{for(var re=(z.calcdata||[]).slice(),ne=j.shapes,ee=0;ee<ne.length;ee++){var Q=ne[ee];if(Q.showlegend){var X={_isShape:!0,_fullInput:Q,index:Q._index,name:Q.name||Q.label.text||"shape "+Q._index,legend:Q.legend,legendgroup:Q.legendgroup,legendgrouptitle:Q.legendgrouptitle,legendrank:Q.legendrank,legendwidth:Q.legendwidth,showlegend:Q.showlegend,visible:Q.visible,opacity:Q.opacity,mode:Q.type==="line"?"lines":"markers",line:Q.line,marker:{line:Q.line,color:Q.fillcolor,size:12,symbol:Q.type==="rect"?"square":Q.type==="circle"?"circle":"hexagon2"}};re.push([{trace:X}])}}ie=j.showlegend&&c(re,Z,j._legends.length>1)}var se=j.hiddenlabels||[];if(!(Y||j.showlegend&&ie.length))return V.selectAll("."+H).remove(),j._topdefs.select("#"+N).remove(),n.autoMargin(z,H);var ce=y.ensureSingle(V,"g",H,function(Ie){Y||Ie.attr("pointer-events","all")}),le=y.ensureSingleById(j._topdefs,"clipPath",N,function(Ie){Ie.append("rect")}),de=y.ensureSingle(ce,"rect","bg",function(Ie){Ie.attr("shape-rendering","crispEdges")});de.call(t.stroke,Z.bordercolor).call(t.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var be,_e=y.ensureSingle(ce,"g","scrollbox"),ve=Z.title;Z._titleWidth=0,Z._titleHeight=0,ve.text?((be=y.ensureSingle(_e,"text",H+"titletext")).attr("text-anchor","start").call(s.font,ve.font).text(ve.text),D(be,_e,z,Z,v)):_e.selectAll("."+H+"titletext").remove();var me=y.ensureSingle(ce,"rect","scrollbar",function(Ie){Ie.attr(i.scrollBarEnterAttrs).call(t.fill,i.scrollBarColor)}),ye=_e.selectAll("g.groups").data(ie);ye.enter().append("g").attr("class","groups"),ye.exit().remove();var Se=ye.selectAll("g.traces").data(y.identity);Se.enter().append("g").attr("class","traces"),Se.exit().remove(),Se.style("opacity",function(Ie){var xe=Ie[0].trace;return M.traceIs(xe,"pie-like")?se.indexOf(Ie[0].label)!==-1?.5:1:xe.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(d,z,Z)}).call(w,z,Z).each(function(){Y||p.select(this).call(k,z,H)}),y.syncOrAsync([n.previousPromises,function(){return function(Ie,xe,ue,ae){var pe=Ie._fullLayout,De=R(ae);ae||(ae=pe[De]);var Te=pe._size,Ae=g.isVertical(ae),Ce=g.isGrouped(ae),Re=ae.entrywidthmode==="fraction",Ne=ae.borderwidth,ge=2*Ne,Me=i.itemGap,Ee=ae.indentation+ae.itemwidth+2*Me,Fe=2*(Ne+Me),Le=L(ae),Ue=ae.y<0||ae.y===0&&Le==="top",Ge=ae.y>1||ae.y===1&&Le==="bottom",Ke=ae.tracegroupgap,at={};ae._maxHeight=Math.max(Ue||Ge?pe.height/2:Te.h,30);var st=0;ae._width=0,ae._height=0;var vt=function(mt){var yt=0,ht=0,kt=mt.title.side;return kt&&(kt.indexOf("left")!==-1&&(yt=mt._titleWidth),kt.indexOf("top")!==-1&&(ht=mt._titleHeight)),[yt,ht]}(ae);if(Ae)ue.each(function(mt){var yt=mt[0].height;s.setTranslate(this,Ne+vt[0],Ne+vt[1]+ae._height+yt/2+Me),ae._height+=yt,ae._width=Math.max(ae._width,mt[0].width)}),st=Ee+ae._width,ae._width+=Me+Ee+ge,ae._height+=Fe,Ce&&(xe.each(function(mt,yt){s.setTranslate(this,0,yt*ae.tracegroupgap)}),ae._height+=(ae._lgroupsLength-1)*ae.tracegroupgap);else{var xt=O(ae),gt=ae.x<0||ae.x===0&&xt==="right",nt=ae.x>1||ae.x===1&&xt==="left",et=Ge||Ue,At=pe.width/2;ae._maxWidth=Math.max(gt?et&&xt==="left"?Te.l+Te.w:At:nt?et&&xt==="right"?Te.r+Te.w:At:Te.w,2*Ee);var Pt=0,Rt=0;ue.each(function(mt){var yt=_(mt,ae,Ee);Pt=Math.max(Pt,yt),Rt+=yt}),st=null;var Et=0;if(Ce){var Ye=0,Xe=0,Ve=0;xe.each(function(){var mt=0,yt=0;p.select(this).selectAll("g.traces").each(function(kt){var bt=_(kt,ae,Ee),St=kt[0].height;s.setTranslate(this,vt[0],vt[1]+Ne+Me+St/2+yt),yt+=St,mt=Math.max(mt,bt),at[kt[0].trace.legendgroup]=mt});var ht=mt+Me;Xe>0&&ht+Ne+Xe>ae._maxWidth?(Et=Math.max(Et,Xe),Xe=0,Ve+=Ye+Ke,Ye=yt):Ye=Math.max(Ye,yt),s.setTranslate(this,Xe,Ve),Xe+=ht}),ae._width=Math.max(Et,Xe)+Ne,ae._height=Ve+Ye+Fe}else{var Ze=ue.size(),lt=Rt+ge+(Ze-1)*Me<ae._maxWidth,it=0,Be=0,je=0,ot=0;ue.each(function(mt){var yt=mt[0].height,ht=_(mt,ae,Ee),kt=lt?ht:Pt;Re||(kt+=Me),kt+Ne+Be-Me>=ae._maxWidth&&(Et=Math.max(Et,ot),Be=0,je+=it,ae._height+=it,it=0),s.setTranslate(this,vt[0]+Ne+Be,vt[1]+Ne+je+yt/2+Me),ot=Be+ht+Me,Be+=kt,it=Math.max(it,yt)}),lt?(ae._width=Be+ge,ae._height=it+Fe):(ae._width=Math.max(Et,ot)+ge,ae._height+=it+Fe)}}ae._width=Math.ceil(Math.max(ae._width+vt[0],ae._titleWidth+2*(Ne+i.titlePad))),ae._height=Math.ceil(Math.max(ae._height+vt[1],ae._titleHeight+2*(Ne+i.itemGap))),ae._effHeight=Math.min(ae._height,ae._maxHeight);var $e=Ie._context.edits,dt=$e.legendText||$e.legendPosition;ue.each(function(mt){var yt=p.select(this).select("."+De+"toggle"),ht=mt[0].height,kt=mt[0].trace.legendgroup,bt=_(mt,ae,Ee);Ce&&kt!==""&&(bt=at[kt]);var St=dt?Ee:st||bt;Ae||Re||(St+=Me/2),s.setRect(yt,0,-ht/2,St,ht)})}(z,ye,Se,Z)},function(){var Ie,xe,ue,ae,pe=j._size,De=Z.borderwidth,Te=Z.xref==="paper",Ae=Z.yref==="paper";if(ve.text&&function(et,At,Pt){if(At.title.side==="top center"||At.title.side==="top right"){var Rt=At.title.font.size*l,Et=0,Ye=et.node(),Xe=s.bBox(Ye).width;At.title.side==="top center"?Et=.5*(At._width-2*Pt-2*i.titlePad-Xe):At.title.side==="top right"&&(Et=At._width-2*Pt-2*i.titlePad-Xe),o.positionText(et,Pt+i.titlePad+Et,Pt+Rt)}}(be,Z,De),!Y){var Ce,Re;Ce=Te?pe.l+pe.w*Z.x-u[O(Z)]*Z._width:j.width*Z.x-u[O(Z)]*Z._width,Re=Ae?pe.t+pe.h*(1-Z.y)-u[L(Z)]*Z._effHeight:j.height*(1-Z.y)-u[L(Z)]*Z._effHeight;var Ne=function(et,At,Pt,Rt){var Et=et._fullLayout,Ye=Et[At],Xe=O(Ye),Ve=L(Ye),Ze=Ye.xref==="paper",lt=Ye.yref==="paper";et._fullLayout._reservedMargin[At]={};var it=Ye.y<.5?"b":"t",Be=Ye.x<.5?"l":"r",je={r:Et.width-Pt,l:Pt+Ye._width,b:Et.height-Rt,t:Rt+Ye._effHeight};if(Ze&&lt)return n.autoMargin(et,At,{x:Ye.x,y:Ye.y,l:Ye._width*u[Xe],r:Ye._width*h[Xe],b:Ye._effHeight*h[Ve],t:Ye._effHeight*u[Ve]});Ze?et._fullLayout._reservedMargin[At][it]=je[it]:lt||Ye.orientation==="v"?et._fullLayout._reservedMargin[At][Be]=je[Be]:et._fullLayout._reservedMargin[At][it]=je[it]}(z,H,Ce,Re);if(Ne)return;if(j.margin.autoexpand){var ge=Ce,Me=Re;Ce=Te?y.constrain(Ce,0,j.width-Z._width):ge,Re=Ae?y.constrain(Re,0,j.height-Z._effHeight):Me,Ce!==ge&&y.log("Constrain "+H+".x to make legend fit inside graph"),Re!==Me&&y.log("Constrain "+H+".y to make legend fit inside graph")}s.setTranslate(ce,Ce,Re)}if(me.on(".drag",null),ce.on("wheel",null),Y||Z._height<=Z._maxHeight||z._context.staticPlot){var Ee=Z._effHeight;Y&&(Ee=Z._height),de.attr({width:Z._width-De,height:Ee-De,x:De/2,y:De/2}),s.setTranslate(_e,0,0),le.select("rect").attr({width:Z._width-2*De,height:Ee-2*De,x:De,y:De}),s.setClipUrl(_e,N,z),s.setRect(me,0,0,0,0),delete Z._scrollY}else{var Fe,Le,Ue,Ge=Math.max(i.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),Ke=Z._effHeight-Ge-2*i.scrollBarMargin,at=Z._height-Z._effHeight,st=Ke/at,vt=Math.min(Z._scrollY||0,at);de.attr({width:Z._width-2*De+i.scrollBarWidth+i.scrollBarMargin,height:Z._effHeight-De,x:De/2,y:De/2}),le.select("rect").attr({width:Z._width-2*De+i.scrollBarWidth+i.scrollBarMargin,height:Z._effHeight-2*De,x:De,y:De+vt}),s.setClipUrl(_e,N,z),nt(vt,Ge,st),ce.on("wheel",function(){nt(vt=y.constrain(Z._scrollY+p.event.deltaY/Ke*at,0,at),Ge,st),vt!==0&&vt!==at&&p.event.preventDefault()});var xt=p.behavior.drag().on("dragstart",function(){var et=p.event.sourceEvent;Fe=et.type==="touchstart"?et.changedTouches[0].clientY:et.clientY,Ue=vt}).on("drag",function(){var et=p.event.sourceEvent;et.buttons===2||et.ctrlKey||(Le=et.type==="touchmove"?et.changedTouches[0].clientY:et.clientY,vt=function(At,Pt,Rt){var Et=(Rt-Pt)/st+At;return y.constrain(Et,0,at)}(Ue,Fe,Le),nt(vt,Ge,st))});me.call(xt);var gt=p.behavior.drag().on("dragstart",function(){var et=p.event.sourceEvent;et.type==="touchstart"&&(Fe=et.changedTouches[0].clientY,Ue=vt)}).on("drag",function(){var et=p.event.sourceEvent;et.type==="touchmove"&&(Le=et.changedTouches[0].clientY,vt=function(At,Pt,Rt){var Et=(Pt-Rt)/st+At;return y.constrain(Et,0,at)}(Ue,Fe,Le),nt(vt,Ge,st))});_e.call(gt)}function nt(et,At,Pt){Z._scrollY=z._fullLayout[H]._scrollY=et,s.setTranslate(_e,0,-et),s.setRect(me,Z._width,i.scrollBarMargin+et*Pt,i.scrollBarWidth,At),le.select("rect").attr("y",De+et)}z._context.edits.legendPosition&&(ce.classed("cursor-move",!0),f.init({element:ce.node(),gd:z,prepFn:function(et){if(et.target!==me.node()){var At=s.getTranslate(ce);ue=At.x,ae=At.y}},moveFn:function(et,At){if(ue!==void 0&&ae!==void 0){var Pt=ue+et,Rt=ae+At;s.setTranslate(ce,Pt,Rt),Ie=f.align(Pt,Z._width,pe.l,pe.l+pe.w,Z.xanchor),xe=f.align(Rt+Z._height,-Z._height,pe.t+pe.h,pe.t,Z.yanchor)}},doneFn:function(){if(Ie!==void 0&&xe!==void 0){var et={};et[H+".x"]=Ie,et[H+".y"]=xe,M.call("_guiRelayout",z,et)}},clickFn:function(et,At){var Pt=V.selectAll("g.traces").filter(function(){var Rt=this.getBoundingClientRect();return At.clientX>=Rt.left&&At.clientX<=Rt.right&&At.clientY>=Rt.top&&At.clientY<=Rt.bottom});Pt.size()>0&&A(z,ce,Pt,et,At)}}))}],z)}}function _(z,q,N){var V=z[0],Z=V.width,j=q.entrywidthmode,H=V.trace.legendwidth||q.entrywidth;return j==="fraction"?q._maxWidth*H:N+(H||Z)}function A(z,q,N,V,Z){var j=N.data()[0][0].trace,H={event:Z,node:N.node(),curveNumber:j.index,expandedIndex:j._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};j._group&&(H.group=j._group),M.traceIs(j,"pie-like")&&(H.label=N.datum()[0].label);var Y=b.triggerHandler(z,"plotly_legendclick",H);if(V===1){if(Y===!1)return;q._clickTimeout=setTimeout(function(){z._fullLayout&&r(N,z,V)},z._context.doubleClickDelay)}else V===2&&(q._clickTimeout&&clearTimeout(q._clickTimeout),z._legendMouseDownTime=0,b.triggerHandler(z,"plotly_legenddoubleclick",H)!==!1&&Y!==!1&&r(N,z,V))}function d(z,q,N){var V,Z,j=R(N),H=z.data()[0][0],Y=H.trace,ie=M.traceIs(Y,"pie-like"),re=!N._inHover&&q._context.edits.legendText&&!ie,ne=N._maxNameLength;H.groupTitle?(V=H.groupTitle.text,Z=H.groupTitle.font):(Z=N.font,N.entries?V=H.text:(V=ie?H.label:Y.name,Y._meta&&(V=y.templateString(V,Y._meta))));var ee=y.ensureSingle(z,"text",j+"text");ee.attr("text-anchor","start").call(s.font,Z).text(re?C(V,ne):V);var Q=N.indentation+N.itemwidth+2*i.itemGap;o.positionText(ee,Q,0),re?ee.call(o.makeEditable,{gd:q,text:V}).call(D,z,q,N).on("edit",function(X){this.text(C(X,ne)).call(D,z,q,N);var se=H.trace._fullInput||{},ce={};if(M.hasTransform(se,"groupby")){var le=M.getTransformIndices(se,"groupby"),de=le[le.length-1],be=y.keyedContainer(se,"transforms["+de+"].styles","target","value.name");be.set(H.trace._group,X),ce=be.constructUpdate()}else ce.name=X;return se._isShape?M.call("_guiRelayout",q,"shapes["+Y.index+"].name",ce.name):M.call("_guiRestyle",q,ce,Y.index)}):D(ee,z,q,N)}function C(z,q){var N=Math.max(4,q);if(z&&z.trim().length>=N/2)return z;for(var V=N-(z=z||"").length;V>0;V--)z+=" ";return z}function k(z,q,N){var V,Z=q._context.doubleClickDelay,j=1,H=y.ensureSingle(z,"rect",N+"toggle",function(Y){q._context.staticPlot||Y.style("cursor","pointer").attr("pointer-events","all"),Y.call(t.fill,"rgba(0,0,0,0)")});q._context.staticPlot||(H.on("mousedown",function(){(V=new Date().getTime())-q._legendMouseDownTime<Z?j+=1:(j=1,q._legendMouseDownTime=V)}),H.on("mouseup",function(){if(!q._dragged&&!q._editing){var Y=q._fullLayout[N];new Date().getTime()-q._legendMouseDownTime>Z&&(j=Math.max(j-1,1)),A(q,Y,z,j,p.event)}}))}function D(z,q,N,V,Z){V._inHover&&z.attr("data-notex",!0),o.convertToTspans(z,N,function(){(function(j,H,Y,ie){var re=j.data()[0][0];if(Y._inHover||!re||re.trace.showlegend){var ne=j.select("g[class*=math-group]"),ee=ne.node(),Q=R(Y);Y||(Y=H._fullLayout[Q]);var X,se,ce=Y.borderwidth,le=(ie===v?Y.title.font:re.groupTitle?re.groupTitle.font:Y.font).size*l;if(ee){var de=s.bBox(ee);X=de.height,se=de.width,ie===v?s.setTranslate(ne,ce,ce+.75*X):s.setTranslate(ne,0,.25*X)}else{var be="."+Q+(ie===v?"title":"")+"text",_e=j.select(be),ve=o.lineCount(_e),me=_e.node();if(X=le*ve,se=me?s.bBox(me).width:0,ie===v)Y.title.side==="left"&&(se+=2*i.itemGap),o.positionText(_e,ce+i.titlePad,ce+le);else{var ye=2*i.itemGap+Y.indentation+Y.itemwidth;re.groupTitle&&(ye=i.itemGap,se-=Y.indentation+Y.itemwidth),o.positionText(_e,ye,-le*((ve-1)/2-.3))}}ie===v?(Y._titleWidth=se,Y._titleHeight=X):(re.lineHeight=le,re.height=Math.max(X,16)+3,re.width=se)}else j.remove()})(q,N,V,Z)})}function O(z){return y.isRightAnchor(z)?"right":y.isCenterAnchor(z)?"center":"left"}function L(z){return y.isBottomAnchor(z)?"bottom":y.isMiddleAnchor(z)?"middle":"top"}function R(z){return z._id||"legend"}S.exports=function(z,q){if(q)T(z,q);else{var N=z._fullLayout,V=N._legends;N._infolayer.selectAll('[class^="legend"]').each(function(){var H=p.select(this),Y=H.attr("class").split(" ")[0];Y.match(m)&&V.indexOf(Y)===-1&&H.remove()});for(var Z=0;Z<V.length;Z++){var j=V[Z];T(z,z._fullLayout[j])}}}},35456:function(S,x,e){"use strict";var p=e(24040),y=e(42451);S.exports=function(n,M,b){var f,s,t=M._inHover,o=y.isGrouped(M),r=y.isReversed(M),i={},a=[],l=!1,u={},h=0,c=0;function w(V,Z,j){if(M.visible!==!1&&(!b||V===M._id))if(Z!==""&&y.isGrouped(M))a.indexOf(Z)===-1?(a.push(Z),l=!0,i[Z]=[j]):i[Z].push(j);else{var H="~~i"+h;a.push(H),i[H]=[j],h++}}for(f=0;f<n.length;f++){var g=n[f],v=g[0],m=v.trace,T=m.legend,_=m.legendgroup;if(t||m.visible&&m.showlegend)if(p.traceIs(m,"pie-like"))for(u[_]||(u[_]={}),s=0;s<g.length;s++){var A=g[s].label;u[_][A]||(w(T,_,{label:A,color:g[s].color,i:g[s].i,trace:m,pts:g[s].pts}),u[_][A]=!0,c=Math.max(c,(A||"").length))}else w(T,_,v),c=Math.max(c,(m.name||"").length)}if(!a.length)return[];var d=!l||!o,C=[];for(f=0;f<a.length;f++){var k=i[a[f]];d?C.push(k[0]):C.push(k)}for(d&&(C=[C]),f=0;f<C.length;f++){var D=1/0;for(s=0;s<C[f].length;s++){var O=C[f][s].trace.legendrank;D>O&&(D=O)}C[f][0]._groupMinRank=D,C[f][0]._preGroupSort=f}var L=function(V,Z){return V.trace.legendrank-Z.trace.legendrank||V._preSort-Z._preSort};for(C.forEach(function(V,Z){V[0]._preGroupSort=Z}),C.sort(function(V,Z){return V[0]._groupMinRank-Z[0]._groupMinRank||V[0]._preGroupSort-Z[0]._preGroupSort}),f=0;f<C.length;f++){C[f].forEach(function(V,Z){V._preSort=Z}),C[f].sort(L);var R=C[f][0].trace,z=null;for(s=0;s<C[f].length;s++){var q=C[f][s].trace.legendgrouptitle;if(q&&q.text){z=q,t&&(q.font=M._groupTitleFont);break}}if(r&&C[f].reverse(),z){var N=!1;for(s=0;s<C[f].length;s++)if(p.traceIs(C[f][s].trace,"pie-like")){N=!0;break}C[f].unshift({i:-1,groupTitle:z,noClick:N,trace:{showlegend:R.showlegend,legendgroup:R.legendgroup,visible:M.groupclick==="toggleitem"||R.visible}})}for(s=0;s<C[f].length;s++)C[f][s]=[C[f][s]]}return M._lgroupsLength=C.length,M._maxNameLength=c,C}},33048:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=y.pushUnique,M=!0;S.exports=function(b,f,s){var t=f._fullLayout;if(!f._dragged&&!f._editing){var o,r=t.legend.itemclick,i=t.legend.itemdoubleclick,a=t.legend.groupclick;if(s===1&&r==="toggle"&&i==="toggleothers"&&M&&f.data&&f._context.showTips&&y.notifier(y._(f,"Double-click on legend to isolate one trace"),"long"),M=!1,s===1?o=r:s===2&&(o=i),o){var l=a==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],h=b.data()[0][0];if(!h.groupTitle||!h.noClick){var c=f._fullData,w=(t.shapes||[]).filter(function(xe){return xe.showlegend}),g=c.concat(w),v=h.trace;v._isShape&&(v=v._fullInput);var m,T,_,A,d,C=v.legendgroup,k={},D=[],O=[],L=[],R=(t.shapes||[]).map(function(xe){return xe._input}),z=!1,q=v.legend,N=v._fullInput;if(N&&N._isShape||!p.traceIs(v,"pie-like")){var V,Z=C&&C.length,j=[];if(Z)for(m=0;m<g.length;m++)(V=g[m]).visible&&V.legendgroup===C&&j.push(m);if(o==="toggle"){var H;switch(v.visible){case!0:H="legendonly";break;case!1:H=!1;break;case"legendonly":H=!0}if(Z)if(l)for(m=0;m<g.length;m++){var Y=g[m];Y.visible!==!1&&Y.legendgroup===C&&Ie(Y,H)}else Ie(v,H);else Ie(v,H)}else if(o==="toggleothers"){var ie,re,ne,ee,Q=!0;for(m=0;m<g.length;m++)if(ie=(ee=g[m])===v,re=ee.showlegend!==!0,!(ie||re||Z&&ee.legendgroup===C||ee.legend!==q||ee.visible!==!0||p.traceIs(ee,"notLegendIsolatable"))){Q=!1;break}for(m=0;m<g.length;m++)if((ee=g[m]).visible!==!1&&ee.legend===q&&!p.traceIs(ee,"notLegendIsolatable"))switch(v.visible){case"legendonly":Ie(ee,!0);break;case!0:ne=!!Q||"legendonly",ie=ee===v,re=ee.showlegend!==!0&&!ee.legendgroup,Ie(ee,!!(ie||Z&&ee.legendgroup===C||re)||ne)}}for(m=0;m<O.length;m++)if(_=O[m]){var X=_.constructUpdate(),se=Object.keys(X);for(T=0;T<se.length;T++)A=se[T],(k[A]=k[A]||[])[L[m]]=X[A]}for(d=Object.keys(k),m=0;m<d.length;m++)for(A=d[m],T=0;T<D.length;T++)k[A].hasOwnProperty(T)||(k[A][T]=void 0);z?p.call("_guiUpdate",f,k,{shapes:R},D):p.call("_guiRestyle",f,k,D)}else{var ce=h.label,le=u.indexOf(ce);if(o==="toggle")le===-1?u.push(ce):u.splice(le,1);else if(o==="toggleothers"){var de=le!==-1,be=[];for(m=0;m<f.calcdata.length;m++){var _e=f.calcdata[m];for(T=0;T<_e.length;T++){var ve=_e[T].label;q===_e[0].trace.legend&&ce!==ve&&(u.indexOf(ve)===-1&&(de=!0),n(u,ve),be.push(ve))}}if(!de)for(var me=0;me<be.length;me++){var ye=u.indexOf(be[me]);ye!==-1&&u.splice(ye,1)}}p.call("_guiRelayout",f,"hiddenlabels",u)}}}}function Se(xe,ue){var ae=D.indexOf(xe),pe=k.visible;return pe||(pe=k.visible=[]),D.indexOf(xe)===-1&&(D.push(xe),ae=D.length-1),pe[ae]=ue,ae}function Ie(xe,ue){if(!h.groupTitle||l){var ae,pe=xe._fullInput||xe,De=pe._isShape,Te=pe.index;if(Te===void 0&&(Te=pe._index),p.hasTransform(pe,"groupby")){var Ae=O[Te];if(!Ae){var Ce=p.getTransformIndices(pe,"groupby"),Re=Ce[Ce.length-1];Ae=y.keyedContainer(pe,"transforms["+Re+"].styles","target","value.visible"),O[Te]=Ae}var Ne=Ae.get(xe._group);Ne===void 0&&(Ne=!0),Ne!==!1&&Ae.set(xe._group,ue),L[Te]=Se(Te,pe.visible!==!1)}else{var ge=pe.visible!==!1&&ue;De?(ae=ge,R[Te].visible=ae,z=!0):Se(Te,ge)}}}}},42451:function(S,x){"use strict";x.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},x.isVertical=function(e){return e.orientation!=="h"},x.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(S,x,e){"use strict";S.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(3400),M=n.strTranslate,b=e(43616),f=e(76308),s=e(94288).extractOpts,t=e(43028),o=e(10528),r=e(69656).castOption,i=e(65196);function a(h,c){return(c?"radial":"horizontal")+(h?"":"reversed")}function l(h){var c=h[0].trace,w=c.contours,g=t.hasLines(c),v=t.hasMarkers(c),m=c.visible&&c.fill&&c.fill!=="none",T=!1,_=!1;if(w){var A=w.coloring;A==="lines"?T=!0:g=A==="none"||A==="heatmap"||w.showlines,w.type==="constraint"?m=w._operation!=="=":A!=="fill"&&A!=="heatmap"||(_=!0)}return{showMarker:v,showLine:g,showFill:m,showGradientLine:T,showGradientFill:_,anyLine:g||T,anyFill:m||_}}function u(h,c,w){return h&&n.isArrayOrTypedArray(h)?c:h>w?w:h}S.exports=function(h,c,w){var g=c._fullLayout;w||(w=g.legend);var v=w.itemsizing==="constant",m=w.itemwidth,T=(m+2*i.itemGap)/2,_=M(T,0),A=function(k,D,O,L){var R;if(k+1)R=k;else{if(!(D&&D.width>0))return 0;R=D.width}return v?L:Math.min(R,O)};function d(k,D,O){var L=k[0].trace,R=L.marker||{},z=R.line||{},q=R.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",N=O?L.visible&&L.type===O:y.traceIs(L,"bar"),V=p.select(D).select("g.legendpoints").selectAll("path.legend"+O).data(N?[k]:[]);V.enter().append("path").classed("legend"+O,!0).attr("d",q).attr("transform",_),V.exit().remove(),V.each(function(Z){var j=p.select(this),H=Z[0],Y=A(H.mlw,R.line,5,2);j.style("stroke-width",Y+"px");var ie=H.mcc;if(!w._inHover&&"mc"in H){var re=s(R),ne=re.mid;ne===void 0&&(ne=(re.max+re.min)/2),ie=b.tryColorscale(R,"")(ne)}var ee=ie||H.mc||R.color,Q=R.pattern,X=Q&&b.getPatternAttr(Q.shape,0,"");if(X){var se=b.getPatternAttr(Q.bgcolor,0,null),ce=b.getPatternAttr(Q.fgcolor,0,null),le=Q.fgopacity,de=u(Q.size,8,10),be=u(Q.solidity,.5,1),_e="legend-"+L.uid;j.call(b.pattern,"legend",c,_e,X,de,be,ie,Q.fillmode,se,ce,le)}else j.call(f.fill,ee);Y&&f.stroke(j,H.mlc||z.color)})}function C(k,D,O){var L=k[0],R=L.trace,z=O?R.visible&&R.type===O:y.traceIs(R,O),q=p.select(D).select("g.legendpoints").selectAll("path.legend"+O).data(z?[k]:[]);if(q.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",_),q.exit().remove(),q.size()){var N=R.marker||{},V=A(r(N.line.width,L.pts),N.line,5,2),Z="pieLike",j=n.minExtend(R,{marker:{line:{width:V}}},Z),H=n.minExtend(L,{trace:j},Z);o(q,H,j,c)}}h.each(function(k){var D=p.select(this),O=n.ensureSingle(D,"g","layers");O.style("opacity",k[0].trace.opacity);var L=w.indentation,R=w.valign,z=k[0].lineHeight,q=k[0].height;if(R==="middle"&&L===0||!z||!q)O.attr("transform",null);else{var N={top:1,bottom:-1}[R]*(.5*(z-q+3))||0,V=w.indentation;O.attr("transform",M(V,N))}O.selectAll("g.legendfill").data([k]).enter().append("g").classed("legendfill",!0),O.selectAll("g.legendlines").data([k]).enter().append("g").classed("legendlines",!0);var Z=O.selectAll("g.legendsymbols").data([k]);Z.enter().append("g").classed("legendsymbols",!0),Z.selectAll("g.legendpoints").data([k]).enter().append("g").classed("legendpoints",!0)}).each(function(k){var D,O=k[0].trace,L=[];if(O.visible)switch(O.type){case"histogram2d":case"heatmap":L=[["M-15,-2V4H15V-2Z"]],D=!0;break;case"choropleth":case"choroplethmapbox":L=[["M-6,-6V6H6V-6Z"]],D=!0;break;case"densitymapbox":L=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],D="radial";break;case"cone":L=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],D=!1;break;case"streamtube":L=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],D=!1;break;case"surface":L=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],D=!0;break;case"mesh3d":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],D=!1;break;case"volume":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],D=!0;break;case"isosurface":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],D=!1}var R=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(L);R.enter().append("path").classed("legend3dandfriends",!0).attr("transform",_).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(z,q){var N,V=p.select(this),Z=s(O),j=Z.colorscale,H=Z.reversescale;if(j){if(!D){var Y=j.length;N=q===0?j[H?Y-1:0][1]:q===1?j[H?0:Y-1][1]:j[Math.floor((Y-1)/2)][1]}}else{var ie=O.vertexcolor||O.facecolor||O.color;N=n.isArrayOrTypedArray(ie)?ie[q]||ie[0]:ie}V.attr("d",z[0]),N?V.call(f.fill,N):V.call(function(re){if(re.size()){var ne="legendfill-"+O.uid;b.gradient(re,c,ne,a(H,D==="radial"),j,"fill")}})})}).each(function(k){var D=k[0].trace,O=D.type==="waterfall";if(k[0]._distinct&&O){var L=k[0].trace[k[0].dir].marker;return k[0].mc=L.color,k[0].mlw=L.line.width,k[0].mlc=L.line.color,d(k,this,"waterfall")}var R=[];D.visible&&O&&(R=k[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(R);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",_).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(q){var N=p.select(this),V=D[q[0]].marker,Z=A(void 0,V.line,5,2);N.attr("d",q[1]).style("stroke-width",Z+"px").call(f.fill,V.color),Z&&N.call(f.stroke,V.line.color)})}).each(function(k){d(k,this,"funnel")}).each(function(k){d(k,this)}).each(function(k){var D=k[0].trace,O=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(D.visible&&y.traceIs(D,"box-violin")?[k]:[]);O.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",_),O.exit().remove(),O.each(function(){var L=p.select(this);if(D.boxpoints!=="all"&&D.points!=="all"||f.opacity(D.fillcolor)!==0||f.opacity((D.line||{}).color)!==0){var R=A(void 0,D.line,5,2);L.style("stroke-width",R+"px").call(f.fill,D.fillcolor),R&&f.stroke(L,D.line.color)}else{var z=n.minExtend(D,{marker:{size:v?12:n.constrain(D.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});O.call(b.pointStyle,z,c)}})}).each(function(k){C(k,this,"funnelarea")}).each(function(k){C(k,this,"pie")}).each(function(k){var D,O,L=l(k),R=L.showFill,z=L.showLine,q=L.showGradientLine,N=L.showGradientFill,V=L.anyFill,Z=L.anyLine,j=k[0],H=j.trace,Y=s(H),ie=Y.colorscale,re=Y.reversescale,ne=t.hasMarkers(H)||!V?"M5,0":Z?"M5,-2":"M5,-3",ee=p.select(this),Q=ee.select(".legendfill").selectAll("path").data(R||N?[k]:[]);if(Q.enter().append("path").classed("js-fill",!0),Q.exit().remove(),Q.attr("d",ne+"h"+m+"v6h-"+m+"z").call(function(ce){if(ce.size())if(R)b.fillGroupStyle(ce,c,!0);else{var le="legendfill-"+H.uid;b.gradient(ce,c,le,a(re),ie,"fill")}}),z||q){var X=A(void 0,H.line,10,5);O=n.minExtend(H,{line:{width:X}}),D=[n.minExtend(j,{trace:O})]}var se=ee.select(".legendlines").selectAll("path").data(z||q?[D]:[]);se.enter().append("path").classed("js-line",!0),se.exit().remove(),se.attr("d",ne+(q?"l"+m+",0.0001":"h"+m)).call(z?b.lineGroupStyle:function(ce){if(ce.size()){var le="legendline-"+H.uid;b.lineGroupStyle(ce),b.gradient(ce,c,le,a(re),ie,"stroke")}})}).each(function(k){var D,O,L=l(k),R=L.anyFill,z=L.anyLine,q=L.showLine,N=L.showMarker,V=k[0],Z=V.trace,j=!N&&!z&&!R&&t.hasText(Z);function H(se,ce,le,de){var be=n.nestedProperty(Z,se).get(),_e=n.isArrayOrTypedArray(be)&&ce?ce(be):be;if(v&&_e&&de!==void 0&&(_e=de),le){if(_e<le[0])return le[0];if(_e>le[1])return le[1]}return _e}function Y(se){return V._distinct&&V.index&&se[V.index]?se[V.index]:se[0]}if(N||j||q){var ie={},re={};if(N){ie.mc=H("marker.color",Y),ie.mx=H("marker.symbol",Y),ie.mo=H("marker.opacity",n.mean,[.2,1]),ie.mlc=H("marker.line.color",Y),ie.mlw=H("marker.line.width",n.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ne=H("marker.size",n.mean,[2,16],12);ie.ms=ne,re.marker.size=ne}q&&(re.line={width:H("line.width",Y,[0,10],5)}),j&&(ie.tx="Aa",ie.tp=H("textposition",Y),ie.ts=10,ie.tc=H("textfont.color",Y),ie.tf=H("textfont.family",Y),ie.tw=H("textfont.weight",Y),ie.ty=H("textfont.style",Y),ie.tv=H("textfont.variant",Y),ie.tC=H("textfont.textcase",Y),ie.tE=H("textfont.lineposition",Y),ie.tS=H("textfont.shadow",Y)),D=[n.minExtend(V,ie)],(O=n.minExtend(Z,re)).selectedpoints=null,O.texttemplate=null}var ee=p.select(this).select("g.legendpoints"),Q=ee.selectAll("path.scatterpts").data(N?D:[]);Q.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",_),Q.exit().remove(),Q.call(b.pointStyle,O,c),N&&(D[0].mrc=3);var X=ee.selectAll("g.pointtext").data(j?D:[]);X.enter().append("g").classed("pointtext",!0).append("text").attr("transform",_),X.exit().remove(),X.selectAll("text").call(b.textPointStyle,O,c)}).each(function(k){var D=k[0].trace,O=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(D.visible&&D.type==="candlestick"?[k,k]:[]);O.enter().append("path").classed("legendcandle",!0).attr("d",function(L,R){return R?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",_).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(L,R){var z=p.select(this),q=D[R?"increasing":"decreasing"],N=A(void 0,q.line,5,2);z.style("stroke-width",N+"px").call(f.fill,q.fillcolor),N&&f.stroke(z,q.line.color)})}).each(function(k){var D=k[0].trace,O=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(D.visible&&D.type==="ohlc"?[k,k]:[]);O.enter().append("path").classed("legendohlc",!0).attr("d",function(L,R){return R?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",_).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(L,R){var z=p.select(this),q=D[R?"increasing":"decreasing"],N=A(void 0,q.line,5,2);z.style("fill","none").call(b.dashLine,q.line.dash,N),N&&f.stroke(z,q.line.color)})})}},66540:function(S,x,e){"use strict";e(76052),S.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(S,x,e){"use strict";var p=e(24040),y=e(7316),n=e(79811),M=e(9224),b=e(4016).eraseActiveShape,f=e(3400),s=f._,t=S.exports={};function o(g,v){var m,T,_=v.currentTarget,A=_.getAttribute("data-attr"),d=_.getAttribute("data-val")||!0,C=g._fullLayout,k={},D=n.list(g,null,!0),O=C._cartesianSpikesEnabled;if(A==="zoom"){var L,R=d==="in"?.5:2,z=(1+R)/2,q=(1-R)/2;for(T=0;T<D.length;T++)if(!(m=D[T]).fixedrange)if(L=m._name,d==="auto")k[L+".autorange"]=!0;else if(d==="reset")m._rangeInitial0===void 0&&m._rangeInitial1===void 0?k[L+".autorange"]=!0:m._rangeInitial0===void 0?(k[L+".autorange"]=m._autorangeInitial,k[L+".range"]=[null,m._rangeInitial1]):m._rangeInitial1===void 0?(k[L+".range"]=[m._rangeInitial0,null],k[L+".autorange"]=m._autorangeInitial):k[L+".range"]=[m._rangeInitial0,m._rangeInitial1],m._showSpikeInitial!==void 0&&(k[L+".showspikes"]=m._showSpikeInitial,O!=="on"||m._showSpikeInitial||(O="off"));else{var N=[m.r2l(m.range[0]),m.r2l(m.range[1])],V=[z*N[0]+q*N[1],z*N[1]+q*N[0]];k[L+".range[0]"]=m.l2r(V[0]),k[L+".range[1]"]=m.l2r(V[1])}}else A!=="hovermode"||d!=="x"&&d!=="y"||(d=C._isHoriz?"y":"x",_.setAttribute("data-val",d)),k[A]=d;C._cartesianSpikesEnabled=O,p.call("_guiRelayout",g,k)}function r(g,v){for(var m=v.currentTarget,T=m.getAttribute("data-attr"),_=m.getAttribute("data-val")||!0,A=g._fullLayout._subplots.gl3d||[],d={},C=T.split("."),k=0;k<A.length;k++)d[A[k]+"."+C[1]]=_;var D=_==="pan"?_:"zoom";d.dragmode=D,p.call("_guiRelayout",g,d)}function i(g,v){for(var m=v.currentTarget.getAttribute("data-attr"),T=m==="resetLastSave",_=m==="resetDefault",A=g._fullLayout,d=A._subplots.gl3d||[],C={},k=0;k<d.length;k++){var D,O=d[k],L=O+".camera",R=O+".aspectratio",z=O+".aspectmode",q=A[O]._scene;T?(C[L+".up"]=q.viewInitial.up,C[L+".eye"]=q.viewInitial.eye,C[L+".center"]=q.viewInitial.center,D=!0):_&&(C[L+".up"]=null,C[L+".eye"]=null,C[L+".center"]=null,D=!0),D&&(C[R+".x"]=q.viewInitial.aspectratio.x,C[R+".y"]=q.viewInitial.aspectratio.y,C[R+".z"]=q.viewInitial.aspectratio.z,C[z]=q.viewInitial.aspectmode)}p.call("_guiRelayout",g,C)}function a(g,v){var m=v.currentTarget,T=m._previousVal,_=g._fullLayout,A=_._subplots.gl3d||[],d=["xaxis","yaxis","zaxis"],C={},k={};if(T)k=T,m._previousVal=null;else{for(var D=0;D<A.length;D++){var O=A[D],L=_[O],R=O+".hovermode";C[R]=L.hovermode,k[R]=!1;for(var z=0;z<3;z++){var q=d[z],N=O+"."+q+".showspikes";k[N]=!1,C[N]=L[q].showspikes}}m._previousVal=C}return k}function l(g,v){for(var m=v.currentTarget,T=m.getAttribute("data-attr"),_=m.getAttribute("data-val")||!0,A=g._fullLayout,d=A._subplots.geo||[],C=0;C<d.length;C++){var k=d[C],D=A[k];if(T==="zoom"){var O=D.projection.scale,L=_==="in"?2*O:.5*O;p.call("_guiRelayout",g,k+".projection.scale",L)}}T==="reset"&&w(g,"geo")}function u(g){var v=g._fullLayout;return!v.hovermode&&(v._has("cartesian")?v._isHoriz?"y":"x":"closest")}function h(g){var v=u(g);p.call("_guiRelayout",g,"hovermode",v)}function c(g,v){for(var m=v.currentTarget.getAttribute("data-val"),T=g._fullLayout,_=T._subplots.mapbox||[],A={},d=0;d<_.length;d++){var C=_[d],k=T[C].zoom,D=m==="in"?1.05*k:k/1.05;A[C+".zoom"]=D}p.call("_guiRelayout",g,A)}function w(g,v){for(var m=g._fullLayout,T=m._subplots[v]||[],_={},A=0;A<T.length;A++)for(var d=T[A],C=m[d]._subplot.viewInitial,k=Object.keys(C),D=0;D<k.length;D++){var O=k[D];_[d+"."+O]=C[O]}p.call("_guiRelayout",g,_)}t.toImage={name:"toImage",title:function(g){var v=(g._context.toImageButtonOptions||{}).format||"png";return s(g,v==="png"?"Download plot as a png":"Download plot")},icon:M.camera,click:function(g){var v=g._context.toImageButtonOptions,m={format:v.format||"png"};f.notifier(s(g,"Taking snapshot - this may take a few seconds"),"long"),m.format!=="svg"&&f.isIE()&&(f.notifier(s(g,"IE only supports svg.  Changing format to svg."),"long"),m.format="svg"),["filename","width","height","scale"].forEach(function(T){T in v&&(m[T]=v[T])}),p.call("downloadImage",g,m).then(function(T){f.notifier(s(g,"Snapshot succeeded")+" - "+T,"long")}).catch(function(){f.notifier(s(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(g){return s(g,"Edit in Chart Studio")},icon:M.disk,click:function(g){y.sendDataToCloud(g)}},t.editInChartStudio={name:"editInChartStudio",title:function(g){return s(g,"Edit in Chart Studio")},icon:M.pencil,click:function(g){y.sendDataToCloud(g)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return s(g,"Zoom")},attr:"dragmode",val:"zoom",icon:M.zoombox,click:o},t.pan2d={name:"pan2d",_cat:"pan",title:function(g){return s(g,"Pan")},attr:"dragmode",val:"pan",icon:M.pan,click:o},t.select2d={name:"select2d",_cat:"select",title:function(g){return s(g,"Box Select")},attr:"dragmode",val:"select",icon:M.selectbox,click:o},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return s(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:M.lasso,click:o},t.drawclosedpath={name:"drawclosedpath",title:function(g){return s(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:M.drawclosedpath,click:o},t.drawopenpath={name:"drawopenpath",title:function(g){return s(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:M.drawopenpath,click:o},t.drawline={name:"drawline",title:function(g){return s(g,"Draw line")},attr:"dragmode",val:"drawline",icon:M.drawline,click:o},t.drawrect={name:"drawrect",title:function(g){return s(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:M.drawrect,click:o},t.drawcircle={name:"drawcircle",title:function(g){return s(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:M.drawcircle,click:o},t.eraseshape={name:"eraseshape",title:function(g){return s(g,"Erase active shape")},icon:M.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:o},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:o},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return s(g,"Autoscale")},attr:"zoom",val:"auto",icon:M.autoscale,click:o},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return s(g,"Reset axes")},attr:"zoom",val:"reset",icon:M.home,click:o},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return s(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:M.tooltip_basic,gravity:"ne",click:o},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return s(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:M.tooltip_compare,gravity:"ne",click:o},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return s(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:M.zoombox,click:r},t.pan3d={name:"pan3d",_cat:"pan",title:function(g){return s(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:M.pan,click:r},t.orbitRotation={name:"orbitRotation",title:function(g){return s(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:M["3d_rotate"],click:r},t.tableRotation={name:"tableRotation",title:function(g){return s(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:M["z-axis"],click:r},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return s(g,"Reset camera to default")},attr:"resetDefault",icon:M.home,click:i},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return s(g,"Reset camera to last save")},attr:"resetLastSave",icon:M.movie,click:i},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:function(g,v){var m=a(g,v);p.call("_guiRelayout",g,m)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:l},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:l},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return s(g,"Reset")},attr:"reset",val:null,icon:M.autoscale,click:l},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:h},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:M.tooltip_basic,gravity:"ne",click:h},t.resetViewSankey={name:"resetSankeyGroup",title:function(g){return s(g,"Reset view")},icon:M.home,click:function(g){for(var v={"node.groups":[],"node.x":[],"node.y":[]},m=0;m<g._fullData.length;m++){var T=g._fullData[m]._viewInitial;v["node.groups"].push(T.node.groups.slice()),v["node.x"].push(T.node.x.slice()),v["node.y"].push(T.node.y.slice())}p.call("restyle",g,v)}},t.toggleHover={name:"toggleHover",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:M.tooltip_basic,gravity:"ne",click:function(g,v){var m=a(g,v);m.hovermode=u(g),p.call("_guiRelayout",g,m)}},t.resetViews={name:"resetViews",title:function(g){return s(g,"Reset views")},icon:M.home,click:function(g,v){var m=v.currentTarget;m.setAttribute("data-attr","zoom"),m.setAttribute("data-val","reset"),o(g,v),m.setAttribute("data-attr","resetLastSave"),i(g,v),w(g,"geo"),w(g,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(g){return s(g,"Toggle Spike Lines")},icon:M.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var v=g._fullLayout,m=v._cartesianSpikesEnabled;v._cartesianSpikesEnabled=m==="on"?"off":"on",p.call("_guiRelayout",g,function(T){for(var _=T._fullLayout._cartesianSpikesEnabled==="on",A=n.list(T,null,!0),d={},C=0;C<A.length;C++){var k=A[C];d[k._name+".showspikes"]=!!_||k._showSpikeInitial}return d}(g))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return s(g,"Reset view")},attr:"reset",icon:M.home,click:function(g){w(g,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:M.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:M.zoom_minus,click:c}},76052:function(S,x,e){"use strict";var p=e(44248),y=Object.keys(p),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],M=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),b=[];y.forEach(function(f){(function(s){if(M.indexOf(s._cat||s.name)===-1){var t=s.name,o=(s._cat||s.name).toLowerCase();b.indexOf(t)===-1&&b.push(t),b.indexOf(o)===-1&&b.push(o)}})(p[f])}),b.sort(),S.exports={DRAW_MODES:n,backButtons:M,foreButtons:b}},90824:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(31780),M=e(66540);S.exports=function(b,f){var s=b.modebar||{},t=n.newContainer(f,"modebar");function o(i,a){return p.coerce(s,t,M,i,a)}o("orientation"),o("bgcolor",y.addOpacity(f.paper_bgcolor,.5));var r=y.contrast(y.rgb(f.modebar.bgcolor));o("color",y.addOpacity(r,.3)),o("activecolor",y.addOpacity(r,.7)),o("uirevision",f.uirevision),o("add"),o("remove")}},45460:function(S,x,e){"use strict";S.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(S,x,e){"use strict";var p=e(79811),y=e(43028),n=e(24040),M=e(10624).isUnifiedHover,b=e(66400),f=e(44248),s=e(76052).DRAW_MODES,t=e(3400).extendDeep;S.exports=function(o){var r=o._fullLayout,i=o._context,a=r._modeBar;if(i.displayModeBar||i.watermark){if(!Array.isArray(i.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(i.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=i.modeBarButtons;l=Array.isArray(u)&&u.length?function(h){for(var c=t([],h),w=0;w<c.length;w++)for(var g=c[w],v=0;v<g.length;v++){var m=g[v];if(typeof m=="string"){if(f[m]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[w][v]=f[m]}}return c}(u):!i.displayModeBar&&i.watermark?[]:function(h){var c=h._fullLayout,w=h._fullData,g=h._context;function v(be,_e){if(typeof _e=="string"){if(_e.toLowerCase()===be.toLowerCase())return!0}else{var ve=_e.name,me=_e._cat||_e.name;if(ve===be||me===be.toLowerCase())return!0}return!1}var m=c.modebar.add;typeof m=="string"&&(m=[m]);var T=c.modebar.remove;typeof T=="string"&&(T=[T]);var _=g.modeBarButtonsToAdd.concat(m.filter(function(be){for(var _e=0;_e<g.modeBarButtonsToRemove.length;_e++)if(v(be,g.modeBarButtonsToRemove[_e]))return!1;return!0})),A=g.modeBarButtonsToRemove.concat(T.filter(function(be){for(var _e=0;_e<g.modeBarButtonsToAdd.length;_e++)if(v(be,g.modeBarButtonsToAdd[_e]))return!1;return!0})),d=c._has("cartesian"),C=c._has("gl3d"),k=c._has("geo"),D=c._has("pie"),O=c._has("funnelarea"),L=c._has("gl2d"),R=c._has("ternary"),z=c._has("mapbox"),q=c._has("polar"),N=c._has("smith"),V=c._has("sankey"),Z=function(be){for(var _e=p.list({_fullLayout:be},null,!0),ve=0;ve<_e.length;ve++)if(!_e[ve].fixedrange)return!1;return!0}(c),j=M(c.hovermode),H=[];function Y(be){if(be.length){for(var _e=[],ve=0;ve<be.length;ve++){for(var me=be[ve],ye=f[me],Se=ye.name.toLowerCase(),Ie=(ye._cat||ye.name).toLowerCase(),xe=!1,ue=0;ue<A.length;ue++){var ae=A[ue].toLowerCase();if(ae===Se||ae===Ie){xe=!0;break}}xe||_e.push(f[me])}H.push(_e)}}var ie=["toImage"];g.showEditInChartStudio?ie.push("editInChartStudio"):g.showSendToCloud&&ie.push("sendDataToCloud"),Y(ie);var re=[],ne=[],ee=[],Q=[];(d||L||D||O||R)+k+C+z+q+N>1?(ne=["toggleHover"],ee=["resetViews"]):k?(re=["zoomInGeo","zoomOutGeo"],ne=["hoverClosestGeo"],ee=["resetGeo"]):C?(ne=["hoverClosest3d"],ee=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(re=["zoomInMapbox","zoomOutMapbox"],ne=["toggleHover"],ee=["resetViewMapbox"]):L?ne=["hoverClosestGl2d"]:D?ne=["hoverClosestPie"]:V?(ne=["hoverClosestCartesian","hoverCompareCartesian"],ee=["resetViewSankey"]):ne=["toggleHover"],d&&(ne=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(be){for(var _e=0;_e<be.length;_e++)if(!n.traceIs(be[_e],"noHover"))return!1;return!0}(w)||j)&&(ne=[]),!d&&!L||Z||(re=["zoomIn2d","zoomOut2d","autoScale2d"],ee[0]!=="resetViews"&&(ee=["resetScale2d"])),C?Q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(d||L)&&!Z||R?Q=["zoom2d","pan2d"]:z||k?Q=["pan2d"]:q&&(Q=["zoom2d"]),function(be){for(var _e=!1,ve=0;ve<be.length&&!_e;ve++){var me=be[ve];me._module&&me._module.selectPoints&&(n.traceIs(me,"scatter-like")?(y.hasMarkers(me)||y.hasText(me))&&(_e=!0):n.traceIs(me,"box-violin")&&me.boxpoints!=="all"&&me.points!=="all"||(_e=!0))}return _e}(w)&&Q.push("select2d","lasso2d");var X=[],se=function(be){X.indexOf(be)===-1&&ne.indexOf(be)!==-1&&X.push(be)};if(Array.isArray(_)){for(var ce=[],le=0;le<_.length;le++){var de=_[le];typeof de=="string"?(de=de.toLowerCase(),s.indexOf(de)!==-1?(c._has("mapbox")||c._has("cartesian"))&&Q.push(de):de==="togglespikelines"?se("toggleSpikelines"):de==="togglehover"?se("toggleHover"):de==="hovercompare"?se("hoverCompareCartesian"):de==="hoverclosest"?(se("hoverClosestCartesian"),se("hoverClosestGeo"),se("hoverClosest3d"),se("hoverClosestGl2d"),se("hoverClosestPie")):de==="v1hovermode"&&(se("toggleHover"),se("hoverClosestCartesian"),se("hoverCompareCartesian"),se("hoverClosestGeo"),se("hoverClosest3d"),se("hoverClosestGl2d"),se("hoverClosestPie"))):ce.push(de)}_=ce}return Y(Q),Y(re.concat(ee)),Y(X),function(be,_e){if(_e.length)if(Array.isArray(_e[0]))for(var ve=0;ve<_e.length;ve++)be.push(_e[ve]);else be.push(_e);return be}(H,_)}(o),a?a.update(o,l):r._modeBar=b(o,l)}else a&&(a.destroy(),delete r._modeBar)}},66400:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(3400),M=e(9224),b=e(25788).version,f=new DOMParser;function s(o){this.container=o.container,this.element=document.createElement("div"),this.update(o.graphInfo,o.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(o,r){this.graphInfo=o;var i=this.graphInfo._context,a=this.graphInfo._fullLayout,l="modebar-"+a._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar",i.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),a.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var u=a.modebar,h=i.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(l),n.addRelatedStyleRule(l,h+"#"+l+" .modebar-group","background-color: "+u.bgcolor),n.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),n.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),n.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(r),w=this.hasLogo!==i.displaylogo,g=this.locale!==i.locale;if(this.locale=i.locale,(c||w||g)&&(this.removeAllButtons(),this.updateButtons(r),i.watermark||i.displaylogo)){var v=this.getLogo();i.watermark&&(v.className=v.className+" watermark"),a.modebar.orientation==="v"?this.element.insertBefore(v,this.element.childNodes[0]):this.element.appendChild(v),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(o){var r=this;this.buttons=o,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(i){var a=r.createGroup();i.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");r.buttonsNames.push(u);var h=r.createButton(l);r.buttonElements.push(h),a.appendChild(h)}),r.element.appendChild(a)})},t.createGroup=function(){var o=document.createElement("div");return o.className="modebar-group",o},t.createButton=function(o){var r=this,i=document.createElement("a");i.setAttribute("rel","tooltip"),i.className="modebar-btn";var a=o.title;a===void 0?a=o.name:typeof a=="function"&&(a=a(this.graphInfo)),(a||a===0)&&i.setAttribute("data-title",a),o.attr!==void 0&&i.setAttribute("data-attr",o.attr);var l=o.val;if(l!==void 0&&(typeof l=="function"&&(l=l(this.graphInfo)),i.setAttribute("data-val",l)),typeof o.click!="function")throw new Error("must provide button 'click' function in button config");i.addEventListener("click",function(h){o.click(r.graphInfo,h),r.updateActiveButton(h.currentTarget)}),i.setAttribute("data-toggle",o.toggle||!1),o.toggle&&p.select(i).classed("active",!0);var u=o.icon;return typeof u=="function"?i.appendChild(u()):i.appendChild(this.createIcon(u||M.question)),i.setAttribute("data-gravity",o.gravity||"n"),i},t.createIcon=function(o){var r,i=y(o.height)?Number(o.height):o.ascent-o.descent,a="http://www.w3.org/2000/svg";if(o.path){(r=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,o.width,i].join(" ")),r.setAttribute("class","icon");var l=document.createElementNS(a,"path");l.setAttribute("d",o.path),o.transform?l.setAttribute("transform",o.transform):o.ascent!==void 0&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+o.ascent+")"),r.appendChild(l)}return o.svg&&(r=f.parseFromString(o.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},t.updateActiveButton=function(o){var r=this.graphInfo._fullLayout,i=o!==void 0?o.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var l=a.getAttribute("data-val")||!0,u=a.getAttribute("data-attr"),h=a.getAttribute("data-toggle")==="true",c=p.select(a);if(h)u===i&&c.classed("active",!c.classed("active"));else{var w=u===null?u:n.nestedProperty(r,u).get();c.classed("active",w===l)}})},t.hasButtons=function(o){var r=this.buttons;if(!r||o.length!==r.length)return!1;for(var i=0;i<o.length;++i){if(o[i].length!==r[i].length)return!1;for(var a=0;a<o[i].length;a++)if(o[i][a].name!==r[i][a].name)return!1}return!0},t.getLogo=function(){var o=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",n._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(M.newplotlylogo)),o.appendChild(r),o},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)},S.exports=function(o,r){var i=o._fullLayout,a=new s({graphInfo:o,container:i._modebardiv.node(),buttons:r});return i._privateplot&&p.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},26680:function(S,x,e){"use strict";var p=e(25376),y=e(22548),n=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});S.exports={visible:{valType:"boolean",editType:"plot"},buttons:n,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:y.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(S){"use strict";S.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(31780),M=e(51272),b=e(26680),f=e(85984);function s(t,o,r,i){var a=i.calendar;function l(h,c){return p.coerce(t,o,b.buttons,h,c)}if(l("visible")){var u=l("step");u!=="all"&&(!a||a==="gregorian"||u!=="month"&&u!=="year"?l("stepmode"):o.stepmode="backward",l("count")),l("label")}}S.exports=function(t,o,r,i,a){var l=t.rangeselector||{},u=n.newContainer(o,"rangeselector");function h(g,v){return p.coerce(l,u,b,g,v)}if(h("visible",M(l,u,{name:"buttons",handleItemDefaults:s,calendar:a}).length>0)){var c=function(g,v,m){for(var T=m.filter(function(C){return v[C].anchor===g._id}),_=0,A=0;A<T.length;A++){var d=v[T[A]].domain;d&&(_=Math.max(d[1],_))}return[g.domain[0],_+f.yPad]}(o,r,i);h("x",c[0]),h("y",c[1]),p.noneOrAll(t,o,["x","y"]),h("xanchor"),h("yanchor"),p.coerceFont(h,"font",r.font);var w=h("bgcolor");h("activecolor",y.contrast(w,f.lightAmount,f.darkAmount)),h("bordercolor"),h("borderwidth")}}},50216:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(7316),M=e(76308),b=e(43616),f=e(3400),s=f.strTranslate,t=e(72736),o=e(79811),r=e(84284),i=r.LINE_SPACING,a=r.FROM_TL,l=r.FROM_BR,u=e(85984),h=e(48040);function c(v){return v._id}function w(v,m,T){var _=f.ensureSingle(v,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});_.attr({rx:u.rx,ry:u.ry}),_.call(M.stroke,m.bordercolor).call(M.fill,function(A,d){return d._isActive||d._isHovered?A.activecolor:A.bgcolor}(m,T)).style("stroke-width",m.borderwidth+"px")}function g(v,m,T,_){var A,d;f.ensureSingle(v,"text","selector-text",function(C){C.attr("text-anchor","middle")}).call(b.font,m.font).text((A=T,d=_._fullLayout._meta,A.label?d?f.templateString(A.label,d):A.label:A.step==="all"?"all":A.count+A.step.charAt(0))).call(function(C){t.convertToTspans(C,_)})}S.exports=function(v){var m=v._fullLayout._infolayer.selectAll(".rangeselector").data(function(T){for(var _=o.list(T,"x",!0),A=[],d=0;d<_.length;d++){var C=_[d];C.rangeselector&&C.rangeselector.visible&&A.push(C)}return A}(v),c);m.enter().append("g").classed("rangeselector",!0),m.exit().remove(),m.style({cursor:"pointer","pointer-events":"all"}),m.each(function(T){var _=p.select(this),A=T,d=A.rangeselector,C=_.selectAll("g.button").data(f.filterVisible(d.buttons));C.enter().append("g").classed("button",!0),C.exit().remove(),C.each(function(k){var D=p.select(this),O=h(A,k);k._isActive=function(L,R,z){if(R.step==="all")return L.autorange===!0;var q=Object.keys(z);return L.range[0]===z[q[0]]&&L.range[1]===z[q[1]]}(A,k,O),D.call(w,d,k),D.call(g,d,k,v),D.on("click",function(){v._dragged||y.call("_guiRelayout",v,O)}),D.on("mouseover",function(){k._isHovered=!0,D.call(w,d,k)}),D.on("mouseout",function(){k._isHovered=!1,D.call(w,d,k)})}),function(k,D,O,L,R){var z=0,q=0,N=O.borderwidth;D.each(function(){var ie=p.select(this).select(".selector-text"),re=O.font.size*i,ne=Math.max(re*t.lineCount(ie),16)+3;q=Math.max(q,ne)}),D.each(function(){var ie=p.select(this),re=ie.select(".selector-rect"),ne=ie.select(".selector-text"),ee=ne.node()&&b.bBox(ne.node()).width,Q=O.font.size*i,X=t.lineCount(ne),se=Math.max(ee+10,u.minButtonWidth);ie.attr("transform",s(N+z,N)),re.attr({x:0,y:0,width:se,height:q}),t.positionText(ne,se/2,q/2-(X-1)*Q/2+3),z+=se+5});var V=k._fullLayout._size,Z=V.l+V.w*O.x,j=V.t+V.h*(1-O.y),H="left";f.isRightAnchor(O)&&(Z-=z,H="right"),f.isCenterAnchor(O)&&(Z-=z/2,H="center");var Y="top";f.isBottomAnchor(O)&&(j-=q,Y="bottom"),f.isMiddleAnchor(O)&&(j-=q/2,Y="middle"),z=Math.ceil(z),q=Math.ceil(q),Z=Math.round(Z),j=Math.round(j),n.autoMargin(k,L+"-range-selector",{x:O.x,y:O.y,l:z*a[H],r:z*l[H],b:q*l[Y],t:q*a[Y]}),R.attr("transform",s(Z,j))}(v,C,d,A._name,_)})}},48040:function(S,x,e){"use strict";var p=e(73220),y=e(3400).titleCase;S.exports=function(n,M){var b=n._name,f={};if(M.step==="all")f[b+".autorange"]=!0;else{var s=function(t,o){var r,i=t.range,a=new Date(t.r2l(i[1])),l=o.step,u=p["utc"+y(l)],h=o.count;switch(o.stepmode){case"backward":r=t.l2r(+u.offset(a,-h));break;case"todate":var c=u.offset(a,-h);r=t.l2r(+u.ceil(c))}return[r,i[1]]}(n,M);f[b+".range[0]"]=s[0],f[b+".range[1]"]=s[1]}return f}},41152:function(S,x,e){"use strict";S.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(S,x,e){"use strict";var p=e(22548);S.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(S,x,e){"use strict";var p=e(79811).list,y=e(19280).getAutoRange,n=e(74636);S.exports=function(M){for(var b=p(M,"x",!0),f=0;f<b.length;f++){var s=b[f],t=s[n.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=y(M,s))}}},74636:function(S){"use strict";S.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(S,x,e){"use strict";var p=e(3400),y=e(31780),n=e(79811),M=e(11200),b=e(10936);S.exports=function(f,s,t){var o=f[t],r=s[t];if(o.rangeslider||s._requestRangeslider[r._id]){p.isPlainObject(o.rangeslider)||(o.rangeslider={});var i,a,l=o.rangeslider,u=y.newContainer(r,"rangeslider");if(_("visible")){_("bgcolor",s.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!r.isValidRange(l.range)),_("range");var h=s._subplots;if(h)for(var c=h.cartesian.filter(function(d){return d.substr(0,d.indexOf("y"))===n.name2id(t)}).map(function(d){return d.substr(d.indexOf("y"),d.length)}),w=p.simpleMap(c,n.id2name),g=0;g<w.length;g++){var v=w[g];i=l[v]||{},a=y.newContainer(u,v,"yaxis");var m,T=s[v];i.range&&T.isValidRange(i.range)&&(m="fixed"),A("rangemode",m)!=="match"&&A("range",T.range.slice())}u._input=l}}function _(d,C){return p.coerce(l,u,M,d,C)}function A(d,C){return p.coerce(i,a,b,d,C)}}},20060:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(7316),M=e(3400),b=M.strTranslate,f=e(43616),s=e(76308),t=e(81668),o=e(57952),r=e(79811),i=e(86476),a=e(93972),l=e(74636);function u(T){return typeof T.clientX=="number"?T.clientX:T.touches&&T.touches.length>0?T.touches[0].clientX:0}function h(T,_,A,d){var C=M.ensureSingle(T,"rect",l.bgClassName,function(L){L.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=d.borderwidth%2==0?d.borderwidth:d.borderwidth-1,D=-d._offsetShift,O=f.crispRound(_,d.borderwidth);C.attr({width:d._width+k,height:d._height+k,transform:b(D,D),"stroke-width":O}).call(s.stroke,d.bordercolor).call(s.fill,d.bgcolor)}function c(T,_,A,d){var C=_._fullLayout;M.ensureSingleById(C._topdefs,"clipPath",d._clipId,function(k){k.append("rect").attr({x:0,y:0})}).select("rect").attr({width:d._width,height:d._height})}function w(T,_,A,d){var C,k=_.calcdata,D=T.selectAll("g."+l.rangePlotClassName).data(A._subplotsWith,M.identity);D.enter().append("g").attr("class",function(O){return l.rangePlotClassName+" "+O}).call(f.setClipUrl,d._clipId,_),D.order(),D.exit().remove(),D.each(function(O,L){var R=p.select(this),z=L===0,q=r.getFromId(_,O,"y"),N=q._name,V=d[N],Z={data:[],layout:{xaxis:{type:A.type,domain:[0,1],range:d.range.slice(),calendar:A.calendar},width:d._width,height:d._height,margin:{t:0,b:0,l:0,r:0}},_context:_._context};A.rangebreaks&&(Z.layout.xaxis.rangebreaks=A.rangebreaks),Z.layout[N]={type:q.type,domain:[0,1],range:V.rangemode!=="match"?V.range.slice():q.range.slice(),calendar:q.calendar},q.rangebreaks&&(Z.layout[N].rangebreaks=q.rangebreaks),n.supplyDefaults(Z);var j=Z._fullLayout.xaxis,H=Z._fullLayout[N];j.clearCalc(),j.setScale(),H.clearCalc(),H.setScale();var Y={id:O,plotgroup:R,xaxis:j,yaxis:H,isRangePlot:!0};z?C=Y:(Y.mainplot="xy",Y.mainplotinfo=C),o.rangePlot(_,Y,function(ie,re){for(var ne=[],ee=0;ee<ie.length;ee++){var Q=ie[ee],X=Q[0].trace;X.xaxis+X.yaxis===re&&ne.push(Q)}return ne}(k,O))})}function g(T,_,A,d,C){M.ensureSingle(T,"rect",l.maskMinClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",d._height).call(s.fill,l.maskColor),M.ensureSingle(T,"rect",l.maskMaxClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",d._height).call(s.fill,l.maskColor),C.rangemode!=="match"&&(M.ensureSingle(T,"rect",l.maskMinOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",d._width).call(s.fill,l.maskOppAxisColor),M.ensureSingle(T,"rect",l.maskMaxOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",d._width).style("border-top",l.maskOppBorder).call(s.fill,l.maskOppAxisColor))}function v(T,_,A,d){_._context.staticPlot||M.ensureSingle(T,"rect",l.slideBoxClassName,function(C){C.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:d._height,fill:l.slideBoxFill})}function m(T,_,A,d){var C=M.ensureSingle(T,"g",l.grabberMinClassName),k=M.ensureSingle(T,"g",l.grabberMaxClassName),D={x:0,width:l.handleWidth,rx:l.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},O={y:Math.round(d._height/4),height:Math.round(d._height/2)};M.ensureSingle(C,"rect",l.handleMinClassName,function(R){R.attr(D)}).attr(O),M.ensureSingle(k,"rect",l.handleMaxClassName,function(R){R.attr(D)}).attr(O);var L={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:_._context.staticPlot?void 0:l.grabAreaCursor};M.ensureSingle(C,"rect",l.grabAreaMinClassName,function(R){R.attr(L)}).attr("height",d._height),M.ensureSingle(k,"rect",l.grabAreaMaxClassName,function(R){R.attr(L)}).attr("height",d._height)}S.exports=function(T){for(var _=T._fullLayout,A=_._rangeSliderData,d=0;d<A.length;d++){var C=A[d][l.name];C._clipId=C._id+"-"+_._uid}var k=_._infolayer.selectAll("g."+l.containerClassName).data(A,function(D){return D._name});k.exit().each(function(D){var O=D[l.name];_._topdefs.select("#"+O._clipId).remove()}).remove(),A.length!==0&&(k.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),k.each(function(D){var O=p.select(this),L=D[l.name],R=_[r.id2name(D.anchor)],z=L[r.id2name(D.anchor)];if(L.range){var q,N=M.simpleMap(L.range,D.r2l),V=M.simpleMap(D.range,D.r2l);q=V[0]<V[1]?[Math.min(N[0],V[0]),Math.max(N[1],V[1])]:[Math.max(N[0],V[0]),Math.min(N[1],V[1])],L.range=L._input.range=M.simpleMap(q,D.l2r)}D.cleanRange("rangeslider.range");var Z=_._size,j=D.domain;L._width=Z.w*(j[1]-j[0]);var H=Math.round(Z.l+Z.w*j[0]),Y=Math.round(Z.t+Z.h*(1-D._counterDomainMin)+(D.side==="bottom"?D._depth:0)+L._offsetShift+l.extraPad);O.attr("transform",b(H,Y)),L._rl=M.simpleMap(L.range,D.r2l);var ie=L._rl[0],re=L._rl[1],ne=re-ie;if(L.p2d=function(_e){return _e/L._width*ne+ie},L.d2p=function(_e){return(_e-ie)/ne*L._width},D.rangebreaks){var ee=D.locateBreaks(ie,re);if(ee.length){var Q,X,se=0;for(Q=0;Q<ee.length;Q++)se+=(X=ee[Q]).max-X.min;var ce=L._width/(re-ie-se),le=[-ce*ie];for(Q=0;Q<ee.length;Q++)X=ee[Q],le.push(le[le.length-1]-ce*(X.max-X.min));for(L.d2p=function(_e){for(var ve=le[0],me=0;me<ee.length;me++){var ye=ee[me];if(_e>=ye.max)ve=le[me+1];else if(_e<ye.min)break}return ve+ce*_e},Q=0;Q<ee.length;Q++)(X=ee[Q]).pmin=L.d2p(X.min),X.pmax=L.d2p(X.max);L.p2d=function(_e){for(var ve=le[0],me=0;me<ee.length;me++){var ye=ee[me];if(_e>=ye.pmax)ve=le[me+1];else if(_e<ye.pmin)break}return(_e-ve)/ce}}}if(z.rangemode!=="match"){var de=R.r2l(z.range[0]),be=R.r2l(z.range[1])-de;L.d2pOppAxis=function(_e){return(_e-de)/be*L._height}}O.call(h,T,D,L).call(c,T,D,L).call(w,T,D,L).call(g,T,D,L,z).call(v,T,D,L).call(m,T,D,L),function(_e,ve,me,ye){if(!ve._context.staticPlot){var Se=_e.select("rect."+l.slideBoxClassName).node(),Ie=_e.select("rect."+l.grabAreaMinClassName).node(),xe=_e.select("rect."+l.grabAreaMaxClassName).node();_e.on("mousedown",ue),_e.on("touchstart",ue)}function ue(){var ae=p.event,pe=ae.target,De=u(ae),Te=De-_e.node().getBoundingClientRect().left,Ae=ye.d2p(me._rl[0]),Ce=ye.d2p(me._rl[1]),Re=i.coverSlip();function Ne(Me){var Ee,Fe,Le,Ue=+u(Me)-De;switch(pe){case Se:if(Le="ew-resize",Ae+Ue>me._length||Ce+Ue<0)return;Ee=Ae+Ue,Fe=Ce+Ue;break;case Ie:if(Le="col-resize",Ae+Ue>me._length)return;Ee=Ae+Ue,Fe=Ce;break;case xe:if(Le="col-resize",Ce+Ue<0)return;Ee=Ae,Fe=Ce+Ue;break;default:Le="ew-resize",Ee=Te,Fe=Te+Ue}if(Fe<Ee){var Ge=Fe;Fe=Ee,Ee=Ge}ye._pixelMin=Ee,ye._pixelMax=Fe,a(p.select(Re),Le),function(Ke,at,st,vt){function xt(et){return st.l2r(M.constrain(et,vt._rl[0],vt._rl[1]))}var gt=xt(vt.p2d(vt._pixelMin)),nt=xt(vt.p2d(vt._pixelMax));window.requestAnimationFrame(function(){y.call("_guiRelayout",at,st._name+".range",[gt,nt])})}(0,ve,me,ye)}function ge(){Re.removeEventListener("mousemove",Ne),Re.removeEventListener("mouseup",ge),this.removeEventListener("touchmove",Ne),this.removeEventListener("touchend",ge),M.removeElement(Re)}this.addEventListener("touchmove",Ne),this.addEventListener("touchend",ge),Re.addEventListener("mousemove",Ne),Re.addEventListener("mouseup",ge)}}(O,T,D,L),function(_e,ve,me,ye,Se,Ie){var xe=l.handleWidth/2;function ue(Me){return M.constrain(Me,0,ye._width)}function ae(Me){return M.constrain(Me,0,ye._height)}function pe(Me){return M.constrain(Me,-xe,ye._width+xe)}var De=ue(ye.d2p(me._rl[0])),Te=ue(ye.d2p(me._rl[1]));if(_e.select("rect."+l.slideBoxClassName).attr("x",De).attr("width",Te-De),_e.select("rect."+l.maskMinClassName).attr("width",De),_e.select("rect."+l.maskMaxClassName).attr("x",Te).attr("width",ye._width-Te),Ie.rangemode!=="match"){var Ae=ye._height-ae(ye.d2pOppAxis(Se._rl[1])),Ce=ye._height-ae(ye.d2pOppAxis(Se._rl[0]));_e.select("rect."+l.maskMinOppAxisClassName).attr("x",De).attr("height",Ae).attr("width",Te-De),_e.select("rect."+l.maskMaxOppAxisClassName).attr("x",De).attr("y",Ce).attr("height",ye._height-Ce).attr("width",Te-De),_e.select("rect."+l.slideBoxClassName).attr("y",Ae).attr("height",Ce-Ae)}var Re=.5,Ne=Math.round(pe(De-xe))-Re,ge=Math.round(pe(Te-xe))+Re;_e.select("g."+l.grabberMinClassName).attr("transform",b(Ne,Re)),_e.select("g."+l.grabberMaxClassName).attr("transform",b(ge,Re))}(O,0,D,L,R,z),D.side==="bottom"&&t.draw(T,D._id+"title",{propContainer:D,propName:D._name+".title",placeholder:_._dfltTitle.x,attributes:{x:D._offset+D._length/2,y:Y+L._height+L._offsetShift+10+1.5*D.title.font.size,"text-anchor":"middle"}})}))}},97944:function(S,x,e){"use strict";var p=e(79811),y=e(72736),n=e(74636),M=e(84284).LINE_SPACING,b=n.name;function f(s){var t=s&&s[b];return t&&t.visible}x.isVisible=f,x.makeData=function(s){var t=p.list({_fullLayout:s},"x",!0),o=s.margin,r=[];if(!s._has("gl2d"))for(var i=0;i<t.length;i++){var a=t[i];if(f(a)){r.push(a);var l=a[b];l._id=b+a._id,l._height=(s.height-o.b-o.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}s._rangeSliderData=r},x.autoMarginOpts=function(s,t){var o=s._fullLayout,r=t[b],i=t._id.charAt(0),a=0,l=0;return t.side==="bottom"&&(a=t._depth,t.title.text!==o._dfltTitle[i]&&(l=1.5*t.title.font.size+10+r._offsetShift,l+=(t.title.text.match(y.BR_TAG_ALL)||[]).length*t.title.font.size*M)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+a+Math.max(o.margin.b,l),pad:n.extraPad+2*r._offsetShift}}},49692:function(S,x,e){"use strict";var p=e(3400),y=e(11200),n=e(10936),M=e(97944);S.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},y,{yaxis:n})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:M.isVisible,makeData:M.makeData,autoMarginOpts:M.autoMarginOpts}},10936:function(S){"use strict";S.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(S,x,e){"use strict";var p=e(13916),y=e(52904).line,n=e(98192).u,M=e(92880).extendFlat,b=e(67824).overrideAll,f=e(31780).templatedArray;e(36208),S.exports=b(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:M({},p.xref,{}),yref:M({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:y.color,width:M({},y.width,{min:1,dflt:1}),dash:M({},n,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(S){"use strict";S.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(51272),M=e(93956),b=e(65152);function f(s,t,o){function r(D,O){return p.coerce(s,t,M,D,O)}var i=r("path"),a=r("type",i?"path":"rect")!=="path";a&&delete t.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var l=["x","y"],u=0;u<2;u++){var h,c,w,g=l[u],v={_fullLayout:o},m=y.coerceRef(s,t,v,g);if((h=y.getFromId(v,m))._selectionIndices.push(t._index),w=b.rangeToShapePosition(h),c=b.shapePositionToRange(h),a){var T=g+"0",_=g+"1",A=s[T],d=s[_];s[T]=c(s[T],!0),s[_]=c(s[_],!0),y.coercePosition(t,v,r,m,T),y.coercePosition(t,v,r,m,_);var C=t[T],k=t[_];C!==void 0&&k!==void 0&&(t[T]=w(C),t[_]=w(k),s[T]=A,s[_]=d)}}a&&p.noneOrAll(s,t,["x0","x1","y0","y1"])}S.exports=function(s,t){n(s,t,{name:"selections",handleItemDefaults:f});for(var o=t.selections,r=0;r<o.length;r++){var i=o[r];i&&i.path===void 0&&(i.x0!==void 0&&i.x1!==void 0&&i.y0!==void 0&&i.y1!==void 0||(t.selections[r]=null))}}},23640:function(S,x,e){"use strict";var p=e(9856).readPaths,y=e(55496),n=e(1936).clearOutlineControllers,M=e(76308),b=e(43616),f=e(31780).arrayEditor,s=e(65152),t=s.getPathString;function o(u){var h=u._fullLayout;for(var c in n(u),h._selectionLayer.selectAll("path").remove(),h._plots){var w=h._plots[c].selectionLayer;w&&w.selectAll("path").remove()}for(var g=0;g<h.selections.length;g++)i(u,g)}function r(u){return u._context.editSelection}function i(u,h){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+h+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,h),w=c.options,g=c.plotinfo;w._input&&function(v){var m=t(u,w),T={"data-index":h,"fill-rule":"evenodd",d:m},_=w.opacity,A="rgba(0,0,0,0)",d=w.line.color||M.contrast(u._fullLayout.plot_bgcolor),C=w.line.width,k=w.line.dash;C||(C=5,k="solid");var D=r(u)&&u._fullLayout._activeSelectionIndex===h;D&&(A=u._fullLayout.activeselection.fillcolor,_=u._fullLayout.activeselection.opacity);for(var O=[],L=1;L>=0;L--){var R=v.append("path").attr(T).style("opacity",L?.1:_).call(M.stroke,d).call(M.fill,A).call(b.dashLine,L?"solid":k,L?4+C:C);if(a(R,u,w),D){var z=f(u.layout,"selections",w);R.style({cursor:"move"});var q={element:R.node(),plotinfo:g,gd:u,editHelpers:z,isActiveSelection:!0},N=p(m,u);y(N,R,q)}else R.style("pointer-events",L?"all":"none");O[L]=R}var V=O[0];O[1].node().addEventListener("click",function(){return function(Z,j){if(r(Z)){var H=+j.node().getAttribute("data-index");if(H>=0){if(H===Z._fullLayout._activeSelectionIndex)return void l(Z);Z._fullLayout._activeSelectionIndex=H,Z._fullLayout._deactivateSelection=l,o(Z)}}}(u,V)})}(u._fullLayout._selectionLayer)}function a(u,h,c){var w=c.xref+c.yref;b.setClipUrl(u,"clip"+h._fullLayout._uid+w,h)}function l(u){r(u)&&u._fullLayout._activeSelectionIndex>=0&&(n(u),delete u._fullLayout._activeSelectionIndex,o(u))}S.exports={draw:o,drawOne:i,activateLastSelection:function(u){if(r(u)){var h=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=h,u._fullLayout._deactivateSelection=l,o(u)}}}},34200:function(S,x,e){"use strict";var p=e(98192).u,y=e(92880).extendFlat;S.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:y({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(S){"use strict";S.exports=function(x,e,p){p("newselection.mode"),p("newselection.line.width")&&(p("newselection.line.color"),p("newselection.line.dash")),p("activeselection.fillcolor"),p("activeselection.opacity")}},5968:function(S,x,e){"use strict";var p=e(72760).selectMode,y=e(1936).clearOutline,n=e(9856),M=n.readPaths,b=n.writePaths,f=n.fixDatesForPaths;S.exports=function(s,t){if(s.length){var o=s[0][0];if(o){var r=o.getAttribute("d"),i=t.gd,a=i._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,h=l.yaxis,c=t.isActiveSelection,w=t.dragmode,g=(i.layout||{}).selections||[];if(!p(w)&&c!==void 0){var v=i._fullLayout._activeSelectionIndex;if(v<g.length)switch(i._fullLayout.selections[v].type){case"rect":w="select";break;case"path":w="lasso"}}var m,T=M(r,i,l,c),_={xref:u._id,yref:h._id,opacity:a.opacity,line:{color:a.line.color,width:a.line.width,dash:a.line.dash}};T.length===1&&(m=T[0]),m&&m.length===5&&w==="select"?(_.type="rect",_.x0=m[0][1],_.y0=m[0][2],_.x1=m[2][1],_.y1=m[2][2]):(_.type="path",u&&h&&f(T,u,h),_.path=b(T),m=null),y(i);for(var A=t.editHelpers,d=(A||{}).modifyItem,C=[],k=0;k<g.length;k++){var D=i._fullLayout.selections[k];if(D){if(C[k]=D._input,c!==void 0&&k===i._fullLayout._activeSelectionIndex){var O=_;switch(D.type){case"rect":d("x0",O.x0),d("x1",O.x1),d("y0",O.y0),d("y1",O.y1);break;case"path":d("path",O.path)}}}else C[k]=D}return c===void 0?(C.push(_),C):A?A.getUpdateObj():{}}}}},5840:function(S,x,e){"use strict";var p=e(3400).strTranslate;function y(n,M){switch(n.type){case"log":return n.p2d(M);case"date":return n.p2r(M,0,n.calendar);default:return n.p2r(M)}}S.exports={p2r:y,r2p:function(n,M){switch(n.type){case"log":return n.d2p(M);case"date":return n.r2p(M,0,n.calendar);default:return n.r2p(M)}},axValue:function(n){var M=n._id.charAt(0)==="y"?1:0;return function(b){return y(n,b[M])}},getTransform:function(n){return p(n.xaxis._offset,n.yaxis._offset)}}},22676:function(S,x,e){"use strict";var p=e(23640),y=e(43156);S.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:y.reselect,prepSelect:y.prepSelect,clearOutline:y.clearOutline,clearSelectionsCache:y.clearSelectionsCache,selectOnClick:y.selectOnClick}},43156:function(S,x,e){"use strict";var p=e(14756),y=e(61456),n=e(24040),M=e(43616).dashStyle,b=e(76308),f=e(93024),s=e(10624).makeEventData,t=e(72760),o=t.freeMode,r=t.rectMode,i=t.drawMode,a=t.openMode,l=t.selectMode,u=e(65152),h=e(85448),c=e(55496),w=e(1936).clearOutline,g=e(9856),v=g.handleEllipse,m=g.readPaths,T=e(93940).newShapes,_=e(5968),A=e(23640).activateLastSelection,d=e(3400),C=d.sorterAsc,k=e(92065),D=e(91200),O=e(79811).getFromId,L=e(73696),R=e(39172).redrawReglTraces,z=e(83280),q=z.MINSELECT,N=k.filter,V=k.tester,Z=e(5840),j=Z.p2r,H=Z.axValue,Y=Z.getTransform;function ie(Ne){return Ne.subplot!==void 0}function re(Ne,ge,Me,Ee,Fe,Le,Ue){var Ge,Ke,at,st,vt,xt,gt,nt,et,At=ge._hoverdata,Pt=ge._fullLayout.clickmode.indexOf("event")>-1,Rt=[];if(function(Ze){return Ze&&Array.isArray(Ze)&&Ze[0].hoverOnBox!==!0}(At)){X(Ne,ge,Le);var Et=function(Ze,lt){var it,Be,je=Ze[0],ot=-1,$e=[];for(Be=0;Be<lt.length;Be++)if(it=lt[Be],je.fullData._expandedIndex===it.cd[0].trace._expandedIndex){if(je.hoverOnBox===!0)break;je.pointNumber!==void 0?ot=je.pointNumber:je.binNumber!==void 0&&(ot=je.binNumber,$e=je.pointNumbers);break}return{pointNumber:ot,pointNumbers:$e,searchInfo:it}}(At,Ge=le(ge,Me,Ee,Fe));if(Et.pointNumbers.length>0?function(Ze,lt){var it,Be,je,ot=[];for(je=0;je<Ze.length;je++)(it=Ze[je]).cd[0].trace.selectedpoints&&it.cd[0].trace.selectedpoints.length>0&&ot.push(it);if(ot.length===1&&ot[0]===lt.searchInfo&&(Be=lt.searchInfo.cd[0].trace).selectedpoints.length===lt.pointNumbers.length){for(je=0;je<lt.pointNumbers.length;je++)if(Be.selectedpoints.indexOf(lt.pointNumbers[je])<0)return!1;return!0}return!1}(Ge,Et):function(Ze){var lt,it,Be=0;for(it=0;it<Ze.length;it++)if((lt=Ze[it].cd[0].trace).selectedpoints&&(lt.selectedpoints.length>1||(Be+=lt.selectedpoints.length)>1))return!1;return Be===1}(Ge)&&(xt=be(Et))){for(Ue&&Ue.remove(),et=0;et<Ge.length;et++)(Ke=Ge[et])._module.selectPoints(Ke,!1);_e(ge,Ge),se(Le),Pt&&Re(ge)}else{for(gt=Ne.shiftKey&&(xt!==void 0?xt:be(Et)),at=function(Ze,lt,it){return{pointNumber:Ze,searchInfo:lt,subtract:!!it}}(Et.pointNumber,Et.searchInfo,gt),st=Q(Le.selectionDefs.concat([at])),et=0;et<Ge.length;et++)if(vt=me(Ge[et]._module.selectPoints(Ge[et],st),Ge[et]),Rt.length)for(var Ye=0;Ye<vt.length;Ye++)Rt.push(vt[Ye]);else Rt=vt;if(_e(ge,Ge,nt={points:Rt}),at&&Le&&Le.selectionDefs.push(at),Ue){var Xe=Le.mergedPolygons,Ve=a(Le.dragmode);c(ye(Xe,Ve),Ue,Le)}Pt&&Ce(ge,nt)}}}function ne(Ne){return"pointNumber"in Ne&&"searchInfo"in Ne}function ee(Ne){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ge,Me,Ee,Fe){var Le=Ne.searchInfo.cd[0].trace._expandedIndex;return Fe.cd[0].trace._expandedIndex===Le&&Ee===Ne.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ne.subtract}}function Q(Ne){if(Ne.length){for(var ge=[],Me=ne(Ne[0])?0:Ne[0][0][0],Ee=Me,Fe=ne(Ne[0])?0:Ne[0][0][1],Le=Fe,Ue=0;Ue<Ne.length;Ue++)if(ne(Ne[Ue]))ge.push(ee(Ne[Ue]));else{var Ge=V(Ne[Ue]);Ge.subtract=!!Ne[Ue].subtract,ge.push(Ge),Me=Math.min(Me,Ge.xmin),Ee=Math.max(Ee,Ge.xmax),Fe=Math.min(Fe,Ge.ymin),Le=Math.max(Le,Ge.ymax)}return{xmin:Me,xmax:Ee,ymin:Fe,ymax:Le,pts:[],contains:function(Ke,at,st,vt){for(var xt=!1,gt=0;gt<ge.length;gt++)ge[gt].contains(Ke,at,st,vt)&&(xt=!ge[gt].subtract);return xt},isRect:!1,degenerate:!1}}}function X(Ne,ge,Me){var Ee=ge._fullLayout,Fe=Me.plotinfo,Le=Me.dragmode,Ue=Ee._lastSelectedSubplot&&Ee._lastSelectedSubplot===Fe.id,Ge=(Ne.shiftKey||Ne.altKey)&&!(i(Le)&&a(Le));Ue&&Ge&&Fe.selection&&Fe.selection.selectionDefs&&!Me.selectionDefs?(Me.selectionDefs=Fe.selection.selectionDefs,Me.mergedPolygons=Fe.selection.mergedPolygons):Ge&&Fe.selection||se(Me),Ue||(w(ge),Ee._lastSelectedSubplot=Fe.id)}function se(Ne,ge){var Me=Ne.dragmode,Ee=Ne.plotinfo,Fe=Ne.gd;(function(vt){return vt._fullLayout._activeShapeIndex>=0})(Fe)&&Fe._fullLayout._deactivateShape(Fe),function(vt){return vt._fullLayout._activeSelectionIndex>=0}(Fe)&&Fe._fullLayout._deactivateSelection(Fe);var Le=Fe._fullLayout._zoomlayer,Ue=i(Me),Ge=l(Me);if(Ue||Ge){var Ke,at,st=Le.selectAll(".select-outline-"+Ee.id);st&&Fe._fullLayout._outlining&&(Ue&&(Ke=T(st,Ne)),Ke&&n.call("_guiRelayout",Fe,{shapes:Ke}),Ge&&!ie(Ne)&&(at=_(st,Ne)),at&&(Fe._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Fe,{selections:at}).then(function(){ge&&A(Fe)})),Fe._fullLayout._outlining=!1)}Ee.selection={},Ee.selection.selectionDefs=Ne.selectionDefs=[],Ee.selection.mergedPolygons=Ne.mergedPolygons=[]}function ce(Ne){return Ne._id}function le(Ne,ge,Me,Ee){if(!Ne.calcdata)return[];var Fe,Le,Ue,Ge=[],Ke=ge.map(ce),at=Me.map(ce);for(Ue=0;Ue<Ne.calcdata.length;Ue++)if((Le=(Fe=Ne.calcdata[Ue])[0].trace).visible===!0&&Le._module&&Le._module.selectPoints)if(!ie({subplot:Ee})||Le.subplot!==Ee&&Le.geo!==Ee)if(Le.type==="splom"){if(Le._xaxes[Ke[0]]&&Le._yaxes[at[0]]){var st=de(Le._module,Fe,ge[0],Me[0]);st.scene=Ne._fullLayout._splomScenes[Le.uid],Ge.push(st)}}else if(Le.type==="sankey"){var vt=de(Le._module,Fe,ge[0],Me[0]);Ge.push(vt)}else{if(!(Ke.indexOf(Le.xaxis)!==-1||Le._xA&&Le._xA.overlaying)||!(at.indexOf(Le.yaxis)!==-1||Le._yA&&Le._yA.overlaying))continue;Ge.push(de(Le._module,Fe,O(Ne,Le.xaxis),O(Ne,Le.yaxis)))}else Ge.push(de(Le._module,Fe,ge[0],Me[0]));return Ge}function de(Ne,ge,Me,Ee){return{_module:Ne,cd:ge,xaxis:Me,yaxis:Ee}}function be(Ne){var ge=Ne.searchInfo.cd[0].trace,Me=Ne.pointNumber,Ee=Ne.pointNumbers,Fe=Ee.length>0?Ee[0]:Me;return!!ge.selectedpoints&&ge.selectedpoints.indexOf(Fe)>-1}function _e(Ne,ge,Me){var Ee,Fe;for(Ee=0;Ee<ge.length;Ee++){var Le=ge[Ee].cd[0].trace._fullInput,Ue=Ne._fullLayout._tracePreGUI[Le.uid]||{};Ue.selectedpoints===void 0&&(Ue.selectedpoints=Le._input.selectedpoints||null)}if(Me){var Ge=Me.points||[];for(Ee=0;Ee<ge.length;Ee++)(Fe=ge[Ee].cd[0].trace)._input.selectedpoints=Fe._fullInput.selectedpoints=[],Fe._fullInput!==Fe&&(Fe.selectedpoints=[]);for(var Ke=0;Ke<Ge.length;Ke++){var at=Ge[Ke],st=at.data,vt=at.fullData,xt=at.pointIndex,gt=at.pointIndices;gt?([].push.apply(st.selectedpoints,gt),Fe._fullInput!==Fe&&[].push.apply(vt.selectedpoints,gt)):(st.selectedpoints.push(xt),Fe._fullInput!==Fe&&vt.selectedpoints.push(xt))}}else for(Ee=0;Ee<ge.length;Ee++)delete(Fe=ge[Ee].cd[0].trace).selectedpoints,delete Fe._input.selectedpoints,Fe._fullInput!==Fe&&delete Fe._fullInput.selectedpoints;(function(nt,et){for(var At=!1,Pt=0;Pt<et.length;Pt++){var Rt=et[Pt],Et=Rt.cd;n.traceIs(Et[0].trace,"regl")&&(At=!0);var Ye=Rt._module,Xe=Ye.styleOnSelect||Ye.style;Xe&&(Xe(nt,Et,Et[0].node3),Et[0].nodeRangePlot3&&Xe(nt,Et,Et[0].nodeRangePlot3))}At&&(L(nt),R(nt))})(Ne,ge)}function ve(Ne,ge,Me){for(var Ee=(Me?p.difference:p.union)({regions:Ne},{regions:[ge]}).regions.reverse(),Fe=0;Fe<Ee.length;Fe++){var Le=Ee[Fe];Le.subtract=pe(Le,Ee.slice(0,Fe))}return Ee}function me(Ne,ge){if(Array.isArray(Ne))for(var Me=ge.cd,Ee=ge.cd[0].trace,Fe=0;Fe<Ne.length;Fe++)Ne[Fe]=s(Ne[Fe],Ee,Me);return Ne}function ye(Ne,ge){for(var Me=[],Ee=0;Ee<Ne.length;Ee++){Me[Ee]=[];for(var Fe=0;Fe<Ne[Ee].length;Fe++){Me[Ee][Fe]=[],Me[Ee][Fe][0]=Fe?"L":"M";for(var Le=0;Le<Ne[Ee][Fe].length;Le++)Me[Ee][Fe].push(Ne[Ee][Fe][Le])}ge||Me[Ee].push(["Z",Me[Ee][0][1],Me[Ee][0][2]])}return Me}function Se(Ne,ge){for(var Me,Ee,Fe=[],Le=[],Ue=0;Ue<ge.length;Ue++){var Ge=ge[Ue];Ee=Ge._module.selectPoints(Ge,Ne),Le.push(Ee),Me=me(Ee,Ge),Fe=Fe.concat(Me)}return Fe}function Ie(Ne,ge,Me,Ee,Fe){var Le,Ue,Ge,Ke=!!Ee;Fe&&(Le=Fe.plotinfo,Ue=Fe.xaxes[0]._id,Ge=Fe.yaxes[0]._id);var at=[],st=[],vt=ae(Ne),xt=Ne._fullLayout;if(Le){var gt=xt._zoomlayer,nt=xt.dragmode,et=i(nt),At=l(nt);if(et||At){var Pt=O(Ne,Ue,"x"),Rt=O(Ne,Ge,"y");if(Pt&&Rt){var Et=gt.selectAll(".select-outline-"+Le.id);if(Et&&Ne._fullLayout._outlining&&Et.length){for(var Ye=Et[0][0].getAttribute("d"),Xe=m(Ye,Ne,Le),Ve=[],Ze=0;Ze<Xe.length;Ze++){for(var lt=Xe[Ze],it=[],Be=0;Be<lt.length;Be++)it.push([De(Pt,lt[Be][1]),De(Rt,lt[Be][2])]);it.xref=Ue,it.yref=Ge,it.subtract=pe(it,Ve),Ve.push(it)}vt=vt.concat(Ve)}}}}var je=Ue&&Ge?[Ue+Ge]:xt._subplots.cartesian;(function(En){var Dn=En.calcdata;if(Dn)for(var kn=0;kn<Dn.length;kn++){var Bn=Dn[kn][0].trace,Rn=En._fullLayout._splomScenes;if(Rn){var Kn=Rn[Bn.uid];Kn&&(Kn.selectBatch=[])}}})(Ne);for(var ot={},$e=0;$e<je.length;$e++){var dt=je[$e],mt=dt.indexOf("y"),yt=dt.slice(0,mt),ht=dt.slice(mt),kt=Ue&&Ge?Me:void 0;if(kt=ue(vt,yt,ht,kt)){var bt=Ee;if(!Ke){var St=O(Ne,yt,"x"),Lt=O(Ne,ht,"y");bt=le(Ne,[St],[Lt],dt);for(var Ot=0;Ot<bt.length;Ot++){var Ft=bt[Ot],$t=Ft.cd[0],on=$t.trace;if(Ft._module.name==="scattergl"&&!$t.t.xpx){var Ht=on.x,Zt=on.y,jt=on._length;$t.t.xpx=[],$t.t.ypx=[];for(var Ln=0;Ln<jt;Ln++)$t.t.xpx[Ln]=St.c2p(Ht[Ln]),$t.t.ypx[Ln]=Lt.c2p(Zt[Ln])}Ft._module.name==="splom"&&(ot[on.uid]||(ot[on.uid]=!0))}}var Tn=Se(kt,bt);at=at.concat(Tn),st=st.concat(bt)}}var gn={points:at};_e(Ne,st,gn);var Qt=xt.clickmode.indexOf("event")>-1&&ge;if(!Le&&ge){var cn=ae(Ne,!0);if(cn.length){var nn=cn[0].xref,hn=cn[0].yref;if(nn&&hn){var bn=Te(cn);Ae([O(Ne,nn,"x"),O(Ne,hn,"y")])(gn,bn)}}Ne._fullLayout._noEmitSelectedAtStart?Ne._fullLayout._noEmitSelectedAtStart=!1:Qt&&Ce(Ne,gn),xt._reselect=!1}if(!Le&&xt._deselect){var wn=xt._deselect;(function(En,Dn,kn){for(var Bn=0;Bn<kn.length;Bn++){var Rn=kn[Bn];if(Rn.xaxis&&Rn.xaxis._id===En&&Rn.yaxis&&Rn.yaxis._id===Dn)return!0}return!1})(Ue=wn.xref,Ge=wn.yref,st)||xe(Ne,Ue,Ge,Ee),Qt&&(gn.points.length?Ce(Ne,gn):Re(Ne)),xt._deselect=!1}return{eventData:gn,selectionTesters:Me}}function xe(Ne,ge,Me,Ee){Ee=le(Ne,[O(Ne,ge,"x")],[O(Ne,Me,"y")],ge+Me);for(var Fe=0;Fe<Ee.length;Fe++){var Le=Ee[Fe];Le._module.selectPoints(Le,!1)}_e(Ne,Ee)}function ue(Ne,ge,Me,Ee){for(var Fe,Le=0;Le<Ne.length;Le++){var Ue=Ne[Le];ge===Ue.xref&&Me===Ue.yref&&(Fe?Ee=Q(Fe=ve(Fe,Ue,!!Ue.subtract)):(Fe=[Ue],Ee=V(Ue)))}return Ee}function ae(Ne,ge){for(var Me=[],Ee=Ne._fullLayout,Fe=Ee.selections,Le=Fe.length,Ue=0;Ue<Le;Ue++)if(!ge||Ue===Ee._activeSelectionIndex){var Ge=Fe[Ue];if(Ge){var Ke,at,st,vt,xt,gt=Ge.xref,nt=Ge.yref,et=O(Ne,gt,"x"),At=O(Ne,nt,"y");if(Ge.type==="rect"){xt=[];var Pt=De(et,Ge.x0),Rt=De(et,Ge.x1),Et=De(At,Ge.y0),Ye=De(At,Ge.y1);xt=[[Pt,Et],[Pt,Ye],[Rt,Ye],[Rt,Et]],Ke=Math.min(Pt,Rt),at=Math.max(Pt,Rt),st=Math.min(Et,Ye),vt=Math.max(Et,Ye),xt.xmin=Ke,xt.xmax=at,xt.ymin=st,xt.ymax=vt,xt.xref=gt,xt.yref=nt,xt.subtract=!1,xt.isRect=!0,Me.push(xt)}else if(Ge.type==="path")for(var Xe=Ge.path.split("Z"),Ve=[],Ze=0;Ze<Xe.length;Ze++){var lt=Xe[Ze];if(lt){lt+="Z";var it=u.extractPathCoords(lt,h.paramIsX,"raw"),Be=u.extractPathCoords(lt,h.paramIsY,"raw");Ke=1/0,at=-1/0,st=1/0,vt=-1/0,xt=[];for(var je=0;je<it.length;je++){var ot=De(et,it[je]),$e=De(At,Be[je]);xt.push([ot,$e]),Ke=Math.min(ot,Ke),at=Math.max(ot,at),st=Math.min($e,st),vt=Math.max($e,vt)}xt.xmin=Ke,xt.xmax=at,xt.ymin=st,xt.ymax=vt,xt.xref=gt,xt.yref=nt,xt.subtract=pe(xt,Ve),Ve.push(xt),Me.push(xt)}}}}return Me}function pe(Ne,ge){for(var Me=!1,Ee=0;Ee<ge.length;Ee++)for(var Fe=ge[Ee],Le=0;Le<Ne.length;Le++)if(y(Ne[Le],Fe)){Me=!Me;break}return Me}function De(Ne,ge){return Ne.type==="date"&&(ge=ge.replace("_"," ")),Ne.type==="log"?Ne.c2p(ge):Ne.r2p(ge,null,Ne.calendar)}function Te(Ne){for(var ge=Ne.length,Me=[],Ee=0;Ee<ge;Ee++){var Fe=Ne[Ee];Me=(Me=Me.concat(Fe)).concat([Fe[0]])}return(Le=Me).isRect=Le.length===5&&Le[0][0]===Le[4][0]&&Le[0][1]===Le[4][1]&&Le[0][0]===Le[1][0]&&Le[2][0]===Le[3][0]&&Le[0][1]===Le[3][1]&&Le[1][1]===Le[2][1]||Le[0][1]===Le[1][1]&&Le[2][1]===Le[3][1]&&Le[0][0]===Le[3][0]&&Le[1][0]===Le[2][0],Le.isRect&&(Le.xmin=Math.min(Le[0][0],Le[2][0]),Le.xmax=Math.max(Le[0][0],Le[2][0]),Le.ymin=Math.min(Le[0][1],Le[2][1]),Le.ymax=Math.max(Le[0][1],Le[2][1])),Le;var Le}function Ae(Ne){return function(ge,Me){for(var Ee,Fe,Le=0;Le<Ne.length;Le++){var Ue=Ne[Le],Ge=Ue._id,Ke=Ge.charAt(0);if(Me.isRect){Ee||(Ee={});var at=Me[Ke+"min"],st=Me[Ke+"max"];at!==void 0&&st!==void 0&&(Ee[Ge]=[j(Ue,at),j(Ue,st)].sort(C))}else Fe||(Fe={}),Fe[Ge]=Me.map(H(Ue))}Ee&&(ge.range=Ee),Fe&&(ge.lassoPoints=Fe)}}function Ce(Ne,ge){ge&&(ge.selections=(Ne.layout||{}).selections||[]),Ne.emit("plotly_selected",ge)}function Re(Ne){Ne.emit("plotly_deselect",null)}S.exports={reselect:Ie,prepSelect:function(Ne,ge,Me,Ee,Fe){var Le=!ie(Ee),Ue=o(Fe),Ge=r(Fe),Ke=a(Fe),at=i(Fe),st=l(Fe),vt=Fe==="drawcircle",xt=Fe==="drawline"||vt,gt=Ee.gd,nt=gt._fullLayout,et=st&&nt.newselection.mode==="immediate"&&Le,At=nt._zoomlayer,Pt=Ee.element.getBoundingClientRect(),Rt=Ee.plotinfo,Et=Y(Rt),Ye=ge-Pt.left,Xe=Me-Pt.top;nt._calcInverseTransform(gt);var Ve=d.apply3DTransform(nt._invTransform)(Ye,Xe);Ye=Ve[0],Xe=Ve[1];var Ze,lt,it,Be,je,ot,$e,dt=nt._invScaleX,mt=nt._invScaleY,yt=Ye,ht=Xe,kt="M"+Ye+","+Xe,bt=Ee.xaxes[0],St=Ee.yaxes[0],Lt=bt._length,Ot=St._length,Ft=Ne.altKey&&!(i(Fe)&&Ke);X(Ne,gt,Ee),Ue&&(Ze=N([[Ye,Xe]],z.BENDPX));var $t=At.selectAll("path.select-outline-"+Rt.id).data([1]),on=at?nt.newshape:nt.newselection;at&&(Ee.hasText=on.label.text||on.label.texttemplate);var Ht=at&&!Ke?on.fillcolor:"rgba(0,0,0,0)",Zt=on.line.color||(Le?b.contrast(gt._fullLayout.plot_bgcolor):"#7f7f7f");$t.enter().append("path").attr("class","select-outline select-outline-"+Rt.id).style({opacity:at?on.opacity/2:1,"stroke-dasharray":M(on.line.dash,on.line.width),"stroke-width":on.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,Zt).call(b.fill,Ht).attr("fill-rule","evenodd").classed("cursor-move",!!at).attr("transform",Et).attr("d",kt+"Z");var jt=At.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",Et).attr("d","M0,0Z");if(at&&Ee.hasText){var Ln=At.select(".label-temp");Ln.empty()&&(Ln=At.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Tn=nt._uid+z.SELECTID,gn=[],Qt=le(gt,Ee.xaxes,Ee.yaxes,Ee.subplot);et&&!Ne.shiftKey&&(Ee._clearSubplotSelections=function(){if(Le){var nn=bt._id,hn=St._id;xe(gt,nn,hn,Qt);for(var bn=(gt.layout||{}).selections||[],wn=[],En=!1,Dn=0;Dn<bn.length;Dn++){var kn=nt.selections[Dn];kn.xref!==nn||kn.yref!==hn?wn.push(bn[Dn]):En=!0}En&&(gt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",gt,{selections:wn}))}});var cn=function(nn){return nn.plotinfo.fillRangeItems||Ae(nn.xaxes.concat(nn.yaxes))}(Ee);Ee.moveFn=function(nn,hn){Ee._clearSubplotSelections&&(Ee._clearSubplotSelections(),Ee._clearSubplotSelections=void 0),yt=Math.max(0,Math.min(Lt,dt*nn+Ye)),ht=Math.max(0,Math.min(Ot,mt*hn+Xe));var bn=Math.abs(yt-Ye),wn=Math.abs(ht-Xe);if(Ge){var En,Dn,kn;if(st){var Bn=nt.selectdirection;switch(En=Bn==="any"?wn<Math.min(.6*bn,q)?"h":bn<Math.min(.6*wn,q)?"v":"d":Bn){case"h":Dn=vt?Ot/2:0,kn=Ot;break;case"v":Dn=vt?Lt/2:0,kn=Lt}}if(at)switch(nt.newshape.drawdirection){case"vertical":En="h",Dn=vt?Ot/2:0,kn=Ot;break;case"horizontal":En="v",Dn=vt?Lt/2:0,kn=Lt;break;case"ortho":bn<wn?(En="h",Dn=Xe,kn=ht):(En="v",Dn=Ye,kn=yt);break;default:En="d"}En==="h"?((Be=xt?v(vt,[yt,Dn],[yt,kn]):[[Ye,Dn],[Ye,kn],[yt,kn],[yt,Dn]]).xmin=xt?yt:Math.min(Ye,yt),Be.xmax=xt?yt:Math.max(Ye,yt),Be.ymin=Math.min(Dn,kn),Be.ymax=Math.max(Dn,kn),jt.attr("d","M"+Be.xmin+","+(Xe-q)+"h-4v"+2*q+"h4ZM"+(Be.xmax-1)+","+(Xe-q)+"h4v"+2*q+"h-4Z")):En==="v"?((Be=xt?v(vt,[Dn,ht],[kn,ht]):[[Dn,Xe],[Dn,ht],[kn,ht],[kn,Xe]]).xmin=Math.min(Dn,kn),Be.xmax=Math.max(Dn,kn),Be.ymin=xt?ht:Math.min(Xe,ht),Be.ymax=xt?ht:Math.max(Xe,ht),jt.attr("d","M"+(Ye-q)+","+Be.ymin+"v-4h"+2*q+"v4ZM"+(Ye-q)+","+(Be.ymax-1)+"v4h"+2*q+"v-4Z")):En==="d"&&((Be=xt?v(vt,[Ye,Xe],[yt,ht]):[[Ye,Xe],[Ye,ht],[yt,ht],[yt,Xe]]).xmin=Math.min(Ye,yt),Be.xmax=Math.max(Ye,yt),Be.ymin=Math.min(Xe,ht),Be.ymax=Math.max(Xe,ht),jt.attr("d","M0,0Z"))}else Ue&&(Ze.addPt([yt,ht]),Be=Ze.filtered);if(Ee.selectionDefs&&Ee.selectionDefs.length?(it=ve(Ee.mergedPolygons,Be,Ft),Be.subtract=Ft,lt=Q(Ee.selectionDefs.concat([Be]))):(it=[Be],lt=V(Be)),c(ye(it,Ke),$t,Ee),st){var Rn,Kn=Ie(gt,!1),Gn=Kn.eventData?Kn.eventData.points.slice():[];Kn=Ie(gt,!1,lt,Qt,Ee),lt=Kn.selectionTesters,$e=Kn.eventData,Rn=Ze?Ze.filtered:Te(it),D.throttle(Tn,z.SELECTDELAY,function(){for(var nr=(gn=Se(lt,Qt)).slice(),$n=0;$n<Gn.length;$n++){for(var fr=Gn[$n],en=!1,rn=0;rn<nr.length;rn++)if(nr[rn].curveNumber===fr.curveNumber&&nr[rn].pointNumber===fr.pointNumber){en=!0;break}en||nr.push(fr)}nr.length&&($e||($e={}),$e.points=nr),cn($e,Rn),function(Cn,mn){Cn.emit("plotly_selecting",mn)}(gt,$e)})}},Ee.clickFn=function(nn,hn){if(jt.remove(),gt._fullLayout._activeShapeIndex>=0)gt._fullLayout._deactivateShape(gt);else if(!at){var bn=nt.clickmode;D.done(Tn).then(function(){if(D.clear(Tn),nn===2){for($t.remove(),je=0;je<Qt.length;je++)(ot=Qt[je])._module.selectPoints(ot,!1);if(_e(gt,Qt),se(Ee),Re(gt),Qt.length){var wn=Qt[0].xaxis,En=Qt[0].yaxis;if(wn&&En){for(var Dn=[],kn=gt._fullLayout.selections,Bn=0;Bn<kn.length;Bn++){var Rn=kn[Bn];Rn&&(Rn.xref===wn._id&&Rn.yref===En._id||Dn.push(Rn))}Dn.length<kn.length&&(gt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",gt,{selections:Dn}))}}}else bn.indexOf("select")>-1&&re(hn,gt,Ee.xaxes,Ee.yaxes,Ee.subplot,Ee,$t),bn==="event"&&Ce(gt,void 0);f.click(gt,hn,Rt.id)}).catch(d.error)}},Ee.doneFn=function(){jt.remove(),D.done(Tn).then(function(){D.clear(Tn),!et&&Be&&Ee.selectionDefs&&(Be.subtract=Ft,Ee.selectionDefs.push(Be),Ee.mergedPolygons.length=0,[].push.apply(Ee.mergedPolygons,it)),(et||at)&&se(Ee,et),Ee.doneFnCompleted&&Ee.doneFnCompleted(gn),st&&Ce(gt,$e)}).catch(d.error)}},clearOutline:w,clearSelectionsCache:se,selectOnClick:re}},46056:function(S,x,e){"use strict";var p=e(13916),y=e(25376),n=e(52904).line,M=e(98192).u,b=e(92880).extendFlat,f=e(31780).templatedArray,s=(e(36208),e(45464)),t=e(21776).ye,o=e(97728);S.exports=f("shape",{visible:b({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},s.legend,{editType:"calc+arraydraw"}),legendgroup:b({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:y({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:b({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},n.color,{editType:"arraydraw"}),width:b({},n.width,{editType:"calc+arraydraw"}),dash:b({},M,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(o)}),font:y({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(85448),M=e(65152);function b(o){return s(o.line.width,o.xsizemode,o.x0,o.x1,o.path,!1)}function f(o){return s(o.line.width,o.ysizemode,o.y0,o.y1,o.path,!0)}function s(o,r,i,a,l,u){var h=o/2,c=u;if(r==="pixel"){var w=l?M.extractPathCoords(l,u?n.paramIsY:n.paramIsX):[i,a],g=p.aggNums(Math.max,null,w),v=p.aggNums(Math.min,null,w),m=v<0?Math.abs(v)+h:h,T=g>0?g+h:h;return{ppad:h,ppadplus:c?m:T,ppadminus:c?T:m}}return{ppad:h}}function t(o,r,i,a,l){var u=o.type==="category"||o.type==="multicategory"?o.r2c:o.d2c;if(r!==void 0)return[u(r),u(i)];if(a){var h,c,w,g,v=1/0,m=-1/0,T=a.match(n.segmentRE);for(o.type==="date"&&(u=M.decodeDate(u)),h=0;h<T.length;h++)(c=l[T[h].charAt(0)].drawn)!==void 0&&(!(w=T[h].substr(1).match(n.paramRE))||w.length<c||((g=u(w[c]))<v&&(v=g),g>m&&(m=g)));return m>=v?[v,m]:void 0}}S.exports=function(o){var r=o._fullLayout,i=p.filterVisible(r.shapes);if(i.length&&o._fullData.length)for(var a=0;a<i.length;a++){var l,u,h=i[a];h._extremes={};var c=y.getRefType(h.xref),w=y.getRefType(h.yref);if(h.xref!=="paper"&&c!=="domain"){var g=h.xsizemode==="pixel"?h.xanchor:h.x0,v=h.xsizemode==="pixel"?h.xanchor:h.x1;(u=t(l=y.getFromId(o,h.xref),g,v,h.path,n.paramIsX))&&(h._extremes[l._id]=y.findExtremes(l,u,b(h)))}if(h.yref!=="paper"&&w!=="domain"){var m=h.ysizemode==="pixel"?h.yanchor:h.y0,T=h.ysizemode==="pixel"?h.yanchor:h.y1;(u=t(l=y.getFromId(o,h.yref),m,T,h.path,n.paramIsY))&&(h._extremes[l._id]=y.findExtremes(l,u,f(h)))}}}},85448:function(S){"use strict";S.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(51272),M=e(46056),b=e(65152);function f(s,t,o){function r(Z,j){return p.coerce(s,t,M,Z,j)}if(t._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),p.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var i=r("path"),a=r("type",i?"path":"rect"),l=a!=="path";l&&delete t.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var u=r("xsizemode"),h=r("ysizemode"),c=["x","y"],w=0;w<2;w++){var g,v,m,T=c[w],_=T+"anchor",A=T==="x"?u:h,d={_fullLayout:o},C=y.coerceRef(s,t,d,T,void 0,"paper");if(y.getRefType(C)==="range"?((g=y.getFromId(d,C))._shapeIndices.push(t._index),m=b.rangeToShapePosition(g),v=b.shapePositionToRange(g)):v=m=p.identity,l){var k=T+"0",D=T+"1",O=s[k],L=s[D];s[k]=v(s[k],!0),s[D]=v(s[D],!0),A==="pixel"?(r(k,0),r(D,10)):(y.coercePosition(t,d,r,C,k,.25),y.coercePosition(t,d,r,C,D,.75)),t[k]=m(t[k]),t[D]=m(t[D]),s[k]=O,s[D]=L}if(A==="pixel"){var R=s[_];s[_]=v(s[_],!0),y.coercePosition(t,d,r,C,_,.25),t[_]=m(t[_]),s[_]=R}}l&&p.noneOrAll(s,t,["x0","x1","y0","y1"]);var z,q,N=a==="line";if(l&&(z=r("label.texttemplate")),z||(q=r("label.text")),q||z){r("label.textangle");var V=r("label.textposition",N?"middle":"middle center");r("label.xanchor"),r("label.yanchor",function(Z,j){return Z?"bottom":j.indexOf("top")!==-1?"top":j.indexOf("bottom")!==-1?"bottom":"middle"}(N,V)),r("label.padding"),p.coerceFont(r,"label.font",o.font)}}}S.exports=function(s,t){n(s,t,{name:"shapes",handleItemDefaults:f})}},60728:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(72736),M=e(43616),b=e(9856).readPaths,f=e(65152),s=f.getPathString,t=e(97728),o=e(84284).FROM_TL;S.exports=function(r,i,a,l){if(l.selectAll(".shape-label").remove(),a.label.text||a.label.texttemplate){var u;if(a.label.texttemplate){var h={};if(a.type!=="path"){var c=y.getFromId(r,a.xref),w=y.getFromId(r,a.yref);for(var g in t){var v=t[g](a,c,w);v!==void 0&&(h[g]=v)}}u=p.texttemplateStringForShapes(a.label.texttemplate,{},r._fullLayout._d3locale,h)}else u=a.label.text;var m,T,_,A,d={"data-index":i},C=a.label.font,k=l.append("g").attr(d).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(a.path){var D=s(r,a),O=b(D,r);m=1/0,_=1/0,T=-1/0,A=-1/0;for(var L=0;L<O.length;L++)for(var R=0;R<O[L].length;R++)for(var z=O[L][R],q=1;q<z.length;q+=2){var N=z[q],V=z[q+1];m=Math.min(m,N),T=Math.max(T,N),_=Math.min(_,V),A=Math.max(A,V)}}else{var Z=y.getFromId(r,a.xref),j=y.getRefType(a.xref),H=y.getFromId(r,a.yref),Y=y.getRefType(a.yref),ie=f.getDataToPixel(r,Z,!1,j),re=f.getDataToPixel(r,H,!0,Y);m=ie(a.x0),T=ie(a.x1),_=re(a.y0),A=re(a.y1)}var ne=a.label.textangle;ne==="auto"&&(ne=a.type==="line"?function(ce,le,de,be){var _e,ve;return ve=Math.abs(de-ce),_e=de>=ce?le-be:be-le,-180/Math.PI*Math.atan2(_e,ve)}(m,_,T,A):0),k.call(function(ce){return ce.call(M.font,C).attr({}),n.convertToTspans(ce,r),ce});var ee=function(ce,le,de,be,_e,ve,me){var ye,Se,Ie,xe,ue=_e.label.textposition,ae=_e.label.textangle,pe=_e.label.padding,De=_e.type,Te=Math.PI/180*ve,Ae=Math.sin(Te),Ce=Math.cos(Te),Re=_e.label.xanchor,Ne=_e.label.yanchor;if(De==="line"){ue==="start"?(ye=ce,Se=le):ue==="end"?(ye=de,Se=be):(ye=(ce+de)/2,Se=(le+be)/2),Re==="auto"&&(Re=ue==="start"?ae==="auto"?de>ce?"left":de<ce?"right":"center":de>ce?"right":de<ce?"left":"center":ue==="end"?ae==="auto"?de>ce?"right":de<ce?"left":"center":de>ce?"left":de<ce?"right":"center":"center");var ge={bottom:-1,middle:0,top:1};if(ae==="auto"){var Me=ge[Ne];Ie=-pe*Ae*Me,xe=pe*Ce*Me}else Ie=pe*{left:1,center:0,right:-1}[Re],xe=pe*ge[Ne];ye+=Ie,Se+=xe}else Ie=pe+3,ue.indexOf("right")!==-1?(ye=Math.max(ce,de)-Ie,Re==="auto"&&(Re="right")):ue.indexOf("left")!==-1?(ye=Math.min(ce,de)+Ie,Re==="auto"&&(Re="left")):(ye=(ce+de)/2,Re==="auto"&&(Re="center")),Se=ue.indexOf("top")!==-1?Math.min(le,be):ue.indexOf("bottom")!==-1?Math.max(le,be):(le+be)/2,xe=pe,Ne==="bottom"?Se-=xe:Ne==="top"&&(Se+=xe);var Ee=o[Ne],Fe=_e.label.font.size,Le=me.height;return{textx:ye+(Le*Ee-Fe)*Ae,texty:Se+-(Le*Ee-Fe)*Ce,xanchor:Re}}(m,_,T,A,a,ne,M.bBox(k.node())),Q=ee.textx,X=ee.texty,se=ee.xanchor;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[se],y:X,x:Q,transform:"rotate("+ne+","+Q+","+X+")"}).call(n.positionText,Q,X)}}},55496:function(S,x,e){"use strict";var p=e(3400).strTranslate,y=e(86476),n=e(72760),M=n.drawMode,b=n.selectMode,f=e(24040),s=e(76308),t=e(7e3),o=t.i000,r=t.i090,i=t.i180,a=t.i270,l=e(1936).clearOutlineControllers,u=e(9856),h=u.pointsOnRectangle,c=u.pointsOnEllipse,w=u.writePaths,g=e(93940).newShapes,v=e(93940).createShapeObj,m=e(5968),T=e(60728);function _(A,d){var C,k,D,O=A[d][1],L=A[d][2],R=A.length;return k=A[C=(d+1)%R][1],D=A[C][2],k===O&&D===L&&(k=A[C=(d+2)%R][1],D=A[C][2]),[C,k,D]}S.exports=function A(d,C,k,D){D||(D=0);var O=k.gd;function L(){A(d,C,k,D++),(c(d[0])||k.hasText)&&R({redrawing:!0})}function R(_e){var ve={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,ve=g(C,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,ve=m(C,k),O._fullLayout._reselect=!0),Object.keys(ve).length&&f.call((_e||{}).redrawing?"relayout":"_guiRelayout",O,ve)}var z,q,N,V,Z,j=O._fullLayout._zoomlayer,H=k.dragmode,Y=M(H),ie=b(H);if((Y||ie)&&(O._fullLayout._outlining=!0),l(O),C.attr("d",w(d)),D||!k.isActiveShape&&!k.isActiveSelection||(Z=function(_e,ve){for(var me=0;me<ve.length;me++){var ye=ve[me];_e[me]=[];for(var Se=0;Se<ye.length;Se++){_e[me][Se]=[];for(var Ie=0;Ie<ye[Se].length;Ie++)_e[me][Se][Ie]=ye[Se][Ie]}}return _e}([],d),function(_e){z=[];for(var ve=0;ve<d.length;ve++){var me=d[ve],ye=h(me),Se=!ye&&c(me);z[ve]=[];for(var Ie=me.length,xe=0;xe<Ie;xe++)if(me[xe][0]!=="Z"&&(!Se||xe===o||xe===r||xe===i||xe===a)){var ue,ae=ye&&k.isActiveSelection;ae&&(ue=_(me,xe));var pe=me[xe][1],De=me[xe][2],Te=_e.append(ae?"rect":"circle").attr("data-i",ve).attr("data-j",xe).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ae){var Ae=ue[1]-pe,Ce=ue[2]-De,Re=Ce?5:Math.max(Math.min(25,Math.abs(Ae)-5),5),Ne=Ae?5:Math.max(Math.min(25,Math.abs(Ce)-5),5);Te.classed(Ce?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Re).attr("height",Ne).attr("x",pe-Re/2).attr("y",De-Ne/2).attr("transform",p(Ae/2,Ce/2))}else Te.classed("cursor-grab",!0).attr("r",5).attr("cx",pe).attr("cy",De);z[ve][xe]={element:Te.node(),gd:O,prepFn:ee,doneFn:X,clickFn:se},y.init(z[ve][xe])}}}(j.append("g").attr("class","outline-controllers")),function(){q=[],d.length&&(q[0]={element:C[0][0],gd:O,prepFn:le,doneFn:de,clickFn:be},y.init(q[0]))}()),Y&&k.hasText){var re=j.select(".label-temp"),ne=v(C,k,k.dragmode);T(O,"label-temp",ne,re)}function ee(_e){N=+_e.srcElement.getAttribute("data-i"),V=+_e.srcElement.getAttribute("data-j"),z[N][V].moveFn=Q}function Q(_e,ve){if(d.length){var me=Z[N][V][1],ye=Z[N][V][2],Se=d[N],Ie=Se.length;if(h(Se)){var xe=_e,ue=ve;k.isActiveSelection&&(_(Se,V)[1]===Se[V][1]?ue=0:xe=0);for(var ae=0;ae<Ie;ae++)if(ae!==V){var pe=Se[ae];pe[1]===Se[V][1]&&(pe[1]=me+xe),pe[2]===Se[V][2]&&(pe[2]=ye+ue)}if(Se[V][1]=me+xe,Se[V][2]=ye+ue,!h(Se))for(var De=0;De<Ie;De++)for(var Te=0;Te<Se[De].length;Te++)Se[De][Te]=Z[N][De][Te]}else Se[V][1]=me+_e,Se[V][2]=ye+ve;L()}}function X(){R()}function se(_e,ve){if(_e===2){N=+ve.srcElement.getAttribute("data-i"),V=+ve.srcElement.getAttribute("data-j");var me=d[N];h(me)||c(me)||function(){if(d.length&&d[N]&&d[N].length){for(var ye=[],Se=0;Se<d[N].length;Se++)Se!==V&&ye.push(d[N][Se]);ye.length>1&&(ye.length!==2||ye[1][0]!=="Z")&&(V===0&&(ye[0][0]="M"),d[N]=ye,L(),R())}}()}}function ce(_e,ve){(function(me,ye){if(d.length)for(var Se=0;Se<d.length;Se++)for(var Ie=0;Ie<d[Se].length;Ie++)for(var xe=0;xe+2<d[Se][Ie].length;xe+=2)d[Se][Ie][xe+1]=Z[Se][Ie][xe+1]+me,d[Se][Ie][xe+2]=Z[Se][Ie][xe+2]+ye})(_e,ve),L()}function le(_e){(N=+_e.srcElement.getAttribute("data-i"))||(N=0),q[N].moveFn=ce}function de(){R()}function be(_e){_e===2&&function(ve){if(b(ve._fullLayout.dragmode)){l(ve);var me=ve._fullLayout._activeSelectionIndex,ye=(ve.layout||{}).selections||[];if(me<ye.length){for(var Se=[],Ie=0;Ie<ye.length;Ie++)Ie!==me&&Se.push(ye[Ie]);delete ve._fullLayout._activeSelectionIndex;var xe=ve._fullLayout.selections[me];ve._fullLayout._deselect={xref:xe.xref,yref:xe.yref},f.call("_guiRelayout",ve,{selections:Se})}}}(O)}}},4016:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(3400),M=e(54460),b=e(9856).readPaths,f=e(55496),s=e(60728),t=e(1936).clearOutlineControllers,o=e(76308),r=e(43616),i=e(31780).arrayEditor,a=e(86476),l=e(93972),u=e(85448),h=e(65152),c=h.getPathString;function w(d){var C=d._fullLayout;for(var k in C._shapeUpperLayer.selectAll("path").remove(),C._shapeLowerLayer.selectAll("path").remove(),C._shapeUpperLayer.selectAll("text").remove(),C._shapeLowerLayer.selectAll("text").remove(),C._plots){var D=C._plots[k].shapelayer;D&&(D.selectAll("path").remove(),D.selectAll("text").remove())}for(var O=0;O<C.shapes.length;O++)C.shapes[O].visible===!0&&m(d,O)}function g(d){return!!d._fullLayout._outlining}function v(d){return!d._context.edits.shapePosition}function m(d,C){d._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+C+'"]').remove();var k=h.makeShapesOptionsAndPlotinfo(d,C),D=k.options,O=k.plotinfo;function L(R){var z=c(d,D),q={"data-index":C,"fill-rule":D.fillrule,d:z},N=D.opacity,V=D.fillcolor,Z=D.line.width?D.line.color:"rgba(0,0,0,0)",j=D.line.width,H=D.line.dash;j||D.editable!==!0||(j=5,H="solid");var Y=z[z.length-1]!=="Z",ie=v(d)&&D.editable&&d._fullLayout._activeShapeIndex===C;ie&&(V=Y?"rgba(0,0,0,0)":d._fullLayout.activeshape.fillcolor,N=d._fullLayout.activeshape.opacity);var re,ne=R.append("g").classed("shape-group",!0).attr({"data-index":C}),ee=ne.append("path").attr(q).style("opacity",N).call(o.stroke,Z).call(o.fill,V).call(r.dashLine,H,j);if(T(ne,d,D),s(d,C,D,ne),(ie||d._context.edits.shapePosition)&&(re=i(d.layout,"shapes",D)),ie){ee.style({cursor:"move"});var Q={element:ee.node(),plotinfo:O,gd:d,editHelpers:re,hasText:D.label.text||D.label.texttemplate,isActiveShape:!0},X=b(z,d);f(X,ee,Q)}else d._context.edits.shapePosition?function(se,ce,le,de,be,_e){var ve,me,ye,Se,Ie,xe,ue,ae,pe,De,Te,Ae,Ce,Re,Ne,ge,Me=10,Ee=10,Fe=le.xsizemode==="pixel",Le=le.ysizemode==="pixel",Ue=le.type==="line",Ge=le.type==="path",Ke=_e.modifyItem,at=p.select(ce.node().parentNode),st=M.getFromId(se,le.xref),vt=M.getRefType(le.xref),xt=M.getFromId(se,le.yref),gt=M.getRefType(le.yref),nt=h.getDataToPixel(se,st,!1,vt),et=h.getDataToPixel(se,xt,!0,gt),At=h.getPixelToData(se,st,!1,vt),Pt=h.getPixelToData(se,xt,!0,gt),Rt=Ue?function(){var it=10,Be=Math.max(le.line.width,it),je=be.append("g").attr("data-index",de).attr("drag-helper",!0);je.append("path").attr("d",ce.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var ot={"fill-opacity":"0"},$e=Math.max(Be/2,it);return je.append("circle").attr({"data-line-point":"start-point",cx:Fe?nt(le.xanchor)+le.x0:nt(le.x0),cy:Le?et(le.yanchor)-le.y0:et(le.y0),r:$e}).style(ot).classed("cursor-grab",!0),je.append("circle").attr({"data-line-point":"end-point",cx:Fe?nt(le.xanchor)+le.x1:nt(le.x1),cy:Le?et(le.yanchor)-le.y1:et(le.y1),r:$e}).style(ot).classed("cursor-grab",!0),je}():ce,Et={element:Rt.node(),gd:se,prepFn:function(it){g(se)||(Fe&&(Ie=nt(le.xanchor)),Le&&(xe=et(le.yanchor)),le.type==="path"?Ne=le.path:(ve=Fe?le.x0:nt(le.x0),me=Le?le.y0:et(le.y0),ye=Fe?le.x1:nt(le.x1),Se=Le?le.y1:et(le.y1)),ve<ye?(pe=ve,Ce="x0",De=ye,Re="x1"):(pe=ye,Ce="x1",De=ve,Re="x0"),!Le&&me<Se||Le&&me>Se?(ue=me,Te="y0",ae=Se,Ae="y1"):(ue=Se,Te="y1",ae=me,Ae="y0"),Ye(it),Ze(be,le),function(Be,je,ot){var $e=je.xref,dt=je.yref,mt=M.getFromId(ot,$e),yt=M.getFromId(ot,dt),ht="";$e==="paper"||mt.autorange||(ht+=$e),dt==="paper"||yt.autorange||(ht+=dt),r.setClipUrl(Be,ht?"clip"+ot._fullLayout._uid+ht:null,ot)}(ce,le,se),Et.moveFn=ge==="move"?Xe:Ve,Et.altKey=it.altKey)},doneFn:function(){g(se)||(l(ce),lt(be),T(ce,se,le),y.call("_guiRelayout",se,_e.getUpdateObj()))},clickFn:function(){g(se)||lt(be)}};function Ye(it){if(g(se))ge=null;else if(Ue)ge=it.target.tagName==="path"?"move":it.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=Et.element.getBoundingClientRect(),je=Be.right-Be.left,ot=Be.bottom-Be.top,$e=it.clientX-Be.left,dt=it.clientY-Be.top,mt=!Ge&&je>Me&&ot>Ee&&!it.shiftKey?a.getCursor($e/je,1-dt/ot):"move";l(ce,mt),ge=mt.split("-")[0]}}function Xe(it,Be){if(le.type==="path"){var je=function(dt){return dt},ot=je,$e=je;Fe?Ke("xanchor",le.xanchor=At(Ie+it)):(ot=function(dt){return At(nt(dt)+it)},st&&st.type==="date"&&(ot=h.encodeDate(ot))),Le?Ke("yanchor",le.yanchor=Pt(xe+Be)):($e=function(dt){return Pt(et(dt)+Be)},xt&&xt.type==="date"&&($e=h.encodeDate($e))),Ke("path",le.path=_(Ne,ot,$e))}else Fe?Ke("xanchor",le.xanchor=At(Ie+it)):(Ke("x0",le.x0=At(ve+it)),Ke("x1",le.x1=At(ye+it))),Le?Ke("yanchor",le.yanchor=Pt(xe+Be)):(Ke("y0",le.y0=Pt(me+Be)),Ke("y1",le.y1=Pt(Se+Be)));ce.attr("d",c(se,le)),Ze(be,le),s(se,de,le,at)}function Ve(it,Be){if(Ge){var je=function(Zt){return Zt},ot=je,$e=je;Fe?Ke("xanchor",le.xanchor=At(Ie+it)):(ot=function(Zt){return At(nt(Zt)+it)},st&&st.type==="date"&&(ot=h.encodeDate(ot))),Le?Ke("yanchor",le.yanchor=Pt(xe+Be)):($e=function(Zt){return Pt(et(Zt)+Be)},xt&&xt.type==="date"&&($e=h.encodeDate($e))),Ke("path",le.path=_(Ne,ot,$e))}else if(Ue){if(ge==="resize-over-start-point"){var dt=ve+it,mt=Le?me-Be:me+Be;Ke("x0",le.x0=Fe?dt:At(dt)),Ke("y0",le.y0=Le?mt:Pt(mt))}else if(ge==="resize-over-end-point"){var yt=ye+it,ht=Le?Se-Be:Se+Be;Ke("x1",le.x1=Fe?yt:At(yt)),Ke("y1",le.y1=Le?ht:Pt(ht))}}else{var kt=function(Zt){return ge.indexOf(Zt)!==-1},bt=kt("n"),St=kt("s"),Lt=kt("w"),Ot=kt("e"),Ft=bt?ue+Be:ue,$t=St?ae+Be:ae,on=Lt?pe+it:pe,Ht=Ot?De+it:De;Le&&(bt&&(Ft=ue-Be),St&&($t=ae-Be)),(!Le&&$t-Ft>Ee||Le&&Ft-$t>Ee)&&(Ke(Te,le[Te]=Le?Ft:Pt(Ft)),Ke(Ae,le[Ae]=Le?$t:Pt($t))),Ht-on>Me&&(Ke(Ce,le[Ce]=Fe?on:At(on)),Ke(Re,le[Re]=Fe?Ht:At(Ht)))}ce.attr("d",c(se,le)),Ze(be,le),s(se,de,le,at)}function Ze(it,Be){(Fe||Le)&&function(){var je=Be.type!=="path",ot=it.selectAll(".visual-cue").data([0]);ot.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var $e=nt(Fe?Be.xanchor:n.midRange(je?[Be.x0,Be.x1]:h.extractPathCoords(Be.path,u.paramIsX))),dt=et(Le?Be.yanchor:n.midRange(je?[Be.y0,Be.y1]:h.extractPathCoords(Be.path,u.paramIsY)));if($e=h.roundPositionForSharpStrokeRendering($e,1),dt=h.roundPositionForSharpStrokeRendering(dt,1),Fe&&Le){var mt="M"+($e-1-1)+","+(dt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ot.attr("d",mt)}else if(Fe){var yt="M"+($e-1-1)+","+(dt-9-1)+"v18 h2 v-18 Z";ot.attr("d",yt)}else{var ht="M"+($e-9-1)+","+(dt-1-1)+"h18 v2 h-18 Z";ot.attr("d",ht)}}()}function lt(it){it.selectAll(".visual-cue").remove()}a.init(Et),Rt.node().onmousemove=Ye}(d,ee,D,C,R,re):D.editable===!0&&ee.style("pointer-events",Y||o.opacity(V)*N<=.5?"stroke":"all");ee.node().addEventListener("click",function(){return function(se,ce){if(v(se)){var le=+ce.node().getAttribute("data-index");if(le>=0){if(le===se._fullLayout._activeShapeIndex)return void A(se);se._fullLayout._activeShapeIndex=le,se._fullLayout._deactivateShape=A,w(se)}}}(d,ee)})}D._input&&D.visible===!0&&(D.layer==="above"?L(d._fullLayout._shapeUpperLayer):D.xref==="paper"||D.yref==="paper"?L(d._fullLayout._shapeLowerLayer):D.layer==="between"?L(O.shapelayerBetween):O._hadPlotinfo?L((O.mainplotinfo||O).shapelayer):L(d._fullLayout._shapeLowerLayer))}function T(d,C,k){var D=(k.xref+k.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(d,D?"clip"+C._fullLayout._uid+D:null,C)}function _(d,C,k){return d.replace(u.segmentRE,function(D){var O=0,L=D.charAt(0),R=u.paramIsX[L],z=u.paramIsY[L],q=u.numParams[L];return L+D.substr(1).replace(u.paramRE,function(N){return O>=q||(R[O]?N=C(N):z[O]&&(N=k(N)),O++),N})})}function A(d){v(d)&&d._fullLayout._activeShapeIndex>=0&&(t(d),delete d._fullLayout._activeShapeIndex,w(d))}S.exports={draw:w,drawOne:m,eraseActiveShape:function(d){if(v(d)){t(d);var C=d._fullLayout._activeShapeIndex,k=(d.layout||{}).shapes||[];if(C<k.length){for(var D=[],O=0;O<k.length;O++)O!==C&&D.push(k[O]);return delete d._fullLayout._activeShapeIndex,y.call("_guiRelayout",d,{shapes:D})}}},drawLabel:s}},92872:function(S,x,e){"use strict";var p=e(67824).overrideAll,y=e(45464),n=e(25376),M=e(98192).u,b=e(92880).extendFlat,f=e(21776).ye,s=e(97728);S.exports=p({newshape:{visible:b({},y.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},y.legend,{}),legendgroup:b({},y.legendgroup,{}),legendgrouptitle:{text:b({},y.legendgrouptitle.text,{}),font:n({})},legendrank:b({},y.legendrank,{}),legendwidth:b({},y.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},M,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},y.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(s)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(S){"use strict";S.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(S,x,e){"use strict";var p=e(76308),y=e(3400);S.exports=function(n,M,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),y.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var f=(n||{}).plot_bgcolor||"#FFF";b("newshape.line.color",p.contrast(f)),b("newshape.line.dash")}var s=n.dragmode==="drawline",t=b("newshape.label.text"),o=b("newshape.label.texttemplate");if(t||o){b("newshape.label.textangle");var r=b("newshape.label.textposition",s?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",function(i,a){return i?"bottom":a.indexOf("top")!==-1?"top":a.indexOf("bottom")!==-1?"bottom":"middle"}(s,r)),b("newshape.label.padding"),y.coerceFont(b,"newshape.label.font",M.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},9856:function(S,x,e){"use strict";var p=e(21984),y=e(7e3),n=y.CIRCLE_SIDES,M=y.SQRT2,b=e(5840),f=b.p2r,s=b.r2p,t=[0,3,4,5,6,1,2],o=[0,3,4,1,2];function r(a,l){return Math.abs(a-l)<=1e-6}function i(a,l){var u=l[1]-a[1],h=l[2]-a[2];return Math.sqrt(u*u+h*h)}x.writePaths=function(a){var l=a.length;if(!l)return"M0,0Z";for(var u="",h=0;h<l;h++)for(var c=a[h].length,w=0;w<c;w++){var g=a[h][w][0];if(g==="Z")u+="Z";else for(var v=a[h][w].length,m=0;m<v;m++){var T=m;g==="Q"||g==="S"?T=o[m]:g==="C"&&(T=t[m]),u+=a[h][w][T],m>0&&m<v-1&&(u+=",")}}return u},x.readPaths=function(a,l,u,h){var c,w,g,v=p(a),m=[],T=-1,_=0,A=0,d=function(){w=_,g=A};d();for(var C=0;C<v.length;C++){var k,D,O,L,R=[],z=v[C][0],q=z;switch(z){case"M":m[++T]=[],_=+v[C][1],A=+v[C][2],R.push([q,_,A]),d();break;case"Q":case"S":k=+v[C][1],O=+v[C][2],_=+v[C][3],A=+v[C][4],R.push([q,_,A,k,O]);break;case"C":k=+v[C][1],O=+v[C][2],D=+v[C][3],L=+v[C][4],_=+v[C][5],A=+v[C][6],R.push([q,_,A,k,O,D,L]);break;case"T":case"L":_=+v[C][1],A=+v[C][2],R.push([q,_,A]);break;case"H":q="L",_=+v[C][1],R.push([q,_,A]);break;case"V":q="L",A=+v[C][1],R.push([q,_,A]);break;case"A":q="L";var N=+v[C][1],V=+v[C][2];+v[C][4]||(N=-N,V=-V);var Z=_-N,j=A;for(c=1;c<=n/2;c++){var H=2*Math.PI*c/n;R.push([q,Z+N*Math.cos(H),j+V*Math.sin(H)])}break;case"Z":_===w&&A===g||(_=w,A=g,R.push([q,_,A]))}for(var Y=(u||{}).domain,ie=l._fullLayout._size,re=u&&u.xsizemode==="pixel",ne=u&&u.ysizemode==="pixel",ee=h===!1,Q=0;Q<R.length;Q++){for(c=0;c+2<7;c+=2){var X=R[Q][c+1],se=R[Q][c+2];X!==void 0&&se!==void 0&&(_=X,A=se,u&&(u.xaxis&&u.xaxis.p2r?(ee&&(X-=u.xaxis._offset),X=re?s(u.xaxis,u.xanchor)+X:f(u.xaxis,X)):(ee&&(X-=ie.l),Y?X=Y.x[0]+X/ie.w:X/=ie.w),u.yaxis&&u.yaxis.p2r?(ee&&(se-=u.yaxis._offset),se=ne?s(u.yaxis,u.yanchor)-se:f(u.yaxis,se)):(ee&&(se-=ie.t),se=Y?Y.y[1]-se/ie.h:1-se/ie.h)),R[Q][c+1]=X,R[Q][c+2]=se)}m[T].push(R[Q].slice())}}return m},x.pointsOnRectangle=function(a){if(a.length!==5)return!1;for(var l=1;l<3;l++)if(!r(a[0][l]-a[1][l],a[3][l]-a[2][l])||!r(a[0][l]-a[3][l],a[1][l]-a[2][l]))return!1;return!(!r(a[0][1],a[1][1])&&!r(a[0][1],a[3][1])||!(i(a[0],a[1])*i(a[0],a[3])))},x.pointsOnEllipse=function(a){var l=a.length;if(l!==n+1)return!1;l=n;for(var u=0;u<l;u++){var h=(2*l-u)%l,c=(l/2+h)%l,w=(l/2+u)%l;if(!r(i(a[u],a[w]),i(a[h],a[c])))return!1}return!0},x.handleEllipse=function(a,l,u){if(!a)return[l,u];var h=x.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),c=(h.x1+h.x0)/2,w=(h.y1+h.y0)/2,g=(h.x1-h.x0)/2,v=(h.y1-h.y0)/2;g||(g=v/=M),v||(v=g/=M);for(var m=[],T=0;T<n;T++){var _=2*T*Math.PI/n;m.push([c+g*Math.cos(_),w+v*Math.sin(_)])}return m},x.ellipseOver=function(a){var l=a.x0,u=a.y0,h=a.x1,c=a.y1,w=h-l,g=c-u,v=((l-=w)+h)/2,m=((u-=g)+c)/2;return{x0:v-(w*=M),y0:m-(g*=M),x1:v+w,y1:m+g}},x.fixDatesForPaths=function(a,l,u){var h=l.type==="date",c=u.type==="date";if(!h&&!c)return a;for(var w=0;w<a.length;w++)for(var g=0;g<a[w].length;g++)for(var v=0;v+2<a[w][g].length;v+=2)h&&(a[w][g][v+1]=a[w][g][v+1].replace(" ","_")),c&&(a[w][g][v+2]=a[w][g][v+2].replace(" ","_"));return a}},93940:function(S,x,e){"use strict";var p=e(72760),y=p.drawMode,n=p.openMode,M=e(7e3),b=M.i000,f=M.i090,s=M.i180,t=M.i270,o=M.cos45,r=M.sin45,i=e(5840),a=i.p2r,l=i.r2p,u=e(1936).clearOutline,h=e(9856),c=h.readPaths,w=h.writePaths,g=h.ellipseOver,v=h.fixDatesForPaths;function m(T,_,A){var d,C=T[0][0],k=_.gd,D=C.getAttribute("d"),O=k._fullLayout.newshape,L=_.plotinfo,R=_.isActiveShape,z=L.xaxis,q=L.yaxis,N=!!L.domain||!L.xaxis,V=!!L.domain||!L.yaxis,Z=n(A),j=c(D,k,L,R),H={editable:!0,visible:O.visible,name:O.name,showlegend:O.showlegend,legend:O.legend,legendwidth:O.legendwidth,legendgroup:O.legendgroup,legendgrouptitle:{text:O.legendgrouptitle.text,font:O.legendgrouptitle.font},legendrank:O.legendrank,label:O.label,xref:N?"paper":z._id,yref:V?"paper":q._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};if(Z||(H.fillcolor=O.fillcolor,H.fillrule=O.fillrule),j.length===1&&(d=j[0]),d&&d.length===5&&A==="drawrect")H.type="rect",H.x0=d[0][1],H.y0=d[0][2],H.x1=d[2][1],H.y1=d[2][2];else if(d&&A==="drawline")H.type="line",H.x0=d[0][1],H.y0=d[0][2],H.x1=d[1][1],H.y1=d[1][2];else if(d&&A==="drawcircle"){H.type="circle";var Y=d[b][1],ie=d[f][1],re=d[s][1],ne=d[t][1],ee=d[b][2],Q=d[f][2],X=d[s][2],se=d[t][2],ce=L.xaxis&&(L.xaxis.type==="date"||L.xaxis.type==="log"),le=L.yaxis&&(L.yaxis.type==="date"||L.yaxis.type==="log");ce&&(Y=l(L.xaxis,Y),ie=l(L.xaxis,ie),re=l(L.xaxis,re),ne=l(L.xaxis,ne)),le&&(ee=l(L.yaxis,ee),Q=l(L.yaxis,Q),X=l(L.yaxis,X),se=l(L.yaxis,se));var de=(ie+ne)/2,be=(ee+X)/2,_e=g({x0:de,y0:be,x1:de+(ne-ie+re-Y)/2*o,y1:be+(se-Q+X-ee)/2*r});ce&&(_e.x0=a(L.xaxis,_e.x0),_e.x1=a(L.xaxis,_e.x1)),le&&(_e.y0=a(L.yaxis,_e.y0),_e.y1=a(L.yaxis,_e.y1)),H.x0=_e.x0,H.y0=_e.y0,H.x1=_e.x1,H.y1=_e.y1}else H.type="path",z&&q&&v(j,z,q),H.path=w(j),d=null;return H}S.exports={newShapes:function(T,_){if(T.length&&T[0][0]){var A=_.gd,d=_.isActiveShape,C=_.dragmode,k=(A.layout||{}).shapes||[];if(!y(C)&&d!==void 0){var D=A._fullLayout._activeShapeIndex;if(D<k.length)switch(A._fullLayout.shapes[D].type){case"rect":C="drawrect";break;case"circle":C="drawcircle";break;case"line":C="drawline";break;case"path":var O=k[D].path||"";C=O[O.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var L=m(T,_,C);u(A);for(var R=_.editHelpers,z=(R||{}).modifyItem,q=[],N=0;N<k.length;N++){var V=A._fullLayout.shapes[N];if(q[N]=V._input,d!==void 0&&N===A._fullLayout._activeShapeIndex){var Z=L;switch(V.type){case"line":case"rect":case"circle":z("x0",Z.x0),z("x1",Z.x1),z("y0",Z.y0),z("y1",Z.y1);break;case"path":z("path",Z.path)}}}return d===void 0?(q.push(L),q):R?R.getUpdateObj():{}}},createShapeObj:m}},1936:function(S){"use strict";S.exports={clearOutlineControllers:function(x){var e=x._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(x){var e=x._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),x._fullLayout._outlining=!1}}},65152:function(S,x,e){"use strict";var p=e(85448),y=e(3400),n=e(54460);x.rangeToShapePosition=function(M){return M.type==="log"?M.r2d:function(b){return b}},x.shapePositionToRange=function(M){return M.type==="log"?M.d2r:function(b){return b}},x.decodeDate=function(M){return function(b){return b.replace&&(b=b.replace("_"," ")),M(b)}},x.encodeDate=function(M){return function(b){return M(b).replace(" ","_")}},x.extractPathCoords=function(M,b,f){var s=[];return M.match(p.segmentRE).forEach(function(t){var o=b[t.charAt(0)].drawn;if(o!==void 0){var r=t.substr(1).match(p.paramRE);if(r&&!(r.length<o)){var i=r[o],a=f?i:y.cleanNumber(i);s.push(a)}}}),s},x.getDataToPixel=function(M,b,f,s){var t,o=M._fullLayout._size;if(b)if(s==="domain")t=function(i){return b._length*(f?1-i:i)+b._offset};else{var r=x.shapePositionToRange(b);t=function(i){return b._offset+b.r2p(r(i,!0))},b.type==="date"&&(t=x.decodeDate(t))}else t=f?function(i){return o.t+o.h*(1-i)}:function(i){return o.l+o.w*i};return t},x.getPixelToData=function(M,b,f,s){var t,o=M._fullLayout._size;if(b)if(s==="domain")t=function(i){var a=(i-b._offset)/b._length;return f?1-a:a};else{var r=x.rangeToShapePosition(b);t=function(i){return r(b.p2r(i-b._offset))}}else t=f?function(i){return 1-(i-o.t)/o.h}:function(i){return(i-o.l)/o.w};return t},x.roundPositionForSharpStrokeRendering=function(M,b){var f=Math.round(b%2)===1,s=Math.round(M);return f?s+.5:s},x.makeShapesOptionsAndPlotinfo=function(M,b){var f=M._fullLayout.shapes[b]||{},s=M._fullLayout._plots[f.xref+f.yref];return s?s._hadPlotinfo=!0:(s={},f.xref&&f.xref!=="paper"&&(s.xaxis=M._fullLayout[f.xref+"axis"]),f.yref&&f.yref!=="paper"&&(s.yaxis=M._fullLayout[f.yref+"axis"])),s.xsizemode=f.xsizemode,s.ysizemode=f.ysizemode,s.xanchor=f.xanchor,s.yanchor=f.yanchor,{options:f,plotinfo:s}},x.makeSelectionsOptionsAndPlotinfo=function(M,b){var f=M._fullLayout.selections[b]||{},s=M._fullLayout._plots[f.xref+f.yref];return s?s._hadPlotinfo=!0:(s={},f.xref&&(s.xaxis=M._fullLayout[f.xref+"axis"]),f.yref&&(s.yaxis=M._fullLayout[f.yref+"axis"])),{options:f,plotinfo:s}},x.getPathString=function(M,b){var f,s,t,o,r,i,a,l,u=b.type,h=n.getRefType(b.xref),c=n.getRefType(b.yref),w=n.getFromId(M,b.xref),g=n.getFromId(M,b.yref),v=M._fullLayout._size;if(w?h==="domain"?s=function(O){return w._offset+w._length*O}:(f=x.shapePositionToRange(w),s=function(O){return w._offset+w.r2p(f(O,!0))}):s=function(O){return v.l+v.w*O},g?c==="domain"?o=function(O){return g._offset+g._length*(1-O)}:(t=x.shapePositionToRange(g),o=function(O){return g._offset+g.r2p(t(O,!0))}):o=function(O){return v.t+v.h*(1-O)},u==="path")return w&&w.type==="date"&&(s=x.decodeDate(s)),g&&g.type==="date"&&(o=x.decodeDate(o)),function(O,L,R){var z=O.path,q=O.xsizemode,N=O.ysizemode,V=O.xanchor,Z=O.yanchor;return z.replace(p.segmentRE,function(j){var H=0,Y=j.charAt(0),ie=p.paramIsX[Y],re=p.paramIsY[Y],ne=p.numParams[Y],ee=j.substr(1).replace(p.paramRE,function(Q){return ie[H]?Q=q==="pixel"?L(V)+Number(Q):L(Q):re[H]&&(Q=N==="pixel"?R(Z)-Number(Q):R(Q)),++H>ne&&(Q="X"),Q});return H>ne&&(ee=ee.replace(/[\s,]*X.*/,""),y.log("Ignoring extra params in segment "+j)),Y+ee})}(b,s,o);if(b.xsizemode==="pixel"){var m=s(b.xanchor);r=m+b.x0,i=m+b.x1}else r=s(b.x0),i=s(b.x1);if(b.ysizemode==="pixel"){var T=o(b.yanchor);a=T-b.y0,l=T-b.y1}else a=o(b.y0),l=o(b.y1);if(u==="line")return"M"+r+","+a+"L"+i+","+l;if(u==="rect")return"M"+r+","+a+"H"+i+"V"+l+"H"+r+"Z";var _=(r+i)/2,A=(a+l)/2,d=Math.abs(_-r),C=Math.abs(A-a),k="A"+d+","+C,D=_+d+","+A;return"M"+D+k+" 0 1,1 "+_+","+(A-C)+k+" 0 0,1 "+D+"Z"}},41592:function(S,x,e){"use strict";var p=e(4016);S.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:p.draw,drawOne:p.drawOne}},97728:function(S){"use strict";function x(n,M){return M?M.d2l(n):n}function e(n,M){return M?M.l2d(n):n}function p(n,M){return x(n.x1,M)-x(n.x0,M)}function y(n,M,b){return x(n.y1,b)-x(n.y0,b)}S.exports={x0:function(n){return n.x0},x1:function(n){return n.x1},y0:function(n){return n.y0},y1:function(n){return n.y1},slope:function(n,M,b){return n.type!=="line"?void 0:y(n,0,b)/p(n,M)},dx:p,dy:y,width:function(n,M){return Math.abs(p(n,M))},height:function(n,M,b){return Math.abs(y(n,0,b))},length:function(n,M,b){return n.type!=="line"?void 0:Math.sqrt(Math.pow(p(n,M),2)+Math.pow(y(n,0,b),2))},xcenter:function(n,M){return e((x(n.x1,M)+x(n.x0,M))/2,M)},ycenter:function(n,M,b){return e((x(n.y1,b)+x(n.y0,b))/2,b)}}},89861:function(S,x,e){"use strict";var p=e(25376),y=e(66741),n=e(92880).extendDeepAll,M=e(67824).overrideAll,b=e(85656),f=e(31780).templatedArray,s=e(60876),t=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});S.exports=M(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(y({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},60876:function(S){"use strict";S.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(S,x,e){"use strict";var p=e(3400),y=e(51272),n=e(89861),M=e(60876).name,b=n.steps;function f(t,o,r){function i(c,w){return p.coerce(t,o,n,c,w)}for(var a=y(t,o,{name:"steps",handleItemDefaults:s}),l=0,u=0;u<a.length;u++)a[u].visible&&l++;if(l<2?o.visible=!1:i("visible")){o._stepCount=l;var h=o._visibleSteps=p.filterVisible(a);(a[i("active")]||{}).visible||(o.active=h[0]._index),i("x"),i("y"),p.noneOrAll(t,o,["x","y"]),i("xanchor"),i("yanchor"),i("len"),i("lenmode"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),p.coerceFont(i,"font",r.font),i("currentvalue.visible")&&(i("currentvalue.xanchor"),i("currentvalue.prefix"),i("currentvalue.suffix"),i("currentvalue.offset"),p.coerceFont(i,"currentvalue.font",o.font)),i("transition.duration"),i("transition.easing"),i("bgcolor"),i("activebgcolor"),i("bordercolor"),i("borderwidth"),i("ticklen"),i("tickwidth"),i("tickcolor"),i("minorticklen")}}function s(t,o){function r(a,l){return p.coerce(t,o,b,a,l)}if(t.method==="skip"||Array.isArray(t.args)?r("visible"):o.visible=!1){r("method"),r("args");var i=r("label","step-"+o._index);r("value",i),r("execute")}}S.exports=function(t,o){y(t,o,{name:M,handleItemDefaults:f})}},79664:function(S,x,e){"use strict";var p=e(33428),y=e(7316),n=e(76308),M=e(43616),b=e(3400),f=b.strTranslate,s=e(72736),t=e(31780).arrayEditor,o=e(60876),r=e(84284),i=r.LINE_SPACING,a=r.FROM_TL,l=r.FROM_BR;function u(R){return o.autoMarginIdRoot+R._index}function h(R){return R._index}function c(R,z){var q=M.tester.selectAll("g."+o.labelGroupClass).data(z._visibleSteps);q.enter().append("g").classed(o.labelGroupClass,!0);var N=0,V=0;q.each(function(Q){var X=v(p.select(this),{step:Q},z).node();if(X){var se=M.bBox(X);V=Math.max(V,se.height),N=Math.max(N,se.width)}}),q.remove();var Z=z._dims={};Z.inputAreaWidth=Math.max(o.railWidth,o.gripHeight);var j=R._fullLayout._size;Z.lx=j.l+j.w*z.x,Z.ly=j.t+j.h*(1-z.y),z.lenmode==="fraction"?Z.outerLength=Math.round(j.w*z.len):Z.outerLength=z.len,Z.inputAreaStart=0,Z.inputAreaLength=Math.round(Z.outerLength-z.pad.l-z.pad.r);var H=(Z.inputAreaLength-2*o.stepInset)/(z._stepCount-1),Y=N+o.labelPadding;if(Z.labelStride=Math.max(1,Math.ceil(Y/H)),Z.labelHeight=V,Z.currentValueMaxWidth=0,Z.currentValueHeight=0,Z.currentValueTotalHeight=0,Z.currentValueMaxLines=1,z.currentvalue.visible){var ie=M.tester.append("g");q.each(function(Q){var X=w(ie,z,Q.label),se=X.node()&&M.bBox(X.node())||{width:0,height:0},ce=s.lineCount(X);Z.currentValueMaxWidth=Math.max(Z.currentValueMaxWidth,Math.ceil(se.width)),Z.currentValueHeight=Math.max(Z.currentValueHeight,Math.ceil(se.height)),Z.currentValueMaxLines=Math.max(Z.currentValueMaxLines,ce)}),Z.currentValueTotalHeight=Z.currentValueHeight+z.currentvalue.offset,ie.remove()}Z.height=Z.currentValueTotalHeight+o.tickOffset+z.ticklen+o.labelOffset+Z.labelHeight+z.pad.t+z.pad.b;var re="left";b.isRightAnchor(z)&&(Z.lx-=Z.outerLength,re="right"),b.isCenterAnchor(z)&&(Z.lx-=Z.outerLength/2,re="center");var ne="top";b.isBottomAnchor(z)&&(Z.ly-=Z.height,ne="bottom"),b.isMiddleAnchor(z)&&(Z.ly-=Z.height/2,ne="middle"),Z.outerLength=Math.ceil(Z.outerLength),Z.height=Math.ceil(Z.height),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly);var ee={y:z.y,b:Z.height*l[ne],t:Z.height*a[ne]};z.lenmode==="fraction"?(ee.l=0,ee.xl=z.x-z.len*a[re],ee.r=0,ee.xr=z.x+z.len*l[re]):(ee.x=z.x,ee.l=Z.outerLength*a[re],ee.r=Z.outerLength*l[re]),y.autoMargin(R,u(z),ee)}function w(R,z,q){if(z.currentvalue.visible){var N,V,Z=z._dims;switch(z.currentvalue.xanchor){case"right":N=Z.inputAreaLength-o.currentValueInset-Z.currentValueMaxWidth,V="left";break;case"center":N=.5*Z.inputAreaLength,V="middle";break;default:N=o.currentValueInset,V="left"}var j=b.ensureSingle(R,"text",o.labelClass,function(ee){ee.attr({"text-anchor":V,"data-notex":1})}),H=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof q=="string")H+=q;else{var Y=z.steps[z.active].label,ie=z._gd._fullLayout._meta;ie&&(Y=b.templateString(Y,ie)),H+=Y}z.currentvalue.suffix&&(H+=z.currentvalue.suffix),j.call(M.font,z.currentvalue.font).text(H).call(s.convertToTspans,z._gd);var re=s.lineCount(j),ne=(Z.currentValueMaxLines+1-re)*z.currentvalue.font.size*i;return s.positionText(j,N,ne),j}}function g(R,z,q){b.ensureSingle(R,"rect",o.gripRectClass,function(N){N.call(A,z,R,q).style("pointer-events","all")}).attr({width:o.gripWidth,height:o.gripHeight,rx:o.gripRadius,ry:o.gripRadius}).call(n.stroke,q.bordercolor).call(n.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px")}function v(R,z,q){var N=b.ensureSingle(R,"text",o.labelClass,function(j){j.attr({"text-anchor":"middle","data-notex":1})}),V=z.step.label,Z=q._gd._fullLayout._meta;return Z&&(V=b.templateString(V,Z)),N.call(M.font,q.font).text(V).call(s.convertToTspans,q._gd),N}function m(R,z){var q=b.ensureSingle(R,"g",o.labelsClass),N=z._dims,V=q.selectAll("g."+o.labelGroupClass).data(N.labelSteps);V.enter().append("g").classed(o.labelGroupClass,!0),V.exit().remove(),V.each(function(Z){var j=p.select(this);j.call(v,Z,z),M.setTranslate(j,k(z,Z.fraction),o.tickOffset+z.ticklen+z.font.size*i+o.labelOffset+N.currentValueTotalHeight)})}function T(R,z,q,N,V){var Z=Math.round(N*(q._stepCount-1)),j=q._visibleSteps[Z]._index;j!==q.active&&_(R,z,q,j,!0,V)}function _(R,z,q,N,V,Z){var j=q.active;q.active=N,t(R.layout,o.name,q).applyUpdate("active",N);var H=q.steps[q.active];z.call(C,q,Z),z.call(w,q),R.emit("plotly_sliderchange",{slider:q,step:q.steps[q.active],interaction:V,previousActive:j}),H&&H.method&&V&&(z._nextMethod?(z._nextMethod.step=H,z._nextMethod.doCallback=V,z._nextMethod.doTransition=Z):(z._nextMethod={step:H,doCallback:V,doTransition:Z},z._nextMethodRaf=window.requestAnimationFrame(function(){var Y=z._nextMethod.step;Y.method&&(Y.execute&&y.executeAPICommand(R,Y.method,Y.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function A(R,z,q){if(!z._context.staticPlot){var N=q.node(),V=p.select(z);R.on("mousedown",j),R.on("touchstart",j)}function Z(){return q.data()[0]}function j(){var H=Z();z.emit("plotly_sliderstart",{slider:H});var Y=q.select("."+o.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),Y.call(n.fill,H.activebgcolor);var ie=D(H,p.mouse(N)[0]);function re(){var ee=Z(),Q=D(ee,p.mouse(N)[0]);T(z,q,ee,Q,!1)}function ne(){var ee=Z();ee._dragging=!1,Y.call(n.fill,ee.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),z.emit("plotly_sliderend",{slider:ee,step:ee.steps[ee.active]})}T(z,q,H,ie,!0),H._dragging=!0,V.on("mousemove",re),V.on("touchmove",re),V.on("mouseup",ne),V.on("touchend",ne)}}function d(R,z){var q=R.selectAll("rect."+o.tickRectClass).data(z._visibleSteps),N=z._dims;q.enter().append("rect").classed(o.tickRectClass,!0),q.exit().remove(),q.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),q.each(function(V,Z){var j=Z%N.labelStride==0,H=p.select(this);H.attr({height:j?z.ticklen:z.minorticklen}).call(n.fill,z.tickcolor),M.setTranslate(H,k(z,Z/(z._stepCount-1))-.5*z.tickwidth,(j?o.tickOffset:o.minorTickOffset)+N.currentValueTotalHeight)})}function C(R,z,q){for(var N=R.select("rect."+o.gripRectClass),V=0,Z=0;Z<z._stepCount;Z++)if(z._visibleSteps[Z]._index===z.active){V=Z;break}var j=k(z,V/(z._stepCount-1));if(!z._invokingCommand){var H=N;q&&z.transition.duration>0&&(H=H.transition().duration(z.transition.duration).ease(z.transition.easing)),H.attr("transform",f(j-.5*o.gripWidth,z._dims.currentValueTotalHeight))}}function k(R,z){var q=R._dims;return q.inputAreaStart+o.stepInset+(q.inputAreaLength-2*o.stepInset)*Math.min(1,Math.max(0,z))}function D(R,z){var q=R._dims;return Math.min(1,Math.max(0,(z-o.stepInset-q.inputAreaStart)/(q.inputAreaLength-2*o.stepInset-2*q.inputAreaStart)))}function O(R,z,q){var N=q._dims,V=b.ensureSingle(R,"rect",o.railTouchRectClass,function(Z){Z.call(A,z,R,q).style("pointer-events","all")});V.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,o.tickOffset+q.ticklen+N.labelHeight)}).call(n.fill,q.bgcolor).attr("opacity",0),M.setTranslate(V,0,N.currentValueTotalHeight)}function L(R,z){var q=z._dims,N=q.inputAreaLength-2*o.railInset,V=b.ensureSingle(R,"rect",o.railRectClass);V.attr({width:N,height:o.railWidth,rx:o.railRadius,ry:o.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,z.bordercolor).call(n.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),M.setTranslate(V,o.railInset,.5*(q.inputAreaWidth-o.railWidth)+q.currentValueTotalHeight)}S.exports=function(R){var z=R._context.staticPlot,q=R._fullLayout,N=function(ie,re){for(var ne=ie[o.name],ee=[],Q=0;Q<ne.length;Q++){var X=ne[Q];X.visible&&(X._gd=re,ee.push(X))}return ee}(q,R),V=q._infolayer.selectAll("g."+o.containerClassName).data(N.length>0?[0]:[]);function Z(ie){ie._commandObserver&&(ie._commandObserver.remove(),delete ie._commandObserver),y.autoMargin(R,u(ie))}if(V.enter().append("g").classed(o.containerClassName,!0).style("cursor",z?null:"ew-resize"),V.exit().each(function(){p.select(this).selectAll("g."+o.groupClassName).each(Z)}).remove(),N.length!==0){var j=V.selectAll("g."+o.groupClassName).data(N,h);j.enter().append("g").classed(o.groupClassName,!0),j.exit().each(Z).remove();for(var H=0;H<N.length;H++){var Y=N[H];c(R,Y)}j.each(function(ie){var re=p.select(this);(function(ne){var ee=ne._dims;ee.labelSteps=[];for(var Q=ne._stepCount,X=0;X<Q;X+=ee.labelStride)ee.labelSteps.push({fraction:X/(Q-1),step:ne._visibleSteps[X]})})(ie),y.manageCommandObserver(R,ie,ie._visibleSteps,function(ne){var ee=re.data()[0];ee.active!==ne.index&&(ee._dragging||_(R,re,ee,ne.index,!1,!0))}),function(ne,ee,Q){(Q.steps[Q.active]||{}).visible||(Q.active=Q._visibleSteps[0]._index),ee.call(w,Q).call(L,Q).call(m,Q).call(d,Q).call(O,ne,Q).call(g,ne,Q);var X=Q._dims;M.setTranslate(ee,X.lx+Q.pad.l,X.ly+Q.pad.t),ee.call(C,Q,!1),ee.call(w,Q)}(R,p.select(this),ie)})}}},97544:function(S,x,e){"use strict";var p=e(60876);S.exports={moduleType:"component",name:p.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(7316),M=e(24040),b=e(3400),f=b.strTranslate,s=e(43616),t=e(76308),o=e(72736),r=e(13448),i=e(84284).OPPOSITE_SIDE,a=/ [XY][0-9]* /;S.exports={draw:function(l,u,h){var c,w=h.propContainer,g=h.propName,v=h.placeholder,m=h.traceIndex,T=h.avoid||{},_=h.attributes,A=h.transform,d=h.containerGroup,C=l._fullLayout,k=1,D=!1,O=w.title,L=(O&&O.text?O.text:"").trim(),R=O&&O.font?O.font:{},z=R.family,q=R.size,N=R.color,V=R.weight,Z=R.style,j=R.variant,H=R.textcase,Y=R.lineposition,ie=R.shadow;g==="title.text"?c="titleText":g.indexOf("axis")!==-1?c="axisTitleText":g.indexOf(!0)&&(c="colorbarTitleText");var re=l._context.edits[c];L===""?k=0:L.replace(a," % ")===v.replace(a," % ")&&(k=.2,D=!0,re||(L="")),h._meta?L=b.templateString(L,h._meta):C._meta&&(L=b.templateString(L,C._meta));var ne,ee=L||re;d||(d=b.ensureSingle(C._infolayer,"g","g-"+u),ne=C._hColorbarMoveTitle);var Q=d.selectAll("text").data(ee?[0]:[]);if(Q.enter().append("text"),Q.text(L).attr("class",u),Q.exit().remove(),!ee)return d;function X(le){b.syncOrAsync([se,ce],le)}function se(le){var de;return!A&&ne&&(A={}),A?(de="",A.rotate&&(de+="rotate("+[A.rotate,_.x,_.y]+")"),(A.offset||ne)&&(de+=f(0,(A.offset||0)-(ne||0)))):de=null,le.attr("transform",de),le.style("opacity",k*t.opacity(N)).call(s.font,{color:t.rgb(N),size:p.round(q,2),family:z,weight:V,style:Z,variant:j,textcase:H,shadow:ie,lineposition:Y}).attr(_).call(o.convertToTspans,l),n.previousPromises(l)}function ce(le){var de=p.select(le.node().parentNode);if(T&&T.selection&&T.side&&L){de.attr("transform",null);var be=i[T.side],_e=T.side==="left"||T.side==="top"?-1:1,ve=y(T.pad)?T.pad:2,me=s.bBox(de.node()),ye={t:0,b:0,l:0,r:0},Se=l._fullLayout._reservedMargin;for(var Ie in Se)for(var xe in Se[Ie]){var ue=Se[Ie][xe];ye[xe]=Math.max(ye[xe],ue)}var ae={left:ye.l,top:ye.t,right:C.width-ye.r,bottom:C.height-ye.b},pe=T.maxShift||_e*(ae[T.side]-me[T.side]),De=0;if(pe<0)De=pe;else{var Te=T.offsetLeft||0,Ae=T.offsetTop||0;me.left-=Te,me.right-=Te,me.top-=Ae,me.bottom-=Ae,T.selection.each(function(){var Re=s.bBox(this);b.bBoxIntersect(me,Re,ve)&&(De=Math.max(De,_e*(Re[T.side]-me[be])+ve))}),De=Math.min(pe,De),w._titleScoot=Math.abs(De)}if(De>0||pe<0){var Ce={left:[-De,0],right:[De,0],top:[0,-De],bottom:[0,De]}[T.side];de.attr("transform",f(Ce[0],Ce[1]))}}}return Q.call(X),re&&(L?Q.on(".opacity",null):(k=0,D=!0,Q.text(v).on("mouseover.opacity",function(){p.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})),Q.call(o.makeEditable,{gd:l}).on("edit",function(le){m!==void 0?M.call("_guiRestyle",l,g,le,m):M.call("_guiRelayout",l,g,le)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(X)}).on("input",function(le){this.text(le||" ").call(o.positionText,_.x,_.y)})),Q.classed("js-placeholder",D),d}}},88444:function(S,x,e){"use strict";var p=e(25376),y=e(22548),n=e(92880).extendFlat,M=e(67824).overrideAll,b=e(66741),f=e(31780).templatedArray,s=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});S.exports=M(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(b({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:y.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(S){"use strict";S.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},91384:function(S,x,e){"use strict";var p=e(3400),y=e(51272),n=e(88444),M=e(73712).name,b=n.buttons;function f(t,o,r){function i(a,l){return p.coerce(t,o,n,a,l)}i("visible",y(t,o,{name:"buttons",handleItemDefaults:s}).length>0)&&(i("active"),i("direction"),i("type"),i("showactive"),i("x"),i("y"),p.noneOrAll(t,o,["x","y"]),i("xanchor"),i("yanchor"),i("pad.t"),i("pad.r"),i("pad.b"),i("pad.l"),p.coerceFont(i,"font",r.font),i("bgcolor",r.paper_bgcolor),i("bordercolor"),i("borderwidth"))}function s(t,o){function r(i,a){return p.coerce(t,o,b,i,a)}r("visible",t.method==="skip"||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}S.exports=function(t,o){y(t,o,{name:M,handleItemDefaults:f})}},14420:function(S,x,e){"use strict";var p=e(33428),y=e(7316),n=e(76308),M=e(43616),b=e(3400),f=e(72736),s=e(31780).arrayEditor,t=e(84284).LINE_SPACING,o=e(73712),r=e(37400);function i(k){return k._index}function a(k,D){return+k.attr(o.menuIndexAttrName)===D._index}function l(k,D,O,L,R,z,q,N){D.active=q,s(k.layout,o.name,D).applyUpdate("active",q),D.type==="buttons"?h(k,L,null,null,D):D.type==="dropdown"&&(R.attr(o.menuIndexAttrName,"-1"),u(k,L,R,z,D),N||h(k,L,R,z,D))}function u(k,D,O,L,R){var z=b.ensureSingle(D,"g",o.headerClassName,function(H){H.style("pointer-events","all")}),q=R._dims,N=R.active,V=R.buttons[N]||o.blankHeaderOpts,Z={y:R.pad.t,yPad:0,x:R.pad.l,xPad:0,index:0},j={width:q.headerWidth,height:q.headerHeight};z.call(c,R,V,k).call(d,R,Z,j),b.ensureSingle(D,"text",o.headerArrowClassName,function(H){H.attr("text-anchor","end").call(M.font,R.font).text(o.arrowSymbol[R.direction])}).attr({x:q.headerWidth-o.arrowOffsetX+R.pad.l,y:q.headerHeight/2+o.textOffsetY+R.pad.t}),z.on("click",function(){O.call(C,String(a(O,R)?-1:R._index)),h(k,D,O,L,R)}),z.on("mouseover",function(){z.call(m)}),z.on("mouseout",function(){z.call(T,R)}),M.setTranslate(D,q.lx,q.ly)}function h(k,D,O,L,R){O||(O=D).attr("pointer-events","all");var z=function(ee){return+ee.attr(o.menuIndexAttrName)==-1}(O)&&R.type!=="buttons"?[]:R.buttons,q=R.type==="dropdown"?o.dropdownButtonClassName:o.buttonClassName,N=O.selectAll("g."+q).data(b.filterVisible(z)),V=N.enter().append("g").classed(q,!0),Z=N.exit();R.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),Z.transition().attr("opacity","0").remove()):Z.remove();var j=0,H=0,Y=R._dims,ie=["up","down"].indexOf(R.direction)!==-1;R.type==="dropdown"&&(ie?H=Y.headerHeight+o.gapButtonHeader:j=Y.headerWidth+o.gapButtonHeader),R.type==="dropdown"&&R.direction==="up"&&(H=-o.gapButtonHeader+o.gapButton-Y.openHeight),R.type==="dropdown"&&R.direction==="left"&&(j=-o.gapButtonHeader+o.gapButton-Y.openWidth);var re={x:Y.lx+j+R.pad.l,y:Y.ly+H+R.pad.t,yPad:o.gapButton,xPad:o.gapButton,index:0},ne={l:re.x+R.borderwidth,t:re.y+R.borderwidth};N.each(function(ee,Q){var X=p.select(this);X.call(c,R,ee,k).call(d,R,re),X.on("click",function(){p.event.defaultPrevented||(ee.execute&&(ee.args2&&R.active===Q?(l(k,R,0,D,O,L,-1),y.executeAPICommand(k,ee.method,ee.args2)):(l(k,R,0,D,O,L,Q),y.executeAPICommand(k,ee.method,ee.args))),k.emit("plotly_buttonclicked",{menu:R,button:ee,active:R.active}))}),X.on("mouseover",function(){X.call(m)}),X.on("mouseout",function(){X.call(T,R),N.call(v,R)})}),N.call(v,R),ie?(ne.w=Math.max(Y.openWidth,Y.headerWidth),ne.h=re.y-ne.t):(ne.w=re.x-ne.l,ne.h=Math.max(Y.openHeight,Y.headerHeight)),ne.direction=R.direction,L&&(N.size()?function(ee,Q,X,se,ce,le){var de,be,_e,ve=ce.direction,me=ve==="up"||ve==="down",ye=ce._dims,Se=ce.active;if(me)for(be=0,_e=0;_e<Se;_e++)be+=ye.heights[_e]+o.gapButton;else for(de=0,_e=0;_e<Se;_e++)de+=ye.widths[_e]+o.gapButton;se.enable(le,de,be),se.hbar&&se.hbar.attr("opacity","0").transition().attr("opacity","1"),se.vbar&&se.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,L,R,ne):function(ee){var Q=!!ee.hbar,X=!!ee.vbar;Q&&ee.hbar.transition().attr("opacity","0").each("end",function(){Q=!1,X||ee.disable()}),X&&ee.vbar.transition().attr("opacity","0").each("end",function(){X=!1,Q||ee.disable()})}(L))}function c(k,D,O,L){k.call(w,D).call(g,D,O,L)}function w(k,D){b.ensureSingle(k,"rect",o.itemRectClassName,function(O){O.attr({rx:o.rx,ry:o.ry,"shape-rendering":"crispEdges"})}).call(n.stroke,D.bordercolor).call(n.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px")}function g(k,D,O,L){var R=b.ensureSingle(k,"text",o.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),z=O.label,q=L._fullLayout._meta;q&&(z=b.templateString(z,q)),R.call(M.font,D.font).text(z).call(f.convertToTspans,L)}function v(k,D){var O=D.active;k.each(function(L,R){var z=p.select(this);R===O&&D.showactive&&z.select("rect."+o.itemRectClassName).call(n.fill,o.activeColor)})}function m(k){k.select("rect."+o.itemRectClassName).call(n.fill,o.hoverColor)}function T(k,D){k.select("rect."+o.itemRectClassName).call(n.fill,D.bgcolor)}function _(k,D){var O=D._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},L=M.tester.selectAll("g."+o.dropdownButtonClassName).data(b.filterVisible(D.buttons));L.enter().append("g").classed(o.dropdownButtonClassName,!0);var R=["up","down"].indexOf(D.direction)!==-1;L.each(function(j,H){var Y=p.select(this);Y.call(c,D,j,k);var ie=Y.select("."+o.itemTextClassName),re=ie.node()&&M.bBox(ie.node()).width,ne=Math.max(re+o.textPadX,o.minWidth),ee=D.font.size*t,Q=f.lineCount(ie),X=Math.max(ee*Q,o.minHeight)+o.textOffsetY;X=Math.ceil(X),ne=Math.ceil(ne),O.widths[H]=ne,O.heights[H]=X,O.height1=Math.max(O.height1,X),O.width1=Math.max(O.width1,ne),R?(O.totalWidth=Math.max(O.totalWidth,ne),O.openWidth=O.totalWidth,O.totalHeight+=X+o.gapButton,O.openHeight+=X+o.gapButton):(O.totalWidth+=ne+o.gapButton,O.openWidth+=ne+o.gapButton,O.totalHeight=Math.max(O.totalHeight,X),O.openHeight=O.totalHeight)}),R?O.totalHeight-=o.gapButton:O.totalWidth-=o.gapButton,O.headerWidth=O.width1+o.arrowPadX,O.headerHeight=O.height1,D.type==="dropdown"&&(R?(O.width1+=o.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=o.arrowPadX),L.remove();var z=O.totalWidth+D.pad.l+D.pad.r,q=O.totalHeight+D.pad.t+D.pad.b,N=k._fullLayout._size;O.lx=N.l+N.w*D.x,O.ly=N.t+N.h*(1-D.y);var V="left";b.isRightAnchor(D)&&(O.lx-=z,V="right"),b.isCenterAnchor(D)&&(O.lx-=z/2,V="center");var Z="top";b.isBottomAnchor(D)&&(O.ly-=q,Z="bottom"),b.isMiddleAnchor(D)&&(O.ly-=q/2,Z="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),y.autoMargin(k,A(D),{x:D.x,y:D.y,l:z*({right:1,center:.5}[V]||0),r:z*({left:1,center:.5}[V]||0),b:q*({top:1,middle:.5}[Z]||0),t:q*({bottom:1,middle:.5}[Z]||0)})}function A(k){return o.autoMarginIdRoot+k._index}function d(k,D,O,L){L=L||{};var R=k.select("."+o.itemRectClassName),z=k.select("."+o.itemTextClassName),q=D.borderwidth,N=O.index,V=D._dims;M.setTranslate(k,q+O.x,q+O.y);var Z=["up","down"].indexOf(D.direction)!==-1,j=L.height||(Z?V.heights[N]:V.height1);R.attr({x:0,y:0,width:L.width||(Z?V.width1:V.widths[N]),height:j});var H=D.font.size*t,Y=(f.lineCount(z)-1)*H/2;f.positionText(z,o.textOffsetX,j/2-Y+o.textOffsetY),Z?O.y+=V.heights[N]+O.yPad:O.x+=V.widths[N]+O.xPad,O.index++}function C(k,D){k.attr(o.menuIndexAttrName,D||"-1").selectAll("g."+o.dropdownButtonClassName).remove()}S.exports=function(k){var D=k._fullLayout,O=b.filterVisible(D[o.name]);function L(H){y.autoMargin(k,A(H))}var R=D._menulayer.selectAll("g."+o.containerClassName).data(O.length>0?[0]:[]);if(R.enter().append("g").classed(o.containerClassName,!0).style("cursor","pointer"),R.exit().each(function(){p.select(this).selectAll("g."+o.headerGroupClassName).each(L)}).remove(),O.length!==0){var z=R.selectAll("g."+o.headerGroupClassName).data(O,i);z.enter().append("g").classed(o.headerGroupClassName,!0);for(var q=b.ensureSingle(R,"g",o.dropdownButtonGroupClassName,function(H){H.style("pointer-events","all")}),N=0;N<O.length;N++){var V=O[N];_(k,V)}var Z="updatemenus"+D._uid,j=new r(k,q,Z);z.enter().size()&&(q.node().parentNode.appendChild(q.node()),q.call(C)),z.exit().each(function(H){q.call(C),L(H)}).remove(),z.each(function(H){var Y=p.select(this),ie=H.type==="dropdown"?q:null;y.manageCommandObserver(k,H,H.buttons,function(re){l(k,H,H.buttons[re.index],Y,ie,j,re.index,!0)}),H.type==="dropdown"?(u(k,Y,q,j,H),a(q,H)&&h(k,Y,q,j,H)):h(k,Y,null,null,H)})}}},76908:function(S,x,e){"use strict";var p=e(73712);S.exports={moduleType:"component",name:p.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(S,x,e){"use strict";S.exports=b;var p=e(33428),y=e(76308),n=e(43616),M=e(3400);function b(f,s,t){this.gd=f,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(f,s,t){var o=this.gd._fullLayout,r=o.width,i=o.height;this.position=f;var a,l,u,h,c=this.position.l,w=this.position.w,g=this.position.t,v=this.position.h,m=this.position.direction,T=m==="down",_=m==="left",A=m==="up",d=w,C=v;T||_||m==="right"||A||(this.position.direction="down",T=!0),T||A?(l=(a=c)+d,T?(u=g,C=(h=Math.min(u+C,i))-u):C=(h=g+C)-(u=Math.max(h-C,0))):(h=(u=g)+C,_?d=(l=c+d)-(a=Math.max(l-d,0)):(a=c,d=(l=Math.min(a+d,r))-a)),this._box={l:a,t:u,w:d,h:C};var k=w>d,D=b.barLength+2*b.barPad,O=b.barWidth+2*b.barPad,L=c,R=g+v;R+O>i&&(R=i-O);var z=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(y.fill,b.barColor),k?(this.hbar=z.attr({rx:b.barRadius,ry:b.barRadius,x:L,y:R,width:D,height:O}),this._hbarXMin=L+D/2,this._hbarTranslateMax=d-D):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var q=v>C,N=b.barWidth+2*b.barPad,V=b.barLength+2*b.barPad,Z=c+w,j=g;Z+N>r&&(Z=r-N);var H=this.container.selectAll("rect.scrollbar-vertical").data(q?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-vertical",!0).call(y.fill,b.barColor),q?(this.vbar=H.attr({rx:b.barRadius,ry:b.barRadius,x:Z,y:j,width:N,height:V}),this._vbarYMin=j+V/2,this._vbarTranslateMax=C-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Y=this.id,ie=a-.5,re=q?l+N+.5:l+.5,ne=u-.5,ee=k?h+O+.5:h+.5,Q=o._topdefs.selectAll("#"+Y).data(k||q?[0]:[]);if(Q.exit().remove(),Q.enter().append("clipPath").attr("id",Y).append("rect"),k||q?(this._clipRect=Q.select("rect").attr({x:Math.floor(ie),y:Math.floor(ne),width:Math.ceil(re)-Math.floor(ie),height:Math.ceil(ee)-Math.floor(ne)}),this.container.call(n.setClipUrl,Y,this.gd),this.bg.attr({x:c,y:g,width:w,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),k||q){var X=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(X);var se=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(se),q&&this.vbar.on(".drag",null).call(se)}this.setTranslate(s,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f-=p.event.dx),this.vbar&&(s-=p.event.dy),this.setTranslate(f,s)},b.prototype._onBoxWheel=function(){var f=this.translateX,s=this.translateY;this.hbar&&(f+=p.event.deltaY),this.vbar&&(s+=p.event.deltaY),this.setTranslate(f,s)},b.prototype._onBarDrag=function(){var f=this.translateX,s=this.translateY;if(this.hbar){var t=f+this._hbarXMin,o=t+this._hbarTranslateMax;f=(M.constrain(p.event.x,t,o)-t)/(o-t)*(this.position.w-this._box.w)}if(this.vbar){var r=s+this._vbarYMin,i=r+this._vbarTranslateMax;s=(M.constrain(p.event.y,r,i)-r)/(i-r)*(this.position.h-this._box.h)}this.setTranslate(f,s)},b.prototype.setTranslate=function(f,s){var t=this.position.w-this._box.w,o=this.position.h-this._box.h;if(f=M.constrain(f||0,0,t),s=M.constrain(s||0,0,o),this.translateX=f,this.translateY=s,this.container.call(n.setTranslate,this._box.l-this.position.l-f,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+f-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var r=f/t;this.hbar.call(n.setTranslate,f+r*this._hbarTranslateMax,s)}if(this.vbar){var i=s/o;this.vbar.call(n.setTranslate,f,s+i*this._vbarTranslateMax)}}},84284:function(S){"use strict";S.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(S){"use strict";S.exports={axisRefDescription:function(x,e,p){return["If set to a",x,"axis id (e.g. *"+x+"* or","*"+x+"2*), the `"+x+"` position refers to a",x,"coordinate. If set to *paper*, the `"+x+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",x,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+x+"2 domain* refers to the domain of the second",x," axis and a",x,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",x,"axis."].join(" ")}}},48164:function(S){"use strict";S.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}},26880:function(S){"use strict";S.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(S){"use strict";S.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(S){"use strict";S.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(S){"use strict";S.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}},13448:function(S){"use strict";S.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(S){"use strict";S.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(S,x){"use strict";x.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],x.STYLE=x.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(S,x){"use strict";x.xmlns="http://www.w3.org/2000/xmlns/",x.svg="http://www.w3.org/2000/svg",x.xlink="http://www.w3.org/1999/xlink",x.svgAttrs={xmlns:x.svg,"xmlns:xlink":x.xlink}},64884:function(S,x,e){"use strict";x.version=e(25788).version,e(88324),e(79288);for(var p=e(24040),y=x.register=p.register,n=e(22448),M=Object.keys(n),b=0;b<M.length;b++){var f=M[b];f.charAt(0)!=="_"&&(x[f]=n[f]),y({moduleType:"apiMethod",name:f,fn:n[f]})}y(e(65875)),y([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),y([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(y(window.PlotlyLocales),delete window.PlotlyLocales),x.Icons=e(9224);var s=e(93024),t=e(7316);x.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},x.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},x.Snapshot=e(78904),x.PlotSchema=e(73060)},9224:function(S){"use strict";S.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(S,x){"use strict";x.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},x.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},x.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},x.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},x.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},x.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(S,x,e){"use strict";var p=e(20435),y=p.mod,n=p.modHalf,M=Math.PI,b=2*M;function f(r){return Math.abs(r[1]-r[0])>b-1e-14}function s(r,i){return n(i-r,b)}function t(r,i){if(f(i))return!0;var a,l;i[0]<i[1]?(a=i[0],l=i[1]):(a=i[1],l=i[0]),(a=y(a,b))>(l=y(l,b))&&(l+=b);var u=y(r,b),h=u+b;return u>=a&&u<=l||h>=a&&h<=l}function o(r,i,a,l,u,h,c){u=u||0,h=h||0;var w,g,v,m,T,_=f([a,l]);function A(D,O){return[D*Math.cos(O)+u,h-D*Math.sin(O)]}_?(w=0,g=M,v=b):a<l?(w=a,v=l):(w=l,v=a),r<i?(m=r,T=i):(m=i,T=r);var d,C=Math.abs(v-w)<=M?0:1;function k(D,O,L){return"A"+[D,D]+" "+[0,C,L]+" "+A(D,O)}return _?d=m===null?"M"+A(T,w)+k(T,g,0)+k(T,v,0)+"Z":"M"+A(m,w)+k(m,g,0)+k(m,v,0)+"ZM"+A(T,w)+k(T,g,1)+k(T,v,1)+"Z":m===null?(d="M"+A(T,w)+k(T,v,0),c&&(d+="L0,0Z")):d="M"+A(m,w)+"L"+A(T,w)+k(T,v,0)+"L"+A(m,v)+k(m,w,1)+"Z",d}S.exports={deg2rad:function(r){return r/180*M},rad2deg:function(r){return r/M*180},angleDelta:s,angleDist:function(r,i){return Math.abs(s(r,i))},isFullCircle:f,isAngleInsideSector:t,isPtInsideSector:function(r,i,a,l){return!!t(i,l)&&(a[0]<a[1]?(u=a[0],h=a[1]):(u=a[1],h=a[0]),r>=u&&r<=h);var u,h},pathArc:function(r,i,a,l,u){return o(null,r,i,a,l,u,0)},pathSector:function(r,i,a,l,u){return o(null,r,i,a,l,u,1)},pathAnnulus:function(r,i,a,l,u,h){return o(r,i,a,l,u,h,1)}}},38116:function(S,x,e){"use strict";var p=e(83160).decode,y=e(63620),n=Array.isArray,M=ArrayBuffer,b=DataView;function f(i){return M.isView(i)&&!(i instanceof b)}function s(i){return n(i)||f(i)}x.isTypedArray=f,x.isArrayOrTypedArray=s,x.isArray1D=function(i){return!s(i[0])},x.ensureArray=function(i,a){return n(i)||(i=[]),i.length=a,i};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function o(i){return i.constructor===ArrayBuffer}function r(i,a,l){if(s(i)){if(s(i[0])){for(var u=l,h=0;h<i.length;h++)u=a(u,i[h].length);return u}return i.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,x.isArrayBuffer=o,x.decodeTypedArraySpec=function(i){var a=[],l=function(D){return{bdata:D.bdata,dtype:D.dtype,shape:D.shape}}(i),u=l.dtype,h=t[u];if(!h)throw new Error('Error in dtype: "'+u+'"');var c=h.BYTES_PER_ELEMENT,w=l.bdata;o(w)||(w=p(w));var g=l.shape===void 0?[w.byteLength/c]:(""+l.shape).split(",");g.reverse();var v,m,T=g.length,_=+g[0],A=c*_,d=0;if(T===1)a=new h(w);else if(T===2)for(v=+g[1],m=0;m<v;m++)a[m]=new h(w,d,_),d+=A;else{if(T!==3)throw new Error("ndim: "+T+'is not supported with the shape:"'+l.shape+'"');v=+g[1];for(var C=+g[2],k=0;k<C;k++)for(a[k]=[],m=0;m<v;m++)a[k][m]=new h(w,d,_),d+=A}return a.bdata=l.bdata,a.dtype=l.dtype,a.shape=g.reverse().join(","),i._inputArray=a,a},x.isTypedArraySpec=function(i){return y(i)&&i.hasOwnProperty("dtype")&&typeof i.dtype=="string"&&i.hasOwnProperty("bdata")&&(typeof i.bdata=="string"||o(i.bdata))&&(i.shape===void 0||i.hasOwnProperty("shape")&&(typeof i.shape=="string"||typeof i.shape=="number"))},x.concat=function(){var i,a,l,u,h,c,w,g,v=[],m=!0,T=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(a?v.push(u):(a=u,h=c),n(u)?i=!1:(m=!1,T?i!==u.constructor&&(i=!1):i=u.constructor),T+=c);if(!T)return[];if(!v.length)return a;if(m)return a.concat.apply(a,v);if(i){for((w=new i(T)).set(a),l=0;l<v.length;l++)u=v[l],w.set(u,h),h+=u.length;return w}for(w=new Array(T),g=0;g<a.length;g++)w[g]=a[g];for(l=0;l<v.length;l++){for(u=v[l],g=0;g<u.length;g++)w[h+g]=u[g];h+=g}return w},x.maxRowLength=function(i){return r(i,Math.max,0)},x.minRowLength=function(i){return r(i,Math.min,1/0)}},54037:function(S,x,e){"use strict";var p=e(38248),y=e(39032).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;S.exports=function(M){return typeof M=="string"&&(M=M.replace(n,"")),p(M)?Number(M):y}},73696:function(S){"use strict";S.exports=function(x){var e=x._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(p){p.regl&&p.regl.clear({color:!0,depth:!0})})}},75352:function(S){"use strict";S.exports=function(x){x._responsiveChartHandler&&(window.removeEventListener("resize",x._responsiveChartHandler),delete x._responsiveChartHandler)}},63064:function(S,x,e){"use strict";var p=e(38248),y=e(49760),n=e(92880).extendFlat,M=e(45464),b=e(88304),f=e(76308),s=e(13448).DESELECTDIM,t=e(22296),o=e(53756).counter,r=e(20435).modHalf,i=e(38116).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,l=e(38116).decodeTypedArraySpec;function u(h,c){var w=x.valObjectMeta[c.valType];if(c.arrayOk&&i(h))return!0;if(w.validateFunction)return w.validateFunction(h,c);var g={},v=g,m={set:function(T){v=T}};return w.coerceFunction(h,m,g,c),v!==g}x.valObjectMeta={data_array:{coerceFunction:function(h,c,w){c.set(i(h)?h:a(h)?l(h):w)}},enumerated:{coerceFunction:function(h,c,w,g){g.coerceNumber&&(h=+h),g.values.indexOf(h)===-1?c.set(w):c.set(h)},validateFunction:function(h,c){c.coerceNumber&&(h=+h);for(var w=c.values,g=0;g<w.length;g++){var v=String(w[g]);if(v.charAt(0)==="/"&&v.charAt(v.length-1)==="/"){if(new RegExp(v.substr(1,v.length-2)).test(h))return!0}else if(h===w[g])return!0}return!1}},boolean:{coerceFunction:function(h,c,w){h===!0||h===!1?c.set(h):c.set(w)}},number:{coerceFunction:function(h,c,w,g){a(h)&&(h=l(h)),!p(h)||g.min!==void 0&&h<g.min||g.max!==void 0&&h>g.max?c.set(w):c.set(+h)}},integer:{coerceFunction:function(h,c,w,g){(g.extras||[]).indexOf(h)===-1?(a(h)&&(h=l(h)),h%1||!p(h)||g.min!==void 0&&h<g.min||g.max!==void 0&&h>g.max?c.set(w):c.set(+h)):c.set(h)}},string:{coerceFunction:function(h,c,w,g){if(typeof h!="string"){var v=typeof h=="number";g.strict!==!0&&v?c.set(String(h)):c.set(w)}else g.noBlank&&!h?c.set(w):c.set(h)}},color:{coerceFunction:function(h,c,w){a(h)&&(h=l(h)),y(h).isValid()?c.set(h):c.set(w)}},colorlist:{coerceFunction:function(h,c,w){Array.isArray(h)&&h.length&&h.every(function(g){return y(g).isValid()})?c.set(h):c.set(w)}},colorscale:{coerceFunction:function(h,c,w){c.set(b.get(h,w))}},angle:{coerceFunction:function(h,c,w){a(h)&&(h=l(h)),h==="auto"?c.set("auto"):p(h)?c.set(r(+h,360)):c.set(w)}},subplotid:{coerceFunction:function(h,c,w,g){var v=g.regex||o(w);typeof h=="string"&&v.test(h)?c.set(h):c.set(w)},validateFunction:function(h,c){var w=c.dflt;return h===w||typeof h=="string"&&!!o(w).test(h)}},flaglist:{coerceFunction:function(h,c,w,g){if((g.extras||[]).indexOf(h)===-1)if(typeof h=="string"){for(var v=h.split("+"),m=0;m<v.length;){var T=v[m];g.flags.indexOf(T)===-1||v.indexOf(T)<m?v.splice(m,1):m++}v.length?c.set(v.join("+")):c.set(w)}else c.set(w);else c.set(h)}},any:{coerceFunction:function(h,c,w){h===void 0?c.set(w):c.set(a(h)?l(h):h)}},info_array:{coerceFunction:function(h,c,w,g){function v(N,V,Z){var j,H={set:function(Y){j=Y}};return Z===void 0&&(Z=V.dflt),x.valObjectMeta[V.valType].coerceFunction(N,H,Z,V),j}if(a(h)&&(h=l(h)),i(h)){var m,T,_,A,d,C,k=g.dimensions===2||g.dimensions==="1-2"&&Array.isArray(h)&&i(h[0]),D=g.items,O=[],L=Array.isArray(D),R=L&&k&&i(D[0]),z=k&&L&&!R,q=L&&!z?D.length:h.length;if(w=Array.isArray(w)?w:[],k)for(m=0;m<q;m++)for(O[m]=[],_=i(h[m])?h[m]:[],d=z?D.length:L?D[m].length:_.length,T=0;T<d;T++)A=z?D[T]:L?D[m][T]:D,(C=v(_[T],A,(w[m]||[])[T]))!==void 0&&(O[m][T]=C);else for(m=0;m<q;m++)(C=v(h[m],L?D[m]:D,w[m]))!==void 0&&(O[m]=C);c.set(O)}else c.set(w)},validateFunction:function(h,c){if(!i(h))return!1;var w=c.items,g=Array.isArray(w),v=c.dimensions===2;if(!c.freeLength&&h.length!==w.length)return!1;for(var m=0;m<h.length;m++)if(v){if(!i(h[m])||!c.freeLength&&h[m].length!==w[m].length)return!1;for(var T=0;T<h[m].length;T++)if(!u(h[m][T],g?w[m][T]:w))return!1}else if(!u(h[m],g?w[m]:w))return!1;return!0}}},x.coerce=function(h,c,w,g,v){var m=t(w,g).get(),T=t(h,g),_=t(c,g),A=T.get(),d=c._template;if(A===void 0&&d&&(A=t(d,g).get(),d=0),v===void 0&&(v=m.dflt),m.arrayOk){if(i(A))return _.set(A),A;if(a(A))return A=l(A),_.set(A),A}var C=x.valObjectMeta[m.valType].coerceFunction;C(A,_,v,m);var k=_.get();return d&&k===v&&!u(A,m)&&(C(A=t(d,g).get(),_,v,m),k=_.get()),k},x.coerce2=function(h,c,w,g,v){var m=t(h,g),T=x.coerce(h,c,w,g,v);return m.get()!=null&&T},x.coerceFont=function(h,c,w,g){g||(g={}),w=n({},w);var v={family:h(c+".family",(w=n(w,g.overrideDflt||{})).family),size:h(c+".size",w.size),color:h(c+".color",w.color),weight:h(c+".weight",w.weight),style:h(c+".style",w.style)};if(g.noFontVariant||(v.variant=h(c+".variant",w.variant)),g.noFontLineposition||(v.lineposition=h(c+".lineposition",w.lineposition)),g.noFontTextcase||(v.textcase=h(c+".textcase",w.textcase)),!g.noFontShadow){var m=w.shadow;m==="none"&&g.autoShadowDflt&&(m="auto"),v.shadow=h(c+".shadow",m)}return v},x.coercePattern=function(h,c,w,g){if(h(c+".shape")){h(c+".solidity"),h(c+".size");var v=h(c+".fillmode")==="overlay";if(!g){var m=h(c+".bgcolor",v?w:void 0);h(c+".fgcolor",v?f.contrast(m):w)}h(c+".fgopacity",v?.5:1)}},x.coerceHoverinfo=function(h,c,w){var g,v=c._module.attributes,m=v.hoverinfo?v:M,T=m.hoverinfo;if(w._dataLength===1){var _=T.dflt==="all"?T.flags.slice():T.dflt.split("+");_.splice(_.indexOf("name"),1),g=_.join("+")}return x.coerce(h,c,m,"hoverinfo",g)},x.coerceSelectionMarkerOpacity=function(h,c){if(h.marker){var w,g,v=h.marker.opacity;v!==void 0&&(i(v)||h.selected||h.unselected||(w=v,g=s*v),c("selected.marker.opacity",w),c("unselected.marker.opacity",g))}},x.validate=u},67555:function(S,x,e){"use strict";var p,y,n=e(94336).Yn,M=e(38248),b=e(24248),f=e(20435).mod,s=e(39032),t=s.BADNUM,o=s.ONEDAY,r=s.ONEHOUR,i=s.ONEMIN,a=s.ONESEC,l=s.EPOCHJD,u=e(24040),h=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,w=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function v(z){return z&&u.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}function m(z,q){return String(z+Math.pow(10,q)).substr(1)}x.dateTick0=function(z,q){var N=function(Z,j){return v(Z)?j?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[Z]:u.getComponentMethod("calendars","CANONICAL_TICK")[Z]:j?"2000-01-02":"2000-01-01"}(z,!!q);if(q<2)return N;var V=x.dateTime2ms(N,z);return V+=o*(q-1),x.ms2DateTime(V,0,z)},x.dfltRange=function(z){return v(z)?u.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},x.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"},x.dateTime2ms=function(z,q){if(x.isJSDate(z)){var N=z.getTimezoneOffset()*i,V=(z.getUTCMinutes()-z.getMinutes())*i+(z.getUTCSeconds()-z.getSeconds())*a+(z.getUTCMilliseconds()-z.getMilliseconds());if(V){var Z=3*i;N=N-Z/2+f(V-N+Z/2,Z)}return(z=Number(z)-N)>=p&&z<=y?z:t}if(typeof z!="string"&&typeof z!="number")return t;z=String(z);var j=v(q),H=z.charAt(0);!j||H!=="G"&&H!=="g"||(z=z.substr(1),q="");var Y=j&&q.substr(0,7)==="chinese",ie=z.match(Y?w:c);if(!ie)return t;var re=ie[1],ne=ie[3]||"1",ee=Number(ie[5]||1),Q=Number(ie[7]||0),X=Number(ie[9]||0),se=Number(ie[11]||0);if(j){if(re.length===2)return t;var ce;re=Number(re);try{var le=u.getComponentMethod("calendars","getCal")(q);if(Y){var de=ne.charAt(ne.length-1)==="i";ne=parseInt(ne,10),ce=le.newDate(re,le.toMonthIndex(re,ne,de),ee)}else ce=le.newDate(re,Number(ne),ee)}catch{return t}return ce?(ce.toJD()-l)*o+Q*r+X*i+se*a:t}re=re.length===2?(Number(re)+2e3-g)%100+g:Number(re),ne-=1;var be=new Date(Date.UTC(2e3,ne,ee,Q,X));return be.setUTCFullYear(re),be.getUTCMonth()!==ne||be.getUTCDate()!==ee?t:be.getTime()+se*a},p=x.MIN_MS=x.dateTime2ms("-9999"),y=x.MAX_MS=x.dateTime2ms("9999-12-31 23:59:59.9999"),x.isDateTime=function(z,q){return x.dateTime2ms(z,q)!==t};var T=90*o,_=3*r,A=5*i;function d(z,q,N,V,Z){if((q||N||V||Z)&&(z+=" "+m(q,2)+":"+m(N,2),(V||Z)&&(z+=":"+m(V,2),Z))){for(var j=4;Z%10==0;)j-=1,Z/=10;z+="."+m(Z,j)}return z}x.ms2DateTime=function(z,q,N){if(typeof z!="number"||!(z>=p&&z<=y))return t;q||(q=0);var V,Z,j,H,Y,ie,re=Math.floor(10*f(z+.05,1)),ne=Math.round(z-re/10);if(v(N)){var ee=Math.floor(ne/o)+l,Q=Math.floor(f(z,o));try{V=u.getComponentMethod("calendars","getCal")(N).fromJD(ee).formatDate("yyyy-mm-dd")}catch{V=h("G%Y-%m-%d")(new Date(ne))}if(V.charAt(0)==="-")for(;V.length<11;)V="-0"+V.substr(1);else for(;V.length<10;)V="0"+V;Z=q<T?Math.floor(Q/r):0,j=q<T?Math.floor(Q%r/i):0,H=q<_?Math.floor(Q%i/a):0,Y=q<A?Q%a*10+re:0}else ie=new Date(ne),V=h("%Y-%m-%d")(ie),Z=q<T?ie.getUTCHours():0,j=q<T?ie.getUTCMinutes():0,H=q<_?ie.getUTCSeconds():0,Y=q<A?10*ie.getUTCMilliseconds()+re:0;return d(V,Z,j,H,Y)},x.ms2DateTimeLocal=function(z){if(!(z>=p+o&&z<=y-o))return t;var q=Math.floor(10*f(z+.05,1)),N=new Date(Math.round(z-q/10));return d(n("%Y-%m-%d")(N),N.getHours(),N.getMinutes(),N.getSeconds(),10*N.getUTCMilliseconds()+q)},x.cleanDate=function(z,q,N){if(z===t)return q;if(x.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(v(N))return b.error("JS Dates and milliseconds are incompatible with world calendars",z),q;if(!(z=x.ms2DateTimeLocal(+z))&&q!==void 0)return q}else if(!x.isDateTime(z,N))return b.error("unrecognized date",z),q;return z};var C=/%\d?f/g,k=/%h/g,D={1:"1",2:"1",3:"2",4:"2"};function O(z,q,N,V){z=z.replace(C,function(j){var H=Math.min(+j.charAt(1)||6,6);return(q/1e3%1+2).toFixed(H).substr(2).replace(/0+$/,"")||"0"});var Z=new Date(Math.floor(q+.05));if(z=z.replace(k,function(){return D[N("%q")(Z)]}),v(V))try{z=u.getComponentMethod("calendars","worldCalFmt")(z,q,V)}catch{return"Invalid"}return N(z)(Z)}var L=[59,59.9,59.99,59.999,59.9999];x.formatDate=function(z,q,N,V,Z,j){if(Z=v(Z)&&Z,!q)if(N==="y")q=j.year;else if(N==="m")q=j.month;else{if(N!=="d")return function(H,Y){var ie=f(H+.05,o),re=m(Math.floor(ie/r),2)+":"+m(f(Math.floor(ie/i),60),2);if(Y!=="M"){M(Y)||(Y=0);var ne=(100+Math.min(f(H/a,60),L[Y])).toFixed(Y).substr(1);Y>0&&(ne=ne.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+ne}return re}(z,N)+`
`+O(j.dayMonthYear,z,V,Z);q=j.dayMonth+`
`+j.year}return O(q,z,V,Z)};var R=3*o;x.incrementMonth=function(z,q,N){N=v(N)&&N;var V=f(z,o);if(z=Math.round(z-V),N)try{var Z=Math.round(z/o)+l,j=u.getComponentMethod("calendars","getCal")(N),H=j.fromJD(Z);return q%12?j.add(H,q,"m"):j.add(H,q/12,"y"),(H.toJD()-l)*o+V}catch{b.error("invalid ms "+z+" in calendar "+N)}var Y=new Date(z+R);return Y.setUTCMonth(Y.getUTCMonth()+q)+V-R},x.findExactDates=function(z,q){for(var N,V,Z=0,j=0,H=0,Y=0,ie=v(q)&&u.getComponentMethod("calendars","getCal")(q),re=0;re<z.length;re++)if(V=z[re],M(V)){if(!(V%o))if(ie)try{(N=ie.fromJD(V/o+l)).day()===1?N.month()===1?Z++:j++:H++}catch{}else(N=new Date(V)).getUTCDate()===1?N.getUTCMonth()===0?Z++:j++:H++}else Y++;H+=j+=Z;var ne=z.length-Y;return{exactYears:Z/ne,exactMonths:j/ne,exactDays:H/ne}}},52200:function(S,x,e){"use strict";var p=e(33428),y=e(24248),n=e(52248),M=e(36524);function b(r){var i=r&&r.parentNode;i&&i.removeChild(r)}function f(r,i,a){var l="plotly.js-style-"+r,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var h=u.sheet;h.insertRule?h.insertRule(i+"{"+a+"}",0):h.addRule?h.addRule(i,a,0):y.warn("addStyleRule failed")}function s(r){var i=window.getComputedStyle(r,null),a=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform");return a==="none"?null:a.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function t(r){for(var i=[];o(r);)i.push(r),r=r.parentNode,typeof ShadowRoot=="function"&&r instanceof ShadowRoot&&(r=r.host);return i}function o(r){return r&&(r instanceof Element||r instanceof HTMLElement)}S.exports={getGraphDiv:function(r){var i;if(typeof r=="string"){if((i=document.getElementById(r))===null)throw new Error("No DOM element with id '"+r+"' exists on the page.");return i}if(r==null)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var i=p.select(r);return i.node()instanceof HTMLElement&&i.size()&&i.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(r,i){f("global",r,i)},addRelatedStyleRule:f,deleteRelatedStyleRule:function(r){var i="plotly.js-style-"+r,a=document.getElementById(i);a&&b(a)},getFullTransformMatrix:function(r){var i=t(r),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return i.forEach(function(l){var u=s(l);if(u){var h=n.convertCssMatrix(u);a=M.multiply(a,a,h)}}),a},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(r,i){return r&&i&&r.top===i.top&&r.left===i.left&&r.right===i.right&&r.bottom===i.bottom}}},95924:function(S,x,e){"use strict";var p=e(61252).EventEmitter,y={init:function(n){if(n._ev instanceof p)return n;var M=new p,b=new p;return n._ev=M,n._internalEv=b,n.on=M.on.bind(M),n.once=M.once.bind(M),n.removeListener=M.removeListener.bind(M),n.removeAllListeners=M.removeAllListeners.bind(M),n._internalOn=b.on.bind(b),n._internalOnce=b.once.bind(b),n._removeInternalListener=b.removeListener.bind(b),n._removeAllInternalListeners=b.removeAllListeners.bind(b),n.emit=function(f,s){typeof jQuery<"u"&&jQuery(n).trigger(f,s),M.emit(f,s),b.emit(f,s)},n},triggerHandler:function(n,M,b){var f,s;typeof jQuery<"u"&&(f=jQuery(n).triggerHandler(M,b));var t=n._ev;if(!t)return f;var o,r=t._events[M];if(!r)return f;function i(a){return a.listener?(t.removeListener(M,a.listener),a.fired?void 0:(a.fired=!0,a.listener.apply(t,[b]))):a.apply(t,[b])}for(r=Array.isArray(r)?r:[r],o=0;o<r.length-1;o++)i(r[o]);return s=i(r[o]),f!==void 0?f:s},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};S.exports=y},92880:function(S,x,e){"use strict";var p=e(63620),y=Array.isArray;function n(M,b,f,s){var t,o,r,i,a,l,u,h=M[0],c=M.length;if(c===2&&y(h)&&y(M[1])&&h.length===0){if(u=function(g,v){var m,T;for(m=0;m<g.length;m++){if((T=g[m])!==null&&typeof T=="object")return!1;T!==void 0&&(v[m]=T)}return!0}(M[1],h),u)return h;h.splice(0,h.length)}for(var w=1;w<c;w++)for(o in t=M[w])r=h[o],i=t[o],s&&y(i)?h[o]=i:b&&i&&(p(i)||(a=y(i)))?(a?(a=!1,l=r&&y(r)?r:[]):l=r&&p(r)?r:{},h[o]=n([l,i],b,f,s)):(i!==void 0||f)&&(h[o]=i);return h}x.extendFlat=function(){return n(arguments,!1,!1,!1)},x.extendDeep=function(){return n(arguments,!0,!1,!1)},x.extendDeepAll=function(){return n(arguments,!0,!0,!1)},x.extendDeepNoArrays=function(){return n(arguments,!0,!1,!0)}},68944:function(S){"use strict";S.exports=function(x){for(var e={},p=[],y=0,n=0;n<x.length;n++){var M=x[n];e[M]!==1&&(e[M]=1,p[y++]=M)}return p}},43880:function(S){"use strict";function x(p){return p.visible===!0}function e(p){var y=p[0].trace;return y.visible===!0&&y._length!==0}S.exports=function(p){for(var y,n=(y=p,Array.isArray(y)&&Array.isArray(y[0])&&y[0][0]&&y[0][0].trace?e:x),M=[],b=0;b<p.length;b++){var f=p[b];n(f)&&M.push(f)}return M}},27144:function(S,x,e){"use strict";var p=e(33428),y=e(36116),n=e(40440),M=e(77844),b=e(42428),f=e(35536),s=e(24248),t=e(63620),o=e(22296),r=e(92065),i=Object.keys(y),a={"ISO-3":f,"USA-states":f,"country names":function(u){for(var h=0;h<i.length;h++){var c=i[h];if(new RegExp(y[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function l(u){var h=u.geojson,c=window.PlotlyGeoAssets||{},w=typeof h=="string"?c[h]:h;return t(w)?w:(s.error("Oops ... something went wrong when fetching "+h),!1)}S.exports={locationToFeature:function(u,h,c){if(!h||typeof h!="string")return!1;var w,g,v,m=a[u](h);if(m){if(u==="USA-states")for(w=[],v=0;v<c.length;v++)(g=c[v]).properties&&g.properties.gu&&g.properties.gu==="USA"&&w.push(g);else w=c;for(v=0;v<w.length;v++)if((g=w[v]).id===m)return g;s.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var h,c,w,g,v=u.geometry,m=v.coordinates,T=u.id,_=[];function A(d){for(var C=0;C<d.length-1;C++)if(d[C][0]>0&&d[C+1][0]<0)return C;return null}switch(h=T==="RUS"||T==="FJI"?function(d){var C;if(A(d)===null)C=d;else for(C=new Array(d.length),g=0;g<d.length;g++)C[g]=[d[g][0]<0?d[g][0]+360:d[g][0],d[g][1]];_.push(r.tester(C))}:T==="ATA"?function(d){var C=A(d);if(C===null)return _.push(r.tester(d));var k=new Array(d.length+1),D=0;for(g=0;g<d.length;g++)g>C?k[D++]=[d[g][0]+360,d[g][1]]:g===C?(k[D++]=d[g],k[D++]=[d[g][0],-90]):k[D++]=d[g];var O=r.tester(k);O.pts.pop(),_.push(O)}:function(d){_.push(r.tester(d))},v.type){case"MultiPolygon":for(c=0;c<m.length;c++)for(w=0;w<m[c].length;w++)h(m[c][w]);break;case"Polygon":for(c=0;c<m.length;c++)h(m[c])}return _},getTraceGeojson:l,extractTraceFeature:function(u){var h=u[0].trace,c=l(h);if(!c)return!1;var w,g={},v=[];for(w=0;w<h._length;w++){var m=u[w];(m.loc||m.loc===0)&&(g[m.loc]=m)}function T(d){var C=o(d,h.featureidkey||"id").get(),k=g[C];if(k){var D=d.geometry;if(D.type==="Polygon"||D.type==="MultiPolygon"){var O={type:"Feature",id:C,geometry:D,properties:{}};O.properties.ct=function(L){var R,z=L.geometry;if(z.type==="MultiPolygon")for(var q=z.coordinates,N=0,V=0;V<q.length;V++){var Z={type:"Polygon",coordinates:q[V]},j=n.default(Z);j>N&&(N=j,R=Z)}else R=z;return M.default(R).geometry.coordinates}(O),k.fIn=d,k.fOut=O,v.push(O)}else s.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[C]}switch(c.type){case"FeatureCollection":var _=c.features;for(w=0;w<_.length;w++)T(_[w]);break;case"Feature":T(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var A in g)s.log(["Location *"+A+"*","does not have a matching feature with id-key","*"+h.featureidkey+"*."].join(" "));return v},fetchTraceGeoData:function(u){var h=window.PlotlyGeoAssets||{},c=[];function w(T){return new Promise(function(_,A){p.json(T,function(d,C){if(d){delete h[T];var k=d.status===404?'GeoJSON at URL "'+T+'" does not exist.':"Unexpected error while fetching from "+T;return A(new Error(k))}return h[T]=C,_(C)})})}function g(T){return new Promise(function(_,A){var d=0,C=setInterval(function(){return h[T]&&h[T]!=="pending"?(clearInterval(C),_(h[T])):d>100?(clearInterval(C),A("Unexpected error while fetching from "+T)):void d++},50)})}for(var v=0;v<u.length;v++){var m=u[v][0].trace.geojson;typeof m=="string"&&(h[m]?h[m]==="pending"&&c.push(g(m)):(h[m]="pending",c.push(w(m))))}return c},computeBbox:function(u){return b.default(u)}}},44808:function(S,x,e){"use strict";var p=e(39032).BADNUM;x.calcTraceToLineCoords=function(y){for(var n=y[0].trace.connectgaps,M=[],b=[],f=0;f<y.length;f++){var s=y[f].lonlat;s[0]!==p?b.push(s):!n&&b.length>0&&(M.push(b),b=[])}return b.length>0&&M.push(b),M},x.makeLine=function(y){return y.length===1?{type:"LineString",coordinates:y[0]}:{type:"MultiLineString",coordinates:y}},x.makePolygon=function(y){if(y.length===1)return{type:"Polygon",coordinates:y};for(var n=new Array(y.length),M=0;M<y.length;M++)n[M]=[y[M]];return{type:"MultiPolygon",coordinates:n}},x.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(S,x,e){"use strict";var p,y,n,M=e(20435).mod;function b(s,t,o,r,i,a,l,u){var h=o-s,c=i-s,w=l-i,g=r-t,v=a-t,m=u-a,T=h*m-w*g;if(T===0)return null;var _=(c*m-w*v)/T,A=(c*g-h*v)/T;return A<0||A>1||_<0||_>1?null:{x:s+h*_,y:t+g*_}}function f(s,t,o,r,i){var a=r*s+i*t;if(a<0)return r*r+i*i;if(a>o){var l=r-s,u=i-t;return l*l+u*u}var h=r*t-i*s;return h*h/o}x.segmentsIntersect=b,x.segmentDistance=function(s,t,o,r,i,a,l,u){if(b(s,t,o,r,i,a,l,u))return 0;var h=o-s,c=r-t,w=l-i,g=u-a,v=h*h+c*c,m=w*w+g*g,T=Math.min(f(h,c,v,i-s,a-t),f(h,c,v,l-s,u-t),f(w,g,m,s-i,t-a),f(w,g,m,o-i,r-a));return Math.sqrt(T)},x.getTextLocation=function(s,t,o,r){if(s===y&&r===n||(p={},y=s,n=r),p[o])return p[o];var i=s.getPointAtLength(M(o-r/2,t)),a=s.getPointAtLength(M(o+r/2,t)),l=Math.atan((a.y-i.y)/(a.x-i.x)),u=s.getPointAtLength(M(o,t)),h={x:(4*u.x+i.x+a.x)/6,y:(4*u.y+i.y+a.y)/6,theta:l};return p[o]=h,h},x.clearLocationCache=function(){y=null},x.getVisibleSegment=function(s,t,o){var r,i,a=t.left,l=t.right,u=t.top,h=t.bottom,c=0,w=s.getTotalLength(),g=w;function v(T){var _=s.getPointAtLength(T);T===0?r=_:T===w&&(i=_);var A=_.x<a?a-_.x:_.x>l?_.x-l:0,d=_.y<u?u-_.y:_.y>h?_.y-h:0;return Math.sqrt(A*A+d*d)}for(var m=v(c);m;){if((c+=m+o)>g)return;m=v(c)}for(m=v(g);m;){if(c>(g-=m+o))return;m=v(g)}return{min:c,max:g,len:g-c,total:w,isClosed:c===0&&g===w&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},x.findPointOnPath=function(s,t,o,r){for(var i,a,l,u=(r=r||{}).pathLength||s.getTotalLength(),h=r.tolerance||.001,c=r.iterationLimit||30,w=s.getPointAtLength(0)[o]>s.getPointAtLength(u)[o]?-1:1,g=0,v=0,m=u;g<c;){if(i=(v+m)/2,l=(a=s.getPointAtLength(i))[o]-t,Math.abs(l)<h)return a;w*l>0?m=i:v=i,g++}return a}},33040:function(S,x,e){"use strict";var p=e(38248),y=e(49760),n=e(72160),M=e(8932),b=e(22548).defaultLine,f=e(38116).isArrayOrTypedArray,s=n(b);function t(i,a){var l=i;return l[3]*=a,l}function o(i){if(p(i))return s;var a=n(i);return a.length?a:s}function r(i){return p(i)?i:1}S.exports={formatColor:function(i,a,l){var u=i.color;u&&u._inputArray&&(u=u._inputArray);var h,c,w,g,v,m=f(u),T=f(a),_=M.extractOpts(i),A=[];if(h=_.colorscale!==void 0?M.makeColorScaleFuncFromTrace(i):o,c=m?function(C,k){return C[k]===void 0?s:n(h(C[k]))}:o,w=T?function(C,k){return C[k]===void 0?1:r(C[k])}:r,m||T)for(var d=0;d<l;d++)g=c(u,d),v=w(a,d),A[d]=t(g,v);else A=t(n(u),a);return A},parseColorScale:function(i){var a=M.extractOpts(i),l=a.colorscale;return a.reversescale&&(l=M.flipScale(a.colorscale)),l.map(function(u){var h=u[0],c=y(u[1]).toRgb();return{index:h,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(S,x,e){"use strict";var p=e(35536);function y(n){return[n]}S.exports={keyFun:function(n){return n.key},repeat:y,descend:p,wrap:y,unwrap:function(n){return n[0]}}},35536:function(S){"use strict";S.exports=function(x){return x}},1396:function(S){"use strict";S.exports=function(x,e){if(!e)return x;var p=1/Math.abs(e),y=p>1?(p*x+p*e)/p:x+e,n=String(y).length;if(n>16){var M=String(e).length;if(n>=String(x).length+M){var b=parseFloat(y).toPrecision(12);b.indexOf("e+")===-1&&(y=+b)}}return y}},3400:function(S,x,e){"use strict";var p=e(33428),y=e(94336).E9,n=e(57624).E9,M=e(38248),b=e(39032),f=b.FP_SAFE,s=-f,t=b.BADNUM,o=S.exports={};o.adjustFormat=function(Q){return!Q||/^\d[.]\df/.test(Q)||/[.]\d%/.test(Q)?Q:Q==="0.f"?"~f":/^\d%/.test(Q)?"~%":/^\ds/.test(Q)?"~s":!/^[~,.0$]/.test(Q)&&/[&fps]/.test(Q)?"~"+Q:Q};var r={};o.warnBadFormat=function(Q){var X=String(Q);r[X]||(r[X]=1,o.warn('encountered bad format: "'+X+'"'))},o.noFormat=function(Q){return String(Q)},o.numberFormat=function(Q){var X;try{X=n(o.adjustFormat(Q))}catch{return o.warnBadFormat(Q),o.noFormat}return X},o.nestedProperty=e(22296),o.keyedContainer=e(37804),o.relativeAttr=e(23193),o.isPlainObject=e(63620),o.toLogRange=e(36896),o.relinkPrivateKeys=e(51528);var i=e(38116);o.isArrayBuffer=i.isArrayBuffer,o.isTypedArray=i.isTypedArray,o.isArrayOrTypedArray=i.isArrayOrTypedArray,o.isArray1D=i.isArray1D,o.ensureArray=i.ensureArray,o.concat=i.concat,o.maxRowLength=i.maxRowLength,o.minRowLength=i.minRowLength;var a=e(20435);o.mod=a.mod,o.modHalf=a.modHalf;var l=e(63064);o.valObjectMeta=l.valObjectMeta,o.coerce=l.coerce,o.coerce2=l.coerce2,o.coerceFont=l.coerceFont,o.coercePattern=l.coercePattern,o.coerceHoverinfo=l.coerceHoverinfo,o.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,o.validate=l.validate;var u=e(67555);o.dateTime2ms=u.dateTime2ms,o.isDateTime=u.isDateTime,o.ms2DateTime=u.ms2DateTime,o.ms2DateTimeLocal=u.ms2DateTimeLocal,o.cleanDate=u.cleanDate,o.isJSDate=u.isJSDate,o.formatDate=u.formatDate,o.incrementMonth=u.incrementMonth,o.dateTick0=u.dateTick0,o.dfltRange=u.dfltRange,o.findExactDates=u.findExactDates,o.MIN_MS=u.MIN_MS,o.MAX_MS=u.MAX_MS;var h=e(14952);o.findBin=h.findBin,o.sorterAsc=h.sorterAsc,o.sorterDes=h.sorterDes,o.distinctVals=h.distinctVals,o.roundUp=h.roundUp,o.sort=h.sort,o.findIndexOfMin=h.findIndexOfMin,o.sortObjectKeys=e(95376);var c=e(63084);o.aggNums=c.aggNums,o.len=c.len,o.mean=c.mean,o.median=c.median,o.midRange=c.midRange,o.variance=c.variance,o.stdev=c.stdev,o.interp=c.interp;var w=e(52248);o.init2dArray=w.init2dArray,o.transposeRagged=w.transposeRagged,o.dot=w.dot,o.translationMatrix=w.translationMatrix,o.rotationMatrix=w.rotationMatrix,o.rotationXYMatrix=w.rotationXYMatrix,o.apply3DTransform=w.apply3DTransform,o.apply2DTransform=w.apply2DTransform,o.apply2DTransform2=w.apply2DTransform2,o.convertCssMatrix=w.convertCssMatrix,o.inverseTransformMatrix=w.inverseTransformMatrix;var g=e(11864);o.deg2rad=g.deg2rad,o.rad2deg=g.rad2deg,o.angleDelta=g.angleDelta,o.angleDist=g.angleDist,o.isFullCircle=g.isFullCircle,o.isAngleInsideSector=g.isAngleInsideSector,o.isPtInsideSector=g.isPtInsideSector,o.pathArc=g.pathArc,o.pathSector=g.pathSector,o.pathAnnulus=g.pathAnnulus;var v=e(98308);o.isLeftAnchor=v.isLeftAnchor,o.isCenterAnchor=v.isCenterAnchor,o.isRightAnchor=v.isRightAnchor,o.isTopAnchor=v.isTopAnchor,o.isMiddleAnchor=v.isMiddleAnchor,o.isBottomAnchor=v.isBottomAnchor;var m=e(92348);o.segmentsIntersect=m.segmentsIntersect,o.segmentDistance=m.segmentDistance,o.getTextLocation=m.getTextLocation,o.clearLocationCache=m.clearLocationCache,o.getVisibleSegment=m.getVisibleSegment,o.findPointOnPath=m.findPointOnPath;var T=e(92880);o.extendFlat=T.extendFlat,o.extendDeep=T.extendDeep,o.extendDeepAll=T.extendDeepAll,o.extendDeepNoArrays=T.extendDeepNoArrays;var _=e(24248);o.log=_.log,o.warn=_.warn,o.error=_.error;var A=e(53756);o.counterRegex=A.counter;var d=e(91200);o.throttle=d.throttle,o.throttleDone=d.done,o.clearThrottle=d.clear;var C=e(52200);function k(Q){var X={};for(var se in Q)for(var ce=Q[se],le=0;le<ce.length;le++)X[ce[le]]=+se;return X}o.getGraphDiv=C.getGraphDiv,o.isPlotDiv=C.isPlotDiv,o.removeElement=C.removeElement,o.addStyleRule=C.addStyleRule,o.addRelatedStyleRule=C.addRelatedStyleRule,o.deleteRelatedStyleRule=C.deleteRelatedStyleRule,o.getFullTransformMatrix=C.getFullTransformMatrix,o.getElementTransformMatrix=C.getElementTransformMatrix,o.getElementAndAncestors=C.getElementAndAncestors,o.equalDomRects=C.equalDomRects,o.clearResponsive=e(75352),o.preserveDrawingBuffer=e(34296),o.makeTraceGroups=e(30988),o._=e(98356),o.notifier=e(41792),o.filterUnique=e(68944),o.filterVisible=e(43880),o.pushUnique=e(52416),o.increment=e(1396),o.cleanNumber=e(54037),o.ensureNumber=function(Q){return M(Q)?(Q=Number(Q))>f||Q<s?t:Q:t},o.isIndex=function(Q,X){return!(X!==void 0&&Q>=X)&&M(Q)&&Q>=0&&Q%1==0},o.noop=e(16628),o.identity=e(35536),o.repeat=function(Q,X){for(var se=new Array(X),ce=0;ce<X;ce++)se[ce]=Q;return se},o.swapAttrs=function(Q,X,se,ce){se||(se="x"),ce||(ce="y");for(var le=0;le<X.length;le++){var de=X[le],be=o.nestedProperty(Q,de.replace("?",se)),_e=o.nestedProperty(Q,de.replace("?",ce)),ve=be.get();be.set(_e.get()),_e.set(ve)}},o.raiseToTop=function(Q){Q.parentNode.appendChild(Q)},o.cancelTransition=function(Q){return Q.transition().duration(0)},o.constrain=function(Q,X,se){return X>se?Math.max(se,Math.min(X,Q)):Math.max(X,Math.min(se,Q))},o.bBoxIntersect=function(Q,X,se){return se=se||0,Q.left<=X.right+se&&X.left<=Q.right+se&&Q.top<=X.bottom+se&&X.top<=Q.bottom+se},o.simpleMap=function(Q,X,se,ce,le){for(var de=Q.length,be=new Array(de),_e=0;_e<de;_e++)be[_e]=X(Q[_e],se,ce,le);return be},o.randstr=function Q(X,se,ce,le){if(ce||(ce=16),se===void 0&&(se=24),se<=0)return"0";var de,be,_e=Math.log(Math.pow(2,se))/Math.log(ce),ve="";for(de=2;_e===1/0;de*=2)_e=Math.log(Math.pow(2,se/de))/Math.log(ce)*de;var me=_e-Math.floor(_e);for(de=0;de<Math.floor(_e);de++)ve=Math.floor(Math.random()*ce).toString(ce)+ve;me&&(be=Math.pow(ce,me),ve=Math.floor(Math.random()*be).toString(ce)+ve);var ye=parseInt(ve,ce);return X&&X[ve]||ye!==1/0&&ye>=Math.pow(2,se)?le>10?(o.warn("randstr failed uniqueness"),ve):Q(X,se,ce,(le||0)+1):ve},o.OptionControl=function(Q,X){Q||(Q={}),X||(X="opt");var se={optionList:[],_newoption:function(ce){ce[X]=Q,se[ce.name]=ce,se.optionList.push(ce)}};return se["_"+X]=Q,se},o.smooth=function(Q,X){if((X=Math.round(X)||0)<2)return Q;var se,ce,le,de,be=Q.length,_e=2*be,ve=2*X-1,me=new Array(ve),ye=new Array(be);for(se=0;se<ve;se++)me[se]=(1-Math.cos(Math.PI*(se+1)/X))/(2*X);for(se=0;se<be;se++){for(de=0,ce=0;ce<ve;ce++)(le=se+ce+1-X)<-be?le-=_e*Math.round(le/_e):le>=_e&&(le-=_e*Math.floor(le/_e)),le<0?le=-1-le:le>=be&&(le=_e-1-le),de+=Q[le]*me[ce];ye[se]=de}return ye},o.syncOrAsync=function(Q,X,se){var ce;function le(){return o.syncOrAsync(Q,X,se)}for(;Q.length;)if((ce=(0,Q.splice(0,1)[0])(X))&&ce.then)return ce.then(le);return se&&se(X)},o.stripTrailingSlash=function(Q){return Q.substr(-1)==="/"?Q.substr(0,Q.length-1):Q},o.noneOrAll=function(Q,X,se){if(Q){var ce,le=!1,de=!0;for(ce=0;ce<se.length;ce++)Q[se[ce]]!=null?le=!0:de=!1;if(le&&!de)for(ce=0;ce<se.length;ce++)Q[se[ce]]=X[se[ce]]}},o.mergeArray=function(Q,X,se,ce){var le=typeof ce=="function";if(o.isArrayOrTypedArray(Q))for(var de=Math.min(Q.length,X.length),be=0;be<de;be++){var _e=Q[be];X[be][se]=le?ce(_e):_e}},o.mergeArrayCastPositive=function(Q,X,se){return o.mergeArray(Q,X,se,function(ce){var le=+ce;return isFinite(le)&&le>0?le:0})},o.fillArray=function(Q,X,se,ce){if(ce=ce||o.identity,o.isArrayOrTypedArray(Q))for(var le=0;le<X.length;le++)X[le][se]=ce(Q[le])},o.castOption=function(Q,X,se,ce){ce=ce||o.identity;var le=o.nestedProperty(Q,se).get();return o.isArrayOrTypedArray(le)?Array.isArray(X)&&o.isArrayOrTypedArray(le[X[0]])?ce(le[X[0]][X[1]]):ce(le[X]):le},o.extractOption=function(Q,X,se,ce){if(se in Q)return Q[se];var le=o.nestedProperty(X,ce).get();return Array.isArray(le)?void 0:le},o.tagSelected=function(Q,X,se){var ce,le,de=X.selectedpoints,be=X._indexToPoints;be&&(ce=k(be));for(var _e=0;_e<de.length;_e++){var ve=de[_e];if(o.isIndex(ve)||o.isArrayOrTypedArray(ve)&&o.isIndex(ve[0])&&o.isIndex(ve[1])){var me=ce?ce[ve]:ve,ye=se?se[me]:me;(le=ye)!==void 0&&le<Q.length&&(Q[ye].selected=1)}}},o.selIndices2selPoints=function(Q){var X=Q.selectedpoints,se=Q._indexToPoints;if(se){for(var ce=k(se),le=[],de=0;de<X.length;de++){var be=X[de];if(o.isIndex(be)){var _e=ce[be];o.isIndex(_e)&&le.push(_e)}}return le}return X},o.getTargetArray=function(Q,X){var se=X.target;if(typeof se=="string"&&se){var ce=o.nestedProperty(Q,se).get();return!!o.isArrayOrTypedArray(ce)&&ce}return!!o.isArrayOrTypedArray(se)&&se},o.minExtend=function Q(X,se,ce){var le={};typeof se!="object"&&(se={});var de,be,_e,ve=ce==="pieLike"?-1:3,me=Object.keys(X);for(de=0;de<me.length;de++)_e=X[be=me[de]],be.charAt(0)!=="_"&&typeof _e!="function"&&(be==="module"?le[be]=_e:Array.isArray(_e)?le[be]=be==="colorscale"||ve===-1?_e.slice():_e.slice(0,ve):o.isTypedArray(_e)?le[be]=ve===-1?_e.subarray():_e.subarray(0,ve):le[be]=_e&&typeof _e=="object"?Q(X[be],se[be],ce):_e);for(me=Object.keys(se),de=0;de<me.length;de++)typeof(_e=se[be=me[de]])=="object"&&be in le&&typeof le[be]=="object"||(le[be]=_e);return le},o.titleCase=function(Q){return Q.charAt(0).toUpperCase()+Q.substr(1)},o.containsAny=function(Q,X){for(var se=0;se<X.length;se++)if(Q.indexOf(X[se])!==-1)return!0;return!1},o.isIE=function(){return window.navigator.msSaveBlob!==void 0};var D=/Version\/[\d\.]+.*Safari/;o.isSafari=function(){return D.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;o.isIOS=function(){return O.test(window.navigator.userAgent)};var L=/Firefox\/(\d+)\.\d+/;o.getFirefoxVersion=function(){var Q=L.exec(window.navigator.userAgent);if(Q&&Q.length===2){var X=parseInt(Q[1]);if(!isNaN(X))return X}return null},o.isD3Selection=function(Q){return Q instanceof p.selection},o.ensureSingle=function(Q,X,se,ce){var le=Q.select(X+(se?"."+se:""));if(le.size())return le;var de=Q.append(X);return se&&de.classed(se,!0),ce&&de.call(ce),de},o.ensureSingleById=function(Q,X,se,ce){var le=Q.select(X+"#"+se);if(le.size())return le;var de=Q.append(X).attr("id",se);return ce&&de.call(ce),de},o.objectFromPath=function(Q,X){for(var se,ce=Q.split("."),le=se={},de=0;de<ce.length;de++){var be=ce[de],_e=null,ve=ce[de].match(/(.*)\[([0-9]+)\]/);ve?(be=ve[1],_e=ve[2],se=se[be]=[],de===ce.length-1?se[_e]=X:se[_e]={},se=se[_e]):(de===ce.length-1?se[be]=X:se[be]={},se=se[be])}return le};var R=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function q(Q){return Q.slice(0,2)==="__"}o.expandObjectPaths=function(Q){var X,se,ce,le,de,be,_e;if(typeof Q=="object"&&!Array.isArray(Q)){for(se in Q)if(Q.hasOwnProperty(se))if(X=se.match(R)){if(le=Q[se],q(ce=X[1]))continue;delete Q[se],Q[ce]=o.extendDeepNoArrays(Q[ce]||{},o.objectFromPath(se,o.expandObjectPaths(le))[ce])}else if(X=se.match(z)){if(le=Q[se],q(ce=X[1]))continue;if(de=parseInt(X[2]),delete Q[se],Q[ce]=Q[ce]||[],X[3]===".")_e=X[4],be=Q[ce][de]=Q[ce][de]||{},o.extendDeepNoArrays(be,o.objectFromPath(_e,o.expandObjectPaths(le)));else{if(q(ce))continue;Q[ce][de]=o.expandObjectPaths(le)}}else{if(q(se))continue;Q[se]=o.expandObjectPaths(Q[se])}}return Q},o.numSeparate=function(Q,X,se){if(se||(se=!1),typeof X!="string"||X.length===0)throw new Error("Separator string required for formatting!");typeof Q=="number"&&(Q=String(Q));var ce=/(\d+)(\d{3})/,le=X.charAt(0),de=X.charAt(1),be=Q.split("."),_e=be[0],ve=be.length>1?le+be[1]:"";if(de&&(be.length>1||_e.length>4||se))for(;ce.test(_e);)_e=_e.replace(ce,"$1"+de+"$2");return _e+ve},o.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;o.templateString=function(Q,X){var se={};return Q.replace(o.TEMPLATE_STRING_REGEX,function(ce,le){var de;return N.test(le)?de=X[le]:(se[le]=se[le]||o.nestedProperty(X,le).get,de=se[le]()),o.isValidTextValue(de)?de:""})};var V={max:10,count:0,name:"hovertemplate"};o.hovertemplateString=function(){return ie.apply(V,arguments)};var Z={max:10,count:0,name:"texttemplate"};o.texttemplateString=function(){return ie.apply(Z,arguments)};var j=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,H={max:10,count:0,name:"texttemplate",parseMultDiv:!0};o.texttemplateStringForShapes=function(){return ie.apply(H,arguments)};var Y=/^[:|\|]/;function ie(Q,X,se){var ce=this,le=arguments;X||(X={});var de={};return Q.replace(o.TEMPLATE_STRING_REGEX,function(be,_e,ve){var me=_e==="_xother"||_e==="_yother",ye=_e==="_xother_"||_e==="_yother_",Se=_e==="xother_"||_e==="yother_",Ie=_e==="xother"||_e==="yother"||me||Se||ye,xe=_e;(me||ye)&&(xe=xe.substring(1)),(Se||ye)&&(xe=xe.substring(0,xe.length-1));var ue,ae,pe,De=null,Te=null;if(ce.parseMultDiv){var Ae=function(ge){var Me=ge.match(j);return Me?{key:Me[1],op:Me[2],number:Number(Me[3])}:{key:ge,op:null,number:null}}(xe);xe=Ae.key,De=Ae.op,Te=Ae.number}if(Ie){if((ue=X[xe])===void 0)return""}else for(pe=3;pe<le.length;pe++)if(ae=le[pe]){if(ae.hasOwnProperty(xe)){ue=ae[xe];break}if(N.test(xe)||(ue=o.nestedProperty(ae,xe).get(),(ue=de[xe]||o.nestedProperty(ae,xe).get())&&(de[xe]=ue)),ue!==void 0)break}if(ue!==void 0&&(De==="*"&&(ue*=Te),De==="/"&&(ue/=Te)),ue===void 0&&ce)return ce.count<ce.max&&(o.warn("Variable '"+xe+"' in "+ce.name+" could not be found!"),ue=be),ce.count===ce.max&&o.warn("Too many "+ce.name+" warnings - additional warnings will be suppressed"),ce.count++,be;if(ve){var Ce;if(ve[0]===":"&&(Ce=se?se.numberFormat:o.numberFormat,ue!==""&&(ue=Ce(ve.replace(Y,""))(ue))),ve[0]==="|"){Ce=se?se.timeFormat:y;var Re=o.dateTime2ms(ue);ue=o.formatDate(Re,ve.replace(Y,""),!1,Ce)}}else{var Ne=xe+"Label";X.hasOwnProperty(Ne)&&(ue=X[Ne])}return Ie&&(ue="("+ue+")",(me||ye)&&(ue=" "+ue),(Se||ye)&&(ue+=" ")),ue})}o.subplotSort=function(Q,X){for(var se=Math.min(Q.length,X.length)+1,ce=0,le=0,de=0;de<se;de++){var be=Q.charCodeAt(de)||0,_e=X.charCodeAt(de)||0,ve=be>=48&&be<=57,me=_e>=48&&_e<=57;if(ve&&(ce=10*ce+be-48),me&&(le=10*le+_e-48),!ve||!me){if(ce!==le)return ce-le;if(be!==_e)return be-_e}}return le-ce};var re=2e9;o.seedPseudoRandom=function(){re=2e9},o.pseudoRandom=function(){var Q=re;return re=(69069*re+1)%4294967296,Math.abs(re-Q)<429496729?o.pseudoRandom():re/4294967296},o.fillText=function(Q,X,se){var ce=Array.isArray(se)?function(be){se.push(be)}:function(be){se.text=be},le=o.extractOption(Q,X,"htx","hovertext");if(o.isValidTextValue(le))return ce(le);var de=o.extractOption(Q,X,"tx","text");return o.isValidTextValue(de)?ce(de):void 0},o.isValidTextValue=function(Q){return Q||Q===0},o.formatPercent=function(Q,X){X=X||0;for(var se=(Math.round(100*Q*Math.pow(10,X))*Math.pow(.1,X)).toFixed(X)+"%",ce=0;ce<X;ce++)se.indexOf(".")!==-1&&(se=(se=se.replace("0%","%")).replace(".%","%"));return se},o.isHidden=function(Q){var X=window.getComputedStyle(Q).display;return!X||X==="none"},o.strTranslate=function(Q,X){return Q||X?"translate("+Q+","+X+")":""},o.strRotate=function(Q){return Q?"rotate("+Q+")":""},o.strScale=function(Q){return Q!==1?"scale("+Q+")":""},o.getTextTransform=function(Q){var X=Q.noCenter,se=Q.textX,ce=Q.textY,le=Q.targetX,de=Q.targetY,be=Q.anchorX||0,_e=Q.anchorY||0,ve=Q.rotate,me=Q.scale;return me?me>1&&(me=1):me=0,o.strTranslate(le-me*(se+be),de-me*(ce+_e))+o.strScale(me)+(ve?"rotate("+ve+(X?"":" "+se+" "+ce)+")":"")},o.setTransormAndDisplay=function(Q,X){Q.attr("transform",o.getTextTransform(X)),Q.style("display",X.scale?null:"none")},o.ensureUniformFontSize=function(Q,X){var se=o.extendFlat({},X);return se.size=Math.max(X.size,Q._fullLayout.uniformtext.minsize||0),se},o.join2=function(Q,X,se){var ce=Q.length;return ce>1?Q.slice(0,-1).join(X)+se+Q[ce-1]:Q.join(X)},o.bigFont=function(Q){return Math.round(1.2*Q)};var ne=o.getFirefoxVersion(),ee=ne!==null&&ne<86;o.getPositionFromD3Event=function(){return ee?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},63620:function(S){"use strict";S.exports=function(x){return window&&window.process&&window.process.versions?Object.prototype.toString.call(x)==="[object Object]":Object.prototype.toString.call(x)==="[object Object]"&&Object.getPrototypeOf(x).hasOwnProperty("hasOwnProperty")}},37804:function(S,x,e){"use strict";var p=e(22296),y=/^\w*$/;S.exports=function(n,M,b,f){var s,t,o;b=b||"name",f=f||"value";var r={};M&&M.length?(o=p(n,M),t=o.get()):t=n,M=M||"";var i={};if(t)for(s=0;s<t.length;s++)i[t[s][b]]=s;var a=y.test(f),l={set:function(u,h){var c=h===null?4:0;if(!t){if(!o||c===4)return;t=[],o.set(t)}var w=i[u];if(w===void 0){if(c===4)return;c|=3,w=t.length,i[u]=w}else h!==(a?t[w][f]:p(t[w],f).get())&&(c|=2);var g=t[w]=t[w]||{};return g[b]=u,a?g[f]=h:p(g,f).set(h),h!==null&&(c&=-5),r[w]=r[w]|c,l},get:function(u){if(t){var h=i[u];return h===void 0?void 0:a?t[h][f]:p(t[h],f).get()}},rename:function(u,h){var c=i[u];return c===void 0||(r[c]=1|r[c],i[h]=c,delete i[u],t[c][b]=h),l},remove:function(u){var h=i[u];if(h===void 0)return l;var c=t[h];if(Object.keys(c).length>2)return r[h]=2|r[h],l.set(u,null);if(a){for(s=h;s<t.length;s++)r[s]=3|r[s];for(s=h;s<t.length;s++)i[t[s][b]]--;t.splice(h,1),delete i[u]}else p(c,f).set(null),r[h]=6|r[h];return l},constructUpdate:function(){for(var u,h,c={},w=Object.keys(r),g=0;g<w.length;g++)h=w[g],u=M+"["+h+"]",t[h]?(1&r[h]&&(c[u+"."+b]=t[h][b]),2&r[h]&&(c[u+"."+f]=a?4&r[h]?null:t[h][f]:4&r[h]?null:p(t[h],f).get())):c[u]=null;return c}};return l}},98356:function(S,x,e){"use strict";var p=e(24040);S.exports=function(y,n){for(var M=y._context.locale,b=0;b<2;b++){for(var f=y._context.locales,s=0;s<2;s++){var t=(f[M]||{}).dictionary;if(t){var o=t[n];if(o)return o}f=p.localeRegistry}var r=M.split("-")[0];if(r===M)break;M=r}return n}},24248:function(S,x,e){"use strict";var p=e(20556).dfltConfig,y=e(41792),n=S.exports={};n.log=function(){var M;if(p.logging>1){var b=["LOG:"];for(M=0;M<arguments.length;M++)b.push(arguments[M]);console.trace.apply(console,b)}if(p.notifyOnLogging>1){var f=[];for(M=0;M<arguments.length;M++)f.push(arguments[M]);y(f.join("<br>"),"long")}},n.warn=function(){var M;if(p.logging>0){var b=["WARN:"];for(M=0;M<arguments.length;M++)b.push(arguments[M]);console.trace.apply(console,b)}if(p.notifyOnLogging>0){var f=[];for(M=0;M<arguments.length;M++)f.push(arguments[M]);y(f.join("<br>"),"stick")}},n.error=function(){var M;if(p.logging>0){var b=["ERROR:"];for(M=0;M<arguments.length;M++)b.push(arguments[M]);console.error.apply(console,b)}if(p.notifyOnLogging>0){var f=[];for(M=0;M<arguments.length;M++)f.push(arguments[M]);y(f.join("<br>"),"stick")}}},30988:function(S,x,e){"use strict";var p=e(33428);S.exports=function(y,n,M){var b=y.selectAll("g."+M.replace(/\s/g,".")).data(n,function(s){return s[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",M),b.order();var f=y.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(s){s[0][f]=p.select(this)}),b}},52248:function(S,x,e){"use strict";var p=e(36524);x.init2dArray=function(y,n){for(var M=new Array(y),b=0;b<y;b++)M[b]=new Array(n);return M},x.transposeRagged=function(y){var n,M,b=0,f=y.length;for(n=0;n<f;n++)b=Math.max(b,y[n].length);var s=new Array(b);for(n=0;n<b;n++)for(s[n]=new Array(f),M=0;M<f;M++)s[n][M]=y[M][n];return s},x.dot=function(y,n){if(!y.length||!n.length||y.length!==n.length)return null;var M,b,f=y.length;if(y[0].length)for(M=new Array(f),b=0;b<f;b++)M[b]=x.dot(y[b],n);else if(n[0].length){var s=x.transposeRagged(n);for(M=new Array(s.length),b=0;b<s.length;b++)M[b]=x.dot(y,s[b])}else for(M=0,b=0;b<f;b++)M+=y[b]*n[b];return M},x.translationMatrix=function(y,n){return[[1,0,y],[0,1,n],[0,0,1]]},x.rotationMatrix=function(y){var n=y*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},x.rotationXYMatrix=function(y,n,M){return x.dot(x.dot(x.translationMatrix(n,M),x.rotationMatrix(y)),x.translationMatrix(-n,-M))},x.apply3DTransform=function(y){return function(){var n=arguments,M=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return x.dot(y,[M[0],M[1],M[2],1]).slice(0,3)}},x.apply2DTransform=function(y){return function(){var n=arguments;n.length===3&&(n=n[0]);var M=arguments.length===1?n[0]:[n[0],n[1]];return x.dot(y,[M[0],M[1],1]).slice(0,2)}},x.apply2DTransform2=function(y){var n=x.apply2DTransform(y);return function(M){return n(M.slice(0,2)).concat(n(M.slice(2,4)))}},x.convertCssMatrix=function(y){if(y){var n=y.length;if(n===16)return y;if(n===6)return[y[0],y[1],0,0,y[2],y[3],0,0,0,0,1,0,y[4],y[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},x.inverseTransformMatrix=function(y){var n=[];return p.invert(n,y),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},20435:function(S){"use strict";S.exports={mod:function(x,e){var p=x%e;return p<0?p+e:p},modHalf:function(x,e){return Math.abs(x)>e/2?x-Math.round(x/e)*e:x}}},22296:function(S,x,e){"use strict";var p=e(38248),y=e(38116).isArrayOrTypedArray;function n(r,i){return function(){var a,l,u,h,c,w=r;for(h=0;h<i.length-1;h++){if((a=i[h])===-1){for(l=!0,u=[],c=0;c<w.length;c++)u[c]=n(w[c],i.slice(h+1))(),u[c]!==u[0]&&(l=!1);return l?u[0]:u}if(typeof a=="number"&&!y(w)||typeof(w=w[a])!="object"||w===null)return}if(typeof w=="object"&&w!==null&&(u=w[i[h]])!==null)return u}}S.exports=function(r,i){if(p(i))i=String(i);else if(typeof i!="string"||i.substr(i.length-4)==="[-1]")throw"bad property string";var a,l,u,h,c=i.split(".");for(h=0;h<c.length;h++)if(String(c[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<c.length;){if(a=String(c[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(a[1])c[h]=a[1];else{if(h!==0)throw"bad property string";c.splice(0,1)}for(l=a[2].substr(1,a[2].length-2).split("]["),u=0;u<l.length;u++)h++,c.splice(h,0,Number(l[u]))}h++}return typeof r!="object"?function(w,g,v){return{set:function(){throw"bad container"},get:function(){},astr:g,parts:v,obj:w}}(r,i,c):{set:f(r,c,i),get:n(r,c),astr:i,parts:c,obj:r}};var M=/(^|\.)args\[/;function b(r,i){return r===void 0||r===null&&!i.match(M)}function f(r,i,a){return function(l){var u,h,c=r,w="",g=[[r,w]],v=b(l,a);for(h=0;h<i.length-1;h++){if(typeof(u=i[h])=="number"&&!y(c))throw"array index but container is not an array";if(u===-1){if(v=!t(c,i.slice(h+1),l,a))break;return}if(!o(c,u,i[h+1],v))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";w=s(w,u),g.push([c,w])}if(v){if(h===i.length-1&&(delete c[i[h]],Array.isArray(c)&&+i[h]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[i[h]]=l}}function s(r,i){var a=i;return p(i)?a="["+i+"]":r&&(a="."+i),r+a}function t(r,i,a,l){var u,h=y(a),c=!0,w=a,g=l.replace("-1",0),v=!h&&b(a,g),m=i[0];for(u=0;u<r.length;u++)g=l.replace("-1",u),h&&(v=b(w=a[u%a.length],g)),v&&(c=!1),o(r,u,m,v)&&f(r[u],i,l.replace("-1",u))(w);return c}function o(r,i,a,l){if(r[i]===void 0){if(l)return!1;r[i]=typeof a=="number"?[]:{}}return!0}},16628:function(S){"use strict";S.exports=function(){}},41792:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=[];S.exports=function(M,b){if(n.indexOf(M)===-1){n.push(M);var f=1e3;y(b)?f=b:b==="long"&&(f=3e3);var s=p.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(n).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var r=p.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(t)});for(var i=r.append("p"),a=o.split(/<br\s*\/?>/g),l=0;l<a.length;l++)l&&i.append("br"),i.append("span").text(a[l]);b==="stick"?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}function t(o){o.duration(700).style("opacity",0).each("end",function(r){var i=n.indexOf(r);i!==-1&&n.splice(i,1),p.select(this).remove()})}}},72213:function(S,x,e){"use strict";var p=e(93972),y="data-savedcursor";S.exports=function(n,M){var b=n.attr(y);if(M){if(!b){for(var f=(n.attr("class")||"").split(" "),s=0;s<f.length;s++){var t=f[s];t.indexOf("cursor-")===0&&n.attr(y,t.substr(7)).classed(t,!1)}n.attr(y)||n.attr(y,"!!")}p(n,M)}else b&&(n.attr(y,null),b==="!!"?p(n):p(n,b))}},92065:function(S,x,e){"use strict";var p=e(52248).dot,y=e(39032).BADNUM,n=S.exports={};n.tester=function(M){var b,f=M.slice(),s=f[0][0],t=s,o=f[0][1],r=o;for(f[f.length-1][0]===f[0][0]&&f[f.length-1][1]===f[0][1]||f.push(f[0]),b=1;b<f.length;b++)s=Math.min(s,f[b][0]),t=Math.max(t,f[b][0]),o=Math.min(o,f[b][1]),r=Math.max(r,f[b][1]);var i,a=!1;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(a=!0,i=function(h){return h[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(a=!0,i=function(h){return h[1]===f[0][1]}));var l=!0,u=f[0];for(b=1;b<f.length;b++)if(u[0]!==f[b][0]||u[1]!==f[b][1]){l=!1;break}return{xmin:s,xmax:t,ymin:o,ymax:r,pts:f,contains:a?function(h,c){var w=h[0],g=h[1];return!(w===y||w<s||w>t||g===y||g<o||g>r||c&&i(h))}:function(h,c){var w=h[0],g=h[1];if(w===y||w<s||w>t||g===y||g<o||g>r)return!1;var v,m,T,_,A,d=f.length,C=f[0][0],k=f[0][1],D=0;for(v=1;v<d;v++)if(m=C,T=k,C=f[v][0],k=f[v][1],!(w<(_=Math.min(m,C))||w>Math.max(m,C)||g>Math.max(T,k)))if(g<Math.min(T,k))w!==_&&D++;else{if(g===(A=C===m?g:T+(w-m)*(k-T)/(C-m)))return v!==1||!c;g<=A&&w!==_&&D++}return D%2==1},isRect:a,degenerate:l}},n.isSegmentBent=function(M,b,f,s){var t,o,r,i=M[b],a=[M[f][0]-i[0],M[f][1]-i[1]],l=p(a,a),u=Math.sqrt(l),h=[-a[1]/u,a[0]/u];for(t=b+1;t<f;t++)if(o=[M[t][0]-i[0],M[t][1]-i[1]],(r=p(o,a))<0||r>l||Math.abs(p(o,h))>s)return!0;return!1},n.filter=function(M,b){var f=[M[0]],s=0,t=0;function o(r){M.push(r);var i=f.length,a=s;f.splice(t+1);for(var l=a+1;l<M.length;l++)(l===M.length-1||n.isSegmentBent(M,a,l+1,b))&&(f.push(M[l]),f.length<i-2&&(s=l,t=f.length-1),a=l)}return M.length>1&&o(M.pop()),{addPt:o,raw:M,filtered:f}}},5048:function(S,x,e){"use strict";var p=e(16576),y=e(28624);S.exports=function(n,M,b){var f=n._fullLayout,s=!0;return f._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||f._has("parcoords")){try{t.regl=y({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:n._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:M||[],cachedCode:b||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(o){n&&n.emit&&n.emit("plotly_webglcontextlost",{event:o,layer:t.key})},!1)}}),s||p({container:f._glcontainer.node()}),s}},34296:function(S,x,e){"use strict";var p=e(38248),y=e(25928);S.exports=function(n){var M;if(typeof(M=n&&n.hasOwnProperty("userAgent")?n.userAgent:function(){var i;return typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),i}())!="string")return!0;var b=y({ua:{headers:{"user-agent":M}},tablet:!0,featureDetect:!1});if(!b){for(var f=M.split(" "),s=1;s<f.length;s++)if(f[s].indexOf("Safari")!==-1)for(var t=s-1;t>-1;t--){var o=f[t];if(o.substr(0,8)==="Version/"){var r=o.substr(8).split(".")[0];if(p(r)&&(r=+r),r>=13)return!0}}}return b}},52416:function(S){"use strict";S.exports=function(x,e){if(e instanceof RegExp){for(var p=e.toString(),y=0;y<x.length;y++)if(x[y]instanceof RegExp&&x[y].toString()===p)return x;x.push(e)}else!e&&e!==0||x.indexOf(e)!==-1||x.push(e);return x}},94552:function(S,x,e){"use strict";var p=e(3400),y=e(20556).dfltConfig,n={add:function(M,b,f,s,t){var o,r;M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},r=M.undoQueue.index,M.autoplay?M.undoQueue.inSequence||(M.autoplay=!1):(!M.undoQueue.sequence||M.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},M.undoQueue.queue.splice(r,M.undoQueue.queue.length-r,o),M.undoQueue.index+=1):o=M.undoQueue.queue[r-1],M.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(b),o.undo.args.unshift(f),o.redo.calls.push(s),o.redo.args.push(t)),M.undoQueue.queue.length>y.queueLength&&(M.undoQueue.queue.shift(),M.undoQueue.index--))},startSequence:function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!0,M.undoQueue.beginSequence=!0},stopSequence:function(M){M.undoQueue=M.undoQueue||{index:0,queue:[],sequence:!1},M.undoQueue.sequence=!1,M.undoQueue.beginSequence=!1},undo:function(M){var b,f;if(!(M.undoQueue===void 0||isNaN(M.undoQueue.index)||M.undoQueue.index<=0)){for(M.undoQueue.index--,b=M.undoQueue.queue[M.undoQueue.index],M.undoQueue.inSequence=!0,f=0;f<b.undo.calls.length;f++)n.plotDo(M,b.undo.calls[f],b.undo.args[f]);M.undoQueue.inSequence=!1,M.autoplay=!1}},redo:function(M){var b,f;if(!(M.undoQueue===void 0||isNaN(M.undoQueue.index)||M.undoQueue.index>=M.undoQueue.queue.length)){for(b=M.undoQueue.queue[M.undoQueue.index],M.undoQueue.inSequence=!0,f=0;f<b.redo.calls.length;f++)n.plotDo(M,b.redo.calls[f],b.redo.args[f]);M.undoQueue.inSequence=!1,M.autoplay=!1,M.undoQueue.index++}},plotDo:function(M,b,f){M.autoplay=!0,f=function(s,t){for(var o,r=[],i=0;i<t.length;i++)o=t[i],r[i]=o===s?o:typeof o=="object"?Array.isArray(o)?p.extendDeep([],o):p.extendDeepAll({},o):o;return r}(M,f),b.apply(null,f)}};S.exports=n},53756:function(S,x){"use strict";x.counter=function(e,p,y,n){var M=(p||"")+(y?"":"$"),b=n===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+M):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+M)}},23193:function(S){"use strict";var x=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;S.exports=function(p,y){for(;y;){var n=p.match(x);if(n)p=n[1];else{if(!p.match(e))throw new Error("bad relativeAttr call:"+[p,y]);p=""}if(y.charAt(0)!=="^")break;y=y.slice(1)}return p&&y.charAt(0)!=="["?p+"."+y:p+y}},51528:function(S,x,e){"use strict";var p=e(38116).isArrayOrTypedArray,y=e(63620);S.exports=function n(M,b){for(var f in b){var s=b[f],t=M[f];if(t!==s)if(f.charAt(0)==="_"||typeof s=="function"){if(f in M)continue;M[f]=s}else if(p(s)&&p(t)&&y(s[0])){if(f==="customdata"||f==="ids")continue;for(var o=Math.min(s.length,t.length),r=0;r<o;r++)t[r]!==s[r]&&y(s[r])&&y(t[r])&&n(t[r],s[r])}else y(s)&&y(t)&&(n(t,s),Object.keys(t).length||delete M[f])}}},14952:function(S,x,e){"use strict";var p=e(38248),y=e(24248),n=e(35536),M=e(39032).BADNUM,b=1e-9;function f(r,i){return r<i}function s(r,i){return r<=i}function t(r,i){return r>i}function o(r,i){return r>=i}x.findBin=function(r,i,a){if(p(i.start))return a?Math.ceil((r-i.start)/i.size-b)-1:Math.floor((r-i.start)/i.size+b);var l,u,h=0,c=i.length,w=0,g=c>1?(i[c-1]-i[0])/(c-1):1;for(u=g>=0?a?f:s:a?o:t,r+=g*b*(a?-1:1)*(g>=0?1:-1);h<c&&w++<100;)u(i[l=Math.floor((h+c)/2)],r)?h=l+1:c=l;return w>90&&y.log("Long binary search..."),h-1},x.sorterAsc=function(r,i){return r-i},x.sorterDes=function(r,i){return i-r},x.distinctVals=function(r){var i,a=r.slice();for(a.sort(x.sorterAsc),i=a.length-1;i>-1&&a[i]===M;i--);for(var l,u=a[i]-a[0]||1,h=u/(i||1)/1e4,c=[],w=0;w<=i;w++){var g=a[w],v=g-l;l===void 0?(c.push(g),l=g):v>h&&(u=Math.min(u,v),c.push(g),l=g)}return{vals:c,minDiff:u}},x.roundUp=function(r,i,a){for(var l,u=0,h=i.length-1,c=0,w=a?0:1,g=a?1:0,v=a?Math.ceil:Math.floor;u<h&&c++<100;)i[l=v((u+h)/2)]<=r?u=l+w:h=l-g;return i[u]},x.sort=function(r,i){for(var a=0,l=0,u=1;u<r.length;u++){var h=i(r[u],r[u-1]);if(h<0?a=1:h>0&&(l=1),a&&l)return r.sort(i)}return l?r:r.reverse()},x.findIndexOfMin=function(r,i){i=i||n;for(var a,l=1/0,u=0;u<r.length;u++){var h=i(r[u]);h<l&&(l=h,a=u)}return a}},93972:function(S){"use strict";S.exports=function(x,e){(x.attr("class")||"").split(" ").forEach(function(p){p.indexOf("cursor-")===0&&x.classed(p,!1)}),e&&x.classed("cursor-"+e,!0)}},16576:function(S,x,e){"use strict";var p=e(76308),y=function(){};S.exports=function(n){for(var M in n)typeof n[M]=="function"&&(n[M]=y);n.destroy=function(){n.container.parentNode.removeChild(n.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=p.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=p.lightLine,b.style["z-index"]=30;var f=document.createElement("p");return f.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",f.style.position="relative",f.style.top="50%",f.style.left="50%",f.style.height="30%",f.style.width="50%",f.style.margin="-15% 0 0 -25%",b.appendChild(f),n.container.appendChild(b),n.container.style.background="#FFFFFF",n.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(S){"use strict";S.exports=function(x){return Object.keys(x).sort()}},63084:function(S,x,e){"use strict";var p=e(38248),y=e(38116).isArrayOrTypedArray;x.aggNums=function(n,M,b,f){var s,t;if((!f||f>b.length)&&(f=b.length),p(M)||(M=!1),y(b[0])){for(t=new Array(f),s=0;s<f;s++)t[s]=x.aggNums(n,M,b[s]);b=t}for(s=0;s<f;s++)p(M)?p(b[s])&&(M=n(+M,+b[s])):M=b[s];return M},x.len=function(n){return x.aggNums(function(M){return M+1},0,n)},x.mean=function(n,M){return M||(M=x.len(n)),x.aggNums(function(b,f){return b+f},0,n)/M},x.midRange=function(n){if(n!==void 0&&n.length!==0)return(x.aggNums(Math.max,null,n)+x.aggNums(Math.min,null,n))/2},x.variance=function(n,M,b){return M||(M=x.len(n)),p(b)||(b=x.mean(n,M)),x.aggNums(function(f,s){return f+Math.pow(s-b,2)},0,n)/M},x.stdev=function(n,M,b){return Math.sqrt(x.variance(n,M,b))},x.median=function(n){var M=n.slice().sort();return x.interp(M,.5)},x.interp=function(n,M){if(!p(M))throw"n should be a finite number";if((M=M*n.length-.5)<0)return n[0];if(M>n.length-1)return n[n.length-1];var b=M%1;return b*n[Math.ceil(M)]+(1-b)*n[Math.floor(M)]}},43080:function(S,x,e){"use strict";var p=e(72160);S.exports=function(y){return y?p(y):[0,0,0,1]}},9188:function(S,x,e){"use strict";var p=e(2264),y=e(43616),n=e(3400),M=null;S.exports=function(){if(M!==null)return M;M=!1;var b=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!b){var f=Array.from(p.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")M=f.some(function(r){return s.apply(null,r)});else{var t=y.tester.append("image").attr("style",p.STYLE),o=window.getComputedStyle(t.node()).imageRendering;M=f.some(function(r){var i=r[1];return o===i||o===i.toLowerCase()}),t.remove()}}return M}},72736:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=y.strTranslate,M=e(9616),b=e(84284).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;x.convertToTspans=function(z,q,N){var V=z.text(),Z=!z.attr("data-notex")&&q&&q._context.typesetMath&&typeof MathJax<"u"&&V.match(f),j=p.select(z.node().parentNode);if(!j.empty()){var H=z.attr("class")?z.attr("class").split(" ")[0]:"text";return H+="-math",j.selectAll("svg."+H).remove(),j.selectAll("g."+H+"-group").remove(),z.style("display",null).attr({"data-unformatted":V,"data-math":"N"}),Z?(q&&q._promises||[]).push(new Promise(function(ie){z.style("display","none");var re=parseInt(z.node().style.fontSize,10),ne={fontSize:re};(function(ee,Q,X){var se,ce,le,de,be=parseInt((MathJax.version||"").split(".")[0]);if(be===2||be===3){var _e=function(){var me="math-output-"+y.randstr({},64),ye=(de=p.select("body").append("div").attr({id:me}).style({visibility:"hidden",position:"absolute","font-size":Q.fontSize+"px"}).text(ee.replace(s,"\\lt ").replace(t,"\\gt "))).node();return be===2?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},ve=function(){var me=de.select(be===2?".MathJax_SVG":".MathJax"),ye=!me.empty()&&de.select("svg").node();if(ye){var Se,Ie=ye.getBoundingClientRect();Se=be===2?p.select("body").select("#MathJax_SVG_glyphs"):me.select("defs"),X(me,Se,Ie)}else y.log("There was an error in the tex syntax.",ee),X();de.remove()};be===2?MathJax.Hub.Queue(function(){return ce=y.extendDeepAll({},MathJax.Hub.config),le=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},function(){if((se=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},_e,ve,function(){if(se!=="SVG")return MathJax.Hub.setRenderer(se)},function(){return le!==void 0&&(MathJax.Hub.processSectionDelay=le),MathJax.Hub.Config(ce)}):be===3&&(ce=y.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o,(se=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){_e(),ve(),se!=="svg"&&(MathJax.config.startup.output=se),MathJax.config=ce}))}else y.warn("No MathJax version:",MathJax.version)})(Z[2],ne,function(ee,Q,X){j.selectAll("svg."+H).remove(),j.selectAll("g."+H+"-group").remove();var se=ee&&ee.select("svg");if(!se||!se.node())return Y(),void ie();var ce=j.append("g").classed(H+"-group",!0).attr({"pointer-events":"none","data-unformatted":V,"data-math":"Y"});ce.node().appendChild(se.node()),Q&&Q.node()&&se.node().insertBefore(Q.node().cloneNode(!0),se.node().firstChild);var le=X.width,de=X.height;se.attr({class:H,height:de,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var be=z.node().style.fill||"black",_e=se.select("g");_e.attr({fill:be,stroke:be});var ve=_e.node().getBoundingClientRect(),me=ve.width,ye=ve.height;(me>le||ye>de)&&(se.style("overflow","hidden"),me=(ve=se.node().getBoundingClientRect()).width,ye=ve.height);var Se=+z.attr("x"),Ie=+z.attr("y"),xe=-(re||z.node().getBoundingClientRect().height)/4;if(H[0]==="y")ce.attr({transform:"rotate("+[-90,Se,Ie]+")"+n(-me/2,xe-ye/2)});else if(H[0]==="l")Ie=xe-ye/2;else if(H[0]==="a"&&H.indexOf("atitle")!==0)Se=0,Ie=xe;else{var ue=z.attr("text-anchor");Se-=me*(ue==="middle"?.5:ue==="end"?1:0),Ie=Ie+xe-ye/2}se.attr({x:Se,y:Ie}),N&&N.call(z,ce),ie(ce)})})):Y(),z}function Y(){j.empty()||(H=z.attr("class")+"-math",j.select("svg."+H).remove()),z.text("").style("white-space","pre");var ie=function(re,ne){ne=ne.replace(h," ");var ee,Q=!1,X=[],se=-1;function ce(){se++;var Te=document.createElementNS(M.svg,"tspan");p.select(Te).attr({class:"line",dy:se*b+"em"}),re.appendChild(Te),ee=Te;var Ae=X;if(X=[{node:Te}],Ae.length>1)for(var Ce=1;Ce<Ae.length;Ce++)le(Ae[Ce])}function le(Te){var Ae,Ce=Te.type,Re={};if(Ce==="a"){Ae="a";var Ne=Te.target,ge=Te.href,Me=Te.popup;ge&&(Re={"xlink:xlink:show":Ne==="_blank"||Ne.charAt(0)!=="_"?"new":"replace",target:Ne,"xlink:xlink:href":ge},Me&&(Re.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Me+'");return false;'))}else Ae="tspan";Te.style&&(Re.style=Te.style);var Ee=document.createElementNS(M.svg,Ae);if(Ce==="sup"||Ce==="sub"){de(ee,l),ee.appendChild(Ee);var Fe=document.createElementNS(M.svg,"tspan");de(Fe,l),p.select(Fe).attr("dy",a[Ce]),Re.dy=i[Ce],ee.appendChild(Ee),ee.appendChild(Fe)}else ee.appendChild(Ee);p.select(Ee).attr(Re),ee=Te.node=Ee,X.push(Te)}function de(Te,Ae){Te.appendChild(document.createTextNode(Ae))}function be(Te){if(X.length!==1){var Ae=X.pop();Te!==Ae.type&&y.log("Start tag <"+Ae.type+"> doesnt match end tag <"+Te+">. Pretending it did match.",ne),ee=X[X.length-1].node}else y.log("Ignoring unexpected end tag </"+Te+">.",ne)}g.test(ne)?ce():(ee=re,X=[{node:re}]);for(var _e=ne.split(c),ve=0;ve<_e.length;ve++){var me=_e[ve],ye=me.match(w),Se=ye&&ye[2].toLowerCase(),Ie=r[Se];if(Se==="br")ce();else if(Ie===void 0)de(ee,D(me));else if(ye[1])be(Se);else{var xe=ye[4],ue={type:Se},ae=A(xe,v);if(ae?(ae=ae.replace(d,"$1 fill:"),Ie&&(ae+=";"+Ie)):Ie&&(ae=Ie),ae&&(ue.style=ae),Se==="a"){Q=!0;var pe=A(xe,m);if(pe){var De=O(pe);De&&(ue.href=De,ue.target=A(xe,T)||"_blank",ue.popup=A(xe,_))}}le(ue)}}return Q}(z.node(),V);ie&&z.style("pointer-events","all"),x.positionText(z),N&&N.call(z)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,o=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},i={sub:"0.3em",sup:"-0.6em"},a={sub:"-0.21em",sup:"0.42em"},l="\u200B",u=["http:","https:","mailto:","",void 0,":"],h=x.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,w=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;x.BR_TAG_ALL=/<br(\s+.*)?>/gi;var v=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,m=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,T=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,_=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(z,q){if(!z)return null;var N=z.match(q),V=N&&(N[3]||N[4]);return V&&D(V)}var d=/(^|;)\s*color:/;x.plainText=function(z,q){for(var N=(q=q||{}).len!==void 0&&q.len!==-1?q.len:1/0,V=q.allowedTags!==void 0?q.allowedTags:["br"],Z=z.split(c),j=[],H="",Y=0,ie=0;ie<Z.length;ie++){var re=Z[ie],ne=re.match(w),ee=ne&&ne[2].toLowerCase();if(ee)V.indexOf(ee)!==-1&&(j.push(re),H=ee);else{var Q=re.length;if(Y+Q<N)j.push(re),Y+=Q;else if(Y<N){var X=N-Y;H&&(H!=="br"||X<=3||Q<=3)&&j.pop(),N>3?j.push(re.substr(0,X-3)+"..."):j.push(re.substr(0,X));break}H=""}}return j.join("")};var C={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},k=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function D(z){return z.replace(k,function(q,N){return(N.charAt(0)==="#"?function(V){if(!(V>1114111)){var Z=String.fromCodePoint;if(Z)return Z(V);var j=String.fromCharCode;return V<=65535?j(V):j(55232+(V>>10),V%1024+56320)}}(N.charAt(1)==="x"?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):C[N])||q})}function O(z){var q=encodeURI(decodeURI(z)),N=document.createElement("a"),V=document.createElement("a");N.href=z,V.href=q;var Z=N.protocol,j=V.protocol;return u.indexOf(Z)!==-1&&u.indexOf(j)!==-1?q:""}function L(z,q,N){var V,Z,j,H=N.horizontalAlign,Y=N.verticalAlign||"top",ie=z.node().getBoundingClientRect(),re=q.node().getBoundingClientRect();return Z=Y==="bottom"?function(){return ie.bottom-V.height}:Y==="middle"?function(){return ie.top+(ie.height-V.height)/2}:function(){return ie.top},j=H==="right"?function(){return ie.right-V.width}:H==="center"?function(){return ie.left+(ie.width-V.width)/2}:function(){return ie.left},function(){V=this.node().getBoundingClientRect();var ne=j()-re.left,ee=Z()-re.top,Q=N.gd||{};if(N.gd){Q._fullLayout._calcInverseTransform(Q);var X=y.apply3DTransform(Q._fullLayout._invTransform)(ne,ee);ne=X[0],ee=X[1]}return this.style({top:ee+"px",left:ne+"px","z-index":1e3}),this}}x.convertEntities=D,x.sanitizeHTML=function(z){z=z.replace(h," ");for(var q=document.createElement("p"),N=q,V=[],Z=z.split(c),j=0;j<Z.length;j++){var H=Z[j],Y=H.match(w),ie=Y&&Y[2].toLowerCase();if(ie in r)if(Y[1])V.length&&(N=V.pop());else{var re=Y[4],ne=A(re,v),ee=ne?{style:ne}:{};if(ie==="a"){var Q=A(re,m);if(Q){var X=O(Q);if(X){ee.href=X;var se=A(re,T);se&&(ee.target=se)}}}var ce=document.createElement(ie);N.appendChild(ce),p.select(ce).attr(ee),N=ce,V.push(ce)}else N.appendChild(document.createTextNode(D(H)))}return q.innerHTML},x.lineCount=function(z){return z.selectAll("tspan.line").size()||1},x.positionText=function(z,q,N){return z.each(function(){var V=p.select(this);function Z(Y,ie){return ie===void 0?(ie=V.attr(Y))===null&&(V.attr(Y,0),ie=0):V.attr(Y,ie),ie}var j=Z("x",q),H=Z("y",N);this.nodeName==="text"&&V.selectAll("tspan.line").attr({x:j,y:H})})};var R="1px ";x.makeTextShadow=function(z){return R+R+R+z+", -"+R+"-"+R+R+z+", "+R+"-"+R+R+z+", -"+R+R+R+z},x.makeEditable=function(z,q){var N=q.gd,V=q.delegate,Z=p.dispatch("edit","input","cancel"),j=V||z;if(z.style({"pointer-events":V?"none":"all"}),z.size()!==1)throw new Error("boo");function H(){var ie,re,ne,ee,Q;ie=p.select(N).select(".svg-container"),re=ie.append("div"),ne=z.node().style,ee=parseFloat(ne.fontSize||12),(Q=q.text)===void 0&&(Q=z.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ne.fontFamily||"Arial","font-size":ee,color:q.fill||ne.fill||"black",opacity:1,"background-color":q.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ee/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(L(z,ie,q)).on("blur",function(){N._editing=!1,z.text(this.textContent).style({opacity:1});var ce,le=p.select(this).attr("class");(ce=le?"."+le.split(" ")[0]+"-math-group":"[class*=-math-group]")&&p.select(z.node().parentNode).select(ce).style({opacity:0});var de=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),Z.edit.call(z,de)}).on("focus",function(){var ce=this;N._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===ce)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){p.event.which===27?(N._editing=!1,z.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Z.cancel.call(z,this.textContent)):(Z.input.call(z,this.textContent),p.select(this).call(L(z,ie,q)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(Y),z.style({opacity:0});var X,se=j.attr("class");(X=se?"."+se.split(" ")[0]+"-math-group":"[class*=-math-group]")&&p.select(z.node().parentNode).select(X).style({opacity:0})}function Y(ie){var re=ie.node(),ne=document.createRange();ne.selectNodeContents(re);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange(ne),re.focus()}return q.immediate?H():j.on("click",H),p.rebind(z,Z,"on")}},91200:function(S,x){"use strict";var e={};function p(y){y&&y.timer!==null&&(clearTimeout(y.timer),y.timer=null)}x.throttle=function(y,n,M){var b=e[y],f=Date.now();if(!b){for(var s in e)e[s].ts<f-6e4&&delete e[s];b=e[y]={ts:0,timer:null}}function t(){M(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}p(b),f>b.ts+n?t():b.timer=setTimeout(function(){t(),b.timer=null},n)},x.done=function(y){var n=e[y];return n&&n.timer?new Promise(function(M){var b=n.onDone;n.onDone=function(){b&&b(),M(),n.onDone=null}}):Promise.resolve()},x.clear=function(y){if(y)p(e[y]),delete e[y];else for(var n in e)x.clear(n)}},36896:function(S,x,e){"use strict";var p=e(38248);S.exports=function(y,n){if(y>0)return Math.log(y)/Math.LN10;var M=Math.log(Math.min(n[0],n[1]))/Math.LN10;return p(M)||(M=Math.log(Math.max(n[0],n[1]))/Math.LN10-6),M}},59972:function(S,x,e){"use strict";var p=S.exports={},y=e(79552).locationmodeToLayer,n=e(55712).NO;p.getTopojsonName=function(M){return[M.scope.replace(/ /g,"-"),"_",M.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(M,b){return M+b+".json"},p.getTopojsonFeatures=function(M,b){var f=y[M.locationmode],s=b.objects[f];return n(b,s).features}},11680:function(S){"use strict";S.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(S){"use strict";S.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(S,x,e){"use strict";var p=e(24040);S.exports=function(y){for(var n,M,b=p.layoutArrayContainers,f=p.layoutArrayRegexes,s=y.split("[")[0],t=0;t<f.length;t++)if((M=y.match(f[t]))&&M.index===0){n=M[0];break}if(n||(n=b[b.indexOf(s)]),!n)return!1;var o=y.substr(n.length);return o?!!(M=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:n,index:Number(M[1]),property:M[3]||""}:{array:n,index:"",property:""}}},67824:function(S,x,e){"use strict";var p=e(92880).extendFlat,y=e(63620),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},M={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=n.flags.slice().concat(["fullReplot"]),f=M.flags.slice().concat("layoutReplot");function s(r){for(var i={},a=0;a<r.length;a++)i[r[a]]=!1;return i}function t(r,i,a){var l=p({},r);for(var u in l){var h=l[u];y(h)&&(l[u]=o(h,i,0,u))}return a==="from-root"&&(l.editType=i),l}function o(r,i,a,l){if(r.valType){var u=p({},r);if(u.editType=i,Array.isArray(r.items)){u.items=new Array(r.items.length);for(var h=0;h<r.items.length;h++)u.items[h]=o(r.items[h],i)}return u}return t(r,i,l.charAt(0)==="_"?"nested":"from-root")}S.exports={traces:n,layout:M,traceFlags:function(){return s(b)},layoutFlags:function(){return s(f)},update:function(r,i){var a=i.editType;if(a&&a!=="none")for(var l=a.split("+"),u=0;u<l.length;u++)r[l[u]]=!0},overrideAll:t}},93404:function(S,x,e){"use strict";var p=e(38248),y=e(61784),n=e(24040),M=e(3400),b=e(7316),f=e(79811),s=e(76308),t=f.cleanId,o=f.getFromTrace,r=n.traceIs;function i(m,T){var _=m[T],A=T.charAt(0);_&&_!=="paper"&&(m[T]=t(_,A,!0))}function a(m){function T(_,A){var d=m[_],C=m.title&&m.title[A];d&&!C&&(m.title||(m.title={}),m.title[A]=m[_],delete m[_])}m&&(typeof m.title!="string"&&typeof m.title!="number"||(m.title={text:m.title}),T("titlefont","font"),T("titleposition","position"),T("titleside","side"),T("titleoffset","offset"))}function l(m){if(!M.isPlainObject(m))return!1;var T=m.name;return delete m.name,delete m.showlegend,(typeof T=="string"||typeof T=="number")&&String(T)}function u(m,T,_,A){if(_&&!A)return m;if(A&&!_||!m.trim())return T;if(!T.trim())return m;var d,C=Math.min(m.length,T.length);for(d=0;d<C&&m.charAt(d)===T.charAt(d);d++);return m.substr(0,d).trim()}function h(m){var T="middle",_="center";return typeof m=="string"&&(m.indexOf("top")!==-1?T="top":m.indexOf("bottom")!==-1&&(T="bottom"),m.indexOf("left")!==-1?_="left":m.indexOf("right")!==-1&&(_="right")),T+" "+_}function c(m,T){return T in m&&typeof m[T]=="object"&&Object.keys(m[T]).length===0}x.clearPromiseQueue=function(m){Array.isArray(m._promises)&&m._promises.length>0&&M.log("Clearing previous rejected promises from queue."),m._promises=[]},x.cleanLayout=function(m){var T,_;m||(m={}),m.xaxis1&&(m.xaxis||(m.xaxis=m.xaxis1),delete m.xaxis1),m.yaxis1&&(m.yaxis||(m.yaxis=m.yaxis1),delete m.yaxis1),m.scene1&&(m.scene||(m.scene=m.scene1),delete m.scene1);var A=(b.subplotsRegistry.cartesian||{}).attrRegex,d=(b.subplotsRegistry.polar||{}).attrRegex,C=(b.subplotsRegistry.ternary||{}).attrRegex,k=(b.subplotsRegistry.gl3d||{}).attrRegex,D=Object.keys(m);for(T=0;T<D.length;T++){var O=D[T];if(A&&A.test(O)){var L=m[O];L.anchor&&L.anchor!=="free"&&(L.anchor=t(L.anchor)),L.overlaying&&(L.overlaying=t(L.overlaying)),L.type||(L.isdate?L.type="date":L.islog?L.type="log":L.isdate===!1&&L.islog===!1&&(L.type="linear")),L.autorange!=="withzero"&&L.autorange!=="tozero"||(L.autorange=!0,L.rangemode="tozero"),L.insiderange&&delete L.range,delete L.islog,delete L.isdate,delete L.categories,c(L,"domain")&&delete L.domain,L.autotick!==void 0&&(L.tickmode===void 0&&(L.tickmode=L.autotick?"auto":"linear"),delete L.autotick),a(L)}else if(d&&d.test(O))a(m[O].radialaxis);else if(C&&C.test(O)){var R=m[O];a(R.aaxis),a(R.baxis),a(R.caxis)}else if(k&&k.test(O)){var z=m[O],q=z.cameraposition;if(Array.isArray(q)&&q[0].length===4){var N=q[0],V=q[1],Z=q[2],j=y([],N),H=[];for(_=0;_<3;++_)H[_]=V[_]+Z*j[2+4*_];z.camera={eye:{x:H[0],y:H[1],z:H[2]},center:{x:V[0],y:V[1],z:V[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}a(z.xaxis),a(z.yaxis),a(z.zaxis)}}var Y=Array.isArray(m.annotations)?m.annotations.length:0;for(T=0;T<Y;T++){var ie=m.annotations[T];M.isPlainObject(ie)&&(ie.ref&&(ie.ref==="paper"?(ie.xref="paper",ie.yref="paper"):ie.ref==="data"&&(ie.xref="x",ie.yref="y"),delete ie.ref),i(ie,"xref"),i(ie,"yref"))}var re=Array.isArray(m.shapes)?m.shapes.length:0;for(T=0;T<re;T++){var ne=m.shapes[T];M.isPlainObject(ne)&&(i(ne,"xref"),i(ne,"yref"))}var ee=Array.isArray(m.images)?m.images.length:0;for(T=0;T<ee;T++){var Q=m.images[T];M.isPlainObject(Q)&&(i(Q,"xref"),i(Q,"yref"))}var X=m.legend;return X&&(X.x>3?(X.x=1.02,X.xanchor="left"):X.x<-2&&(X.x=-.02,X.xanchor="right"),X.y>3?(X.y=1.02,X.yanchor="bottom"):X.y<-2&&(X.y=-.02,X.yanchor="top")),a(m),m.dragmode==="rotate"&&(m.dragmode="orbit"),s.clean(m),m.template&&m.template.layout&&x.cleanLayout(m.template.layout),m},x.cleanData=function(m){for(var T=0;T<m.length;T++){var _,A=m[T];if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var d=s.defaults,C=A.error_y.color||(r(A,"bar")?s.defaultLine:d[T%d.length]);A.error_y.color=s.addOpacity(s.rgb(C),s.opacity(C)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir!=="h"||!r(A,"bar")&&A.type.substr(0,9)!=="histogram"||(A.orientation="h",x.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&x.swapXYData(A),A.type!=="histogramx"&&A.type!=="histogramy"||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=t(A.xaxis,"x")),A.yaxis&&(A.yaxis=t(A.yaxis,"y")),r(A,"gl3d")&&A.scene&&(A.scene=b.subplotsRegistry.gl3d.cleanId(A.scene)),!r(A,"pie-like")&&!r(A,"bar-like"))if(Array.isArray(A.textposition))for(_=0;_<A.textposition.length;_++)A.textposition[_]=h(A.textposition[_]);else A.textposition&&(A.textposition=h(A.textposition));var k=n.getModule(A);if(k&&k.colorbar){var D=k.colorbar.container,O=D?A[D]:A;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(A.type==="surface"&&M.isPlainObject(A.contours)){var L=["x","y","z"];for(_=0;_<L.length;_++){var R=A.contours[L[_]];M.isPlainObject(R)&&(R.highlightColor&&(R.highlightcolor=R.highlightColor,delete R.highlightColor),R.highlightWidth&&(R.highlightwidth=R.highlightWidth,delete R.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var z=(A.increasing||{}).showlegend!==!1,q=(A.decreasing||{}).showlegend!==!1,N=l(A.increasing),V=l(A.decreasing);if(N!==!1&&V!==!1){var Z=u(N,V,z,q);Z&&(A.name=Z)}else!N&&!V||A.name||(A.name=N||V)}if(Array.isArray(A.transforms)){var j=A.transforms;for(_=0;_<j.length;_++){var H=j[_];if(M.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var Y=H.styles,ie=Object.keys(Y);H.styles=[];for(var re=0;re<ie.length;re++)H.styles.push({target:ie[re],value:Y[ie[re]]})}}}}c(A,"line")&&delete A.line,"marker"in A&&(c(A.marker,"line")&&delete A.marker.line,c(A,"marker")&&delete A.marker),s.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),a(A),A.colorbar&&a(A.colorbar),A.marker&&A.marker.colorbar&&a(A.marker.colorbar),A.line&&A.line.colorbar&&a(A.line.colorbar),A.aaxis&&a(A.aaxis),A.baxis&&a(A.baxis)}},x.swapXYData=function(m){var T;if(M.swapAttrs(m,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(m.z)&&Array.isArray(m.z[0])&&(m.transpose?delete m.transpose:m.transpose=!0),m.error_x&&m.error_y){var _=m.error_y,A="copy_ystyle"in _?_.copy_ystyle:!(_.color||_.thickness||_.width);M.swapAttrs(m,["error_?.copy_ystyle"]),A&&M.swapAttrs(m,["error_?.color","error_?.thickness","error_?.width"])}if(typeof m.hoverinfo=="string"){var d=m.hoverinfo.split("+");for(T=0;T<d.length;T++)d[T]==="x"?d[T]="y":d[T]==="y"&&(d[T]="x");m.hoverinfo=d.join("+")}},x.coerceTraceIndices=function(m,T){if(p(T))return[T];if(!Array.isArray(T)||!T.length)return m.data.map(function(d,C){return C});if(Array.isArray(T)){for(var _=[],A=0;A<T.length;A++)M.isIndex(T[A],m.data.length)?_.push(T[A]):M.warn("trace index (",T[A],") is not a number or is out of bounds");return _}return T},x.manageArrayContainers=function(m,T,_){var A=m.obj,d=m.parts,C=d.length,k=d[C-1],D=p(k);if(D&&T===null){var O=d.slice(0,C-1).join(".");M.nestedProperty(A,O).get().splice(k,1)}else D&&m.get()===void 0&&m.get()===void 0&&(_[m.astr]=null),m.set(T)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(m){var T=m.search(w);if(T>0)return m.substr(0,T)}x.hasParent=function(m,T){for(var _=g(T);_;){if(_ in m)return!0;_=g(_)}return!1};var v=["x","y","z"];x.clearAxisTypes=function(m,T,_){for(var A=0;A<T.length;A++)for(var d=m._fullData[A],C=0;C<3;C++){var k=o(m,d,v[C]);if(k&&k.type!=="log"){var D=k._name,O=k._id.substr(1);if(O.substr(0,5)==="scene"){if(_[O]!==void 0)continue;D=O+"."+D}var L=D+".type";_[D]===void 0&&_[L]===void 0&&M.nestedProperty(m.layout,L).set(null)}}}},22448:function(S,x,e){"use strict";var p=e(36424);x._doPlot=p._doPlot,x.newPlot=p.newPlot,x.restyle=p.restyle,x.relayout=p.relayout,x.redraw=p.redraw,x.update=p.update,x._guiRestyle=p._guiRestyle,x._guiRelayout=p._guiRelayout,x._guiUpdate=p._guiUpdate,x._storeDirectGUIEdit=p._storeDirectGUIEdit,x.react=p.react,x.extendTraces=p.extendTraces,x.prependTraces=p.prependTraces,x.addTraces=p.addTraces,x.deleteTraces=p.deleteTraces,x.moveTraces=p.moveTraces,x.purge=p.purge,x.addFrames=p.addFrames,x.deleteFrames=p.deleteFrames,x.animate=p.animate,x.setPlotConfig=p.setPlotConfig;var y=e(52200).getGraphDiv,n=e(4016).eraseActiveShape;x.deleteActiveShape=function(b){return n(y(b))},x.toImage=e(67024),x.validate=e(21480),x.downloadImage=e(39792);var M=e(94828);x.makeTemplate=M.makeTemplate,x.validateTemplate=M.validateTemplate},17680:function(S,x,e){"use strict";var p=e(63620),y=e(16628),n=e(24248),M=e(14952).sorterAsc,b=e(24040);x.containerArrayMatch=e(69820);var f=x.isAddVal=function(t){return t==="add"||p(t)},s=x.isRemoveVal=function(t){return t===null||t==="remove"};x.applyContainerArrayChanges=function(t,o,r,i,a){var l=o.astr,u=b.getComponentMethod(l,"supplyLayoutDefaults"),h=b.getComponentMethod(l,"draw"),c=b.getComponentMethod(l,"drawOne"),w=i.replot||i.recalc||u===y||h===y,g=t.layout,v=t._fullLayout;if(r[""]){Object.keys(r).length>1&&n.warn("Full array edits are incompatible with other edits",l);var m=r[""][""];if(s(m))o.set(null);else{if(!Array.isArray(m))return n.warn("Unrecognized full array edit value",l,m),!0;o.set(m)}return!w&&(u(g,v),h(t),!0)}var T,_,A,d,C,k,D,O,L=Object.keys(r).map(Number).sort(M),R=o.get(),z=R||[],q=a(v,l).get(),N=[],V=-1,Z=z.length;for(T=0;T<L.length;T++)if(d=r[A=L[T]],C=Object.keys(d),k=d[""],D=f(k),A<0||A>z.length-(D?0:1))n.warn("index out of range",l,A);else if(k!==void 0)C.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",l,A),s(k)?N.push(A):D?(k==="add"&&(k={}),z.splice(A,0,k),q&&q.splice(A,0,{})):n.warn("Unrecognized full object edit value",l,A,k),V===-1&&(V=A);else for(_=0;_<C.length;_++)O=l+"["+A+"].",a(z[A],C[_],O).set(d[C[_]]);for(T=N.length-1;T>=0;T--)z.splice(N[T],1),q&&q.splice(N[T],1);if(z.length?R||o.set(z):o.set(null),w)return!1;if(u(g,v),c!==y){var j;if(V===-1)j=L;else{for(Z=Math.max(z.length,Z),j=[],T=0;T<L.length&&!((A=L[T])>=V);T++)j.push(A);for(T=V;T<Z;T++)j.push(T)}for(T=0;T<j.length;T++)c(t,j[T])}else h(t);return!0}},36424:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(52264),M=e(3400),b=M.nestedProperty,f=e(95924),s=e(94552),t=e(24040),o=e(73060),r=e(7316),i=e(54460),a=e(96312),l=e(94724),u=e(43616),h=e(76308),c=e(42464).initInteractions,w=e(9616),g=e(22676).clearOutline,v=e(20556).dfltConfig,m=e(17680),T=e(93404),_=e(39172),A=e(67824),d=e(33816).AX_NAME_PATTERN,C=0;function k(Te){var Ae=Te._fullLayout;Ae._redrawFromAutoMarginCount?Ae._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function D(Te,Ae){try{Te._fullLayout._paper.style("background",Ae)}catch(Ce){M.error(Ce)}}function O(Te,Ae){D(Te,h.combine(Ae,"white"))}function L(Te,Ae){if(!Te._context){Te._context=M.extendDeep({},v);var Ce=p.select("base");Te._context._baseUrl=Ce.size()&&Ce.attr("href")?window.location.href.split("#")[0]:""}var Re,Ne,ge,Me=Te._context;if(Ae){for(Ne=Object.keys(Ae),Re=0;Re<Ne.length;Re++)(ge=Ne[Re])!=="editable"&&ge!=="edits"&&ge in Me&&(ge==="setBackground"&&Ae[ge]==="opaque"?Me[ge]=O:Me[ge]=Ae[ge]);Ae.plot3dPixelRatio&&!Me.plotGlPixelRatio&&(Me.plotGlPixelRatio=Me.plot3dPixelRatio);var Ee=Ae.editable;if(Ee!==void 0)for(Me.editable=Ee,Ne=Object.keys(Me.edits),Re=0;Re<Ne.length;Re++)Me.edits[Ne[Re]]=Ee;if(Ae.edits)for(Ne=Object.keys(Ae.edits),Re=0;Re<Ne.length;Re++)(ge=Ne[Re])in Me.edits&&(Me.edits[ge]=Ae.edits[ge]);Me._exportedPlot=Ae._exportedPlot}Me.staticPlot&&(Me.editable=!1,Me.edits={},Me.autosizable=!1,Me.scrollZoom=!1,Me.doubleClick=!1,Me.showTips=!1,Me.showLink=!1,Me.displayModeBar=!1),Me.displayModeBar!=="hover"||n||(Me.displayModeBar=!0),Me.setBackground!=="transparent"&&typeof Me.setBackground=="function"||(Me.setBackground=D),Me._hasZeroHeight=Me._hasZeroHeight||Te.clientHeight===0,Me._hasZeroWidth=Me._hasZeroWidth||Te.clientWidth===0;var Fe=Me.scrollZoom,Le=Me._scrollZoom={};if(Fe===!0)Le.cartesian=1,Le.gl3d=1,Le.geo=1,Le.mapbox=1;else if(typeof Fe=="string"){var Ue=Fe.split("+");for(Re=0;Re<Ue.length;Re++)Le[Ue[Re]]=1}else Fe!==!1&&(Le.gl3d=1,Le.geo=1,Le.mapbox=1)}function R(Te,Ae){var Ce,Re,Ne=Ae+1,ge=[];for(Ce=0;Ce<Te.length;Ce++)(Re=Te[Ce])<0?ge.push(Ne+Re):ge.push(Re);return ge}function z(Te,Ae,Ce){var Re,Ne;for(Re=0;Re<Ae.length;Re++){if((Ne=Ae[Re])!==parseInt(Ne,10))throw new Error("all values in "+Ce+" must be integers");if(Ne>=Te.data.length||Ne<-Te.data.length)throw new Error(Ce+" must be valid indices for gd.data.");if(Ae.indexOf(Ne,Re+1)>-1||Ne>=0&&Ae.indexOf(-Te.data.length+Ne)>-1||Ne<0&&Ae.indexOf(Te.data.length+Ne)>-1)throw new Error("each index in "+Ce+" must be unique.")}}function q(Te,Ae,Ce){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(Ae===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Ae)||(Ae=[Ae]),z(Te,Ae,"currentIndices"),Ce===void 0||Array.isArray(Ce)||(Ce=[Ce]),Ce!==void 0&&z(Te,Ce,"newIndices"),Ce!==void 0&&Ae.length!==Ce.length)throw new Error("current and new indices must be of equal length.")}function N(Te,Ae,Ce,Re,Ne){(function(Ke,at,st,vt){var xt=M.isPlainObject(vt);if(!Array.isArray(Ke.data))throw new Error("gd.data must be an array");if(!M.isPlainObject(at))throw new Error("update must be a key:value object");if(st===void 0)throw new Error("indices must be an integer or array of integers");for(var gt in z(Ke,st,"indices"),at){if(!Array.isArray(at[gt])||at[gt].length!==st.length)throw new Error("attribute "+gt+" must be an array of length equal to indices array length");if(xt&&(!(gt in vt)||!Array.isArray(vt[gt])||vt[gt].length!==at[gt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(Te,Ae,Ce,Re);for(var ge=function(Ke,at,st,vt){var xt,gt,nt,et,At,Pt=M.isPlainObject(vt),Rt=[];for(var Et in Array.isArray(st)||(st=[st]),st=R(st,Ke.data.length-1),at)for(var Ye=0;Ye<st.length;Ye++){if(xt=Ke.data[st[Ye]],gt=(nt=b(xt,Et)).get(),et=at[Et][Ye],!M.isArrayOrTypedArray(et))throw new Error("attribute: "+Et+" index: "+Ye+" must be an array");if(!M.isArrayOrTypedArray(gt))throw new Error("cannot extend missing or non-array attribute: "+Et);if(gt.constructor!==et.constructor)throw new Error("cannot extend array with an array of a different type: "+Et);At=Pt?vt[Et][Ye]:vt,y(At)||(At=-1),Rt.push({prop:nt,target:gt,insert:et,maxp:Math.floor(At)})}return Rt}(Te,Ae,Ce,Re),Me={},Ee={},Fe=0;Fe<ge.length;Fe++){var Le=ge[Fe].prop,Ue=ge[Fe].maxp,Ge=Ne(ge[Fe].target,ge[Fe].insert,Ue);Le.set(Ge[0]),Array.isArray(Me[Le.astr])||(Me[Le.astr]=[]),Me[Le.astr].push(Ge[1]),Array.isArray(Ee[Le.astr])||(Ee[Le.astr]=[]),Ee[Le.astr].push(ge[Fe].target.length)}return{update:Me,maxPoints:Ee}}function V(Te,Ae){var Ce=new Te.constructor(Te.length+Ae.length);return Ce.set(Te),Ce.set(Ae,Te.length),Ce}function Z(Te,Ae,Ce,Re){Te=M.getGraphDiv(Te),T.clearPromiseQueue(Te);var Ne={};if(typeof Ae=="string")Ne[Ae]=Ce;else{if(!M.isPlainObject(Ae))return M.warn("Restyle fail.",Ae,Ce,Re),Promise.reject();Ne=M.extendFlat({},Ae),Re===void 0&&(Re=Ce)}Object.keys(Ne).length&&(Te.changed=!0);var ge=T.coerceTraceIndices(Te,Re),Me=ie(Te,Ne,ge),Ee=Me.flags;Ee.calc&&(Te.calcdata=void 0),Ee.clearAxisTypes&&T.clearAxisTypes(Te,ge,{});var Fe=[];Ee.fullReplot?Fe.push(x._doPlot):(Fe.push(r.previousPromises),r.supplyDefaults(Te),Ee.markerSize&&(r.doCalcdata(Te),Q(Fe)),Ee.style&&Fe.push(_.doTraceStyle),Ee.colorbars&&Fe.push(_.doColorBars),Fe.push(k)),Fe.push(r.rehover,r.redrag,r.reselect),s.add(Te,Z,[Te,Me.undoit,Me.traces],Z,[Te,Me.redoit,Me.traces]);var Le=M.syncOrAsync(Fe,Te);return Le&&Le.then||(Le=Promise.resolve()),Le.then(function(){return Te.emit("plotly_restyle",Me.eventData),Te})}function j(Te){return Te===void 0?null:Te}function H(Te,Ae){return Ae?function(Ce,Re,Ne){var ge=b(Ce,Re),Me=ge.set;return ge.set=function(Ee){Y((Ne||"")+Re,ge.get(),Ee,Te),Me(Ee)},ge}:b}function Y(Te,Ae,Ce,Re){if(Array.isArray(Ae)||Array.isArray(Ce))for(var Ne=Array.isArray(Ae)?Ae:[],ge=Array.isArray(Ce)?Ce:[],Me=Math.max(Ne.length,ge.length),Ee=0;Ee<Me;Ee++)Y(Te+"["+Ee+"]",Ne[Ee],ge[Ee],Re);else if(M.isPlainObject(Ae)||M.isPlainObject(Ce)){var Fe=M.isPlainObject(Ae)?Ae:{},Le=M.isPlainObject(Ce)?Ce:{},Ue=M.extendFlat({},Fe,Le);for(var Ge in Ue)Y(Te+"."+Ge,Fe[Ge],Le[Ge],Re)}else Re[Te]===void 0&&(Re[Te]=j(Ae))}function ie(Te,Ae,Ce){var Re,Ne=Te._fullLayout,ge=Te._fullData,Me=Te.data,Ee=Ne._guiEditing,Fe=H(Ne._preGUI,Ee),Le=M.extendDeepAll({},Ae);re(Ae);var Ue,Ge=A.traceFlags(),Ke={},at={};function st(){return Ce.map(function(){})}function vt(Ht){var Zt=i.id2name(Ht);Ue.indexOf(Zt)===-1&&Ue.push(Zt)}function xt(Ht){return"LAYOUT"+Ht+".autorange"}function gt(Ht){return"LAYOUT"+Ht+".range"}function nt(Ht){for(var Zt=Ht;Zt<ge.length;Zt++)if(ge[Zt]._input===Me[Ht])return ge[Zt]}function et(Ht,Zt,jt){if(Array.isArray(Ht))Ht.forEach(function(gn){et(gn,Zt,jt)});else if(!(Ht in Ae)&&!T.hasParent(Ae,Ht)){var Ln;if(Ht.substr(0,6)==="LAYOUT")Ln=Fe(Te.layout,Ht.replace("LAYOUT",""));else{var Tn=Ce[jt];Ln=H(Ne._tracePreGUI[nt(Tn)._fullInput.uid],Ee)(Me[Tn],Ht)}Ht in at||(at[Ht]=st()),at[Ht][jt]===void 0&&(at[Ht][jt]=j(Ln.get())),Zt!==void 0&&Ln.set(Zt)}}function At(Ht){return function(Zt){return ge[Zt][Ht]}}function Pt(Ht){return function(Zt,jt){return Zt===!1?ge[Ce[jt]][Ht]:null}}for(var Rt in Ae){if(T.hasParent(Ae,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");var Et,Ye,Xe,Ve,Ze,lt,it=Ae[Rt];if(Rt!=="autobinx"&&Rt!=="autobiny"||(Rt=Rt.charAt(Rt.length-1)+"bins",it=Array.isArray(it)?it.map(Pt(Rt)):it===!1?Ce.map(At(Rt)):null),Ke[Rt]=it,Rt.substr(0,6)!=="LAYOUT"){for(at[Rt]=st(),Re=0;Re<Ce.length;Re++)if(Et=Me[Ce[Re]],Ye=nt(Ce[Re]),Ve=(Xe=H(Ne._tracePreGUI[Ye._fullInput.uid],Ee)(Et,Rt)).get(),(Ze=Array.isArray(it)?it[Re%it.length]:it)!==void 0){var Be=Xe.parts[Xe.parts.length-1],je=Rt.substr(0,Rt.length-Be.length-1),ot=je?je+".":"",$e=je?b(Ye,je).get():Ye;if((lt=o.getTraceValObject(Ye,Xe.parts))&&lt.impliedEdits&&Ze!==null)for(var dt in lt.impliedEdits)et(M.relativeAttr(Rt,dt),lt.impliedEdits[dt],Re);else if(Be!=="thicknessmode"&&Be!=="lenmode"||Ve===Ze||Ze!=="fraction"&&Ze!=="pixels"||!$e){if(Rt==="type"&&(Ze==="pie"!=(Ve==="pie")||Ze==="funnelarea"!=(Ve==="funnelarea"))){var mt="x",yt="y";Ze!=="bar"&&Ve!=="bar"||Et.orientation!=="h"||(mt="y",yt="x"),M.swapAttrs(Et,["?","?src"],"labels",mt),M.swapAttrs(Et,["d?","?0"],"label",mt),M.swapAttrs(Et,["?","?src"],"values",yt),Ve==="pie"||Ve==="funnelarea"?(b(Et,"marker.color").set(b(Et,"marker.colors").get()),Ne._pielayer.selectAll("g.trace").remove()):t.traceIs(Et,"cartesian")&&b(Et,"marker.colors").set(b(Et,"marker.color").get())}}else{var ht=Ne._size,kt=$e.orient,bt=kt==="top"||kt==="bottom";if(Be==="thicknessmode"){var St=bt?ht.h:ht.w;et(ot+"thickness",$e.thickness*(Ze==="fraction"?1/St:St),Re)}else{var Lt=bt?ht.w:ht.h;et(ot+"len",$e.len*(Ze==="fraction"?1/Lt:Lt),Re)}}if(at[Rt][Re]=j(Ve),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Rt)!==-1){if(Rt==="orientation"){Xe.set(Ze);var Ot=Et.x&&!Et.y?"h":"v";if((Xe.get()||Ot)===Ye.orientation)continue}else Rt==="orientationaxes"&&(Et.orientation={v:"h",h:"v"}[Ye.orientation]);T.swapXYData(Et),Ge.calc=Ge.clearAxisTypes=!0}else r.dataArrayContainers.indexOf(Xe.parts[0])!==-1?(T.manageArrayContainers(Xe,Ze,at),Ge.calc=!0):(lt?lt.arrayOk&&!t.traceIs(Ye,"regl")&&(M.isArrayOrTypedArray(Ze)||M.isArrayOrTypedArray(Ve))?Ge.calc=!0:A.update(Ge,lt):Ge.calc=!0,Xe.set(Ze))}if(["swapxyaxes","orientationaxes"].indexOf(Rt)!==-1&&i.swap(Te,Ce),Rt==="orientationaxes"){var Ft=b(Te.layout,"hovermode"),$t=Ft.get();$t==="x"?Ft.set("y"):$t==="y"?Ft.set("x"):$t==="x unified"?Ft.set("y unified"):$t==="y unified"&&Ft.set("x unified")}if(["orientation","type"].indexOf(Rt)!==-1){for(Ue=[],Re=0;Re<Ce.length;Re++){var on=Me[Ce[Re]];t.traceIs(on,"cartesian")&&(vt(on.xaxis||"x"),vt(on.yaxis||"y"))}et(Ue.map(xt),!0,0),et(Ue.map(gt),[0,1],0)}}else Xe=Fe(Te.layout,Rt.replace("LAYOUT","")),at[Rt]=[j(Xe.get())],Xe.set(Array.isArray(it)?it[0]:it),Ge.calc=!0}return(Ge.calc||Ge.plot)&&(Ge.fullReplot=!0),{flags:Ge,undoit:at,redoit:Ke,traces:Ce,eventData:M.extendDeepNoArrays([],[Le,Ce])}}function re(Te){var Ae,Ce,Re,Ne=M.counterRegex("axis",".title",!1,!1),ge=/colorbar\.title$/,Me=Object.keys(Te);for(Ae=0;Ae<Me.length;Ae++)Ce=Me[Ae],Re=Te[Ce],Ce!=="title"&&!Ne.test(Ce)&&!ge.test(Ce)||typeof Re!="string"&&typeof Re!="number"?Ce.indexOf("titlefont")>-1&&Ce.indexOf("grouptitlefont")===-1?Ee(Ce,Ce.replace("titlefont","title.font")):Ce.indexOf("titleposition")>-1?Ee(Ce,Ce.replace("titleposition","title.position")):Ce.indexOf("titleside")>-1?Ee(Ce,Ce.replace("titleside","title.side")):Ce.indexOf("titleoffset")>-1&&Ee(Ce,Ce.replace("titleoffset","title.offset")):Ee(Ce,Ce.replace("title","title.text"));function Ee(Fe,Le){Te[Le]=Te[Fe],delete Te[Fe]}}function ne(Te,Ae,Ce){Te=M.getGraphDiv(Te),T.clearPromiseQueue(Te);var Re={};if(typeof Ae=="string")Re[Ae]=Ce;else{if(!M.isPlainObject(Ae))return M.warn("Relayout fail.",Ae,Ce),Promise.reject();Re=M.extendFlat({},Ae)}Object.keys(Re).length&&(Te.changed=!0);var Ne=le(Te,Re),ge=Ne.flags;ge.calc&&(Te.calcdata=void 0);var Me=[r.previousPromises];ge.layoutReplot?Me.push(_.layoutReplot):Object.keys(Re).length&&(ee(Te,ge,Ne)||r.supplyDefaults(Te),ge.legend&&Me.push(_.doLegend),ge.layoutstyle&&Me.push(_.layoutStyles),ge.axrange&&Q(Me,Ne.rangesAltered),ge.ticks&&Me.push(_.doTicksRelayout),ge.modebar&&Me.push(_.doModeBar),ge.camera&&Me.push(_.doCamera),ge.colorbars&&Me.push(_.doColorBars),Me.push(k)),Me.push(r.rehover,r.redrag,r.reselect),s.add(Te,ne,[Te,Ne.undoit],ne,[Te,Ne.redoit]);var Ee=M.syncOrAsync(Me,Te);return Ee&&Ee.then||(Ee=Promise.resolve(Te)),Ee.then(function(){return Te.emit("plotly_relayout",Ne.eventData),Te})}function ee(Te,Ae,Ce){var Re,Ne,ge=Te._fullLayout;if(!Ae.axrange)return!1;for(var Me in Ae)if(Me!=="axrange"&&Ae[Me])return!1;var Ee=function(at,st){return M.coerce(Re,Ne,l,at,st)},Fe={};for(var Le in Ce.rangesAltered){var Ue=i.id2name(Le);if(Re=Te.layout[Ue],Ne=ge[Ue],a(Re,Ne,Ee,Fe),Ne._matchGroup){for(var Ge in Ne._matchGroup)if(Ge!==Le){var Ke=ge[i.id2name(Ge)];Ke.autorange=Ne.autorange,Ke.range=Ne.range.slice(),Ke._input.range=Ne.range.slice()}}}return!0}function Q(Te,Ae){var Ce=Ae?function(Re){var Ne=[];for(var ge in Ae){var Me=i.getFromId(Re,ge);if(Ne.push(ge),(Me.ticklabelposition||"").indexOf("inside")!==-1&&Me._anchorAxis&&Ne.push(Me._anchorAxis._id),Me._matchGroup)for(var Ee in Me._matchGroup)Ae[Ee]||Ne.push(Ee)}return i.draw(Re,Ne,{skipTitle:!0})}:function(Re){return i.draw(Re,"redraw")};Te.push(g,_.doAutoRangeAndConstraints,Ce,_.drawData,_.finalDraw)}var X=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,se=/^[xyz]axis[0-9]*\.autorange$/,ce=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function le(Te,Ae){var Ce,Re,Ne,ge=Te.layout,Me=Te._fullLayout,Ee=Me._guiEditing,Fe=H(Me._preGUI,Ee),Le=Object.keys(Ae),Ue=i.list(Te),Ge=M.extendDeepAll({},Ae),Ke={};for(re(Ae),Le=Object.keys(Ae),Re=0;Re<Le.length;Re++)if(Le[Re].indexOf("allaxes")===0){for(Ne=0;Ne<Ue.length;Ne++){var at=Ue[Ne]._id.substr(1),st=at.indexOf("scene")!==-1?at+".":"",vt=Le[Re].replace("allaxes",st+Ue[Ne]._name);Ae[vt]||(Ae[vt]=Ae[Le[Re]])}delete Ae[Le[Re]]}var xt=A.layoutFlags(),gt={},nt={};function et(gn,Qt){if(Array.isArray(gn))gn.forEach(function(nn){et(nn,Qt)});else if(!(gn in Ae)&&!T.hasParent(Ae,gn)){var cn=Fe(ge,gn);gn in nt||(nt[gn]=j(cn.get())),Qt!==void 0&&cn.set(Qt)}}var At,Pt={};function Rt(gn){var Qt=i.name2id(gn.split(".")[0]);return Pt[Qt]=1,Qt}for(var Et in Ae){if(T.hasParent(Ae,Et))throw new Error("cannot set "+Et+" and a parent attribute simultaneously");for(var Ye=Fe(ge,Et),Xe=Ae[Et],Ve=Ye.parts.length-1;Ve>0&&typeof Ye.parts[Ve]!="string";)Ve--;var Ze=Ye.parts[Ve],lt=Ye.parts[Ve-1]+"."+Ze,it=Ye.parts.slice(0,Ve).join("."),Be=b(Te.layout,it).get(),je=b(Me,it).get(),ot=Ye.get();if(Xe!==void 0){gt[Et]=Xe,nt[Et]=Ze==="reverse"?Xe:j(ot);var $e=o.getLayoutValObject(Me,Ye.parts);if($e&&$e.impliedEdits&&Xe!==null)for(var dt in $e.impliedEdits)et(M.relativeAttr(Et,dt),$e.impliedEdits[dt]);if(["width","height"].indexOf(Et)!==-1)if(Xe){et("autosize",null);var mt=Et==="height"?"width":"height";et(mt,Me[mt])}else Me[Et]=Te._initialAutoSize[Et];else if(Et==="autosize")et("width",Xe?null:Me.width),et("height",Xe?null:Me.height);else if(lt.match(X))Rt(lt),b(Me,it+"._inputRange").set(null);else if(lt.match(se)){Rt(lt),b(Me,it+"._inputRange").set(null);var yt=b(Me,it).get();yt._inputDomain&&(yt._input.domain=yt._inputDomain.slice())}else lt.match(ce)&&b(Me,it+"._inputDomain").set(null);if(Ze==="type"){At=Be;var ht=je.type==="linear"&&Xe==="log",kt=je.type==="log"&&Xe==="linear";if(ht||kt){if(At&&At.range)if(je.autorange)ht&&(At.range=At.range[1]>At.range[0]?[1,2]:[2,1]);else{var bt=At.range[0],St=At.range[1];ht?(bt<=0&&St<=0&&et(it+".autorange",!0),bt<=0?bt=St/1e6:St<=0&&(St=bt/1e6),et(it+".range[0]",Math.log(bt)/Math.LN10),et(it+".range[1]",Math.log(St)/Math.LN10)):(et(it+".range[0]",Math.pow(10,bt)),et(it+".range[1]",Math.pow(10,St)))}else et(it+".autorange",!0);Array.isArray(Me._subplots.polar)&&Me._subplots.polar.length&&Me[Ye.parts[0]]&&Ye.parts[1]==="radialaxis"&&delete Me[Ye.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Te,je,Xe,et),t.getComponentMethod("images","convertCoords")(Te,je,Xe,et)}else et(it+".autorange",!0),et(it+".range",null);b(Me,it+"._inputRange").set(null)}else if(Ze.match(d)){var Lt=b(Me,Et).get(),Ot=(Xe||{}).type;Ot&&Ot!=="-"||(Ot="linear"),t.getComponentMethod("annotations","convertCoords")(Te,Lt,Ot,et),t.getComponentMethod("images","convertCoords")(Te,Lt,Ot,et)}var Ft=m.containerArrayMatch(Et);if(Ft){Ce=Ft.array,Re=Ft.index;var $t=Ft.property,on=$e||{editType:"calc"};Re!==""&&$t===""&&(m.isAddVal(Xe)?nt[Et]=null:m.isRemoveVal(Xe)?nt[Et]=(b(ge,Ce).get()||[])[Re]:M.warn("unrecognized full object value",Ae)),A.update(xt,on),Ke[Ce]||(Ke[Ce]={});var Ht=Ke[Ce][Re];Ht||(Ht=Ke[Ce][Re]={}),Ht[$t]=Xe,delete Ae[Et]}else Ze==="reverse"?(Be.range?Be.range.reverse():(et(it+".autorange",!0),Be.range=[1,0]),je.autorange?xt.calc=!0:xt.plot=!0):(Et==="dragmode"&&(Xe===!1&&ot!==!1||Xe!==!1&&ot===!1)||Me._has("scatter-like")&&Me._has("regl")&&Et==="dragmode"&&(Xe==="lasso"||Xe==="select")&&ot!=="lasso"&&ot!=="select"||Me._has("gl2d")?xt.plot=!0:$e?A.update(xt,$e):xt.calc=!0,Ye.set(Xe))}}for(Ce in Ke)m.applyContainerArrayChanges(Te,Fe(ge,Ce),Ke[Ce],xt,Fe)||(xt.plot=!0);for(var Zt in Pt){var jt=(At=i.getFromId(Te,Zt))&&At._constraintGroup;if(jt)for(var Ln in xt.calc=!0,jt)Pt[Ln]||(i.getFromId(Te,Ln)._constraintShrinkable=!0)}(de(Te)||Ae.height||Ae.width)&&(xt.plot=!0);var Tn=Me.shapes;for(Re=0;Re<Tn.length;Re++)if(Tn[Re].showlegend){xt.calc=!0;break}return(xt.plot||xt.calc)&&(xt.layoutReplot=!0),{flags:xt,rangesAltered:Pt,undoit:nt,redoit:gt,eventData:Ge}}function de(Te){var Ae=Te._fullLayout,Ce=Ae.width,Re=Ae.height;return Te.layout.autosize&&r.plotAutoSize(Te,Te.layout,Ae),Ae.width!==Ce||Ae.height!==Re}function be(Te,Ae,Ce,Re){Te=M.getGraphDiv(Te),T.clearPromiseQueue(Te),M.isPlainObject(Ae)||(Ae={}),M.isPlainObject(Ce)||(Ce={}),Object.keys(Ae).length&&(Te.changed=!0),Object.keys(Ce).length&&(Te.changed=!0);var Ne=T.coerceTraceIndices(Te,Re),ge=ie(Te,M.extendFlat({},Ae),Ne),Me=ge.flags,Ee=le(Te,M.extendFlat({},Ce)),Fe=Ee.flags;(Me.calc||Fe.calc)&&(Te.calcdata=void 0),Me.clearAxisTypes&&T.clearAxisTypes(Te,Ne,Ce);var Le=[];Fe.layoutReplot?Le.push(_.layoutReplot):Me.fullReplot?Le.push(x._doPlot):(Le.push(r.previousPromises),ee(Te,Fe,Ee)||r.supplyDefaults(Te),Me.style&&Le.push(_.doTraceStyle),(Me.colorbars||Fe.colorbars)&&Le.push(_.doColorBars),Fe.legend&&Le.push(_.doLegend),Fe.layoutstyle&&Le.push(_.layoutStyles),Fe.axrange&&Q(Le,Ee.rangesAltered),Fe.ticks&&Le.push(_.doTicksRelayout),Fe.modebar&&Le.push(_.doModeBar),Fe.camera&&Le.push(_.doCamera),Le.push(k)),Le.push(r.rehover,r.redrag,r.reselect),s.add(Te,be,[Te,ge.undoit,Ee.undoit,ge.traces],be,[Te,ge.redoit,Ee.redoit,ge.traces]);var Ue=M.syncOrAsync(Le,Te);return Ue&&Ue.then||(Ue=Promise.resolve(Te)),Ue.then(function(){return Te.emit("plotly_update",{data:ge.eventData,layout:Ee.eventData}),Te})}function _e(Te){return function(Ae){Ae._fullLayout._guiEditing=!0;var Ce=Te.apply(null,arguments);return Ae._fullLayout._guiEditing=!1,Ce}}var ve=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],me=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ye(Te,Ae){for(var Ce=0;Ce<Ae.length;Ce++){var Re=Ae[Ce],Ne=Te.match(Re.pattern);if(Ne){var ge=Ne[1]||"";return{head:ge,tail:Te.substr(ge.length+1),attr:Re.attr}}}}function Se(Te,Ae){var Ce=b(Ae,Te).get();if(Ce!==void 0)return Ce;var Re=Te.split(".");for(Re.pop();Re.length>1;)if(Re.pop(),(Ce=b(Ae,Re.join(".")+".uirevision").get())!==void 0)return Ce;return Ae.uirevision}function Ie(Te,Ae){for(var Ce=0;Ce<Ae.length;Ce++)if(Ae[Ce]._fullInput.uid===Te)return Ce;return-1}function xe(Te,Ae,Ce){for(var Re=0;Re<Ae.length;Re++)if(Ae[Re].uid===Te)return Re;return!Ae[Ce]||Ae[Ce].uid?-1:Ce}function ue(Te,Ae){var Ce=M.isPlainObject(Te),Re=Array.isArray(Te);return Ce||Re?(Ce&&M.isPlainObject(Ae)||Re&&Array.isArray(Ae))&&JSON.stringify(Te)===JSON.stringify(Ae):Te===Ae}function ae(Te,Ae,Ce,Re){var Ne,ge,Me,Ee=Re.getValObject,Fe=Re.flags,Le=Re.immutable,Ue=Re.inArray,Ge=Re.arrayIndex;function Ke(){var Be=Ne.editType;Ue&&Be.indexOf("arraydraw")!==-1?M.pushUnique(Fe.arrays[Ue],Ge):(A.update(Fe,Ne),Be!=="none"&&Fe.nChanges++,Re.transition&&Ne.anim&&Fe.nChangesAnim++,(X.test(Me)||se.test(Me))&&(Fe.rangesAltered[Ce[0]]=1),ce.test(Me)&&b(Ae,"_inputDomain").set(null),ge==="datarevision"&&(Fe.newDataRevision=1))}function at(Be){return Be.valType==="data_array"||Be.arrayOk}for(ge in Te){if(Fe.calc&&!Re.transition)return;var st=Te[ge],vt=Ae[ge],xt=Ce.concat(ge);if(Me=xt.join("."),ge.charAt(0)!=="_"&&typeof st!="function"&&st!==vt){if((ge==="tick0"||ge==="dtick")&&Ce[0]!=="geo"){var gt=Ae.tickmode;if(gt==="auto"||gt==="array"||!gt)continue}if((ge!=="range"||!Ae.autorange)&&(ge!=="zmin"&&ge!=="zmax"||Ae.type!=="contourcarpet")&&(Ne=Ee(xt))&&(!Ne._compareAsJSON||JSON.stringify(st)!==JSON.stringify(vt))){var nt,et=Ne.valType,At=at(Ne),Pt=Array.isArray(st),Rt=Array.isArray(vt);if(Pt&&Rt){var Et="_input_"+ge,Ye=Te[Et],Xe=Ae[Et];if(Array.isArray(Ye)&&Ye===Xe)continue}if(vt===void 0)At&&Pt?Fe.calc=!0:Ke();else if(Ne._isLinkedToArray){var Ve=[],Ze=!1;Ue||(Fe.arrays[ge]=Ve);var lt=Math.min(st.length,vt.length),it=Math.max(st.length,vt.length);if(lt!==it){if(Ne.editType!=="arraydraw"){Ke();continue}Ze=!0}for(nt=0;nt<lt;nt++)ae(st[nt],vt[nt],xt.concat(nt),M.extendFlat({inArray:ge,arrayIndex:nt},Re));if(Ze)for(nt=lt;nt<it;nt++)Ve.push(nt)}else!et&&M.isPlainObject(st)?ae(st,vt,xt,Re):At?Pt&&Rt?(Le&&(Fe.calc=!0),(Le||Re.newDataRevision)&&Ke()):Pt!==Rt?Fe.calc=!0:Ke():Pt&&Rt&&st.length===vt.length&&String(st)===String(vt)||Ke()}}}for(ge in Ae)if(!(ge in Te)&&ge.charAt(0)!=="_"&&typeof Ae[ge]!="function"){if(at(Ne=Ee(Ce.concat(ge)))&&Array.isArray(Ae[ge]))return void(Fe.calc=!0);Ke()}}function pe(Te,Ae){var Ce;for(Ce in Te)if(Ce.charAt(0)!=="_"){var Re=Te[Ce],Ne=Ae[Ce];if(Re!==Ne)if(M.isPlainObject(Re)&&M.isPlainObject(Ne)){if(pe(Re,Ne))return!0}else{if(!Array.isArray(Re)||!Array.isArray(Ne)||Re.length!==Ne.length)return!0;for(var ge=0;ge<Re.length;ge++)if(Re[ge]!==Ne[ge]&&(!M.isPlainObject(Re[ge])||!M.isPlainObject(Ne[ge])||pe(Re[ge],Ne[ge])))return!0}}}function De(Te){var Ae=Te._fullLayout,Ce=Te.getBoundingClientRect();if(!M.equalDomRects(Ce,Ae._lastBBox)){var Re=Ae._invTransform=M.inverseTransformMatrix(M.getFullTransformMatrix(Te));Ae._invScaleX=Math.sqrt(Re[0][0]*Re[0][0]+Re[0][1]*Re[0][1]+Re[0][2]*Re[0][2]),Ae._invScaleY=Math.sqrt(Re[1][0]*Re[1][0]+Re[1][1]*Re[1][1]+Re[1][2]*Re[1][2]),Ae._lastBBox=Ce}}x.animate=function(Te,Ae,Ce){if(Te=M.getGraphDiv(Te),!M.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Re=Te._transitionData;Re._frameQueue||(Re._frameQueue=[]);var Ne=(Ce=r.supplyAnimationDefaults(Ce)).transition,ge=Ce.frame;function Me(Le){return Array.isArray(Ne)?Le>=Ne.length?Ne[0]:Ne[Le]:Ne}function Ee(Le){return Array.isArray(ge)?Le>=ge.length?ge[0]:ge[Le]:ge}function Fe(Le,Ue){var Ge=0;return function(){if(Le&&++Ge===Ue)return Le()}}return Re._frameWaitingCnt===void 0&&(Re._frameWaitingCnt=0),new Promise(function(Le,Ue){function Ge(){Te.emit("plotly_animating"),Re._lastFrameAt=-1/0,Re._timeToNext=0,Re._runningTransitions=0,Re._currentFrame=null;var Et=function(){Re._animationRaf=window.requestAnimationFrame(Et),Date.now()-Re._lastFrameAt>Re._timeToNext&&function(){Re._currentFrame&&Re._currentFrame.onComplete&&Re._currentFrame.onComplete();var Ye=Re._currentFrame=Re._frameQueue.shift();if(Ye){var Xe=Ye.name?Ye.name.toString():null;Te._fullLayout._currentFrame=Xe,Re._lastFrameAt=Date.now(),Re._timeToNext=Ye.frameOpts.duration,r.transition(Te,Ye.frame.data,Ye.frame.layout,T.coerceTraceIndices(Te,Ye.frame.traces),Ye.frameOpts,Ye.transitionOpts).then(function(){Ye.onComplete&&Ye.onComplete()}),Te.emit("plotly_animatingframe",{name:Xe,frame:Ye.frame,animation:{frame:Ye.frameOpts,transition:Ye.transitionOpts}})}else Te.emit("plotly_animated"),window.cancelAnimationFrame(Re._animationRaf),Re._animationRaf=null}()};Et()}var Ke,at,st=0;function vt(Et){return Array.isArray(Ne)?st>=Ne.length?Et.transitionOpts=Ne[st]:Et.transitionOpts=Ne[0]:Et.transitionOpts=Ne,st++,Et}var xt=[],gt=Ae==null,nt=Array.isArray(Ae);if(gt||nt||!M.isPlainObject(Ae)){if(gt||["string","number"].indexOf(typeof Ae)!==-1)for(Ke=0;Ke<Re._frames.length;Ke++)(at=Re._frames[Ke])&&(gt||String(at.group)===String(Ae))&&xt.push({type:"byname",name:String(at.name),data:vt({name:at.name})});else if(nt)for(Ke=0;Ke<Ae.length;Ke++){var et=Ae[Ke];["number","string"].indexOf(typeof et)!==-1?(et=String(et),xt.push({type:"byname",name:et,data:vt({name:et})})):M.isPlainObject(et)&&xt.push({type:"object",data:vt(M.extendFlat({},et))})}}else xt.push({type:"object",data:vt(M.extendFlat({},Ae))});for(Ke=0;Ke<xt.length;Ke++)if((at=xt[Ke]).type==="byname"&&!Re._frameHash[at.data.name])return M.warn('animate failure: frame not found: "'+at.data.name+'"'),void Ue();["next","immediate"].indexOf(Ce.mode)!==-1&&function(){if(Re._frameQueue.length!==0){for(;Re._frameQueue.length;){var Et=Re._frameQueue.pop();Et.onInterrupt&&Et.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}(),Ce.direction==="reverse"&&xt.reverse();var At=Te._fullLayout._currentFrame;if(At&&Ce.fromcurrent){var Pt=-1;for(Ke=0;Ke<xt.length;Ke++)if((at=xt[Ke]).type==="byname"&&at.name===At){Pt=Ke;break}if(Pt>0&&Pt<xt.length-1){var Rt=[];for(Ke=0;Ke<xt.length;Ke++)at=xt[Ke],(xt[Ke].type!=="byname"||Ke>Pt)&&Rt.push(at);xt=Rt}}xt.length>0?function(Et){if(Et.length!==0){for(var Ye=0;Ye<Et.length;Ye++){var Xe;Xe=Et[Ye].type==="byname"?r.computeFrame(Te,Et[Ye].name):Et[Ye].data;var Ve=Ee(Ye),Ze=Me(Ye);Ze.duration=Math.min(Ze.duration,Ve.duration);var lt={frame:Xe,name:Et[Ye].name,frameOpts:Ve,transitionOpts:Ze};Ye===Et.length-1&&(lt.onComplete=Fe(Le,2),lt.onInterrupt=Ue),Re._frameQueue.push(lt)}Ce.mode==="immediate"&&(Re._lastFrameAt=-1/0),Re._animationRaf||Ge()}}(xt):(Te.emit("plotly_animated"),Le())})},x.addFrames=function(Te,Ae,Ce){if(Te=M.getGraphDiv(Te),Ae==null)return Promise.resolve();if(!M.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Re,Ne,ge,Me,Ee=Te._transitionData._frames,Fe=Te._transitionData._frameHash;if(!Array.isArray(Ae))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ae);var Le=Ee.length+2*Ae.length,Ue=[],Ge={};for(Re=Ae.length-1;Re>=0;Re--)if(M.isPlainObject(Ae[Re])){var Ke=Ae[Re].name,at=(Fe[Ke]||Ge[Ke]||{}).name,st=Ae[Re].name,vt=Fe[at]||Ge[at];at&&st&&typeof st=="number"&&vt&&C<5&&(C++,M.warn('addFrames: overwriting frame "'+(Fe[at]||Ge[at]).name+'" with a frame whose name of type "number" also equates to "'+at+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),C===5&&M.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ge[Ke]={name:Ke},Ue.push({frame:r.supplyFrameDefaults(Ae[Re]),index:Ce&&Ce[Re]!==void 0&&Ce[Re]!==null?Ce[Re]:Le+Re})}Ue.sort(function(Et,Ye){return Et.index>Ye.index?-1:Et.index<Ye.index?1:0});var xt=[],gt=[],nt=Ee.length;for(Re=Ue.length-1;Re>=0;Re--){if(typeof(Ne=Ue[Re].frame).name=="number"&&M.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ne.name)for(;Fe[Ne.name="frame "+Te._transitionData._counter++];);if(Fe[Ne.name]){for(ge=0;ge<Ee.length&&(Ee[ge]||{}).name!==Ne.name;ge++);xt.push({type:"replace",index:ge,value:Ne}),gt.unshift({type:"replace",index:ge,value:Ee[ge]})}else Me=Math.max(0,Math.min(Ue[Re].index,nt)),xt.push({type:"insert",index:Me,value:Ne}),gt.unshift({type:"delete",index:Me}),nt++}var et=r.modifyFrames,At=r.modifyFrames,Pt=[Te,gt],Rt=[Te,xt];return s&&s.add(Te,et,Pt,At,Rt),r.modifyFrames(Te,xt)},x.deleteFrames=function(Te,Ae){if(Te=M.getGraphDiv(Te),!M.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Ce,Re,Ne=Te._transitionData._frames,ge=[],Me=[];if(!Ae)for(Ae=[],Ce=0;Ce<Ne.length;Ce++)Ae.push(Ce);for((Ae=Ae.slice()).sort(),Ce=Ae.length-1;Ce>=0;Ce--)Re=Ae[Ce],ge.push({type:"delete",index:Re}),Me.unshift({type:"insert",index:Re,value:Ne[Re]});var Ee=r.modifyFrames,Fe=r.modifyFrames,Le=[Te,Me],Ue=[Te,ge];return s&&s.add(Te,Ee,Le,Fe,Ue),r.modifyFrames(Te,ge)},x.addTraces=function Te(Ae,Ce,Re){Ae=M.getGraphDiv(Ae);var Ne,ge,Me=[],Ee=x.deleteTraces,Fe=Te,Le=[Ae,Me],Ue=[Ae,Ce];for(function(Ge,Ke,at){var st,vt;if(!Array.isArray(Ge.data))throw new Error("gd.data must be an array.");if(Ke===void 0)throw new Error("traces must be defined.");for(Array.isArray(Ke)||(Ke=[Ke]),st=0;st<Ke.length;st++)if(typeof(vt=Ke[st])!="object"||Array.isArray(vt)||vt===null)throw new Error("all values in traces array must be non-array objects");if(at===void 0||Array.isArray(at)||(at=[at]),at!==void 0&&at.length!==Ke.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Ae,Ce,Re),Array.isArray(Ce)||(Ce=[Ce]),Ce=Ce.map(function(Ge){return M.extendFlat({},Ge)}),T.cleanData(Ce),Ne=0;Ne<Ce.length;Ne++)Ae.data.push(Ce[Ne]);for(Ne=0;Ne<Ce.length;Ne++)Me.push(-Ce.length+Ne);if(Re===void 0)return ge=x.redraw(Ae),s.add(Ae,Ee,Le,Fe,Ue),ge;Array.isArray(Re)||(Re=[Re]);try{q(Ae,Me,Re)}catch(Ge){throw Ae.data.splice(Ae.data.length-Ce.length,Ce.length),Ge}return s.startSequence(Ae),s.add(Ae,Ee,Le,Fe,Ue),ge=x.moveTraces(Ae,Me,Re),s.stopSequence(Ae),ge},x.deleteTraces=function Te(Ae,Ce){Ae=M.getGraphDiv(Ae);var Re,Ne,ge=[],Me=x.addTraces,Ee=Te,Fe=[Ae,ge,Ce],Le=[Ae,Ce];if(Ce===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ce)||(Ce=[Ce]),z(Ae,Ce,"indices"),(Ce=R(Ce,Ae.data.length-1)).sort(M.sorterDes),Re=0;Re<Ce.length;Re+=1)Ne=Ae.data.splice(Ce[Re],1)[0],ge.push(Ne);var Ue=x.redraw(Ae);return s.add(Ae,Me,Fe,Ee,Le),Ue},x.extendTraces=function Te(Ae,Ce,Re,Ne){var ge=N(Ae=M.getGraphDiv(Ae),Ce,Re,Ne,function(Fe,Le,Ue){var Ge,Ke;if(M.isTypedArray(Fe))if(Ue<0){var at=new Fe.constructor(0),st=V(Fe,Le);Ue<0?(Ge=st,Ke=at):(Ge=at,Ke=st)}else if(Ge=new Fe.constructor(Ue),Ke=new Fe.constructor(Fe.length+Le.length-Ue),Ue===Le.length)Ge.set(Le),Ke.set(Fe);else if(Ue<Le.length){var vt=Le.length-Ue;Ge.set(Le.subarray(vt)),Ke.set(Fe),Ke.set(Le.subarray(0,vt),Fe.length)}else{var xt=Ue-Le.length,gt=Fe.length-xt;Ge.set(Fe.subarray(gt)),Ge.set(Le,xt),Ke.set(Fe.subarray(0,gt))}else Ge=Fe.concat(Le),Ke=Ue>=0&&Ue<Ge.length?Ge.splice(0,Ge.length-Ue):[];return[Ge,Ke]}),Me=x.redraw(Ae),Ee=[Ae,ge.update,Re,ge.maxPoints];return s.add(Ae,x.prependTraces,Ee,Te,arguments),Me},x.moveTraces=function Te(Ae,Ce,Re){var Ne,ge=[],Me=[],Ee=Te,Fe=Te,Le=[Ae=M.getGraphDiv(Ae),Re,Ce],Ue=[Ae,Ce,Re];if(q(Ae,Ce,Re),Ce=Array.isArray(Ce)?Ce:[Ce],Re===void 0)for(Re=[],Ne=0;Ne<Ce.length;Ne++)Re.push(-Ce.length+Ne);for(Re=Array.isArray(Re)?Re:[Re],Ce=R(Ce,Ae.data.length-1),Re=R(Re,Ae.data.length-1),Ne=0;Ne<Ae.data.length;Ne++)Ce.indexOf(Ne)===-1&&ge.push(Ae.data[Ne]);for(Ne=0;Ne<Ce.length;Ne++)Me.push({newIndex:Re[Ne],trace:Ae.data[Ce[Ne]]});for(Me.sort(function(Ke,at){return Ke.newIndex-at.newIndex}),Ne=0;Ne<Me.length;Ne+=1)ge.splice(Me[Ne].newIndex,0,Me[Ne].trace);Ae.data=ge;var Ge=x.redraw(Ae);return s.add(Ae,Ee,Le,Fe,Ue),Ge},x.prependTraces=function Te(Ae,Ce,Re,Ne){var ge=N(Ae=M.getGraphDiv(Ae),Ce,Re,Ne,function(Fe,Le,Ue){var Ge,Ke;if(M.isTypedArray(Fe))if(Ue<=0){var at=new Fe.constructor(0),st=V(Le,Fe);Ue<0?(Ge=st,Ke=at):(Ge=at,Ke=st)}else if(Ge=new Fe.constructor(Ue),Ke=new Fe.constructor(Fe.length+Le.length-Ue),Ue===Le.length)Ge.set(Le),Ke.set(Fe);else if(Ue<Le.length){var vt=Le.length-Ue;Ge.set(Le.subarray(0,vt)),Ke.set(Le.subarray(vt)),Ke.set(Fe,vt)}else{var xt=Ue-Le.length;Ge.set(Le),Ge.set(Fe.subarray(0,xt),Le.length),Ke.set(Fe.subarray(xt))}else Ge=Le.concat(Fe),Ke=Ue>=0&&Ue<Ge.length?Ge.splice(Ue,Ge.length):[];return[Ge,Ke]}),Me=x.redraw(Ae),Ee=[Ae,ge.update,Re,ge.maxPoints];return s.add(Ae,x.extendTraces,Ee,Te,arguments),Me},x.newPlot=function(Te,Ae,Ce,Re){return Te=M.getGraphDiv(Te),r.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),r.purge(Te),x._doPlot(Te,Ae,Ce,Re)},x._doPlot=function(Te,Ae,Ce,Re){var Ne;if(Te=M.getGraphDiv(Te),f.init(Te),M.isPlainObject(Ae)){var ge=Ae;Ae=ge.data,Ce=ge.layout,Re=ge.config,Ne=ge.frames}if(f.triggerHandler(Te,"plotly_beforeplot",[Ae,Ce,Re])===!1)return Promise.reject();Ae||Ce||M.isPlotDiv(Te)||M.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te),L(Te,Re),Ce||(Ce={}),p.select(Te).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var Me=(Te.data||[]).length===0&&Array.isArray(Ae);Array.isArray(Ae)&&(T.cleanData(Ae),Me?Te.data=Ae:Te.data.push.apply(Te.data,Ae),Te.empty=!1),Te.layout&&!Me||(Te.layout=T.cleanLayout(Ce)),r.supplyDefaults(Te);var Ee=Te._fullLayout,Fe=Ee._has("cartesian");Ee._replotting=!0,(Me||Ee._shouldCreateBgLayer)&&(function(gt){var nt=p.select(gt),et=gt._fullLayout;if(et._calcInverseTransform=De,et._calcInverseTransform(gt),et._container=nt.selectAll(".plot-container").data([0]),et._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),et._paperdiv=et._container.selectAll(".svg-container").data([0]),et._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),et._glcontainer=et._paperdiv.selectAll(".gl-container").data([{}]),et._glcontainer.enter().append("div").classed("gl-container",!0),et._paperdiv.selectAll(".main-svg").remove(),et._paperdiv.select(".modebar-container").remove(),et._paper=et._paperdiv.insert("svg",":first-child").classed("main-svg",!0),et._toppaper=et._paperdiv.append("svg").classed("main-svg",!0),et._modebardiv=et._paperdiv.append("div"),delete et._modeBar,et._hoverpaper=et._paperdiv.append("svg").classed("main-svg",!0),!et._uid){var At={};p.selectAll("defs").each(function(){this.id&&(At[this.id.split("-")[1]]=1)}),et._uid=M.randstr(At)}et._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),et._defs=et._paper.append("defs").attr("id","defs-"+et._uid),et._clips=et._defs.append("g").classed("clips",!0),et._topdefs=et._toppaper.append("defs").attr("id","topdefs-"+et._uid),et._topclips=et._topdefs.append("g").classed("clips",!0),et._bgLayer=et._paper.append("g").classed("bglayer",!0),et._draggers=et._paper.append("g").classed("draglayer",!0);var Pt=et._paper.append("g").classed("layer-below",!0);et._imageLowerLayer=Pt.append("g").classed("imagelayer",!0),et._shapeLowerLayer=Pt.append("g").classed("shapelayer",!0),et._cartesianlayer=et._paper.append("g").classed("cartesianlayer",!0),et._polarlayer=et._paper.append("g").classed("polarlayer",!0),et._smithlayer=et._paper.append("g").classed("smithlayer",!0),et._ternarylayer=et._paper.append("g").classed("ternarylayer",!0),et._geolayer=et._paper.append("g").classed("geolayer",!0),et._funnelarealayer=et._paper.append("g").classed("funnelarealayer",!0),et._pielayer=et._paper.append("g").classed("pielayer",!0),et._iciclelayer=et._paper.append("g").classed("iciclelayer",!0),et._treemaplayer=et._paper.append("g").classed("treemaplayer",!0),et._sunburstlayer=et._paper.append("g").classed("sunburstlayer",!0),et._indicatorlayer=et._toppaper.append("g").classed("indicatorlayer",!0),et._glimages=et._paper.append("g").classed("glimages",!0);var Rt=et._toppaper.append("g").classed("layer-above",!0);et._imageUpperLayer=Rt.append("g").classed("imagelayer",!0),et._shapeUpperLayer=Rt.append("g").classed("shapelayer",!0),et._selectionLayer=et._toppaper.append("g").classed("selectionlayer",!0),et._infolayer=et._toppaper.append("g").classed("infolayer",!0),et._menulayer=et._toppaper.append("g").classed("menulayer",!0),et._zoomlayer=et._toppaper.append("g").classed("zoomlayer",!0),et._hoverlayer=et._hoverpaper.append("g").classed("hoverlayer",!0),et._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),gt.emit("plotly_framework")}(Te),Ee._shouldCreateBgLayer&&delete Ee._shouldCreateBgLayer),u.initGradients(Te),u.initPatterns(Te),Me&&i.saveShowSpikeInitial(Te);var Le=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;Le&&r.doCalcdata(Te);for(var Ue=0;Ue<Te.calcdata.length;Ue++)Te.calcdata[Ue][0].trace=Te._fullData[Ue];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){M.isHidden(Te)||r.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):M.clearResponsive(Te);var Ge=M.extendFlat({},Ee._size),Ke=0;function at(){if(r.clearAutoMarginIds(Te),_.drawMarginPushers(Te),i.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&r.allowAutoMargin(Te,"title.automargin"),Ee._has("pie"))for(var gt=Te._fullData,nt=0;nt<gt.length;nt++){var et=gt[nt];et.type==="pie"&&et.automargin&&r.allowAutoMargin(Te,"pie."+et.uid+".automargin")}return r.doAutoMargin(Te),r.previousPromises(Te)}function st(){Te._transitioning||(_.doAutoRangeAndConstraints(Te),Me&&i.saveRangeInitial(Te),t.getComponentMethod("rangeslider","calcAutorange")(Te))}var vt=[r.previousPromises,function(){if(Ne)return x.addFrames(Te,Ne)},function gt(){for(var nt=Ee._basePlotModules,et=0;et<nt.length;et++)nt[et].drawFramework&&nt[et].drawFramework(Te);!Ee._glcanvas&&Ee._has("gl")&&(Ee._glcanvas=Ee._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Et){return Et.key}),Ee._glcanvas.enter().append("canvas").attr("class",function(Et){return"gl-canvas gl-canvas-"+Et.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var At=Te._context.plotGlPixelRatio;if(Ee._glcanvas){Ee._glcanvas.attr("width",Ee.width*At).attr("height",Ee.height*At).style("width",Ee.width+"px").style("height",Ee.height+"px");var Pt=Ee._glcanvas.data()[0].regl;if(Pt&&(Math.floor(Ee.width*At)!==Pt._gl.drawingBufferWidth||Math.floor(Ee.height*At)!==Pt._gl.drawingBufferHeight)){var Rt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ke)return M.log(Rt+" Clearing graph and plotting again."),r.cleanPlot([],{},Te._fullData,Ee),r.supplyDefaults(Te),Ee=Te._fullLayout,r.doCalcdata(Te),Ke++,gt();M.error(Rt)}}return Ee.modebar.orientation==="h"?Ee._modebardiv.style("height",null).style("width","100%"):Ee._modebardiv.style("width",null).style("height",Ee.height+"px"),r.previousPromises(Te)},at,function(){if(r.didMarginChange(Ge,Ee._size))return M.syncOrAsync([at,_.layoutStyles],Te)}];Fe&&vt.push(function(){if(Le)return M.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),st],Te);st()}),vt.push(_.layoutStyles),Fe&&vt.push(function(){return i.draw(Te,Me?"":"redraw")},function(gt){var nt=gt._fullLayout._insideTickLabelsUpdaterange;if(nt)return gt._fullLayout._insideTickLabelsUpdaterange=void 0,ne(gt,nt).then(function(){i.saveRangeInitial(gt,!0)})}),vt.push(_.drawData,_.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var xt=M.syncOrAsync(vt,Te);return xt&&xt.then||(xt=Promise.resolve()),xt.then(function(){return k(Te),Te})},x.purge=function(Te){var Ae=(Te=M.getGraphDiv(Te))._fullLayout||{},Ce=Te._fullData||[];return r.cleanPlot([],{},Ce,Ae),r.purge(Te),f.purge(Te),Ae._container&&Ae._container.remove(),delete Te._context,Te},x.react=function(Te,Ae,Ce,Re){var Ne,ge;Te=M.getGraphDiv(Te),T.clearPromiseQueue(Te);var Me=Te._fullData,Ee=Te._fullLayout;if(M.isPlotDiv(Te)&&Me&&Ee){if(M.isPlainObject(Ae)){var Fe=Ae;Ae=Fe.data,Ce=Fe.layout,Re=Fe.config,Ne=Fe.frames}var Le=!1;if(Re){var Ue=M.extendDeep({},Te._context);Te._context=void 0,L(Te,Re),Le=pe(Ue,Te._context)}Te.data=Ae||[],T.cleanData(Te.data),Te.layout=Ce||{},T.cleanLayout(Te.layout),function(it,Be,je,ot){var $e,dt,mt,yt,ht,kt,bt,St,Lt,Ot,Ft=ot._preGUI,$t=[],on={},Ht={};for($e in Ft){if(ht=ye($e,ve)){if(Lt=ht.head,Ot=ht.tail,dt=ht.attr||Lt+".uirevision",(yt=(mt=b(ot,dt).get())&&Se(dt,Be))&&yt===mt){if((kt=Ft[$e])===null&&(kt=void 0),ue(St=(bt=b(Be,$e)).get(),kt)){St===void 0&&Ot==="autorange"&&$t.push(Lt),bt.set(j(b(ot,$e).get()));continue}if(Ot==="autorange"||Ot.substr(0,6)==="range["){var Zt=Ft[Lt+".range[0]"],jt=Ft[Lt+".range[1]"],Ln=Ft[Lt+".autorange"];if(Ln||Ln===null&&Zt===null&&jt===null){if(!(Lt in on)){var Tn=b(Be,Lt).get();on[Lt]=Tn&&(Tn.autorange||Tn.autorange!==!1&&(!Tn.range||Tn.range.length!==2))}if(on[Lt]){bt.set(j(b(ot,$e).get()));continue}}}}}else M.warn("unrecognized GUI edit: "+$e);delete Ft[$e],ht&&ht.tail.substr(0,6)==="range["&&(Ht[ht.head]=1)}for(var gn=0;gn<$t.length;gn++){var Qt=$t[gn];if(Ht[Qt]){var cn=b(Be,Qt).get();cn&&delete cn.autorange}}var nn=ot._tracePreGUI;for(var hn in nn){var bn,wn=nn[hn],En=null;for($e in wn){if(!En){var Dn=Ie(hn,je);if(Dn<0){delete nn[hn];break}var kn=xe(hn,it,(bn=je[Dn]._fullInput).index);if(kn<0){delete nn[hn];break}En=it[kn]}if(ht=ye($e,me)){if(ht.attr?yt=(mt=b(ot,ht.attr).get())&&Se(ht.attr,Be):(mt=bn.uirevision,(yt=En.uirevision)===void 0&&(yt=Be.uirevision)),yt&&yt===mt&&((kt=wn[$e])===null&&(kt=void 0),ue(St=(bt=b(En,$e)).get(),kt))){bt.set(j(b(bn,$e).get()));continue}}else M.warn("unrecognized GUI edit: "+$e+" in trace uid "+hn);delete wn[$e]}}}(Te.data,Te.layout,Me,Ee),r.supplyDefaults(Te,{skipUpdateCalc:!0});var Ge=Te._fullData,Ke=Te._fullLayout,at=Ke.datarevision===void 0,st=Ke.transition,vt=function(it,Be,je,ot,$e){var dt=A.layoutFlags();return dt.arrays={},dt.rangesAltered={},dt.nChanges=0,dt.nChangesAnim=0,ae(Be,je,[],{getValObject:function(mt){return o.getLayoutValObject(je,mt)},flags:dt,immutable:ot,transition:$e,gd:it}),(dt.plot||dt.calc)&&(dt.layoutReplot=!0),$e&&dt.nChanges&&dt.nChangesAnim&&(dt.anim=dt.nChanges===dt.nChangesAnim?"all":"some"),dt}(Te,Ee,Ke,at,st),xt=vt.newDataRevision,gt=function(it,Be,je,ot,$e,dt){var mt=Be.length===je.length;if(!$e&&!mt)return{fullReplot:!0,calc:!0};var yt,ht,kt=A.traceFlags();kt.arrays={},kt.nChanges=0,kt.nChangesAnim=0;var bt={getValObject:function(Lt){var Ot=o.getTraceValObject(ht,Lt);return!ht._module.animatable&&Ot.anim&&(Ot.anim=!1),Ot},flags:kt,immutable:ot,transition:$e,newDataRevision:dt,gd:it},St={};for(yt=0;yt<Be.length;yt++)if(je[yt]){if(ht=je[yt]._fullInput,r.hasMakesDataTransform(ht)&&(ht=je[yt]),St[ht.uid])continue;St[ht.uid]=1,ae(Be[yt]._fullInput,ht,[],bt)}return(kt.calc||kt.plot)&&(kt.fullReplot=!0),$e&&kt.nChanges&&kt.nChangesAnim&&(kt.anim=kt.nChanges===kt.nChangesAnim&&mt?"all":"some"),kt}(Te,Me,Ge,at,st,xt);if(de(Te)&&(vt.layoutReplot=!0),gt.calc||vt.calc){Te.calcdata=void 0;for(var nt=Object.getOwnPropertyNames(Ke),et=0;et<nt.length;et++){var At=nt[et],Pt=At.substring(0,5);if(Pt==="xaxis"||Pt==="yaxis"){var Rt=Ke[At]._emptyCategories;Rt&&Rt()}}}else r.supplyDefaultsUpdateCalc(Te.calcdata,Ge);var Et=[];if(Ne&&(Te._transitionData={},r.createTransitionData(Te),Et.push(function(){return x.addFrames(Te,Ne)})),Ke.transition&&!Le&&(gt.anim||vt.anim))vt.ticks&&Et.push(_.doTicksRelayout),r.doCalcdata(Te),_.doAutoRangeAndConstraints(Te),Et.push(function(){return r.transitionFromReact(Te,gt,vt,Ee)});else if(gt.fullReplot||vt.layoutReplot||Le)Te._fullLayout._skipDefaults=!0,Et.push(x._doPlot);else{for(var Ye in vt.arrays){var Xe=vt.arrays[Ye];if(Xe.length){var Ve=t.getComponentMethod(Ye,"drawOne");if(Ve!==M.noop)for(var Ze=0;Ze<Xe.length;Ze++)Ve(Te,Xe[Ze]);else{var lt=t.getComponentMethod(Ye,"draw");if(lt===M.noop)throw new Error("cannot draw components: "+Ye);lt(Te)}}}Et.push(r.previousPromises),gt.style&&Et.push(_.doTraceStyle),(gt.colorbars||vt.colorbars)&&Et.push(_.doColorBars),vt.legend&&Et.push(_.doLegend),vt.layoutstyle&&Et.push(_.layoutStyles),vt.axrange&&Q(Et),vt.ticks&&Et.push(_.doTicksRelayout),vt.modebar&&Et.push(_.doModeBar),vt.camera&&Et.push(_.doCamera),Et.push(k)}Et.push(r.rehover,r.redrag,r.reselect),(ge=M.syncOrAsync(Et,Te))&&ge.then||(ge=Promise.resolve(Te))}else ge=x.newPlot(Te,Ae,Ce,Re);return ge.then(function(){return Te.emit("plotly_react",{data:Ae,layout:Ce}),Te})},x.redraw=function(Te){if(Te=M.getGraphDiv(Te),!M.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return T.cleanData(Te.data),T.cleanLayout(Te.layout),Te.calcdata=void 0,x._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})},x.relayout=ne,x.restyle=Z,x.setPlotConfig=function(Te){return M.extendFlat(v,Te)},x.update=be,x._guiRelayout=_e(ne),x._guiRestyle=_e(Z),x._guiUpdate=_e(be),x._storeDirectGUIEdit=function(Te,Ae,Ce){for(var Re in Ce)Y(Re,b(Te,Re).get(),Ce[Re],Ae)}},20556:function(S){"use strict";var x={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function p(y,n){for(var M in y){var b=y[M];b.valType?n[M]=b.dflt:(n[M]||(n[M]={}),p(b,n[M]))}})(x,e),S.exports={configAttributes:x,dfltConfig:e}},73060:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(45464),M=e(64859),b=e(16672),f=e(85656),s=e(20556).configAttributes,t=e(67824),o=y.extendDeepAll,r=y.isPlainObject,i=y.isArrayOrTypedArray,a=y.nestedProperty,l=y.valObjectMeta,u="_isSubplotObj",h="_isLinkedToArray",c="_deprecated",w=[u,h,"_arrayAttrRegexps",c];function g(d,C,k){if(!d)return!1;if(d._isLinkedToArray){if(v(C[k]))k++;else if(k<C.length)return!1}for(;k<C.length;k++){var D=d[C[k]];if(!r(D)||(d=D,k===C.length-1))break;if(d._isLinkedToArray){if(!v(C[++k]))return!1}else if(d.valType==="info_array"){var O=C[++k];if(!v(O))return!1;var L=d.items;if(Array.isArray(L)){if(O>=L.length)return!1;if(d.dimensions===2){if(k++,C.length===k)return d;var R=C[k];if(!v(R))return!1;d=L[O][R]}else d=L[O]}else d=L}}return d}function v(d){return d===Math.round(d)&&d>=0}function m(){var d,C,k={};for(d in o(k,M),p.subplotsRegistry)if((C=p.subplotsRegistry[d]).layoutAttributes)if(Array.isArray(C.attr))for(var D=0;D<C.attr.length;D++)_(k,C,C.attr[D]);else _(k,C,C.attr==="subplot"?C.name:C.attr);for(d in p.componentsRegistry){var O=(C=p.componentsRegistry[d]).schema;if(O&&(O.subplots||O.layout)){var L=O.subplots;if(L&&L.xaxis&&!L.yaxis)for(var R in L.xaxis)delete k.yaxis[R];delete k.xaxis.shift,delete k.xaxis.autoshift}else C.name==="colorscale"?o(k,C.layoutAttributes):C.layoutAttributes&&A(k,C.layoutAttributes,C.name)}return{layoutAttributes:T(k)}}function T(d){return function(C){x.crawl(C,function(k,D,O){x.isValObject(k)?k.arrayOk!==!0&&k.valType!=="data_array"||(O[D+"src"]={valType:"string",editType:"none"}):r(k)&&(k.role="object")})}(d),function(C){x.crawl(C,function(k,D,O){if(k){var L=k[h];L&&(delete k[h],O[D]={items:{}},O[D].items[L]=k,O[D].role="object")}})}(d),function(C){(function k(D){for(var O in D)if(r(D[O]))k(D[O]);else if(Array.isArray(D[O]))for(var L=0;L<D[O].length;L++)k(D[O][L]);else D[O]instanceof RegExp&&(D[O]=D[O].toString())})(C)}(d),d}function _(d,C,k){var D=a(d,k),O=o({},C.layoutAttributes);O[u]=!0,D.set(O)}function A(d,C,k){var D=a(d,k);D.set(o(D.get()||{},C))}x.IS_SUBPLOT_OBJ=u,x.IS_LINKED_TO_ARRAY=h,x.DEPRECATED=c,x.UNDERSCORE_ATTRS=w,x.get=function(){var d={};p.allTypes.forEach(function(D){d[D]=function(O){var L,R;R=(L=p.modules[O]._module).basePlotModule;var z={type:null},q=o({},n),N=o({},L.attributes);x.crawl(N,function(j,H,Y,ie,re){a(q,re).set(void 0),j===void 0&&a(N,re).set(void 0)}),o(z,q),p.traceIs(O,"noOpacity")&&delete z.opacity,p.traceIs(O,"showLegend")||(delete z.showlegend,delete z.legendgroup),p.traceIs(O,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),L.selectPoints||delete z.selectedpoints,o(z,N),R.attributes&&o(z,R.attributes),z.type=O;var V={meta:L.meta||{},categories:L.categories||{},animatable:!!L.animatable,type:O,attributes:T(z)};if(L.layoutAttributes){var Z={};o(Z,L.layoutAttributes),V.layoutAttributes=T(Z)}return L.animatable||x.crawl(V,function(j){x.isValObject(j)&&"anim"in j&&delete j.anim}),V}(D)});var C,k={};return Object.keys(p.transformsRegistry).forEach(function(D){k[D]=function(O){var L=p.transformsRegistry[O],R=o({},L.attributes);return Object.keys(p.componentsRegistry).forEach(function(z){var q=p.componentsRegistry[z];q.schema&&q.schema.transforms&&q.schema.transforms[O]&&Object.keys(q.schema.transforms[O]).forEach(function(N){A(R,q.schema.transforms[O][N],N)})}),{attributes:T(R)}}(D)}),{defs:{valObjects:l,metaKeys:w.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:d,layout:m(),transforms:k,frames:(C={frames:o({},b)},T(C),C.frames),animation:T(f),config:T(s)}},x.crawl=function(d,C,k,D){var O=k||0;D=D||"",Object.keys(d).forEach(function(L){var R=d[L];if(w.indexOf(L)===-1){var z=(D?D+".":"")+L;C(R,L,d,O,z),x.isValObject(R)||r(R)&&L!=="impliedEdits"&&x.crawl(R,C,O+1,z)}})},x.isValObject=function(d){return d&&d.valType!==void 0},x.findArrayAttributes=function(d){var C,k,D=[],O=[],L=[];function R(j,H,Y,ie){O=O.slice(0,ie).concat([H]),L=L.slice(0,ie).concat([j&&j._isLinkedToArray]),j&&(j.valType==="data_array"||j.arrayOk===!0)&&(O[ie-1]!=="colorbar"||H!=="ticktext"&&H!=="tickvals")&&z(C,0,"")}function z(j,H,Y){var ie=j[O[H]],re=Y+O[H];if(H===O.length-1)i(ie)&&D.push(k+re);else if(L[H]){if(Array.isArray(ie))for(var ne=0;ne<ie.length;ne++)r(ie[ne])&&z(ie[ne],H+1,re+"["+ne+"].")}else r(ie)&&z(ie,H+1,re+".")}C=d,k="",x.crawl(n,R),d._module&&d._module.attributes&&x.crawl(d._module.attributes,R);var q=d.transforms;if(q)for(var N=0;N<q.length;N++){var V=q[N],Z=V._module;Z&&(k="transforms["+N+"].",C=V,x.crawl(Z.attributes,R))}return D},x.getTraceValObject=function(d,C){var k,D,O=C[0],L=1;if(O==="transforms"){if(C.length===1)return n.transforms;var R=d.transforms;if(!Array.isArray(R)||!R.length)return!1;var z=C[1];if(!v(z)||z>=R.length)return!1;D=(k=(p.transformsRegistry[R[z].type]||{}).attributes)&&k[C[2]],L=3}else{var q=d._module;if(q||(q=(p.modules[d.type||n.type.dflt]||{})._module),!q)return!1;if(!(D=(k=q.attributes)&&k[O])){var N=q.basePlotModule;N&&N.attributes&&(D=N.attributes[O])}D||(D=n[O])}return g(D,C,L)},x.getLayoutValObject=function(d,C){var k=function(D,O){var L,R,z,q,N=D._basePlotModules;if(N){var V;for(L=0;L<N.length;L++){if((z=N[L]).attrRegex&&z.attrRegex.test(O)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!V&&z.layoutAttributes&&(V=z.layoutAttributes)}var Z=z.baseLayoutAttrOverrides;if(Z&&O in Z)return Z[O]}if(V)return V}var j=D._modules;if(j){for(L=0;L<j.length;L++)if((q=j[L].layoutAttributes)&&O in q)return q[O]}for(R in p.componentsRegistry){if((z=p.componentsRegistry[R]).name==="colorscale"&&O.indexOf("coloraxis")===0)return z.layoutAttributes[O];if(!z.schema&&O===z.name)return z.layoutAttributes}return O in M&&M[O]}(d,C[0]);return g(k,C,1)}},31780:function(S,x,e){"use strict";var p=e(3400),y=e(45464),n="templateitemname",M={name:{valType:"string",editType:"none"}};function b(s){return s&&typeof s=="string"}function f(s){var t=s.length-1;return s.charAt(t)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}M[n]={valType:"string",editType:"calc"},x.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=M.name,t[n]=M[n],t},x.traceTemplater=function(s){var t,o,r={};for(t in s)o=s[t],Array.isArray(o)&&o.length&&(r[t]=0);return{newTrace:function(i){var a={type:t=p.coerce(i,{},y,"type"),_template:null};if(t in r){o=s[t];var l=r[t]%o.length;r[t]++,a._template=o[l]}return a}}},x.newContainer=function(s,t,o){var r=s._template,i=r&&(r[t]||o&&r[o]);return p.isPlainObject(i)||(i=null),s[t]={_template:i}},x.arrayTemplater=function(s,t,o){var r=s._template,i=r&&r[f(t)],a=r&&r[t];Array.isArray(a)&&a.length||(a=[]);var l={};return{newItem:function(u){var h={name:u.name,_input:u},c=h[n]=u[n];if(!b(c))return h._template=i,h;for(var w=0;w<a.length;w++){var g=a[w];if(g.name===c)return l[c]=1,h._template=g,h}return h[o]=u[o]||!1,h._template=!1,h},defaultItems:function(){for(var u=[],h=0;h<a.length;h++){var c=a[h],w=c.name;if(b(w)&&!l[w]){var g={_template:c,name:w,_input:{_templateitemname:w}};g[n]=c[n],u.push(g),l[w]=1}}return u}}},x.arrayDefaultKey=f,x.arrayEditor=function(s,t,o){var r=(p.nestedProperty(s,t).get()||[]).length,i=o._index,a=i>=r&&(o._input||{})._templateitemname;a&&(i=r);var l,u=t+"["+i+"]";function h(){l={},a&&(l[u]={},l[u][n]=a)}function c(g,v){a?p.nestedProperty(l[u],g).set(v):l[u+"."+g]=v}function w(){var g=l;return h(),g}return h(),{modifyBase:function(g,v){l[g]=v},modifyItem:c,getUpdateObj:w,applyUpdate:function(g,v){g&&c(g,v);var m=w();for(var T in m)p.nestedProperty(s,T).set(m[T])}}}},39172:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(7316),M=e(3400),b=e(72736),f=e(73696),s=e(76308),t=e(43616),o=e(81668),r=e(45460),i=e(54460),a=e(84284),l=e(71888),u=l.enforce,h=l.clean,c=e(19280).doAutoRange,w="start";function g(A,d,C){for(var k=0;k<C.length;k++){var D=C[k][0],O=C[k][1];if(!(D[0]>=A[1]||D[1]<=A[0])&&O[0]<d[1]&&O[1]>d[0])return!0}return!1}function v(A){var d,C,k,D,O,L,R=A._fullLayout,z=R._size,q=z.p,N=i.list(A,"",!0);if(R._paperdiv.style({width:A._context.responsive&&R.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":R.width+"px",height:A._context.responsive&&R.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":R.height+"px"}).selectAll(".main-svg").call(t.setSize,R.width,R.height),A._context.setBackground(A,R.paper_bgcolor),x.drawMainTitle(A),r.manage(A),!R._has("cartesian"))return n.previousPromises(A);function V(Le,Ue,Ge){var Ke=Le._lw/2;return Le._id.charAt(0)==="x"?Ue?Ge==="top"?Ue._offset-q-Ke:Ue._offset+Ue._length+q+Ke:z.t+z.h*(1-(Le.position||0))+Ke%1:Ue?Ge==="right"?Ue._offset+Ue._length+q+Ke:Ue._offset-q-Ke:z.l+z.w*(Le.position||0)+Ke%1}for(d=0;d<N.length;d++){var Z=(D=N[d])._anchorAxis;D._linepositions={},D._lw=t.crispRound(A,D.linewidth,1),D._mainLinePosition=V(D,Z,D.side),D._mainMirrorPosition=D.mirror&&Z?V(D,Z,a.OPPOSITE_SIDE[D.side]):null}var j=[],H=[],Y=[],ie=s.opacity(R.paper_bgcolor)===1&&s.opacity(R.plot_bgcolor)===1&&R.paper_bgcolor===R.plot_bgcolor;for(C in R._plots)if((k=R._plots[C]).mainplot)k.bg&&k.bg.remove(),k.bg=void 0;else{var re=k.xaxis.domain,ne=k.yaxis.domain,ee=k.plotgroup;if(g(re,ne,Y)){var Q=ee.node(),X=k.bg=M.ensureSingle(ee,"rect","bg");Q.insertBefore(X.node(),Q.childNodes[0]),H.push(C)}else ee.select("rect.bg").remove(),Y.push([re,ne]),ie||(j.push(C),H.push(C))}var se,ce,le,de,be,_e,ve,me,ye,Se,Ie,xe,ue,ae=R._bgLayer.selectAll(".bg").data(j);for(ae.enter().append("rect").classed("bg",!0),ae.exit().remove(),ae.each(function(Le){R._plots[Le].bg=p.select(this)}),d=0;d<H.length;d++)k=R._plots[H[d]],O=k.xaxis,L=k.yaxis,k.bg&&O._offset!==void 0&&L._offset!==void 0&&k.bg.call(t.setRect,O._offset-q,L._offset-q,O._length+2*q,L._length+2*q).call(s.fill,R.plot_bgcolor).style("stroke-width",0);if(!R._hasOnlyLargeSploms)for(C in R._plots){k=R._plots[C],O=k.xaxis,L=k.yaxis;var pe,De,Te=k.clipId="clip"+R._uid+C+"plot",Ae=M.ensureSingleById(R._clips,"clipPath",Te,function(Le){Le.classed("plotclip",!0).append("rect")});k.clipRect=Ae.select("rect").attr({width:O._length,height:L._length}),t.setTranslate(k.plot,O._offset,L._offset),k._hasClipOnAxisFalse?(pe=null,De=Te):(pe=Te,De=null),t.setClipUrl(k.plot,pe,A),k.layerClipId=De}function Ce(Le){return"M"+se+","+Le+"H"+ce}function Re(Le){return"M"+O._offset+","+Le+"h"+O._length}function Ne(Le){return"M"+Le+","+me+"V"+ve}function ge(Le){return L._shift!==void 0&&(Le+=L._shift),"M"+Le+","+L._offset+"v"+L._length}function Me(Le,Ue,Ge){if(!Le.showline||C!==Le._mainSubplot)return"";if(!Le._anchorAxis)return Ge(Le._mainLinePosition);var Ke=Ue(Le._mainLinePosition);return Le.mirror&&(Ke+=Ue(Le._mainMirrorPosition)),Ke}for(C in R._plots){k=R._plots[C],O=k.xaxis,L=k.yaxis;var Ee="M0,0";m(O,C)&&(be=_(O,"left",L,N),se=O._offset-(be?q+be:0),_e=_(O,"right",L,N),ce=O._offset+O._length+(_e?q+_e:0),le=V(O,L,"bottom"),de=V(O,L,"top"),!(ue=!O._anchorAxis||C!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[C]=[le,de]),Ee=Me(O,Ce,Re),ue&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(Ee+=Ce(le)+Ce(de)),k.xlines.style("stroke-width",O._lw+"px").call(s.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),k.xlines.attr("d",Ee);var Fe="M0,0";m(L,C)&&(Ie=_(L,"bottom",O,N),ve=L._offset+L._length+(Ie?q:0),xe=_(L,"top",O,N),me=L._offset-(xe?q:0),ye=V(L,O,"left"),Se=V(L,O,"right"),!(ue=!L._anchorAxis||C!==L._mainSubplot)||L.mirror!=="allticks"&&L.mirror!=="all"||(L._linepositions[C]=[ye,Se]),Fe=Me(L,Ne,ge),ue&&L.showline&&(L.mirror==="all"||L.mirror==="allticks")&&(Fe+=Ne(ye)+Ne(Se)),k.ylines.style("stroke-width",L._lw+"px").call(s.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),k.ylines.attr("d",Fe)}return i.makeClipPaths(A),n.previousPromises(A)}function m(A,d){return(A.ticks||A.showline)&&(d===A._mainSubplot||A.mirror==="all"||A.mirror==="allticks")}function T(A,d,C){if(!C.showline||!C._lw)return!1;if(C.mirror==="all"||C.mirror==="allticks")return!0;var k=C._anchorAxis;if(!k)return!1;var D=a.FROM_BL[d];return C.side===d?k.domain[D]===A.domain[D]:C.mirror&&k.domain[1-D]===A.domain[1-D]}function _(A,d,C,k){if(T(A,d,C))return C._lw;for(var D=0;D<k.length;D++){var O=k[D];if(O._mainAxis===C._mainAxis&&T(A,d,O))return O._lw}return 0}x.layoutStyles=function(A){return M.syncOrAsync([n.doAutoMargin,v],A)},x.drawMainTitle=function(A){var d,C=A._fullLayout.title,k=A._fullLayout,D=function(j){var H=j.title,Y="middle";return M.isRightAnchor(H)?Y="end":M.isLeftAnchor(H)&&(Y=w),Y}(k),O=function(j){var H=j.title,Y="0em";return M.isTopAnchor(H)?Y=a.CAP_SHIFT+"em":M.isMiddleAnchor(H)&&(Y=a.MID_SHIFT+"em"),Y}(k),L=function(j,H){var Y=j.title,ie=j._size,re=0;return H!=="0em"&&H?H===a.CAP_SHIFT+"em"&&(re=Y.pad.t):re=-Y.pad.b,Y.y==="auto"?ie.t/2:Y.yref==="paper"?ie.t+ie.h-ie.h*Y.y+re:j.height-j.height*Y.y+re}(k,O),R=function(j,H){var Y=j.title,ie=j._size,re=0;return H===w?re=Y.pad.l:H==="end"&&(re=-Y.pad.r),Y.xref==="paper"?ie.l+ie.w*Y.x+re:j.width*Y.x+re}(k,D);if(o.draw(A,"gtitle",{propContainer:k,propName:"title.text",placeholder:k._dfltTitle.plot,attributes:{x:R,y:L,"text-anchor":D,dy:O}}),C.text&&C.automargin){var z=p.selectAll(".gtitle"),q=t.bBox(z.node()).height,N=function(j,H,Y){var ie=H.y,re=H.yanchor,ne=ie>.5?"t":"b",ee=j._fullLayout.margin[ne],Q=0;return H.yref==="paper"?Q=Y+H.pad.t+H.pad.b:H.yref==="container"&&(Q=function(X,se,ce,le,de){var be=0;return ce==="middle"&&(be+=de/2),X==="t"?(ce==="top"&&(be+=de),be+=le-se*le):(ce==="bottom"&&(be+=de),be+=se*le),be}(ne,ie,re,j._fullLayout.height,Y)+H.pad.t+H.pad.b),Q>ee?Q:0}(A,C,q);if(N>0){(function(j,H,Y,ie){var re="title.automargin",ne=j._fullLayout.title,ee=ne.y>.5?"t":"b",Q={x:ne.x,y:ne.y,t:0,b:0},X={};ne.yref==="paper"&&function(se,ce,le,de,be){var _e=ce.yref==="paper"?se._fullLayout._size.h:se._fullLayout.height,ve=M.isTopAnchor(ce)?de:de-be,me=le==="b"?_e-ve:ve;return!(M.isTopAnchor(ce)&&le==="t"||M.isBottomAnchor(ce)&&le==="b")&&me<be}(j,ne,ee,H,ie)?Q[ee]=Y:ne.yref==="container"&&(X[ee]=Y,j._fullLayout._reservedMargin[re]=X),n.allowAutoMargin(j,re),n.autoMargin(j,re,Q)})(A,L,N,q),z.attr({x:R,y:L,"text-anchor":D,dy:(d=C.yanchor,d==="top"?a.CAP_SHIFT+.3+"em":d==="bottom"?"-0.3em":a.MID_SHIFT+"em")}).call(b.positionText,R,L);var V=(C.text.match(b.BR_TAG_ALL)||[]).length;if(V){var Z=a.LINE_SPACING*V+a.MID_SHIFT;C.y===0&&(Z=-Z),z.selectAll(".line").each(function(){var j=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",j)})}}}},x.doTraceStyle=function(A){var d,C=A.calcdata,k=[];for(d=0;d<C.length;d++){var D=C[d],O=D[0]||{},L=O.trace||{},R=L._module||{},z=R.arraysToCalcdata;z&&z(D,L);var q=R.editStyle;q&&k.push({fn:q,cd0:O})}if(k.length){for(d=0;d<k.length;d++){var N=k[d];N.fn(A,N.cd0)}f(A),x.redrawReglTraces(A)}return n.style(A),y.getComponentMethod("legend","draw")(A),n.previousPromises(A)},x.doColorBars=function(A){return y.getComponentMethod("colorbar","draw")(A),n.previousPromises(A)},x.layoutReplot=function(A){var d=A.layout;return A.layout=void 0,y.call("_doPlot",A,"",d)},x.doLegend=function(A){return y.getComponentMethod("legend","draw")(A),n.previousPromises(A)},x.doTicksRelayout=function(A){return i.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(y.subplotsRegistry.splom.updateGrid(A),f(A),x.redrawReglTraces(A)),x.drawMainTitle(A),n.previousPromises(A)},x.doModeBar=function(A){var d=A._fullLayout;r.manage(A);for(var C=0;C<d._basePlotModules.length;C++){var k=d._basePlotModules[C].updateFx;k&&k(A)}return n.previousPromises(A)},x.doCamera=function(A){for(var d=A._fullLayout,C=d._subplots.gl3d,k=0;k<C.length;k++){var D=d[C[k]];D._scene.setViewport(D)}},x.drawData=function(A){var d=A._fullLayout;f(A);for(var C=d._basePlotModules,k=0;k<C.length;k++)C[k].plot(A);return x.redrawReglTraces(A),n.style(A),y.getComponentMethod("selections","draw")(A),y.getComponentMethod("shapes","draw")(A),y.getComponentMethod("annotations","draw")(A),y.getComponentMethod("images","draw")(A),d._replotting=!1,n.previousPromises(A)},x.redrawReglTraces=function(A){var d=A._fullLayout;if(d._has("regl")){var C,k,D=A._fullData,O=[],L=[];for(d._hasOnlyLargeSploms&&d._splomGrid.draw(),C=0;C<D.length;C++){var R=D[C];R.visible===!0&&R._length!==0&&(R.type==="splom"?d._splomScenes[R.uid].draw():R.type==="scattergl"?M.pushUnique(O,R.xaxis+R.yaxis):R.type==="scatterpolargl"&&M.pushUnique(L,R.subplot))}for(C=0;C<O.length;C++)(k=d._plots[O[C]])._scene&&k._scene.draw();for(C=0;C<L.length;C++)(k=d[L[C]]._subplot)._scene&&k._scene.draw()}},x.doAutoRangeAndConstraints=function(A){for(var d,C=i.list(A,"",!0),k={},D=0;D<C.length;D++)if(!k[(d=C[D])._id]){k[d._id]=1,h(A,d),c(A,d);var O=d._matchGroup;if(O)for(var L in O){var R=i.getFromId(A,L);c(A,R,d.range),k[L]=1}}u(A)},x.finalDraw=function(A){y.getComponentMethod("rangeslider","draw")(A),y.getComponentMethod("rangeselector","draw")(A)},x.drawMarginPushers=function(A){y.getComponentMethod("legend","draw")(A),y.getComponentMethod("rangeselector","draw")(A),y.getComponentMethod("sliders","draw")(A),y.getComponentMethod("updatemenus","draw")(A),y.getComponentMethod("colorbar","draw")(A)}},94828:function(S,x,e){"use strict";var p=e(3400),y=p.isPlainObject,n=e(73060),M=e(7316),b=e(45464),f=e(31780),s=e(20556).dfltConfig;function t(c,w){c=p.extendDeep({},c);var g,v,m=Object.keys(c).sort();function T(k,D,O){if(y(D)&&y(k))t(k,D);else if(Array.isArray(D)&&Array.isArray(k)){var L=f.arrayTemplater({_template:c},O);for(v=0;v<D.length;v++){var R=D[v],z=L.newItem(R)._template;z&&t(z,R)}var q=L.defaultItems();for(v=0;v<q.length;v++)D.push(q[v]._template);for(v=0;v<D.length;v++)delete D[v].templateitemname}}for(g=0;g<m.length;g++){var _=m[g],A=c[_];if(_ in w?T(A,w[_],_):w[_]=A,o(_)===_)for(var d in w){var C=o(d);d===C||C!==_||d in c||T(A,w[d],_)}}}function o(c){return c.replace(/[0-9]+$/,"")}function r(c,w,g,v,m){var T=m&&g(m);for(var _ in c){var A=c[_],d=l(c,_,v),C=l(c,_,m),k=g(C);if(!k){var D=o(_);D!==_&&(k=g(C=l(c,D,m)))}if(!(T&&T===k||!k||k._noTemplating||k.valType==="data_array"||k.arrayOk&&Array.isArray(A)))if(!k.valType&&y(A))r(A,w,g,d,C);else if(k._isLinkedToArray&&Array.isArray(A))for(var O=!1,L=0,R={},z=0;z<A.length;z++){var q=A[z];if(y(q)){var N=q.name;if(N)R[N]||(r(q,w,g,l(A,L,d),l(A,L,C)),L++,R[N]=1);else if(!O){var V=l(c,f.arrayDefaultKey(_),v),Z=l(A,L,d);r(q,w,g,Z,l(A,L,C));var j=p.nestedProperty(w,Z);p.nestedProperty(w,V).set(j.get()),j.set(null),O=!0}}}else p.nestedProperty(w,d).set(A)}}function i(c,w){return n.getLayoutValObject(c,p.nestedProperty({},w).parts)}function a(c,w){return n.getTraceValObject(c,p.nestedProperty({},w).parts)}function l(c,w,g){return g?Array.isArray(c)?g+"["+w+"]":g+"."+w:w}function u(c){for(var w=0;w<c.length;w++)if(y(c[w]))return!0}function h(c){var w;switch(c.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":w=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":w=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=w,c}x.makeTemplate=function(c){c=p.isPlainObject(c)?c:p.getGraphDiv(c),c=p.extendDeep({_context:s},{data:c.data,layout:c.layout}),M.supplyDefaults(c);var w=c.data||[],g=c.layout||{};g._basePlotModules=c._fullLayout._basePlotModules,g._modules=c._fullLayout._modules;var v={data:{},layout:{}};w.forEach(function(L){var R={};r(L,R,a.bind(null,L));var z=p.coerce(L,{},b,"type"),q=v.data[z];q||(q=v.data[z]=[]),q.push(R)}),r(g,v.layout,i.bind(null,g)),delete v.layout.template;var m=g.template;if(y(m)){var T,_,A,d,C,k,D=m.layout;y(D)&&t(D,v.layout);var O=m.data;if(y(O)){for(_ in v.data)if(A=O[_],Array.isArray(A)){for(k=(C=v.data[_]).length,d=A.length,T=0;T<k;T++)t(A[T%d],C[T]);for(T=k;T<d;T++)C.push(p.extendDeep({},A[T]))}for(_ in O)_ in v.data||(v.data[_]=p.extendDeep([],O[_]))}}return v},x.validateTemplate=function(c,w){var g=p.extendDeep({},{_context:s,data:c.data,layout:c.layout}),v=g.layout||{};y(w)||(w=v.template||{});var m=w.layout,T=w.data,_=[];g.layout=v,g.layout.template=w,M.supplyDefaults(g);var A=g._fullLayout,d=g._fullData,C={};if(y(m)?(function q(N,V){for(var Z in N)if(Z.charAt(0)!=="_"&&y(N[Z])){var j,H=o(Z),Y=[];for(j=0;j<V.length;j++)Y.push(l(N,Z,V[j])),H!==Z&&Y.push(l(N,H,V[j]));for(j=0;j<Y.length;j++)C[Y[j]]=1;q(N[Z],Y)}}(A,["layout"]),function q(N,V){for(var Z in N)if(Z.indexOf("defaults")===-1&&y(N[Z])){var j=l(N,Z,V);C[j]?q(N[Z],j):_.push({code:"unused",path:j})}}(m,"layout")):_.push({code:"layout"}),y(T)){for(var k,D={},O=0;O<d.length;O++){var L=d[O];D[k=L.type]=(D[k]||0)+1,L._fullInput._template||_.push({code:"missing",index:L._fullInput.index,traceType:k})}for(k in T){var R=T[k].length,z=D[k]||0;R>z?_.push({code:"unused",traceType:k,templateCount:R,dataCount:z}):z>R&&_.push({code:"reused",traceType:k,templateCount:R,dataCount:z})}}else _.push({code:"data"});if(function q(N,V){for(var Z in N)if(Z.charAt(0)!=="_"){var j=N[Z],H=l(N,Z,V);y(j)?(Array.isArray(N)&&j._template===!1&&j.templateitemname&&_.push({code:"missing",path:H,templateitemname:j.templateitemname}),q(j,H)):Array.isArray(j)&&u(j)&&q(j,H)}}({data:d,layout:A},""),_.length)return _.map(h)}},67024:function(S,x,e){"use strict";var p=e(38248),y=e(36424),n=e(7316),M=e(3400),b=e(81792),f=e(37164),s=e(63268),t=e(25788).version,o={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};S.exports=function(r,i){var a,l,u,h;function c(z){return!(z in i)||M.validate(i[z],o[z])}if(i=i||{},M.isPlainObject(r)?(a=r.data||[],l=r.layout||{},u=r.config||{},h={}):(r=M.getGraphDiv(r),a=M.extendDeep([],r.data),l=M.extendDeep({},r.layout),u=r._context,h=r._fullLayout||{}),!c("width")&&i.width!==null||!c("height")&&i.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+M.join2(o.format.values,", "," or ")+".");var w={};function g(z,q){return M.coerce(i,w,o,z,q)}var v=g("format"),m=g("width"),T=g("height"),_=g("scale"),A=g("setBackground"),d=g("imageDataOnly"),C=document.createElement("div");C.style.position="absolute",C.style.left="-5000px",document.body.appendChild(C);var k=M.extendFlat({},l);m?k.width=m:i.width===null&&p(h.width)&&(k.width=h.width),T?k.height=T:i.height===null&&p(h.height)&&(k.height=h.height);var D=M.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),O=b.getRedrawFunc(C);function L(){return new Promise(function(z){setTimeout(z,b.getDelay(C._fullLayout))})}function R(){return new Promise(function(z,q){var N=f(C,v,_),V=C._fullLayout.width,Z=C._fullLayout.height;function j(){y.purge(C),document.body.removeChild(C)}if(v==="full-json"){var H=n.graphJson(C,!1,"keepdata","object",!0,!0);return H.version=t,H=JSON.stringify(H),j(),z(d?H:b.encodeJSON(H))}if(j(),v==="svg")return z(d?N:b.encodeSVG(N));var Y=document.createElement("canvas");Y.id=M.randstr(),s({format:v,width:V,height:Z,scale:_,canvas:Y,svg:N,promise:!0}).then(z).catch(q)})}return new Promise(function(z,q){y.newPlot(C,a,k,D).then(O).then(L).then(R).then(function(N){z(function(V){return d?V.replace(b.IMAGE_URL_PREFIX,""):V}(N))}).catch(function(N){q(N)})})}},21480:function(S,x,e){"use strict";var p=e(3400),y=e(7316),n=e(73060),M=e(20556).dfltConfig,b=p.isPlainObject,f=Array.isArray,s=p.isArrayOrTypedArray;function t(c,w,g,v,m,T){T=T||[];for(var _=Object.keys(c),A=0;A<_.length;A++){var d=_[A];if(d!=="transforms"){var C=T.slice();C.push(d);var k=c[d],D=w[d],O=l(g,d),L=(O||{}).valType,R=L==="info_array",z=L==="colorscale",q=(O||{}).items;if(a(g,d))if(b(k)&&b(D)&&L!=="any")t(k,D,O,v,m,C);else if(R&&f(k)){k.length>D.length&&v.push(i("unused",m,C.concat(D.length)));var N,V,Z,j,H,Y=D.length,ie=Array.isArray(q);if(ie&&(Y=Math.min(Y,q.length)),O.dimensions===2)for(V=0;V<Y;V++)if(f(k[V])){k[V].length>D[V].length&&v.push(i("unused",m,C.concat(V,D[V].length)));var re=D[V].length;for(N=0;N<(ie?Math.min(re,q[V].length):re);N++)Z=ie?q[V][N]:q,j=k[V][N],H=D[V][N],p.validate(j,Z)?H!==j&&H!==+j&&v.push(i("dynamic",m,C.concat(V,N),j,H)):v.push(i("value",m,C.concat(V,N),j))}else v.push(i("array",m,C.concat(V),k[V]));else for(V=0;V<Y;V++)Z=ie?q[V]:q,j=k[V],H=D[V],p.validate(j,Z)?H!==j&&H!==+j&&v.push(i("dynamic",m,C.concat(V),j,H)):v.push(i("value",m,C.concat(V),j))}else if(O.items&&!R&&f(k)){var ne,ee,Q=q[Object.keys(q)[0]],X=[];for(ne=0;ne<D.length;ne++){var se=D[ne]._index||ne;if((ee=C.slice()).push(se),b(k[se])&&b(D[ne])){X.push(se);var ce=k[se],le=D[ne];b(ce)&&ce.visible!==!1&&le.visible===!1?v.push(i("invisible",m,ee)):t(ce,le,Q,v,m,ee)}}for(ne=0;ne<k.length;ne++)(ee=C.slice()).push(ne),b(k[ne])?X.indexOf(ne)===-1&&v.push(i("unused",m,ee)):v.push(i("object",m,ee,k[ne]))}else!b(k)&&b(D)?v.push(i("object",m,C,k)):s(k)||!s(D)||R||z?d in w?p.validate(k,O)?O.valType==="enumerated"&&(O.coerceNumber&&k!==+D||k!==D)&&v.push(i("dynamic",m,C,k,D)):v.push(i("value",m,C,k)):v.push(i("unused",m,C,k)):v.push(i("array",m,C,k));else v.push(i("schema",m,C))}}return v}S.exports=function(c,w){c===void 0&&(c=[]),w===void 0&&(w={});var g,v,m=n.get(),T=[],_={_context:p.extendFlat({},M)};f(c)?(_.data=p.extendDeep([],c),g=c):(_.data=[],g=[],T.push(i("array","data"))),b(w)?(_.layout=p.extendDeep({},w),v=w):(_.layout={},v={},arguments.length>1&&T.push(i("object","layout"))),y.supplyDefaults(_);for(var A=_._fullData,d=g.length,C=0;C<d;C++){var k=g[C],D=["data",C];if(b(k)){var O=A[C],L=O.type,R=m.traces[L].attributes;R.type={valType:"enumerated",values:[L]},O.visible===!1&&k.visible!==!1&&T.push(i("invisible",D)),t(k,O,R,T,D);var z=k.transforms,q=O.transforms;if(z){f(z)||T.push(i("array",D,["transforms"])),D.push("transforms");for(var N=0;N<z.length;N++){var V=["transforms",N],Z=z[N].type;if(b(z[N])){var j=m.transforms[Z]?m.transforms[Z].attributes:{};j.type={valType:"enumerated",values:Object.keys(m.transforms)},t(z[N],q[N],j,T,D,V)}else T.push(i("object",D,V))}}}else T.push(i("object",D))}var H=_._fullLayout,Y=function(ie,re){for(var ne=ie.layout.layoutAttributes,ee=0;ee<re.length;ee++){var Q=re[ee],X=ie.traces[Q.type],se=X.layoutAttributes;se&&(Q.subplot?p.extendFlat(ne[X.attributes.subplot.dflt],se):p.extendFlat(ne,se))}return ne}(m,A);return t(v,H,Y,T,"layout"),T.length===0?void 0:T};var o={object:function(c,w){return(c==="layout"&&w===""?"The layout argument":c[0]==="data"&&w===""?"Trace "+c[1]+" in the data argument":r(c)+"key "+w)+" must be linked to an object container"},array:function(c,w){return(c==="data"?"The data argument":r(c)+"key "+w)+" must be linked to an array container"},schema:function(c,w){return r(c)+"key "+w+" is not part of the schema"},unused:function(c,w,g){var v=b(g)?"container":"key";return r(c)+v+" "+w+" did not get coerced"},dynamic:function(c,w,g,v){return[r(c)+"key",w,"(set to '"+g+"')","got reset to","'"+v+"'","during defaults."].join(" ")},invisible:function(c,w){return(w?r(c)+"item "+w:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,w,g){return[r(c)+"key "+w,"is set to an invalid value ("+g+")"].join(" ")}};function r(c){return f(c)?"In data trace "+c[1]+", ":"In "+c+", "}function i(c,w,g,v,m){var T,_;g=g||"",f(w)?(T=w[0],_=w[1]):(T=w,_=null);var A=function(C){if(!f(C))return String(C);for(var k="",D=0;D<C.length;D++){var O=C[D];typeof O=="number"?k=k.substr(0,k.length-1)+"["+O+"]":k+=O,D<C.length-1&&(k+=".")}return k}(g),d=o[c](w,A,v,m);return p.log(d),{code:c,container:T,trace:_,path:g,astr:A,msg:d}}function a(c,w){var g=h(w),v=g.keyMinusId,m=g.id;return!!(v in c&&c[v]._isSubplotObj&&m)||w in c}function l(c,w){return w in c?c[w]:c[h(w).keyMinusId]}var u=p.counterRegex("([a-z]+)");function h(c){var w=c.match(u);return{keyMinusId:w&&w[1],id:w&&w[2]}}},85656:function(S){"use strict";S.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(S,x,e){"use strict";var p=e(3400),y=e(31780);S.exports=function(n,M,b){var f,s,t=b.name,o=b.inclusionAttr||"visible",r=M[t],i=p.isArrayOrTypedArray(n[t])?n[t]:[],a=M[t]=[],l=y.arrayTemplater(M,t,o);for(f=0;f<i.length;f++){var u=i[f];p.isPlainObject(u)?s=l.newItem(u):(s=l.newItem({}))[o]=!1,s._index=f,s[o]!==!1&&b.handleItemDefaults(u,s,M,b),a.push(s)}var h=l.defaultItems();for(f=0;f<h.length;f++)(s=h[f])._index=a.length,b.handleItemDefaults({},s,M,b,{}),a.push(s);if(p.isArrayOrTypedArray(r)){var c=Math.min(r.length,a.length);for(f=0;f<c;f++)p.relinkPrivateKeys(a[f],r[f])}return a}},45464:function(S,x,e){"use strict";var p=e(25376),y=e(55756);S.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:y.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=y.dateTime2ms,M=y.incrementMonth,b=e(39032).ONEAVGMONTH;S.exports=function(f,s,t,o){if(s.type!=="date")return{vals:o};var r=f[t+"periodalignment"];if(!r)return{vals:o};var i,a=f[t+"period"];if(p(a)){if((a=+a)<=0)return{vals:o}}else if(typeof a=="string"&&a.charAt(0)==="M"){var l=+a.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:o};i=l}for(var u=s.calendar,h=r==="start",c=r==="end",w=f[t+"period0"],g=n(w,u)||0,v=[],m=[],T=[],_=o.length,A=0;A<_;A++){var d,C,k,D=o[A];if(i){for(d=Math.round((D-g)/(i*b)),k=M(g,i*d,u);k>D;)k=M(k,-i,u);for(;k<=D;)k=M(k,i,u);C=M(k,-i,u)}else{for(k=g+(d=Math.round((D-g)/a))*a;k>D;)k-=a;for(;k<=D;)k+=a;C=k-a}v[A]=h?C:c?k:(C+k)/2,m[A]=C,T[A]=k}return{vals:v,starts:m,ends:T}}},26720:function(S){"use strict";S.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(3400),M=e(39032).FP_SAFE,b=e(24040),f=e(43616),s=e(79811),t=s.getFromId,o=s.isLinked;function r(A,d){var C,k,D=[],O=A._fullLayout,L=a(O,d,0),R=a(O,d,1),z=u(A,d),q=z.min,N=z.max;if(q.length===0||N.length===0)return n.simpleMap(d.range,d.r2l);var V=q[0].val,Z=N[0].val;for(C=1;C<q.length&&V===Z;C++)V=Math.min(V,q[C].val);for(C=1;C<N.length&&V===Z;C++)Z=Math.max(Z,N[C].val);var j=d.autorange,H=j==="reversed"||j==="min reversed"||j==="max reversed";if(!H&&d.range){var Y=n.simpleMap(d.range,d.r2l);H=Y[1]<Y[0]}d.autorange==="reversed"&&(d.autorange=!0);var ie,re,ne,ee,Q,X,se=d.rangemode,ce=se==="tozero",le=se==="nonnegative",de=d._length,be=de/10,_e=0;for(C=0;C<q.length;C++)for(ie=q[C],k=0;k<N.length;k++)(X=(re=N[k]).val-ie.val-i(d,ie.val,re.val))>0&&((Q=de-L(ie)-R(re))>be?X/Q>_e&&(ne=ie,ee=re,_e=X/Q):X/de>_e&&(ne={val:ie.val,nopad:1},ee={val:re.val,nopad:1},_e=X/de));if(V===Z){var ve=V-1,me=V+1;if(ce)if(V===0)D=[0,1];else{var ye=(V>0?N:q).reduce(function(Ie,xe){return Math.max(Ie,R(xe))},0),Se=V/(1-Math.min(.5,ye/de));D=V>0?[0,Se]:[Se,0]}else D=le?[Math.max(0,ve),Math.max(1,me)]:[ve,me]}else ce?(ne.val>=0&&(ne={val:0,nopad:1}),ee.val<=0&&(ee={val:0,nopad:1})):le&&(ne.val-_e*L(ne)<0&&(ne={val:0,nopad:1}),ee.val<=0&&(ee={val:1,nopad:1})),_e=(ee.val-ne.val-i(d,ie.val,re.val))/(de-L(ne)-R(ee)),D=[ne.val-_e*L(ne),ee.val+_e*R(ee)];return D=_(D,d),d.limitRange&&d.limitRange(),H&&D.reverse(),n.simpleMap(D,d.l2r||Number)}function i(A,d,C){var k=0;if(A.rangebreaks)for(var D=A.locateBreaks(d,C),O=0;O<D.length;O++){var L=D[O];k+=L.max-L.min}return k}function a(A,d,C){var k=.05*d._length,D=d._anchorAxis||{};if((d.ticklabelposition||"").indexOf("inside")!==-1||(D.ticklabelposition||"").indexOf("inside")!==-1){var O=d.isReversed();if(!O){var L=n.simpleMap(d.range,d.r2l);O=L[1]<L[0]}O&&(C=!C)}var R=0;return o(A,d._id)||(R=function(z,q,N){var V=0,Z=q._id.charAt(0)==="x";for(var j in z._plots){var H=z._plots[j];if(q._id===H.xaxis._id||q._id===H.yaxis._id){var Y=(Z?H.yaxis:H.xaxis)||{};if((Y.ticklabelposition||"").indexOf("inside")!==-1&&(!N&&(Y.side==="left"||Y.side==="bottom")||N&&(Y.side==="top"||Y.side==="right"))){if(Y._vals){var ie=n.deg2rad(Y._tickAngles[Y._id+"tick"]||0),re=Math.abs(Math.cos(ie)),ne=Math.abs(Math.sin(ie));if(!Y._vals[0].bb){var ee=Y._id+"tick";Y._selections[ee].each(function(le){var de=p.select(this);de.select(".text-math-group").empty()&&(le.bb=f.bBox(de.node()))})}for(var Q=0;Q<Y._vals.length;Q++){var X=Y._vals[Q].bb;if(X){var se=2*l+X.width,ce=2*l+X.height;V=Math.max(V,Z?Math.max(se*re,ce*ne):Math.max(ce*re,se*ne))}}}Y.ticks==="inside"&&Y.ticklabelposition==="inside"&&(V+=Y.ticklen||0)}}}return V}(A,d,C)),k=Math.max(R,k),d.constrain==="domain"&&d._inputDomain&&(k*=(d._inputDomain[1]-d._inputDomain[0])/(d.domain[1]-d.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?k:R)}}S.exports={applyAutorangeOptions:_,getAutoRange:r,makePadFn:a,doAutoRange:function(A,d,C){if(d.setScale(),d.autorange){d.range=C?C.slice():r(A,d),d._r=d.range.slice(),d._rl=n.simpleMap(d._r,d.r2l);var k=d._input,D={};D[d._attr+".range"]=d.range,D[d._attr+".autorange"]=d.autorange,b.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,D),k.range=d.range.slice(),k.autorange=d.autorange}var O=d._anchorAxis;if(O&&O.rangeslider){var L=O.rangeslider[d._name];L&&L.rangemode==="auto"&&(L.range=r(A,d)),O._input.rangeslider[d._name]=n.extendFlat({},L)}},findExtremes:function(A,d,C){C||(C={}),A._m||A.setScale();var k,D,O,L,R,z,q,N,V,Z=[],j=[],H=d.length,Y=C.padded||!1,ie=C.tozero&&(A.type==="linear"||A.type==="-"),re=A.type==="log",ne=!1,ee=C.vpadLinearized||!1;function Q(ve){if(Array.isArray(ve))return ne=!0,function(ye){return Math.max(Number(ve[ye]||0),0)};var me=Math.max(Number(ve||0),0);return function(){return me}}var X=Q((A._m>0?C.ppadplus:C.ppadminus)||C.ppad||0),se=Q((A._m>0?C.ppadminus:C.ppadplus)||C.ppad||0),ce=Q(C.vpadplus||C.vpad),le=Q(C.vpadminus||C.vpad);if(!ne){if(N=1/0,V=-1/0,re)for(k=0;k<H;k++)(D=d[k])<N&&D>0&&(N=D),D>V&&D<M&&(V=D);else for(k=0;k<H;k++)(D=d[k])<N&&D>-M&&(N=D),D>V&&D<M&&(V=D);d=[N,V],H=2}var de={tozero:ie,extrapad:Y};function be(ve){O=d[ve],y(O)&&(z=X(ve),q=se(ve),ee?(L=A.c2l(O)-le(ve),R=A.c2l(O)+ce(ve)):(N=O-le(ve),V=O+ce(ve),re&&N<V/10&&(N=V/10),L=A.c2l(N),R=A.c2l(V)),ie&&(L=Math.min(0,L),R=Math.max(0,R)),g(L)&&h(Z,L,q,de),g(R)&&c(j,R,z,de))}var _e=Math.min(6,H);for(k=0;k<_e;k++)be(k);for(k=H-1;k>=_e;k--)be(k);return{min:Z,max:j,opts:C}},concatExtremes:u};var l=3;function u(A,d,C){var k,D,O,L=d._id,R=A._fullData,z=A._fullLayout,q=[],N=[];function V(ie,re){for(k=0;k<re.length;k++){var ne=ie[re[k]],ee=(ne._extremes||{})[L];if(ne.visible===!0&&ee){for(D=0;D<ee.min.length;D++)O=ee.min[D],h(q,O.val,O.pad,{extrapad:O.extrapad});for(D=0;D<ee.max.length;D++)O=ee.max[D],c(N,O.val,O.pad,{extrapad:O.extrapad})}}}if(V(R,d._traceIndices),V(z.annotations||[],d._annIndices||[]),V(z.shapes||[],d._shapeIndices||[]),d._matchGroup&&!C){for(var Z in d._matchGroup)if(Z!==d._id){var j=t(A,Z),H=u(A,j,!0),Y=d._length/j._length;for(D=0;D<H.min.length;D++)O=H.min[D],h(q,O.val,O.pad*Y,{extrapad:O.extrapad});for(D=0;D<H.max.length;D++)O=H.max[D],c(N,O.val,O.pad*Y,{extrapad:O.extrapad})}}return{min:q,max:N}}function h(A,d,C,k){w(A,d,C,k,v)}function c(A,d,C,k){w(A,d,C,k,m)}function w(A,d,C,k,D){for(var O=k.tozero,L=k.extrapad,R=!0,z=0;z<A.length&&R;z++){var q=A[z];if(D(q.val,d)&&q.pad>=C&&(q.extrapad||!L)){R=!1;break}D(d,q.val)&&q.pad<=C&&(L||!q.extrapad)&&(A.splice(z,1),z--)}if(R){var N=O&&d===0;A.push({val:d,pad:N?0:C,extrapad:!N&&L})}}function g(A){return y(A)&&Math.abs(A)<M}function v(A,d){return A<=d}function m(A,d){return A>=d}function T(A,d,C){return d===void 0||C===void 0||(d=A.d2l(d))<A.d2l(C)}function _(A,d){if(!d||!d.autorangeoptions)return A;var C=A[0],k=A[1],D=d.autorangeoptions.include;if(D!==void 0){var O=d.d2l(C),L=d.d2l(k);n.isArrayOrTypedArray(D)||(D=[D]);for(var R=0;R<D.length;R++){var z=d.d2l(D[R]);O>=z&&(O=z,C=z),L<=z&&(L=z,k=z)}}return C=function(q,N){var V=N.autorangeoptions;return V&&V.minallowed!==void 0&&T(N,V.minallowed,V.maxallowed)?V.minallowed:V&&V.clipmin!==void 0&&T(N,V.clipmin,V.clipmax)?Math.max(q,N.d2l(V.clipmin)):q}(C,d),k=function(q,N){var V=N.autorangeoptions;return V&&V.maxallowed!==void 0&&T(N,V.minallowed,V.maxallowed)?V.maxallowed:V&&V.clipmax!==void 0&&T(N,V.clipmin,V.clipmax)?Math.min(q,N.d2l(V.clipmax)):q}(k,d),[C,k]}},76808:function(S){"use strict";S.exports=function(x,e,p){var y,n;if(p){var M=e==="reversed"||e==="min reversed"||e==="max reversed";y=p[M?1:0],n=p[M?0:1]}var b=x("autorangeoptions.minallowed",n===null?y:void 0),f=x("autorangeoptions.maxallowed",y===null?n:void 0);b===void 0&&x("autorangeoptions.clipmin"),f===void 0&&x("autorangeoptions.clipmax"),x("autorangeoptions.include")}},54460:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(7316),M=e(24040),b=e(3400),f=b.strTranslate,s=e(72736),t=e(81668),o=e(76308),r=e(43616),i=e(94724),a=e(98728),l=e(39032),u=l.ONEMAXYEAR,h=l.ONEAVGYEAR,c=l.ONEMINYEAR,w=l.ONEMAXQUARTER,g=l.ONEAVGQUARTER,v=l.ONEMINQUARTER,m=l.ONEMAXMONTH,T=l.ONEAVGMONTH,_=l.ONEMINMONTH,A=l.ONEWEEK,d=l.ONEDAY,C=d/2,k=l.ONEHOUR,D=l.ONEMIN,O=l.ONESEC,L=l.MINUS_SIGN,R=l.BADNUM,z={K:"zeroline"},q={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},V={K:"tick",L:"path"},Z={K:"tick",L:"text"},j={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(84284),Y=H.MID_SHIFT,ie=H.CAP_SHIFT,re=H.LINE_SPACING,ne=H.OPPOSITE_SIDE,ee=S.exports={};ee.setConvert=e(78344);var Q=e(52976),X=e(79811),se=X.idSort,ce=X.isLinked;ee.id2name=X.id2name,ee.name2id=X.name2id,ee.cleanId=X.cleanId,ee.list=X.list,ee.listIds=X.listIds,ee.getFromId=X.getFromId,ee.getFromTrace=X.getFromTrace;var le=e(19280);ee.getAutoRange=le.getAutoRange,ee.findExtremes=le.findExtremes;var de=1e-4;function be(Be){var je=(Be[1]-Be[0])*de;return[Be[0]-je,Be[1]+je]}ee.coerceRef=function(Be,je,ot,$e,dt,mt){var yt=$e.charAt($e.length-1),ht=ot._fullLayout._subplots[yt+"axis"],kt=$e+"ref",bt={};return dt||(dt=ht[0]||(typeof mt=="string"?mt:mt[0])),mt||(mt=dt),ht=ht.concat(ht.map(function(St){return St+" domain"})),bt[kt]={valType:"enumerated",values:ht.concat(mt?typeof mt=="string"?[mt]:mt:[]),dflt:dt},b.coerce(Be,je,bt,kt)},ee.getRefType=function(Be){return Be===void 0?Be:Be==="paper"?"paper":Be==="pixel"?"pixel":/( domain)$/.test(Be)?"domain":"range"},ee.coercePosition=function(Be,je,ot,$e,dt,mt){var yt,ht;if(ee.getRefType($e)!=="range")yt=b.ensureNumber,ht=ot(dt,mt);else{var kt=ee.getFromId(je,$e);ht=ot(dt,mt=kt.fraction2r(mt)),yt=kt.cleanPos}Be[dt]=yt(ht)},ee.cleanPosition=function(Be,je,ot){return(ot==="paper"||ot==="pixel"?b.ensureNumber:ee.getFromId(je,ot).cleanPos)(Be)},ee.redrawComponents=function(Be,je){je=je||ee.listIds(Be);var ot=Be._fullLayout;function $e(dt,mt,yt,ht){for(var kt=M.getComponentMethod(dt,mt),bt={},St=0;St<je.length;St++)for(var Lt=ot[ee.id2name(je[St])][yt],Ot=0;Ot<Lt.length;Ot++){var Ft=Lt[Ot];if(!bt[Ft]&&(kt(Be,Ft),bt[Ft]=1,ht))return}}$e("annotations","drawOne","_annIndices"),$e("shapes","drawOne","_shapeIndices"),$e("images","draw","_imgIndices",!0),$e("selections","drawOne","_selectionIndices")};var _e=ee.getDataConversions=function(Be,je,ot,$e){var dt,mt=ot==="x"||ot==="y"||ot==="z"?ot:$e;if(b.isArrayOrTypedArray(mt)){if(dt={type:Q($e,void 0,{autotypenumbers:Be._fullLayout.autotypenumbers}),_categories:[]},ee.setConvert(dt),dt.type==="category")for(var yt=0;yt<$e.length;yt++)dt.d2c($e[yt])}else dt=ee.getFromTrace(Be,je,mt);return dt?{d2c:dt.d2c,c2d:dt.c2d}:mt==="ids"?{d2c:me,c2d:me}:{d2c:ve,c2d:ve}};function ve(Be){return+Be}function me(Be){return String(Be)}function ye(Be,je){return Math.abs((Be/je+.5)%1-.5)<.001}function Se(Be,je){return Math.abs(Be/je-1)<.001}function Ie(Be){return+Be.substring(1)}function xe(Be,je){return Be.rangebreaks&&(je=je.filter(function(ot){return Be.maskBreaks(ot.x)!==R})),je}function ue(Be){var je=Be._mainAxis,ot=[];if(je._vals){for(var $e=0;$e<je._vals.length;$e++)if(!je._vals[$e].noTick){var dt=je.l2p(je._vals[$e].x),mt=Be.p2l(dt),yt=ee.tickText(Be,mt);je._vals[$e].minor&&(yt.minor=!0,yt.text=""),ot.push(yt)}}return xe(Be,ot)}function ae(Be,je){var ot=be(b.simpleMap(Be.range,Be.r2l)),$e=Math.min(ot[0],ot[1]),dt=Math.max(ot[0],ot[1]),mt=Be.type==="category"?Be.d2l_noadd:Be.d2l;Be.type==="log"&&String(Be.dtick).charAt(0)!=="L"&&(Be.dtick="L"+Math.pow(10,Math.floor(Math.min(Be.range[0],Be.range[1]))-1));for(var yt=[],ht=0;ht<=1;ht++)if((je===void 0||!(je&&ht||je===!1&&!ht))&&(!ht||Be.minor)){var kt=ht?Be.minor.tickvals:Be.tickvals,bt=ht?[]:Be.ticktext;if(kt){b.isArrayOrTypedArray(bt)||(bt=[]);for(var St=0;St<kt.length;St++){var Lt=mt(kt[St]);if(Lt>$e&&Lt<dt){var Ot=ee.tickText(Be,Lt,!1,String(bt[St]));ht&&(Ot.minor=!0,Ot.text=""),yt.push(Ot)}}}}return xe(Be,yt)}ee.getDataToCoordFunc=function(Be,je,ot,$e){return _e(Be,je,ot,$e).d2c},ee.counterLetter=function(Be){var je=Be.charAt(0);return je==="x"?"y":je==="y"?"x":void 0},ee.minDtick=function(Be,je,ot,$e){["log","category","multicategory"].indexOf(Be.type)===-1&&$e?Be._minDtick===void 0?(Be._minDtick=je,Be._forceTick0=ot):Be._minDtick&&((Be._minDtick/je+1e-6)%1<2e-6&&((ot-Be._forceTick0)/je%1+1.000001)%1<2e-6?(Be._minDtick=je,Be._forceTick0=ot):((je/Be._minDtick+1e-6)%1>2e-6||((ot-Be._forceTick0)/Be._minDtick%1+1.000001)%1>2e-6)&&(Be._minDtick=0)):Be._minDtick=0},ee.saveRangeInitial=function(Be,je){for(var ot=ee.list(Be,"",!0),$e=!1,dt=0;dt<ot.length;dt++){var mt=ot[dt],yt=mt._rangeInitial0===void 0&&mt._rangeInitial1===void 0,ht=yt||mt.range[0]!==mt._rangeInitial0||mt.range[1]!==mt._rangeInitial1,kt=mt.autorange;(yt&&kt!==!0||je&&ht)&&(mt._rangeInitial0=kt==="min"||kt==="max reversed"?void 0:mt.range[0],mt._rangeInitial1=kt==="max"||kt==="min reversed"?void 0:mt.range[1],mt._autorangeInitial=kt,$e=!0)}return $e},ee.saveShowSpikeInitial=function(Be,je){for(var ot=ee.list(Be,"",!0),$e=!1,dt="on",mt=0;mt<ot.length;mt++){var yt=ot[mt],ht=yt._showSpikeInitial===void 0,kt=ht||yt.showspikes!==yt._showspikes;(ht||je&&kt)&&(yt._showSpikeInitial=yt.showspikes,$e=!0),dt!=="on"||yt.showspikes||(dt="off")}return Be._fullLayout._cartesianSpikesEnabled=dt,$e},ee.autoBin=function(Be,je,ot,$e,dt,mt){var yt,ht=b.aggNums(Math.min,null,Be),kt=b.aggNums(Math.max,null,Be);if(je.type==="category"||je.type==="multicategory")return{start:ht-.5,end:kt+.5,size:Math.max(1,Math.round(mt)||1),_dataSpan:kt-ht};if(dt||(dt=je.calendar),yt=je.type==="log"?{type:"linear",range:[ht,kt]}:{type:je.type,range:b.simpleMap([ht,kt],je.c2r,0,dt),calendar:dt},ee.setConvert(yt),mt=mt&&a.dtick(mt,yt.type))yt.dtick=mt,yt.tick0=a.tick0(void 0,yt.type,dt);else{var bt;if(ot)bt=(kt-ht)/ot;else{var St=b.distinctVals(Be),Lt=Math.pow(10,Math.floor(Math.log(St.minDiff)/Math.LN10)),Ot=Lt*b.roundUp(St.minDiff/Lt,[.9,1.9,4.9,9.9],!0);bt=Math.max(Ot,2*b.stdev(Be)/Math.pow(Be.length,$e?.25:.4)),y(bt)||(bt=1)}ee.autoTicks(yt,bt)}var Ft,$t=yt.dtick,on=ee.tickIncrement(ee.tickFirst(yt),$t,"reverse",dt);if(typeof $t=="number")on=function(Ht,Zt,jt,Ln,Tn){var gn=0,Qt=0,cn=0,nn=0;function hn(Dn){return(1+100*(Dn-Ht)/jt.dtick)%100<2}for(var bn=0;bn<Zt.length;bn++)Zt[bn]%1==0?cn++:y(Zt[bn])||nn++,hn(Zt[bn])&&gn++,hn(Zt[bn]+jt.dtick/2)&&Qt++;var wn=Zt.length-nn;if(cn===wn&&jt.type!=="date")jt.dtick<1?Ht=Ln-.5*jt.dtick:(Ht-=.5)+jt.dtick<Ln&&(Ht+=jt.dtick);else if(Qt<.1*wn&&(gn>.3*wn||hn(Ln)||hn(Tn))){var En=jt.dtick/2;Ht+=Ht+En<Ln?En:-En}return Ht}(on,Be,yt,ht,kt),Ft=on+(1+Math.floor((kt-on)/$t))*$t;else for(yt.dtick.charAt(0)==="M"&&(on=function(Ht,Zt,jt,Ln,Tn){var gn=b.findExactDates(Zt,Tn);if(gn.exactDays>.8){var Qt=Number(jt.substr(1));gn.exactYears>.8&&Qt%12==0?Ht=ee.tickIncrement(Ht,"M6","reverse")+1.5*d:gn.exactMonths>.8?Ht=ee.tickIncrement(Ht,"M1","reverse")+15.5*d:Ht-=C;var cn=ee.tickIncrement(Ht,jt);if(cn<=Ln)return cn}return Ht}(on,Be,$t,ht,dt)),Ft=on;Ft<=kt;)Ft=ee.tickIncrement(Ft,$t,!1,dt);return{start:je.c2r(on,0,dt),end:je.c2r(Ft,0,dt),size:$t,_dataSpan:kt-ht}},ee.prepMinorTicks=function(Be,je,ot){if(!je.minor.dtick){delete Be.dtick;var $e,dt=je.dtick&&y(je._tmin);if(dt){var mt=ee.tickIncrement(je._tmin,je.dtick,!0);$e=[je._tmin,.99*mt+.01*je._tmin]}else{var yt=b.simpleMap(je.range,je.r2l);$e=[yt[0],.8*yt[0]+.2*yt[1]]}if(Be.range=b.simpleMap($e,je.l2r),Be._isMinor=!0,ee.prepTicks(Be,ot),dt){var ht=y(je.dtick),kt=y(Be.dtick),bt=ht?je.dtick:+je.dtick.substring(1),St=kt?Be.dtick:+Be.dtick.substring(1);ht&&kt?ye(bt,St)?bt===2*A&&St===2*d&&(Be.dtick=A):bt===2*A&&St===3*d?Be.dtick=A:bt!==A||(je._input.minor||{}).nticks?Se(bt/St,2.5)?Be.dtick=bt/2:Be.dtick=bt:Be.dtick=d:String(je.dtick).charAt(0)==="M"?kt?Be.dtick="M1":ye(bt,St)?bt>=12&&St===2&&(Be.dtick="M3"):Be.dtick=je.dtick:String(Be.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?ye(bt,St)||(Be.dtick=Se(bt/St,2.5)?je.dtick/2:je.dtick):Be.dtick="D1":Be.dtick==="D2"&&+je.dtick>1&&(Be.dtick=1)}Be.range=je.range}je.minor._tick0Init===void 0&&(Be.tick0=je.tick0)},ee.prepTicks=function(Be,je){var ot=b.simpleMap(Be.range,Be.r2l,void 0,void 0,je);if(Be.tickmode==="auto"||!Be.dtick){var $e,dt=Be.nticks;dt||(Be.type==="category"||Be.type==="multicategory"?($e=Be.tickfont?b.bigFont(Be.tickfont.size||12):15,dt=Be._length/$e):($e=Be._id.charAt(0)==="y"?40:80,dt=b.constrain(Be._length/$e,4,9)+1),Be._name==="radialaxis"&&(dt*=2)),Be.minor&&Be.minor.tickmode!=="array"||Be.tickmode==="array"&&(dt*=100),Be._roughDTick=Math.abs(ot[1]-ot[0])/dt,ee.autoTicks(Be,Be._roughDTick),Be._minDtick>0&&Be.dtick<2*Be._minDtick&&(Be.dtick=Be._minDtick,Be.tick0=Be.l2r(Be._forceTick0))}Be.ticklabelmode==="period"&&function(mt){var yt;function ht(){return!(y(mt.dtick)||mt.dtick.charAt(0)!=="M")}var kt=ht(),bt=ee.getTickFormat(mt);if(bt){var St=mt._dtickInit!==mt.dtick;/%[fLQsSMX]/.test(bt)||(/%[HI]/.test(bt)?(yt=k,St&&!kt&&mt.dtick<k&&(mt.dtick=k)):/%p/.test(bt)?(yt=C,St&&!kt&&mt.dtick<C&&(mt.dtick=C)):/%[Aadejuwx]/.test(bt)?(yt=d,St&&!kt&&mt.dtick<d&&(mt.dtick=d)):/%[UVW]/.test(bt)?(yt=A,St&&!kt&&mt.dtick<A&&(mt.dtick=A)):/%[Bbm]/.test(bt)?(yt=T,St&&(kt?Ie(mt.dtick)<1:mt.dtick<_)&&(mt.dtick="M1")):/%[q]/.test(bt)?(yt=g,St&&(kt?Ie(mt.dtick)<3:mt.dtick<v)&&(mt.dtick="M3")):/%[Yy]/.test(bt)&&(yt=h,St&&(kt?Ie(mt.dtick)<12:mt.dtick<c)&&(mt.dtick="M12")))}(kt=ht())&&mt.tick0===mt._dowTick0&&(mt.tick0=mt._rawTick0),mt._definedDelta=yt}(Be),Be.tick0||(Be.tick0=Be.type==="date"?"2000-01-01":0),Be.type==="date"&&Be.dtick<.1&&(Be.dtick=.1),Me(Be)},ee.calcTicks=function(Be,je){for(var ot,$e,dt=Be.type,mt=Be.calendar,yt=Be.ticklabelstep,ht=Be.ticklabelmode==="period",kt=b.simpleMap(Be.range,Be.r2l,void 0,void 0,je),bt=kt[1]<kt[0],St=Math.min(kt[0],kt[1]),Lt=Math.max(kt[0],kt[1]),Ot=Math.max(1e3,Be._length||0),Ft=[],$t=[],on=[],Ht=[],Zt=Be.minor&&(Be.minor.ticks||Be.minor.showgrid),jt=1;jt>=(Zt?0:1);jt--){var Ln=!jt;jt?(Be._dtickInit=Be.dtick,Be._tick0Init=Be.tick0):(Be.minor._dtickInit=Be.minor.dtick,Be.minor._tick0Init=Be.minor.tick0);var Tn=jt?Be:b.extendFlat({},Be,Be.minor);if(Ln?ee.prepMinorTicks(Tn,Be,je):ee.prepTicks(Tn,je),Tn.tickmode!=="array")if(Tn.tickmode!=="sync"){var gn=be(kt),Qt=gn[0],cn=gn[1],nn=y(Tn.dtick),hn=dt==="log"&&!(nn||Tn.dtick.charAt(0)==="L"),bn=ee.tickFirst(Tn,je);if(jt){if(Be._tmin=bn,bn<Qt!==bt)break;dt!=="category"&&dt!=="multicategory"||(cn=bt?Math.max(-.5,cn):Math.min(Be._categories.length-.5,cn))}var wn,En,Dn=null,kn=bn;jt&&(nn?En=Be.dtick:dt==="date"?typeof Be.dtick=="string"&&Be.dtick.charAt(0)==="M"&&(En=T*Be.dtick.substring(1)):En=Be._roughDTick,wn=Math.round((Be.r2l(kn)-Be.r2l(Be.tick0))/En)-1);var Bn=Tn.dtick;for(Tn.rangebreaks&&Tn._tick0Init!==Tn.tick0&&(kn=Ve(kn,Be),bt||(kn=ee.tickIncrement(kn,Bn,!bt,mt))),jt&&ht&&(kn=ee.tickIncrement(kn,Bn,!bt,mt),wn--);bt?kn>=cn:kn<=cn;kn=ee.tickIncrement(kn,Bn,bt,mt)){if(jt&&wn++,Tn.rangebreaks&&!bt){if(kn<Qt)continue;if(Tn.maskBreaks(kn)===R&&Ve(kn,Tn)>=Lt)break}if(on.length>Ot||kn===Dn)break;Dn=kn;var Rn={value:kn};jt?(hn&&kn!==(0|kn)&&(Rn.simpleLabel=!0),yt>1&&wn%yt&&(Rn.skipLabel=!0),on.push(Rn)):(Rn.minor=!0,Ht.push(Rn))}}else on=[],Ft=ue(Be);else jt?(on=[],Ft=ae(Be,!Ln)):(Ht=[],$t=ae(Be,!Ln))}if(Zt&&!(Be.minor.ticks==="inside"&&Be.ticks==="outside"||Be.minor.ticks==="outside"&&Be.ticks==="inside")){for(var Kn=on.map(function(Dt){return Dt.value}),Gn=[],nr=0;nr<Ht.length;nr++){var $n=Ht[nr],fr=$n.value;if(Kn.indexOf(fr)===-1){for(var en=!1,rn=0;!en&&rn<on.length;rn++)1e7+on[rn].value===1e7+fr&&(en=!0);en||Gn.push($n)}}Ht=Gn}if(ht&&function(Dt,Bt,Jt){for(var fn=0;fn<Dt.length;fn++){var dn=Dt[fn].value,xn=fn,sn=fn+1;fn<Dt.length-1?(xn=fn,sn=fn+1):fn>0?(xn=fn-1,sn=fn):(xn=fn,sn=fn);var Yt,Wt=Dt[xn].value,tn=Dt[sn].value,ln=Math.abs(tn-Wt),An=Jt||ln,In=0;An>=c?In=ln>=c&&ln<=u?ln:h:Jt===g&&An>=v?In=ln>=v&&ln<=w?ln:g:An>=_?In=ln>=_&&ln<=m?ln:T:Jt===A&&An>=A?In=A:An>=d?In=d:Jt===C&&An>=C?In=C:Jt===k&&An>=k&&(In=k),In>=ln&&(In=ln,Yt=!0);var Nn=dn+In;if(Bt.rangebreaks&&In>0){for(var jn=0,er=0;er<84;er++){var Wn=(er+.5)/84;Bt.maskBreaks(dn*(1-Wn)+Wn*Nn)!==R&&jn++}(In*=jn/84)||(Dt[fn].drop=!0),Yt&&ln>A&&(In=ln)}(In>0||fn===0)&&(Dt[fn].periodX=dn+In/2)}}(on,Be,Be._definedDelta),Be.rangebreaks){var Cn=Be._id.charAt(0)==="y",mn=1;Be.tickmode==="auto"&&(mn=Be.tickfont?Be.tickfont.size:12);var On=NaN;for(ot=on.length-1;ot>-1;ot--)if(on[ot].drop)on.splice(ot,1);else{on[ot].value=Ve(on[ot].value,Be);var Hn=Be.c2p(on[ot].value);(Cn?On>Hn-mn:On<Hn+mn)?on.splice(bt?ot+1:ot,1):On=Hn}}Xe(Be)&&Math.abs(kt[1]-kt[0])===360&&on.pop(),Be._tmax=(on[on.length-1]||{}).value,Be._prevDateHead="",Be._inCalcTicks=!0;var Un,Zn,pr=function(Dt){Dt.text="",Be._prevDateHead=$e};for(on=on.concat(Ht),ot=0;ot<on.length;ot++){var Kt=on[ot].minor,vn=on[ot].value;Kt?$t.push({x:vn,minor:!0}):($e=Be._prevDateHead,Un=ee.tickText(Be,vn,!1,on[ot].simpleLabel),(Zn=on[ot].periodX)!==void 0&&(Un.periodX=Zn,(Zn>Lt||Zn<St)&&(Zn>Lt&&(Un.periodX=Lt),Zn<St&&(Un.periodX=St),pr(Un))),on[ot].skipLabel&&pr(Un),Ft.push(Un))}return Ft=Ft.concat($t),Be._inCalcTicks=!1,ht&&Ft.length&&(Ft[0].noTick=!0),Ft};var pe=[2,5,10],De=[1,2,3,6,12],Te=[1,2,5,10,15,30],Ae=[1,2,3,7,14],Ce=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Re=[-.301,0,.301,.699,1],Ne=[15,30,45,90,180];function ge(Be,je,ot){return je*b.roundUp(Be/je,ot)}function Me(Be){var je=Be.dtick;if(Be._tickexponent=0,y(je)||typeof je=="string"||(je=1),Be.type!=="category"&&Be.type!=="multicategory"||(Be._tickround=null),Be.type==="date"){var ot=Be.r2l(Be.tick0),$e=Be.l2r(ot).replace(/(^-|i)/g,""),dt=$e.length;if(String(je).charAt(0)==="M")dt>10||$e.substr(5)!=="01-01"?Be._tickround="d":Be._tickround=+je.substr(1)%12==0?"y":"m";else if(je>=d&&dt<=10||je>=15*d)Be._tickround="d";else if(je>=D&&dt<=16||je>=k)Be._tickround="M";else if(je>=O&&dt<=19||je>=D)Be._tickround="S";else{var mt=Be.l2r(ot+je).replace(/^-/,"").length;Be._tickround=Math.max(dt,mt)-20,Be._tickround<0&&(Be._tickround=4)}}else if(y(je)||je.charAt(0)==="L"){var yt=Be.range.map(Be.r2d||Number);y(je)||(je=Number(je.substr(1))),Be._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var ht=Math.max(Math.abs(yt[0]),Math.abs(yt[1])),kt=Math.floor(Math.log(ht)/Math.LN10+.01),bt=Be.minexponent===void 0?3:Be.minexponent;Math.abs(kt)>bt&&(Le(Be.exponentformat)&&!Ue(kt)?Be._tickexponent=3*Math.round((kt-1)/3):Be._tickexponent=kt)}else Be._tickround=null}function Ee(Be,je,ot){var $e=Be.tickfont||{};return{x:je,dx:0,dy:0,text:ot||"",fontSize:$e.size,font:$e.family,fontWeight:$e.weight,fontStyle:$e.style,fontVariant:$e.variant,fontTextcase:$e.textcase,fontLineposition:$e.lineposition,fontShadow:$e.shadow,fontColor:$e.color}}ee.autoTicks=function(Be,je,ot){var $e;function dt(Lt){return Math.pow(Lt,Math.floor(Math.log(je)/Math.LN10))}if(Be.type==="date"){Be.tick0=b.dateTick0(Be.calendar,0);var mt=2*je;if(mt>h)je/=h,$e=dt(10),Be.dtick="M"+12*ge(je,$e,pe);else if(mt>T)je/=T,Be.dtick="M"+ge(je,1,De);else if(mt>d){if(Be.dtick=ge(je,d,Be._hasDayOfWeekBreaks?[1,2,7,14]:Ae),!ot){var yt=ee.getTickFormat(Be),ht=Be.ticklabelmode==="period";ht&&(Be._rawTick0=Be.tick0),/%[uVW]/.test(yt)?Be.tick0=b.dateTick0(Be.calendar,2):Be.tick0=b.dateTick0(Be.calendar,1),ht&&(Be._dowTick0=Be.tick0)}}else mt>k?Be.dtick=ge(je,k,De):mt>D?Be.dtick=ge(je,D,Te):mt>O?Be.dtick=ge(je,O,Te):($e=dt(10),Be.dtick=ge(je,$e,pe))}else if(Be.type==="log"){Be.tick0=0;var kt=b.simpleMap(Be.range,Be.r2l);if(Be._isMinor&&(je*=1.5),je>.7)Be.dtick=Math.ceil(je);else if(Math.abs(kt[1]-kt[0])<1){var bt=1.5*Math.abs((kt[1]-kt[0])/je);je=Math.abs(Math.pow(10,kt[1])-Math.pow(10,kt[0]))/bt,$e=dt(10),Be.dtick="L"+ge(je,$e,pe)}else Be.dtick=je>.3?"D2":"D1"}else Be.type==="category"||Be.type==="multicategory"?(Be.tick0=0,Be.dtick=Math.ceil(Math.max(je,1))):Xe(Be)?(Be.tick0=0,$e=1,Be.dtick=ge(je,$e,Ne)):(Be.tick0=0,$e=dt(10),Be.dtick=ge(je,$e,pe));if(Be.dtick===0&&(Be.dtick=1),!y(Be.dtick)&&typeof Be.dtick!="string"){var St=Be.dtick;throw Be.dtick=1,"ax.dtick error: "+String(St)}},ee.tickIncrement=function(Be,je,ot,$e){var dt=ot?-1:1;if(y(je))return b.increment(Be,dt*je);var mt=je.charAt(0),yt=dt*Number(je.substr(1));if(mt==="M")return b.incrementMonth(Be,yt,$e);if(mt==="L")return Math.log(Math.pow(10,Be)+yt)/Math.LN10;if(mt==="D"){var ht=je==="D2"?Re:Ce,kt=Be+.01*dt,bt=b.roundUp(b.mod(kt,1),ht,ot);return Math.floor(kt)+Math.log(p.round(Math.pow(10,bt),1))/Math.LN10}throw"unrecognized dtick "+String(je)},ee.tickFirst=function(Be,je){var ot=Be.r2l||Number,$e=b.simpleMap(Be.range,ot,void 0,void 0,je),dt=$e[1]<$e[0],mt=dt?Math.floor:Math.ceil,yt=be($e)[0],ht=Be.dtick,kt=ot(Be.tick0);if(y(ht)){var bt=mt((yt-kt)/ht)*ht+kt;return Be.type!=="category"&&Be.type!=="multicategory"||(bt=b.constrain(bt,0,Be._categories.length-1)),bt}var St=ht.charAt(0),Lt=Number(ht.substr(1));if(St==="M"){for(var Ot,Ft,$t,on=0,Ht=kt;on<10;){if(((Ot=ee.tickIncrement(Ht,ht,dt,Be.calendar))-yt)*(Ht-yt)<=0)return dt?Math.min(Ht,Ot):Math.max(Ht,Ot);Ft=(yt-(Ht+Ot)/2)/(Ot-Ht),$t=St+(Math.abs(Math.round(Ft))||1)*Lt,Ht=ee.tickIncrement(Ht,$t,Ft<0?!dt:dt,Be.calendar),on++}return b.error("tickFirst did not converge",Be),Ht}if(St==="L")return Math.log(mt((Math.pow(10,yt)-kt)/Lt)*Lt+kt)/Math.LN10;if(St==="D"){var Zt=ht==="D2"?Re:Ce,jt=b.roundUp(b.mod(yt,1),Zt,dt);return Math.floor(yt)+Math.log(p.round(Math.pow(10,jt),1))/Math.LN10}throw"unrecognized dtick "+String(ht)},ee.tickText=function(Be,je,ot,$e){var dt,mt=Ee(Be,je),yt=Be.tickmode==="array",ht=ot||yt,kt=Be.type,bt=kt==="category"?Be.d2l_noadd:Be.d2l,St=function(Ht){var Zt=Be.l2p(Ht);return Zt>=0&&Zt<=Be._length?Ht:null};if(yt&&b.isArrayOrTypedArray(Be.ticktext)){var Lt=b.simpleMap(Be.range,Be.r2l),Ot=(Math.abs(Lt[1]-Lt[0])-(Be._lBreaks||0))/1e4;for(dt=0;dt<Be.ticktext.length&&!(Math.abs(je-bt(Be.tickvals[dt]))<Ot);dt++);if(dt<Be.ticktext.length)return mt.text=String(Be.ticktext[dt]),mt.xbnd=[St(mt.x-.5),St(mt.x+Be.dtick-.5)],mt}function Ft(Ht){if(Ht===void 0)return!0;if(ot)return Ht==="none";var Zt={first:Be._tmin,last:Be._tmax}[Ht];return Ht!=="all"&&je!==Zt}var $t=ot?"never":Be.exponentformat!=="none"&&Ft(Be.showexponent)?"hide":"";if(kt==="date"?function(Ht,Zt,jt,Ln){var Tn=Ht._tickround,gn=jt&&Ht.hoverformat||ee.getTickFormat(Ht);(Ln=!gn&&Ln)&&(Tn=y(Tn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Tn]);var Qt,cn=b.formatDate(Zt.x,gn,Tn,Ht._dateFormat,Ht.calendar,Ht._extraFormat),nn=cn.indexOf(`
`);if(nn!==-1&&(Qt=cn.substr(nn+1),cn=cn.substr(0,nn)),Ln&&(Qt===void 0||cn!=="00:00:00"&&cn!=="00:00"?cn.length===8&&(cn=cn.replace(/:00$/,"")):(cn=Qt,Qt="")),Qt)if(jt)Tn==="d"?cn+=", "+Qt:cn=Qt+(cn?", "+cn:"");else if(Ht._inCalcTicks&&Ht._prevDateHead===Qt){var hn=Ze(Ht),bn=Ht._trueSide||Ht.side;(!hn&&bn==="top"||hn&&bn==="bottom")&&(cn+="<br> ")}else Ht._prevDateHead=Qt,cn+="<br>"+Qt;Zt.text=cn}(Be,mt,ot,ht):kt==="log"?function(Ht,Zt,jt,Ln,Tn){var gn=Ht.dtick,Qt=Zt.x,cn=Ht.tickformat,nn=typeof gn=="string"&&gn.charAt(0);if(Tn==="never"&&(Tn=""),Ln&&nn!=="L"&&(gn="L3",nn="L"),cn||nn==="L")Zt.text=Ge(Math.pow(10,Qt),Ht,Tn,Ln);else if(y(gn)||nn==="D"&&b.mod(Qt+.01,1)<.1){var hn=Math.round(Qt),bn=Math.abs(hn),wn=Ht.exponentformat;wn==="power"||Le(wn)&&Ue(hn)?(Zt.text=hn===0?1:hn===1?"10":"10<sup>"+(hn>1?"":L)+bn+"</sup>",Zt.fontSize*=1.25):(wn==="e"||wn==="E")&&bn>2?Zt.text="1"+wn+(hn>0?"+":L)+bn:(Zt.text=Ge(Math.pow(10,Qt),Ht,"","fakehover"),gn==="D1"&&Ht._id.charAt(0)==="y"&&(Zt.dy-=Zt.fontSize/6))}else{if(nn!=="D")throw"unrecognized dtick "+String(gn);Zt.text=String(Math.round(Math.pow(10,b.mod(Qt,1)))),Zt.fontSize*=.75}if(Ht.dtick==="D1"){var En=String(Zt.text).charAt(0);En!=="0"&&En!=="1"||(Ht._id.charAt(0)==="y"?Zt.dx-=Zt.fontSize/4:(Zt.dy+=Zt.fontSize/2,Zt.dx+=(Ht.range[1]>Ht.range[0]?1:-1)*Zt.fontSize*(Qt<0?.5:.25)))}}(Be,mt,0,ht,$t):kt==="category"?function(Ht,Zt){var jt=Ht._categories[Math.round(Zt.x)];jt===void 0&&(jt=""),Zt.text=String(jt)}(Be,mt):kt==="multicategory"?function(Ht,Zt,jt){var Ln=Math.round(Zt.x),Tn=Ht._categories[Ln]||[],gn=Tn[1]===void 0?"":String(Tn[1]),Qt=Tn[0]===void 0?"":String(Tn[0]);jt?Zt.text=Qt+" - "+gn:(Zt.text=gn,Zt.text2=Qt)}(Be,mt,ot):Xe(Be)?function(Ht,Zt,jt,Ln,Tn){if(Ht.thetaunit!=="radians"||jt)Zt.text=Ge(Zt.x,Ht,Tn,Ln);else{var gn=Zt.x/180;if(gn===0)Zt.text="0";else{var Qt=function(nn){function hn(Dn,kn){return Math.abs(Dn-kn)<=1e-6}var bn=function(Dn){for(var kn=1;!hn(Math.round(Dn*kn)/kn,Dn);)kn*=10;return kn}(nn),wn=nn*bn,En=Math.abs(function Dn(kn,Bn){return hn(Bn,0)?kn:Dn(Bn,kn%Bn)}(wn,bn));return[Math.round(wn/En),Math.round(bn/En)]}(gn);if(Qt[1]>=100)Zt.text=Ge(b.deg2rad(Zt.x),Ht,Tn,Ln);else{var cn=Zt.x<0;Qt[1]===1?Qt[0]===1?Zt.text="\u03C0":Zt.text=Qt[0]+"\u03C0":Zt.text=["<sup>",Qt[0],"</sup>","\u2044","<sub>",Qt[1],"</sub>","\u03C0"].join(""),cn&&(Zt.text=L+Zt.text)}}}}(Be,mt,ot,ht,$t):function(Ht,Zt,jt,Ln,Tn){Tn==="never"?Tn="":Ht.showexponent==="all"&&Math.abs(Zt.x/Ht.dtick)<1e-6&&(Tn="hide"),Zt.text=Ge(Zt.x,Ht,Tn,Ln)}(Be,mt,0,ht,$t),$e||(Be.tickprefix&&!Ft(Be.showtickprefix)&&(mt.text=Be.tickprefix+mt.text),Be.ticksuffix&&!Ft(Be.showticksuffix)&&(mt.text+=Be.ticksuffix)),Be.labelalias&&Be.labelalias.hasOwnProperty(mt.text)){var on=Be.labelalias[mt.text];typeof on=="string"&&(mt.text=on)}return(Be.tickson==="boundaries"||Be.showdividers)&&(mt.xbnd=[St(mt.x-.5),St(mt.x+Be.dtick-.5)]),mt},ee.hoverLabelText=function(Be,je,ot){ot&&(Be=b.extendFlat({},Be,{hoverformat:ot}));var $e=b.isArrayOrTypedArray(je)?je[0]:je,dt=b.isArrayOrTypedArray(je)?je[1]:void 0;if(dt!==void 0&&dt!==$e)return ee.hoverLabelText(Be,$e,ot)+" - "+ee.hoverLabelText(Be,dt,ot);var mt=Be.type==="log"&&$e<=0,yt=ee.tickText(Be,Be.c2l(mt?-$e:$e),"hover").text;return mt?$e===0?"0":L+yt:yt};var Fe=["f","p","n","\u03BC","m","","k","M","G","T"];function Le(Be){return Be==="SI"||Be==="B"}function Ue(Be){return Be>14||Be<-15}function Ge(Be,je,ot,$e){var dt=Be<0,mt=je._tickround,yt=ot||je.exponentformat||"B",ht=je._tickexponent,kt=ee.getTickFormat(je),bt=je.separatethousands;if($e){var St={exponentformat:yt,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:y(Be)&&Math.abs(Be)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,Be||1]};Me(St),mt=(Number(St._tickround)||0)+4,ht=St._tickexponent,je.hoverformat&&(kt=je.hoverformat)}if(kt)return je._numFormat(kt)(Be).replace(/-/g,L);var Lt,Ot=Math.pow(10,-mt)/2;if(yt==="none"&&(ht=0),(Be=Math.abs(Be))<Ot)Be="0",dt=!1;else{if(Be+=Ot,ht&&(Be*=Math.pow(10,-ht),mt+=ht),mt===0)Be=String(Math.floor(Be));else if(mt<0){Be=(Be=String(Math.round(Be))).substr(0,Be.length+mt);for(var Ft=mt;Ft<0;Ft++)Be+="0"}else{var $t=(Be=String(Be)).indexOf(".")+1;$t&&(Be=Be.substr(0,$t+mt).replace(/\.?0+$/,""))}Be=b.numSeparate(Be,je._separators,bt)}return ht&&yt!=="hide"&&(Le(yt)&&Ue(ht)&&(yt="power"),Lt=ht<0?L+-ht:yt!=="power"?"+"+ht:String(ht),yt==="e"||yt==="E"?Be+=yt+Lt:yt==="power"?Be+="\xD710<sup>"+Lt+"</sup>":yt==="B"&&ht===9?Be+="B":Le(yt)&&(Be+=Fe[ht/3+5])),dt?L+Be:Be}function Ke(Be,je){if(Be){var ot=Object.keys(j).reduce(function($e,dt){return je.indexOf(dt)!==-1&&j[dt].forEach(function(mt){$e[mt]=1}),$e},{});Object.keys(Be).forEach(function($e){ot[$e]||($e.length===1?Be[$e]=0:delete Be[$e])})}}function at(Be,je){for(var ot=[],$e={},dt=0;dt<je.length;dt++){var mt=je[dt];$e[mt.text2]?$e[mt.text2].push(mt.x):$e[mt.text2]=[mt.x]}for(var yt in $e)ot.push(Ee(Be,b.interp($e[yt],.5),yt));return ot}function st(Be){return Be.periodX!==void 0?Be.periodX:Be.x}function vt(Be){return[Be.text,Be.x,Be.axInfo,Be.font,Be.fontSize,Be.fontColor].join("_")}function xt(Be){var je=Be.title.font.size,ot=(Be.title.text.match(s.BR_TAG_ALL)||[]).length;return Be.title.hasOwnProperty("standoff")?je*(ie+ot*re):ot?je*(ot+1)*re:je}function gt(Be,je){var ot=Be.l2p(je);return ot>1&&ot<Be._length-1}function nt(Be){var je=p.select(Be),ot=je.select(".text-math-group");return ot.empty()?je.select("text"):ot}function et(Be){return Be._id+".automargin"}function At(Be){return et(Be)+".mirror"}function Pt(Be){return Be._id+".rangeslider"}function Rt(Be,je){for(var ot=0;ot<je.length;ot++)Be.indexOf(je[ot])===-1&&Be.push(je[ot])}function Et(Be,je,ot){var $e,dt,mt=[],yt=[],ht=Be.layout;for($e=0;$e<je.length;$e++)mt.push(ee.getFromId(Be,je[$e]));for($e=0;$e<ot.length;$e++)yt.push(ee.getFromId(Be,ot[$e]));var kt=Object.keys(i),bt=["anchor","domain","overlaying","position","side","tickangle","editType"],St=["linear","log"];for($e=0;$e<kt.length;$e++){var Lt=kt[$e],Ot=mt[0][Lt],Ft=yt[0][Lt],$t=!0,on=!1,Ht=!1;if(Lt.charAt(0)!=="_"&&typeof Ot!="function"&&bt.indexOf(Lt)===-1){for(dt=1;dt<mt.length&&$t;dt++){var Zt=mt[dt][Lt];Lt==="type"&&St.indexOf(Ot)!==-1&&St.indexOf(Zt)!==-1&&Ot!==Zt?on=!0:Zt!==Ot&&($t=!1)}for(dt=1;dt<yt.length&&$t;dt++){var jt=yt[dt][Lt];Lt==="type"&&St.indexOf(Ft)!==-1&&St.indexOf(jt)!==-1&&Ft!==jt?Ht=!0:yt[dt][Lt]!==Ft&&($t=!1)}$t&&(on&&(ht[mt[0]._name].type="linear"),Ht&&(ht[yt[0]._name].type="linear"),Ye(ht,Lt,mt,yt,Be._fullLayout._dfltTitle))}}for($e=0;$e<Be._fullLayout.annotations.length;$e++){var Ln=Be._fullLayout.annotations[$e];je.indexOf(Ln.xref)!==-1&&ot.indexOf(Ln.yref)!==-1&&b.swapAttrs(ht.annotations[$e],["?"])}}function Ye(Be,je,ot,$e,dt){var mt,yt=b.nestedProperty,ht=yt(Be[ot[0]._name],je).get(),kt=yt(Be[$e[0]._name],je).get();for(je==="title"&&(ht&&ht.text===dt.x&&(ht.text=dt.y),kt&&kt.text===dt.y&&(kt.text=dt.x)),mt=0;mt<ot.length;mt++)yt(Be,ot[mt]._name+"."+je).set(kt);for(mt=0;mt<$e.length;mt++)yt(Be,$e[mt]._name+"."+je).set(ht)}function Xe(Be){return Be._id==="angularaxis"}function Ve(Be,je){for(var ot=je._rangebreaks.length,$e=0;$e<ot;$e++){var dt=je._rangebreaks[$e];if(Be>=dt.min&&Be<dt.max)return dt.max}return Be}function Ze(Be){return(Be.ticklabelposition||"").indexOf("inside")!==-1}function lt(Be,je){Ze(Be._anchorAxis||{})&&Be._hideCounterAxisInsideTickLabels&&Be._hideCounterAxisInsideTickLabels(je)}function it(Be,je,ot,$e){var dt,mt=Be.anchor==="free"||Be.overlaying!==void 0&&Be.overlaying!==!1?Be.overlaying:Be._id;dt=$e?Be.side==="right"?je:-je:je,mt in ot||(ot[mt]={}),Be.side in ot[mt]||(ot[mt][Be.side]=0),ot[mt][Be.side]+=dt}ee.getTickFormat=function(Be){var je,ot,$e,dt,mt,yt,ht,kt;function bt(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*T}function St(Ot,Ft){var $t=["L","D"];if(typeof Ot==typeof Ft){if(typeof Ot=="number")return Ot-Ft;var on=$t.indexOf(Ot.charAt(0)),Ht=$t.indexOf(Ft.charAt(0));return on===Ht?Number(Ot.replace(/(L|D)/g,""))-Number(Ft.replace(/(L|D)/g,"")):on-Ht}return typeof Ot=="number"?1:-1}function Lt(Ot,Ft){var $t=Ft[0]===null,on=Ft[1]===null,Ht=St(Ot,Ft[0])>=0,Zt=St(Ot,Ft[1])<=0;return($t||Ht)&&(on||Zt)}if(Be.tickformatstops&&Be.tickformatstops.length>0)switch(Be.type){case"date":case"linear":for(je=0;je<Be.tickformatstops.length;je++)if(($e=Be.tickformatstops[je]).enabled&&(dt=Be.dtick,mt=$e.dtickrange,yt=void 0,ht=void 0,kt=void 0,yt=bt||function(Ot){return Ot},ht=mt[0],kt=mt[1],(!ht&&typeof ht!="number"||yt(ht)<=yt(dt))&&(!kt&&typeof kt!="number"||yt(kt)>=yt(dt)))){ot=$e;break}break;case"log":for(je=0;je<Be.tickformatstops.length;je++)if(($e=Be.tickformatstops[je]).enabled&&Lt(Be.dtick,$e.dtickrange)){ot=$e;break}}return ot?ot.value:Be.tickformat},ee.getSubplots=function(Be,je){var ot=Be._fullLayout._subplots,$e=ot.cartesian.concat(ot.gl2d||[]),dt=je?ee.findSubplotsWithAxis($e,je):$e;return dt.sort(function(mt,yt){var ht=mt.substr(1).split("y"),kt=yt.substr(1).split("y");return ht[0]===kt[0]?+ht[1]-+kt[1]:+ht[0]-+kt[0]}),dt},ee.findSubplotsWithAxis=function(Be,je){for(var ot=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),$e=[],dt=0;dt<Be.length;dt++){var mt=Be[dt];ot.test(mt)&&$e.push(mt)}return $e},ee.makeClipPaths=function(Be){var je=Be._fullLayout;if(!je._hasOnlyLargeSploms){var ot,$e,dt={_offset:0,_length:je.width,_id:""},mt={_offset:0,_length:je.height,_id:""},yt=ee.list(Be,"x",!0),ht=ee.list(Be,"y",!0),kt=[];for(ot=0;ot<yt.length;ot++)for(kt.push({x:yt[ot],y:mt}),$e=0;$e<ht.length;$e++)ot===0&&kt.push({x:dt,y:ht[$e]}),kt.push({x:yt[ot],y:ht[$e]});var bt=je._clips.selectAll(".axesclip").data(kt,function(St){return St.x._id+St.y._id});bt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(St){return"clip"+je._uid+St.x._id+St.y._id}).append("rect"),bt.exit().remove(),bt.each(function(St){p.select(this).select("rect").attr({x:St.x._offset||0,y:St.y._offset||0,width:St.x._length||1,height:St.y._length||1})})}},ee.draw=function(Be,je,ot){var $e=Be._fullLayout;je==="redraw"&&$e._paper.selectAll("g.subplot").each(function(ht){var kt=ht[0],bt=$e._plots[kt];if(bt){var St=bt.xaxis,Lt=bt.yaxis;bt.xaxislayer.selectAll("."+St._id+"tick").remove(),bt.yaxislayer.selectAll("."+Lt._id+"tick").remove(),bt.xaxislayer.selectAll("."+St._id+"tick2").remove(),bt.yaxislayer.selectAll("."+Lt._id+"tick2").remove(),bt.xaxislayer.selectAll("."+St._id+"divider").remove(),bt.yaxislayer.selectAll("."+Lt._id+"divider").remove(),bt.minorGridlayer&&bt.minorGridlayer.selectAll("path").remove(),bt.gridlayer&&bt.gridlayer.selectAll("path").remove(),bt.zerolinelayer&&bt.zerolinelayer.selectAll("path").remove(),$e._infolayer.select(".g-"+St._id+"title").remove(),$e._infolayer.select(".g-"+Lt._id+"title").remove()}});var dt=je&&je!=="redraw"?je:ee.listIds(Be),mt=ee.list(Be).filter(function(ht){return ht.autoshift}).map(function(ht){return ht.overlaying});dt.map(function(ht){var kt=ee.getFromId(Be,ht);if(kt.tickmode==="sync"&&kt.overlaying){var bt=dt.findIndex(function(St){return St===kt.overlaying});bt>=0&&dt.unshift(dt.splice(bt,1).shift())}});var yt={false:{left:0,right:0}};return b.syncOrAsync(dt.map(function(ht){return function(){if(ht){var kt=ee.getFromId(Be,ht);ot||(ot={}),ot.axShifts=yt,ot.overlayingShiftedAx=mt;var bt=ee.drawOne(Be,kt,ot);return kt._shiftPusher&&it(kt,kt._fullDepth||0,yt,!0),kt._r=kt.range.slice(),kt._rl=b.simpleMap(kt._r,kt.r2l),bt}}}))},ee.drawOne=function(Be,je,ot){var $e,dt,mt,yt=(ot=ot||{}).axShifts||{},ht=ot.overlayingShiftedAx||[];je.setScale();var kt=Be._fullLayout,bt=je._id,St=bt.charAt(0),Lt=ee.counterLetter(bt),Ot=kt._plots[je._mainSubplot];if(Ot){if(je._shiftPusher=je.autoshift||ht.indexOf(je._id)!==-1||ht.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var Ft=je.linewidth/2||0;je.ticks==="inside"&&(Ft+=je.ticklen),it(je,Ft,yt,!0),it(je,je.shift||0,yt,!1)}ot.skipTitle===!0&&je._shift!==void 0||(je._shift=function(sn,Yt){return sn.autoshift?Yt[sn.overlaying][sn.side]:sn.shift||0}(je,yt));var $t=Ot[St+"axislayer"],on=je._mainLinePosition,Ht=on+=je._shift,Zt=je._mainMirrorPosition,jt=je._vals=ee.calcTicks(je),Ln=[je.mirror,Ht,Zt].join("_");for($e=0;$e<jt.length;$e++)jt[$e].axInfo=Ln;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var Tn={};if(je.visible){var gn,Qt,cn=ee.makeTransTickFn(je),nn=ee.makeTransTickLabelFn(je),hn=je.ticks==="inside",bn=je.ticks==="outside";if(je.tickson==="boundaries"){var wn=function(sn,Yt){var Wt,tn=[],ln=function(An,In){var Nn=An.xbnd[In];Nn!==null&&tn.push(b.extendFlat({},An,{x:Nn}))};if(Yt.length){for(Wt=0;Wt<Yt.length;Wt++)ln(Yt[Wt],0);ln(Yt[Wt-1],1)}return tn}(0,jt);Qt=ee.clipEnds(je,wn),gn=hn?Qt:wn}else Qt=ee.clipEnds(je,jt),gn=hn&&je.ticklabelmode!=="period"?Qt:jt;var En,Dn=je._gridVals=Qt,kn=function(sn,Yt){var Wt,tn,ln=[],An=Yt.length&&Yt[Yt.length-1].x<Yt[0].x,In=function(jn,er){var Wn=jn.xbnd[er];Wn!==null&&ln.push(b.extendFlat({},jn,{x:Wn}))};if(sn.showdividers&&Yt.length){for(Wt=0;Wt<Yt.length;Wt++){var Nn=Yt[Wt];Nn.text2!==tn&&In(Nn,An?1:0),tn=Nn.text2}In(Yt[Wt-1],An?0:1)}return ln}(je,jt);if(!kt._hasOnlyLargeSploms){var Bn=je._subplotsWith,Rn={};for($e=0;$e<Bn.length;$e++){dt=Bn[$e];var Kn=(mt=kt._plots[dt])[Lt+"axis"],Gn=Kn._mainAxis._id;if(!Rn[Gn]){Rn[Gn]=1;var nr=St==="x"?"M0,"+Kn._offset+"v"+Kn._length:"M"+Kn._offset+",0h"+Kn._length;ee.drawGrid(Be,je,{vals:Dn,counterAxis:Kn,layer:mt.gridlayer.select("."+bt),minorLayer:mt.minorGridlayer.select("."+bt),path:nr,transFn:cn}),ee.drawZeroLine(Be,je,{counterAxis:Kn,layer:mt.zerolinelayer,path:nr,transFn:cn})}}}var $n=ee.getTickSigns(je),fr=ee.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var en,rn,Cn,mn,On=ee.makeTickPath(je,Ht,$n[2]),Hn=ee.makeTickPath(je,Ht,fr[2],{minor:!0});if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(en=ee.makeTickPath(je,Zt,$n[3]),rn=ee.makeTickPath(je,Zt,fr[3],{minor:!0}),Cn=On+en,mn=Hn+rn):(en="",rn="",Cn=On,mn=Hn),je.showdividers&&bn&&je.tickson==="boundaries"){var Un={};for($e=0;$e<kn.length;$e++)Un[kn[$e].x]=1;En=function(sn){return Un[sn.x]?en:Cn}}else En=function(sn){return sn.minor?mn:Cn}}if(ee.drawTicks(Be,je,{vals:gn,layer:$t,path:En,transFn:cn}),je.mirror==="allticks"){var Zn=Object.keys(je._linepositions||{});for($e=0;$e<Zn.length;$e++){dt=Zn[$e],mt=kt._plots[dt];var pr=je._linepositions[dt]||[],Kt=pr[0],vn=pr[1],Dt=pr[2],Bt=ee.makeTickPath(je,Kt,Dt?$n[0]:fr[0],{minor:Dt})+ee.makeTickPath(je,vn,Dt?$n[1]:fr[1],{minor:Dt});ee.drawTicks(Be,je,{vals:gn,layer:mt[St+"axislayer"],path:Bt,transFn:cn})}}var Jt=[];if(Jt.push(function(){return ee.drawLabels(Be,je,{vals:jt,layer:$t,plotinfo:mt,transFn:nn,labelFns:ee.makeLabelFns(je,Ht)})}),je.type==="multicategory"){var fn={x:2,y:10}[St];Jt.push(function(){var sn={x:"height",y:"width"}[St],Yt=xn()[sn]+fn+(je._tickAngles[bt+"tick"]?je.tickfont.size*re:0);return ee.drawLabels(Be,je,{vals:at(je,jt),layer:$t,cls:bt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:cn,labelFns:ee.makeLabelFns(je,Ht+Yt*$n[4])})}),Jt.push(function(){return je._depth=$n[4]*(xn("tick2")[je.side]-Ht),function(sn,Yt,Wt){var tn=Yt._id+"divider",ln=Wt.vals,An=Wt.layer.selectAll("path."+tn).data(ln,vt);An.exit().remove(),An.enter().insert("path",":first-child").classed(tn,1).classed("crisp",1).call(o.stroke,Yt.dividercolor).style("stroke-width",r.crispRound(sn,Yt.dividerwidth,1)+"px"),An.attr("transform",Wt.transFn).attr("d",Wt.path)}(Be,je,{vals:kn,layer:$t,path:ee.makeTickPath(je,Ht,$n[4],{len:je._depth}),transFn:cn})})}else je.title.hasOwnProperty("standoff")&&Jt.push(function(){je._depth=$n[4]*(xn()[je.side]-Ht)});var dn=M.getComponentMethod("rangeslider","isVisible")(je);return ot.skipTitle||dn&&je.side==="bottom"||Jt.push(function(){return function(sn,Yt){var Wt,tn=sn._fullLayout,ln=Yt._id,An=ln.charAt(0),In=Yt.title.font.size,Nn=(Yt.title.text.match(s.BR_TAG_ALL)||[]).length;if(Yt.title.hasOwnProperty("standoff"))Yt.side==="bottom"||Yt.side==="right"?Wt=Yt._depth+Yt.title.standoff+In*ie:Yt.side!=="top"&&Yt.side!=="left"||(Wt=Yt._depth+Yt.title.standoff+In*(Y+Nn*re));else{var jn=Ze(Yt);if(Yt.type==="multicategory")Wt=Yt._depth;else{var er=1.5*In;jn&&(er=.5*In,Yt.ticks==="outside"&&(er+=Yt.ticklen)),Wt=10+er+(Yt.linewidth?Yt.linewidth-1:0)}jn||(Wt+=An==="x"?Yt.side==="top"?In*(Yt.showticklabels?1:0):In*(Yt.showticklabels?1.5:.5):Yt.side==="right"?In*(Yt.showticklabels?1:.5):In*(Yt.showticklabels?.5:0))}var Wn,Jn,rr,Qn,hr=ee.getPxPosition(sn,Yt);if(An==="x"?(Jn=Yt._offset+Yt._length/2,rr=Yt.side==="top"?hr-Wt:hr+Wt):(rr=Yt._offset+Yt._length/2,Jn=Yt.side==="right"?hr+Wt:hr-Wt,Wn={rotate:"-90",offset:0}),Yt.type!=="multicategory"){var br=Yt._selections[Yt._id+"tick"];if(Qn={selection:br,side:Yt.side},br&&br.node()&&br.node().parentNode){var gr=r.getTranslate(br.node().parentNode);Qn.offsetLeft=gr.x,Qn.offsetTop=gr.y}Yt.title.hasOwnProperty("standoff")&&(Qn.pad=0)}return Yt._titleStandoff=Wt,t.draw(sn,ln+"title",{propContainer:Yt,propName:Yt._name+".title.text",placeholder:tn._dfltTitle[An],avoid:Qn,transform:Wn,attributes:{x:Jn,y:rr,"text-anchor":"middle"}})}(Be,je)}),Jt.push(function(){var sn,Yt,Wt,tn,ln=je.side.charAt(0),An=ne[je.side].charAt(0),In=ee.getPxPosition(Be,je),Nn=bn?je.ticklen:0;(je.automargin||dn||je._shiftPusher)&&(je.type==="multicategory"?sn=xn("tick2"):(sn=xn(),St==="x"&&ln==="b"&&(je._depth=Math.max(sn.width>0?sn.bottom-In:0,Nn))));var jn=0,er=0;if(je._shiftPusher&&(jn=Math.max(Nn,sn.height>0?ln==="l"?In-sn.left:sn.right-In:0),je.title.text!==kt._dfltTitle[St]&&(er=(je._titleStandoff||0)+(je._titleScoot||0),ln==="l"&&(er+=xt(je))),je._fullDepth=Math.max(jn,er)),je.automargin){Yt={x:0,y:0,r:0,l:0,t:0,b:0};var Wn=[0,1],Jn=typeof je._shift=="number"?je._shift:0;if(St==="x"){if(ln==="b"?Yt[ln]=je._depth:(Yt[ln]=je._depth=Math.max(sn.width>0?In-sn.top:0,Nn),Wn.reverse()),sn.width>0){var rr=sn.right-(je._offset+je._length);rr>0&&(Yt.xr=1,Yt.r=rr);var Qn=je._offset-sn.left;Qn>0&&(Yt.xl=0,Yt.l=Qn)}}else if(ln==="l"?(je._depth=Math.max(sn.height>0?In-sn.left:0,Nn),Yt[ln]=je._depth-Jn):(je._depth=Math.max(sn.height>0?sn.right-In:0,Nn),Yt[ln]=je._depth+Jn,Wn.reverse()),sn.height>0){var hr=sn.bottom-(je._offset+je._length);hr>0&&(Yt.yb=0,Yt.b=hr);var br=je._offset-sn.top;br>0&&(Yt.yt=1,Yt.t=br)}Yt[Lt]=je.anchor==="free"?je.position:je._anchorAxis.domain[Wn[0]],je.title.text!==kt._dfltTitle[St]&&(Yt[ln]+=xt(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&((Wt={x:0,y:0,r:0,l:0,t:0,b:0})[An]=je.linewidth,je.mirror&&je.mirror!==!0&&(Wt[An]+=Nn),je.mirror===!0||je.mirror==="ticks"?Wt[Lt]=je._anchorAxis.domain[Wn[1]]:je.mirror!=="all"&&je.mirror!=="allticks"||(Wt[Lt]=[je._counterDomainMin,je._counterDomainMax][Wn[1]]))}dn&&(tn=M.getComponentMethod("rangeslider","autoMarginOpts")(Be,je)),typeof je.automargin=="string"&&(Ke(Yt,je.automargin),Ke(Wt,je.automargin)),n.autoMargin(Be,et(je),Yt),n.autoMargin(Be,At(je),Wt),n.autoMargin(Be,Pt(je),tn)}),b.syncOrAsync(Jt)}}function xn(sn){var Yt=bt+(sn||"tick");return Tn[Yt]||(Tn[Yt]=function(Wt,tn,ln){var An,In,Nn,jn;if(Wt._selections[tn].size())An=1/0,In=-1/0,Nn=1/0,jn=-1/0,Wt._selections[tn].each(function(){var Wn=nt(this),Jn=r.bBox(Wn.node().parentNode);An=Math.min(An,Jn.top),In=Math.max(In,Jn.bottom),Nn=Math.min(Nn,Jn.left),jn=Math.max(jn,Jn.right)});else{var er=ee.makeLabelFns(Wt,ln);An=In=er.yFn({dx:0,dy:0,fontSize:0}),Nn=jn=er.xFn({dx:0,dy:0,fontSize:0})}return{top:An,bottom:In,left:Nn,right:jn,height:In-An,width:jn-Nn}}(je,Yt,Ht)),Tn[Yt]}},ee.getTickSigns=function(Be,je){var ot=Be._id.charAt(0),$e={x:"top",y:"right"}[ot],dt=Be.side===$e?1:-1,mt=[-1,1,dt,-dt];return(je?(Be.minor||{}).ticks:Be.ticks)!=="inside"==(ot==="x")&&(mt=mt.map(function(yt){return-yt})),Be.side&&mt.push({l:-1,t:-1,r:1,b:1}[Be.side.charAt(0)]),mt},ee.makeTransTickFn=function(Be){return Be._id.charAt(0)==="x"?function(je){return f(Be._offset+Be.l2p(je.x),0)}:function(je){return f(0,Be._offset+Be.l2p(je.x))}},ee.makeTransTickLabelFn=function(Be){var je=function(dt){var mt=dt.ticklabelposition||"",yt=function(Zt){return mt.indexOf(Zt)!==-1},ht=yt("top"),kt=yt("left"),bt=yt("right"),St=yt("bottom"),Lt=yt("inside"),Ot=St||kt||ht||bt;if(!Ot&&!Lt)return[0,0];var Ft=dt.side,$t=Ot?(dt.tickwidth||0)/2:0,on=3,Ht=dt.tickfont?dt.tickfont.size:12;return(St||ht)&&($t+=Ht*ie,on+=(dt.linewidth||0)/2),(kt||bt)&&($t+=(dt.linewidth||0)/2,on+=3),Lt&&Ft==="top"&&(on-=Ht*(1-ie)),(kt||ht)&&($t=-$t),Ft!=="bottom"&&Ft!=="right"||(on=-on),[Ot?$t:0,Lt?on:0]}(Be),ot=je[0],$e=je[1];return Be._id.charAt(0)==="x"?function(dt){return f(ot+Be._offset+Be.l2p(st(dt)),$e)}:function(dt){return f($e,ot+Be._offset+Be.l2p(st(dt)))}},ee.makeTickPath=function(Be,je,ot,$e){$e||($e={});var dt=$e.minor;if(dt&&!Be.minor)return"";var mt=$e.len!==void 0?$e.len:dt?Be.minor.ticklen:Be.ticklen,yt=Be._id.charAt(0),ht=(Be.linewidth||1)/2;return yt==="x"?"M0,"+(je+ht*ot)+"v"+mt*ot:"M"+(je+ht*ot)+",0h"+mt*ot},ee.makeLabelFns=function(Be,je,ot){var $e=Be.ticklabelposition||"",dt=function(wn){return $e.indexOf(wn)!==-1},mt=dt("top"),yt=dt("left"),ht=dt("right"),kt=dt("bottom")||yt||mt||ht,bt=dt("inside"),St=$e==="inside"&&Be.ticks==="inside"||!bt&&Be.ticks==="outside"&&Be.tickson!=="boundaries",Lt=0,Ot=0,Ft=St?Be.ticklen:0;if(bt?Ft*=-1:kt&&(Ft=0),St&&(Lt+=Ft,ot)){var $t=b.deg2rad(ot);Lt=Ft*Math.cos($t)+1,Ot=Ft*Math.sin($t)}Be.showticklabels&&(St||Be.showline)&&(Lt+=.2*Be.tickfont.size);var on,Ht,Zt,jt,Ln,Tn={labelStandoff:Lt+=(Be.linewidth||1)/2*(bt?-1:1),labelShift:Ot},gn=0,Qt=Be.side,cn=Be._id.charAt(0),nn=Be.tickangle;if(cn==="x")jt=(Ln=!bt&&Qt==="bottom"||bt&&Qt==="top")?1:-1,bt&&(jt*=-1),on=Ot*jt,Ht=je+Lt*jt,Zt=Ln?1:-.2,Math.abs(nn)===90&&(bt?Zt+=Y:Zt=nn===-90&&Qt==="bottom"?ie:nn===90&&Qt==="top"?Y:.5,gn=Y/2*(nn/90)),Tn.xFn=function(wn){return wn.dx+on+gn*wn.fontSize},Tn.yFn=function(wn){return wn.dy+Ht+wn.fontSize*Zt},Tn.anchorFn=function(wn,En){if(kt){if(yt)return"end";if(ht)return"start"}return y(En)&&En!==0&&En!==180?En*jt<0!==bt?"end":"start":"middle"},Tn.heightFn=function(wn,En,Dn){return En<-60||En>60?-.5*Dn:Be.side==="top"!==bt?-Dn:0};else if(cn==="y"){if(jt=(Ln=!bt&&Qt==="left"||bt&&Qt==="right")?1:-1,bt&&(jt*=-1),on=Lt,Ht=Ot*jt,Zt=0,bt||Math.abs(nn)!==90||(Zt=nn===-90&&Qt==="left"||nn===90&&Qt==="right"?ie:.5),bt){var hn=y(nn)?+nn:0;if(hn!==0){var bn=b.deg2rad(hn);gn=Math.abs(Math.sin(bn))*ie*jt,Zt=0}}Tn.xFn=function(wn){return wn.dx+je-(on+wn.fontSize*Zt)*jt+gn*wn.fontSize},Tn.yFn=function(wn){return wn.dy+Ht+wn.fontSize*Y},Tn.anchorFn=function(wn,En){return y(En)&&Math.abs(En)===90?"middle":Ln?"end":"start"},Tn.heightFn=function(wn,En,Dn){return Be.side==="right"&&(En*=-1),En<-30?-Dn:En<30?-.5*Dn:0}}return Tn},ee.drawTicks=function(Be,je,ot){ot=ot||{};var $e=je._id+"tick",dt=[].concat(je.minor&&je.minor.ticks?ot.vals.filter(function(yt){return yt.minor&&!yt.noTick}):[]).concat(je.ticks?ot.vals.filter(function(yt){return!yt.minor&&!yt.noTick}):[]),mt=ot.layer.selectAll("path."+$e).data(dt,vt);mt.exit().remove(),mt.enter().append("path").classed($e,1).classed("ticks",1).classed("crisp",ot.crisp!==!1).each(function(yt){return o.stroke(p.select(this),yt.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(yt){return r.crispRound(Be,yt.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",ot.path).style("display",null),lt(je,[V]),mt.attr("transform",ot.transFn)},ee.drawGrid=function(Be,je,ot){if(ot=ot||{},je.tickmode!=="sync"){var $e=je._id+"grid",dt=je.minor&&je.minor.showgrid,mt=dt?ot.vals.filter(function(Zt){return Zt.minor}):[],yt=je.showgrid?ot.vals.filter(function(Zt){return!Zt.minor}):[],ht=ot.counterAxis;if(ht&&ee.shouldShowZeroLine(Be,je,ht))for(var kt=je.tickmode==="array",bt=0;bt<yt.length;bt++){var St=yt[bt].x;if(kt?!St:Math.abs(St)<je.dtick/100){if(yt=yt.slice(0,bt).concat(yt.slice(bt+1)),!kt)break;bt--}}je._gw=r.crispRound(Be,je.gridwidth,1);for(var Lt=dt?r.crispRound(Be,je.minor.gridwidth,1):0,Ot=ot.layer,Ft=ot.minorLayer,$t=1;$t>=0;$t--){var on=$t?Ot:Ft;if(on){var Ht=on.selectAll("path."+$e).data($t?yt:mt,vt);Ht.exit().remove(),Ht.enter().append("path").classed($e,1).classed("crisp",ot.crisp!==!1),Ht.attr("transform",ot.transFn).attr("d",ot.path).each(function(Zt){return o.stroke(p.select(this),Zt.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(Zt){return r.dashStyle(Zt.minor?je.minor.griddash:je.griddash,Zt.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(Zt){return(Zt.minor?Lt:je._gw)+"px"}).style("display",null),typeof ot.path=="function"&&Ht.attr("d",ot.path)}}lt(je,[q,N])}},ee.drawZeroLine=function(Be,je,ot){ot=ot||ot;var $e=je._id+"zl",dt=ee.shouldShowZeroLine(Be,je,ot.counterAxis),mt=ot.layer.selectAll("path."+$e).data(dt?[{x:0,id:je._id}]:[]);mt.exit().remove(),mt.enter().append("path").classed($e,1).classed("zl",1).classed("crisp",ot.crisp!==!1).each(function(){ot.layer.selectAll("path").sort(function(yt,ht){return se(yt.id,ht.id)})}),mt.attr("transform",ot.transFn).attr("d",ot.path).call(o.stroke,je.zerolinecolor||o.defaultLine).style("stroke-width",r.crispRound(Be,je.zerolinewidth,je._gw||1)+"px").style("display",null),lt(je,[z])},ee.drawLabels=function(Be,je,ot){ot=ot||{};var $e=Be._fullLayout,dt=je._id,mt=ot.cls||dt+"tick",yt=ot.vals.filter(function(Rn){return Rn.text}),ht=ot.labelFns,kt=ot.secondary?0:je.tickangle,bt=(je._prevTickAngles||{})[mt],St=ot.layer.selectAll("g."+mt).data(je.showticklabels?yt:[],vt),Lt=[];function Ot(Rn,Kn){Rn.each(function(Gn){var nr=p.select(this),$n=nr.select(".text-math-group"),fr=ht.anchorFn(Gn,Kn),en=ot.transFn.call(nr.node(),Gn)+(y(Kn)&&+Kn!=0?" rotate("+Kn+","+ht.xFn(Gn)+","+(ht.yFn(Gn)-Gn.fontSize/2)+")":""),rn=s.lineCount(nr),Cn=re*Gn.fontSize,mn=ht.heightFn(Gn,y(Kn)?+Kn:0,(rn-1)*Cn);if(mn&&(en+=f(0,mn)),$n.empty()){var On=nr.select("text");On.attr({transform:en,"text-anchor":fr}),On.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var Hn=r.bBox($n.node()).width*{end:-.5,start:.5}[fr];$n.attr("transform",en+f(Hn,0))}})}St.enter().append("g").classed(mt,1).append("text").attr("text-anchor","middle").each(function(Rn){var Kn=p.select(this),Gn=Be._promises.length;Kn.call(s.positionText,ht.xFn(Rn),ht.yFn(Rn)).call(r.font,{family:Rn.font,size:Rn.fontSize,color:Rn.fontColor,weight:Rn.fontWeight,style:Rn.fontStyle,variant:Rn.fontVariant,textcase:Rn.fontTextcase,lineposition:Rn.fontLineposition,shadow:Rn.fontShadow}).text(Rn.text).call(s.convertToTspans,Be),Be._promises[Gn]?Lt.push(Be._promises.pop().then(function(){Ot(Kn,kt)})):Ot(Kn,kt)}),lt(je,[Z]),St.exit().remove(),ot.repositionOnUpdate&&St.each(function(Rn){p.select(this).select("text").call(s.positionText,ht.xFn(Rn),ht.yFn(Rn))}),je._adjustTickLabelsOverflow=function(){var Rn=je.ticklabeloverflow;if(Rn&&Rn!=="allow"){var Kn=Rn.indexOf("hide")!==-1,Gn=je._id.charAt(0)==="x",nr=0,$n=Gn?Be._fullLayout.width:Be._fullLayout.height;if(Rn.indexOf("domain")!==-1){var fr=b.simpleMap(je.range,je.r2l);nr=je.l2p(fr[0])+je._offset,$n=je.l2p(fr[1])+je._offset}var en=Math.min(nr,$n),rn=Math.max(nr,$n),Cn=je.side,mn=1/0,On=-1/0;for(var Hn in St.each(function(pr){var Kt=p.select(this);if(Kt.select(".text-math-group").empty()){var vn=r.bBox(Kt.node()),Dt=0;Gn?(vn.right>rn||vn.left<en)&&(Dt=1):(vn.bottom>rn||vn.top+(je.tickangle?0:pr.fontSize/4)<en)&&(Dt=1);var Bt=Kt.select("text");Dt?Kn&&Bt.style("opacity",0):(Bt.style("opacity",1),mn=Cn==="bottom"||Cn==="right"?Math.min(mn,Gn?vn.top:vn.left):-1/0,On=Cn==="top"||Cn==="left"?Math.max(On,Gn?vn.bottom:vn.right):1/0)}}),$e._plots){var Un=$e._plots[Hn];if(je._id===Un.xaxis._id||je._id===Un.yaxis._id){var Zn=Gn?Un.yaxis:Un.xaxis;Zn&&(Zn["_visibleLabelMin_"+je._id]=mn,Zn["_visibleLabelMax_"+je._id]=On)}}}},je._hideCounterAxisInsideTickLabels=function(Rn){var Kn=je._id.charAt(0)==="x",Gn=[];for(var nr in $e._plots){var $n=$e._plots[nr];je._id!==$n.xaxis._id&&je._id!==$n.yaxis._id||Gn.push(Kn?$n.yaxis:$n.xaxis)}Gn.forEach(function(fr,en){fr&&Ze(fr)&&(Rn||[z,N,q,V,Z]).forEach(function(rn){var Cn=rn.K==="tick"&&rn.L==="text"&&je.ticklabelmode==="period",mn=$e._plots[je._mainSubplot];(rn.K===z.K?mn.zerolinelayer.selectAll("."+je._id+"zl"):rn.K===N.K?mn.minorGridlayer.selectAll("."+je._id):rn.K===q.K?mn.gridlayer.selectAll("."+je._id):mn[je._id.charAt(0)+"axislayer"]).each(function(){var On=p.select(this);rn.L&&(On=On.selectAll(rn.L)),On.each(function(Hn){var Un=je.l2p(Cn?st(Hn):Hn.x)+je._offset,Zn=p.select(this);Un<je["_visibleLabelMax_"+fr._id]&&Un>je["_visibleLabelMin_"+fr._id]?Zn.style("display","none"):rn.K!=="tick"||en||Zn.style("display",null)})})})})},Ot(St,bt+1?bt:kt);var Ft=null;je._selections&&(je._selections[mt]=St);var $t=[function(){return Lt.length&&Promise.all(Lt)}];je.automargin&&$e._redrawFromAutoMarginCount&&bt===90?(Ft=bt,$t.push(function(){Ot(St,bt)})):$t.push(function(){if(Ot(St,kt),yt.length&&je.autotickangles&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){Ft=je.autotickangles[0];var Rn,Kn=0,Gn=[],nr=1;St.each(function(xn){Kn=Math.max(Kn,xn.fontSize);var sn=je.l2p(xn.x),Yt=nt(this),Wt=r.bBox(Yt.node());nr=Math.max(nr,s.lineCount(Yt)),Gn.push({top:0,bottom:10,height:10,left:sn-Wt.width/2,right:sn+Wt.width/2+2,width:Wt.width+2})});var $n=(je.tickson==="boundaries"||je.showdividers)&&!ot.secondary,fr=yt.length,en=Math.abs((yt[fr-1].x-yt[0].x)*je._m)/(fr-1),rn=$n?en/2:en,Cn=$n?je.ticklen:1.25*Kn*nr,mn=rn/Math.sqrt(Math.pow(rn,2)+Math.pow(Cn,2)),On=je.autotickangles.map(function(xn){return xn*Math.PI/180}),Hn=On.find(function(xn){return Math.abs(Math.cos(xn))<=mn});Hn===void 0&&(Hn=On.reduce(function(xn,sn){return Math.abs(Math.cos(xn))<Math.abs(Math.cos(sn))?xn:sn},On[0]));var Un=Hn*(180/Math.PI);if($n){var Zn=2;for(je.ticks&&(Zn+=je.tickwidth/2),Rn=0;Rn<Gn.length;Rn++){var pr=yt[Rn].xbnd,Kt=Gn[Rn];if(pr[0]!==null&&Kt.left-je.l2p(pr[0])<Zn||pr[1]!==null&&je.l2p(pr[1])-Kt.right<Zn){Ft=Un;break}}}else{var vn=je.ticklabelposition||"",Dt=function(xn){return vn.indexOf(xn)!==-1},Bt=Dt("top"),Jt=Dt("left"),fn=Dt("right"),dn=Dt("bottom")||Jt||Bt||fn?(je.tickwidth||0)+6:0;for(Rn=0;Rn<Gn.length-1;Rn++)if(b.bBoxIntersect(Gn[Rn],Gn[Rn+1],dn)){Ft=Un;break}}Ft&&Ot(St,Ft)}}),je._tickAngles&&$t.push(function(){je._tickAngles[mt]=Ft===null?y(kt)?kt:0:Ft});var on=function(){var Rn=0,Kn=0;return St.each(function(Gn,nr){var $n,fr=nt(this);fr.select(".text-math-group").empty()&&(je._vals[nr]&&($n=je._vals[nr].bb||r.bBox(fr.node()),je._vals[nr].bb=$n),Rn=Math.max(Rn,$n.width),Kn=Math.max(Kn,$n.height))}),{labelsMaxW:Rn,labelsMaxH:Kn}},Ht=je._anchorAxis;if(Ht&&(Ht.autorange||Ht.insiderange)&&Ze(je)&&!ce($e,je._id)&&($e._insideTickLabelsUpdaterange||($e._insideTickLabelsUpdaterange={}),Ht.autorange&&($e._insideTickLabelsUpdaterange[Ht._name+".autorange"]=Ht.autorange,$t.push(on)),Ht.insiderange)){var Zt=on(),jt=je._id.charAt(0)==="y"?Zt.labelsMaxW:Zt.labelsMaxH;jt+=6,je.ticklabelposition==="inside"&&(jt+=je.ticklen||0);var Ln=je.side==="right"||je.side==="top"?1:-1,Tn=Ln===1?1:0,gn=Ln===1?0:1,Qt=[];Qt[gn]=Ht.range[gn];var cn=Ht.range,nn=Ht.r2p(cn[Tn]),hn=Ht.r2p(cn[gn]),bn=$e._insideTickLabelsUpdaterange[Ht._name+".range"];if(bn){var wn=Ht.r2p(bn[Tn]),En=Ht.r2p(bn[gn]),Dn=Ln*(je._id.charAt(0)==="y"?1:-1);Dn*nn<Dn*wn&&(nn=wn,Qt[Tn]=cn[Tn]=bn[Tn]),Dn*hn>Dn*En&&(hn=En,Qt[gn]=cn[gn]=bn[gn])}var kn=Math.abs(hn-nn);kn-jt>0?jt*=1+jt/(kn-=jt):jt=0,je._id.charAt(0)!=="y"&&(jt=-jt),Qt[Tn]=Ht.p2r(Ht.r2p(cn[Tn])+Ln*jt),Ht.autorange==="min"||Ht.autorange==="max reversed"?(Qt[0]=null,Ht._rangeInitial0=void 0,Ht._rangeInitial1=void 0):Ht.autorange!=="max"&&Ht.autorange!=="min reversed"||(Qt[1]=null,Ht._rangeInitial0=void 0,Ht._rangeInitial1=void 0),$e._insideTickLabelsUpdaterange[Ht._name+".range"]=Qt}var Bn=b.syncOrAsync($t);return Bn&&Bn.then&&Be._promises.push(Bn),Bn},ee.getPxPosition=function(Be,je){var ot,$e=Be._fullLayout._size,dt=je._id.charAt(0),mt=je.side;return je.anchor!=="free"?ot=je._anchorAxis:dt==="x"?ot={_offset:$e.t+(1-(je.position||0))*$e.h,_length:0}:dt==="y"&&(ot={_offset:$e.l+(je.position||0)*$e.w+je._shift,_length:0}),mt==="top"||mt==="left"?ot._offset:mt==="bottom"||mt==="right"?ot._offset+ot._length:void 0},ee.shouldShowZeroLine=function(Be,je,ot){var $e=b.simpleMap(je.range,je.r2l);return $e[0]*$e[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===R)&&(gt(je,0)||!function(dt,mt,yt,ht){var kt=yt._mainAxis;if(kt){var bt=dt._fullLayout,St=mt._id.charAt(0),Lt=ee.counterLetter(mt._id),Ot=mt._offset+(Math.abs(ht[0])<Math.abs(ht[1])==(St==="x")?0:mt._length),Ft=bt._plots[yt._mainSubplot];if(!(Ft.mainplotinfo||Ft).overlays.length)return Zt(yt);for(var $t=ee.list(dt,Lt),on=0;on<$t.length;on++){var Ht=$t[on];if(Ht._mainAxis===kt&&Zt(Ht))return!0}}function Zt(jt){if(!jt.showline||!jt.linewidth)return!1;var Ln=Math.max((jt.linewidth+mt.zerolinewidth)/2,1);function Tn(cn){return typeof cn=="number"&&Math.abs(cn-Ot)<Ln}if(Tn(jt._mainLinePosition)||Tn(jt._mainMirrorPosition))return!0;var gn=jt._linepositions||{};for(var Qt in gn)if(Tn(gn[Qt][0])||Tn(gn[Qt][1]))return!0}}(Be,je,ot,$e)||function(dt,mt){for(var yt=dt._fullData,ht=mt._mainSubplot,kt=mt._id.charAt(0),bt=0;bt<yt.length;bt++){var St=yt[bt];if(St.visible===!0&&St.xaxis+St.yaxis===ht&&(M.traceIs(St,"bar-like")&&St.orientation==={x:"h",y:"v"}[kt]||St.fill&&St.fill.charAt(St.fill.length-1)===kt))return!0}return!1}(Be,je))},ee.clipEnds=function(Be,je){return je.filter(function(ot){return gt(Be,ot.x)})},ee.allowAutoMargin=function(Be){for(var je=ee.list(Be,"",!0),ot=0;ot<je.length;ot++){var $e=je[ot];$e.automargin&&(n.allowAutoMargin(Be,et($e)),$e.mirror&&n.allowAutoMargin(Be,At($e))),M.getComponentMethod("rangeslider","isVisible")($e)&&n.allowAutoMargin(Be,Pt($e))}},ee.swap=function(Be,je){for(var ot=function(dt,mt){var yt,ht,kt=[];for(yt=0;yt<mt.length;yt++){var bt=[],St=dt._fullData[mt[yt]].xaxis,Lt=dt._fullData[mt[yt]].yaxis;if(St&&Lt){for(ht=0;ht<kt.length;ht++)kt[ht].x.indexOf(St)===-1&&kt[ht].y.indexOf(Lt)===-1||bt.push(ht);if(bt.length){var Ot,Ft=kt[bt[0]];if(bt.length>1)for(ht=1;ht<bt.length;ht++)Ot=kt[bt[ht]],Rt(Ft.x,Ot.x),Rt(Ft.y,Ot.y);Rt(Ft.x,[St]),Rt(Ft.y,[Lt])}else kt.push({x:[St],y:[Lt]})}}return kt}(Be,je),$e=0;$e<ot.length;$e++)Et(Be,ot[$e].x,ot[$e].y)}},52976:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(39032).BADNUM,M=y.isArrayOrTypedArray,b=y.isDateTime,f=y.cleanNumber,s=Math.round;function t(r,i){return i?p(r):typeof r=="number"}function o(r){return Math.max(1,(r-1)/1e3)}S.exports=function(r,i,a){var l=r,u=a.noMultiCategory;if(M(l)&&!l.length)return"-";if(!u&&function(v){return M(v[0])&&M(v[1])}(l))return"multicategory";if(u&&Array.isArray(l[0])){for(var h=[],c=0;c<l.length;c++)if(M(l[c]))for(var w=0;w<l[c].length;w++)h.push(l[c][w]);l=h}if(function(v,m){for(var T=v.length,_=o(T),A=0,d=0,C={},k=0;k<T;k+=_){var D=v[s(k)],O=String(D);C[O]||(C[O]=1,b(D,m)&&A++,p(D)&&d++)}return A>2*d}(l,i))return"date";var g=a.autotypenumbers!=="strict";return function(v,m){for(var T=v.length,_=o(T),A=0,d=0,C={},k=0;k<T;k+=_){var D=v[s(k)],O=String(D);if(!C[O]){C[O]=1;var L=typeof D;L==="boolean"?d++:(m?f(D)!==n:L==="number")?A++:L==="string"&&d++}}return d>2*A}(l,g)?"category":function(v,m){for(var T=v.length,_=0;_<T;_++)if(t(v[_],m))return!0;return!1}(l,g)?"linear":"-"}},28336:function(S,x,e){"use strict";var p=e(38248),y=e(24040),n=e(3400),M=e(31780),b=e(51272),f=e(94724),s=e(26332),t=e(25404),o=e(95936),r=e(42568),i=e(22416),a=e(42136),l=e(96312),u=e(78344),h=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function w(m,T,_){function A(z,q){return n.coerce(m,T,f.rangebreaks,z,q)}if(A("enabled")){var d=A("bounds");if(d&&d.length>=2){var C,k,D="";if(d.length===2){for(C=0;C<2;C++)if(k=v(d[C])){D=h;break}}var O=A("pattern",D);if(O===h)for(C=0;C<2;C++)(k=v(d[C]))&&(T.bounds[C]=d[C]=k-1);if(O)for(C=0;C<2;C++)switch(k=d[C],O){case h:if(!p(k)||(k=+k)!==Math.floor(k)||k<0||k>=7)return void(T.enabled=!1);T.bounds[C]=d[C]=k;break;case c:if(!p(k)||(k=+k)<0||k>24)return void(T.enabled=!1);T.bounds[C]=d[C]=k}if(_.autorange===!1){var L=_.range;if(L[0]<L[1]){if(d[0]<L[0]&&d[1]>L[1])return void(T.enabled=!1)}else if(d[0]>L[0]&&d[1]<L[1])return void(T.enabled=!1)}}else{var R=A("values");if(!R||!R.length)return void(T.enabled=!1);A("dvalue")}}}S.exports=function(m,T,_,A,d){var C,k=A.letter,D=A.font||{},O=A.splomStash||{},L=_("visible",!A.visibleDflt),R=T._template||{},z=T.type||R.type||"-";z==="date"&&(y.getComponentMethod("calendars","handleDefaults")(m,T,"calendar",A.calendar),A.noTicklabelmode||(C=_("ticklabelmode")));var q="";A.noTicklabelposition&&z!=="multicategory"||(q=n.coerce(m,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:C==="period"?["outside","inside"]:k==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||_("ticklabeloverflow",q.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),u(T,d),l(m,T,_,A),i(m,T,_,A),z==="category"||A.noHover||_("hoverformat");var N=_("color"),V=N!==f.color.dflt?N:D.color,Z=O.label||d._dfltTitle[k];if(r(m,T,_,z,A),!L)return T;_("title.text",Z),n.coerceFont(_,"title.font",D,{overrideDflt:{size:n.bigFont(D.size),color:V}}),s(m,T,_,z);var j=A.hasMinor;if(j&&(M.newContainer(T,"minor"),s(m,T,_,z,{isMinor:!0})),o(m,T,_,z,A),t(m,T,_,A),j){var H=A.isMinor;A.isMinor=!0,t(m,T,_,A),A.isMinor=H}a(m,T,_,{dfltColor:N,bgColor:A.bgColor,showGrid:A.showGrid,hasMinor:j,attributes:f}),!j||T.minor.ticks||T.minor.showgrid||delete T.minor,(T.showline||T.ticks)&&_("mirror");var Y,ie=z==="multicategory";if(A.noTickson||z!=="category"&&!ie||!T.ticks&&!T.showgrid||(ie&&(Y="boundaries"),_("tickson",Y)==="boundaries"&&delete T.ticklabelposition),ie&&_("showdividers")&&(_("dividercolor"),_("dividerwidth")),z==="date")if(b(m,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:w}),T.rangebreaks.length){for(var re=0;re<T.rangebreaks.length;re++)if(T.rangebreaks[re].pattern===h){T._hasDayOfWeekBreaks=!0;break}if(u(T,d),d._has("scattergl")||d._has("splom"))for(var ne=0;ne<A.data.length;ne++){var ee=A.data[ne];ee.type!=="scattergl"&&ee.type!=="splom"||(ee.visible=!1,n.warn(ee.type+" traces do not work on axes with rangebreaks. Setting trace "+ee.index+" to `visible: false`."))}}else delete T.rangebreaks;return T};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(m){if(typeof m=="string")return g[m.substr(0,3).toLowerCase()]}},29736:function(S,x,e){"use strict";var p=e(26880),y=p.FORMAT_LINK,n=p.DATE_FORMAT_LINK;function M(f,s){return["Sets the "+f+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+y+"."].join(" ")}function b(f,s){return M(f,s)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}S.exports={axisHoverFormat:function(f,s){return{valType:"string",dflt:"",editType:"none",description:(s?M:b)("hover text",f)+["By default the values are formatted using "+(s?"generic number format":"`"+f+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:M,descriptionWithDates:b}},79811:function(S,x,e){"use strict";var p=e(24040),y=e(33816);function n(M,b){if(b&&b.length){for(var f=0;f<b.length;f++)if(b[f][M])return!0}return!1}x.id2name=function(M){if(typeof M=="string"&&M.match(y.AX_ID_PATTERN)){var b=M.split(" ")[0].substr(1);return b==="1"&&(b=""),M.charAt(0)+"axis"+b}},x.name2id=function(M){if(M.match(y.AX_NAME_PATTERN)){var b=M.substr(5);return b==="1"&&(b=""),M.charAt(0)+b}},x.cleanId=function(M,b,f){var s=/( domain)$/.test(M);if(typeof M=="string"&&M.match(y.AX_ID_PATTERN)&&(!b||M.charAt(0)===b)&&(!s||f)){var t=M.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),M.charAt(0)+t+(s&&f?" domain":"")}},x.list=function(M,b,f){var s=M._fullLayout;if(!s)return[];var t,o=x.listIds(M,b),r=new Array(o.length);for(t=0;t<o.length;t++){var i=o[t];r[t]=s[i.charAt(0)+"axis"+i.substr(1)]}if(!f){var a=s._subplots.gl3d||[];for(t=0;t<a.length;t++){var l=s[a[t]];b?r.push(l[b+"axis"]):r.push(l.xaxis,l.yaxis,l.zaxis)}}return r},x.listIds=function(M,b){var f=M._fullLayout;if(!f)return[];var s=f._subplots;return b?s[b+"axis"]:s.xaxis.concat(s.yaxis)},x.getFromId=function(M,b,f){var s=M._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),f==="x"?b=b.replace(/y[0-9]*/,""):f==="y"&&(b=b.replace(/x[0-9]*/,"")),s[x.id2name(b)]},x.getFromTrace=function(M,b,f){var s=M._fullLayout,t=null;if(p.traceIs(b,"gl3d")){var o=b.scene;o.substr(0,5)==="scene"&&(t=s[o][f+"axis"])}else t=x.getFromId(M,b[f+"axis"]||f);return t},x.idSort=function(M,b){var f=M.charAt(0),s=b.charAt(0);return f!==s?f>s?1:-1:+(M.substr(1)||1)-+(b.substr(1)||1)},x.ref2id=function(M){return!!/^[xyz]/.test(M)&&M.split(" ")[0]},x.isLinked=function(M,b){return n(b,M._axisMatchGroups)||n(b,M._axisConstraintGroups)}},22416:function(S,x,e){"use strict";var p=e(38116).isTypedArraySpec;S.exports=function(y,n,M,b){if(n.type==="category"){var f,s=y.categoryarray,t=Array.isArray(s)&&s.length>0||p(s);t&&(f="array");var o,r=M("categoryorder",f);r==="array"&&(o=M("categoryarray")),t||r!=="array"||(r=n.categoryorder="trace"),r==="trace"?n._initialCategories=[]:r==="array"?n._initialCategories=o.slice():(o=function(i,a){var l,u,h,c=a.dataAttr||i._id.charAt(0),w={};if(a.axData)l=a.axData;else for(l=[],u=0;u<a.data.length;u++){var g=a.data[u];g[c+"axis"]===i._id&&l.push(g)}for(u=0;u<l.length;u++){var v=l[u][c];for(h=0;h<v.length;h++){var m=v[h];m!=null&&(w[m]=1)}}return Object.keys(w)}(n,b).sort(),r==="category ascending"?n._initialCategories=o:r==="category descending"&&(n._initialCategories=o.reverse()))}}},98728:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(39032),M=n.ONEDAY,b=n.ONEWEEK;x.dtick=function(f,s){var t=s==="log",o=s==="date",r=s==="category",i=o?M:1;if(!f)return i;if(p(f))return(f=Number(f))<=0?i:r?Math.max(1,Math.round(f)):o?Math.max(.1,f):f;if(typeof f!="string"||!o&&!t)return i;var a=f.charAt(0),l=f.substr(1);return(l=p(l)?Number(l):0)<=0||!(o&&a==="M"&&l===Math.round(l)||t&&a==="L"||t&&a==="D"&&(l===1||l===2))?i:f},x.tick0=function(f,s,t,o){return s==="date"?y.cleanDate(f,y.dateTick0(t,o%b==0?1:0)):o!=="D1"&&o!=="D2"?p(f)?Number(f):0:void 0}},33816:function(S,x,e){"use strict";var p=e(53756).counter;S.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(S,x,e){"use strict";var p=e(3400),y=e(19280),n=e(79811).id2name,M=e(94724),b=e(21160),f=e(78344),s=e(39032).ALMOST_EQUAL,t=e(84284).FROM_BL;function o(c,w,g){var v=g.axIds,m=g.layoutOut,T=g.hasImage,_=m._axisConstraintGroups,A=m._axisMatchGroups,d=w._id,C=d.charAt(0),k=((m._splomAxes||{})[C]||{})[d]||{},D=w._id,O=D.charAt(0)==="x";function L(Q,X){return p.coerce(c,w,M,Q,X)}w._matchGroup=null,w._constraintGroup=null,L("constrain",T?"domain":"range"),p.coerce(c,w,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var R,z,q=w.type,N=[];for(R=0;R<v.length;R++)(z=v[R])!==D&&m[n(z)].type===q&&N.push(z);var V=i(_,D);if(V){var Z=[];for(R=0;R<N.length;R++)V[z=N[R]]||Z.push(z);N=Z}var j,H,Y=N.length;Y&&(c.matches||k.matches)&&(j=p.coerce(c,w,{matches:{valType:"enumerated",values:N,dflt:N.indexOf(k.matches)!==-1?k.matches:void 0}},"matches"));var ie=T&&!O?w.anchor:void 0;if(Y&&!j&&(c.scaleanchor||ie)&&(H=p.coerce(c,w,{scaleanchor:{valType:"enumerated",values:N.concat([!1])}},"scaleanchor",ie)),j){w._matchGroup=a(A,D,j,1);var re=m[n(j)],ne=r(m,w)/r(m,re);O!==(j.charAt(0)==="x")&&(ne=(O?"x":"y")+ne),a(_,D,j,ne)}else c.matches&&v.indexOf(c.matches)!==-1&&p.warn("ignored "+w._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(H){var ee=L("scaleratio");ee||(ee=w.scaleratio=1),a(_,D,H,ee)}else c.scaleanchor&&v.indexOf(c.scaleanchor)!==-1&&p.warn("ignored "+w._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(c,w){var g=w.domain;return g||(g=c[n(w.overlaying)].domain),g[1]-g[0]}function i(c,w){for(var g=0;g<c.length;g++)if(c[g][w])return c[g];return null}function a(c,w,g,v){var m,T,_,A,d,C=i(c,w);C===null?((C={})[w]=1,d=c.length,c.push(C)):d=c.indexOf(C);var k=Object.keys(C);for(m=0;m<c.length;m++)if(_=c[m],m!==d&&_[g]){var D=_[g];for(T=0;T<k.length;T++)_[A=k[T]]=l(D,l(v,C[A]));return void c.splice(d,1)}if(v!==1)for(T=0;T<k.length;T++){var O=k[T];C[O]=l(v,C[O])}C[g]=1}function l(c,w){var g,v,m="",T="";typeof c=="string"&&(g=(m=c.match(/^[xy]*/)[0]).length,c=+c.substr(g)),typeof w=="string"&&(v=(T=w.match(/^[xy]*/)[0]).length,w=+w.substr(v));var _=c*w;return g||v?g&&v&&m.charAt(0)!==T.charAt(0)?g===v?_:(g>v?m.substr(v):T.substr(g))+_:m+T+c*w:_}function u(c,w){for(var g=w._size,v=g.h/g.w,m={},T=Object.keys(c),_=0;_<T.length;_++){var A=T[_],d=c[A];if(typeof d=="string"){var C=d.match(/^[xy]*/)[0],k=C.length;d=+d.substr(k);for(var D=C.charAt(0)==="y"?v:1/v,O=0;O<k;O++)d*=D}m[A]=d}return m}function h(c,w){var g=c._inputDomain,v=t[c.constraintoward],m=g[0]+(g[1]-g[0])*v;c.domain=c._input.domain=[m+(g[0]-m)/w,m+(g[1]-m)/w],c.setScale()}x.handleDefaults=function(c,w,g){var v,m,T,_,A,d,C,k,D=g.axIds,O=g.axHasImage,L=w._axisConstraintGroups=[],R=w._axisMatchGroups=[];for(v=0;v<D.length;v++)o(A=c[_=n(D[v])],d=w[_],{axIds:D,layoutOut:w,hasImage:O[_]});function z(re,ne){for(v=0;v<re.length;v++)for(T in m=re[v])w[n(T)][ne]=m}for(z(R,"_matchGroup"),v=0;v<L.length;v++)for(T in m=L[v])if((d=w[n(T)]).fixedrange){for(var q in m){var N=n(q);(c[N]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),w[N].fixedrange=!0}break}for(v=0;v<L.length;){for(T in m=L[v]){(d=w[n(T)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(m).length&&(L.splice(v,1),v--);break}v++}z(L,"_constraintGroup");var V=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Z=!1,j=!1;function H(){k=d[C],C==="rangebreaks"&&(j=d._hasDayOfWeekBreaks)}for(v=0;v<R.length;v++){m=R[v];for(var Y=0;Y<V.length;Y++){var ie;for(T in C=V[Y],k=null,m)if(A=c[_=n(T)],d=w[_],C in d){if(!d.matches&&(ie=d,C in A)){H();break}k===null&&C in A&&H()}if(C==="range"&&k&&A.range&&A.range.length===2&&A.range[0]!==null&&A.range[1]!==null&&(Z=!0),C==="autorange"&&k===null&&Z&&(k=!1),k===null&&C in ie&&(k=ie[C]),k!==null)for(T in m)(d=w[n(T)])[C]=C==="range"?k.slice():k,C==="rangebreaks"&&(d._hasDayOfWeekBreaks=j,f(d,w))}}},x.enforce=function(c){var w,g,v,m,T,_,A,d,C=c._fullLayout,k=C._axisConstraintGroups||[];for(w=0;w<k.length;w++){v=u(k[w],C);var D=Object.keys(v),O=1/0,L=0,R=1/0,z={},q={},N=!1;for(g=0;g<D.length;g++)q[m=D[g]]=T=C[n(m)],T._inputDomain?T.domain=T._inputDomain.slice():T._inputDomain=T.domain.slice(),T._inputRange||(T._inputRange=T.range.slice()),T.setScale(),z[m]=_=Math.abs(T._m)/v[m],O=Math.min(O,_),T.constrain!=="domain"&&T._constraintShrinkable||(R=Math.min(R,_)),delete T._constraintShrinkable,L=Math.max(L,_),T.constrain==="domain"&&(N=!0);if(!(O>s*L)||N){for(g=0;g<D.length;g++)if(_=z[m=D[g]],A=(T=q[m]).constrain,_!==R||A==="domain")if(d=_/R,A==="range")b(T,d);else{var V=T._inputDomain,Z=(T.domain[1]-T.domain[0])/(V[1]-V[0]),j=(T.r2l(T.range[1])-T.r2l(T.range[0]))/(T.r2l(T._inputRange[1])-T.r2l(T._inputRange[0]));if((d/=Z)*j<1){T.domain=T._input.domain=V.slice(),b(T,d);continue}if(j<1&&(T.range=T._input.range=T._inputRange.slice(),d*=j),T.autorange){var H=T.r2l(T.range[0]),Y=T.r2l(T.range[1]),ie=(H+Y)/2,re=ie,ne=ie,ee=Math.abs(Y-ie),Q=ie-ee*d*1.0001,X=ie+ee*d*1.0001,se=y.makePadFn(C,T,0),ce=y.makePadFn(C,T,1);h(T,d);var le,de,be=Math.abs(T._m),_e=y.concatExtremes(c,T),ve=_e.min,me=_e.max;for(de=0;de<ve.length;de++)(le=ve[de].val-se(ve[de])/be)>Q&&le<re&&(re=le);for(de=0;de<me.length;de++)(le=me[de].val+ce(me[de])/be)<X&&le>ne&&(ne=le);d/=(ne-re)/(2*ee),re=T.l2r(re),ne=T.l2r(ne),T.range=T._input.range=H<Y?[re,ne]:[ne,re]}h(T,d)}}}},x.getAxisGroup=function(c,w){for(var g=c._axisMatchGroups,v=0;v<g.length;v++)if(g[v][w])return"g"+v;return w},x.clean=function(c,w){if(w._inputDomain){for(var g=!1,v=w._id,m=c._fullLayout._axisConstraintGroups,T=0;T<m.length;T++)if(m[T][v]){g=!0;break}g&&w.constrain==="domain"||(w._input.domain=w.domain=w._inputDomain,delete w._inputDomain)}}},51184:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=y.numberFormat,M=e(49760),b=e(89184),f=e(24040),s=y.strTranslate,t=e(72736),o=e(76308),r=e(43616),i=e(93024),a=e(54460),l=e(93972),u=e(86476),h=e(72760),c=h.selectingOrDrawing,w=h.freeMode,g=e(84284).FROM_TL,v=e(73696),m=e(39172).redrawReglTraces,T=e(7316),_=e(79811).getFromId,A=e(22676).prepSelect,d=e(22676).clearOutline,C=e(22676).selectOnClick,k=e(21160),D=e(33816),O=D.MINDRAG,L=D.MINZOOM,R=!0;function z(le,de,be,_e){var ve=y.ensureSingle(le.draglayer,de,be,function(me){me.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",le.id)});return ve.call(l,_e),ve.node()}function q(le,de,be,_e,ve,me,ye){var Se=z(le,"rect",de,be);return p.select(Se).call(r.setRect,_e,ve,me,ye),Se}function N(le,de){for(var be=0;be<le.length;be++)if(!le[be].fixedrange)return de;return""}function V(le,de,be,_e,ve){for(var me=0;me<le.length;me++){var ye=le[me];if(!ye.fixedrange)if(ye.rangebreaks){var Se=ye._id.charAt(0)==="y",Ie=Se?1-de:de,xe=Se?1-be:be;_e[ye._name+".range[0]"]=ye.l2r(ye.p2l(Ie*ye._length)),_e[ye._name+".range[1]"]=ye.l2r(ye.p2l(xe*ye._length))}else{var ue=ye._rl[0],ae=ye._rl[1]-ue;_e[ye._name+".range[0]"]=ye.l2r(ue+ae*de),_e[ye._name+".range[1]"]=ye.l2r(ue+ae*be)}}if(ve&&ve.length){var pe=(de+(1-be))/2;V(ve,pe,1-pe,_e,[])}}function Z(le,de){for(var be=0;be<le.length;be++){var _e=le[be];if(!_e.fixedrange){if(_e.rangebreaks){var ve=_e._length,me=(_e.p2l(0+de)-_e.p2l(0)+(_e.p2l(ve+de)-_e.p2l(ve)))/2;_e.range=[_e.l2r(_e._rl[0]-me),_e.l2r(_e._rl[1]-me)]}else _e.range=[_e.l2r(_e._rl[0]-de/_e._m),_e.l2r(_e._rl[1]-de/_e._m)];_e.limitRange&&_e.limitRange()}}}function j(le){return 1-(le>=0?Math.min(le,.9):1/(1/Math.max(le,-.3)+3.222))}function H(le,de,be,_e,ve){return le.append("path").attr("class","zoombox").style({fill:de>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(be,_e)).attr("d",ve+"Z")}function Y(le,de,be){return le.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(de,be)).attr("d","M0,0Z")}function ie(le,de,be,_e,ve,me){le.attr("d",_e+"M"+be.l+","+be.t+"v"+be.h+"h"+be.w+"v-"+be.h+"h-"+be.w+"Z"),re(le,de,ve,me)}function re(le,de,be,_e){be||(le.transition().style("fill",_e>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),de.transition().style("opacity",1).duration(200))}function ne(le){p.select(le).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ee(le){R&&le.data&&le._context.showTips&&(y.notifier(y._(le,"Double-click to zoom back out"),"long"),R=!1)}function Q(le){var de=Math.floor(Math.min(le.b-le.t,le.r-le.l,L)/2);return"M"+(le.l-3.5)+","+(le.t-.5+de)+"h3v"+-de+"h"+de+"v-3h-"+(de+3)+"ZM"+(le.r+3.5)+","+(le.t-.5+de)+"h-3v"+-de+"h"+-de+"v-3h"+(de+3)+"ZM"+(le.r+3.5)+","+(le.b+.5-de)+"h-3v"+de+"h"+-de+"v3h"+(de+3)+"ZM"+(le.l-3.5)+","+(le.b+.5-de)+"h3v"+de+"h"+de+"v3h-"+(de+3)+"Z"}function X(le,de,be,_e,ve){for(var me,ye,Se,Ie,xe=!1,ue={},ae={},pe=(ve||{}).xaHash,De=(ve||{}).yaHash,Te=0;Te<de.length;Te++){var Ae=de[Te];for(me in be)if(Ae[me]){for(Se in Ae)ve&&(pe[Se]||De[Se])||(Se.charAt(0)==="x"?be:_e)[Se]||(ue[Se]=me);for(ye in _e)ve&&(pe[ye]||De[ye])||!Ae[ye]||(xe=!0)}for(ye in _e)if(Ae[ye])for(Ie in Ae)ve&&(pe[Ie]||De[Ie])||(Ie.charAt(0)==="x"?be:_e)[Ie]||(ae[Ie]=ye)}xe&&(y.extendFlat(ue,ae),ae={});var Ce={},Re=[];for(Se in ue){var Ne=_(le,Se);Re.push(Ne),Ce[Ne._id]=Ne}var ge={},Me=[];for(Ie in ae){var Ee=_(le,Ie);Me.push(Ee),ge[Ee._id]=Ee}return{xaHash:Ce,yaHash:ge,xaxes:Re,yaxes:Me,xLinks:ue,yLinks:ae,isSubplotConstrained:xe}}function se(le,de){if(b){var be=le.onwheel!==void 0?"wheel":"mousewheel";le._onwheel&&le.removeEventListener(be,le._onwheel),le._onwheel=de,le.addEventListener(be,de,{passive:!1})}else le.onwheel!==void 0?le.onwheel=de:le.onmousewheel!==void 0?le.onmousewheel=de:le.isAddedWheelEvent||(le.isAddedWheelEvent=!0,le.addEventListener("wheel",de,{passive:!1}))}function ce(le){var de=[];for(var be in le)de.push(le[be]);return de}S.exports={makeDragBox:function(le,de,be,_e,ve,me,ye,Se){var Ie,xe,ue,ae,pe,De,Te,Ae,Ce,Re,Ne,ge,Me,Ee,Fe,Le,Ue,Ge,Ke,at,st,vt,xt,gt=le._fullLayout._zoomlayer,nt=ye+Se==="nsew",et=(ye+Se).length===1;function At(){if(Ie=de.xaxis,xe=de.yaxis,Ce=Ie._length,Re=xe._length,Te=Ie._offset,Ae=xe._offset,(ue={})[Ie._id]=Ie,(ae={})[xe._id]=xe,ye&&Se)for(var Qt=de.overlays,cn=0;cn<Qt.length;cn++){var nn=Qt[cn].xaxis;ue[nn._id]=nn;var hn=Qt[cn].yaxis;ae[hn._id]=hn}pe=ce(ue),De=ce(ae),Me=N(pe,Se),Ee=N(De,ye),Fe=!Ee&&!Me,ge=X(le,le._fullLayout._axisMatchGroups,ue,ae);var bn=(Ne=X(le,le._fullLayout._axisConstraintGroups,ue,ae,ge)).isSubplotConstrained||ge.isSubplotConstrained;Le=Se||bn,Ue=ye||bn;var wn=le._fullLayout;Ge=wn._has("scattergl"),Ke=wn._has("splom"),at=wn._has("svg")}be+=de.yaxis._shift,At();var Pt=function(Qt,cn,nn){return Qt?Qt==="nsew"?nn?"":cn==="pan"?"move":"crosshair":Qt.toLowerCase()+"-resize":"pointer"}(Ee+Me,le._fullLayout.dragmode,nt),Rt=q(de,ye+Se+"drag",Pt,be,_e,ve,me);if(Fe&&!nt)return Rt.onmousedown=null,Rt.style.pointerEvents="none",Rt;var Et,Ye,Xe,Ve,Ze,lt,it,Be,je,ot,$e={element:Rt,gd:le,plotinfo:de};function dt(){$e.plotinfo.selection=!1,d(le)}function mt(Qt,cn){var nn=$e.gd;if(nn._fullLayout._activeShapeIndex>=0)nn._fullLayout._deactivateShape(nn);else{var hn=nn._fullLayout.clickmode;if(ne(nn),Qt!==2||et||Ht(),nt)hn.indexOf("select")>-1&&C(cn,nn,pe,De,de.id,$e),hn.indexOf("event")>-1&&i.click(nn,cn,de.id);else if(Qt===1&&et){var bn=ye?xe:Ie,wn=ye==="s"||Se==="w"?0:1,En=bn._name+".range["+wn+"]",Dn=function(Rn,Kn){var Gn,nr=Rn.range[Kn],$n=Math.abs(nr-Rn.range[1-Kn]);return Rn.type==="date"?nr:Rn.type==="log"?(Gn=Math.ceil(Math.max(0,-Math.log($n)/Math.LN10))+3,n("."+Gn+"g")(Math.pow(10,nr))):(Gn=Math.floor(Math.log(Math.abs(nr))/Math.LN10)-Math.floor(Math.log($n)/Math.LN10)+4,n("."+String(Gn)+"g")(nr))}(bn,wn),kn="left",Bn="middle";if(bn.fixedrange)return;ye?(Bn=ye==="n"?"top":"bottom",bn.side==="right"&&(kn="right")):Se==="e"&&(kn="right"),nn._context.showAxisRangeEntryBoxes&&p.select(Rt).call(t.makeEditable,{gd:nn,immediate:!0,background:nn._fullLayout.paper_bgcolor,text:String(Dn),fill:bn.tickfont?bn.tickfont.color:"#444",horizontalAlign:kn,verticalAlign:Bn}).on("edit",function(Rn){var Kn=bn.d2r(Rn);Kn!==void 0&&f.call("_guiRelayout",nn,En,Kn)})}}}function yt(Qt,cn){if(le._transitioningWithDuration)return!1;var nn=Math.max(0,Math.min(Ce,vt*Qt+Et)),hn=Math.max(0,Math.min(Re,xt*cn+Ye)),bn=Math.abs(nn-Et),wn=Math.abs(hn-Ye);function En(){it="",Xe.r=Xe.l,Xe.t=Xe.b,je.attr("d","M0,0Z")}if(Xe.l=Math.min(Et,nn),Xe.r=Math.max(Et,nn),Xe.t=Math.min(Ye,hn),Xe.b=Math.max(Ye,hn),Ne.isSubplotConstrained)bn>L||wn>L?(it="xy",bn/Ce>wn/Re?(wn=bn*Re/Ce,Ye>hn?Xe.t=Ye-wn:Xe.b=Ye+wn):(bn=wn*Ce/Re,Et>nn?Xe.l=Et-bn:Xe.r=Et+bn),je.attr("d",Q(Xe))):En();else if(ge.isSubplotConstrained)if(bn>L||wn>L){it="xy";var Dn=Math.min(Xe.l/Ce,(Re-Xe.b)/Re),kn=Math.max(Xe.r/Ce,(Re-Xe.t)/Re);Xe.l=Dn*Ce,Xe.r=kn*Ce,Xe.b=(1-Dn)*Re,Xe.t=(1-kn)*Re,je.attr("d",Q(Xe))}else En();else!Ee||wn<Math.min(Math.max(.6*bn,O),L)?bn<O||!Me?En():(Xe.t=0,Xe.b=Re,it="x",je.attr("d",function(Bn,Rn){return"M"+(Bn.l-.5)+","+(Rn-L-.5)+"h-3v"+(2*L+1)+"h3ZM"+(Bn.r+.5)+","+(Rn-L-.5)+"h3v"+(2*L+1)+"h-3Z"}(Xe,Ye))):!Me||bn<Math.min(.6*wn,L)?(Xe.l=0,Xe.r=Ce,it="y",je.attr("d",function(Bn,Rn){return"M"+(Rn-L-.5)+","+(Bn.t-.5)+"v-3h"+(2*L+1)+"v3ZM"+(Rn-L-.5)+","+(Bn.b+.5)+"v3h"+(2*L+1)+"v-3Z"}(Xe,Et))):(it="xy",je.attr("d",Q(Xe)));Xe.w=Xe.r-Xe.l,Xe.h=Xe.b-Xe.t,it&&(ot=!0),le._dragged=ot,ie(Be,je,Xe,Ze,lt,Ve),ht(),le.emit("plotly_relayouting",st),lt=!0}function ht(){st={},it!=="xy"&&it!=="x"||(V(pe,Xe.l/Ce,Xe.r/Ce,st,Ne.xaxes),$t("x",st)),it!=="xy"&&it!=="y"||(V(De,(Re-Xe.b)/Re,(Re-Xe.t)/Re,st,Ne.yaxes),$t("y",st))}function kt(){ht(),ne(le),Zt(),ee(le)}$e.prepFn=function(Qt,cn,nn){var hn=$e.dragmode,bn=le._fullLayout.dragmode;bn!==hn&&($e.dragmode=bn),At(),vt=le._fullLayout._invScaleX,xt=le._fullLayout._invScaleY,Fe||(nt?Qt.shiftKey?bn==="pan"?bn="zoom":c(bn)||(bn="pan"):Qt.ctrlKey&&(bn="pan"):bn="pan"),w(bn)?$e.minDrag=1:$e.minDrag=void 0,c(bn)?($e.xaxes=pe,$e.yaxes=De,A(Qt,cn,nn,$e,bn)):($e.clickFn=mt,c(hn)&&dt(),Fe||(bn==="zoom"?($e.moveFn=yt,$e.doneFn=kt,$e.minDrag=1,function(wn,En,Dn){var kn=Rt.getBoundingClientRect();Et=En-kn.left,Ye=Dn-kn.top,le._fullLayout._calcInverseTransform(le);var Bn=y.apply3DTransform(le._fullLayout._invTransform)(Et,Ye);Et=Bn[0],Ye=Bn[1],Xe={l:Et,r:Et,w:0,t:Ye,b:Ye,h:0},Ve=le._hmpixcount?le._hmlumcount/le._hmpixcount:M(le._fullLayout.plot_bgcolor).getLuminance(),lt=!1,it="xy",ot=!1,Be=H(gt,Ve,Te,Ae,Ze="M0,0H"+Ce+"V"+Re+"H0V0"),je=Y(gt,Te,Ae)}(0,cn,nn)):bn==="pan"&&($e.moveFn=Ft,$e.doneFn=Zt))),le._fullLayout._redrag=function(){var wn=le._dragdata;if(wn&&wn.element===Rt){var En=le._fullLayout.dragmode;c(En)||(At(),jt([0,0,Ce,Re]),$e.moveFn(wn.dx,wn.dy))}}},u.init($e);var bt=[0,0,Ce,Re],St=null,Lt=D.REDRAWDELAY,Ot=de.mainplot?le._fullLayout._plots[de.mainplot]:de;function Ft(Qt,cn){if(Qt*=vt,cn*=xt,!le._transitioningWithDuration){if(le._fullLayout._replotting=!0,Me==="ew"||Ee==="ns"){var nn=Me?-Qt:0,hn=Ee?-cn:0;if(ge.isSubplotConstrained){if(Me&&Ee){var bn=(Qt/Ce-cn/Re)/2;nn=-(Qt=bn*Ce),hn=-(cn=-bn*Re)}Ee?nn=-hn*Ce/Re:hn=-nn*Re/Ce}return Me&&(Z(pe,Qt),$t("x")),Ee&&(Z(De,cn),$t("y")),jt([nn,hn,Ce,Re]),on(),void le.emit("plotly_relayouting",st)}var wn,En,Dn=Me==="w"==(Ee==="n")?1:-1;if(Me&&Ee&&(Ne.isSubplotConstrained||ge.isSubplotConstrained)){var kn=(Qt/Ce+Dn*cn/Re)/2;Qt=kn*Ce,cn=Dn*kn*Re}if(Me==="w"?Qt=Gn(pe,0,Qt):Me==="e"?Qt=Gn(pe,1,-Qt):Me||(Qt=0),Ee==="n"?cn=Gn(De,1,cn):Ee==="s"?cn=Gn(De,0,-cn):Ee||(cn=0),wn=Me==="w"?Qt:0,En=Ee==="n"?cn:0,Ne.isSubplotConstrained&&!ge.isSubplotConstrained||ge.isSubplotConstrained&&Me&&Ee&&Dn>0){var Bn;if(ge.isSubplotConstrained||!Me&&Ee.length===1){for(Bn=0;Bn<pe.length;Bn++)pe[Bn].range=pe[Bn]._r.slice(),k(pe[Bn],1-cn/Re);wn=(Qt=cn*Ce/Re)/2}if(ge.isSubplotConstrained||!Ee&&Me.length===1){for(Bn=0;Bn<De.length;Bn++)De[Bn].range=De[Bn]._r.slice(),k(De[Bn],1-Qt/Ce);En=(cn=Qt*Re/Ce)/2}}ge.isSubplotConstrained&&Ee||$t("x"),ge.isSubplotConstrained&&Me||$t("y");var Rn=Ce-Qt,Kn=Re-cn;!ge.isSubplotConstrained||Me&&Ee||(Me?(En=wn?0:Qt*Re/Ce,Kn=Rn*Re/Ce):(wn=En?0:cn*Ce/Re,Rn=Kn*Ce/Re)),jt([wn,En,Rn,Kn]),on(),le.emit("plotly_relayouting",st)}function Gn(nr,$n,fr){for(var en,rn,Cn=1-$n,mn=0;mn<nr.length;mn++){var On=nr[mn];if(!On.fixedrange){en=On,rn=On._rl[Cn]+(On._rl[$n]-On._rl[Cn])/j(fr/On._length);var Hn=On.l2r(rn);Hn!==!1&&Hn!==void 0&&(On.range[$n]=Hn)}}return en._length*(en._rl[$n]-rn)/(en._rl[$n]-en._rl[Cn])}}function $t(Qt,cn){for(var nn=ge.isSubplotConstrained?{x:De,y:pe}[Qt]:ge[Qt+"axes"],hn=ge.isSubplotConstrained?{x:pe,y:De}[Qt]:[],bn=0;bn<nn.length;bn++){var wn=nn[bn],En=wn._id,Dn=ge.xLinks[En]||ge.yLinks[En],kn=hn[0]||ue[Dn]||ae[Dn];kn&&(cn?(cn[wn._name+".range[0]"]=cn[kn._name+".range[0]"],cn[wn._name+".range[1]"]=cn[kn._name+".range[1]"]):wn.range=kn.range.slice())}}function on(){var Qt,cn=[];function nn(En){for(Qt=0;Qt<En.length;Qt++)En[Qt].fixedrange||cn.push(En[Qt]._id)}function hn(En,Dn){for(Qt=0;Qt<En.length;Qt++){var kn=En[Qt],Bn=kn[Dn];kn.fixedrange||Bn.tickmode!=="sync"||cn.push(Bn._id)}}for(Le&&(nn(pe),nn(Ne.xaxes),nn(ge.xaxes),hn(de.overlays,"xaxis")),Ue&&(nn(De),nn(Ne.yaxes),nn(ge.yaxes),hn(de.overlays,"yaxis")),st={},Qt=0;Qt<cn.length;Qt++){var bn=cn[Qt],wn=_(le,bn);a.drawOne(le,wn,{skipTitle:!0}),st[wn._name+".range[0]"]=wn.range[0],st[wn._name+".range[1]"]=wn.range[1]}a.redrawComponents(le,cn)}function Ht(){if(!le._transitioningWithDuration){var Qt=le._context.doubleClick,cn=[];Me&&(cn=cn.concat(pe)),Ee&&(cn=cn.concat(De)),ge.xaxes&&(cn=cn.concat(ge.xaxes)),ge.yaxes&&(cn=cn.concat(ge.yaxes));var nn,hn,bn={};if(Qt==="reset+autosize")for(Qt="autosize",hn=0;hn<cn.length;hn++){var wn=(nn=cn[hn])._rangeInitial0,En=nn._rangeInitial1,Dn=wn!==void 0||En!==void 0;if(Dn&&(wn!==void 0&&wn!==nn.range[0]||En!==void 0&&En!==nn.range[1])||!Dn&&nn.autorange!==!0){Qt="reset";break}}if(Qt==="autosize")for(hn=0;hn<cn.length;hn++)(nn=cn[hn]).fixedrange||(bn[nn._name+".autorange"]=!0);else if(Qt==="reset"){for((Me||Ne.isSubplotConstrained)&&(cn=cn.concat(Ne.xaxes)),Ee&&!Ne.isSubplotConstrained&&(cn=cn.concat(Ne.yaxes)),Ne.isSubplotConstrained&&(Me?Ee||(cn=cn.concat(De)):cn=cn.concat(pe)),hn=0;hn<cn.length;hn++)if(!(nn=cn[hn]).fixedrange){var kn=nn._name,Bn=nn._autorangeInitial;nn._rangeInitial0===void 0&&nn._rangeInitial1===void 0?bn[kn+".autorange"]=!0:nn._rangeInitial0===void 0?(bn[kn+".autorange"]=Bn,bn[kn+".range"]=[null,nn._rangeInitial1]):nn._rangeInitial1===void 0?(bn[kn+".range"]=[nn._rangeInitial0,null],bn[kn+".autorange"]=Bn):bn[kn+".range"]=[nn._rangeInitial0,nn._rangeInitial1]}}le.emit("plotly_doubleclick",null),f.call("_guiRelayout",le,bn)}}function Zt(){jt([0,0,Ce,Re]),y.syncOrAsync([T.previousPromises,function(){le._fullLayout._replotting=!1,f.call("_guiRelayout",le,st)}],le)}function jt(Qt){var cn,nn,hn,bn,wn=le._fullLayout,En=wn._plots,Dn=wn._subplots.cartesian;if(Ke&&f.subplotsRegistry.splom.drag(le),Ge){for(cn=0;cn<Dn.length;cn++)if(hn=(nn=En[Dn[cn]]).xaxis,bn=nn.yaxis,nn._scene){var kn=y.simpleMap(hn.range,hn.r2l),Bn=y.simpleMap(bn.range,bn.r2l);hn.limitRange&&hn.limitRange(),bn.limitRange&&bn.limitRange(),kn=hn.range,Bn=bn.range,nn._scene.update({range:[kn[0],Bn[0],kn[1],Bn[1]]})}}if((Ke||Ge)&&(v(le),m(le)),at){var Rn=Qt[2]/Ie._length,Kn=Qt[3]/xe._length;for(cn=0;cn<Dn.length;cn++){hn=(nn=En[Dn[cn]]).xaxis,bn=nn.yaxis;var Gn,nr,$n,fr,en=(Le||ge.isSubplotConstrained)&&!hn.fixedrange&&ue[hn._id],rn=(Ue||ge.isSubplotConstrained)&&!bn.fixedrange&&ae[bn._id];if(en?(Gn=Rn,$n=Se||ge.isSubplotConstrained?Qt[0]:gn(hn,Gn)):ge.xaHash[hn._id]?(Gn=Rn,$n=Qt[0]*hn._length/Ie._length):ge.yaHash[hn._id]?(Gn=Kn,$n=Ee==="ns"?-Qt[1]*hn._length/xe._length:gn(hn,Gn,{n:"top",s:"bottom"}[Ee])):$n=Tn(hn,Gn=Ln(hn,Rn,Kn)),Gn>1&&(hn.maxallowed!==void 0&&Le===(hn.range[0]<hn.range[1]?"e":"w")||hn.minallowed!==void 0&&Le===(hn.range[0]<hn.range[1]?"w":"e"))&&(Gn=1,$n=0),rn?(nr=Kn,fr=ye||ge.isSubplotConstrained?Qt[1]:gn(bn,nr)):ge.yaHash[bn._id]?(nr=Kn,fr=Qt[1]*bn._length/xe._length):ge.xaHash[bn._id]?(nr=Rn,fr=Me==="ew"?-Qt[0]*bn._length/Ie._length:gn(bn,nr,{e:"right",w:"left"}[Me])):fr=Tn(bn,nr=Ln(bn,Rn,Kn)),nr>1&&(bn.maxallowed!==void 0&&Ue===(bn.range[0]<bn.range[1]?"n":"s")||bn.minallowed!==void 0&&Ue===(bn.range[0]<bn.range[1]?"s":"n"))&&(nr=1,fr=0),Gn||nr){Gn||(Gn=1),nr||(nr=1);var Cn=hn._offset-$n/Gn,mn=bn._offset-fr/nr;nn.clipRect.call(r.setTranslate,$n,fr).call(r.setScale,Gn,nr),nn.plot.call(r.setTranslate,Cn,mn).call(r.setScale,1/Gn,1/nr),Gn===nn.xScaleFactor&&nr===nn.yScaleFactor||(r.setPointGroupScale(nn.zoomScalePts,Gn,nr),r.setTextPointsScale(nn.zoomScaleTxt,Gn,nr)),r.hideOutsideRangePoints(nn.clipOnAxisFalseTraces,nn),nn.xScaleFactor=Gn,nn.yScaleFactor=nr}}}}function Ln(Qt,cn,nn){return Qt.fixedrange?0:Le&&Ne.xaHash[Qt._id]?cn:Ue&&(Ne.isSubplotConstrained?Ne.xaHash:Ne.yaHash)[Qt._id]?nn:0}function Tn(Qt,cn){return cn?(Qt.range=Qt._r.slice(),k(Qt,cn),gn(Qt,cn)):0}function gn(Qt,cn,nn){return Qt._length*(1-cn)*g[nn||Qt.constraintoward||"middle"]}return ye.length*Se.length!=1&&se(Rt,function(Qt){if(le._context._scrollZoom.cartesian||le._fullLayout._enablescrollzoom){if(dt(),le._transitioningWithDuration)return Qt.preventDefault(),void Qt.stopPropagation();At(),clearTimeout(St);var cn=-Qt.deltaY;if(isFinite(cn)||(cn=Qt.wheelDelta/10),isFinite(cn)){var nn,hn=Math.exp(-Math.min(Math.max(cn,-20),20)/200),bn=Ot.draglayer.select(".nsewdrag").node().getBoundingClientRect(),wn=(Qt.clientX-bn.left)/bn.width,En=(bn.bottom-Qt.clientY)/bn.height;if(Le){for(Se||(wn=.5),nn=0;nn<pe.length;nn++)Dn(pe[nn],wn,hn);$t("x"),bt[2]*=hn,bt[0]+=bt[2]*wn*(1/hn-1)}if(Ue){for(ye||(En=.5),nn=0;nn<De.length;nn++)Dn(De[nn],En,hn);$t("y"),bt[3]*=hn,bt[1]+=bt[3]*(1-En)*(1/hn-1)}jt(bt),on(),le.emit("plotly_relayouting",st),St=setTimeout(function(){le._fullLayout&&(bt=[0,0,Ce,Re],Zt())},Lt),Qt.preventDefault()}else y.log("Did not find wheel motion attributes: ",Qt)}function Dn(kn,Bn,Rn){if(!kn.fixedrange){var Kn=y.simpleMap(kn.range,kn.r2l),Gn=Kn[0]+(Kn[1]-Kn[0])*Bn;kn.range=Kn.map(function(nr){return kn.l2r(Gn+(nr-Gn)*Rn)})}}}),Rt},makeDragger:z,makeRectDragger:q,makeZoombox:H,makeCorners:Y,updateZoombox:ie,xyCorners:Q,transitionZoombox:re,removeZoombox:ne,showDoubleClickNotifier:ee,attachWheelEventHandler:se}},42464:function(S,x,e){"use strict";var p=e(33428),y=e(93024),n=e(86476),M=e(93972),b=e(51184).makeDragBox,f=e(33816).DRAGGERSIZE;x.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)p.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(r,i){if((t._plots[r].mainplot&&!0)===(t._plots[i].mainplot&&!0)){var a=r.split("y"),l=i.split("y");return a[0]===l[0]?Number(a[1]||1)-Number(l[1]||1):Number(a[0]||1)-Number(l[0]||1)}return t._plots[r].mainplot?1:-1}).forEach(function(r){var i=t._plots[r],a=i.xaxis,l=i.yaxis;if(!i.mainplot){var u=b(s,i,a._offset,l._offset,a._length,l._length,"ns","ew");u.onmousemove=function(w){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===r&&s._fullLayout._plots[r]&&y.hover(s,w,r)},y.hover(s,w,r),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=r},u.onmouseout=function(w){s._dragging||(s._fullLayout._hoversubplot=null,n.unhover(s,w))},s._context.showAxisDragHandles&&(b(s,i,a._offset-f,l._offset-f,f,f,"n","w"),b(s,i,a._offset+a._length,l._offset-f,f,f,"n","e"),b(s,i,a._offset-f,l._offset+l._length,f,f,"s","w"),b(s,i,a._offset+a._length,l._offset+l._length,f,f,"s","e"))}if(s._context.showAxisDragHandles){if(r===a._mainSubplot){var h=a._mainLinePosition;a.side==="top"&&(h-=f),b(s,i,a._offset+.1*a._length,h,.8*a._length,f,"","ew"),b(s,i,a._offset,h,.1*a._length,f,"","w"),b(s,i,a._offset+.9*a._length,h,.1*a._length,f,"","e")}if(r===l._mainSubplot){var c=l._mainLinePosition;l.side!=="right"&&(c-=f),b(s,i,c,l._offset+.1*l._length,f,.8*l._length,"ns",""),b(s,i,c,l._offset+.9*l._length,f,.1*l._length,"s",""),b(s,i,c,l._offset,f,.1*l._length,"n","")}}});var o=t._hoverlayer.node();o.onmousemove=function(r){r.target=s._fullLayout._lasthover,y.hover(s,r,t._hoversubplot)},o.onclick=function(r){r.target=s._fullLayout._lasthover,y.click(s,r)},o.onmousedown=function(r){s._fullLayout._lasthover.onmousedown(r)},x.updateFx(s)}},x.updateFx=function(s){var t=s._fullLayout,o=t.dragmode==="pan"?"move":"crosshair";M(t._draggers,o)}},36632:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(79811);S.exports=function(M){return function(b,f){var s=b[M];if(Array.isArray(s))for(var t=p.subplotsRegistry.cartesian,o=t.idRegex,r=f._subplots,i=r.xaxis,a=r.yaxis,l=r.cartesian,u=f._has("cartesian")||f._has("gl2d"),h=0;h<s.length;h++){var c=s[h];if(y.isPlainObject(c)){var w=n.cleanId(c.xref,"x",!1),g=n.cleanId(c.yref,"y",!1),v=o.x.test(w),m=o.y.test(g);if(v||m){u||y.pushUnique(f._basePlotModules,t);var T=!1;v&&i.indexOf(w)===-1&&(i.push(w),T=!0),m&&a.indexOf(g)===-1&&(a.push(g),T=!0),T&&v&&m&&l.push(w+g)}}}}}},57952:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(3400),M=e(7316),b=e(43616),f=e(84888)._M,s=e(79811),t=e(33816),o=e(9616),r=n.ensureSingle;function i(c,w,g){return n.ensureSingle(c,w,g,function(v){v.datum(g)})}function a(c,w,g,v,m){for(var T,_,A,d=t.traceLayerClasses,C=c._fullLayout,k=C._modules,D={},O=0;O<g.length;O++){var L=g[O][0].trace.zorder||0;D[L]||(D[L]=[]),D[L].push(g[O])}for(var R=[],z=[],q=Object.keys(D).map(Number).sort(n.sorterAsc),N=0;N<q.length;N++)for(var V=q[N],Z=0;Z<k.length;Z++){var j=(T=k[Z]).name,H=y.modules[j].categories;if(H.svg){var Y=T.layerName||j+"layer",ie=Y+(N?Number(N)+1:""),re=T.plot;A=(_=f(g,re,V))[0],g=_[1],A.length&&R.push({i:d.indexOf(Y),zorder:N,className:ie,plotMethod:re,cdModule:A}),H.zoomScale&&z.push("."+ie)}}R.sort(function(Q,X){return(Q.zorder||0)-(X.zorder||0)||Q.i-X.i});var ne=w.plot.selectAll("g.mlayer").data(R,function(Q){return Q.className});if(ne.enter().append("g").attr("class",function(Q){return Q.className}).classed("mlayer",!0).classed("rangeplot",w.isRangePlot),ne.exit().remove(),ne.order(),ne.each(function(Q){var X=p.select(this),se=Q.className;Q.plotMethod(c,w,Q.cdModule,X,v,m),t.clipOnAxisFalseQuery.indexOf("."+se)===-1&&b.setClipUrl(X,w.layerClipId,c)}),C._has("scattergl")&&(T=y.getModule("scattergl"),A=f(g,T)[0],T.plot(c,w,A)),!c._context.staticPlot&&(w._hasClipOnAxisFalse&&(w.clipOnAxisFalseTraces=w.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),z.length)){var ee=w.plot.selectAll(z.join(",")).selectAll(".trace");w.zoomScalePts=ee.selectAll("path.point"),w.zoomScaleTxt=ee.selectAll(".textpoint")}}function l(c,w){var g=w.plotgroup,v=w.id,m=t.layerValue2layerClass[w.xaxis.layer],T=t.layerValue2layerClass[w.yaxis.layer],_=c._fullLayout._hasOnlyLargeSploms;if(w.mainplot){var A=w.mainplotinfo,d=A.plotgroup,C=v+"-x",k=v+"-y";w.minorGridlayer=A.minorGridlayer,w.gridlayer=A.gridlayer,w.zerolinelayer=A.zerolinelayer,r(A.overlinesBelow,"path",C),r(A.overlinesBelow,"path",k),r(A.overaxesBelow,"g",C),r(A.overaxesBelow,"g",k),w.plot=r(A.overplot,"g",v),r(A.overlinesAbove,"path",C),r(A.overlinesAbove,"path",k),r(A.overaxesAbove,"g",C),r(A.overaxesAbove,"g",k),w.xlines=d.select(".overlines-"+m).select("."+C),w.ylines=d.select(".overlines-"+T).select("."+k),w.xaxislayer=d.select(".overaxes-"+m).select("."+C),w.yaxislayer=d.select(".overaxes-"+T).select("."+k)}else if(_)w.xlines=r(g,"path","xlines-above"),w.ylines=r(g,"path","ylines-above"),w.xaxislayer=r(g,"g","xaxislayer-above"),w.yaxislayer=r(g,"g","yaxislayer-above");else{var D=r(g,"g","layer-subplot");w.shapelayer=r(D,"g","shapelayer"),w.imagelayer=r(D,"g","imagelayer"),w.minorGridlayer=r(g,"g","minor-gridlayer"),w.gridlayer=r(g,"g","gridlayer"),w.zerolinelayer=r(g,"g","zerolinelayer");var O=r(g,"g","layer-between");w.shapelayerBetween=r(O,"g","shapelayer"),w.imagelayerBetween=r(O,"g","imagelayer"),r(g,"path","xlines-below"),r(g,"path","ylines-below"),w.overlinesBelow=r(g,"g","overlines-below"),r(g,"g","xaxislayer-below"),r(g,"g","yaxislayer-below"),w.overaxesBelow=r(g,"g","overaxes-below"),w.plot=r(g,"g","plot"),w.overplot=r(g,"g","overplot"),w.xlines=r(g,"path","xlines-above"),w.ylines=r(g,"path","ylines-above"),w.overlinesAbove=r(g,"g","overlines-above"),r(g,"g","xaxislayer-above"),r(g,"g","yaxislayer-above"),w.overaxesAbove=r(g,"g","overaxes-above"),w.xlines=g.select(".xlines-"+m),w.ylines=g.select(".ylines-"+T),w.xaxislayer=g.select(".xaxislayer-"+m),w.yaxislayer=g.select(".yaxislayer-"+T)}_||(i(w.minorGridlayer,"g",w.xaxis._id),i(w.minorGridlayer,"g",w.yaxis._id),w.minorGridlayer.selectAll("g").map(function(L){return L[0]}).sort(s.idSort),i(w.gridlayer,"g",w.xaxis._id),i(w.gridlayer,"g",w.yaxis._id),w.gridlayer.selectAll("g").map(function(L){return L[0]}).sort(s.idSort)),w.xlines.style("fill","none").classed("crisp",!0),w.ylines.style("fill","none").classed("crisp",!0)}function u(c,w){if(c){var g={};for(var v in c.each(function(A){var d=A[0];p.select(this).remove(),h(d,w),g[d]=!0}),w._plots)for(var m=w._plots[v].overlays||[],T=0;T<m.length;T++){var _=m[T];g[_.id]&&_.plot.selectAll(".trace").remove()}}}function h(c,w){w._draggers.selectAll("g."+c).remove(),w._defs.select("#clip"+w._uid+c+"plot").remove()}x.name="cartesian",x.attr=["xaxis","yaxis"],x.idRoot=["x","y"],x.idRegex=t.idRegex,x.attrRegex=t.attrRegex,x.attributes=e(26720),x.layoutAttributes=e(94724),x.supplyLayoutDefaults=e(67352),x.transitionAxes=e(73736),x.finalizeSubplots=function(c,w){var g,v,m,T=w._subplots,_=T.xaxis,A=T.yaxis,d=T.cartesian,C=d.concat(T.gl2d||[]),k={},D={};for(g=0;g<C.length;g++){var O=C[g].split("y");k[O[0]]=1,D["y"+O[1]]=1}for(g=0;g<_.length;g++)k[v=_[g]]||(m=(c[s.id2name(v)]||{}).anchor,t.idRegex.y.test(m)||(m="y"),d.push(v+m),C.push(v+m),D[m]||(D[m]=1,n.pushUnique(A,m)));for(g=0;g<A.length;g++)D[m=A[g]]||(v=(c[s.id2name(m)]||{}).anchor,t.idRegex.x.test(v)||(v="x"),d.push(v+m),C.push(v+m),k[v]||(k[v]=1,n.pushUnique(_,v)));if(!C.length){for(var L in v="",m="",c)t.attrRegex.test(L)&&(L.charAt(0)==="x"?(!v||+L.substr(5)<+v.substr(5))&&(v=L):(!m||+L.substr(5)<+m.substr(5))&&(m=L));v=v?s.name2id(v):"x",m=m?s.name2id(m):"y",_.push(v),A.push(m),d.push(v+m)}},x.plot=function(c,w,g,v){var m,T=c._fullLayout,_=T._subplots.cartesian,A=c.calcdata;if(!Array.isArray(w))for(w=[],m=0;m<A.length;m++)w.push(m);for(m=0;m<_.length;m++){for(var d,C=_[m],k=T._plots[C],D=[],O=0;O<A.length;O++){var L=A[O],R=L[0].trace;R.xaxis+R.yaxis===C&&((w.indexOf(R.index)!==-1||R.carpet)&&(d&&d[0].trace.xaxis+d[0].trace.yaxis===C&&["tonextx","tonexty","tonext"].indexOf(R.fill)!==-1&&D.indexOf(d)===-1&&D.push(d),D.push(L)),d=L)}a(c,k,D,g,v)}},x.clean=function(c,w,g,v){var m,T,_,A=v._plots||{},d=w._plots||{},C=v._subplots||{};if(v._hasOnlyLargeSploms&&!w._hasOnlyLargeSploms)for(_ in A)(m=A[_]).plotgroup&&m.plotgroup.remove();var k=v._has&&v._has("gl"),D=w._has&&w._has("gl");if(k&&!D)for(_ in A)(m=A[_])._scene&&m._scene.destroy();if(C.xaxis&&C.yaxis){var O=s.listIds({_fullLayout:v});for(T=0;T<O.length;T++){var L=O[T];w[s.id2name(L)]||v._infolayer.selectAll(".g-"+L+"title").remove()}}var R=v._has&&v._has("cartesian"),z=w._has&&w._has("cartesian");if(R&&!z)u(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(C.cartesian)for(T=0;T<C.cartesian.length;T++){var q=C.cartesian[T];if(!d[q]){var N="."+q+",."+q+"-x,."+q+"-y";v._cartesianlayer.selectAll(N).remove(),h(q,v)}}},x.drawFramework=function(c){var w=c._fullLayout,g=function(m){var T,_,A,d,C,k,D=m._fullLayout,O=D._subplots.cartesian,L=O.length,R=[],z=[];for(T=0;T<L;T++){A=O[T],C=(d=D._plots[A]).xaxis,k=d.yaxis;var q=C._mainAxis,N=k._mainAxis,V=q._id+N._id,Z=D._plots[V];d.overlays=[],V!==A&&Z?(d.mainplot=V,d.mainplotinfo=Z,z.push(A)):(d.mainplot=void 0,d.mainplotinfo=void 0,R.push(A))}for(T=0;T<z.length;T++)A=z[T],(d=D._plots[A]).mainplotinfo.overlays.push(d);var j=R.concat(z),H=new Array(L);for(T=0;T<L;T++){A=j[T],C=(d=D._plots[A]).xaxis,k=d.yaxis;var Y=[A,C.layer,k.layer,C.overlaying||"",k.overlaying||""];for(_=0;_<d.overlays.length;_++)Y.push(d.overlays[_].id);H[T]=Y}return H}(c),v=w._cartesianlayer.selectAll(".subplot").data(g,String);v.enter().append("g").attr("class",function(m){return"subplot "+m[0]}),v.order(),v.exit().call(u,w),v.each(function(m){var T=m[0],_=w._plots[T];_.plotgroup=p.select(this),l(c,_),_.draglayer=r(w._draggers,"g",T)})},x.rangePlot=function(c,w,g){l(c,w),a(c,w,g),M.style(c)},x.toSVG=function(c){var w=c._fullLayout._glimages,g=p.select(c).selectAll(".svg-container");g.filter(function(v,m){return m===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var v=this,m=v.toDataURL("image/png");w.append("svg:image").attr({xmlns:o.svg,"xlink:href":m,preserveAspectRatio:"none",x:0,y:0,width:v.style.width,height:v.style.height})})},x.updateFx=e(42464).updateFx},94724:function(S,x,e){"use strict";var p=e(25376),y=e(22548),n=e(98192).u,M=e(92880).extendFlat,b=e(31780).templatedArray,f=e(29736).descriptionWithDates,s=e(39032).ONEDAY,t=e(33816),o=t.HOUR_PATTERN,r=t.WEEKDAY_PATTERN,i={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},a=M({},i,{values:i.values.slice().concat(["sync"])});function l(C){return{valType:"integer",min:0,dflt:C?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(C){var k={valType:"number",min:0,editType:"ticks"};return C||(k.dflt=5),k}function v(C){var k={valType:"number",min:0,editType:"ticks"};return C||(k.dflt=1),k}var m={valType:"color",dflt:y.defaultLine,editType:"ticks"},T={valType:"color",dflt:y.lightLine,editType:"ticks"};function _(C){var k={valType:"number",min:0,editType:"ticks"};return C||(k.dflt=1),k}var A=M({},n,{editType:"ticks"}),d={valType:"boolean",editType:"ticks"};S.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:y.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,o,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:a,nticks:l(),tick0:u,dtick:h,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:v(),tickcolor:m,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:M({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:y.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:d,gridcolor:T,gridwidth:_(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:y.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:y.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:i,nticks:l("minor"),tick0:u,dtick:h,tickvals:c,ticks:w,ticklen:g("minor"),tickwidth:v("minor"),tickcolor:m,gridcolor:T,gridwidth:_("minor"),griddash:A,showgrid:d,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},67352:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(10624).isUnifiedHover,M=e(41008),b=e(31780),f=e(64859),s=e(94724),t=e(14944),o=e(28336),r=e(71888),i=e(37668),a=e(79811),l=a.id2name,u=a.name2id,h=e(33816).AX_ID_PATTERN,c=e(24040),w=c.traceIs,g=c.getComponentMethod;function v(m,T,_){Array.isArray(m[T])?m[T].push(_):m[T]=[_]}S.exports=function(m,T,_){var A,d,C=T.autotypenumbers,k={},D={},O={},L={},R={},z={},q={},N={},V={},Z={};for(A=0;A<_.length;A++){var j=_[A];if(w(j,"cartesian")||w(j,"gl2d")){var H,Y;if(j.xaxis)H=l(j.xaxis),v(k,H,j);else if(j.xaxes)for(d=0;d<j.xaxes.length;d++)v(k,l(j.xaxes[d]),j);if(j.yaxis)Y=l(j.yaxis),v(k,Y,j);else if(j.yaxes)for(d=0;d<j.yaxes.length;d++)v(k,l(j.yaxes[d]),j);j.type==="funnel"?j.orientation==="h"?(H&&(D[H]=!0),Y&&(q[Y]=!0)):Y&&(O[Y]=!0):j.type==="image"?(Y&&(N[Y]=!0),H&&(N[H]=!0)):(Y&&(R[Y]=!0,z[Y]=!0),w(j,"carpet")&&(j.type!=="carpet"||j._cheater)||H&&(L[H]=!0)),j.type==="carpet"&&j._cheater&&H&&(D[H]=!0),w(j,"2dMap")&&(V[H]=!0,V[Y]=!0),w(j,"oriented")&&(Z[j.orientation==="h"?Y:H]=!0)}}var ie=T._subplots,re=ie.xaxis,ne=ie.yaxis,ee=p.simpleMap(re,l),Q=p.simpleMap(ne,l),X=ee.concat(Q),se=y.background;re.length&&ne.length&&(se=p.coerce(m,T,f,"plot_bgcolor"));var ce,le,de,be,_e,ve=y.combine(se,T.paper_bgcolor);function me(){var et=k[ce]||[];_e._traceIndices=et.map(function(At){return At._expandedIndex}),_e._annIndices=[],_e._shapeIndices=[],_e._selectionIndices=[],_e._imgIndices=[],_e._subplotsWith=[],_e._counterAxes=[],_e._name=_e._attr=ce,_e._id=le}function ye(et,At){return p.coerce(be,_e,s,et,At)}function Se(et,At){return p.coerce2(be,_e,s,et,At)}function Ie(et){return et==="x"?ne:re}function xe(et,At){for(var Pt=et==="x"?ee:Q,Rt=[],Et=0;Et<Pt.length;Et++){var Ye=Pt[Et];Ye===At||(m[Ye]||{}).overlaying||Rt.push(u(Ye))}return Rt}var ue={x:Ie("x"),y:Ie("y")},ae=ue.x.concat(ue.y),pe={},De=[];function Te(){var et=be.matches;h.test(et)&&ae.indexOf(et)===-1&&(pe[et]=be.type,De=Object.keys(pe))}var Ae=M(m,T),Ce=n(Ae);for(A=0;A<X.length;A++){ce=X[A],le=u(ce),de=ce.charAt(0),p.isPlainObject(m[ce])||(m[ce]={}),be=m[ce],_e=b.newContainer(T,ce,de+"axis"),me();var Re=de==="x"&&!L[ce]&&D[ce]||de==="y"&&!R[ce]&&O[ce],Ne=de==="y"&&(!z[ce]&&q[ce]||N[ce]),ge={hasMinor:!0,letter:de,font:T.font,outerTicks:V[ce],showGrid:!Z[ce],data:k[ce]||[],bgColor:ve,calendar:T.calendar,automargin:!0,visibleDflt:Re,reverseDflt:Ne,autotypenumbersDflt:C,splomStash:((T._splomAxes||{})[de]||{})[le],noAutotickangles:de==="y"};ye("uirevision",T.uirevision),t(be,_e,ye,ge),o(be,_e,ye,ge,T);var Me=Ce&&de===Ae.charAt(0),Ee=Se("spikecolor",Ce?_e.color:void 0),Fe=Se("spikethickness",Ce?1.5:void 0),Le=Se("spikedash",Ce?"dot":void 0),Ue=Se("spikemode",Ce?"across":void 0),Ge=Se("spikesnap");ye("showspikes",!!(Me||Ee||Fe||Le||Ue||Ge))||(delete _e.spikecolor,delete _e.spikethickness,delete _e.spikedash,delete _e.spikemode,delete _e.spikesnap);var Ke=l(be.overlaying),at=[0,1];if(T[Ke]!==void 0){var st=l(T[Ke].anchor);T[st]!==void 0&&(at=T[st].domain)}i(be,_e,ye,{letter:de,counterAxes:ue[de],overlayableAxes:xe(de,ce),grid:T.grid,overlayingDomain:at}),ye("title.standoff"),Te(),_e._input=be}for(A=0;A<De.length;){le=De[A++],de=(ce=l(le)).charAt(0),p.isPlainObject(m[ce])||(m[ce]={}),be=m[ce],_e=b.newContainer(T,ce,de+"axis"),me();var vt={letter:de,font:T.font,outerTicks:V[ce],showGrid:!Z[ce],data:[],bgColor:ve,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:C,splomStash:((T._splomAxes||{})[de]||{})[le]};ye("uirevision",T.uirevision),_e.type=pe[le]||"linear",o(be,_e,ye,vt,T),i(be,_e,ye,{letter:de,counterAxes:ue[de],overlayableAxes:xe(de,ce),grid:T.grid}),ye("fixedrange"),Te(),_e._input=be}var xt=g("rangeslider","handleDefaults"),gt=g("rangeselector","handleDefaults");for(A=0;A<ee.length;A++)ce=ee[A],be=m[ce],_e=T[ce],xt(m,T,ce),_e.type==="date"&&gt(be,_e,T,Q,_e.calendar),ye("fixedrange");for(A=0;A<Q.length;A++){ce=Q[A],be=m[ce],_e=T[ce];var nt=T[l(_e.anchor)];ye("fixedrange",g("rangeslider","isVisible")(nt))}r.handleDefaults(m,T,{axIds:ae.concat(De).sort(a.idSort),axHasImage:N})}},42136:function(S,x,e){"use strict";var p=e(49760).mix,y=e(22548),n=e(3400);S.exports=function(M,b,f,s){var t=(s=s||{}).dfltColor;function o(m,T){return n.coerce2(M,b,s.attributes,m,T)}var r=o("linecolor",t),i=o("linewidth");f("showline",s.showLine||!!r||!!i)||(delete b.linecolor,delete b.linewidth);var a=o("gridcolor",p(t,s.bgColor,s.blend||y.lightFraction).toRgbString()),l=o("gridwidth"),u=o("griddash");if(f("showgrid",s.showGrid||!!a||!!l||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),s.hasMinor){var h=o("minor.gridcolor",p(b.gridcolor,s.bgColor,67).toRgbString()),c=o("minor.gridwidth",b.gridwidth||1),w=o("minor.griddash",b.griddash||"solid");f("minor.showgrid",!!h||!!c||!!w)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!s.noZeroLine){var g=o("zerolinecolor",t),v=o("zerolinewidth");f("zeroline",s.showGrid||!!g||!!v)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},37668:function(S,x,e){"use strict";var p=e(38248),y=e(3400);S.exports=function(n,M,b,f){var s,t,o,r,i,a,l=f.counterAxes||[],u=f.overlayableAxes||[],h=f.letter,c=f.grid,w=f.overlayingDomain;c&&(t=c._domains[h][c._axisMap[M._id]],s=c._anchors[M._id],t&&(o=c[h+"side"].split(" ")[0],r=c.domain[h][o==="right"||o==="top"?1:0])),t=t||[0,1],s=s||(p(n.position)?"free":l[0]||"free"),o=o||(h==="x"?"bottom":"left"),r=r||0,i=0,a=!1;var g=y.coerce(n,M,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:s}},"anchor"),v=y.coerce(n,M,{side:{valType:"enumerated",values:h==="x"?["bottom","top"]:["left","right"],dflt:o}},"side");g==="free"&&(h==="y"&&(b("autoshift")&&(r=v==="left"?w[0]:w[1],a=!M.automargin||M.automargin,i=v==="left"?-3:3),b("shift",i)),b("position",r)),b("automargin",a);var m=!1;if(u.length&&(m=y.coerce(n,M,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!m){var T=b("domain",t);T[0]>T[1]-.000244140625&&(M.domain=t),y.noneOrAll(n.domain,M.domain,t),M.tickmode==="sync"&&(M.tickmode="auto")}return b("layer"),M}},42568:function(S,x,e){"use strict";var p=e(85024);S.exports=function(y,n,M,b,f){f||(f={});var s=f.tickSuffixDflt,t=p(y);M("tickprefix")&&M("showtickprefix",t),M("ticksuffix",s)&&M("showticksuffix",t)}},96312:function(S,x,e){"use strict";var p=e(76808);S.exports=function(y,n,M,b){var f=n._template||{},s=n.type||f.type||"-";M("minallowed"),M("maxallowed");var t,o=M("range");o||b.noInsiderange||s==="log"||(!(t=M("insiderange"))||t[0]!==null&&t[1]!==null||(n.insiderange=!1,t=void 0),t&&(o=M("range",t)));var r,i=n.getAutorangeDflt(o,b),a=M("autorange",i);!o||(o[0]!==null||o[1]!==null)&&(o[0]!==null&&o[1]!==null||a!=="reversed"&&a!==!0)&&(o[0]===null||a!=="min"&&a!=="max reversed")&&(o[1]===null||a!=="max"&&a!=="min reversed")||(o=void 0,delete n.range,n.autorange=!0,r=!0),r||(a=M("autorange",i=n.getAutorangeDflt(o,b))),a&&(p(M,a,o),s!=="linear"&&s!=="-"||M("rangemode")),n.cleanRange()}},21160:function(S,x,e){"use strict";var p=e(84284).FROM_BL;S.exports=function(y,n,M){M===void 0&&(M=p[y.constraintoward||"center"]);var b=[y.r2l(y.range[0]),y.r2l(y.range[1])],f=b[0]+(b[1]-b[0])*M;y.range=y._input.range=[y.l2r(f+(b[0]-f)*n),y.l2r(f+(b[1]-f)*n)],y.setScale()}},78344:function(S,x,e){"use strict";var p=e(33428),y=e(94336).E9,n=e(3400),M=n.numberFormat,b=e(38248),f=n.cleanNumber,s=n.ms2DateTime,t=n.dateTime2ms,o=n.ensureNumber,r=n.isArrayOrTypedArray,i=e(39032),a=i.FP_SAFE,l=i.BADNUM,u=i.LOG_CLIP,h=i.ONEWEEK,c=i.ONEDAY,w=i.ONEHOUR,g=i.ONEMIN,v=i.ONESEC,m=e(79811),T=e(33816),_=T.HOUR_PATTERN,A=T.WEEKDAY_PATTERN;function d(k){return Math.pow(10,k)}function C(k){return k!=null}S.exports=function(k,D){D=D||{};var O=k._id||"x",L=O.charAt(0);function R(X,se){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&se&&k.range&&k.range.length===2){var ce=k.range[0],le=k.range[1];return .5*(ce+le-2*u*Math.abs(ce-le))}return l}function z(X,se,ce,le){if((le||{}).msUTC&&b(X))return+X;var de=t(X,ce||k.calendar);if(de===l){if(!b(X))return l;X=+X;var be=Math.floor(10*n.mod(X+.05,1)),_e=Math.round(X-be/10);de=t(new Date(_e))+be/10}return de}function q(X,se,ce){return s(X,se,ce||k.calendar)}function N(X){return k._categories[Math.round(X)]}function V(X){if(C(X)){if(k._categoriesMap===void 0&&(k._categoriesMap={}),k._categoriesMap[X]!==void 0)return k._categoriesMap[X];k._categories.push(typeof X=="number"?String(X):X);var se=k._categories.length-1;return k._categoriesMap[X]=se,se}return l}function Z(X){if(k._categoriesMap)return k._categoriesMap[X]}function j(X){var se=Z(X);return se!==void 0?se:b(X)?+X:void 0}function H(X){return b(X)?+X:Z(X)}function Y(X,se,ce){return p.round(ce+se*X,2)}function ie(X,se,ce){return(X-ce)/se}var re=function(X){return b(X)?Y(X,k._m,k._b):l},ne=function(X){return ie(X,k._m,k._b)};if(k.rangebreaks){var ee=L==="y";re=function(X){if(!b(X))return l;var se=k._rangebreaks.length;if(!se)return Y(X,k._m,k._b);var ce=ee;k.range[0]>k.range[1]&&(ce=!ce);for(var le=ce?-1:1,de=le*X,be=0,_e=0;_e<se;_e++){var ve=le*k._rangebreaks[_e].min,me=le*k._rangebreaks[_e].max;if(de<ve)break;if(!(de>me)){be=de<(ve+me)/2?_e:_e+1;break}be=_e+1}var ye=k._B[be]||0;return isFinite(ye)?Y(X,k._m2,ye):0},ne=function(X){var se=k._rangebreaks.length;if(!se)return ie(X,k._m,k._b);for(var ce=0,le=0;le<se&&!(X<k._rangebreaks[le].pmin);le++)X>k._rangebreaks[le].pmax&&(ce=le+1);return ie(X,k._m2,k._B[ce])}}k.c2l=k.type==="log"?R:o,k.l2c=k.type==="log"?d:o,k.l2p=re,k.p2l=ne,k.c2p=k.type==="log"?function(X,se){return re(R(X,se))}:re,k.p2c=k.type==="log"?function(X){return d(ne(X))}:ne,["linear","-"].indexOf(k.type)!==-1?(k.d2r=k.r2d=k.d2c=k.r2c=k.d2l=k.r2l=f,k.c2d=k.c2r=k.l2d=k.l2r=o,k.d2p=k.r2p=function(X){return k.l2p(f(X))},k.p2d=k.p2r=ne,k.cleanPos=o):k.type==="log"?(k.d2r=k.d2l=function(X,se){return R(f(X),se)},k.r2d=k.r2c=function(X){return d(f(X))},k.d2c=k.r2l=f,k.c2d=k.l2r=o,k.c2r=R,k.l2d=d,k.d2p=function(X,se){return k.l2p(k.d2r(X,se))},k.p2d=function(X){return d(ne(X))},k.r2p=function(X){return k.l2p(f(X))},k.p2r=ne,k.cleanPos=o):k.type==="date"?(k.d2r=k.r2d=n.identity,k.d2c=k.r2c=k.d2l=k.r2l=z,k.c2d=k.c2r=k.l2d=k.l2r=q,k.d2p=k.r2p=function(X,se,ce){return k.l2p(z(X,0,ce))},k.p2d=k.p2r=function(X,se,ce){return q(ne(X),se,ce)},k.cleanPos=function(X){return n.cleanDate(X,l,k.calendar)}):k.type==="category"?(k.d2c=k.d2l=V,k.r2d=k.c2d=k.l2d=N,k.d2r=k.d2l_noadd=j,k.r2c=function(X){var se=H(X);return se!==void 0?se:k.fraction2r(.5)},k.l2r=k.c2r=o,k.r2l=H,k.d2p=function(X){return k.l2p(k.r2c(X))},k.p2d=function(X){return N(ne(X))},k.r2p=k.d2p,k.p2r=ne,k.cleanPos=function(X){return typeof X=="string"&&X!==""?X:o(X)}):k.type==="multicategory"&&(k.r2d=k.c2d=k.l2d=N,k.d2r=k.d2l_noadd=j,k.r2c=function(X){var se=j(X);return se!==void 0?se:k.fraction2r(.5)},k.r2c_just_indices=Z,k.l2r=k.c2r=o,k.r2l=j,k.d2p=function(X){return k.l2p(k.r2c(X))},k.p2d=function(X){return N(ne(X))},k.r2p=k.d2p,k.p2r=ne,k.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:o(X)},k.setupMultiCategory=function(X){var se,ce,le=k._traceIndices,de=k._matchGroup;if(de&&k._categories.length===0){for(var be in de)if(be!==O){var _e=D[m.id2name(be)];le=le.concat(_e._traceIndices)}}var ve=[[0,{}],[0,{}]],me=[];for(se=0;se<le.length;se++){var ye=X[le[se]];if(L in ye){var Se=ye[L],Ie=ye._length||n.minRowLength(Se);if(r(Se[0])&&r(Se[1]))for(ce=0;ce<Ie;ce++){var xe=Se[0][ce],ue=Se[1][ce];C(xe)&&C(ue)&&(me.push([xe,ue]),xe in ve[0][1]||(ve[0][1][xe]=ve[0][0]++),ue in ve[1][1]||(ve[1][1][ue]=ve[1][0]++))}}}for(me.sort(function(ae,pe){var De=ve[0][1],Te=De[ae[0]]-De[pe[0]];if(Te)return Te;var Ae=ve[1][1];return Ae[ae[1]]-Ae[pe[1]]}),se=0;se<me.length;se++)V(me[se])}),k.fraction2r=function(X){var se=k.r2l(k.range[0]),ce=k.r2l(k.range[1]);return k.l2r(se+X*(ce-se))},k.r2fraction=function(X){var se=k.r2l(k.range[0]),ce=k.r2l(k.range[1]);return(k.r2l(X)-se)/(ce-se)},k.limitRange=function(X){var se=k.minallowed,ce=k.maxallowed;if(se!==void 0||ce!==void 0){X||(X="range");var le=n.nestedProperty(k,X).get(),de=n.simpleMap(le,k.r2l),be=de[1]<de[0];be&&de.reverse();var _e=n.simpleMap([se,ce],k.r2l);if(se!==void 0&&de[0]<_e[0]&&(le[be?1:0]=se),ce!==void 0&&de[1]>_e[1]&&(le[be?0:1]=ce),le[0]===le[1]){var ve=k.l2r(se),me=k.l2r(ce);if(se!==void 0){var ye=ve+1;ce!==void 0&&(ye=Math.min(ye,me)),le[be?1:0]=ye}if(ce!==void 0){var Se=me+1;se!==void 0&&(Se=Math.max(Se,ve)),le[be?0:1]=Se}}}},k.cleanRange=function(X,se){k._cleanRange(X,se),k.limitRange(X)},k._cleanRange=function(X,se){se||(se={}),X||(X="range");var ce,le,de=n.nestedProperty(k,X).get();if(le=(le=k.type==="date"?n.dfltRange(k.calendar):L==="y"?T.DFLTRANGEY:k._name==="realaxis"?[0,1]:se.dfltRange||T.DFLTRANGEX).slice(),k.rangemode!=="tozero"&&k.rangemode!=="nonnegative"||(le[0]=0),de&&de.length===2){var be=de[0]===null,_e=de[1]===null;for(k.type!=="date"||k.autorange||(de[0]=n.cleanDate(de[0],l,k.calendar),de[1]=n.cleanDate(de[1],l,k.calendar)),ce=0;ce<2;ce++)if(k.type==="date"){if(!n.isDateTime(de[ce],k.calendar)){k[X]=le;break}if(k.r2l(de[0])===k.r2l(de[1])){var ve=n.constrain(k.r2l(de[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);de[0]=k.l2r(ve-1e3),de[1]=k.l2r(ve+1e3);break}}else{if(!b(de[ce])){if(be||_e||!b(de[1-ce])){k[X]=le;break}de[ce]=de[1-ce]*(ce?10:.1)}if(de[ce]<-a?de[ce]=-a:de[ce]>a&&(de[ce]=a),de[0]===de[1]){var me=Math.max(1,Math.abs(1e-6*de[0]));de[0]-=me,de[1]+=me}}}else n.nestedProperty(k,X).set(le)},k.setScale=function(X){var se=D._size;if(k.overlaying){var ce=m.getFromId({_fullLayout:D},k.overlaying);k.domain=ce.domain}var le=X&&k._r?"_r":"range",de=k.calendar;k.cleanRange(le);var be,_e,ve=k.r2l(k[le][0],de),me=k.r2l(k[le][1],de),ye=L==="y";if(ye?(k._offset=se.t+(1-k.domain[1])*se.h,k._length=se.h*(k.domain[1]-k.domain[0]),k._m=k._length/(ve-me),k._b=-k._m*me):(k._offset=se.l+k.domain[0]*se.w,k._length=se.w*(k.domain[1]-k.domain[0]),k._m=k._length/(me-ve),k._b=-k._m*ve),k._rangebreaks=[],k._lBreaks=0,k._m2=0,k._B=[],k.rangebreaks&&(k._rangebreaks=k.locateBreaks(Math.min(ve,me),Math.max(ve,me)),k._rangebreaks.length)){for(be=0;be<k._rangebreaks.length;be++)_e=k._rangebreaks[be],k._lBreaks+=Math.abs(_e.max-_e.min);var Se=ye;ve>me&&(Se=!Se),Se&&k._rangebreaks.reverse();var Ie=Se?-1:1;for(k._m2=Ie*k._length/(Math.abs(me-ve)-k._lBreaks),k._B.push(-k._m2*(ye?me:ve)),be=0;be<k._rangebreaks.length;be++)_e=k._rangebreaks[be],k._B.push(k._B[k._B.length-1]-Ie*k._m2*(_e.max-_e.min));for(be=0;be<k._rangebreaks.length;be++)(_e=k._rangebreaks[be]).pmin=re(_e.min),_e.pmax=re(_e.max)}if(!isFinite(k._m)||!isFinite(k._b)||k._length<0)throw D._replotting=!1,new Error("Something went wrong with axis scaling")},k.maskBreaks=function(X){var se,ce,le,de,be,_e=k.rangebreaks||[];_e._cachedPatterns||(_e._cachedPatterns=_e.map(function(xe){return xe.enabled&&xe.bounds?n.simpleMap(xe.bounds,xe.pattern?f:k.d2c):null})),_e._cachedValues||(_e._cachedValues=_e.map(function(xe){return xe.enabled&&xe.values?n.simpleMap(xe.values,k.d2c).sort(n.sorterAsc):null}));for(var ve=0;ve<_e.length;ve++){var me=_e[ve];if(me.enabled){if(me.bounds){var ye=me.pattern;switch(ce=(se=_e._cachedPatterns[ve])[0],le=se[1],ye){case A:de=(be=new Date(X)).getUTCDay(),ce>le&&(le+=7,de<ce&&(de+=7));break;case _:de=(be=new Date(X)).getUTCHours()+(be.getUTCMinutes()/60+be.getUTCSeconds()/3600+be.getUTCMilliseconds()/36e5),ce>le&&(le+=24,de<ce&&(de+=24));break;case"":de=X}if(de>=ce&&de<le)return l}else for(var Se=_e._cachedValues[ve],Ie=0;Ie<Se.length;Ie++)if(le=(ce=Se[Ie])+me.dvalue,X>=ce&&X<le)return l}}return X},k.locateBreaks=function(X,se){var ce,le,de,be,_e=[];if(!k.rangebreaks)return _e;var ve=k.rangebreaks.slice().sort(function(Ae,Ce){return Ae.pattern===A&&Ce.pattern===_?-1:Ce.pattern===A&&Ae.pattern===_?1:0}),me=function(Ae,Ce){if((Ae=n.constrain(Ae,X,se))!==(Ce=n.constrain(Ce,X,se))){for(var Re=!0,Ne=0;Ne<_e.length;Ne++){var ge=_e[Ne];Ae<ge.max&&Ce>=ge.min&&(Ae<ge.min&&(ge.min=Ae),Ce>ge.max&&(ge.max=Ce),Re=!1)}Re&&_e.push({min:Ae,max:Ce})}};for(ce=0;ce<ve.length;ce++){var ye=ve[ce];if(ye.enabled)if(ye.bounds){var Se=X,Ie=se;ye.pattern&&(Se=Math.floor(Se)),de=(le=n.simpleMap(ye.bounds,ye.pattern?f:k.r2l))[0],be=le[1];var xe,ue,ae=new Date(Se);switch(ye.pattern){case A:ue=h,xe=(be-de+(be<de?7:0))*c,Se+=de*c-(ae.getUTCDay()*c+ae.getUTCHours()*w+ae.getUTCMinutes()*g+ae.getUTCSeconds()*v+ae.getUTCMilliseconds());break;case _:ue=c,xe=(be-de+(be<de?24:0))*w,Se+=de*w-(ae.getUTCHours()*w+ae.getUTCMinutes()*g+ae.getUTCSeconds()*v+ae.getUTCMilliseconds());break;default:Se=Math.min(le[0],le[1]),xe=ue=(Ie=Math.max(le[0],le[1]))-Se}for(var pe=Se;pe<Ie;pe+=ue)me(pe,pe+xe)}else for(var De=n.simpleMap(ye.values,k.d2c),Te=0;Te<De.length;Te++)me(de=De[Te],be=de+ye.dvalue)}return _e.sort(function(Ae,Ce){return Ae.min-Ce.min}),_e},k.makeCalcdata=function(X,se,ce){var le,de,be,_e,ve=k.type,me=ve==="date"&&X[se+"calendar"];if(se in X){if(le=X[se],_e=X._length||n.minRowLength(le),n.isTypedArray(le)&&(ve==="linear"||ve==="log")){if(_e===le.length)return le;if(le.subarray)return le.subarray(0,_e)}if(ve==="multicategory")return function(Ie,xe){for(var ue=new Array(xe),ae=0;ae<xe;ae++){var pe=(Ie[0]||[])[ae],De=(Ie[1]||[])[ae];ue[ae]=Z([pe,De])}return ue}(le,_e);for(de=new Array(_e),be=0;be<_e;be++)de[be]=k.d2c(le[be],0,me,ce)}else{var ye=se+"0"in X?k.d2c(X[se+"0"],0,me):0,Se=X["d"+se]?Number(X["d"+se]):1;for(le=X[{x:"y",y:"x"}[se]],_e=X._length||le.length,de=new Array(_e),be=0;be<_e;be++)de[be]=ye+be*Se}if(k.rangebreaks)for(be=0;be<_e;be++)de[be]=k.maskBreaks(de[be]);return de},k.isValidRange=function(X,se){return Array.isArray(X)&&X.length===2&&(se&&X[0]===null||b(k.r2l(X[0])))&&(se&&X[1]===null||b(k.r2l(X[1])))},k.getAutorangeDflt=function(X,se){var ce=!k.isValidRange(X,"nullOk");return ce&&se&&se.reverseDflt?ce="reversed":X&&(X[0]===null&&X[1]===null?ce=!0:X[0]===null&&X[1]!==null?ce="min":X[0]!==null&&X[1]===null&&(ce="max")),ce},k.isReversed=function(){var X=k.autorange;return X==="reversed"||X==="min reversed"||X==="max reversed"},k.isPtWithinRange=function(X,se){var ce=k.c2l(X[L],null,se),le=k.r2l(k.range[0]),de=k.r2l(k.range[1]);return le<de?le<=ce&&ce<=de:de<=ce&&ce<=le},k._emptyCategories=function(){k._categories=[],k._categoriesMap={}},k.clearCalc=function(){var X=k._matchGroup;if(X){var se=null,ce=null;for(var le in X){var de=D[m.id2name(le)];if(de._categories){se=de._categories,ce=de._categoriesMap;break}}se&&ce?(k._categories=se,k._categoriesMap=ce):k._emptyCategories()}else k._emptyCategories();if(k._initialCategories)for(var be=0;be<k._initialCategories.length;be++)V(k._initialCategories[be])},k.sortByInitialCategories=function(){var X=[];if(k._emptyCategories(),k._initialCategories)for(var se=0;se<k._initialCategories.length;se++)V(k._initialCategories[se]);X=X.concat(k._traceIndices);var ce=k._matchGroup;for(var le in ce)if(O!==le){var de=D[m.id2name(le)];de._categories=k._categories,de._categoriesMap=k._categoriesMap,X=X.concat(de._traceIndices)}return X};var Q=D._d3locale;k.type==="date"&&(k._dateFormat=Q?Q.timeFormat:y,k._extraFormat=D._extraFormat),k._separators=D.separators,k._numFormat=Q?Q.numberFormat:M,delete k._minDtick,delete k._forceTick0}},85024:function(S){"use strict";S.exports=function(x){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(p){return x[p]!==void 0});if(e.every(function(p){return x[p]===x[e[0]]})||e.length===1)return x[e[0]]}},95936:function(S,x,e){"use strict";var p=e(3400),y=e(76308).contrast,n=e(94724),M=e(85024),b=e(51272);function f(s,t){function o(r,i){return p.coerce(s,t,n.tickformatstops,r,i)}o("enabled")&&(o("dtickrange"),o("value"))}S.exports=function(s,t,o,r,i){i||(i={});var a=o("labelalias");p.isPlainObject(a)||delete t.labelalias;var l=M(s);if(o("showticklabels")){var u=i.font||{},h=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?y(i.bgColor):h&&h!==n.color.dflt?h:u.color;if(p.coerceFont(o,"tickfont",u,{overrideDflt:{color:c}}),i.noTicklabelstep||r==="multicategory"||r==="log"||o("ticklabelstep"),!i.noAng){var w=o("tickangle");i.noAutotickangles||w!=="auto"||o("autotickangles")}if(r!=="category"){var g=o("tickformat");b(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,i.noExp||g||r==="date"||(o("showexponent",l),o("exponentformat"),o("minexponent"),o("separatethousands"))}}}},25404:function(S,x,e){"use strict";var p=e(3400),y=e(94724);S.exports=function(n,M,b,f){var s=f.isMinor,t=s?n.minor||{}:n,o=s?M.minor:M,r=s?y.minor:y,i=s?"minor.":"",a=p.coerce2(t,o,r,"ticklen",s?.6*(M.ticklen||5):void 0),l=p.coerce2(t,o,r,"tickwidth",s?M.tickwidth||1:void 0),u=p.coerce2(t,o,r,"tickcolor",(s?M.tickcolor:void 0)||o.color);b(i+"ticks",!s&&f.outerTicks||a||l||u?"outside":"")||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},26332:function(S,x,e){"use strict";var p=e(98728),y=e(3400).isArrayOrTypedArray,n=e(38116).isTypedArraySpec,M=e(38116).decodeTypedArraySpec;S.exports=function(b,f,s,t,o){o||(o={});var r=o.isMinor,i=r?b.minor||{}:b,a=r?f.minor:f,l=r?"minor.":"";function u(m){var T=i[m];return n(T)&&(T=M(T)),T!==void 0?T:(a._template||{})[m]}var h=u("tick0"),c=u("dtick"),w=u("tickvals"),g=s(l+"tickmode",y(w)?"array":c?"linear":"auto");if(g==="auto"||g==="sync")s(l+"nticks");else if(g==="linear"){var v=a.dtick=p.dtick(c,t);a.tick0=p.tick0(h,t,f.calendar,v)}else t!=="multicategory"&&(s(l+"tickvals")===void 0?a.tickmode="auto":r||s("ticktext"))}},73736:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(3400),M=e(43616),b=e(54460);S.exports=function(f,s,t,o){var r=f._fullLayout;if(s.length!==0){var i,a,l,u;o&&(i=o());var h=p.ease(t.easing);return f._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var g={},v=0;v<s.length;v++){var m=s[v],T=m.plotinfo.xaxis,_=m.plotinfo.yaxis;m.xr0&&(g[T._name+".range"]=m.xr0.slice()),m.yr0&&(g[_._name+".range"]=m.yr0.slice())}return y.call("relayout",f,g).then(function(){for(var A=0;A<s.length;A++)c(s[A].plotinfo)})}()}),a=Date.now(),u=window.requestAnimationFrame(function g(){l=Date.now();for(var v=Math.min(1,(l-a)/t.duration),m=h(v),T=0;T<s.length;T++)w(s[T],m);l-a>t.duration?(function(){for(var _={},A=0;A<s.length;A++){var d=s[A],C=d.plotinfo.xaxis,k=d.plotinfo.yaxis;d.xr1&&(_[C._name+".range"]=d.xr1.slice()),d.yr1&&(_[k._name+".range"]=d.yr1.slice())}i&&i(),y.call("relayout",f,_).then(function(){for(var D=0;D<s.length;D++)c(s[D].plotinfo)})}(),u=window.cancelAnimationFrame(g)):u=window.requestAnimationFrame(g)}),Promise.resolve()}function c(g){var v=g.xaxis,m=g.yaxis;r._defs.select("#"+g.clipId+"> rect").call(M.setTranslate,0,0).call(M.setScale,1,1),g.plot.call(M.setTranslate,v._offset,m._offset).call(M.setScale,1,1);var T=g.plot.selectAll(".scatterlayer .trace");T.selectAll(".point").call(M.setPointGroupScale,1,1),T.selectAll(".textpoint").call(M.setTextPointsScale,1,1),T.call(M.hideOutsideRangePoints,g)}function w(g,v){var m=g.plotinfo,T=m.xaxis,_=m.yaxis,A=T._length,d=_._length,C=!!g.xr1,k=!!g.yr1,D=[];if(C){var O=n.simpleMap(g.xr0,T.r2l),L=n.simpleMap(g.xr1,T.r2l),R=O[1]-O[0],z=L[1]-L[0];D[0]=(O[0]*(1-v)+v*L[0]-O[0])/(O[1]-O[0])*A,D[2]=A*(1-v+v*z/R),T.range[0]=T.l2r(O[0]*(1-v)+v*L[0]),T.range[1]=T.l2r(O[1]*(1-v)+v*L[1])}else D[0]=0,D[2]=A;if(k){var q=n.simpleMap(g.yr0,_.r2l),N=n.simpleMap(g.yr1,_.r2l),V=q[1]-q[0],Z=N[1]-N[0];D[1]=(q[1]*(1-v)+v*N[1]-q[1])/(q[0]-q[1])*d,D[3]=d*(1-v+v*Z/V),_.range[0]=T.l2r(q[0]*(1-v)+v*N[0]),_.range[1]=_.l2r(q[1]*(1-v)+v*N[1])}else D[1]=0,D[3]=d;b.drawOne(f,T,{skipTitle:!0}),b.drawOne(f,_,{skipTitle:!0}),b.redrawComponents(f,[T._id,_._id]);var j=C?A/D[2]:1,H=k?d/D[3]:1,Y=C?D[0]:0,ie=k?D[1]:0,re=C?D[0]/D[2]*A:0,ne=k?D[1]/D[3]*d:0,ee=T._offset-re,Q=_._offset-ne;m.clipRect.call(M.setTranslate,Y,ie).call(M.setScale,1/j,1/H),m.plot.call(M.setTranslate,ee,Q).call(M.setScale,j,H),M.setPointGroupScale(m.zoomScalePts,1/j,1/H),M.setTextPointsScale(m.zoomScaleTxt,1/j,1/H)}b.redrawComponents(f)}},14944:function(S,x,e){"use strict";var p=e(24040).traceIs,y=e(52976);function n(b){return{v:"x",h:"y"}[b.orientation||"v"]}function M(b,f){var s=n(b),t=p(b,"box-violin"),o=p(b._fullInput||{},"candlestick");return t&&!o&&f===s&&b[s]===void 0&&b[s+"0"]===void 0}S.exports=function(b,f,s,t){s("autotypenumbers",t.autotypenumbersDflt),s("type",(t.splomStash||{}).type)==="-"&&(function(o,r){if(o.type==="-"){var i,a=o._id,l=a.charAt(0);a.indexOf("scene")!==-1&&(a=l);var u=function(_,A,d){for(var C=0;C<_.length;C++){var k=_[C];if(k.type==="splom"&&k._length>0&&(k["_"+d+"axes"]||{})[A]||(k[d+"axis"]||d)===A&&(M(k,d)||(k[d]||[]).length||k[d+"0"]))return k}}(r,a,l);if(u)if(u.type!=="histogram"||l!=={v:"y",h:"x"}[u.orientation||"v"]){var h=l+"calendar",c=u[h],w={noMultiCategory:!p(u,"cartesian")||p(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(w.noMultiCategory=!0),w.autotypenumbers=o.autotypenumbers,M(u,l)){var g=n(u),v=[];for(i=0;i<r.length;i++){var m=r[i];p(m,"box-violin")&&(m[l+"axis"]||l)===a&&(m[g]!==void 0?v.push(m[g][0]):m.name!==void 0?v.push(m.name):v.push("text"),m[h]!==c&&(c=void 0))}o.type=y(v,c,w)}else if(u.type==="splom"){var T=u.dimensions[u._axesDim[a]];T.visible&&(o.type=y(T.values,c,w))}else o.type=y(u[l]||[u[l+"0"]],c,w)}else o.type="linear"}}(f,t.data),f.type==="-"?f.type="linear":b.type=f.type)}},62460:function(S,x,e){"use strict";var p=e(24040),y=e(3400);function n(s,t,o){var r,i,a,l=!1;if(t.type==="data")r=s._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;r=s._fullLayout}return i=y.nestedProperty(r,t.prop).get(),(a=o[t.type]=o[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==i&&(l=!0),a[t.prop]=i,{changed:l,value:i}}function M(s,t){var o=[],r=t[0],i={};if(typeof r=="string")i[r]=t[1];else{if(!y.isPlainObject(r))return o;i=r}return f(i,function(a,l,u){o.push({type:"layout",prop:a,value:u})},"",0),o}function b(s,t){var o,r,i,a,l=[];if(r=t[0],i=t[1],o=t[2],a={},typeof r=="string")a[r]=i;else{if(!y.isPlainObject(r))return l;a=r,o===void 0&&(o=i)}return o===void 0&&(o=null),f(a,function(u,h,c){var w,g;if(Array.isArray(c)){g=c.slice();var v=Math.min(g.length,s.data.length);o&&(v=Math.min(v,o.length)),w=[];for(var m=0;m<v;m++)w[m]=o?o[m]:m}else g=c,w=o?o.slice():null;if(w===null)Array.isArray(g)&&(g=g[0]);else if(Array.isArray(w)){if(!Array.isArray(g)){var T=g;g=[];for(var _=0;_<w.length;_++)g[_]=T}g.length=Math.min(w.length,g.length)}l.push({type:"data",prop:u,traces:w,value:g})},"",0),l}function f(s,t,o,r){Object.keys(s).forEach(function(i){var a=s[i];if(i[0]!=="_"){var l=o+(r>0?".":"")+i;y.isPlainObject(a)?f(a,t,l,r+1):t(l,i,a)}})}x.manageCommandObserver=function(s,t,o,r){var i={},a=!0;t&&t._commandObserver&&(i=t._commandObserver),i.cache||(i.cache={}),i.lookupTable={};var l=x.hasSimpleAPICommandBindings(s,o,i.lookupTable);if(t&&t._commandObserver){if(l)return i;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,i}if(l){n(s,l,i.cache),i.check=function(){if(a){var c=n(s,l,i.cache);return c.changed&&r&&i.lookupTable[c.value]!==void 0&&(i.disable(),Promise.resolve(r({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:i.lookupTable[c.value]})).then(i.enable,i.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)s._internalOn(u[h],i.check);i.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],i.check)}}else y.log("Unable to automatically bind plot updates to API command"),i.lookupTable={},i.remove=function(){};return i.disable=function(){a=!1},i.enable=function(){a=!0},t&&(t._commandObserver=i),i},x.hasSimpleAPICommandBindings=function(s,t,o){var r,i,a=t.length;for(r=0;r<a;r++){var l,u=t[r],h=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!h)return!1;var w=x.computeAPICommandBindings(s,h,c);if(w.length!==1)return!1;if(i){if((l=w[0]).type!==i.type||l.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var g=0;g<i.traces.length;g++)if(i.traces[g]!==l.traces[g])return!1}else if(l.prop!==i.prop)return!1}else i=w[0],Array.isArray(i.traces)&&i.traces.sort();var v=(l=w[0]).value;if(Array.isArray(v)){if(v.length!==1)return!1;v=v[0]}o&&(o[v]=r)}return i},x.executeAPICommand=function(s,t,o){if(t==="skip")return Promise.resolve();var r=p.apiMethodRegistry[t],i=[s];Array.isArray(o)||(o=[]);for(var a=0;a<o.length;a++)i.push(o[a]);return r.apply(null,i).catch(function(l){return y.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},x.computeAPICommandBindings=function(s,t,o){var r;switch(Array.isArray(o)||(o=[]),t){case"restyle":r=b(s,o);break;case"relayout":r=M(0,o);break;case"update":r=b(s,[o[0],o[2]]).concat(M(0,[o[1]]));break;case"animate":r=function(i,a){return Array.isArray(a[0])&&a[0].length===1&&["string","number"].indexOf(typeof a[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:a[0][0].toString()}]:[]}(0,o);break;default:r=[]}return r}},86968:function(S,x,e){"use strict";var p=e(92880).extendFlat;x.u=function(y,n){n=n||{};var M={valType:"info_array",editType:(y=y||{}).editType,items:[{valType:"number",min:0,max:1,editType:y.editType},{valType:"number",min:0,max:1,editType:y.editType}],dflt:[0,1]},b=(y.name&&y.name,y.trace,n.description&&n.description,{x:p({},M,{}),y:p({},M,{}),editType:y.editType});return y.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:y.editType},b.column={valType:"integer",min:0,dflt:0,editType:y.editType}),b},x.Q=function(y,n,M,b){var f=b&&b.x||[0,1],s=b&&b.y||[0,1],t=n.grid;if(t){var o=M("domain.column");o!==void 0&&(o<t.columns?f=t._domains.x[o]:delete y.domain.column);var r=M("domain.row");r!==void 0&&(r<t.rows?s=t._domains.y[r]:delete y.domain.row)}var i=M("domain.x",f),a=M("domain.y",s);i[0]<i[1]||(y.domain.x=f.slice()),a[0]<a[1]||(y.domain.y=s.slice())}},25376:function(S){"use strict";S.exports=function(x){var e=x.variantValues,p=x.editType,y=x.colorEditType;y===void 0&&(y=p);var n={editType:p,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};x.noNumericWeightValues&&(n.valType="enumerated",n.values=n.extras,n.extras=void 0,n.min=void 0,n.max=void 0);var M={family:{valType:"string",noBlank:!0,strict:!0,editType:p},size:{valType:"number",min:1,editType:p},color:{valType:"color",editType:y},weight:n,style:{editType:p,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:x.noFontVariant?void 0:{editType:p,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:x.noFontTextcase?void 0:{editType:p,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:x.noFontLineposition?void 0:{editType:p,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:x.noFontShadow?void 0:{editType:p,valType:"string",dflt:x.autoShadowDflt?"auto":"none"},editType:p};return x.autoSize&&(M.size.dflt="auto"),x.autoColor&&(M.color.dflt="auto"),x.arrayOk&&(M.family.arrayOk=!0,M.weight.arrayOk=!0,M.style.arrayOk=!0,x.noFontVariant||(M.variant.arrayOk=!0),x.noFontTextcase||(M.textcase.arrayOk=!0),x.noFontLineposition||(M.lineposition.arrayOk=!0),x.noFontShadow||(M.shadow.arrayOk=!0),M.size.arrayOk=!0,M.color.arrayOk=!0),M}},16672:function(S){"use strict";S.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(S,x){"use strict";x.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},x.axesNames=["lonaxis","lataxis"],x.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},x.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},x.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},x.clipPad=.001,x.precision=.1,x.landColor="#F0DC82",x.waterColor="#3399FF",x.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},x.sphereSVG={type:"Sphere"},x.fillLayers={ocean:1,land:1,lakes:1},x.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},x.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],x.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],x.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(S,x,e){"use strict";var p=e(33428),y=e(83356),n=y.geoPath,M=y.geoDistance,b=e(87108),f=e(24040),s=e(3400),t=s.strTranslate,o=e(76308),r=e(43616),i=e(93024),a=e(7316),l=e(54460),u=e(19280).getAutoRange,h=e(86476),c=e(22676).prepSelect,w=e(22676).clearOutline,g=e(22676).selectOnClick,v=e(79248),m=e(79552),T=e(27144),_=e(59972),A=e(55712).NO;function d(D){this.id=D.id,this.graphDiv=D.graphDiv,this.container=D.container,this.topojsonURL=D.topojsonURL,this.isStatic=D.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var C=d.prototype;function k(D,O){var L=m.clipPad,R=D[0]+L,z=D[1]-L,q=O[0]+L,N=O[1]-L;R>0&&z<0&&(z+=360);var V=(z-R)/4;return{type:"Polygon",coordinates:[[[R,q],[R,N],[R+V,N],[R+2*V,N],[R+3*V,N],[z,N],[z,q],[z-V,q],[z-2*V,q],[z-3*V,q],[R,q]]]}}S.exports=function(D){return new d(D)},C.plot=function(D,O,L,R){var z=this;if(R)return z.update(D,O,!0);z._geoCalcData=D,z._fullLayout=O;var q=O[this.id],N=[],V=!1;for(var Z in m.layerNameToAdjective)if(Z!=="frame"&&q["show"+Z]){V=!0;break}for(var j=!1,H=0;H<D.length;H++){var Y=D[0][0].trace;Y._geo=z,Y.locationmode&&(V=!0);var ie=Y.marker;if(ie){var re=ie.angle,ne=ie.angleref;(re||ne==="north"||ne==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,V){var ee=_.getTopojsonName(q);z.topojson!==null&&ee===z.topojsonName||(z.topojsonName=ee,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&N.push(z.fetchTopojson()))}N=N.concat(T.fetchTraceGeoData(D)),L.push(new Promise(function(Q,X){Promise.all(N).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(D,O),Q()}).catch(X)}))},C.fetchTopojson=function(){var D=this,O=_.getTopojsonPath(D.topojsonURL,D.topojsonName);return new Promise(function(L,R){p.json(O,function(z,q){if(z)return z.status===404?R(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):R(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[D.topojsonName]=q,L()})})},C.update=function(D,O,L){var R=O[this.id];this.hasChoropleth=!1;for(var z=0;z<D.length;z++){var q=D[z],N=q[0].trace;N.type==="choropleth"&&(this.hasChoropleth=!0),N.visible===!0&&N._length>0&&N._module.calcGeoJSON(q,O)}if(!L){if(this.updateProjection(D,O))return;this.viewInitial&&this.scope===R.scope||this.saveViewInitial(R)}this.scope=R.scope,this.updateBaseLayers(O,R),this.updateDims(O,R),this.updateFx(O,R),a.generalUpdatePerTraceModule(this.graphDiv,this,D,R);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var Z=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Z.selectAll("path"),this._render()},C.updateProjection=function(D,O){var L=this.graphDiv,R=O[this.id],z=O._size,q=R.domain,N=R.projection,V=R.lonaxis,Z=R.lataxis,j=V._ax,H=Z._ax,Y=this.projection=function(ae){var pe=ae.projection,De=pe.type,Te=m.projNames[De];Te="geo"+s.titleCase(Te);for(var Ae=(y[Te]||b[Te])(),Ce=ae._isSatellite?180*Math.acos(1/pe.distance)/Math.PI:ae._isClipped?m.lonaxisSpan[De]/2:null,Re=["center","rotate","parallels","clipExtent"],Ne=function(Ee){return Ee?Ae:[]},ge=0;ge<Re.length;ge++){var Me=Re[ge];typeof Ae[Me]!="function"&&(Ae[Me]=Ne)}return Ae.isLonLatOverEdges=function(Ee){if(Ae(Ee)===null)return!0;if(Ce){var Fe=Ae.rotate();return M(Ee,[-Fe[0],-Fe[1]])>Ce*Math.PI/180}return!1},Ae.getPath=function(){return n().projection(Ae)},Ae.getBounds=function(Ee){return Ae.getPath().bounds(Ee)},Ae.precision(m.precision),ae._isSatellite&&Ae.tilt(pe.tilt).distance(pe.distance),Ce&&Ae.clipAngle(Ce-m.clipPad),Ae}(R),ie=[[z.l+z.w*q.x[0],z.t+z.h*(1-q.y[1])],[z.l+z.w*q.x[1],z.t+z.h*(1-q.y[0])]],re=R.center||{},ne=N.rotation||{},ee=V.range||[],Q=Z.range||[];if(R.fitbounds){j._length=ie[1][0]-ie[0][0],H._length=ie[1][1]-ie[0][1],j.range=u(L,j),H.range=u(L,H);var X=(j.range[0]+j.range[1])/2,se=(H.range[0]+H.range[1])/2;if(R._isScoped)re={lon:X,lat:se};else if(R._isClipped){re={lon:X,lat:se},ne={lon:X,lat:se,roll:ne.roll};var ce=N.type,le=m.lonaxisSpan[ce]/2||180,de=m.lataxisSpan[ce]/2||90;ee=[X-le,X+le],Q=[se-de,se+de]}else re={lon:X,lat:se},ne={lon:X,lat:ne.lat,roll:ne.roll}}Y.center([re.lon-ne.lon,re.lat-ne.lat]).rotate([-ne.lon,-ne.lat,ne.roll]).parallels(N.parallels);var be=k(ee,Q);Y.fitExtent(ie,be);var _e=this.bounds=Y.getBounds(be),ve=this.fitScale=Y.scale(),me=Y.translate();if(R.fitbounds){var ye=Y.getBounds(k(j.range,H.range)),Se=Math.min((_e[1][0]-_e[0][0])/(ye[1][0]-ye[0][0]),(_e[1][1]-_e[0][1])/(ye[1][1]-ye[0][1]));isFinite(Se)?Y.scale(Se*ve):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else Y.scale(N.scale*ve);var Ie=this.midPt=[(_e[0][0]+_e[1][0])/2,(_e[0][1]+_e[1][1])/2];if(Y.translate([me[0]+(Ie[0]-me[0]),me[1]+(Ie[1]-me[1])]).clipExtent(_e),R._isAlbersUsa){var xe=Y([re.lon,re.lat]),ue=Y.translate();Y.translate([ue[0]-(xe[0]-ue[0]),ue[1]-(xe[1]-ue[1])])}},C.updateBaseLayers=function(D,O){var L=this,R=L.topojson,z=L.layers,q=L.basePaths;function N(Y){return Y==="lonaxis"||Y==="lataxis"}function V(Y){return!!m.lineLayers[Y]}function Z(Y){return!!m.fillLayers[Y]}var j=(this.hasChoropleth?m.layersForChoropleth:m.layers).filter(function(Y){return V(Y)||Z(Y)?O["show"+Y]:!N(Y)||O[Y].showgrid}),H=L.framework.selectAll(".layer").data(j,String);H.exit().each(function(Y){delete z[Y],delete q[Y],p.select(this).remove()}),H.enter().append("g").attr("class",function(Y){return"layer "+Y}).each(function(Y){var ie=z[Y]=p.select(this);Y==="bg"?L.bgRect=ie.append("rect").style("pointer-events","all"):N(Y)?q[Y]=ie.append("path").style("fill","none"):Y==="backplot"?ie.append("g").classed("choroplethlayer",!0):Y==="frontplot"?ie.append("g").classed("scatterlayer",!0):V(Y)?q[Y]=ie.append("path").style("fill","none").style("stroke-miterlimit",2):Z(Y)&&(q[Y]=ie.append("path").style("stroke","none"))}),H.order(),H.each(function(Y){var ie=q[Y],re=m.layerNameToAdjective[Y];Y==="frame"?ie.datum(m.sphereSVG):V(Y)||Z(Y)?ie.datum(A(R,R.objects[Y])):N(Y)&&ie.datum(function(ne,ee,Q){var X,se,ce,le=ee[ne],de=m.scopeDefaults[ee.scope];ne==="lonaxis"?(X=de.lonaxisRange,se=de.lataxisRange,ce=function(ue,ae){return[ue,ae]}):ne==="lataxis"&&(X=de.lataxisRange,se=de.lonaxisRange,ce=function(ue,ae){return[ae,ue]});var be={type:"linear",range:[X[0],X[1]-1e-6],tick0:le.tick0,dtick:le.dtick};l.setConvert(be,Q);var _e=l.calcTicks(be);ee.isScoped||ne!=="lonaxis"||_e.pop();for(var ve=_e.length,me=new Array(ve),ye=0;ye<ve;ye++)for(var Se=_e[ye].x,Ie=me[ye]=[],xe=se[0];xe<se[1]+2.5;xe+=2.5)Ie.push(ce(Se,xe));return{type:"MultiLineString",coordinates:me}}(Y,O,D)).call(o.stroke,O[Y].gridcolor).call(r.dashLine,O[Y].griddash,O[Y].gridwidth),V(Y)?ie.call(o.stroke,O[re+"color"]).call(r.dashLine,"",O[re+"width"]):Z(Y)&&ie.call(o.fill,O[re+"color"])})},C.updateDims=function(D,O){var L=this.bounds,R=(O.framewidth||0)/2,z=L[0][0]-R,q=L[0][1]-R,N=L[1][0]-z+R,V=L[1][1]-q+R;r.setRect(this.clipRect,z,q,N,V),this.bgRect.call(r.setRect,z,q,N,V).call(o.fill,O.bgcolor),this.xaxis._offset=z,this.xaxis._length=N,this.yaxis._offset=q,this.yaxis._length=V},C.updateFx=function(D,O){var L=this,R=L.graphDiv,z=L.bgRect,q=D.dragmode,N=D.clickmode;if(!L.isStatic){var V={element:L.bgRect.node(),gd:R,plotinfo:{id:L.id,xaxis:L.xaxis,yaxis:L.yaxis,fillRangeItems:function(j,H){H.isRect?(j.range={})[L.id]=[Z([H.xmin,H.ymin]),Z([H.xmax,H.ymax])]:(j.lassoPoints={})[L.id]=H.map(Z)}},xaxes:[L.xaxis],yaxes:[L.yaxis],subplot:L.id,clickFn:function(j){j===2&&w(R)}};q==="pan"?(z.node().onmousedown=null,z.call(v(L,O)),z.on("dblclick.zoom",function(){var j=L.viewInitial,H={};for(var Y in j)H[L.id+"."+Y]=j[Y];f.call("_guiRelayout",R,H),R.emit("plotly_doubleclick",null)}),R._context._scrollZoom.geo||z.on("wheel.zoom",null)):q!=="select"&&q!=="lasso"||(z.on(".zoom",null),V.prepFn=function(j,H,Y){c(j,H,Y,V,q)},h.init(V)),z.on("mousemove",function(){var j=L.projection.invert(s.getPositionFromD3Event());if(!j)return h.unhover(R,p.event);L.xaxis.p2c=function(){return j[0]},L.yaxis.p2c=function(){return j[1]},i.hover(R,p.event,L.id)}),z.on("mouseout",function(){R._dragging||h.unhover(R,p.event)}),z.on("click",function(){q!=="select"&&q!=="lasso"&&(N.indexOf("select")>-1&&g(p.event,R,[L.xaxis],[L.yaxis],L.id,V),N.indexOf("event")>-1&&i.click(R,p.event))})}function Z(j){return L.projection.invert([j[0]+L.xaxis._offset,j[1]+L.yaxis._offset])}},C.makeFramework=function(){var D=this,O=D.graphDiv,L=O._fullLayout,R="clip"+L._uid+D.id;D.clipDef=L._clips.append("clipPath").attr("id",R),D.clipRect=D.clipDef.append("rect"),D.framework=p.select(D.container).append("g").attr("class","geo "+D.id).call(r.setClipUrl,R,O),D.project=function(z){var q=D.projection(z);return q?[q[0]-D.xaxis._offset,q[1]-D.yaxis._offset]:[null,null]},D.xaxis={_id:"x",c2p:function(z){return D.project(z)[0]}},D.yaxis={_id:"y",c2p:function(z){return D.project(z)[1]}},D.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(D.mockAxis,L)},C.saveViewInitial=function(D){var O,L=D.center||{},R=D.projection,z=R.rotation||{};this.viewInitial={fitbounds:D.fitbounds,"projection.scale":R.scale},O=D._isScoped?{"center.lon":L.lon,"center.lat":L.lat}:D._isClipped?{"projection.rotation.lon":z.lon,"projection.rotation.lat":z.lat}:{"center.lon":L.lon,"center.lat":L.lat,"projection.rotation.lon":z.lon},s.extendFlat(this.viewInitial,O)},C.render=function(D){this._hasMarkerAngles&&D?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},C._render=function(){var D,O=this.projection,L=O.getPath();function R(q){var N=O(q.lonlat);return N?t(N[0],N[1]):null}function z(q){return O.isLonLatOverEdges(q.lonlat)?"none":null}for(D in this.basePaths)this.basePaths[D].attr("d",L);for(D in this.dataPaths)this.dataPaths[D].attr("d",function(q){return L(q.geojson)});for(D in this.dataPoints)this.dataPoints[D].attr("display",z).attr("transform",R)}},10816:function(S,x,e){"use strict";var p=e(84888).KY,y=e(3400).counterRegex,n=e(43520),M="geo",b=y(M),f={};f[M]={valType:"subplotid",dflt:M,editType:"calc"},S.exports={attr:M,name:M,idRoot:M,idRegex:b,attrRegex:b,attributes:f,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(s){for(var t=s._fullLayout,o=s.calcdata,r=t._subplots[M],i=0;i<r.length;i++){var a=r[i],l=p(o,M,a),u=t[a]._subplot;u||(u=n({id:a,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[a]._subplot=u),u.plot(l,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,o=t._subplots[M],r=0;r<o.length;r++){var i=t[o[r]];i._subplot.updateFx(t,i)}},clean:function(s,t,o,r){for(var i=r._subplots[M]||[],a=0;a<i.length;a++){var l=i[a],u=r[l]._subplot;!t[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(S,x,e){"use strict";var p=e(22548),y=e(86968).u,n=e(98192).u,M=e(79552),b=e(67824).overrideAll,f=e(95376),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n};(S.exports=b({domain:y({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:f(M.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:f(M.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:M.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:M.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:M.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:M.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(S,x,e){"use strict";var p=e(3400),y=e(168),n=e(84888).op,M=e(79552),b=e(40384),f=M.axesNames;function s(t,o,r,i){var a=n(i.fullData,"geo",i.id).map(function(ne){return ne._expandedIndex}),l=r("resolution"),u=r("scope"),h=M.scopeDefaults[u],c=r("projection.type",h.projType),w=o._isAlbersUsa=c==="albers usa";w&&(u=o.scope="usa");var g=o._isScoped=u!=="world",v=o._isSatellite=c==="satellite",m=o._isConic=c.indexOf("conic")!==-1||c==="albers",T=o._isClipped=!!M.lonaxisSpan[c];if(t.visible===!1){var _=p.extendDeep({},o._template);_.showcoastlines=!1,_.showcountries=!1,_.showframe=!1,_.showlakes=!1,_.showland=!1,_.showocean=!1,_.showrivers=!1,_.showsubunits=!1,_.lonaxis&&(_.lonaxis.showgrid=!1),_.lataxis&&(_.lataxis.showgrid=!1),o._template=_}for(var A=r("visible"),d=0;d<f.length;d++){var C,k=f[d],D=[30,10][d];if(g)C=h[k+"Range"];else{var O=M[k+"Span"],L=(O[c]||O["*"])/2,R=r("projection.rotation."+k.substr(0,3),h.projRotate[d]);C=[R-L,R+L]}var z=r(k+".range",C);r(k+".tick0"),r(k+".dtick",D),r(k+".showgrid",!!A&&void 0)&&(r(k+".gridcolor"),r(k+".gridwidth"),r(k+".griddash")),o[k]._ax={type:"linear",_id:k.slice(0,3),_traceIndices:a,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var q=o.lonaxis.range,N=o.lataxis.range,V=q[0],Z=q[1];V>0&&Z<0&&(Z+=360);var j,H,Y,ie=(V+Z)/2;if(!w){var re=g?h.projRotate:[ie,0,0];j=r("projection.rotation.lon",re[0]),r("projection.rotation.lat",re[1]),r("projection.rotation.roll",re[2]),r("showcoastlines",!g&&A)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!A&&void 0)&&r("oceancolor")}w?(H=-96.6,Y=38.7):(H=g?ie:j,Y=(N[0]+N[1])/2),r("center.lon",H),r("center.lat",Y),v&&(r("projection.tilt"),r("projection.distance")),m&&r("projection.parallels",h.projParallels||[0,60]),r("projection.scale"),r("showland",!!A&&void 0)&&r("landcolor"),r("showlakes",!!A&&void 0)&&r("lakecolor"),r("showrivers",!!A&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",g&&u!=="usa"&&A)&&(r("countrycolor"),r("countrywidth")),(u==="usa"||u==="north america"&&l===50)&&(r("showsubunits",A),r("subunitcolor"),r("subunitwidth")),g||r("showframe",A)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete o.projection.scale,g?(delete o.center.lon,delete o.center.lat):T?(delete o.center.lon,delete o.center.lat,delete o.projection.rotation.lon,delete o.projection.rotation.lat,delete o.lonaxis.range,delete o.lataxis.range):(delete o.center.lon,delete o.center.lat,delete o.projection.rotation.lon))}S.exports=function(t,o,r){y(t,o,r,{type:"geo",attributes:b,handleDefaults:s,fullData:r,partition:"y"})}},79248:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(24040),M=Math.PI/180,b=180/Math.PI,f={cursor:"pointer"},s={cursor:"auto"};function t(g,v){return p.behavior.zoom().translate(v.translate()).scale(v.scale())}function o(g,v,m){var T=g.id,_=g.graphDiv,A=_.layout,d=A[T],C=_._fullLayout,k=C[T],D={},O={};function L(R,z){D[T+"."+R]=y.nestedProperty(d,R).get(),n.call("_storeDirectGUIEdit",A,C._preGUI,D);var q=y.nestedProperty(k,R);q.get()!==z&&(q.set(z),y.nestedProperty(d,R).set(z),O[T+"."+R]=z)}m(L),L("projection.scale",v.scale()/g.fitScale),L("fitbounds",!1),_.emit("plotly_relayout",O)}function r(g,v){var m=t(0,v);function T(_){var A=v.invert(g.midPt);_("center.lon",A[0]),_("center.lat",A[1])}return m.on("zoomstart",function(){p.select(this).style(f)}).on("zoom",function(){v.scale(p.event.scale).translate(p.event.translate),g.render(!0);var _=v.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/g.fitScale,"geo.center.lon":_[0],"geo.center.lat":_[1]})}).on("zoomend",function(){p.select(this).style(s),o(g,v,T)}),m}function i(g,v){var m,T,_,A,d,C,k,D,O,L=t(0,v);function R(q){return v.invert(q)}function z(q){var N=v.rotate(),V=v.invert(g.midPt);q("projection.rotation.lon",-N[0]),q("center.lon",V[0]),q("center.lat",V[1])}return L.on("zoomstart",function(){p.select(this).style(f),m=p.mouse(this),T=v.rotate(),_=v.translate(),A=T,d=R(m)}).on("zoom",function(){if(C=p.mouse(this),function(V){var Z=R(V);if(!Z)return!0;var j=v(Z);return Math.abs(j[0]-V[0])>2||Math.abs(j[1]-V[1])>2}(m))return L.scale(v.scale()),void L.translate(v.translate());v.scale(p.event.scale),v.translate([_[0],p.event.translate[1]]),d?R(C)&&(D=R(C),k=[A[0]+(D[0]-d[0]),T[1],T[2]],v.rotate(k),A=k):d=R(m=C),O=!0,g.render(!0);var q=v.rotate(),N=v.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/g.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1],"geo.projection.rotation.lon":-q[0]})}).on("zoomend",function(){p.select(this).style(s),O&&o(g,v,z)}),L}function a(g,v){var m,T={r:v.rotate(),k:v.scale()},_=t(0,v),A=function(D){for(var O=0,L=arguments.length,R=[];++O<L;)R.push(arguments[O]);var z=p.dispatch.apply(null,R);return z.of=function(q,N){return function(V){var Z;try{Z=V.sourceEvent=p.event,V.target=D,p.event=V,z[V.type].apply(q,N)}finally{p.event=Z}}},z}(_,"zoomstart","zoom","zoomend"),d=0,C=_.on;function k(D){var O=v.rotate();D("projection.rotation.lon",-O[0]),D("projection.rotation.lat",-O[1])}return _.on("zoomstart",function(){p.select(this).style(f);var D,O,L,R,z,q,N,V,Z,j,H,Y=p.mouse(this),ie=v.rotate(),re=ie,ne=v.translate(),ee=(O=.5*(D=ie)[0]*M,L=.5*D[1]*M,R=.5*D[2]*M,z=Math.sin(O),q=Math.cos(O),N=Math.sin(L),V=Math.cos(L),Z=Math.sin(R),[q*V*(j=Math.cos(R))+z*N*Z,z*V*j-q*N*Z,q*N*j+z*V*Z,q*V*Z-z*N*j]);m=l(v,Y),C.call(_,"zoom",function(){var Q,X,se,ce,le,de,be,_e,ve,me,ye=p.mouse(this);if(v.scale(T.k=p.event.scale),m){if(l(v,ye)){v.rotate(ie).translate(ne);var Se=l(v,ye),Ie=function(ae,pe){if(ae&&pe){var De=function(Re,Ne){return[Re[1]*Ne[2]-Re[2]*Ne[1],Re[2]*Ne[0]-Re[0]*Ne[2],Re[0]*Ne[1]-Re[1]*Ne[0]]}(ae,pe),Te=Math.sqrt(w(De,De)),Ae=.5*Math.acos(Math.max(-1,Math.min(1,w(ae,pe)))),Ce=Math.sin(Ae)/Te;return Te&&[Math.cos(Ae),De[2]*Ce,-De[1]*Ce,De[0]*Ce]}}(m,Se),xe=function(ae){return[Math.atan2(2*(ae[0]*ae[1]+ae[2]*ae[3]),1-2*(ae[1]*ae[1]+ae[2]*ae[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(ae[0]*ae[2]-ae[3]*ae[1]))))*b,Math.atan2(2*(ae[0]*ae[3]+ae[1]*ae[2]),1-2*(ae[2]*ae[2]+ae[3]*ae[3]))*b]}((se=(Q=ee)[0],ce=Q[1],le=Q[2],de=Q[3],[se*(be=(X=Ie)[0])-ce*(_e=X[1])-le*(ve=X[2])-de*(me=X[3]),se*_e+ce*be+le*me-de*ve,se*ve-ce*me+le*be+de*_e,se*me+ce*ve-le*_e+de*be])),ue=T.r=function(ae,pe,De){var Te=c(pe,2,ae[0]);Te=c(Te,1,ae[1]),Te=c(Te,0,ae[2]-De[2]);var Ae,Ce,Re=pe[0],Ne=pe[1],ge=pe[2],Me=Te[0],Ee=Te[1],Fe=Te[2],Le=Math.atan2(Ne,Re)*b,Ue=Math.sqrt(Re*Re+Ne*Ne);Math.abs(Ee)>Ue?(Ce=(Ee>0?90:-90)-Le,Ae=0):(Ce=Math.asin(Ee/Ue)*b-Le,Ae=Math.sqrt(Ue*Ue-Ee*Ee));var Ge=180-Ce-2*Le,Ke=(Math.atan2(Fe,Me)-Math.atan2(ge,Ae))*b,at=(Math.atan2(Fe,Me)-Math.atan2(ge,-Ae))*b;return u(De[0],De[1],Ce,Ke)<=u(De[0],De[1],Ge,at)?[Ce,Ke,De[2]]:[Ge,at,De[2]]}(xe,m,re);isFinite(ue[0])&&isFinite(ue[1])&&isFinite(ue[2])||(ue=re),v.rotate(ue),re=ue}}else m=l(v,Y=ye);A.of(this,arguments)({type:"zoom"})}),H=A.of(this,arguments),d++||H({type:"zoomstart"})}).on("zoomend",function(){var D;p.select(this).style(s),C.call(_,"zoom",null),D=A.of(this,arguments),--d||D({type:"zoomend"}),o(g,v,k)}).on("zoom.redraw",function(){g.render(!0);var D=v.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":v.scale()/g.fitScale,"geo.projection.rotation.lon":-D[0],"geo.projection.rotation.lat":-D[1]})}),p.rebind(_,A,"on")}function l(g,v){var m=g.invert(v);return m&&isFinite(m[0])&&isFinite(m[1])&&function(T){var _=T[0]*M,A=T[1]*M,d=Math.cos(A);return[d*Math.cos(_),d*Math.sin(_),Math.sin(A)]}(m)}function u(g,v,m,T){var _=h(m-g),A=h(T-v);return Math.sqrt(_*_+A*A)}function h(g){return(g%360+540)%360-180}function c(g,v,m){var T=m*M,_=g.slice(),A=v===0?1:0,d=v===2?1:2,C=Math.cos(T),k=Math.sin(T);return _[A]=g[A]*C-g[d]*k,_[d]=g[d]*C+g[A]*k,_}function w(g,v){for(var m=0,T=0,_=g.length;T<_;++T)m+=g[T]*v[T];return m}S.exports=function(g,v){var m=g.projection;return(v._isScoped?r:v._isClipped?a:i)(g,m)}},84888:function(S,x,e){"use strict";var p=e(24040),y=e(33816).SUBPLOT_PATTERN;x.KY=function(n,M,b){var f=p.subplotsRegistry[M];if(!f)return[];for(var s=f.attr,t=[],o=0;o<n.length;o++){var r=n[o];r[0].trace[s]===b&&t.push(r)}return t},x._M=function(n,M,b){var f,s=[],t=[];if(!(f=typeof M=="string"?p.getModule(M).plot:typeof M=="function"?M:M.plot))return[s,n];for(var o=b,r=0;r<n.length;r++){var i=n[r],a=i[0].trace,l=a.zorder!==void 0;a.visible===!0&&a._length!==0&&(!a._module||a._module.plot!==f||l&&a.zorder!==o?t.push(i):s.push(i))}return[s,t]},x.op=function(n,M,b){if(!p.subplotsRegistry[M])return[];var f,s,t,o=p.subplotsRegistry[M].attr,r=[];if(M==="gl2d"){var i=b.match(y);s="x"+i[1],t="y"+i[2]}for(var a=0;a<n.length;a++)f=n[a],M==="gl2d"&&p.traceIs(f,"gl2d")?f[o[0]]===s&&f[o[1]]===t&&r.push(f):f[o]===b&&r.push(f);return r}},2428:function(S,x,e){"use strict";var p=e(62644),y=e(97264),n=e(29128),M=e(33816),b=e(89184);function f(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}S.exports=function(s){var t=s.mouseContainer,o=s.glplot,r=new f(t,o);function i(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function a(l,u,h){var c,w,g=s.calcDataBox(),v=o.viewBox,m=r.lastPos[0],T=r.lastPos[1],_=M.MINDRAG*o.pixelRatio,A=M.MINZOOM*o.pixelRatio;function d(R,z,q){var N=Math.min(z,q),V=Math.max(z,q);N!==V?(g[R]=N,g[R+2]=V,r.dataBox=g,s.setRanges(g)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=o.pixelRatio,h*=o.pixelRatio,h=v[3]-v[1]-h,s.fullLayout.dragmode){case"zoom":if(l){var C=u/(v[2]-v[0])*(g[2]-g[0])+g[0],k=h/(v[3]-v[1])*(g[3]-g[1])+g[1];r.boxInited||(r.boxStart[0]=C,r.boxStart[1]=k,r.dragStart[0]=u,r.dragStart[1]=h),r.boxEnd[0]=C,r.boxEnd[1]=k,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var D=Math.abs(r.dragStart[0]-u)<A,O=Math.abs(r.dragStart[1]-h)<A;if(!function(){for(var R=s.graphDiv._fullLayout._axisConstraintGroups,z=s.xaxis._id,q=s.yaxis._id,N=0;N<R.length;N++)if(R[N][z]!==-1){if(R[N][q]!==-1)return!0;break}return!1}()||D&&O)D&&(r.boxEnd[0]=r.boxStart[0]),O&&(r.boxEnd[1]=r.boxStart[1]);else{c=r.boxEnd[0]-r.boxStart[0],w=r.boxEnd[1]-r.boxStart[1];var L=(g[3]-g[1])/(g[2]-g[0]);Math.abs(c*L)>Math.abs(w)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(c)*L*(w>=0?1:-1),r.boxEnd[1]<g[1]?(r.boxEnd[1]=g[1],r.boxEnd[0]=r.boxStart[0]+(g[1]-r.boxStart[1])/Math.abs(L)):r.boxEnd[1]>g[3]&&(r.boxEnd[1]=g[3],r.boxEnd[0]=r.boxStart[0]+(g[3]-r.boxStart[1])/Math.abs(L))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(w)/L*(c>=0?1:-1),r.boxEnd[0]<g[0]?(r.boxEnd[0]=g[0],r.boxEnd[1]=r.boxStart[1]+(g[0]-r.boxStart[0])*Math.abs(L)):r.boxEnd[0]>g[2]&&(r.boxEnd[0]=g[2],r.boxEnd[1]=r.boxStart[1]+(g[2]-r.boxStart[0])*Math.abs(L)))}}else r.boxEnabled?(c=r.boxStart[0]!==r.boxEnd[0],w=r.boxStart[1]!==r.boxEnd[1],c||w?(c&&(d(0,r.boxStart[0],r.boxEnd[0]),s.xaxis.autorange=!1),w&&(d(1,r.boxStart[1],r.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,l?(r.panning||(r.dragStart[0]=u,r.dragStart[1]=h),Math.abs(r.dragStart[0]-u)<_&&(u=r.dragStart[0]),Math.abs(r.dragStart[1]-h)<_&&(h=r.dragStart[1]),c=(m-u)*(g[2]-g[0])/(o.viewBox[2]-o.viewBox[0]),w=(T-h)*(g[3]-g[1])/(o.viewBox[3]-o.viewBox[1]),g[0]+=c,g[2]+=c,g[1]+=w,g[3]+=w,s.setRanges(g),r.panning=!0,r.lastInputTime=Date.now(),i(),s.cameraChanged(),s.handleAnnotations()):r.panning&&(r.panning=!1,s.relayoutCallback())}r.lastPos[0]=u,r.lastPos[1]=h}return r.mouseListener=p(t,a),t.addEventListener("touchstart",function(l){var u=n(l.changedTouches[0],t);a(0,u[0],u[1]),a(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(l){l.preventDefault();var u=n(l.changedTouches[0],t);a(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(l){a(0,r.lastPos[0],r.lastPos[1]),l.preventDefault()},!!b&&{passive:!1}),r.wheelListener=y(t,function(l,u){if(!s.scrollZoom)return!1;var h=s.calcDataBox(),c=o.viewBox,w=r.lastPos[0],g=r.lastPos[1],v=Math.exp(5*u/(c[3]-c[1])),m=w/(c[2]-c[0])*(h[2]-h[0])+h[0],T=g/(c[3]-c[1])*(h[3]-h[1])+h[1];return h[0]=(h[0]-m)*v+m,h[2]=(h[2]-m)*v+m,h[1]=(h[1]-T)*v+T,h[3]=(h[3]-T)*v+T,s.setRanges(h),r.lastInputTime=Date.now(),i(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),r}},92568:function(S,x,e){"use strict";var p=e(54460),y=e(43080);function n(f){this.scene=f,this.gl=f.gl,this.pixelRatio=f.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var M=n.prototype,b=["xaxis","yaxis"];M.merge=function(f){var s,t,o,r,i,a,l,u,h,c,w;for(this.titleEnable=!1,this.backgroundColor=y(f.plot_bgcolor),c=0;c<2;++c){var g=(s=b[c]).charAt(0);for(o=(t=f[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[g]?"":t.title.text,w=0;w<=2;w+=2)this.labelEnable[c+w]=!1,this.labels[c+w]=o,this.labelColor[c+w]=y(t.title.font.color),this.labelFont[c+w]=t.title.font.family,this.labelSize[c+w]=t.title.font.size,this.labelPad[c+w]=this.getLabelPad(s,t),this.tickEnable[c+w]=!1,this.tickColor[c+w]=y((t.tickfont||{}).color),this.tickAngle[c+w]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+w]=this.getTickPad(t),this.tickMarkLength[c+w]=0,this.tickMarkWidth[c+w]=t.tickwidth||0,this.tickMarkColor[c+w]=y(t.tickcolor),this.borderLineEnable[c+w]=!1,this.borderLineColor[c+w]=y(t.linecolor),this.borderLineWidth[c+w]=t.linewidth||0;l=this.hasSharedAxis(t),i=this.hasAxisInDfltPos(s,t)&&!l,a=this.hasAxisInAltrPos(s,t)&&!l,r=t.mirror||!1,u=l?String(r).indexOf("all")!==-1:!!r,h=l?r==="allticks":String(r).indexOf("ticks")!==-1,i?this.labelEnable[c]=!0:a&&(this.labelEnable[c+2]=!0),i?this.tickEnable[c]=t.showticklabels:a&&(this.tickEnable[c+2]=t.showticklabels),(i||u)&&(this.borderLineEnable[c]=t.showline),(a||u)&&(this.borderLineEnable[c+2]=t.showline),(i||h)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(a||h)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=y(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=y(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},M.hasSharedAxis=function(f){var s=this.scene,t=s.fullLayout._subplots.gl2d;return p.findSubplotsWithAxis(t,f).indexOf(s.id)!==0},M.hasAxisInDfltPos=function(f,s){var t=s.side;return f==="xaxis"?t==="bottom":f==="yaxis"?t==="left":void 0},M.hasAxisInAltrPos=function(f,s){var t=s.side;return f==="xaxis"?t==="top":f==="yaxis"?t==="right":void 0},M.getLabelPad=function(f,s){var t=1.5,o=s.title.font.size,r=s.showticklabels;return f==="xaxis"?s.side==="top"?o*(t+(r?1:0))-10:o*(t+(r?.5:0))-10:f==="yaxis"?s.side==="right"?10+o*(t+(r?1:.5)):10+o*(t+(r?.5:0)):void 0},M.getTickPad=function(f){return f.ticks==="outside"?10+f.ticklen:15},M.getTickMarkLength=function(f){if(!f.ticks)return 0;var s=f.ticklen;return f.ticks==="inside"?-s:s},S.exports=function(f){return new n(f)}},39952:function(S,x,e){"use strict";var p=e(67824).overrideAll,y=e(17188),n=e(64859),M=e(9616),b=e(33816),f=e(57952),s=e(65460),t=e(84888).op;x.name="gl2d",x.attr=["xaxis","yaxis"],x.idRoot=["x","y"],x.idRegex=b.idRegex,x.attrRegex=b.attrRegex,x.attributes=e(26720),x.supplyLayoutDefaults=function(o,r,i){r._has("cartesian")||f.supplyLayoutDefaults(o,r,i)},x.layoutAttrOverrides=p(f.layoutAttributes,"plot","from-root"),x.baseLayoutAttrOverrides=p({plot_bgcolor:n.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),x.plot=function(o){for(var r=o._fullLayout,i=o._fullData,a=r._subplots.gl2d,l=0;l<a.length;l++){var u=a[l],h=r._plots[u],c=t(i,"gl2d",u),w=h._scene2d;w===void 0&&(w=new y({id:u,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio},r),h._scene2d=w),w.plot(c,o.calcdata,r,o.layout)}},x.clean=function(o,r,i,a){for(var l=a._subplots.gl2d||[],u=0;u<l.length;u++){var h=l[u],c=a._plots[h];c._scene2d&&t(o,"gl2d",h).length===0&&(c._scene2d.destroy(),delete a._plots[h])}f.clean.apply(this,arguments)},x.drawFramework=function(o){o._context.staticPlot||f.drawFramework(o)},x.toSVG=function(o){for(var r=o._fullLayout,i=r._subplots.gl2d,a=0;a<i.length;a++){var l=r._plots[i[a]]._scene2d,u=l.toImage("png");r._glimages.append("svg:image").attr({xmlns:M.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},x.updateFx=function(o){for(var r=o._fullLayout,i=r._subplots.gl2d,a=0;a<i.length;a++)r._plots[i[a]]._scene2d.updateFx(r.dragmode)}},17188:function(S,x,e){"use strict";var p,y,n=e(24040),M=e(54460),b=e(93024),f=e(67792).gl_plot2d,s=e(67792).gl_spikes2d,t=e(67792).gl_select_box,o=e(5408),r=e(92568),i=e(2428),a=e(16576),l=e(71888),u=l.enforce,h=l.clean,c=e(19280).doAutoRange,w=e(72760),g=w.drawMode,v=w.selectMode,m=["xaxis","yaxis"],T=e(33816).SUBPLOT_PATTERN;function _(d,C){this.container=d.container,this.graphDiv=d.graphDiv,this.pixelRatio=d.plotGlPixelRatio||window.devicePixelRatio,this.id=d.id,this.staticPlot=!!d.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(C),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(C),this.glplot=f(this.glplotOptions),this.camera=i(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}S.exports=_;var A=_.prototype;A.makeFramework=function(){if(this.staticPlot){if(!(y||(p=document.createElement("canvas"),y=o({canvas:p,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=p,this.gl=y}else{var d=this.container.querySelector(".gl-canvas-focus"),C=o({canvas:d,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!C)return a(this),void(this.stopped=!0);this.canvas=d,this.gl=C}var k=this.canvas;k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.top="0px",k.style.left="0px",k.style["pointer-events"]="none",this.updateSize(k);var D=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");D.style.position="absolute",D.style.top=D.style.left="0px",D.style.width=D.style.height="100%",D.style["z-index"]=20,D.style["pointer-events"]="none";var O=this.mouseContainer=document.createElement("div");O.style.position="absolute",O.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var L=this.container;L.appendChild(D),L.appendChild(O);var R=this;O.addEventListener("mouseout",function(){R.isMouseOver=!1,R.unhover()}),O.addEventListener("mouseover",function(){R.isMouseOver=!0})},A.toImage=function(d){d||(d="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(p),this.updateSize(this.canvas);var C=this.glplot.gl,k=C.drawingBufferWidth,D=C.drawingBufferHeight;C.clearColor(1,1,1,0),C.clear(C.COLOR_BUFFER_BIT|C.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),C.bindFramebuffer(C.FRAMEBUFFER,null);var O=new Uint8Array(k*D*4);C.readPixels(0,0,k,D,C.RGBA,C.UNSIGNED_BYTE,O);for(var L=0,R=D-1;L<R;++L,--R)for(var z=0;z<k;++z)for(var q=0;q<4;++q){var N=O[4*(k*L+z)+q];O[4*(k*L+z)+q]=O[4*(k*R+z)+q],O[4*(k*R+z)+q]=N}var V=document.createElement("canvas");V.width=k,V.height=D;var Z,j=V.getContext("2d",{willReadFrequently:!0}),H=j.createImageData(k,D);switch(H.data.set(O),j.putImageData(H,0,0),d){case"jpeg":Z=V.toDataURL("image/jpeg");break;case"webp":Z=V.toDataURL("image/webp");break;default:Z=V.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(p),Z},A.updateSize=function(d){d||(d=this.canvas);var C=this.pixelRatio,k=this.fullLayout,D=k.width,O=k.height,L=0|Math.ceil(C*D),R=0|Math.ceil(C*O);return d.width===L&&d.height===R||(d.width=L,d.height=R),d},A.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var d=[M.calcTicks(this.xaxis),M.calcTicks(this.yaxis)],C=0;C<2;++C)for(var k=0;k<d[C].length;++k)d[C][k].text=d[C][k].text+"";return d},A.updateRefs=function(d){this.fullLayout=d;var C=this.id.match(T),k="xaxis"+C[1],D="yaxis"+C[2];this.xaxis=this.fullLayout[k],this.yaxis=this.fullLayout[D]},A.relayoutCallback=function(){var d=this.graphDiv,C=this.xaxis,k=this.yaxis,D=d.layout,O={},L=O[C._name+".range"]=C.range.slice(),R=O[k._name+".range"]=k.range.slice();O[C._name+".autorange"]=C.autorange,O[k._name+".autorange"]=k.autorange,n.call("_storeDirectGUIEdit",d.layout,d._fullLayout._preGUI,O);var z=D[C._name];z.range=L,z.autorange=C.autorange;var q=D[k._name];q.range=R,q.autorange=k.autorange,O.lastInputTime=this.camera.lastInputTime,d.emit("plotly_relayout",O)},A.cameraChanged=function(){var d=this.camera;this.glplot.setDataBox(this.calcDataBox());var C=this.computeTickMarks();(function(k,D){for(var O=0;O<2;++O){var L=k[O],R=D[O];if(L.length!==R.length)return!0;for(var z=0;z<L.length;++z)if(L[z].x!==R[z].x)return!0}return!1})(C,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=C,this.glplotOptions.dataBox=d.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},A.handleAnnotations=function(){for(var d=this.graphDiv,C=this.fullLayout.annotations,k=0;k<C.length;k++){var D=C[k];D.xref===this.xaxis._id&&D.yref===this.yaxis._id&&n.getComponentMethod("annotations","drawOne")(d,k)}},A.destroy=function(){if(this.glplot){var d=this.traces;d&&Object.keys(d).map(function(C){d[C].dispose(),delete d[C]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},A.plot=function(d,C,k){var D=this.glplot;this.updateRefs(k),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(d,C),this.updateFx(k.dragmode);var O=k.width,L=k.height;this.updateSize(this.canvas);var R=this.glplotOptions;R.merge(k),R.screenBox=[0,0,O,L];var z={_fullLayout:{_axisConstraintGroups:k._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:k._size}};h(z,this.xaxis),h(z,this.yaxis);var q,N,V=k._size,Z=this.xaxis.domain,j=this.yaxis.domain;for(R.viewBox=[V.l+Z[0]*V.w,V.b+j[0]*V.h,O-V.r-(1-Z[1])*V.w,L-V.t-(1-j[1])*V.h],this.mouseContainer.style.width=V.w*(Z[1]-Z[0])+"px",this.mouseContainer.style.height=V.h*(j[1]-j[0])+"px",this.mouseContainer.height=V.h*(j[1]-j[0]),this.mouseContainer.style.left=V.l+Z[0]*V.w+"px",this.mouseContainer.style.top=V.t+(1-j[1])*V.h+"px",N=0;N<2;++N)(q=this[m[N]])._length=R.viewBox[N+2]-R.viewBox[N],c(this.graphDiv,q),q.setScale();u(z),R.ticks=this.computeTickMarks(),R.dataBox=this.calcDataBox(),R.merge(k),D.update(R),this.glplot.draw()},A.calcDataBox=function(){var d=this.xaxis,C=this.yaxis,k=d.range,D=C.range,O=d.r2l,L=C.r2l;return[O(k[0]),L(D[0]),O(k[1]),L(D[1])]},A.setRanges=function(d){var C=this.xaxis,k=this.yaxis,D=C.l2r,O=k.l2r;C.range=[D(d[0]),D(d[2])],k.range=[O(d[1]),O(d[3])]},A.updateTraces=function(d,C){var k,D,O,L=Object.keys(this.traces);this.fullData=d;e:for(k=0;k<L.length;k++){var R=L[k],z=this.traces[R];for(D=0;D<d.length;D++)if((O=d[D]).uid===R&&O.type===z.type)continue e;z.dispose(),delete this.traces[R]}for(k=0;k<d.length;k++){O=d[k];var q=C[k],N=this.traces[O.uid];N?N.update(O,q):(N=O._module.plot(this,O,q),this.traces[O.uid]=N)}this.glplot.objects.sort(function(V,Z){return V._trace.index-Z._trace.index})},A.updateFx=function(d){v(d)||g(d)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=d==="pan"?"move":d==="zoom"?"crosshair":null},A.emitPointAction=function(d,C){for(var k,D=d.trace.uid,O=d.pointIndex,L=0;L<this.fullData.length;L++)this.fullData[L].uid===D&&(k=this.fullData[L]);var R={x:d.traceCoord[0],y:d.traceCoord[1],curveNumber:k.index,pointNumber:O,data:k._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(R,k,O),this.graphDiv.emit(C,{points:[R]})},A.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var d=this.glplot,C=this.camera,k=C.mouseListener,D=this.lastButtonState===1&&k.buttons===0,O=this.fullLayout;this.lastButtonState=k.buttons,this.cameraChanged();var L,R=k.x*d.pixelRatio,z=this.canvas.height-d.pixelRatio*k.y;if(C.boxEnabled&&O.dragmode==="zoom"){this.selectBox.enabled=!0;for(var q=this.selectBox.selectBox=[Math.min(C.boxStart[0],C.boxEnd[0]),Math.min(C.boxStart[1],C.boxEnd[1]),Math.max(C.boxStart[0],C.boxEnd[0]),Math.max(C.boxStart[1],C.boxEnd[1])],N=0;N<2;N++)C.boxStart[N]===C.boxEnd[N]&&(q[N]=d.dataBox[N],q[N+2]=d.dataBox[N+2]);d.setDirty()}else if(!C.panning&&this.isMouseOver){this.selectBox.enabled=!1;var V=O._size,Z=this.xaxis.domain,j=this.yaxis.domain,H=(L=d.pick(R/d.pixelRatio+V.l+Z[0]*V.w,z/d.pixelRatio-(V.t+(1-j[1])*V.h)))&&L.object._trace.handlePick(L);if(H&&D&&this.emitPointAction(H,"plotly_click"),L&&L.object._trace.hoverinfo!=="skip"&&O.hovermode&&H&&(!this.lastPickResult||this.lastPickResult.traceUid!==H.trace.uid||this.lastPickResult.dataCoord[0]!==H.dataCoord[0]||this.lastPickResult.dataCoord[1]!==H.dataCoord[1])){var Y=H;this.lastPickResult={traceUid:H.trace?H.trace.uid:null,dataCoord:H.dataCoord.slice()},this.spikes.update({center:L.dataCoord}),Y.screenCoord=[((d.viewBox[2]-d.viewBox[0])*(L.dataCoord[0]-d.dataBox[0])/(d.dataBox[2]-d.dataBox[0])+d.viewBox[0])/d.pixelRatio,(this.canvas.height-(d.viewBox[3]-d.viewBox[1])*(L.dataCoord[1]-d.dataBox[1])/(d.dataBox[3]-d.dataBox[1])-d.viewBox[1])/d.pixelRatio],this.emitPointAction(H,"plotly_hover");var ie=this.fullData[Y.trace.index]||{},re=Y.pointIndex,ne=b.castHoverinfo(ie,O,re);if(ne&&ne!=="all"){var ee=ne.split("+");ee.indexOf("x")===-1&&(Y.traceCoord[0]=void 0),ee.indexOf("y")===-1&&(Y.traceCoord[1]=void 0),ee.indexOf("z")===-1&&(Y.traceCoord[2]=void 0),ee.indexOf("text")===-1&&(Y.textLabel=void 0),ee.indexOf("name")===-1&&(Y.name=void 0)}b.loneHover({x:Y.screenCoord[0],y:Y.screenCoord[1],xLabel:this.hoverFormatter("xaxis",Y.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",Y.traceCoord[1]),zLabel:Y.traceCoord[2],text:Y.textLabel,name:Y.name,color:b.castHoverOption(ie,re,"bgcolor")||Y.color,borderColor:b.castHoverOption(ie,re,"bordercolor"),fontFamily:b.castHoverOption(ie,re,"font.family"),fontSize:b.castHoverOption(ie,re,"font.size"),fontColor:b.castHoverOption(ie,re,"font.color"),nameLength:b.castHoverOption(ie,re,"namelength"),textAlign:b.castHoverOption(ie,re,"align")},{container:this.svgContainer,gd:this.graphDiv})}}L||this.unhover(),d.draw()}},A.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},A.hoverFormatter=function(d,C){if(C!==void 0){var k=this[d];return M.tickText(k,k.c2l(C),"hover").text}}},12536:function(S,x,e){"use strict";var p=e(67824).overrideAll,y=e(65460),n=e(98432),M=e(84888).op,b=e(3400),f=e(9616),s="gl3d",t="scene";x.name=s,x.attr=t,x.idRoot=t,x.idRegex=x.attrRegex=b.counterRegex("scene"),x.attributes=e(6636),x.layoutAttributes=e(346),x.baseLayoutAttrOverrides=p({hoverlabel:y.hoverlabel},"plot","nested"),x.supplyLayoutDefaults=e(5208),x.plot=function(o){for(var r=o._fullLayout,i=o._fullData,a=r._subplots[s],l=0;l<a.length;l++){var u=a[l],h=M(i,s,u),c=r[u],w=c.camera,g=c._scene;g||(g=new n({id:u,graphDiv:o,container:o.querySelector(".gl-container"),staticPlot:o._context.staticPlot,plotGlPixelRatio:o._context.plotGlPixelRatio,camera:w},r),c._scene=g),g.viewInitial||(g.viewInitial={up:{x:w.up.x,y:w.up.y,z:w.up.z},eye:{x:w.eye.x,y:w.eye.y,z:w.eye.z},center:{x:w.center.x,y:w.center.y,z:w.center.z}}),g.plot(h,r,o.layout)}},x.clean=function(o,r,i,a){for(var l=a._subplots[s]||[],u=0;u<l.length;u++){var h=l[u];!r[h]&&a[h]._scene&&(a[h]._scene.destroy(),a._infolayer&&a._infolayer.selectAll(".annotation-"+h).remove())}},x.toSVG=function(o){for(var r=o._fullLayout,i=r._subplots[s],a=r._size,l=0;l<i.length;l++){var u=r[i[l]],h=u.domain,c=u._scene,w=c.toImage("png");r._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":w,x:a.l+a.w*h.x[0],y:a.t+a.h*(1-h.y[1]),width:a.w*(h.x[1]-h.x[0]),height:a.h*(h.y[1]-h.y[0]),preserveAspectRatio:"none"}),c.destroy()}},x.cleanId=function(o){if(o.match(/^scene[0-9]*$/)){var r=o.substr(5);return r==="1"&&(r=""),t+r}},x.updateFx=function(o){for(var r=o._fullLayout,i=r._subplots[s],a=0;a<i.length;a++)r[i[a]]._scene.updateFx(r.dragmode,r.hovermode)}},6636:function(S){"use strict";S.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(S,x,e){"use strict";var p=e(76308),y=e(94724),n=e(92880).extendFlat,M=e(67824).overrideAll;S.exports=M({visible:y.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:y.color,categoryorder:y.categoryorder,categoryarray:y.categoryarray,title:{text:y.title.text,font:y.title.font},type:n({},y.type,{values:["-","linear","log","date","category"]}),autotypenumbers:y.autotypenumbers,autorange:y.autorange,autorangeoptions:{minallowed:y.autorangeoptions.minallowed,maxallowed:y.autorangeoptions.maxallowed,clipmin:y.autorangeoptions.clipmin,clipmax:y.autorangeoptions.clipmax,include:y.autorangeoptions.include,editType:"plot"},rangemode:y.rangemode,minallowed:y.minallowed,maxallowed:y.maxallowed,range:n({},y.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:y.ticks,mirror:y.mirror,ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:y.tickfont,tickangle:y.tickangle,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,showexponent:y.showexponent,exponentformat:y.exponentformat,minexponent:y.minexponent,separatethousands:y.separatethousands,tickformat:y.tickformat,tickformatstops:y.tickformatstops,hoverformat:y.hoverformat,showline:y.showline,linecolor:y.linecolor,linewidth:y.linewidth,showgrid:y.showgrid,gridcolor:n({},y.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:y.gridwidth,zeroline:y.zeroline,zerolinecolor:y.zerolinecolor,zerolinewidth:y.zerolinewidth,_deprecated:{title:y._deprecated.title,titlefont:y._deprecated.titlefont}},"plot","from-root")},64380:function(S,x,e){"use strict";var p=e(49760).mix,y=e(3400),n=e(31780),M=e(86140),b=e(14944),f=e(28336),s=["xaxis","yaxis","zaxis"];S.exports=function(t,o,r){var i,a;function l(c,w){return y.coerce(i,a,M,c,w)}for(var u=0;u<s.length;u++){var h=s[u];i=t[h]||{},(a=n.newContainer(o,h))._id=h[0]+r.scene,a._name=h,b(i,a,l,r),f(i,a,l,{font:r.font,letter:h[0],data:r.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),l("gridcolor",p(a.color,r.bgColor,72.72727272727273).toRgbString()),l("title.text",h[0]),a.setScale=y.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",a.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},44728:function(S,x,e){"use strict";var p=e(43080),y=e(3400),n=["xaxis","yaxis","zaxis"];function M(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}M.prototype.merge=function(b,f){for(var s=this,t=0;t<3;++t){var o=f[n[t]];o.visible?(s.labels[t]=b._meta?y.templateString(o.title.text,b._meta):o.title.text,"font"in o.title&&(o.title.font.color&&(s.labelColor[t]=p(o.title.font.color)),o.title.font.family&&(s.labelFont[t]=o.title.font.family),o.title.font.size&&(s.labelSize[t]=o.title.font.size),o.title.font.weight&&(s.labelFontWeight[t]=o.title.font.weight),o.title.font.style&&(s.labelFontStyle[t]=o.title.font.style),o.title.font.variant&&(s.labelFontVariant[t]=o.title.font.variant)),"showline"in o&&(s.lineEnable[t]=o.showline),"linecolor"in o&&(s.lineColor[t]=p(o.linecolor)),"linewidth"in o&&(s.lineWidth[t]=o.linewidth),"showgrid"in o&&(s.gridEnable[t]=o.showgrid),"gridcolor"in o&&(s.gridColor[t]=p(o.gridcolor)),"gridwidth"in o&&(s.gridWidth[t]=o.gridwidth),o.type==="log"?s.zeroEnable[t]=!1:"zeroline"in o&&(s.zeroEnable[t]=o.zeroline),"zerolinecolor"in o&&(s.zeroLineColor[t]=p(o.zerolinecolor)),"zerolinewidth"in o&&(s.zeroLineWidth[t]=o.zerolinewidth),"ticks"in o&&o.ticks?s.lineTickEnable[t]=!0:s.lineTickEnable[t]=!1,"ticklen"in o&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=o.ticklen),"tickcolor"in o&&(s.lineTickColor[t]=p(o.tickcolor)),"tickwidth"in o&&(s.lineTickWidth[t]=o.tickwidth),"tickangle"in o&&(s.tickAngle[t]=o.tickangle==="auto"?-3600:Math.PI*-o.tickangle/180),"showticklabels"in o&&(s.tickEnable[t]=o.showticklabels),"tickfont"in o&&(o.tickfont.color&&(s.tickColor[t]=p(o.tickfont.color)),o.tickfont.family&&(s.tickFont[t]=o.tickfont.family),o.tickfont.size&&(s.tickSize[t]=o.tickfont.size),o.tickfont.weight&&(s.tickFontWeight[t]=o.tickfont.weight),o.tickfont.style&&(s.tickFontStyle[t]=o.tickfont.style),o.tickfont.variant&&(s.tickFontVariant[t]=o.tickfont.variant)),"mirror"in o?["ticks","all","allticks"].indexOf(o.mirror)!==-1?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):o.mirror===!0?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in o&&o.showbackground!==!1?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=p(o.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},S.exports=function(b,f){var s=new M;return s.merge(b,f),s}},5208:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(24040),M=e(168),b=e(64380),f=e(346),s=e(84888).op,t="gl3d";function o(r,i,a,l){for(var u=a("bgcolor"),h=y.combine(u,l.paper_bgcolor),c=["up","center","eye"],w=0;w<c.length;w++)a("camera."+c[w]+".x"),a("camera."+c[w]+".y"),a("camera."+c[w]+".z");a("camera.projection.type");var g=!!a("aspectratio.x")&&!!a("aspectratio.y")&&!!a("aspectratio.z"),v=a("aspectmode",g?"manual":"auto");g||(r.aspectratio=i.aspectratio={x:1,y:1,z:1},v==="manual"&&(i.aspectmode="auto"),r.aspectmode=i.aspectmode);var m=s(l.fullData,t,l.id);b(r,i,{font:l.font,scene:l.id,data:m,bgColor:h,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(r,i,l);var T=l.getDfltFromLayout("dragmode");if(T!==!1&&!T)if(T="orbit",r.camera&&r.camera.up){var _=r.camera.up.x,A=r.camera.up.y,d=r.camera.up.z;d!==0&&(_&&A&&d?d/Math.sqrt(_*_+A*A+d*d)>.999&&(T="turntable"):T="turntable")}else T="turntable";a("dragmode",T),a("hovermode",l.getDfltFromLayout("hovermode"))}S.exports=function(r,i,a){var l=i._basePlotModules.length>1;M(r,i,a,{type:t,attributes:f,handleDefaults:o,fullLayout:i,font:i.font,fullData:a,getDfltFromLayout:function(u){if(!l)return p.validate(r[u],f[u])?r[u]:void 0},autotypenumbersDflt:i.autotypenumbers,paper_bgcolor:i.paper_bgcolor,calendar:i.calendar})}},346:function(S,x,e){"use strict";var p=e(86140),y=e(86968).u,n=e(92880).extendFlat,M=e(3400).counterRegex;function b(f,s,t){return{x:{valType:"number",dflt:f,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}S.exports={_arrayAttrRegexps:[M("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(b(0,0,1),{}),center:n(b(0,0,0),{}),eye:n(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:y({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(S,x,e){"use strict";var p=e(43080),y=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}n.prototype.merge=function(M){for(var b=0;b<3;++b){var f=M[y[b]];f.visible?(this.enabled[b]=f.showspikes,this.colors[b]=p(f.spikecolor),this.drawSides[b]=f.spikesides,this.lineWidth[b]=f.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},S.exports=function(M){var b=new n;return b.merge(M),b}},87152:function(S,x,e){"use strict";S.exports=function(b){for(var f=b.axesOptions,s=b.glplot.axesPixels,t=b.fullSceneLayout,o=[[],[],[]],r=0;r<3;++r){var i=t[n[r]];if(i._length=(s[r].hi-s[r].lo)*s[r].pixelsPerDataUnit/b.dataScale[r],Math.abs(i._length)===1/0||isNaN(i._length))o[r]=[];else{i._input_range=i.range.slice(),i.range[0]=s[r].lo/b.dataScale[r],i.range[1]=s[r].hi/b.dataScale[r],i._m=1/(b.dataScale[r]*s[r].pixelsPerDataUnit),i.range[0]===i.range[1]&&(i.range[0]-=1,i.range[1]+=1);var a=i.tickmode;if(i.tickmode==="auto"){i.tickmode="linear";var l=i.nticks||y.constrain(i._length/40,4,9);p.autoTicks(i,Math.abs(i.range[1]-i.range[0])/l)}for(var u=p.calcTicks(i,{msUTC:!0}),h=0;h<u.length;++h)u[h].x=u[h].x*b.dataScale[r],i.type==="date"&&(u[h].text=u[h].text.replace(/\<br\>/g," "));o[r]=u,i.tickmode=a}}for(f.ticks=o,r=0;r<3;++r)for(M[r]=.5*(b.glplot.bounds[0][r]+b.glplot.bounds[1][r]),h=0;h<2;++h)f.bounds[h][r]=b.glplot.bounds[h][r];b.contourLevels=function(c){for(var w=new Array(3),g=0;g<3;++g){for(var v=c[g],m=new Array(v.length),T=0;T<v.length;++T)m[T]=v[T].x;w[g]=m}return w}(o)};var p=e(54460),y=e(3400),n=["xaxis","yaxis","zaxis"],M=[0,0,0]},94424:function(S){"use strict";function x(e,p){var y,n,M=[0,0,0,0];for(y=0;y<4;++y)for(n=0;n<4;++n)M[n]+=e[4*y+n]*p[y];return M}S.exports=function(e,p){return x(e.projection,x(e.view,x(e.model,[p[0],p[1],p[2],1])))}},98432:function(S,x,e){"use strict";var p,y,n=e(67792).gl_plot3d,M=n.createCamera,b=n.createScene,f=e(5408),s=e(89184),t=e(24040),o=e(3400),r=o.preserveDrawingBuffer(),i=e(54460),a=e(93024),l=e(43080),u=e(16576),h=e(94424),c=e(44728),w=e(9020),g=e(87152),v=e(19280).applyAutorangeOptions,m=!1;function T(k,D){var O=document.createElement("div"),L=k.container;this.graphDiv=k.graphDiv;var R=document.createElementNS("http://www.w3.org/2000/svg","svg");R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",R.style["z-index"]=20,R.style["pointer-events"]="none",O.appendChild(R),this.svgContainer=R,O.id=k.id,O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",L.appendChild(O),this.fullLayout=D,this.id=k.id||"scene",this.fullSceneLayout=D[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(D,D[this.id]),this.spikeOptions=w(D[this.id]),this.container=O,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var _=T.prototype;_.prepareOptions=function(){var k=this,D={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!(y||(p=document.createElement("canvas"),y=f({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");D.gl=y,D.canvas=p}return D};var A=!0;_.tryCreatePlot=function(){var k=this,D=k.prepareOptions(),O=!0;try{k.glplot=b(D)}catch{if(k.staticMode||!A||r)O=!1;else{o.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=D.glOptions.preserveDrawingBuffer=!0,k.glplot=b(D)}catch{r=D.glOptions.preserveDrawingBuffer=!1,O=!1}}}return A=!1,O},_.initializeGLCamera=function(){var k=this,D=k.fullSceneLayout.camera,O=D.projection.type==="orthographic";k.camera=M(k.container,{center:[D.center.x,D.center.y,D.center.z],eye:[D.eye.x,D.eye.y,D.eye.z],up:[D.up.x,D.up.y,D.up.z],_ortho:O,zoomMin:.01,zoomMax:100,mode:"orbit"})},_.initializeGLPlot=function(){var k=this;if(k.initializeGLCamera(),!k.tryCreatePlot())return u(k);k.traces={},k.make4thDimension();var D=k.graphDiv,O=D.layout,L=function(){var z={};return k.isCameraChanged(O)&&(z[k.id+".camera"]=k.getCamera()),k.isAspectChanged(O)&&(z[k.id+".aspectratio"]=k.glplot.getAspectratio(),O[k.id].aspectmode!=="manual"&&(k.fullSceneLayout.aspectmode=O[k.id].aspectmode=z[k.id+".aspectmode"]="manual")),z},R=function(z){if(z.fullSceneLayout.dragmode!==!1){var q=L();z.saveLayout(O),z.graphDiv.emit("plotly_relayout",q)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){R(k)}),k.glplot.canvas.addEventListener("touchstart",function(){m=!0}),k.glplot.canvas.addEventListener("wheel",function(z){if(D._context._scrollZoom.gl3d){if(k.camera._ortho){var q=z.deltaX>z.deltaY?1.1:.9090909090909091,N=k.glplot.getAspectratio();k.glplot.setAspectratio({x:q*N.x,y:q*N.y,z:q*N.z})}R(k)}},!!s&&{passive:!1}),k.glplot.canvas.addEventListener("mousemove",function(){if(k.fullSceneLayout.dragmode!==!1&&k.camera.mouseListener.buttons!==0){var z=L();k.graphDiv.emit("plotly_relayouting",z)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(z){D&&D.emit&&D.emit("plotly_webglcontextlost",{event:z,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},_.render=function(){var k,D=this,O=D.graphDiv,L=D.svgContainer,R=D.container.getBoundingClientRect();O._fullLayout._calcInverseTransform(O);var z=O._fullLayout._invScaleX,q=O._fullLayout._invScaleY,N=R.width*z,V=R.height*q;L.setAttributeNS(null,"viewBox","0 0 "+N+" "+V),L.setAttributeNS(null,"width",N),L.setAttributeNS(null,"height",V),g(D),D.glplot.axes.update(D.axesOptions);for(var Z=Object.keys(D.traces),j=null,H=D.glplot.selection,Y=0;Y<Z.length;++Y)(k=D.traces[Z[Y]]).data.hoverinfo!=="skip"&&k.handlePick(H)&&(j=k),k.setContourLevels&&k.setContourLevels();function ie(me,ye,Se){var Ie=D.fullSceneLayout[me+"axis"];return Ie.type!=="log"&&(ye=Ie.d2l(ye)),i.hoverLabelText(Ie,ye,Se)}if(j!==null){var re=h(D.glplot.cameraParams,H.dataCoordinate);k=j.data;var ne,ee=O._fullData[k.index],Q=H.index,X={xLabel:ie("x",H.traceCoordinate[0],k.xhoverformat),yLabel:ie("y",H.traceCoordinate[1],k.yhoverformat),zLabel:ie("z",H.traceCoordinate[2],k.zhoverformat)},se=a.castHoverinfo(ee,D.fullLayout,Q),ce=(se||"").split("+"),le=se&&se==="all";ee.hovertemplate||le||(ce.indexOf("x")===-1&&(X.xLabel=void 0),ce.indexOf("y")===-1&&(X.yLabel=void 0),ce.indexOf("z")===-1&&(X.zLabel=void 0),ce.indexOf("text")===-1&&(H.textLabel=void 0),ce.indexOf("name")===-1&&(j.name=void 0));var de=[];k.type==="cone"||k.type==="streamtube"?(X.uLabel=ie("x",H.traceCoordinate[3],k.uhoverformat),(le||ce.indexOf("u")!==-1)&&de.push("u: "+X.uLabel),X.vLabel=ie("y",H.traceCoordinate[4],k.vhoverformat),(le||ce.indexOf("v")!==-1)&&de.push("v: "+X.vLabel),X.wLabel=ie("z",H.traceCoordinate[5],k.whoverformat),(le||ce.indexOf("w")!==-1)&&de.push("w: "+X.wLabel),X.normLabel=H.traceCoordinate[6].toPrecision(3),(le||ce.indexOf("norm")!==-1)&&de.push("norm: "+X.normLabel),k.type==="streamtube"&&(X.divergenceLabel=H.traceCoordinate[7].toPrecision(3),(le||ce.indexOf("divergence")!==-1)&&de.push("divergence: "+X.divergenceLabel)),H.textLabel&&de.push(H.textLabel),ne=de.join("<br>")):k.type==="isosurface"||k.type==="volume"?(X.valueLabel=i.hoverLabelText(D._mockAxis,D._mockAxis.d2l(H.traceCoordinate[3]),k.valuehoverformat),de.push("value: "+X.valueLabel),H.textLabel&&de.push(H.textLabel),ne=de.join("<br>")):ne=H.textLabel;var be={x:H.traceCoordinate[0],y:H.traceCoordinate[1],z:H.traceCoordinate[2],data:ee._input,fullData:ee,curveNumber:ee.index,pointNumber:Q};a.appendArrayPointValue(be,ee,Q),k._module.eventData&&(be=ee._module.eventData(be,H,ee,{},Q));var _e={points:[be]};if(D.fullSceneLayout.hovermode){var ve=[];a.loneHover({trace:ee,x:(.5+.5*re[0]/re[3])*N,y:(.5-.5*re[1]/re[3])*V,xLabel:X.xLabel,yLabel:X.yLabel,zLabel:X.zLabel,text:ne,name:j.name,color:a.castHoverOption(ee,Q,"bgcolor")||j.color,borderColor:a.castHoverOption(ee,Q,"bordercolor"),fontFamily:a.castHoverOption(ee,Q,"font.family"),fontSize:a.castHoverOption(ee,Q,"font.size"),fontColor:a.castHoverOption(ee,Q,"font.color"),nameLength:a.castHoverOption(ee,Q,"namelength"),textAlign:a.castHoverOption(ee,Q,"align"),hovertemplate:o.castOption(ee,Q,"hovertemplate"),hovertemplateLabels:o.extendFlat({},be,X),eventData:[be]},{container:L,gd:O,inOut_bbox:ve}),be.bbox=ve[0]}H.distance<5&&(H.buttons||m)?O.emit("plotly_click",_e):O.emit("plotly_hover",_e),this.oldEventData=_e}else a.loneUnhover(L),this.oldEventData&&O.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;D.drawAnnotations(D)},_.recoverContext=function(){var k=this;k.glplot.dispose();var D=function(){k.glplot.gl.isContextLost()?requestAnimationFrame(D):k.initializeGLPlot()?k.plot.apply(k,k.plotArgs):o.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(D)};var d=["xaxis","yaxis","zaxis"];function C(k,D,O){for(var L=k.fullSceneLayout,R=0;R<3;R++){var z=d[R],q=z.charAt(0),N=L[z],V=D[q],Z=D[q+"calendar"],j=D["_"+q+"length"];if(o.isArrayOrTypedArray(V))for(var H,Y=0;Y<(j||V.length);Y++)if(o.isArrayOrTypedArray(V[Y]))for(var ie=0;ie<V[Y].length;++ie)H=N.d2l(V[Y][ie],0,Z),!isNaN(H)&&isFinite(H)&&(O[0][R]=Math.min(O[0][R],H),O[1][R]=Math.max(O[1][R],H));else H=N.d2l(V[Y],0,Z),!isNaN(H)&&isFinite(H)&&(O[0][R]=Math.min(O[0][R],H),O[1][R]=Math.max(O[1][R],H));else O[0][R]=Math.min(O[0][R],0),O[1][R]=Math.max(O[1][R],j-1)}}_.plot=function(k,D,O){var L=this;if(L.plotArgs=[k,D,O],!L.glplot.contextLost){var R,z,q,N,V,Z,j=D[L.id],H=O[L.id];L.fullLayout=D,L.fullSceneLayout=j,L.axesOptions.merge(D,j),L.spikeOptions.merge(j),L.setViewport(j),L.updateFx(j.dragmode,j.hovermode),L.camera.enableWheel=L.graphDiv._context._scrollZoom.gl3d,L.glplot.setClearColor(l(j.bgcolor)),L.setConvert(V),k?Array.isArray(k)||(k=[k]):k=[];var Y=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(q=0;q<k.length;++q)(R=k[q]).visible===!0&&R._length!==0&&C(this,R,Y);(function(Ce,Re){for(var Ne=Ce.fullSceneLayout,ge=Ne.annotations||[],Me=0;Me<3;Me++)for(var Ee=d[Me],Fe=Ee.charAt(0),Le=Ne[Ee],Ue=0;Ue<ge.length;Ue++){var Ge=ge[Ue];if(Ge.visible){var Ke=Le.r2l(Ge[Fe]);!isNaN(Ke)&&isFinite(Ke)&&(Re[0][Me]=Math.min(Re[0][Me],Ke),Re[1][Me]=Math.max(Re[1][Me],Ke))}}})(this,Y);var ie=[1,1,1];for(N=0;N<3;++N)Y[1][N]===Y[0][N]?ie[N]=1:ie[N]=1/(Y[1][N]-Y[0][N]);for(L.dataScale=ie,L.convertAnnotations(this),q=0;q<k.length;++q)(R=k[q]).visible===!0&&R._length!==0&&((z=L.traces[R.uid])?z.data.type===R.type?z.update(R):(z.dispose(),z=R._module.plot(this,R),L.traces[R.uid]=z):(z=R._module.plot(this,R),L.traces[R.uid]=z),z.name=R.name);var re=Object.keys(L.traces);e:for(q=0;q<re.length;++q){for(N=0;N<k.length;++N)if(k[N].uid===re[q]&&k[N].visible===!0&&k[N]._length!==0)continue e;(z=L.traces[re[q]]).dispose(),delete L.traces[re[q]]}L.glplot.objects.sort(function(Ce,Re){return Ce._trace.data.index-Re._trace.data.index});var ne,ee=[[0,0,0],[0,0,0]],Q=[],X={};for(q=0;q<3;++q){var se;if((Z=(V=j[d[q]]).type)in X?(X[Z].acc*=ie[q],X[Z].count+=1):X[Z]={acc:ie[q],count:1},V.autorange){ee[0][q]=1/0,ee[1][q]=-1/0;var ce=L.glplot.objects,le=L.fullSceneLayout.annotations||[],de=V._name.charAt(0);for(N=0;N<ce.length;N++){var be=ce[N],_e=be.bounds,ve=be._trace.data._pad||0;be.constructor.name==="ErrorBars"&&V._lowerLogErrorBound?ee[0][q]=Math.min(ee[0][q],V._lowerLogErrorBound):ee[0][q]=Math.min(ee[0][q],_e[0][q]/ie[q]-ve),ee[1][q]=Math.max(ee[1][q],_e[1][q]/ie[q]+ve)}for(N=0;N<le.length;N++){var me=le[N];if(me.visible){var ye=V.r2l(me[de]);ee[0][q]=Math.min(ee[0][q],ye),ee[1][q]=Math.max(ee[1][q],ye)}}if("rangemode"in V&&V.rangemode==="tozero"&&(ee[0][q]=Math.min(ee[0][q],0),ee[1][q]=Math.max(ee[1][q],0)),ee[0][q]>ee[1][q])ee[0][q]=-1,ee[1][q]=1;else{var Se=ee[1][q]-ee[0][q];ee[0][q]-=Se/32,ee[1][q]+=Se/32}if(se=[ee[0][q],ee[1][q]],se=v(se,V),ee[0][q]=se[0],ee[1][q]=se[1],V.isReversed()){var Ie=ee[0][q];ee[0][q]=ee[1][q],ee[1][q]=Ie}}else se=V.range,ee[0][q]=V.r2l(se[0]),ee[1][q]=V.r2l(se[1]);ee[0][q]===ee[1][q]&&(ee[0][q]-=1,ee[1][q]+=1),Q[q]=ee[1][q]-ee[0][q],V.range=[ee[0][q],ee[1][q]],V.limitRange(),L.glplot.setBounds(q,{min:V.range[0]*ie[q],max:V.range[1]*ie[q]})}var xe=j.aspectmode;if(xe==="cube")ne=[1,1,1];else if(xe==="manual"){var ue=j.aspectratio;ne=[ue.x,ue.y,ue.z]}else{if(xe!=="auto"&&xe!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var ae=[1,1,1];for(q=0;q<3;++q){var pe=X[Z=(V=j[d[q]]).type];ae[q]=Math.pow(pe.acc,1/pe.count)/ie[q]}ne=xe==="data"||Math.max.apply(null,ae)/Math.min.apply(null,ae)<=4?ae:[1,1,1]}j.aspectratio.x=H.aspectratio.x=ne[0],j.aspectratio.y=H.aspectratio.y=ne[1],j.aspectratio.z=H.aspectratio.z=ne[2],L.glplot.setAspectratio(j.aspectratio),L.viewInitial.aspectratio||(L.viewInitial.aspectratio={x:j.aspectratio.x,y:j.aspectratio.y,z:j.aspectratio.z}),L.viewInitial.aspectmode||(L.viewInitial.aspectmode=j.aspectmode);var De=j.domain||null,Te=D._size||null;if(De&&Te){var Ae=L.container.style;Ae.position="absolute",Ae.left=Te.l+De.x[0]*Te.w+"px",Ae.top=Te.t+(1-De.y[1])*Te.h+"px",Ae.width=Te.w*(De.x[1]-De.x[0])+"px",Ae.height=Te.h*(De.y[1]-De.y[0])+"px"}L.glplot.redraw()}},_.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)},_.getCamera=function(){var k,D=this;return D.camera.view.recalcMatrix(D.camera.view.lastT()),{up:{x:(k=D.camera).up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:k._ortho===!0?"orthographic":"perspective"}}},_.setViewport=function(k){var D,O=this,L=k.camera;O.camera.lookAt.apply(this,[[(D=L).eye.x,D.eye.y,D.eye.z],[D.center.x,D.center.y,D.center.z],[D.up.x,D.up.y,D.up.z]]),O.glplot.setAspectratio(k.aspectratio),L.projection.type==="orthographic"!==O.camera._ortho&&(O.glplot.redraw(),O.glplot.clearRGBA(),O.glplot.dispose(),O.initializeGLPlot())},_.isCameraChanged=function(k){var D=this.getCamera(),O=o.nestedProperty(k,this.id+".camera").get();function L(N,V,Z,j){var H=["up","center","eye"],Y=["x","y","z"];return V[H[Z]]&&N[H[Z]][Y[j]]===V[H[Z]][Y[j]]}var R=!1;if(O===void 0)R=!0;else{for(var z=0;z<3;z++)for(var q=0;q<3;q++)if(!L(D,O,z,q)){R=!0;break}(!O.projection||D.projection&&D.projection.type!==O.projection.type)&&(R=!0)}return R},_.isAspectChanged=function(k){var D=this.glplot.getAspectratio(),O=o.nestedProperty(k,this.id+".aspectratio").get();return O===void 0||O.x!==D.x||O.y!==D.y||O.z!==D.z},_.saveLayout=function(k){var D,O,L,R,z,q,N=this,V=N.fullLayout,Z=N.isCameraChanged(k),j=N.isAspectChanged(k),H=Z||j;if(H){var Y={};Z&&(D=N.getCamera(),L=(O=o.nestedProperty(k,N.id+".camera")).get(),Y[N.id+".camera"]=L),j&&(R=N.glplot.getAspectratio(),q=(z=o.nestedProperty(k,N.id+".aspectratio")).get(),Y[N.id+".aspectratio"]=q),t.call("_storeDirectGUIEdit",k,V._preGUI,Y),Z&&(O.set(D),o.nestedProperty(V,N.id+".camera").set(D)),j&&(z.set(R),o.nestedProperty(V,N.id+".aspectratio").set(R),N.glplot.redraw())}return H},_.updateFx=function(k,D){var O=this,L=O.camera;if(L)if(k==="orbit")L.mode="orbit",L.keyBindingMode="rotate";else if(k==="turntable"){L.up=[0,0,1],L.mode="turntable",L.keyBindingMode="rotate";var R=O.graphDiv,z=R._fullLayout,q=O.fullSceneLayout.camera,N=q.up.x,V=q.up.y,Z=q.up.z;if(Z/Math.sqrt(N*N+V*V+Z*Z)<.999){var j=O.id+".camera.up",H={x:0,y:0,z:1},Y={};Y[j]=H;var ie=R.layout;t.call("_storeDirectGUIEdit",ie,z._preGUI,Y),q.up=H,o.nestedProperty(ie,j).set(H)}}else L.keyBindingMode=k;O.fullSceneLayout.hovermode=D},_.toImage=function(k){var D=this;k||(k="png"),D.staticMode&&D.container.appendChild(p),D.glplot.redraw();var O=D.glplot.gl,L=O.drawingBufferWidth,R=O.drawingBufferHeight;O.bindFramebuffer(O.FRAMEBUFFER,null);var z=new Uint8Array(L*R*4);O.readPixels(0,0,L,R,O.RGBA,O.UNSIGNED_BYTE,z),function(j,H,Y){for(var ie=0,re=Y-1;ie<re;++ie,--re)for(var ne=0;ne<H;++ne)for(var ee=0;ee<4;++ee){var Q=4*(H*ie+ne)+ee,X=4*(H*re+ne)+ee,se=j[Q];j[Q]=j[X],j[X]=se}}(z,L,R),function(j,H,Y){for(var ie=0;ie<Y;++ie)for(var re=0;re<H;++re){var ne=4*(H*ie+re),ee=j[ne+3];if(ee>0)for(var Q=255/ee,X=0;X<3;++X)j[ne+X]=Math.min(Q*j[ne+X],255)}}(z,L,R);var q=document.createElement("canvas");q.width=L,q.height=R;var N,V=q.getContext("2d",{willReadFrequently:!0}),Z=V.createImageData(L,R);switch(Z.data.set(z),V.putImageData(Z,0,0),k){case"jpeg":N=q.toDataURL("image/jpeg");break;case"webp":N=q.toDataURL("image/webp");break;default:N=q.toDataURL("image/png")}return D.staticMode&&D.container.removeChild(p),N},_.setConvert=function(){for(var k=0;k<3;k++){var D=this.fullSceneLayout[d[k]];i.setConvert(D,this.fullLayout),D.setScale=o.noop}},_.make4thDimension=function(){var k=this,D=k.graphDiv._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},i.setConvert(k._mockAxis,D)},S.exports=T},52094:function(S){"use strict";S.exports=function(x,e,p,y){y=y||x.length;for(var n=new Array(y),M=0;M<y;M++)n[M]=[x[M],e[M],p[M]];return n}},64859:function(S,x,e){"use strict";var p=e(25376),y=e(85656),n=e(22548),M=e(92872),b=e(34200),f=e(66741),s=e(92880).extendFlat,t=p({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=n.defaultLine,S.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:M.newshape,activeshape:M.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},y.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},47552:function(S,x,e){"use strict";var p=e(95376),y="1.13.4",n='\xA9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',M=['\xA9 <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),f={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:M,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:M,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=p(f);S.exports={requiredVersion:y,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:f,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+y+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){var M=y.split(" "),b=M[0],f=M[1],s=p.isArrayOrTypedArray(n)?p.mean(n):n,t=.5+s/100,o=1.5+s/100,r=["",""],i=[0,0];switch(b){case"top":r[0]="top",i[1]=-o;break;case"bottom":r[0]="bottom",i[1]=o}switch(f){case"left":r[1]="right",i[0]=-t;break;case"right":r[1]="left",i[0]=t}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:i}}},33688:function(S,x,e){"use strict";var p=e(3480),y=e(3400),n=y.strTranslate,M=y.strScale,b=e(84888).KY,f=e(9616),s=e(33428),t=e(43616),o=e(72736),r=e(14440),i="mapbox",a=x.constants=e(47552);function l(u){return typeof u=="string"&&(a.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}x.name=i,x.attr="subplot",x.idRoot=i,x.idRegex=x.attrRegex=y.counterRegex(i),x.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},x.layoutAttributes=e(5232),x.supplyLayoutDefaults=e(5976),x.plot=function(u){var h=u._fullLayout,c=u.calcdata,w=h._subplots[i];if(p.version!==a.requiredVersion)throw new Error(a.wrongVersionErrorMsg);var g=function(d,C){var k=d._fullLayout;if(d._context.mapboxAccessToken==="")return"";for(var D=[],O=[],L=!1,R=!1,z=0;z<C.length;z++){var q=k[C[z]],N=q.accesstoken;l(q.style)&&(N?y.pushUnique(D,N):(l(q._input.style)&&(y.error("Uses Mapbox map style, but did not set an access token."),L=!0),R=!0)),N&&y.pushUnique(O,N)}if(R){var V=L?a.noAccessTokenErrorMsg:a.missingStyleErrorMsg;throw y.error(V),new Error(V)}return D.length?(D.length>1&&y.warn(a.multipleTokensErrorMsg),D[0]):(O.length&&y.log(["Listed mapbox access token(s)",O.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,w);p.accessToken=g;for(var v=0;v<w.length;v++){var m=w[v],T=b(c,i,m),_=h[m],A=_._subplot;A||(A=new r(u,m),h[m]._subplot=A),A.viewInitial||(A.viewInitial={center:y.extendFlat({},_.center),zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),A.plot(T,h,u._promises)}},x.clean=function(u,h,c,w){for(var g=w._subplots[i]||[],v=0;v<g.length;v++){var m=g[v];!h[m]&&w[m]._subplot&&w[m]._subplot.destroy()}},x.toSVG=function(u){for(var h=u._fullLayout,c=h._subplots[i],w=h._size,g=0;g<c.length;g++){var v=h[c[g]],m=v.domain,T=v._subplot.toImage("png");h._glimages.append("svg:image").attr({xmlns:f.svg,"xlink:href":T,x:w.l+w.w*m.x[0],y:w.t+w.h*(1-m.y[1]),width:w.w*(m.x[1]-m.x[0]),height:w.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"});var _=s.select(v._subplot.div);if(_.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var A=h._glimages.append("g");A.attr("transform",n(w.l+w.w*m.x[0]+10,w.t+w.h*(1-m.y[0])-31)),A.append("path").attr("d",a.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),A.append("path").attr("d",a.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),A.append("path").attr("d",a.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),A.append("polygon").attr("points",a.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var d=_.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),C=h._glimages.append("g"),k=C.append("text");k.text(d).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":d});var D=t.bBox(k.node()),O=w.w*(m.x[1]-m.x[0]);if(D.width>O/2){var L=d.split("|").join("<br>");k.text(L).attr("data-unformatted",L).call(o.convertToTspans,u),D=t.bBox(k.node())}k.attr("transform",n(-3,8-D.height)),C.insert("rect",".static-attribution").attr({x:-D.width-6,y:-D.height-3,width:D.width+6,height:D.height+3,fill:"rgba(255, 255, 255, 0.75)"});var R=1;D.width+6>O&&(R=O/(D.width+6));var z=[w.l+w.w*m.x[1],w.t+w.h*(1-m.y[0])];C.attr("transform",n(z[0],z[1])+M(R))}},x.updateFx=function(u){for(var h=u._fullLayout,c=h._subplots[i],w=0;w<c.length;w++)h[c[w]]._subplot.updateFx(h)}},22360:function(S,x,e){"use strict";var p=e(3400),y=e(72736).sanitizeHTML,n=e(89032),M=e(47552);function b(o,r){this.subplot=o,this.uid=o.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=M.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var f=b.prototype;function s(o){if(!o.visible)return!1;var r=o.source;if(Array.isArray(r)&&r.length>0){for(var i=0;i<r.length;i++)if(typeof r[i]!="string"||r[i].length===0)return!1;return!0}return p.isPlainObject(r)||typeof r=="string"&&r.length>0}function t(o){var r={},i={};switch(o.type){case"circle":p.extendFlat(i,{"circle-radius":o.circle.radius,"circle-color":o.color,"circle-opacity":o.opacity});break;case"line":p.extendFlat(i,{"line-width":o.line.width,"line-color":o.color,"line-opacity":o.opacity,"line-dasharray":o.line.dash});break;case"fill":p.extendFlat(i,{"fill-color":o.color,"fill-outline-color":o.fill.outlinecolor,"fill-opacity":o.opacity});break;case"symbol":var a=o.symbol,l=n(a.textposition,a.iconsize);p.extendFlat(r,{"icon-image":a.icon+"-15","icon-size":a.iconsize/10,"text-field":a.text,"text-size":a.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":a.placement}),p.extendFlat(i,{"icon-color":o.color,"text-color":a.textfont.color,"text-opacity":o.opacity});break;case"raster":p.extendFlat(i,{"raster-fade-duration":0,"raster-opacity":o.opacity})}return{layout:r,paint:i}}f.update=function(o){this.visible?this.needsNewImage(o)?this.updateImage(o):this.needsNewSource(o)?(this.removeLayer(),this.updateSource(o),this.updateLayer(o)):this.needsNewLayer(o)?this.updateLayer(o):this.updateStyle(o):(this.updateSource(o),this.updateLayer(o)),this.visible=s(o)},f.needsNewImage=function(o){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&o.sourcetype==="image"&&(this.source!==o.source||JSON.stringify(this.coordinates)!==JSON.stringify(o.coordinates))},f.needsNewSource=function(o){return this.sourceType!==o.sourcetype||JSON.stringify(this.source)!==JSON.stringify(o.source)||this.layerType!==o.type},f.needsNewLayer=function(o){return this.layerType!==o.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},f.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},f.updateImage=function(o){this.subplot.map.getSource(this.idSource).updateImage({url:o.source,coordinates:o.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());r!==null&&this.subplot.map.moveLayer(this.idLayer,r)},f.updateSource=function(o){var r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=o.sourcetype,this.source=o.source,s(o)){var i=function(a){var l,u=a.sourcetype,h=a.source,c={type:u};return u==="geojson"?l="data":u==="vector"?l=typeof h=="string"?"url":"tiles":u==="raster"?(l="tiles",c.tileSize=256):u==="image"&&(l="url",c.coordinates=a.coordinates),c[l]=h,a.sourceattribution&&(c.attribution=y(a.sourceattribution)),c}(o);r.addSource(this.idSource,i)}},f.findFollowingMapboxLayerId=function(o){if(o==="traces")for(var r=this.subplot.getMapLayers(),i=0;i<r.length;i++){var a=r[i].id;if(typeof a=="string"&&a.indexOf(M.traceLayerPrefix)===0){o=a;break}}return o},f.updateLayer=function(o){var r=this.subplot,i=t(o),a=this.lookupBelow(),l=this.findFollowingMapboxLayerId(a);this.removeLayer(),s(o)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":o.sourcelayer||"",type:o.type,minzoom:o.minzoom,maxzoom:o.maxzoom,layout:i.layout,paint:i.paint},l),this.layerType=o.type,this.below=a},f.updateStyle=function(o){if(s(o)){var r=t(o);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},f.removeLayer=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer)},f.dispose=function(){var o=this.subplot.map;o.getLayer(this.idLayer)&&o.removeLayer(this.idLayer),o.getSource(this.idSource)&&o.removeSource(this.idSource)},S.exports=function(o,r,i){var a=new b(o,r);return a.update(i),a}},5232:function(S,x,e){"use strict";var p=e(3400),y=e(76308).defaultLine,n=e(86968).u,M=e(25376),b=e(52904).textposition,f=e(67824).overrideAll,s=e(31780).templatedArray,t=e(47552),o=M({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});o.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(S.exports=f({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:y},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:y}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:o,textposition:p.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(S,x,e){"use strict";var p=e(3400),y=e(168),n=e(51272),M=e(5232);function b(s,t,o,r){o("accesstoken",r.accessToken),o("style"),o("center.lon"),o("center.lat"),o("zoom"),o("bearing"),o("pitch");var i=o("bounds.west"),a=o("bounds.east"),l=o("bounds.south"),u=o("bounds.north");i!==void 0&&a!==void 0&&l!==void 0&&u!==void 0||delete t.bounds,n(s,t,{name:"layers",handleItemDefaults:f}),t._input=s}function f(s,t){function o(u,h){return p.coerce(s,t,M.layers,u,h)}if(o("visible")){var r,i=o("sourcetype"),a=i==="raster"||i==="image";o("source"),o("sourceattribution"),i==="vector"&&o("sourcelayer"),i==="image"&&o("coordinates"),a&&(r="raster");var l=o("type",r);a&&l!=="raster"&&(l=t.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),o("below"),o("color"),o("opacity"),o("minzoom"),o("maxzoom"),l==="circle"&&o("circle.radius"),l==="line"&&(o("line.width"),o("line.dash")),l==="fill"&&o("fill.outlinecolor"),l==="symbol"&&(o("symbol.icon"),o("symbol.iconsize"),o("symbol.text"),p.coerceFont(o,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),o("symbol.textposition"),o("symbol.placement"))}}S.exports=function(s,t,o){y(s,t,o,{type:"mapbox",attributes:M,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},14440:function(S,x,e){"use strict";var p=e(3480),y=e(3400),n=e(27144),M=e(24040),b=e(54460),f=e(86476),s=e(93024),t=e(72760),o=t.drawMode,r=t.selectMode,i=e(22676).prepSelect,a=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,h=e(47552),c=e(22360);function w(A,d){this.id=d,this.gd=A;var C=A._fullLayout,k=A._context;this.container=C._glcontainer.node(),this.isStatic=k.staticPlot,this.uid=C._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(C),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=w.prototype;g.plot=function(A,d,C){var k,D=this,O=d[D.id];D.map&&O.accesstoken!==D.accessToken&&(D.map.remove(),D.map=null,D.styleObj=null,D.traceHash={},D.layerList=[]),k=D.map?new Promise(function(L,R){D.updateMap(A,d,L,R)}):new Promise(function(L,R){D.createMap(A,d,L,R)}),C.push(k)},g.createMap=function(A,d,C,k){var D=this,O=d[D.id],L=D.styleObj=m(O.style,d);D.accessToken=O.accesstoken;var R=O.bounds,z=R?[[R.west,R.south],[R.east,R.north]]:null,q=D.map=new p.Map({container:D.div,style:L.style,center:_(O.center),zoom:O.zoom,bearing:O.bearing,pitch:O.pitch,maxBounds:z,interactive:!D.isStatic,preserveDrawingBuffer:D.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));q._canvas.style.left="0px",q._canvas.style.top="0px",D.rejectOnError(k),D.isStatic||D.initFx(A,d);var N=[];N.push(new Promise(function(V){q.once("load",V)})),N=N.concat(n.fetchTraceGeoData(A)),Promise.all(N).then(function(){D.fillBelowLookup(A,d),D.updateData(A),D.updateLayout(d),D.resolveOnRender(C)}).catch(k)},g.updateMap=function(A,d,C,k){var D=this,O=D.map,L=d[this.id];D.rejectOnError(k);var R=[],z=m(L.style,d);JSON.stringify(D.styleObj)!==JSON.stringify(z)&&(D.styleObj=z,O.setStyle(z.style),D.traceHash={},R.push(new Promise(function(q){O.once("styledata",q)}))),R=R.concat(n.fetchTraceGeoData(A)),Promise.all(R).then(function(){D.fillBelowLookup(A,d),D.updateData(A),D.updateLayout(d),D.resolveOnRender(C)}).catch(k)},g.fillBelowLookup=function(A,d){var C,k,D=d[this.id].layers,O=this.belowLookup={},L=!1;for(C=0;C<A.length;C++){var R=A[C][0].trace,z=R._module;typeof R.below=="string"?k=R.below:z.getBelow&&(k=z.getBelow(R,this)),k===""&&(L=!0),O["trace-"+R.uid]=k||""}for(C=0;C<D.length;C++){var q=D[C];k=typeof q.below=="string"?q.below:L?"traces":"",O["layout-"+C]=k}var N,V,Z={};for(N in O)Z[k=O[N]]?Z[k].push(N):Z[k]=[N];for(k in Z){var j=Z[k];if(j.length>1)for(C=0;C<j.length;C++)(N=j[C]).indexOf("trace-")===0?(V=N.split("trace-")[1],this.traceHash[V]&&(this.traceHash[V].below=null)):N.indexOf("layout-")===0&&(V=N.split("layout-")[1],this.layerList[V]&&(this.layerList[V].below=null))}};var v={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function m(A,d){var C={};if(y.isPlainObject(A))C.id=A.id,C.style=A;else if(typeof A=="string")if(C.id=A,h.styleValuesMapbox.indexOf(A)!==-1)C.style=T(A);else if(h.stylesNonMapbox[A]){C.style=h.stylesNonMapbox[A];var k=C.style.sources["plotly-"+A],D=k?k.tiles:void 0;D&&D[0]&&D[0].slice(-9)==="?api_key="&&(D[0]+=d._mapboxAccessToken)}else C.style=A;else C.id=h.styleValueDflt,C.style=T(h.styleValueDflt);return C.transition={duration:0,delay:0},C}function T(A){return h.styleUrlPrefix+A+"-"+h.styleUrlSuffix}function _(A){return[A.lon,A.lat]}g.updateData=function(A){var d,C,k,D,O=this.traceHash,L=A.slice().sort(function(V,Z){return v[V[0].trace.type]-v[Z[0].trace.type]});for(k=0;k<L.length;k++){var R=L[k],z=!1;(d=O[(C=R[0].trace).uid])&&(d.type===C.type?(d.update(R),z=!0):d.dispose()),!z&&C._module&&(O[C.uid]=C._module.plot(this,R))}var q=Object.keys(O);e:for(k=0;k<q.length;k++){var N=q[k];for(D=0;D<A.length;D++)if(N===(C=A[D][0].trace).uid)continue e;(d=O[N]).dispose(),delete O[N]}},g.updateLayout=function(A){var d=this.map,C=A[this.id];this.dragging||this.wheeling||(d.setCenter(_(C.center)),d.setZoom(C.zoom),d.setBearing(C.bearing),d.setPitch(C.pitch)),this.updateLayers(A),this.updateFramework(A),this.updateFx(A),this.map.resize(),this.gd._context._scrollZoom.mapbox?d.scrollZoom.enable():d.scrollZoom.disable()},g.resolveOnRender=function(A){var d=this.map;d.on("render",function C(){d.loaded()&&(d.off("render",C),setTimeout(A,10))})},g.rejectOnError=function(A){var d=this.map;function C(){A(new Error(h.mapOnErrorMsg))}d.once("error",C),d.once("style.error",C),d.once("source.error",C),d.once("tile.error",C),d.once("layer.error",C)},g.createFramework=function(A){var d=this,C=d.div=document.createElement("div");C.id=d.uid,C.style.position="absolute",d.container.appendChild(C),d.xaxis={_id:"x",c2p:function(k){return d.project(k).x}},d.yaxis={_id:"y",c2p:function(k){return d.project(k).y}},d.updateFramework(A),d.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(d.mockAxis,A)},g.initFx=function(A,d){var C=this,k=C.gd,D=C.map;function O(){s.loneUnhover(d._hoverlayer)}function L(){var R=C.getView();k.emit("plotly_relayouting",C.getViewEditsWithDerived(R))}D.on("moveend",function(R){if(C.map){var z=k._fullLayout;if(R.originalEvent||C.wheeling){var q=z[C.id];M.call("_storeDirectGUIEdit",k.layout,z._preGUI,C.getViewEdits(q));var N=C.getView();q._input.center=q.center=N.center,q._input.zoom=q.zoom=N.zoom,q._input.bearing=q.bearing=N.bearing,q._input.pitch=q.pitch=N.pitch,k.emit("plotly_relayout",C.getViewEditsWithDerived(N))}R.originalEvent&&R.originalEvent.type==="mouseup"?C.dragging=!1:C.wheeling&&(C.wheeling=!1),z._rehover&&z._rehover()}}),D.on("wheel",function(){C.wheeling=!0}),D.on("mousemove",function(R){var z=C.div.getBoundingClientRect(),q=[R.originalEvent.offsetX,R.originalEvent.offsetY];R.target.getBoundingClientRect=function(){return z},C.xaxis.p2c=function(){return D.unproject(q).lng},C.yaxis.p2c=function(){return D.unproject(q).lat},k._fullLayout._rehover=function(){k._fullLayout._hoversubplot===C.id&&k._fullLayout[C.id]&&s.hover(k,R,C.id)},s.hover(k,R,C.id),k._fullLayout._hoversubplot=C.id}),D.on("dragstart",function(){C.dragging=!0,O()}),D.on("zoomstart",O),D.on("mouseout",function(){k._fullLayout._hoversubplot=null}),D.on("drag",L),D.on("zoom",L),D.on("dblclick",function(){var R=k._fullLayout[C.id];M.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,C.getViewEdits(R));var z=C.viewInitial;D.setCenter(_(z.center)),D.setZoom(z.zoom),D.setBearing(z.bearing),D.setPitch(z.pitch);var q=C.getView();R._input.center=R.center=q.center,R._input.zoom=R.zoom=q.zoom,R._input.bearing=R.bearing=q.bearing,R._input.pitch=R.pitch=q.pitch,k.emit("plotly_doubleclick",null),k.emit("plotly_relayout",C.getViewEditsWithDerived(q))}),C.clearOutline=function(){l(C.dragOptions),a(C.dragOptions.gd)},C.onClickInPanFn=function(R){return function(z){var q=k._fullLayout.clickmode;q.indexOf("select")>-1&&u(z.originalEvent,k,[C.xaxis],[C.yaxis],C.id,R),q.indexOf("event")>-1&&s.click(k,z.originalEvent)}}},g.updateFx=function(A){var d=this,C=d.map,k=d.gd;if(!d.isStatic){var D,O=A.dragmode;D=function(z,q){q.isRect?(z.range={})[d.id]=[R([q.xmin,q.ymin]),R([q.xmax,q.ymax])]:(z.lassoPoints={})[d.id]=q.map(R)};var L=d.dragOptions;d.dragOptions=y.extendDeep(L||{},{dragmode:A.dragmode,element:d.div,gd:k,plotinfo:{id:d.id,domain:A[d.id].domain,xaxis:d.xaxis,yaxis:d.yaxis,fillRangeItems:D},xaxes:[d.xaxis],yaxes:[d.yaxis],subplot:d.id}),C.off("click",d.onClickInPanHandler),r(O)||o(O)?(C.dragPan.disable(),C.on("zoomstart",d.clearOutline),d.dragOptions.prepFn=function(z,q,N){i(z,q,N,d.dragOptions,O)},f.init(d.dragOptions)):(C.dragPan.enable(),C.off("zoomstart",d.clearOutline),d.div.onmousedown=null,d.div.ontouchstart=null,d.div.removeEventListener("touchstart",d.div._ontouchstart),d.onClickInPanHandler=d.onClickInPanFn(d.dragOptions),C.on("click",d.onClickInPanHandler))}function R(z){var q=d.map.unproject(z);return[q.lng,q.lat]}},g.updateFramework=function(A){var d=A[this.id].domain,C=A._size,k=this.div.style;k.width=C.w*(d.x[1]-d.x[0])+"px",k.height=C.h*(d.y[1]-d.y[0])+"px",k.left=C.l+d.x[0]*C.w+"px",k.top=C.t+(1-d.y[1])*C.h+"px",this.xaxis._offset=C.l+d.x[0]*C.w,this.xaxis._length=C.w*(d.x[1]-d.x[0]),this.yaxis._offset=C.t+(1-d.y[1])*C.h,this.yaxis._length=C.h*(d.y[1]-d.y[0])},g.updateLayers=function(A){var d,C=A[this.id].layers,k=this.layerList;if(C.length!==k.length){for(d=0;d<k.length;d++)k[d].dispose();for(k=this.layerList=[],d=0;d<C.length;d++)k.push(c(this,d,C[d]))}else for(d=0;d<C.length;d++)k[d].update(C[d])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(A,d,C){for(var k in C)this.map[d](A,k,C[k])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(A,d){var C=this.map;if(typeof d=="string"){if(d==="")return void C.addLayer(A,d);for(var k=this.getMapLayers(),D=0;D<k.length;D++)if(d===k[D].id)return void C.addLayer(A,d);y.warn(["Trying to add layer with *below* value",d,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}C.addLayer(A)},g.project=function(A){return this.map.project(new p.LngLat(A[0],A[1]))},g.getView=function(){var A=this.map,d=A.getCenter(),C={lon:d.lng,lat:d.lat},k=A.getCanvas(),D=parseInt(k.style.width),O=parseInt(k.style.height);return{center:C,zoom:A.getZoom(),bearing:A.getBearing(),pitch:A.getPitch(),_derived:{coordinates:[A.unproject([0,0]).toArray(),A.unproject([D,0]).toArray(),A.unproject([D,O]).toArray(),A.unproject([0,O]).toArray()]}}},g.getViewEdits=function(A){for(var d=this.id,C=["center","zoom","bearing","pitch"],k={},D=0;D<C.length;D++){var O=C[D];k[d+"."+O]=A[O]}return k},g.getViewEditsWithDerived=function(A){var d=this.id,C=this.getViewEdits(A);return C[d+"._derived"]=A._derived,C},S.exports=w},66741:function(S){"use strict";S.exports=function(x){var e=x.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(S,x,e){"use strict";var p=e(33428),y=e(94336).m_,n=e(57624).SO,M=e(38248),b=e(83160),f=e(24040),s=e(73060),t=e(31780),o=e(3400),r=e(76308),i=e(39032).BADNUM,a=e(79811),l=e(1936).clearOutline,u=e(55308),h=e(85656),c=e(16672),w=e(84888)._M,g=o.relinkPrivateKeys,v=o._,m=S.exports={};o.extendFlat(m,f),m.attributes=e(45464),m.attributes.type.values=m.allTypes,m.fontAttrs=e(25376),m.layoutAttributes=e(64859);var T=m.transformsRegistry,_=e(62460);m.executeAPICommand=_.executeAPICommand,m.computeAPICommandBindings=_.computeAPICommandBindings,m.manageCommandObserver=_.manageCommandObserver,m.hasSimpleAPICommandBindings=_.hasSimpleAPICommandBindings,m.redrawText=function(j){return j=o.getGraphDiv(j),new Promise(function(H){setTimeout(function(){j._fullLayout&&(f.getComponentMethod("annotations","draw")(j),f.getComponentMethod("legend","draw")(j),f.getComponentMethod("colorbar","draw")(j),H(m.previousPromises(j)))},300)})},m.resize=function(j){var H;j=o.getGraphDiv(j);var Y=new Promise(function(ie,re){j&&!o.isHidden(j)||re(new Error("Resize must be passed a displayed plot div element.")),j._redrawTimer&&clearTimeout(j._redrawTimer),j._resolveResize&&(H=j._resolveResize),j._resolveResize=ie,j._redrawTimer=setTimeout(function(){if(!j.layout||j.layout.width&&j.layout.height||o.isHidden(j))ie(j);else{delete j.layout.width,delete j.layout.height;var ne=j.changed;j.autoplay=!0,f.call("relayout",j,{autosize:!0}).then(function(){j.changed=ne,j._resolveResize===ie&&(delete j._resolveResize,ie(j))})}},100)});return H&&H(Y),Y},m.previousPromises=function(j){if((j._promises||[]).length)return Promise.all(j._promises).then(function(){j._promises=[]})},m.addLinks=function(j){if(j._context.showLink||j._context.showSources){var H=j._fullLayout,Y=o.ensureSingle(H._paper,"text","js-plot-link-container",function(X){X.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var se=p.select(this);se.append("tspan").classed("js-link-to-tool",!0),se.append("tspan").classed("js-link-spacer",!0),se.append("tspan").classed("js-sourcelinks",!0)})}),ie=Y.node(),re={y:H._paper.attr("height")-9};document.body.contains(ie)&&ie.getComputedTextLength()>=H.width-20?(re["text-anchor"]="start",re.x=5):(re["text-anchor"]="end",re.x=H._paper.attr("width")-7),Y.attr(re);var ne=Y.select(".js-link-to-tool"),ee=Y.select(".js-link-spacer"),Q=Y.select(".js-sourcelinks");j._context.showSources&&j._context.showSources(j),j._context.showLink&&function(X,se){se.text("");var ce=se.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" \xBB");if(X._context.sendData)ce.on("click",function(){m.sendDataToCloud(X)});else{var le=window.location.pathname.split("/"),de=window.location.search;ce.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+le[2].split(".")[0]+"/"+le[1]+de})}}(j,ne),ee.text(ne.text()&&Q.text()?" - ":"")}},m.sendDataToCloud=function(j){var H=(window.PLOTLYENV||{}).BASE_URL||j._context.plotlyServerURL;if(H){j.emit("plotly_beforeexport");var Y=p.select(j).append("div").attr("id","hiddenform").style("display","none"),ie=Y.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return ie.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(j,!1,"keepdata"),ie.node().submit(),Y.remove(),j.emit("plotly_afterexport"),!1}};var A=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],d=["year","month","dayMonth","dayMonthYear"];function C(j,H){var Y=j._context.locale;Y||(Y="en-US");var ie=!1,re={};function ne(le){for(var de=!0,be=0;be<H.length;be++){var _e=H[be];re[_e]||(le[_e]?re[_e]=le[_e]:de=!1)}de&&(ie=!0)}for(var ee=0;ee<2;ee++){for(var Q=j._context.locales,X=0;X<2;X++){var se=(Q[Y]||{}).format;if(se&&(ne(se),ie))break;Q=f.localeRegistry}var ce=Y.split("-")[0];if(ie||ce===Y)break;Y=ce}return ie||ne(f.localeRegistry.en.format),re}function k(j,H){var Y={_fullLayout:H},ie=j._id.charAt(0)==="x",re=j._mainAxis._anchorAxis,ne="",ee="",Q="";if(re&&(Q=re._mainAxis._id,ne=ie?j._id+Q:Q+j._id),!ne||!H._plots[ne]){ne="";for(var X=j._counterAxes,se=0;se<X.length;se++){var ce=X[se],le=ie?j._id+ce:ce+j._id;ee||(ee=le);var de=a.getFromId(Y,ce);if(Q&&de.overlaying===Q){ne=le;break}}}return ne||ee}function D(j){var H=j.transforms;if(Array.isArray(H)&&H.length)for(var Y=0;Y<H.length;Y++){var ie=H[Y],re=ie._module||T[ie.type];if(re&&re.makesData)return!0}return!1}function O(j,H,Y,ie){for(var re=j.transforms,ne=[j],ee=0;ee<re.length;ee++){var Q=re[ee],X=T[Q.type];X&&X.transform&&(ne=X.transform(ne,{transform:Q,fullTrace:j,fullData:H,layout:Y,fullLayout:ie,transformIndex:ee}))}return ne}function L(j){return typeof j=="string"&&j.substr(j.length-2)==="px"&&parseFloat(j)}function R(j){var H=j.margin;if(!j._size){var Y=j._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};Y.w=Math.round(j.width)-Y.l-Y.r,Y.h=Math.round(j.height)-Y.t-Y.b}j._pushmargin||(j._pushmargin={}),j._pushmarginIds||(j._pushmarginIds={}),j._reservedMargin||(j._reservedMargin={})}m.supplyDefaults=function(j,H){var Y=H&&H.skipUpdateCalc,ie=j._fullLayout||{};if(ie._skipDefaults)delete ie._skipDefaults;else{var re,ne=j._fullLayout={},ee=j.layout||{},Q=j._fullData||[],X=j._fullData=[],se=j.data||[],ce=j.calcdata||[],le=j._context||{};j._transitionData||m.createTransitionData(j),ne._dfltTitle={plot:v(j,"Click to enter Plot title"),x:v(j,"Click to enter X axis title"),y:v(j,"Click to enter Y axis title"),colorbar:v(j,"Click to enter Colorscale title"),annotation:v(j,"new text")},ne._traceWord=v(j,"trace");var de=C(j,A);if(ne._mapboxAccessToken=le.mapboxAccessToken,ie._initialAutoSizeIsDone){var be=ie.width,_e=ie.height;m.supplyLayoutGlobalDefaults(ee,ne,de),ee.width||(ne.width=be),ee.height||(ne.height=_e),m.sanitizeMargins(ne)}else{m.supplyLayoutGlobalDefaults(ee,ne,de);var ve=!ee.width||!ee.height,me=ne.autosize,ye=le.autosizable;ve&&(me||ye)?m.plotAutoSize(j,ee,ne):ve&&m.sanitizeMargins(ne),!me&&ve&&(ee.width=ne.width,ee.height=ne.height)}ne._d3locale=function(Le,Ue){return Le.decimal=Ue.charAt(0),Le.thousands=Ue.charAt(1),{numberFormat:function(Ge){try{Ge=n(Le).format(o.adjustFormat(Ge))}catch{return o.warnBadFormat(Ge),o.noFormat}return Ge},timeFormat:y(Le).utcFormat}}(de,ne.separators),ne._extraFormat=C(j,d),ne._initialAutoSizeIsDone=!0,ne._dataLength=se.length,ne._modules=[],ne._visibleModules=[],ne._basePlotModules=[];var Se=ne._subplots=function(){var Le,Ue,Ge=f.collectableSubplotTypes,Ke={};if(!Ge){Ge=[];var at=f.subplotsRegistry;for(var st in at){var vt=at[st].attr;if(vt&&(Ge.push(st),Array.isArray(vt)))for(Ue=0;Ue<vt.length;Ue++)o.pushUnique(Ge,vt[Ue])}}for(Le=0;Le<Ge.length;Le++)Ke[Ge[Le]]=[];return Ke}(),Ie=ne._splomAxes={x:{},y:{}},xe=ne._splomSubplots={};ne._splomGridDflt={},ne._scatterStackOpts={},ne._firstScatter={},ne._alignmentOpts={},ne._colorAxes={},ne._requestRangeslider={},ne._traceUids=function(Le,Ue){var Ge,Ke,at=Ue.length,st=[];for(Ge=0;Ge<Le.length;Ge++){var vt=Le[Ge]._fullInput;vt!==Ke&&st.push(vt),Ke=vt}var xt=st.length,gt=new Array(at),nt={};function et(Rt,Et){gt[Et]=Rt,nt[Rt]=1}function At(Rt,Et){if(Rt&&typeof Rt=="string"&&!nt[Rt])return et(Rt,Et),!0}for(Ge=0;Ge<at;Ge++){var Pt=Ue[Ge].uid;typeof Pt=="number"&&(Pt=String(Pt)),At(Pt,Ge)||Ge<xt&&At(st[Ge].uid,Ge)||et(o.randstr(nt),Ge)}return gt}(Q,se),ne._globalTransforms=(j._context||{}).globalTransforms,m.supplyDataDefaults(se,X,ee,ne);var ue=Object.keys(Ie.x),ae=Object.keys(Ie.y);if(ue.length>1&&ae.length>1){for(f.getComponentMethod("grid","sizeDefaults")(ee,ne),re=0;re<ue.length;re++)o.pushUnique(Se.xaxis,ue[re]);for(re=0;re<ae.length;re++)o.pushUnique(Se.yaxis,ae[re]);for(var pe in xe)o.pushUnique(Se.cartesian,pe)}if(ne._has=m._hasPlotType.bind(ne),Q.length===X.length)for(re=0;re<X.length;re++)g(X[re],Q[re]);m.supplyLayoutModuleDefaults(ee,ne,X,j._transitionData);var De=ne._visibleModules,Te=[];for(re=0;re<De.length;re++){var Ae=De[re].crossTraceDefaults;Ae&&o.pushUnique(Te,Ae)}for(re=0;re<Te.length;re++)Te[re](X,ne);ne._hasOnlyLargeSploms=ne._basePlotModules.length===1&&ne._basePlotModules[0].name==="splom"&&ue.length>15&&ae.length>15&&ne.shapes.length===0&&ne.images.length===0,m.linkSubplots(X,ne,Q,ie),m.cleanPlot(X,ne,Q,ie);var Ce=!(!ie._has||!ie._has("gl2d")),Re=!(!ne._has||!ne._has("gl2d")),Ne=!(!ie._has||!ie._has("cartesian"))||Ce,ge=!(!ne._has||!ne._has("cartesian"))||Re;Ne&&!ge?ie._bgLayer.remove():ge&&!Ne&&(ne._shouldCreateBgLayer=!0),ie._zoomlayer&&!j._dragging&&l({_fullLayout:ie}),function(Le,Ue){var Ge,Ke=[];Ue.meta&&(Ge=Ue._meta={meta:Ue.meta,layout:{meta:Ue.meta}});for(var at=0;at<Le.length;at++){var st=Le[at];st.meta?Ke[st.index]=st._meta={meta:st.meta}:Ue.meta&&(st._meta={meta:Ue.meta}),Ue.meta&&(st._meta.layout={meta:Ue.meta})}Ke.length&&(Ge||(Ge=Ue._meta={}),Ge.data=Ke)}(X,ne),g(ne,ie),f.getComponentMethod("colorscale","crossTraceDefaults")(X,ne),ne._preGUI||(ne._preGUI={}),ne._tracePreGUI||(ne._tracePreGUI={});var Me,Ee=ne._tracePreGUI,Fe={};for(Me in Ee)Fe[Me]="old";for(re=0;re<X.length;re++)Fe[Me=X[re]._fullInput.uid]||(Ee[Me]={}),Fe[Me]="new";for(Me in Fe)Fe[Me]==="old"&&delete Ee[Me];R(ne),f.getComponentMethod("rangeslider","makeData")(ne),Y||ce.length!==X.length||m.supplyDefaultsUpdateCalc(ce,X)}},m.supplyDefaultsUpdateCalc=function(j,H){for(var Y=0;Y<H.length;Y++){var ie=H[Y],re=(j[Y]||[])[0];if(re&&re.trace){var ne=re.trace;if(ne._hasCalcTransform){var ee,Q,X,se=ne._arrayAttrs;for(ee=0;ee<se.length;ee++)Q=se[ee],X=o.nestedProperty(ne,Q).get().slice(),o.nestedProperty(ie,Q).set(X)}re.trace=ie}}},m.createTransitionData=function(j){j._transitionData||(j._transitionData={}),j._transitionData._frames||(j._transitionData._frames=[]),j._transitionData._frameHash||(j._transitionData._frameHash={}),j._transitionData._counter||(j._transitionData._counter=0),j._transitionData._interruptCallbacks||(j._transitionData._interruptCallbacks=[])},m._hasPlotType=function(j){var H,Y=this._basePlotModules||[];for(H=0;H<Y.length;H++)if(Y[H].name===j)return!0;var ie=this._modules||[];for(H=0;H<ie.length;H++){var re=ie[H].name;if(re===j)return!0;var ne=f.modules[re];if(ne&&ne.categories[j])return!0}return!1},m.cleanPlot=function(j,H,Y,ie){var re,ne,ee=ie._basePlotModules||[];for(re=0;re<ee.length;re++){var Q=ee[re];Q.clean&&Q.clean(j,H,Y,ie)}var X=ie._has&&ie._has("gl"),se=H._has&&H._has("gl");X&&!se&&ie._glcontainer!==void 0&&(ie._glcontainer.selectAll(".gl-canvas").remove(),ie._glcontainer.selectAll(".no-webgl").remove(),ie._glcanvas=null);var ce=!!ie._infolayer;e:for(re=0;re<Y.length;re++){var le=Y[re].uid;for(ne=0;ne<j.length;ne++)if(le===j[ne].uid)continue e;ce&&ie._infolayer.select(".cb"+le).remove()}},m.linkSubplots=function(j,H,Y,ie){var re,ne,ee=ie._plots||{},Q=H._plots={},X=H._subplots,se={_fullData:j,_fullLayout:H},ce=X.cartesian.concat(X.gl2d||[]);for(re=0;re<ce.length;re++){var le,de=ce[re],be=ee[de],_e=a.getFromId(se,de,"x"),ve=a.getFromId(se,de,"y");for(be?le=Q[de]=be:(le=Q[de]={}).id=de,_e._counterAxes.push(ve._id),ve._counterAxes.push(_e._id),_e._subplotsWith.push(de),ve._subplotsWith.push(de),le.xaxis=_e,le.yaxis=ve,le._hasClipOnAxisFalse=!1,ne=0;ne<j.length;ne++){var me=j[ne];if(me.xaxis===le.xaxis._id&&me.yaxis===le.yaxis._id&&me.cliponaxis===!1){le._hasClipOnAxisFalse=!0;break}}}var ye,Se=a.list(se,null,!0);for(re=0;re<Se.length;re++){var Ie=null;(ye=Se[re]).overlaying&&(Ie=a.getFromId(se,ye.overlaying))&&Ie.overlaying&&(ye.overlaying=!1,Ie=null),ye._mainAxis=Ie||ye,Ie&&(ye.domain=Ie.domain.slice()),ye._anchorAxis=ye.anchor==="free"?null:a.getFromId(se,ye.anchor)}for(re=0;re<Se.length;re++)if((ye=Se[re])._counterAxes.sort(a.idSort),ye._subplotsWith.sort(o.subplotSort),ye._mainSubplot=k(ye,H),ye._counterAxes.length&&(ye.spikemode&&ye.spikemode.indexOf("across")!==-1||ye.automargin&&ye.mirror&&ye.anchor!=="free"||f.getComponentMethod("rangeslider","isVisible")(ye))){var xe=1,ue=0;for(ne=0;ne<ye._counterAxes.length;ne++){var ae=a.getFromId(se,ye._counterAxes[ne]);xe=Math.min(xe,ae.domain[0]),ue=Math.max(ue,ae.domain[1])}xe<ue&&(ye._counterDomainMin=xe,ye._counterDomainMax=ue)}},m.clearExpandedTraceDefaultColors=function(j){var H,Y,ie;for(Y=[],(H=j._module._colorAttrs)||(j._module._colorAttrs=H=[],s.crawl(j._module.attributes,function(re,ne,ee,Q){Y[Q]=ne,Y.length=Q+1,re.valType==="color"&&re.dflt===void 0&&H.push(Y.join("."))})),ie=0;ie<H.length;ie++)o.nestedProperty(j,"_input."+H[ie]).get()||o.nestedProperty(j,H[ie]).set(null)},m.supplyDataDefaults=function(j,H,Y,ie){var re,ne,ee,Q=ie._modules,X=ie._visibleModules,se=ie._basePlotModules,ce=0,le=0;function de(pe){H.push(pe);var De=pe._module;De&&(o.pushUnique(Q,De),pe.visible===!0&&o.pushUnique(X,De),o.pushUnique(se,pe._module.basePlotModule),ce++,pe._input.visible!==!1&&le++)}ie._transformModules=[];var be={},_e=[],ve=(Y.template||{}).data||{},me=t.traceTemplater(ve);for(re=0;re<j.length;re++){if(ee=j[re],(ne=me.newTrace(ee)).uid=ie._traceUids[re],m.supplyTraceDefaults(ee,ne,le,ie,re),ne.index=re,ne._input=ee,ne._expandedIndex=ce,ne.transforms&&ne.transforms.length)for(var ye=ee.visible!==!1&&ne.visible===!1,Se=O(ne,H,Y,ie),Ie=0;Ie<Se.length;Ie++){var xe=Se[Ie],ue={_template:ne._template,type:ne.type,uid:ne.uid+Ie};ye&&xe.visible===!1&&delete xe.visible,m.supplyTraceDefaults(xe,ue,ce,ie,re),g(ue,xe),ue.index=re,ue._input=ee,ue._fullInput=ne,ue._expandedIndex=ce,ue._expandedInput=xe,de(ue)}else ne._fullInput=ne,ne._expandedInput=ne,de(ne);f.traceIs(ne,"carpetAxis")&&(be[ne.carpet]=ne),f.traceIs(ne,"carpetDependent")&&_e.push(re)}for(re=0;re<_e.length;re++)if((ne=H[_e[re]]).visible){var ae=be[ne.carpet];ne._carpet=ae,ae&&ae.visible?(ne.xaxis=ae.xaxis,ne.yaxis=ae.yaxis):ne.visible=!1}},m.supplyAnimationDefaults=function(j){var H;j=j||{};var Y={};function ie(re,ne){return o.coerce(j||{},Y,h,re,ne)}if(ie("mode"),ie("direction"),ie("fromcurrent"),Array.isArray(j.frame))for(Y.frame=[],H=0;H<j.frame.length;H++)Y.frame[H]=m.supplyAnimationFrameDefaults(j.frame[H]||{});else Y.frame=m.supplyAnimationFrameDefaults(j.frame||{});if(Array.isArray(j.transition))for(Y.transition=[],H=0;H<j.transition.length;H++)Y.transition[H]=m.supplyAnimationTransitionDefaults(j.transition[H]||{});else Y.transition=m.supplyAnimationTransitionDefaults(j.transition||{});return Y},m.supplyAnimationFrameDefaults=function(j){var H={};function Y(ie,re){return o.coerce(j||{},H,h.frame,ie,re)}return Y("duration"),Y("redraw"),H},m.supplyAnimationTransitionDefaults=function(j){var H={};function Y(ie,re){return o.coerce(j||{},H,h.transition,ie,re)}return Y("duration"),Y("easing"),H},m.supplyFrameDefaults=function(j){var H={};function Y(ie,re){return o.coerce(j,H,c,ie,re)}return Y("group"),Y("name"),Y("traces"),Y("baseframe"),Y("data"),Y("layout"),H},m.supplyTraceDefaults=function(j,H,Y,ie,re){var ne,ee=ie.colorway||r.defaults,Q=ee[Y%ee.length];function X(Ie,xe){return o.coerce(j,H,m.attributes,Ie,xe)}var se=X("visible");X("type"),X("name",ie._traceWord+" "+re),X("uirevision",ie.uirevision);var ce=m.getModule(H);if(H._module=ce,ce){var le=ce.basePlotModule,de=le.attr,be=le.attributes;if(de&&be){var _e=ie._subplots,ve="";if(se||le.name!=="gl2d"){if(Array.isArray(de))for(ne=0;ne<de.length;ne++){var me=de[ne],ye=o.coerce(j,H,be,me);_e[me]&&o.pushUnique(_e[me],ye),ve+=ye}else ve=o.coerce(j,H,be,de);_e[le.name]&&o.pushUnique(_e[le.name],ve)}}}if(se){if(X("customdata"),X("ids"),X("meta"),f.traceIs(H,"showLegend")?(o.coerce(j,H,ce.attributes.showlegend?ce.attributes:m.attributes,"showlegend"),X("legend"),X("legendwidth"),X("legendgroup"),X("legendgrouptitle.text"),X("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,ce&&ce.supplyDefaults(j,H,Q,ie),f.traceIs(H,"noOpacity")||X("opacity"),f.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),f.traceIs(H,"noHover")||(H.hovertemplate||o.coerceHoverinfo(j,H,ie),H.type!=="parcats"&&f.getComponentMethod("fx","supplyDefaults")(j,H,Q,ie)),ce&&ce.selectPoints){var Se=X("selectedpoints");o.isTypedArray(Se)&&(H.selectedpoints=Array.from(Se))}m.supplyTransformDefaults(j,H,ie)}return H},m.hasMakesDataTransform=D,m.supplyTransformDefaults=function(j,H,Y){if(H._length||D(j)){var ie=Y._globalTransforms||[],re=Y._transformModules||[];if(Array.isArray(j.transforms)||ie.length!==0)for(var ne=j.transforms||[],ee=ie.concat(ne),Q=H.transforms=[],X=0;X<ee.length;X++){var se,ce=ee[X],le=ce.type,de=T[le],be=!(ce._module&&ce._module===de),_e=de&&typeof de.transform=="function";de||o.warn("Unrecognized transform type "+le+"."),de&&de.supplyDefaults&&(be||_e)?((se=de.supplyDefaults(ce,H,Y,j)).type=le,se._module=de,o.pushUnique(re,de)):se=o.extendFlat({},ce),Q.push(se)}}},m.supplyLayoutGlobalDefaults=function(j,H,Y){function ie(ce,le){return o.coerce(j,H,m.layoutAttributes,ce,le)}var re=j.template;o.isPlainObject(re)&&(H.template=re,H._template=re.layout,H._dataTemplate=re.data),ie("autotypenumbers");var ne=o.coerceFont(ie,"font"),ee=ne.size;o.coerceFont(ie,"title.font",ne,{overrideDflt:{size:Math.round(1.4*ee)}}),ie("title.text",H._dfltTitle.plot),ie("title.xref");var Q=ie("title.yref");ie("title.pad.t"),ie("title.pad.r"),ie("title.pad.b"),ie("title.pad.l");var X=ie("title.automargin");ie("title.x"),ie("title.xanchor"),ie("title.y"),ie("title.yanchor"),X&&(Q==="paper"&&(H.title.y!==0&&(H.title.y=1),H.title.yanchor==="auto"&&(H.title.yanchor=H.title.y===0?"top":"bottom")),Q==="container"&&(H.title.y==="auto"&&(H.title.y=1),H.title.yanchor==="auto"&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),ie("uniformtext.mode")&&ie("uniformtext.minsize"),ie("autosize",!(j.width&&j.height)),ie("width"),ie("height"),ie("minreducedwidth"),ie("minreducedheight"),ie("margin.l"),ie("margin.r"),ie("margin.t"),ie("margin.b"),ie("margin.pad"),ie("margin.autoexpand"),j.width&&j.height&&m.sanitizeMargins(H),f.getComponentMethod("grid","sizeDefaults")(j,H),ie("paper_bgcolor"),ie("separators",Y.decimal+Y.thousands),ie("hidesources"),ie("colorway"),ie("datarevision");var se=ie("uirevision");ie("editrevision",se),ie("selectionrevision",se),f.getComponentMethod("modebar","supplyLayoutDefaults")(j,H),f.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(j,H,ie),f.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(j,H,ie),ie("meta"),o.isPlainObject(j.transition)&&(ie("transition.duration"),ie("transition.easing"),ie("transition.ordering")),f.getComponentMethod("calendars","handleDefaults")(j,H,"calendar"),f.getComponentMethod("fx","supplyLayoutGlobalDefaults")(j,H,ie),o.coerce(j,H,u,"scattermode")},m.plotAutoSize=function(j,H,Y){var ie,re,ne=j._context||{},ee=ne.frameMargins,Q=o.isPlotDiv(j);if(Q&&j.emit("plotly_autosize"),ne.fillFrame)ie=window.innerWidth,re=window.innerHeight,document.body.style.overflow="hidden";else{var X=Q?window.getComputedStyle(j):{};if(ie=L(X.width)||L(X.maxWidth)||Y.width,re=L(X.height)||L(X.maxHeight)||Y.height,M(ee)&&ee>0){var se=1-2*ee;ie=Math.round(se*ie),re=Math.round(se*re)}}var ce=m.layoutAttributes.width.min,le=m.layoutAttributes.height.min;ie<ce&&(ie=ce),re<le&&(re=le);var de=!H.width&&Math.abs(Y.width-ie)>1,be=!H.height&&Math.abs(Y.height-re)>1;(be||de)&&(de&&(Y.width=ie),be&&(Y.height=re)),j._initialAutoSize||(j._initialAutoSize={width:ie,height:re}),m.sanitizeMargins(Y)},m.supplyLayoutModuleDefaults=function(j,H,Y,ie){var re,ne,ee,Q=f.componentsRegistry,X=H._basePlotModules,se=f.subplotsRegistry.cartesian;for(re in Q)(ee=Q[re]).includeBasePlot&&ee.includeBasePlot(j,H);for(var ce in X.length||X.push(se),H._has("cartesian")&&(f.getComponentMethod("grid","contentDefaults")(j,H),se.finalizeSubplots(j,H)),H._subplots)H._subplots[ce].sort(o.subplotSort);for(ne=0;ne<X.length;ne++)(ee=X[ne]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,H,Y);var le=H._modules;for(ne=0;ne<le.length;ne++)(ee=le[ne]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,H,Y);var de=H._transformModules;for(ne=0;ne<de.length;ne++)(ee=de[ne]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,H,Y,ie);for(re in Q)(ee=Q[re]).supplyLayoutDefaults&&ee.supplyLayoutDefaults(j,H,Y)},m.purge=function(j){var H=j._fullLayout||{};H._glcontainer!==void 0&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),j._transitionData&&(j._transitionData._interruptCallbacks&&(j._transitionData._interruptCallbacks.length=0),j._transitionData._animationRaf&&window.cancelAnimationFrame(j._transitionData._animationRaf)),o.clearThrottle(),o.clearResponsive(j),delete j.data,delete j.layout,delete j._fullData,delete j._fullLayout,delete j.calcdata,delete j.empty,delete j.fid,delete j.undoqueue,delete j.undonum,delete j.autoplay,delete j.changed,delete j._promises,delete j._redrawTimer,delete j._hmlumcount,delete j._hmpixcount,delete j._transitionData,delete j._transitioning,delete j._initialAutoSize,delete j._transitioningWithDuration,delete j._dragging,delete j._dragged,delete j._dragdata,delete j._hoverdata,delete j._snapshotInProgress,delete j._editing,delete j._mouseDownTime,delete j._legendMouseDownTime,j.removeAllListeners&&j.removeAllListeners()},m.style=function(j){var H,Y=j._fullLayout._visibleModules,ie=[];for(H=0;H<Y.length;H++){var re=Y[H];re.style&&o.pushUnique(ie,re.style)}for(H=0;H<ie.length;H++)ie[H](j)},m.sanitizeMargins=function(j){if(j&&j.margin){var H,Y=j.width,ie=j.height,re=j.margin,ne=Y-(re.l+re.r),ee=ie-(re.t+re.b);ne<0&&(H=(Y-1)/(re.l+re.r),re.l=Math.floor(H*re.l),re.r=Math.floor(H*re.r)),ee<0&&(H=(ie-1)/(re.t+re.b),re.t=Math.floor(H*re.t),re.b=Math.floor(H*re.b))}},m.clearAutoMarginIds=function(j){j._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(j,H){j._fullLayout._pushmarginIds[H]=1},m.autoMargin=function(j,H,Y){var ie=j._fullLayout,re=ie.width,ne=ie.height,ee=ie.margin,Q=ie.minreducedwidth,X=ie.minreducedheight,se=o.constrain(re-ee.l-ee.r,2,Q),ce=o.constrain(ne-ee.t-ee.b,2,X),le=Math.max(0,re-se),de=Math.max(0,ne-ce),be=ie._pushmargin,_e=ie._pushmarginIds;if(ee.autoexpand!==!1){if(Y){var ve=Y.pad;if(ve===void 0&&(ve=Math.min(12,ee.l,ee.r,ee.t,ee.b)),le){var me=(Y.l+Y.r)/le;me>1&&(Y.l/=me,Y.r/=me)}if(de){var ye=(Y.t+Y.b)/de;ye>1&&(Y.t/=ye,Y.b/=ye)}var Se=Y.xl!==void 0?Y.xl:Y.x,Ie=Y.xr!==void 0?Y.xr:Y.x,xe=Y.yt!==void 0?Y.yt:Y.y,ue=Y.yb!==void 0?Y.yb:Y.y;be[H]={l:{val:Se,size:Y.l+ve},r:{val:Ie,size:Y.r+ve},b:{val:ue,size:Y.b+ve},t:{val:xe,size:Y.t+ve}},_e[H]=1}else delete be[H],delete _e[H];if(!ie._replotting)return m.doAutoMargin(j)}},m.doAutoMargin=function(j){var H=j._fullLayout,Y=H.width,ie=H.height;H._size||(H._size={}),R(H);var re=H._size,ne=H.margin,ee={t:0,b:0,l:0,r:0},Q=o.extendFlat({},re),X=ne.l,se=ne.r,ce=ne.t,le=ne.b,de=H._pushmargin,be=H._pushmarginIds,_e=H.minreducedwidth,ve=H.minreducedheight;if(ne.autoexpand!==!1){for(var me in de)be[me]||delete de[me];var ye=j._fullLayout._reservedMargin;for(var Se in ye)for(var Ie in ye[Se]){var xe=ye[Se][Ie];ee[Ie]=Math.max(ee[Ie],xe)}for(var ue in de.base={l:{val:0,size:X},r:{val:1,size:se},t:{val:1,size:ce},b:{val:0,size:le}},ee){var ae=0;for(var pe in de)pe!=="base"&&M(de[pe][ue].size)&&(ae=de[pe][ue].size>ae?de[pe][ue].size:ae);var De=Math.max(0,ne[ue]-ae);ee[ue]=Math.max(0,ee[ue]-De)}for(var Te in de){var Ae=de[Te].l||{},Ce=de[Te].b||{},Re=Ae.val,Ne=Ae.size,ge=Ce.val,Me=Ce.size,Ee=Y-ee.r-ee.l,Fe=ie-ee.t-ee.b;for(var Le in de){if(M(Ne)&&de[Le].r){var Ue=de[Le].r.val,Ge=de[Le].r.size;if(Ue>Re){var Ke=(Ne*Ue+(Ge-Ee)*Re)/(Ue-Re),at=(Ge*(1-Re)+(Ne-Ee)*(1-Ue))/(Ue-Re);Ke+at>X+se&&(X=Ke,se=at)}}if(M(Me)&&de[Le].t){var st=de[Le].t.val,vt=de[Le].t.size;if(st>ge){var xt=(Me*st+(vt-Fe)*ge)/(st-ge),gt=(vt*(1-ge)+(Me-Fe)*(1-st))/(st-ge);xt+gt>le+ce&&(le=xt,ce=gt)}}}}}var nt=o.constrain(Y-ne.l-ne.r,2,_e),et=o.constrain(ie-ne.t-ne.b,2,ve),At=Math.max(0,Y-nt),Pt=Math.max(0,ie-et);if(At){var Rt=(X+se)/At;Rt>1&&(X/=Rt,se/=Rt)}if(Pt){var Et=(le+ce)/Pt;Et>1&&(le/=Et,ce/=Et)}if(re.l=Math.round(X)+ee.l,re.r=Math.round(se)+ee.r,re.t=Math.round(ce)+ee.t,re.b=Math.round(le)+ee.b,re.p=Math.round(ne.pad),re.w=Math.round(Y)-re.l-re.r,re.h=Math.round(ie)-re.t-re.b,!H._replotting&&(m.didMarginChange(Q,re)||function(Xe){if("_redrawFromAutoMarginCount"in Xe._fullLayout)return!1;var Ve=a.list(Xe,"",!0);for(var Ze in Ve)if(Ve[Ze].autoshift||Ve[Ze].shift)return!0;return!1}(j))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var Ye=3*(1+Object.keys(be).length);if(H._redrawFromAutoMarginCount<Ye)return f.call("_doPlot",j);H._size=Q,o.warn("Too many auto-margin redraws.")}(function(Xe){var Ve=a.list(Xe,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ze){for(var lt=0;lt<Ve.length;lt++){var it=Ve[lt][Ze];it&&it()}})})(j)};var z=["l","r","t","b","p","w","h"];function q(j,H,Y){var ie=!1,re=[m.previousPromises,function(){if(j._transitionData)return j._transitioning=!1,function(ee){var Q=Promise.resolve();if(!ee)return Q;for(;ee.length;)Q=Q.then(ee.shift());return Q}(j._transitionData._interruptCallbacks)},Y.prepareFn,m.rehover,m.reselect,function(){return j.emit("plotly_transitioning",[]),new Promise(function(ee){j._transitioning=!0,H.duration>0&&(j._transitioningWithDuration=!0),j._transitionData._interruptCallbacks.push(function(){ie=!0}),Y.redraw&&j._transitionData._interruptCallbacks.push(function(){return f.call("redraw",j)}),j._transitionData._interruptCallbacks.push(function(){j.emit("plotly_transitioninterrupted",[])});var Q=0,X=0;function se(){return Q++,function(){var ce;X++,ie||X!==Q||(ce=ee,j._transitionData&&(function(le){if(le)for(;le.length;)le.shift()}(j._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Y.redraw)return f.call("redraw",j)}).then(function(){j._transitioning=!1,j._transitioningWithDuration=!1,j.emit("plotly_transitioned",[])}).then(ce)))}}Y.runFn(se),setTimeout(se())})}],ne=o.syncOrAsync(re,j);return ne&&ne.then||(ne=Promise.resolve()),ne.then(function(){return j})}m.didMarginChange=function(j,H){for(var Y=0;Y<z.length;Y++){var ie=z[Y],re=j[ie],ne=H[ie];if(!M(re)||Math.abs(ne-re)>1)return!0}return!1},m.graphJson=function(j,H,Y,ie,re,ne){(re&&H&&!j._fullData||re&&!H&&!j._fullLayout)&&m.supplyDefaults(j);var ee=re?j._fullData:j.data,Q=re?j._fullLayout:j.layout,X=(j._transitionData||{})._frames;function se(de,be){if(typeof de=="function")return be?"_function_":null;if(o.isPlainObject(de)){var _e,ve={};return Object.keys(de).sort().forEach(function(Ie){if(["_","["].indexOf(Ie.charAt(0))===-1)if(typeof de[Ie]!="function"){if(Y==="keepdata"){if(Ie.substr(Ie.length-3)==="src")return}else if(Y==="keepstream"){if(typeof(_e=de[Ie+"src"])=="string"&&_e.indexOf(":")>0&&!o.isPlainObject(de.stream))return}else if(Y!=="keepall"&&typeof(_e=de[Ie+"src"])=="string"&&_e.indexOf(":")>0)return;ve[Ie]=se(de[Ie],be)}else be&&(ve[Ie]="_function")}),ve}var me=Array.isArray(de),ye=o.isTypedArray(de);if((me||ye)&&de.dtype&&de.shape){var Se=de.bdata;return se({dtype:de.dtype,shape:de.shape,bdata:o.isArrayBuffer(Se)?b.encode(Se):Se},be)}return me?de.map(function(Ie){return se(Ie,be)}):ye?o.simpleMap(de,o.identity):o.isJSDate(de)?o.ms2DateTimeLocal(+de):de}var ce={data:(ee||[]).map(function(de){var be=se(de);return H&&delete be.fit,be})};if(!H&&(ce.layout=se(Q),re)){var le=Q._size;ce.layout.computed={margin:{b:le.b,l:le.l,r:le.r,t:le.t}}}return X&&(ce.frames=se(X)),ne&&(ce.config=se(j._context,!0)),ie==="object"?ce:JSON.stringify(ce)},m.modifyFrames=function(j,H){var Y,ie,re,ne=j._transitionData._frames,ee=j._transitionData._frameHash;for(Y=0;Y<H.length;Y++)switch((ie=H[Y]).type){case"replace":re=ie.value;var Q=(ne[ie.index]||{}).name,X=re.name;ne[ie.index]=ee[X]=re,X!==Q&&(delete ee[Q],ee[X]=re);break;case"insert":ee[(re=ie.value).name]=re,ne.splice(ie.index,0,re);break;case"delete":delete ee[(re=ne[ie.index]).name],ne.splice(ie.index,1)}return Promise.resolve()},m.computeFrame=function(j,H){var Y,ie,re,ne,ee=j._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var Q=ee[H.toString()];if(!Q)return!1;for(var X=[Q],se=[Q.name];Q.baseframe&&(Q=ee[Q.baseframe.toString()])&&se.indexOf(Q.name)===-1;)X.push(Q),se.push(Q.name);for(var ce={};Q=X.pop();)if(Q.layout&&(ce.layout=m.extendLayout(ce.layout,Q.layout)),Q.data){if(ce.data||(ce.data=[]),!(ie=Q.traces))for(ie=[],Y=0;Y<Q.data.length;Y++)ie[Y]=Y;for(ce.traces||(ce.traces=[]),Y=0;Y<Q.data.length;Y++)(re=ie[Y])!=null&&((ne=ce.traces.indexOf(re))===-1&&(ne=ce.data.length,ce.traces[ne]=re),ce.data[ne]=m.extendTrace(ce.data[ne],Q.data[Y]))}return ce},m.recomputeFrameHash=function(j){for(var H=j._transitionData._frameHash={},Y=j._transitionData._frames,ie=0;ie<Y.length;ie++){var re=Y[ie];re&&re.name&&(H[re.name]=re)}},m.extendObjectWithContainers=function(j,H,Y){var ie,re,ne,ee,Q,X,se,ce=o.extendDeepNoArrays({},H||{}),le=o.expandObjectPaths(ce),de={};if(Y&&Y.length)for(ne=0;ne<Y.length;ne++)(re=(ie=o.nestedProperty(le,Y[ne])).get())===void 0?o.nestedProperty(de,Y[ne]).set(null):(ie.set(null),o.nestedProperty(de,Y[ne]).set(re));if(j=o.extendDeepNoArrays(j||{},le),Y&&Y.length){for(ne=0;ne<Y.length;ne++)if(X=o.nestedProperty(de,Y[ne]).get()){for(se=(Q=o.nestedProperty(j,Y[ne])).get(),Array.isArray(se)||(se=[],Q.set(se)),ee=0;ee<X.length;ee++){var be=X[ee];se[ee]=be===null?null:m.extendObjectWithContainers(se[ee],be)}Q.set(se)}}return j},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=f.layoutArrayContainers,m.extendTrace=function(j,H){return m.extendObjectWithContainers(j,H,m.dataArrayContainers)},m.extendLayout=function(j,H){return m.extendObjectWithContainers(j,H,m.layoutArrayContainers)},m.transition=function(j,H,Y,ie,re,ne){var ee={redraw:re.redraw},Q={},X=[];return ee.prepareFn=function(){for(var se=Array.isArray(H)?H.length:0,ce=ie.slice(0,se),le=0;le<ce.length;le++){var de=ce[le],be=j._fullData[de]._module;if(be){if(be.animatable){var _e=be.basePlotModule.name;Q[_e]||(Q[_e]=[]),Q[_e].push(de)}j.data[ce[le]]=m.extendTrace(j.data[ce[le]],H[le])}}var ve=o.expandObjectPaths(o.extendDeepNoArrays({},Y)),me=/^[xy]axis[0-9]*$/;for(var ye in ve)me.test(ye)&&delete ve[ye].range;m.extendLayout(j.layout,ve),delete j.calcdata,m.supplyDefaults(j),m.doCalcdata(j);var Se=o.expandObjectPaths(Y);if(Se){var Ie=j._fullLayout._plots;for(var xe in Ie){var ue=Ie[xe],ae=ue.xaxis,pe=ue.yaxis,De=ae.range.slice(),Te=pe.range.slice(),Ae=null,Ce=null,Re=null,Ne=null;Array.isArray(Se[ae._name+".range"])?Ae=Se[ae._name+".range"].slice():Array.isArray((Se[ae._name]||{}).range)&&(Ae=Se[ae._name].range.slice()),Array.isArray(Se[pe._name+".range"])?Ce=Se[pe._name+".range"].slice():Array.isArray((Se[pe._name]||{}).range)&&(Ce=Se[pe._name].range.slice()),De&&Ae&&(ae.r2l(De[0])!==ae.r2l(Ae[0])||ae.r2l(De[1])!==ae.r2l(Ae[1]))&&(Re={xr0:De,xr1:Ae}),Te&&Ce&&(pe.r2l(Te[0])!==pe.r2l(Ce[0])||pe.r2l(Te[1])!==pe.r2l(Ce[1]))&&(Ne={yr0:Te,yr1:Ce}),(Re||Ne)&&X.push(o.extendFlat({plotinfo:ue},Re,Ne))}}return Promise.resolve()},ee.runFn=function(se){var ce,le,de=j._fullLayout._basePlotModules,be=X.length;if(Y)for(le=0;le<de.length;le++)de[le].transitionAxes&&de[le].transitionAxes(j,X,ne,se);for(var _e in be?((ce=o.extendFlat({},ne)).duration=0,delete Q.cartesian):ce=ne,Q){var ve=Q[_e];j._fullData[ve[0]]._module.basePlotModule.plot(j,ve,ce,se)}},q(j,ne,ee)},m.transitionFromReact=function(j,H,Y,ie){var re=j._fullLayout,ne=re.transition,ee={},Q=[];return ee.prepareFn=function(){var X=re._plots;for(var se in ee.redraw=!1,H.anim==="some"&&(ee.redraw=!0),Y.anim==="some"&&(ee.redraw=!0),X){var ce=X[se],le=ce.xaxis,de=ce.yaxis,be=ie[le._name].range.slice(),_e=ie[de._name].range.slice(),ve=le.range.slice(),me=de.range.slice();le.setScale(),de.setScale();var ye=null,Se=null;le.r2l(be[0])===le.r2l(ve[0])&&le.r2l(be[1])===le.r2l(ve[1])||(ye={xr0:be,xr1:ve}),de.r2l(_e[0])===de.r2l(me[0])&&de.r2l(_e[1])===de.r2l(me[1])||(Se={yr0:_e,yr1:me}),(ye||Se)&&Q.push(o.extendFlat({plotinfo:ce},ye,Se))}return Promise.resolve()},ee.runFn=function(X){for(var se,ce,le,de=j._fullData,be=j._fullLayout._basePlotModules,_e=[],ve=0;ve<de.length;ve++)_e.push(ve);function me(){if(j._fullLayout)for(var Se=0;Se<be.length;Se++)be[Se].transitionAxes&&be[Se].transitionAxes(j,Q,se,X)}function ye(){if(j._fullLayout)for(var Se=0;Se<be.length;Se++)be[Se].plot(j,le,ce,X)}Q.length&&H.anim?ne.ordering==="traces first"?(se=o.extendFlat({},ne,{duration:0}),le=_e,ce=ne,setTimeout(me,ne.duration),ye()):(se=ne,le=null,ce=o.extendFlat({},ne,{duration:0}),setTimeout(ye,se.duration),me()):Q.length?(se=ne,me()):H.anim&&(le=_e,ce=ne,ye())},q(j,ne,ee)},m.doCalcdata=function(j,H){var Y,ie,re,ne,ee=a.list(j),Q=j._fullData,X=j._fullLayout,se=new Array(Q.length),ce=(j.calcdata||[]).slice();for(j.calcdata=se,X._numBoxes=0,X._numViolins=0,X._violinScaleGroupStats={},j._hmpixcount=0,j._hmlumcount=0,X._piecolormap={},X._sunburstcolormap={},X._treemapcolormap={},X._iciclecolormap={},X._funnelareacolormap={},re=0;re<Q.length;re++)Array.isArray(H)&&H.indexOf(re)===-1&&(se[re]=ce[re]);for(re=0;re<Q.length;re++)(Y=Q[re])._arrayAttrs=s.findArrayAttributes(Y),Y._extremes={};var le=X._subplots.polar||[];for(re=0;re<le.length;re++)ee.push(X[le[re]].radialaxis,X[le[re]].angularaxis);for(var de in X._colorAxes){var be=X[de];be.cauto!==!1&&(delete be.cmin,delete be.cmax)}var _e=!1;function ve(Se){if(Y=Q[Se],ie=Y._module,Y.visible===!0&&Y.transforms){if(ie&&ie.calc){var Ie=ie.calc(j,Y);Ie[0]&&Ie[0].t&&Ie[0].t._scene&&delete Ie[0].t._scene.dirty}for(ne=0;ne<Y.transforms.length;ne++){var xe=Y.transforms[ne];(ie=T[xe.type])&&ie.calcTransform&&(Y._hasCalcTransform=!0,_e=!0,ie.calcTransform(j,Y,xe))}}}function me(Se,Ie){if(Y=Q[Se],!!(ie=Y._module).isContainer===Ie){var xe=[];if(Y.visible===!0&&Y._length!==0){delete Y._indexToPoints;var ue=Y.transforms||[];for(ne=ue.length-1;ne>=0;ne--)if(ue[ne].enabled){Y._indexToPoints=ue[ne]._indexToPoints;break}ie&&ie.calc&&(xe=ie.calc(j,Y))}Array.isArray(xe)&&xe[0]||(xe=[{x:i,y:i}]),xe[0].t||(xe[0].t={}),xe[0].trace=Y,se[Se]=xe}}for(V(ee,Q,X),re=0;re<Q.length;re++)me(re,!0);for(re=0;re<Q.length;re++)ve(re);for(_e&&V(ee,Q,X),re=0;re<Q.length;re++)me(re,!0);for(re=0;re<Q.length;re++)me(re,!1);Z(j);var ye=function(Se,Ie){var xe,ue,ae,pe,De,Te=[];function Ae(Ze,lt,it){var Be=lt._id.charAt(0);if(Ze==="histogram2dcontour"){var je=lt._counterAxes[0],ot=a.getFromId(Ie,je),$e=Be==="x"||je==="x"&&ot.type==="category",dt=Be==="y"||je==="y"&&ot.type==="category";return function(mt,yt){return mt===0||yt===0||$e&&mt===it[yt].length-1||dt&&yt===it.length-1?-1:(Be==="y"?yt:mt)-1}}return function(mt,yt){return Be==="y"?yt:mt}}var Ce={min:function(Ze){return o.aggNums(Math.min,null,Ze)},max:function(Ze){return o.aggNums(Math.max,null,Ze)},sum:function(Ze){return o.aggNums(function(lt,it){return lt+it},null,Ze)},total:function(Ze){return o.aggNums(function(lt,it){return lt+it},null,Ze)},mean:function(Ze){return o.mean(Ze)},median:function(Ze){return o.median(Ze)}};function Re(Ze,lt){return Ze[1]-lt[1]}function Ne(Ze,lt){return lt[1]-Ze[1]}for(xe=0;xe<Se.length;xe++){var ge=Se[xe];if(ge.type==="category"){var Me=ge.categoryorder.match(N);if(Me){var Ee=Me[1],Fe=Me[2],Le=ge._id.charAt(0),Ue=Le==="x",Ge=[];for(ue=0;ue<ge._categories.length;ue++)Ge.push([ge._categories[ue],[]]);for(ue=0;ue<ge._traceIndices.length;ue++){var Ke=ge._traceIndices[ue],at=Ie._fullData[Ke];if(at.visible===!0){var st=at.type;f.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var vt=st==="splom",xt=st==="scattergl",gt=Ie.calcdata[Ke];for(ae=0;ae<gt.length;ae++){var nt,et,At=gt[ae];if(vt){var Pt=at._axesDim[ge._id];if(!Ue){var Rt=at._diag[Pt][0];Rt&&(ge=Ie._fullLayout[a.id2name(Rt)])}var Et=At.trace.dimensions[Pt].values;for(pe=0;pe<Et.length;pe++)for(nt=ge._categoriesMap[Et[pe]],De=0;De<At.trace.dimensions.length;De++)if(De!==Pt){var Ye=At.trace.dimensions[De];Ge[nt][1].push(Ye.values[pe])}}else if(xt){for(pe=0;pe<At.t.x.length;pe++)Ue?(nt=At.t.x[pe],et=At.t.y[pe]):(nt=At.t.y[pe],et=At.t.x[pe]),Ge[nt][1].push(et);At.t&&At.t._scene&&delete At.t._scene.dirty}else if(At.hasOwnProperty("z")){et=At.z;var Xe=Ae(at.type,ge,et);for(pe=0;pe<et.length;pe++)for(De=0;De<et[pe].length;De++)(nt=Xe(De,pe))+1&&Ge[nt][1].push(et[pe][De])}else for((nt=At.p)===void 0&&(nt=At[Le]),(et=At.s)===void 0&&(et=At.v),et===void 0&&(et=Ue?At.y:At.x),Array.isArray(et)||(et=et===void 0?[]:[et]),pe=0;pe<et.length;pe++)Ge[nt][1].push(et[pe])}}}ge._categoriesValue=Ge;var Ve=[];for(ue=0;ue<Ge.length;ue++)Ve.push([Ge[ue][0],Ce[Ee](Ge[ue][1])]);Ve.sort(Fe==="descending"?Ne:Re),ge._categoriesAggregatedValue=Ve,ge._initialCategories=Ve.map(function(Ze){return Ze[0]}),Te=Te.concat(ge.sortByInitialCategories())}}}return Te}(ee,j);if(ye.length){for(X._numBoxes=0,X._numViolins=0,re=0;re<ye.length;re++)me(ye[re],!0);for(re=0;re<ye.length;re++)me(ye[re],!1);Z(j)}f.getComponentMethod("fx","calc")(j),f.getComponentMethod("errorbars","calc")(j)};var N=/(total|sum|min|max|mean|median) (ascending|descending)/;function V(j,H,Y){var ie={};function re(X){X.clearCalc(),X.type==="multicategory"&&X.setupMultiCategory(H),ie[X._id]=1}o.simpleMap(j,re);for(var ne=Y._axisMatchGroups||[],ee=0;ee<ne.length;ee++)for(var Q in ne[ee])ie[Q]||re(Y[a.id2name(Q)])}function Z(j){var H,Y,ie,re=j._fullLayout,ne=re._visibleModules,ee={};for(Y=0;Y<ne.length;Y++){var Q=ne[Y],X=Q.crossTraceCalc;if(X){var se=Q.basePlotModule.name;ee[se]?o.pushUnique(ee[se],X):ee[se]=[X]}}for(ie in ee){var ce=ee[ie],le=re._subplots[ie];if(Array.isArray(le))for(H=0;H<le.length;H++){var de=le[H],be=ie==="cartesian"?re._plots[de]:re[de];for(Y=0;Y<ce.length;Y++)ce[Y](j,be,de)}else for(Y=0;Y<ce.length;Y++)ce[Y](j)}}m.rehover=function(j){j._fullLayout._rehover&&j._fullLayout._rehover()},m.redrag=function(j){j._fullLayout._redrag&&j._fullLayout._redrag()},m.reselect=function(j){var H=j._fullLayout,Y=(j.layout||{}).selections,ie=H._previousSelections;H._previousSelections=Y;var re=H._reselect||JSON.stringify(Y)!==JSON.stringify(ie);f.getComponentMethod("selections","reselect")(j,re)},m.generalUpdatePerTraceModule=function(j,H,Y,ie){var re,ne=H.traceHash,ee={};for(re=0;re<Y.length;re++){var Q=Y[re],X=Q[0].trace;X.visible&&(ee[X.type]=ee[X.type]||[],ee[X.type].push(Q))}for(var se in ne)if(!ee[se]){var ce=ne[se][0];ce[0].trace.visible=!1,ee[se]=[ce]}for(var le in ee){var de=ee[le];de[0][0].trace._module.plot(j,H,o.filterVisible(de),ie)}H.traceHash=ee},m.plotBasePlot=function(j,H,Y,ie,re){var ne=f.getModule(j),ee=w(H.calcdata,ne)[0];ne.plot(H,ee,ie,re)},m.cleanBasePlot=function(j,H,Y,ie,re){var ne=re._has&&re._has(j),ee=Y._has&&Y._has(j);ne&&!ee&&re["_"+j+"layer"].selectAll("g.trace").remove()}},39360:function(S){"use strict";S.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(S,x,e){"use strict";var p=e(3400),y=e(92065).tester,n=p.findIndexOfMin,M=p.isAngleInsideSector,b=p.angleDelta,f=p.angleDist;function s(i,a,l,u){var h,c,w=u[0],g=u[1],v=o(Math.sin(a)-Math.sin(i)),m=o(Math.cos(a)-Math.cos(i)),T=Math.tan(l),_=o(1/T),A=v/m,d=g-A*w;return _?v&&m?c=T*(h=d/(T-A)):m?(h=g*_,c=g):(h=w,c=w*T):v&&m?(h=0,c=d):m?(h=0,c=g):h=c=NaN,[h,c]}function t(i,a,l,u){return p.isFullCircle([a,l])?function(h,c){var w,g=c.length,v=new Array(g+1);for(w=0;w<g;w++){var m=c[w];v[w]=[h*Math.cos(m),h*Math.sin(m)]}return v[w]=v[0].slice(),v}(i,u):function(h,c,w,g){var v,m,T=g.length,_=[];function A(q){return[h*Math.cos(q),h*Math.sin(q)]}function d(q,N,V){return s(q,N,V,A(q))}function C(q){return p.mod(q,T)}function k(q){return M(q,[c,w])}var D=n(g,function(q){return k(q)?f(q,c):1/0}),O=d(g[D],g[C(D-1)],c);for(_.push(O),v=D,m=0;m<T;v++,m++){var L=g[C(v)];if(!k(L))break;_.push(A(L))}var R=n(g,function(q){return k(q)?f(q,w):1/0}),z=d(g[R],g[C(R+1)],w);return _.push(z),_.push([0,0]),_.push(_[0].slice()),_}(i,a,l,u)}function o(i){return Math.abs(i)>1e-10?i:0}function r(i,a,l){a=a||0,l=l||0;for(var u=i.length,h=new Array(u),c=0;c<u;c++){var w=i[c];h[c]=[a+w[0],l-w[1]]}return h}S.exports={isPtInsidePolygon:function(i,a,l,u,h){if(!M(a,u))return!1;var c,w;l[0]<l[1]?(c=l[0],w=l[1]):(c=l[1],w=l[0]);var g=y(t(c,u[0],u[1],h)),v=y(t(w,u[0],u[1],h)),m=[i*Math.cos(a),i*Math.sin(a)];return v.contains(m)&&!g.contains(m)},findPolygonOffset:function(i,a,l,u){for(var h=1/0,c=1/0,w=t(i,a,l,u),g=0;g<w.length;g++){var v=w[g];h=Math.min(h,v[0]),c=Math.min(c,-v[1])}return[h,c]},findEnclosingVertexAngles:function(i,a){var l=n(a,function(h){var c=b(h,i);return c>0?c:1/0}),u=p.mod(l+1,a.length);return[a[l],a[u]]},findIntersectionXY:s,findXYatLength:function(i,a,l,u){var h=-a*l,c=a*a+1,w=2*(a*h-l),g=h*h+l*l-i*i,v=Math.sqrt(w*w-4*c*g),m=(-w+v)/(2*c),T=(-w-v)/(2*c);return[[m,a*m+h+u],[T,a*T+h+u]]},clampTiny:o,pathPolygon:function(i,a,l,u,h,c){return"M"+r(t(i,a,l,u),h,c).join("L")},pathPolygonAnnulus:function(i,a,l,u,h,c,w){var g,v;i<a?(g=i,v=a):(g=a,v=i);var m=r(t(g,l,u,h),c,w);return"M"+r(t(v,l,u,h),c,w).reverse().join("L")+"M"+m.join("L")}}},40872:function(S,x,e){"use strict";var p=e(84888).KY,y=e(3400).counterRegex,n=e(62400),M=e(39360),b=M.attr,f=M.name,s=y(f),t={};t[b]={valType:"subplotid",dflt:f,editType:"calc"},S.exports={attr:b,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(o){for(var r=o._fullLayout,i=o.calcdata,a=r._subplots[f],l=0;l<a.length;l++){var u=a[l],h=p(i,f,u),c=r[u]._subplot;c||(c=n(o,u),r[u]._subplot=c),c.plot(h,r,o._promises)}},clean:function(o,r,i,a){for(var l=a._subplots[f]||[],u=a._has&&a._has("gl"),h=r._has&&r._has("gl"),c=u&&!h,w=0;w<l.length;w++){var g=l[w],v=a[g]._subplot;if(!r[g]&&v)for(var m in v.framework.remove(),v.layers["radial-axis-title"].remove(),v.clipPaths)v.clipPaths[m].remove();c&&v._scene&&(v._scene.destroy(),v._scene=null)}},toSVG:e(57952).toSVG}},95300:function(S,x,e){"use strict";var p=e(22548),y=e(94724),n=e(86968).u,M=e(3400).extendFlat,b=e(67824).overrideAll,f=b({color:y.color,showline:M({},y.showline,{dflt:!0}),linecolor:y.linecolor,linewidth:y.linewidth,showgrid:M({},y.showgrid,{dflt:!0}),gridcolor:y.gridcolor,gridwidth:y.gridwidth,griddash:y.griddash},"plot","from-root"),s=b({tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:y.ticks,ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,showtickprefix:y.showtickprefix,tickprefix:y.tickprefix,showticksuffix:y.showticksuffix,ticksuffix:y.ticksuffix,showexponent:y.showexponent,exponentformat:y.exponentformat,minexponent:y.minexponent,separatethousands:y.separatethousands,tickfont:y.tickfont,tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,layer:y.layer},"plot","from-root"),t={visible:M({},y.visible,{dflt:!0}),type:M({},y.type,{values:["-","linear","log","date","category"]}),autotypenumbers:y.autotypenumbers,autorangeoptions:{minallowed:y.autorangeoptions.minallowed,maxallowed:y.autorangeoptions.maxallowed,clipmin:y.autorangeoptions.clipmin,clipmax:y.autorangeoptions.clipmax,include:y.autorangeoptions.include,editType:"plot"},autorange:M({},y.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:M({},y.minallowed,{editType:"plot"}),maxallowed:M({},y.maxallowed,{editType:"plot"}),range:M({},y.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:y.categoryorder,categoryarray:y.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:y.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:M({},y.title.text,{editType:"plot",dflt:""}),font:M({},y.title.font,{editType:"plot"}),editType:"plot"},hoverformat:y.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:y._deprecated.title,titlefont:y._deprecated.titlefont}};M(t,f,s);var o={visible:M({},y.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:y.autotypenumbers,categoryorder:y.categoryorder,categoryarray:y.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:y.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};M(o,f,s),S.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:t,angularaxis:o,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(31780),M=e(168),b=e(84888).op,f=e(26332),s=e(25404),t=e(95936),o=e(42568),r=e(22416),i=e(42136),a=e(76808),l=e(52976),u=e(95300),h=e(57696),c=e(39360),w=c.axisNames;function g(m,T,_,A){var d=_("bgcolor");A.bgColor=y.combine(d,A.paper_bgcolor);var C=_("sector");_("hole");var k,D=b(A.fullData,c.name,A.id),O=A.layoutOut;function L(ye,Se){return _(k+"."+ye,Se)}for(var R=0;R<w.length;R++){k=w[R],p.isPlainObject(m[k])||(m[k]={});var z=m[k],q=n.newContainer(T,k);q._id=q._name=k,q._attr=A.id+"."+k,q._traceIndices=D.map(function(ye){return ye._expandedIndex});var N=c.axisName2dataArray[k],V=v(z,q,L,D,N,A);r(z,q,L,{axData:D,dataAttr:N});var Z=L("visible");switch(h(q,T,O),L("uirevision",T.uirevision),q._m=1,k){case"radialaxis":L("minallowed"),L("maxallowed");var j,H=L("range"),Y=q.getAutorangeDflt(H),ie=L("autorange",Y);!H||(H[0]!==null||H[1]!==null)&&(H[0]!==null&&H[1]!==null||ie!=="reversed"&&ie!==!0)&&(H[0]===null||ie!=="min"&&ie!=="max reversed")&&(H[1]===null||ie!=="max"&&ie!=="min reversed")||(H=void 0,delete q.range,q.autorange=!0,j=!0),j||(ie=L("autorange",Y=q.getAutorangeDflt(H))),z.autorange=ie,ie&&(a(L,ie,H),V!=="linear"&&V!=="-"||L("rangemode"),q.isReversed()&&(q._m=-1)),q.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(V==="date"){p.log("Polar plots do not support date angular axes yet.");for(var re=0;re<D.length;re++)D[re].visible=!1;V=z.type=q.type="linear"}L(V==="linear"?"thetaunit":"period");var ne=L("direction");L("rotation",{counterclockwise:0,clockwise:90}[ne])}if(o(z,q,L,q.type,{tickSuffixDflt:q.thetaunit==="degrees"?"\xB0":void 0}),Z){var ee,Q,X,se,ce,le,de,be,_e,ve,me=A.font||{};Q=(ee=L("color"))===z.color?ee:me.color,X=me.size,se=me.family,ce=me.weight,le=me.style,de=me.variant,be=me.textcase,_e=me.lineposition,ve=me.shadow,f(z,q,L,q.type),t(z,q,L,q.type,{font:{weight:ce,style:le,variant:de,textcase:be,lineposition:_e,shadow:ve,color:Q,size:X,family:se},noAutotickangles:k==="angularaxis"}),s(z,q,L,{outerTicks:!0}),i(z,q,L,{dfltColor:ee,bgColor:A.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[k]}),L("layer"),k==="radialaxis"&&(L("side"),L("angle",C[0]),L("title.text"),p.coerceFont(L,"title.font",{weight:ce,style:le,variant:de,textcase:be,lineposition:_e,shadow:ve,color:Q,size:p.bigFont(X),family:se}))}V!=="category"&&L("hoverformat"),q._input=z}T.angularaxis.type==="category"&&_("gridshape")}function v(m,T,_,A,d,C){var k=_("autotypenumbers",C.autotypenumbersDflt);if(_("type")==="-"){for(var D,O=0;O<A.length;O++)if(A[O].visible){D=A[O];break}D&&D[d]&&(T.type=l(D[d],"gregorian",{noMultiCategory:!0,autotypenumbers:k})),T.type==="-"?T.type="linear":m.type=T.type}return T.type}S.exports=function(m,T,_){M(m,T,_,{type:c.name,attributes:u,handleDefaults:g,font:T.font,autotypenumbersDflt:T.autotypenumbers,paper_bgcolor:T.paper_bgcolor,fullData:_,layoutOut:T})}},62400:function(S,x,e){"use strict";var p=e(33428),y=e(49760),n=e(24040),M=e(3400),b=M.strRotate,f=M.strTranslate,s=e(76308),t=e(43616),o=e(7316),r=e(54460),i=e(78344),a=e(57696),l=e(19280).doAutoRange,u=e(51184),h=e(86476),c=e(93024),w=e(81668),g=e(22676).prepSelect,v=e(22676).selectOnClick,m=e(22676).clearOutline,T=e(93972),_=e(73696),A=e(39172).redrawReglTraces,d=e(84284).MID_SHIFT,C=e(39360),k=e(57384),D=e(36416),O=D.smith,L=D.reactanceArc,R=D.resistanceArc,z=D.smithTransform,q=M._,N=M.mod,V=M.deg2rad,Z=M.rad2deg;function j(ne,ee,Q){this.isSmith=Q||!1,this.id=ee,this.gd=ne,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var X=ne._fullLayout,se="clip"+X._uid+ee;this.clipIds.forTraces=se+"-for-traces",this.clipPaths.forTraces=X._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=X["_"+(Q?"smith":"polar")+"layer"].append("g").attr("class",ee),this.getHole=function(ce){return this.isSmith?0:ce.hole},this.getSector=function(ce){return this.isSmith?[0,360]:ce.sector},this.getRadial=function(ce){return this.isSmith?ce.realaxis:ce.radialaxis},this.getAngular=function(ce){return this.isSmith?ce.imaginaryaxis:ce.angularaxis},Q||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=j.prototype;function Y(ne){var ee=ne.ticks+String(ne.ticklen)+String(ne.showticklabels);return"side"in ne&&(ee+=ne.side),ee}function ie(ne,ee){return ee[M.findIndexOfMin(ee,function(Q){return M.angleDist(ne,Q)})]}function re(ne,ee,Q){return ee?(ne.attr("display",null),ne.attr(Q)):ne&&ne.attr("display","none"),ne}S.exports=function(ne,ee,Q){return new j(ne,ee,Q)},H.plot=function(ne,ee){for(var Q=this,X=ee[Q.id],se=!1,ce=0;ce<ne.length;ce++)if(ne[ce][0].trace.cliponaxis===!1){se=!0;break}Q._hasClipOnAxisFalse=se,Q.updateLayers(ee,X),Q.updateLayout(ee,X),o.generalUpdatePerTraceModule(Q.gd,Q,ne,X),Q.updateFx(ee,X),Q.isSmith&&(delete X.realaxis.range,delete X.imaginaryaxis.range)},H.updateLayers=function(ne,ee){var Q=this,X=Q.isSmith,se=Q.layers,ce=Q.getRadial(ee),le=Q.getAngular(ee),de=C.layerNames,be=de.indexOf("frontplot"),_e=de.slice(0,be),ve=le.layer==="below traces",me=ce.layer==="below traces";ve&&_e.push("angular-line"),me&&_e.push("radial-line"),ve&&_e.push("angular-axis"),me&&_e.push("radial-axis"),_e.push("frontplot"),ve||_e.push("angular-line"),me||_e.push("radial-line"),ve||_e.push("angular-axis"),me||_e.push("radial-axis");var ye=(X?"smith":"polar")+"sublayer",Se=Q.framework.selectAll("."+ye).data(_e,String);Se.enter().append("g").attr("class",function(Ie){return ye+" "+Ie}).each(function(Ie){var xe=se[Ie]=p.select(this);switch(Ie){case"frontplot":X||xe.append("g").classed("barlayer",!0),xe.append("g").classed("scatterlayer",!0);break;case"backplot":xe.append("g").classed("maplayer",!0);break;case"plotbg":se.bg=xe.append("path");break;case"radial-grid":case"angular-grid":xe.style("fill","none");break;case"radial-line":xe.append("line").style("fill","none");break;case"angular-line":xe.append("path").style("fill","none")}}),Se.order()},H.updateLayout=function(ne,ee){var Q=this,X=Q.layers,se=ne._size,ce=Q.getRadial(ee),le=Q.getAngular(ee),de=ee.domain.x,be=ee.domain.y;Q.xOffset=se.l+se.w*de[0],Q.yOffset=se.t+se.h*(1-be[1]);var _e=Q.xLength=se.w*(de[1]-de[0]),ve=Q.yLength=se.h*(be[1]-be[0]),me=Q.getSector(ee);Q.sectorInRad=me.map(V);var ye,Se,Ie,xe,ue,ae=Q.sectorBBox=function(at){var st,vt=at[0],xt=at[1]-vt,gt=N(vt,360),nt=gt+xt,et=Math.cos(V(gt)),At=Math.sin(V(gt)),Pt=Math.cos(V(nt)),Rt=Math.sin(V(nt));return st=gt<=90&&nt>=90||gt>90&&nt>=450?1:At<=0&&Rt<=0?0:Math.max(At,Rt),[gt<=180&&nt>=180||gt>180&&nt>=540?-1:et>=0&&Pt>=0?0:Math.min(et,Pt),gt<=270&&nt>=270||gt>270&&nt>=630?-1:At>=0&&Rt>=0?0:Math.min(At,Rt),nt>=360?1:et<=0&&Pt<=0?0:Math.max(et,Pt),st]}(me),pe=ae[2]-ae[0],De=ae[3]-ae[1],Te=ve/_e,Ae=Math.abs(De/pe);Te>Ae?(ye=_e,ue=(ve-(Se=_e*Ae))/se.h/2,Ie=[de[0],de[1]],xe=[be[0]+ue,be[1]-ue]):(Se=ve,ue=(_e-(ye=ve/Ae))/se.w/2,Ie=[de[0]+ue,de[1]-ue],xe=[be[0],be[1]]),Q.xLength2=ye,Q.yLength2=Se,Q.xDomain2=Ie,Q.yDomain2=xe;var Ce,Re=Q.xOffset2=se.l+se.w*Ie[0],Ne=Q.yOffset2=se.t+se.h*(1-xe[1]),ge=Q.radius=ye/pe,Me=Q.innerRadius=Q.getHole(ee)*ge,Ee=Q.cx=Re-ge*ae[0],Fe=Q.cy=Ne+ge*ae[3],Le=Q.cxx=Ee-Re,Ue=Q.cyy=Fe-Ne,Ge=ce.side;Ge==="counterclockwise"?(Ce=Ge,Ge="top"):Ge==="clockwise"&&(Ce=Ge,Ge="bottom"),Q.radialAxis=Q.mockAxis(ne,ee,ce,{_id:"x",side:Ge,_trueSide:Ce,domain:[Me/se.w,ge/se.w]}),Q.angularAxis=Q.mockAxis(ne,ee,le,{side:"right",domain:[0,Math.PI],autorange:!1}),Q.doAutoRange(ne,ee),Q.updateAngularAxis(ne,ee),Q.updateRadialAxis(ne,ee),Q.updateRadialAxisTitle(ne,ee),Q.xaxis=Q.mockCartesianAxis(ne,ee,{_id:"x",domain:Ie}),Q.yaxis=Q.mockCartesianAxis(ne,ee,{_id:"y",domain:xe});var Ke=Q.pathSubplot();Q.clipPaths.forTraces.select("path").attr("d",Ke).attr("transform",f(Le,Ue)),X.frontplot.attr("transform",f(Re,Ne)).call(t.setClipUrl,Q._hasClipOnAxisFalse?null:Q.clipIds.forTraces,Q.gd),X.bg.attr("d",Ke).attr("transform",f(Ee,Fe)).call(s.fill,ee.bgcolor)},H.mockAxis=function(ne,ee,Q,X){var se=M.extendFlat({},Q,X);return a(se,ee,ne),se},H.mockCartesianAxis=function(ne,ee,Q){var X=this,se=X.isSmith,ce=Q._id,le=M.extendFlat({type:"linear"},Q);i(le,ne);var de={x:[0,2],y:[1,3]};return le.setRange=function(){var be=X.sectorBBox,_e=de[ce],ve=X.radialAxis._rl,me=(ve[1]-ve[0])/(1-X.getHole(ee));le.range=[be[_e[0]]*me,be[_e[1]]*me]},le.isPtWithinRange=ce!=="x"||se?function(){return!0}:function(be){return X.isPtInside(be)},le.setRange(),le.setScale(),le},H.doAutoRange=function(ne,ee){var Q=this,X=Q.gd,se=Q.radialAxis,ce=Q.getRadial(ee);l(X,se);var le=se.range;if(ce.range=le.slice(),ce._input.range=le.slice(),se._rl=[se.r2l(le[0],null,"gregorian"),se.r2l(le[1],null,"gregorian")],se.minallowed!==void 0){var de=se.r2l(se.minallowed);se._rl[0]>se._rl[1]?se._rl[1]=Math.max(se._rl[1],de):se._rl[0]=Math.max(se._rl[0],de)}if(se.maxallowed!==void 0){var be=se.r2l(se.maxallowed);se._rl[0]<se._rl[1]?se._rl[1]=Math.min(se._rl[1],be):se._rl[0]=Math.min(se._rl[0],be)}},H.updateRadialAxis=function(ne,ee){var Q=this,X=Q.gd,se=Q.layers,ce=Q.radius,le=Q.innerRadius,de=Q.cx,be=Q.cy,_e=Q.getRadial(ee),ve=N(Q.getSector(ee)[0],360),me=Q.radialAxis,ye=le<ce,Se=Q.isSmith;Se||(Q.fillViewInitialKey("radialaxis.angle",_e.angle),Q.fillViewInitialKey("radialaxis.range",me.range.slice()),me.setGeometry()),me.tickangle==="auto"&&ve>90&&ve<=270&&(me.tickangle=180);var Ie=Se?function(Ne){var ge=z(Q,O([Ne.x,0]));return f(ge[0]-de,ge[1]-be)}:function(Ne){return f(me.l2p(Ne.x)+le,0)},xe=Se?function(Ne){return R(Q,Ne.x,-1/0,1/0)}:function(Ne){return Q.pathArc(me.r2p(Ne.x)+le)},ue=Y(_e);if(Q.radialTickLayout!==ue&&(se["radial-axis"].selectAll(".xtick").remove(),Q.radialTickLayout=ue),ye){me.setScale();var ae=0,pe=Se?(me.tickvals||[]).filter(function(Ne){return Ne>=0}).map(function(Ne){return r.tickText(me,Ne,!0,!1)}):r.calcTicks(me),De=Se?pe:r.clipEnds(me,pe),Te=r.getTickSigns(me)[2];Se&&((me.ticks==="top"&&me.side==="bottom"||me.ticks==="bottom"&&me.side==="top")&&(Te=-Te),me.ticks==="top"&&me.side==="top"&&(ae=-me.ticklen),me.ticks==="bottom"&&me.side==="bottom"&&(ae=me.ticklen)),r.drawTicks(X,me,{vals:pe,layer:se["radial-axis"],path:r.makeTickPath(me,0,Te),transFn:Ie,crisp:!1}),r.drawGrid(X,me,{vals:De,layer:se["radial-grid"],path:xe,transFn:M.noop,crisp:!1}),r.drawLabels(X,me,{vals:pe,layer:se["radial-axis"],transFn:Ie,labelFns:r.makeLabelFns(me,ae)})}var Ae=Q.radialAxisAngle=Q.vangles?Z(ie(V(_e.angle),Q.vangles)):_e.angle,Ce=f(de,be),Re=Ce+b(-Ae);re(se["radial-axis"],ye&&(_e.showticklabels||_e.ticks),{transform:Re}),re(se["radial-grid"],ye&&_e.showgrid,{transform:Se?"":Ce}),re(se["radial-line"].select("line"),ye&&_e.showline,{x1:Se?-ce:le,y1:0,x2:ce,y2:0,transform:Re}).attr("stroke-width",_e.linewidth).call(s.stroke,_e.linecolor)},H.updateRadialAxisTitle=function(ne,ee,Q){if(!this.isSmith){var X=this,se=X.gd,ce=X.radius,le=X.cx,de=X.cy,be=X.getRadial(ee),_e=X.id+"title",ve=0;if(be.title){var me=t.bBox(X.layers["radial-axis"].node()).height,ye=be.title.font.size,Se=be.side;ve=Se==="top"?ye:Se==="counterclockwise"?-(me+.4*ye):me+.8*ye}var Ie=Q!==void 0?Q:X.radialAxisAngle,xe=V(Ie),ue=Math.cos(xe),ae=Math.sin(xe),pe=le+ce/2*ue+ve*ae,De=de-ce/2*ae+ve*ue;X.layers["radial-axis-title"]=w.draw(se,_e,{propContainer:be,propName:X.id+".radialaxis.title",placeholder:q(se,"Click to enter radial axis title"),attributes:{x:pe,y:De,"text-anchor":"middle"},transform:{rotate:-Ie}})}},H.updateAngularAxis=function(ne,ee){var Q=this,X=Q.gd,se=Q.layers,ce=Q.radius,le=Q.innerRadius,de=Q.cx,be=Q.cy,_e=Q.getAngular(ee),ve=Q.angularAxis,me=Q.isSmith;me||(Q.fillViewInitialKey("angularaxis.rotation",_e.rotation),ve.setGeometry(),ve.setScale());var ye=me?function(Ne){var ge=z(Q,O([0,Ne.x]));return Math.atan2(ge[0]-de,ge[1]-be)-Math.PI/2}:function(Ne){return ve.t2g(Ne.x)};ve.type==="linear"&&ve.thetaunit==="radians"&&(ve.tick0=Z(ve.tick0),ve.dtick=Z(ve.dtick));var Se=function(Ne){return f(de+ce*Math.cos(Ne),be-ce*Math.sin(Ne))},Ie=me?function(Ne){var ge=z(Q,O([0,Ne.x]));return f(ge[0],ge[1])}:function(Ne){return Se(ye(Ne))},xe=me?function(Ne){var ge=z(Q,O([0,Ne.x])),Me=Math.atan2(ge[0]-de,ge[1]-be)-Math.PI/2;return f(ge[0],ge[1])+b(-Z(Me))}:function(Ne){var ge=ye(Ne);return Se(ge)+b(-Z(ge))},ue=me?function(Ne){return L(Q,Ne.x,0,1/0)}:function(Ne){var ge=ye(Ne),Me=Math.cos(ge),Ee=Math.sin(ge);return"M"+[de+le*Me,be-le*Ee]+"L"+[de+ce*Me,be-ce*Ee]},ae=r.makeLabelFns(ve,0).labelStandoff,pe={xFn:function(Ne){var ge=ye(Ne);return Math.cos(ge)*ae},yFn:function(Ne){var ge=ye(Ne),Me=Math.sin(ge)>0?.2:1;return-Math.sin(ge)*(ae+Ne.fontSize*Me)+Math.abs(Math.cos(ge))*(Ne.fontSize*d)},anchorFn:function(Ne){var ge=ye(Ne),Me=Math.cos(ge);return Math.abs(Me)<.1?"middle":Me>0?"start":"end"},heightFn:function(Ne,ge,Me){var Ee=ye(Ne);return-.5*(1+Math.sin(Ee))*Me}},De=Y(_e);Q.angularTickLayout!==De&&(se["angular-axis"].selectAll("."+ve._id+"tick").remove(),Q.angularTickLayout=De);var Te,Ae=me?[1/0].concat(ve.tickvals||[]).map(function(Ne){return r.tickText(ve,Ne,!0,!1)}):r.calcTicks(ve);if(me&&(Ae[0].text="\u221E",Ae[0].fontSize*=1.75),ee.gridshape==="linear"?(Te=Ae.map(ye),M.angleDelta(Te[0],Te[1])<0&&(Te=Te.slice().reverse())):Te=null,Q.vangles=Te,ve.type==="category"&&(Ae=Ae.filter(function(Ne){return M.isAngleInsideSector(ye(Ne),Q.sectorInRad)})),ve.visible){var Ce=ve.ticks==="inside"?-1:1,Re=(ve.linewidth||1)/2;r.drawTicks(X,ve,{vals:Ae,layer:se["angular-axis"],path:"M"+Ce*Re+",0h"+Ce*ve.ticklen,transFn:xe,crisp:!1}),r.drawGrid(X,ve,{vals:Ae,layer:se["angular-grid"],path:ue,transFn:M.noop,crisp:!1}),r.drawLabels(X,ve,{vals:Ae,layer:se["angular-axis"],repositionOnUpdate:!0,transFn:Ie,labelFns:pe})}re(se["angular-line"].select("path"),_e.showline,{d:Q.pathSubplot(),transform:f(de,be)}).attr("stroke-width",_e.linewidth).call(s.stroke,_e.linecolor)},H.updateFx=function(ne,ee){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(ne),this.updateRadialDrag(ne,ee,0),this.updateRadialDrag(ne,ee,1)),this.updateHoverAndMainDrag(ne))},H.updateHoverAndMainDrag=function(ne){var ee,Q,X=this,se=X.isSmith,ce=X.gd,le=X.layers,de=ne._zoomlayer,be=C.MINZOOM,_e=C.OFFEDGE,ve=X.radius,me=X.innerRadius,ye=X.cx,Se=X.cy,Ie=X.cxx,xe=X.cyy,ue=X.sectorInRad,ae=X.vangles,pe=X.radialAxis,De=k.clampTiny,Te=k.findXYatLength,Ae=k.findEnclosingVertexAngles,Ce=C.cornerHalfWidth,Re=C.cornerLen/2,Ne=u.makeDragger(le,"path","maindrag",ne.dragmode===!1?"none":"crosshair");p.select(Ne).attr("d",X.pathSubplot()).attr("transform",f(ye,Se)),Ne.onmousemove=function(it){c.hover(ce,it,X.id),ce._fullLayout._lasthover=Ne,ce._fullLayout._hoversubplot=X.id},Ne.onmouseout=function(it){ce._dragging||h.unhover(ce,it)};var ge,Me,Ee,Fe,Le,Ue,Ge,Ke,at,st={element:Ne,gd:ce,subplot:X.id,plotinfo:{id:X.id,xaxis:X.xaxis,yaxis:X.yaxis},xaxes:[X.xaxis],yaxes:[X.yaxis]};function vt(it,Be){return Math.sqrt(it*it+Be*Be)}function xt(it,Be){return vt(it-Ie,Be-xe)}function gt(it,Be){return Math.atan2(xe-Be,it-Ie)}function nt(it,Be){return[it*Math.cos(Be),it*Math.sin(-Be)]}function et(it,Be){if(it===0)return X.pathSector(2*Ce);var je=Re/it,ot=Be-je,$e=Be+je,dt=Math.max(0,Math.min(it,ve)),mt=dt-Ce,yt=dt+Ce;return"M"+nt(mt,ot)+"A"+[mt,mt]+" 0,0,0 "+nt(mt,$e)+"L"+nt(yt,$e)+"A"+[yt,yt]+" 0,0,1 "+nt(yt,ot)+"Z"}function At(it,Be,je){if(it===0)return X.pathSector(2*Ce);var ot,$e,dt=nt(it,Be),mt=nt(it,je),yt=De((dt[0]+mt[0])/2),ht=De((dt[1]+mt[1])/2);if(yt&&ht){var kt=ht/yt,bt=-1/kt,St=Te(Ce,kt,yt,ht);ot=Te(Re,bt,St[0][0],St[0][1]),$e=Te(Re,bt,St[1][0],St[1][1])}else{var Lt,Ot;ht?(Lt=Re,Ot=Ce):(Lt=Ce,Ot=Re),ot=[[yt-Lt,ht-Ot],[yt+Lt,ht-Ot]],$e=[[yt-Lt,ht+Ot],[yt+Lt,ht+Ot]]}return"M"+ot.join("L")+"L"+$e.reverse().join("L")+"Z"}function Pt(it,Be){return Be=Math.max(Math.min(Be,ve),me),it<_e?it=0:ve-it<_e?it=ve:Be<_e?Be=0:ve-Be<_e&&(Be=ve),Math.abs(Be-it)>be?(it<Be?(Ee=it,Fe=Be):(Ee=Be,Fe=it),!0):(Ee=null,Fe=null,!1)}function Rt(it,Be){it=it||Le,Be=Be||"M0,0Z",Ke.attr("d",it),at.attr("d",Be),u.transitionZoombox(Ke,at,Ue,Ge),Ue=!0;var je={};Ze(je),ce.emit("plotly_relayouting",je)}function Et(it,Be){var je,ot,$e=ge+(it*=ee),dt=Me+(Be*=Q),mt=xt(ge,Me),yt=Math.min(xt($e,dt),ve),ht=gt(ge,Me);Pt(mt,yt)&&(je=Le+X.pathSector(Fe),Ee&&(je+=X.pathSector(Ee)),ot=et(Ee,ht)+et(Fe,ht)),Rt(je,ot)}function Ye(it,Be,je,ot){var $e=k.findIntersectionXY(je,ot,je,[it-Ie,xe-Be]);return vt($e[0],$e[1])}function Xe(it,Be){var je,ot,$e=ge+it,dt=Me+Be,mt=gt(ge,Me),yt=gt($e,dt),ht=Ae(mt,ae),kt=Ae(yt,ae);Pt(Ye(ge,Me,ht[0],ht[1]),Math.min(Ye($e,dt,kt[0],kt[1]),ve))&&(je=Le+X.pathSector(Fe),Ee&&(je+=X.pathSector(Ee)),ot=[At(Ee,ht[0],ht[1]),At(Fe,ht[0],ht[1])].join(" ")),Rt(je,ot)}function Ve(){if(u.removeZoombox(ce),Ee!==null&&Fe!==null){var it={};Ze(it),u.showDoubleClickNotifier(ce),n.call("_guiRelayout",ce,it)}}function Ze(it){var Be=pe._rl,je=(Be[1]-Be[0])/(1-me/ve)/ve,ot=[Be[0]+(Ee-me)*je,Be[0]+(Fe-me)*je];it[X.id+".radialaxis.range"]=ot}function lt(it,Be){var je=ce._fullLayout.clickmode;if(u.removeZoombox(ce),it===2){var ot={};for(var $e in X.viewInitial)ot[X.id+"."+$e]=X.viewInitial[$e];ce.emit("plotly_doubleclick",null),n.call("_guiRelayout",ce,ot)}je.indexOf("select")>-1&&it===1&&v(Be,ce,[X.xaxis],[X.yaxis],X.id,st),je.indexOf("event")>-1&&c.click(ce,Be,X.id)}st.prepFn=function(it,Be,je){var ot=ce._fullLayout.dragmode,$e=Ne.getBoundingClientRect();ce._fullLayout._calcInverseTransform(ce);var dt=ce._fullLayout._invTransform;ee=ce._fullLayout._invScaleX,Q=ce._fullLayout._invScaleY;var mt=M.apply3DTransform(dt)(Be-$e.left,je-$e.top);if(ge=mt[0],Me=mt[1],ae){var yt=k.findPolygonOffset(ve,ue[0],ue[1],ae);ge+=Ie+yt[0],Me+=xe+yt[1]}switch(ot){case"zoom":st.clickFn=lt,se||(st.moveFn=ae?Xe:Et,st.doneFn=Ve,function(){Ee=null,Fe=null,Le=X.pathSubplot(),Ue=!1;var ht=ce._fullLayout[X.id];Ge=y(ht.bgcolor).getLuminance(),(Ke=u.makeZoombox(de,Ge,ye,Se,Le)).attr("fill-rule","evenodd"),at=u.makeCorners(de,ye,Se),m(ce)}());break;case"select":case"lasso":g(it,Be,je,st,ot)}},h.init(st)},H.updateRadialDrag=function(ne,ee,Q){var X=this,se=X.gd,ce=X.layers,le=X.radius,de=X.innerRadius,be=X.cx,_e=X.cy,ve=X.radialAxis,me=C.radialDragBoxSize,ye=me/2;if(ve.visible){var Se,Ie,xe,ue=V(X.radialAxisAngle),ae=ve._rl,pe=ae[0],De=ae[1],Te=ae[Q],Ae=.75*(ae[1]-ae[0])/(1-X.getHole(ee))/le;Q?(Se=be+(le+ye)*Math.cos(ue),Ie=_e-(le+ye)*Math.sin(ue),xe="radialdrag"):(Se=be+(de-ye)*Math.cos(ue),Ie=_e-(de-ye)*Math.sin(ue),xe="radialdrag-inner");var Ce,Re,Ne,ge=u.makeRectDragger(ce,xe,"crosshair",-ye,-ye,me,me),Me={element:ge,gd:se};ne.dragmode===!1&&(Me.dragmode=!1),re(p.select(ge),ve.visible&&de<le,{transform:f(Se,Ie)}),Me.prepFn=function(){Ce=null,Re=null,Ne=null,Me.moveFn=Ee,Me.doneFn=Fe,m(se)},Me.clampFn=function(Ge,Ke){return Math.sqrt(Ge*Ge+Ke*Ke)<C.MINDRAG&&(Ge=0,Ke=0),[Ge,Ke]},h.init(Me)}function Ee(Ge,Ke){if(Ce)Ce(Ge,Ke);else{var at=[Ge,-Ke],st=[Math.cos(ue),Math.sin(ue)],vt=Math.abs(M.dot(at,st)/Math.sqrt(M.dot(at,at)));isNaN(vt)||(Ce=vt<.5?Le:Ue)}var xt={};(function(gt){Re!==null?gt[X.id+".radialaxis.angle"]=Re:Ne!==null&&(gt[X.id+".radialaxis.range["+Q+"]"]=Ne)})(xt),se.emit("plotly_relayouting",xt)}function Fe(){Re!==null?n.call("_guiRelayout",se,X.id+".radialaxis.angle",Re):Ne!==null&&n.call("_guiRelayout",se,X.id+".radialaxis.range["+Q+"]",Ne)}function Le(Ge,Ke){if(Q!==0){var at=Se+Ge,st=Ie+Ke;Re=Math.atan2(_e-st,at-be),X.vangles&&(Re=ie(Re,X.vangles)),Re=Z(Re);var vt=f(be,_e)+b(-Re);ce["radial-axis"].attr("transform",vt),ce["radial-line"].select("line").attr("transform",vt);var xt=X.gd._fullLayout,gt=xt[X.id];X.updateRadialAxisTitle(xt,gt,Re)}}function Ue(Ge,Ke){var at=M.dot([Ge,-Ke],[Math.cos(ue),Math.sin(ue)]);if(Ne=Te-Ae*at,Ae>0==(Q?Ne>pe:Ne<De)){var st=se._fullLayout,vt=st[X.id];ve.range[Q]=Ne,ve._rl[Q]=Ne,X.updateRadialAxis(st,vt),X.xaxis.setRange(),X.xaxis.setScale(),X.yaxis.setRange(),X.yaxis.setScale();var xt=!1;for(var gt in X.traceHash){var nt=X.traceHash[gt],et=M.filterVisible(nt);nt[0][0].trace._module.plot(se,X,et,vt),n.traceIs(gt,"gl")&&et.length&&(xt=!0)}xt&&(_(se),A(se))}else Ne=null}},H.updateAngularDrag=function(ne){var ee=this,Q=ee.gd,X=ee.layers,se=ee.radius,ce=ee.angularAxis,le=ee.cx,de=ee.cy,be=ee.cxx,_e=ee.cyy,ve=C.angularDragBoxSize,me=u.makeDragger(X,"path","angulardrag",ne.dragmode===!1?"none":"move"),ye={element:me,gd:Q};function Se(Me,Ee){return Math.atan2(_e+ve-Ee,Me-be-ve)}ne.dragmode===!1?ye.dragmode=!1:p.select(me).attr("d",ee.pathAnnulus(se,se+ve)).attr("transform",f(le,de)).call(T,"move");var Ie,xe,ue,ae,pe,De,Te=X.frontplot.select(".scatterlayer").selectAll(".trace"),Ae=Te.selectAll(".point"),Ce=Te.selectAll(".textpoint");function Re(Me,Ee){var Fe=ee.gd._fullLayout,Le=Fe[ee.id],Ue=Se(Ie+Me*ne._invScaleX,xe+Ee*ne._invScaleY),Ge=Z(Ue-De);if(ae=ue+Ge,X.frontplot.attr("transform",f(ee.xOffset2,ee.yOffset2)+b([-Ge,be,_e])),ee.vangles){pe=ee.radialAxisAngle+Ge;var Ke=f(le,de)+b(-Ge),at=f(le,de)+b(-pe);X.bg.attr("transform",Ke),X["radial-grid"].attr("transform",Ke),X["radial-axis"].attr("transform",at),X["radial-line"].select("line").attr("transform",at),ee.updateRadialAxisTitle(Fe,Le,pe)}else ee.clipPaths.forTraces.select("path").attr("transform",f(be,_e)+b(Ge));Ae.each(function(){var et=p.select(this),At=t.getTranslate(et);et.attr("transform",f(At.x,At.y)+b([Ge]))}),Ce.each(function(){var et=p.select(this),At=et.select("text"),Pt=t.getTranslate(et);et.attr("transform",b([Ge,At.attr("x"),At.attr("y")])+f(Pt.x,Pt.y))}),ce.rotation=M.modHalf(ae,360),ee.updateAngularAxis(Fe,Le),ee._hasClipOnAxisFalse&&!M.isFullCircle(ee.sectorInRad)&&Te.call(t.hideOutsideRangePoints,ee);var st=!1;for(var vt in ee.traceHash)if(n.traceIs(vt,"gl")){var xt=ee.traceHash[vt],gt=M.filterVisible(xt);xt[0][0].trace._module.plot(Q,ee,gt,Le),gt.length&&(st=!0)}st&&(_(Q),A(Q));var nt={};Ne(nt),Q.emit("plotly_relayouting",nt)}function Ne(Me){Me[ee.id+".angularaxis.rotation"]=ae,ee.vangles&&(Me[ee.id+".radialaxis.angle"]=pe)}function ge(){Ce.select("text").attr("transform",null);var Me={};Ne(Me),n.call("_guiRelayout",Q,Me)}ye.prepFn=function(Me,Ee,Fe){var Le=ne[ee.id];ue=Le.angularaxis.rotation;var Ue=me.getBoundingClientRect();Ie=Ee-Ue.left,xe=Fe-Ue.top,Q._fullLayout._calcInverseTransform(Q);var Ge=M.apply3DTransform(ne._invTransform)(Ie,xe);Ie=Ge[0],xe=Ge[1],De=Se(Ie,xe),ye.moveFn=Re,ye.doneFn=ge,m(Q)},ee.vangles&&!M.isFullCircle(ee.sectorInRad)&&(ye.prepFn=M.noop,T(p.select(me),null)),h.init(ye)},H.isPtInside=function(ne){if(this.isSmith)return!0;var ee=this.sectorInRad,Q=this.vangles,X=this.angularAxis.c2g(ne.theta),se=this.radialAxis,ce=se.c2l(ne.r),le=se._rl;return(Q?k.isPtInsidePolygon:M.isPtInsideSector)(ce,X,le,ee,Q)},H.pathArc=function(ne){var ee=this.sectorInRad,Q=this.vangles;return(Q?k.pathPolygon:M.pathArc)(ne,ee[0],ee[1],Q)},H.pathSector=function(ne){var ee=this.sectorInRad,Q=this.vangles;return(Q?k.pathPolygon:M.pathSector)(ne,ee[0],ee[1],Q)},H.pathAnnulus=function(ne,ee){var Q=this.sectorInRad,X=this.vangles;return(X?k.pathPolygonAnnulus:M.pathAnnulus)(ne,ee,Q[0],Q[1],X)},H.pathSubplot=function(){var ne=this.innerRadius,ee=this.radius;return ne?this.pathAnnulus(ne,ee):this.pathSector(ee)},H.fillViewInitialKey=function(ne,ee){ne in this.viewInitial||(this.viewInitial[ne]=ee)}},57696:function(S,x,e){"use strict";var p=e(3400),y=e(78344),n=p.deg2rad,M=p.rad2deg;S.exports=function(b,f,s){switch(y(b,s),b._id){case"x":case"radialaxis":(function(t,o){var r=o._subplot;t.setGeometry=function(){var i=t._rl[0],a=t._rl[1],l=r.innerRadius,u=(r.radius-l)/(a-i),h=l/u,c=i>a?function(w){return w<=0}:function(w){return w>=0};t.c2g=function(w){var g=t.c2l(w)-i;return(c(g)?g:0)+h},t.g2c=function(w){return t.l2c(w+i-h)},t.g2p=function(w){return w*u},t.c2p=function(w){return t.g2p(t.c2g(w))}}})(b,f);break;case"angularaxis":(function(t,o){var r=t.type;if(r==="linear"){var i=t.d2c,a=t.c2d;t.d2c=function(l,u){return function(h,c){return c==="degrees"?n(h):h}(i(l),u)},t.c2d=function(l,u){return a(function(h,c){return c==="degrees"?M(h):h}(l,u))}}t.makeCalcdata=function(l,u){var h,c,w=l[u],g=l._length,v=function(d){return t.d2c(d,l.thetaunit)};if(w)for(h=new Array(g),c=0;c<g;c++)h[c]=v(w[c]);else{var m=u+"0",T="d"+u,_=m in l?v(l[m]):0,A=l[T]?v(l[T]):(t.period||2*Math.PI)/g;for(h=new Array(g),c=0;c<g;c++)h[c]=_+c*A}return h},t.setGeometry=function(){var l,u,h,c,w=o.sector,g=w.map(n),v={clockwise:-1,counterclockwise:1}[t.direction],m=n(t.rotation),T=function(C){return v*C+m},_=function(C){return(C-m)/v};switch(r){case"linear":u=l=p.identity,c=n,h=M,t.range=p.isFullCircle(g)?[w[0],w[0]+360]:g.map(_).map(M);break;case"category":var A=t._categories.length,d=t.period?Math.max(t.period,A):A;d===0&&(d=1),u=c=function(C){return 2*C*Math.PI/d},l=h=function(C){return C*d/Math.PI/2},t.range=[0,d]}t.c2g=function(C){return T(u(C))},t.g2c=function(C){return l(_(C))},t.t2g=function(C){return T(c(C))},t.g2t=function(C){return h(_(C))}}})(b,f)}}},55012:function(S){"use strict";S.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(S){"use strict";function x(n){return n<0?-1:n>0?1:0}function e(n){var M=n[0],b=n[1];if(!isFinite(M)||!isFinite(b))return[1,0];var f=(M+1)*(M+1)+b*b;return[(M*M+b*b-1)/f,2*b/f]}function p(n,M){var b=M[0],f=M[1];return[b*n.radius+n.cx,-f*n.radius+n.cy]}function y(n,M){return M*n.radius}S.exports={smith:e,reactanceArc:function(n,M,b,f){var s=p(n,e([b,M])),t=s[0],o=s[1],r=p(n,e([f,M])),i=r[0],a=r[1];if(M===0)return["M"+t+","+o,"L"+i+","+a].join(" ");var l=y(n,1/Math.abs(M));return["M"+t+","+o,"A"+l+","+l+" 0 0,"+(M<0?1:0)+" "+i+","+a].join(" ")},resistanceArc:function(n,M,b,f){var s=y(n,1/(M+1)),t=p(n,e([M,b])),o=t[0],r=t[1],i=p(n,e([M,f])),a=i[0],l=i[1];if(x(b)!==x(f)){var u=p(n,e([M,0]));return["M"+o+","+r,"A"+s+","+s+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(f<0?0:1)+a+","+l].join(" ")}return["M"+o+","+r,"A"+s+","+s+" 0 0,"+(f<b?0:1)+" "+a+","+l].join(" ")},smithTransform:p}},47788:function(S,x,e){"use strict";var p=e(84888).KY,y=e(3400).counterRegex,n=e(62400),M=e(55012),b=M.attr,f=M.name,s=y(f),t={};t[b]={valType:"subplotid",dflt:f,editType:"calc"},S.exports={attr:b,name:f,idRoot:f,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(o){for(var r=o._fullLayout,i=o.calcdata,a=r._subplots[f],l=0;l<a.length;l++){var u=a[l],h=p(i,f,u),c=r[u]._subplot;c||(c=n(o,u,!0),r[u]._subplot=c),c.plot(h,r,o._promises)}},clean:function(o,r,i,a){for(var l=a._subplots[f]||[],u=0;u<l.length;u++){var h=l[u],c=a[h]._subplot;if(!r[h]&&c)for(var w in c.framework.remove(),c.clipPaths)c.clipPaths[w].remove()}},toSVG:e(57952).toSVG}},6183:function(S,x,e){"use strict";var p=e(22548),y=e(94724),n=e(86968).u,M=e(3400).extendFlat,b=e(67824).overrideAll,f=b({color:y.color,showline:M({},y.showline,{dflt:!0}),linecolor:y.linecolor,linewidth:y.linewidth,showgrid:M({},y.showgrid,{dflt:!0}),gridcolor:y.gridcolor,gridwidth:y.gridwidth,griddash:y.griddash},"plot","from-root"),s=b({ticklen:y.ticklen,tickwidth:M({},y.tickwidth,{dflt:2}),tickcolor:y.tickcolor,showticklabels:y.showticklabels,labelalias:y.labelalias,showtickprefix:y.showtickprefix,tickprefix:y.tickprefix,showticksuffix:y.showticksuffix,ticksuffix:y.ticksuffix,tickfont:y.tickfont,tickformat:y.tickformat,hoverformat:y.hoverformat,layer:y.layer},"plot","from-root"),t=M({visible:M({},y.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:M({},y.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},f,s),o=M({visible:M({},y.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:y.ticks,editType:"calc"},f,s);S.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:t,imaginaryaxis:o,editType:"calc"}},22836:function(S,x,e){"use strict";var p,y,n,M=e(3400),b=e(76308),f=e(31780),s=e(168),t=e(84888).op,o=e(42568),r=e(95936),i=e(42136),a=e(78344),l=e(6183),u=e(55012),h=u.axisNames,c=(p=function(g){return M.isTypedArray(g)&&(g=Array.from(g)),g.slice().reverse().map(function(v){return-v}).concat([0]).concat(g)},y=String,n={},function(g){var v=y?y(g):g;if(v in n)return n[v];var m=p(g);return n[v]=m,m});function w(g,v,m,T){var _=m("bgcolor");T.bgColor=b.combine(_,T.paper_bgcolor);var A,d=t(T.fullData,u.name,T.id),C=T.layoutOut;function k(H,Y){return m(A+"."+H,Y)}for(var D=0;D<h.length;D++){A=h[D],M.isPlainObject(g[A])||(g[A]={});var O=g[A],L=f.newContainer(v,A);L._id=L._name=A,L._attr=T.id+"."+A,L._traceIndices=d.map(function(H){return H._expandedIndex});var R=k("visible");if(L.type="linear",a(L,C),o(O,L,k,L.type),R){var z,q,N,V,Z=A==="realaxis";Z&&k("side"),Z?k("tickvals"):k("tickvals",c(v.realaxis.tickvals||l.realaxis.tickvals.dflt)),M.isTypedArray(L.tickvals)&&(L.tickvals=Array.from(L.tickvals));var j=T.font||{};R&&(q=(z=k("color"))===O.color?z:j.color,N=j.size,V=j.family),r(O,L,k,L.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!Z,noExp:!0,font:{color:q,size:N,family:V}}),M.coerce2(g,v,l,A+".ticklen"),M.coerce2(g,v,l,A+".tickwidth"),M.coerce2(g,v,l,A+".tickcolor",v.color),k("ticks")||(delete v[A].ticklen,delete v[A].tickwidth,delete v[A].tickcolor),i(O,L,k,{dfltColor:z,bgColor:T.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[A]}),k("layer")}k("hoverformat"),delete L.type,L._input=O}}S.exports=function(g,v,m){s(g,v,m,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:w,font:v.font,paper_bgcolor:v.paper_bgcolor,fullData:m,layoutOut:v})}},168:function(S,x,e){"use strict";var p=e(3400),y=e(31780),n=e(86968).Q;S.exports=function(M,b,f,s){var t,o,r=s.type,i=s.attributes,a=s.handleDefaults,l=s.partition||"x",u=b._subplots[r],h=u.length,c=h&&u[0].replace(/\d+$/,"");function w(T,_){return p.coerce(t,o,i,T,_)}for(var g=0;g<h;g++){var v=u[g];t=M[v]?M[v]:M[v]={},o=y.newContainer(b,v,c),s.noUirevision||w("uirevision",b.uirevision);var m={};m[l]=[g/h,(g+1)/h],n(o,b,w,m),s.id=v,a(t,o,w,s)}}},21776:function(S,x,e){"use strict";var p=e(26880);function y(n){var M=n.description?" "+n.description:"",b=n.keys||[];if(b.length>0){for(var f=[],s=0;s<b.length;s++)f[s]="`"+b[s]+"`";M+="Finally, the template string has access to ",M=b.length===1?M+"variable "+f[0]:M+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return M}p.FORMAT_LINK,p.DATE_FORMAT_LINK,x.Ks=function(n,M){n=n||{},y(M=M||{});var b={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(b.arrayOk=!0),b},x.Gw=function(n,M){n=n||{},y(M=M||{});var b={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(b.arrayOk=!0),b},x.ye=function(n,M){return M=M||{},(n=n||{}).newshape,y(M),{valType:"string",dflt:"",editType:n.editType||"arraydraw"}}},19352:function(S,x,e){"use strict";var p=e(24696),y=e(84888).KY,n=e(3400).counterRegex,M="ternary";x.name=M;var b=x.attr="subplot";x.idRoot=M,x.idRegex=x.attrRegex=n(M),(x.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},x.layoutAttributes=e(86379),x.supplyLayoutDefaults=e(38536),x.plot=function(f){for(var s=f._fullLayout,t=f.calcdata,o=s._subplots[M],r=0;r<o.length;r++){var i=o[r],a=y(t,M,i),l=s[i]._subplot;l||(l=new p({id:i,graphDiv:f,container:s._ternarylayer.node()},s),s[i]._subplot=l),l.plot(a,s,f._promises)}},x.clean=function(f,s,t,o){for(var r=o._subplots[M]||[],i=0;i<r.length;i++){var a=r[i],l=o[a]._subplot;!s[a]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(S,x,e){"use strict";var p=e(22548),y=e(86968).u,n=e(94724),M=e(67824).overrideAll,b=e(92880).extendFlat,f={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:b({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:b({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:b({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},s=S.exports=M({domain:y({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:f,baxis:f,caxis:f},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},38536:function(S,x,e){"use strict";var p=e(76308),y=e(31780),n=e(3400),M=e(168),b=e(95936),f=e(42568),s=e(25404),t=e(26332),o=e(42136),r=e(86379),i=["aaxis","baxis","caxis"];function a(u,h,c,w){var g,v,m,T=c("bgcolor"),_=c("sum");w.bgColor=p.combine(T,w.paper_bgcolor);for(var A=0;A<i.length;A++)v=u[g=i[A]]||{},(m=y.newContainer(h,g))._name=g,l(v,m,w,h);var d=h.aaxis,C=h.baxis,k=h.caxis;d.min+C.min+k.min>=_&&(d.min=0,C.min=0,k.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,h,c,w){var g=r[h._name];function v(C,k){return n.coerce(u,h,g,C,k)}v("uirevision",w.uirevision),h.type="linear";var m=v("color"),T=m!==g.color.dflt?m:c.font.color,_=h._name.charAt(0).toUpperCase(),A="Component "+_,d=v("title.text",A);h._hovertitle=d===A?d:_,n.coerceFont(v,"title.font",c.font,{overrideDflt:{size:n.bigFont(c.font.size),color:T}}),v("min"),t(u,h,v,"linear"),f(u,h,v,"linear"),b(u,h,v,"linear",{noAutotickangles:!0}),s(u,h,v,{outerTicks:!0}),v("showticklabels")&&(n.coerceFont(v,"tickfont",c.font,{overrideDflt:{color:T}}),v("tickangle"),v("tickformat")),o(u,h,v,{dfltColor:m,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),v("hoverformat"),v("layer")}S.exports=function(u,h,c){M(u,h,c,{type:"ternary",attributes:r,handleDefaults:a,font:h.font,paper_bgcolor:h.paper_bgcolor})}},24696:function(S,x,e){"use strict";var p=e(33428),y=e(49760),n=e(24040),M=e(3400),b=M.strTranslate,f=M._,s=e(76308),t=e(43616),o=e(78344),r=e(92880).extendFlat,i=e(7316),a=e(54460),l=e(86476),u=e(93024),h=e(72760),c=h.freeMode,w=h.rectMode,g=e(81668),v=e(22676).prepSelect,m=e(22676).selectOnClick,T=e(22676).clearOutline,_=e(22676).clearSelectionsCache,A=e(33816);function d(N,V){this.id=N.id,this.graphDiv=N.graphDiv,this.init(V),this.makeFramework(V),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}S.exports=d;var C=d.prototype;C.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},C.plot=function(N,V){var Z=this,j=V[Z.id],H=V._size;Z._hasClipOnAxisFalse=!1;for(var Y=0;Y<N.length;Y++)if(N[Y][0].trace.cliponaxis===!1){Z._hasClipOnAxisFalse=!0;break}Z.updateLayers(j),Z.adjustLayout(j,H),i.generalUpdatePerTraceModule(Z.graphDiv,Z,N,j),Z.layers.plotbg.select("path").call(s.fill,j.bgcolor)},C.makeFramework=function(N){var V=this,Z=V.graphDiv,j=N[V.id],H=V.clipId="clip"+V.layoutId+V.id,Y=V.clipIdRelative="clip-relative"+V.layoutId+V.id;V.clipDef=M.ensureSingleById(N._clips,"clipPath",H,function(ie){ie.append("path").attr("d","M0,0Z")}),V.clipDefRelative=M.ensureSingleById(N._clips,"clipPath",Y,function(ie){ie.append("path").attr("d","M0,0Z")}),V.plotContainer=M.ensureSingle(V.container,"g",V.id),V.updateLayers(j),t.setClipUrl(V.layers.backplot,H,Z),t.setClipUrl(V.layers.grids,H,Z)},C.updateLayers=function(N){var V=this.layers,Z=["draglayer","plotbg","backplot","grids"];N.aaxis.layer==="below traces"&&Z.push("aaxis","aline"),N.baxis.layer==="below traces"&&Z.push("baxis","bline"),N.caxis.layer==="below traces"&&Z.push("caxis","cline"),Z.push("frontplot"),N.aaxis.layer==="above traces"&&Z.push("aaxis","aline"),N.baxis.layer==="above traces"&&Z.push("baxis","bline"),N.caxis.layer==="above traces"&&Z.push("caxis","cline");var j=this.plotContainer.selectAll("g.toplevel").data(Z,String),H=["agrid","bgrid","cgrid"];j.enter().append("g").attr("class",function(Y){return"toplevel "+Y}).each(function(Y){var ie=p.select(this);V[Y]=ie,Y==="frontplot"?ie.append("g").classed("scatterlayer",!0):Y==="backplot"?ie.append("g").classed("maplayer",!0):Y==="plotbg"?ie.append("path").attr("d","M0,0Z"):Y==="aline"||Y==="bline"||Y==="cline"?ie.append("path"):Y==="grids"&&H.forEach(function(re){V[re]=ie.append("g").classed("grid "+re,!0)})}),j.order()};var k=Math.sqrt(4/3);C.adjustLayout=function(N,V){var Z,j,H,Y,ie,re,ne=this,ee=N.domain,Q=(ee.x[0]+ee.x[1])/2,X=(ee.y[0]+ee.y[1])/2,se=ee.x[1]-ee.x[0],ce=ee.y[1]-ee.y[0],le=se*V.w,de=ce*V.h,be=N.sum,_e=N.aaxis.min,ve=N.baxis.min,me=N.caxis.min;le>k*de?H=(Y=de)*k:Y=(H=le)/k,ie=se*H/le,re=ce*Y/de,Z=V.l+V.w*Q-H/2,j=V.t+V.h*(1-X)-Y/2,ne.x0=Z,ne.y0=j,ne.w=H,ne.h=Y,ne.sum=be,ne.xaxis={type:"linear",range:[_e+2*me-be,be-_e-2*ve],domain:[Q-ie/2,Q+ie/2],_id:"x"},o(ne.xaxis,ne.graphDiv._fullLayout),ne.xaxis.setScale(),ne.xaxis.isPtWithinRange=function(Ce){return Ce.a>=ne.aaxis.range[0]&&Ce.a<=ne.aaxis.range[1]&&Ce.b>=ne.baxis.range[1]&&Ce.b<=ne.baxis.range[0]&&Ce.c>=ne.caxis.range[1]&&Ce.c<=ne.caxis.range[0]},ne.yaxis={type:"linear",range:[_e,be-ve-me],domain:[X-re/2,X+re/2],_id:"y"},o(ne.yaxis,ne.graphDiv._fullLayout),ne.yaxis.setScale(),ne.yaxis.isPtWithinRange=function(){return!0};var ye=ne.yaxis.domain[0],Se=ne.aaxis=r({},N.aaxis,{range:[_e,be-ve-me],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[ye,ye+re*k],anchor:"free",position:0,_id:"y",_length:H});o(Se,ne.graphDiv._fullLayout),Se.setScale();var Ie=ne.baxis=r({},N.baxis,{range:[be-_e-me,ve],side:"bottom",domain:ne.xaxis.domain,anchor:"free",position:0,_id:"x",_length:H});o(Ie,ne.graphDiv._fullLayout),Ie.setScale();var xe=ne.caxis=r({},N.caxis,{range:[be-_e-ve,me],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[ye,ye+re*k],anchor:"free",position:0,_id:"y",_length:H});o(xe,ne.graphDiv._fullLayout),xe.setScale();var ue="M"+Z+","+(j+Y)+"h"+H+"l-"+H/2+",-"+Y+"Z";ne.clipDef.select("path").attr("d",ue),ne.layers.plotbg.select("path").attr("d",ue);var ae="M0,"+Y+"h"+H+"l-"+H/2+",-"+Y+"Z";ne.clipDefRelative.select("path").attr("d",ae);var pe=b(Z,j);ne.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",pe),ne.clipDefRelative.select("path").attr("transform",null);var De=b(Z-Ie._offset,j+Y);ne.layers.baxis.attr("transform",De),ne.layers.bgrid.attr("transform",De);var Te=b(Z+H/2,j)+"rotate(30)"+b(0,-Se._offset);ne.layers.aaxis.attr("transform",Te),ne.layers.agrid.attr("transform",Te);var Ae=b(Z+H/2,j)+"rotate(-30)"+b(0,-xe._offset);ne.layers.caxis.attr("transform",Ae),ne.layers.cgrid.attr("transform",Ae),ne.drawAxes(!0),ne.layers.aline.select("path").attr("d",Se.showline?"M"+Z+","+(j+Y)+"l"+H/2+",-"+Y:"M0,0").call(s.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),ne.layers.bline.select("path").attr("d",Ie.showline?"M"+Z+","+(j+Y)+"h"+H:"M0,0").call(s.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),ne.layers.cline.select("path").attr("d",xe.showline?"M"+(Z+H/2)+","+j+"l"+H/2+","+Y:"M0,0").call(s.stroke,xe.linecolor||"#000").style("stroke-width",(xe.linewidth||0)+"px"),ne.graphDiv._context.staticPlot||ne.initInteractions(),t.setClipUrl(ne.layers.frontplot,ne._hasClipOnAxisFalse?null:ne.clipId,ne.graphDiv)},C.drawAxes=function(N){var V=this,Z=V.graphDiv,j=V.id.substr(7)+"title",H=V.layers,Y=V.aaxis,ie=V.baxis,re=V.caxis;if(V.drawAx(Y),V.drawAx(ie),V.drawAx(re),N){var ne=Math.max(Y.showticklabels?Y.tickfont.size/2:0,(re.showticklabels?.75*re.tickfont.size:0)+(re.ticks==="outside"?.87*re.ticklen:0)),ee=(ie.showticklabels?ie.tickfont.size:0)+(ie.ticks==="outside"?ie.ticklen:0)+3;H["a-title"]=g.draw(Z,"a"+j,{propContainer:Y,propName:V.id+".aaxis.title",placeholder:f(Z,"Click to enter Component A title"),attributes:{x:V.x0+V.w/2,y:V.y0-Y.title.font.size/3-ne,"text-anchor":"middle"}}),H["b-title"]=g.draw(Z,"b"+j,{propContainer:ie,propName:V.id+".baxis.title",placeholder:f(Z,"Click to enter Component B title"),attributes:{x:V.x0-ee,y:V.y0+V.h+.83*ie.title.font.size+ee,"text-anchor":"middle"}}),H["c-title"]=g.draw(Z,"c"+j,{propContainer:re,propName:V.id+".caxis.title",placeholder:f(Z,"Click to enter Component C title"),attributes:{x:V.x0+V.w+ee,y:V.y0+V.h+.83*re.title.font.size+ee,"text-anchor":"middle"}})}},C.drawAx=function(N){var V,Z=this,j=Z.graphDiv,H=N._name,Y=H.charAt(0),ie=N._id,re=Z.layers[H],ne=Y+"tickLayout",ee=(V=N).ticks+String(V.ticklen)+String(V.showticklabels);Z[ne]!==ee&&(re.selectAll("."+ie+"tick").remove(),Z[ne]=ee),N.setScale();var Q=a.calcTicks(N),X=a.clipEnds(N,Q),se=a.makeTransTickFn(N),ce=a.getTickSigns(N)[2],le=M.deg2rad(30),de=ce*(N.linewidth||1)/2,be=ce*N.ticklen,_e=Z.w,ve=Z.h,me=Y==="b"?"M0,"+de+"l"+Math.sin(le)*be+","+Math.cos(le)*be:"M"+de+",0l"+Math.cos(le)*be+","+-Math.sin(le)*be,ye={a:"M0,0l"+ve+",-"+_e/2,b:"M0,0l-"+_e/2+",-"+ve,c:"M0,0l-"+ve+","+_e/2}[Y];a.drawTicks(j,N,{vals:N.ticks==="inside"?X:Q,layer:re,path:me,transFn:se,crisp:!1}),a.drawGrid(j,N,{vals:X,layer:Z.layers[Y+"grid"],path:ye,transFn:se,crisp:!1}),a.drawLabels(j,N,{vals:Q,layer:re,transFn:se,labelFns:a.makeLabelFns(N,0,30)})};var D=A.MINZOOM/2+.87,O="m-0.87,.5h"+D+"v3h-"+(D+5.2)+"l"+(D/2+2.6)+",-"+(.87*D+4.5)+"l2.6,1.5l-"+D/2+","+.87*D+"Z",L="m0.87,.5h-"+D+"v3h"+(D+5.2)+"l-"+(D/2+2.6)+",-"+(.87*D+4.5)+"l-2.6,1.5l"+D/2+","+.87*D+"Z",R="m0,1l"+D/2+","+.87*D+"l2.6,-1.5l-"+(D/2+2.6)+",-"+(.87*D+4.5)+"l-"+(D/2+2.6)+","+(.87*D+4.5)+"l2.6,1.5l"+D/2+",-"+.87*D+"Z",z=!0;function q(N){p.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}C.clearOutline=function(){_(this.dragOptions),T(this.dragOptions.gd)},C.initInteractions=function(){var N,V,Z,j,H,Y,ie,re,ne,ee,Q,X,se=this,ce=se.layers.plotbg.select("path").node(),le=se.graphDiv,de=le._fullLayout._zoomlayer;function be(ae){var pe={};return pe[se.id+".aaxis.min"]=ae.a,pe[se.id+".baxis.min"]=ae.b,pe[se.id+".caxis.min"]=ae.c,pe}function _e(ae,pe){var De=le._fullLayout.clickmode;q(le),ae===2&&(le.emit("plotly_doubleclick",null),n.call("_guiRelayout",le,be({a:0,b:0,c:0}))),De.indexOf("select")>-1&&ae===1&&m(pe,le,[se.xaxis],[se.yaxis],se.id,se.dragOptions),De.indexOf("event")>-1&&u.click(le,pe,se.id)}function ve(ae,pe){return 1-pe/se.h}function me(ae,pe){return 1-(ae+(se.h-pe)/Math.sqrt(3))/se.w}function ye(ae,pe){return(ae-(se.h-pe)/Math.sqrt(3))/se.w}function Se(ae,pe){var De=Z+ae*N,Te=j+pe*V,Ae=Math.max(0,Math.min(1,ve(0,j),ve(0,Te))),Ce=Math.max(0,Math.min(1,me(Z,j),me(De,Te))),Re=Math.max(0,Math.min(1,ye(Z,j),ye(De,Te))),Ne=(Ae/2+Re)*se.w,ge=(1-Ae/2-Ce)*se.w,Me=(Ne+ge)/2,Ee=ge-Ne,Fe=(1-Ae)*se.h,Le=Fe-Ee/k;Ee<A.MINZOOM?(ie=H,Q.attr("d",ne),X.attr("d","M0,0Z")):(ie={a:H.a+Ae*Y,b:H.b+Ce*Y,c:H.c+Re*Y},Q.attr("d",ne+"M"+Ne+","+Fe+"H"+ge+"L"+Me+","+Le+"L"+Ne+","+Fe+"Z"),X.attr("d","M"+Z+","+j+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Ne+","+Fe+O+"M"+ge+","+Fe+L+"M"+Me+","+Le+R)),ee||(Q.transition().style("fill",re>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),X.transition().style("opacity",1).duration(200),ee=!0),le.emit("plotly_relayouting",be(ie))}function Ie(){q(le),ie!==H&&(n.call("_guiRelayout",le,be(ie)),z&&le.data&&le._context.showTips&&(M.notifier(f(le,"Double-click to zoom back out"),"long"),z=!1))}function xe(ae,pe){var De=ae/se.xaxis._m,Te=pe/se.yaxis._m,Ae=[(ie={a:H.a-Te,b:H.b+(De+Te)/2,c:H.c-(De-Te)/2}).a,ie.b,ie.c].sort(M.sorterAsc),Ce=Ae.indexOf(ie.a),Re=Ae.indexOf(ie.b),Ne=Ae.indexOf(ie.c);Ae[0]<0&&(Ae[1]+Ae[0]/2<0?(Ae[2]+=Ae[0]+Ae[1],Ae[0]=Ae[1]=0):(Ae[2]+=Ae[0]/2,Ae[1]+=Ae[0]/2,Ae[0]=0),ie={a:Ae[Ce],b:Ae[Re],c:Ae[Ne]},pe=(H.a-ie.a)*se.yaxis._m,ae=(H.c-ie.c-H.b+ie.b)*se.xaxis._m);var ge=b(se.x0+ae,se.y0+pe);se.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",ge);var Me=b(-ae,-pe);se.clipDefRelative.select("path").attr("transform",Me),se.aaxis.range=[ie.a,se.sum-ie.b-ie.c],se.baxis.range=[se.sum-ie.a-ie.c,ie.b],se.caxis.range=[se.sum-ie.a-ie.b,ie.c],se.drawAxes(!1),se._hasClipOnAxisFalse&&se.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,se),le.emit("plotly_relayouting",be(ie))}function ue(){n.call("_guiRelayout",le,be(ie))}this.dragOptions={element:ce,gd:le,plotinfo:{id:se.id,domain:le._fullLayout[se.id].domain,xaxis:se.xaxis,yaxis:se.yaxis},subplot:se.id,prepFn:function(ae,pe,De){se.dragOptions.xaxes=[se.xaxis],se.dragOptions.yaxes=[se.yaxis],N=le._fullLayout._invScaleX,V=le._fullLayout._invScaleY;var Te=se.dragOptions.dragmode=le._fullLayout.dragmode;c(Te)?se.dragOptions.minDrag=1:se.dragOptions.minDrag=void 0,Te==="zoom"?(se.dragOptions.moveFn=Se,se.dragOptions.clickFn=_e,se.dragOptions.doneFn=Ie,function(Ae,Ce,Re){var Ne=ce.getBoundingClientRect();Z=Ce-Ne.left,j=Re-Ne.top,le._fullLayout._calcInverseTransform(le);var ge=le._fullLayout._invTransform,Me=M.apply3DTransform(ge)(Z,j);Z=Me[0],j=Me[1],H={a:se.aaxis.range[0],b:se.baxis.range[1],c:se.caxis.range[1]},ie=H,Y=se.aaxis.range[1]-H.a,re=y(se.graphDiv._fullLayout[se.id].bgcolor).getLuminance(),ne="M0,"+se.h+"L"+se.w/2+", 0L"+se.w+","+se.h+"Z",ee=!1,Q=de.append("path").attr("class","zoombox").attr("transform",b(se.x0,se.y0)).style({fill:re>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ne),X=de.append("path").attr("class","zoombox-corners").attr("transform",b(se.x0,se.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),se.clearOutline(le)}(0,pe,De)):Te==="pan"?(se.dragOptions.moveFn=xe,se.dragOptions.clickFn=_e,se.dragOptions.doneFn=ue,H={a:se.aaxis.range[0],b:se.baxis.range[1],c:se.caxis.range[1]},ie=H,se.clearOutline(le)):(w(Te)||c(Te))&&v(ae,pe,De,se.dragOptions,Te)}},ce.onmousemove=function(ae){u.hover(le,ae,se.id),le._fullLayout._lasthover=ce,le._fullLayout._hoversubplot=se.id},ce.onmouseout=function(ae){le._dragging||l.unhover(le,ae)},l.init(this.dragOptions)}},24040:function(S,x,e){"use strict";var p=e(24248),y=e(16628),n=e(52416),M=e(63620),b=e(52200).addStyleRule,f=e(92880),s=e(45464),t=e(64859),o=f.extendFlat,r=f.extendDeepAll;function i(m){var T=m.name,_=m.categories,A=m.meta;if(x.modules[T])p.log("Type "+T+" already registered");else{x.subplotsRegistry[m.basePlotModule.name]||function(z){var q=z.name;if(x.subplotsRegistry[q])p.log("Plot type "+q+" already registered.");else for(var N in h(z),x.subplotsRegistry[q]=z,x.componentsRegistry)g(N,z.name)}(m.basePlotModule);for(var d={},C=0;C<_.length;C++)d[_[C]]=!0,x.allCategories[_[C]]=!0;for(var k in x.modules[T]={_module:m,categories:d},A&&Object.keys(A).length&&(x.modules[T].meta=A),x.allTypes.push(T),x.componentsRegistry)c(k,T);m.layoutAttributes&&o(x.traceLayoutAttributes,m.layoutAttributes);var D=m.basePlotModule,O=D.name;if(O==="mapbox"){var L=D.constants.styleRules;for(var R in L)b(".js-plotly-plot .plotly .mapboxgl-"+R,L[R])}O!=="geo"&&O!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function a(m){if(typeof m.name!="string")throw new Error("Component module *name* must be a string.");var T=m.name;for(var _ in x.componentsRegistry[T]=m,m.layoutAttributes&&(m.layoutAttributes._isLinkedToArray&&n(x.layoutArrayContainers,T),h(m)),x.modules)c(T,_);for(var A in x.subplotsRegistry)g(T,A);for(var d in x.transformsRegistry)w(T,d);m.schema&&m.schema.layout&&r(t,m.schema.layout)}function l(m){if(typeof m.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+m.name,_=typeof m.transform=="function",A=typeof m.calcTransform=="function";if(!_&&!A)throw new Error(T+" is missing a *transform* or *calcTransform* method.");for(var d in _&&A&&p.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),M(m.attributes)||p.log(T+" registered without an *attributes* object."),typeof m.supplyDefaults!="function"&&p.log(T+" registered without a *supplyDefaults* method."),x.transformsRegistry[m.name]=m,x.componentsRegistry)w(d,m.name)}function u(m){var T=m.name,_=T.split("-")[0],A=m.dictionary,d=m.format,C=A&&Object.keys(A).length,k=d&&Object.keys(d).length,D=x.localeRegistry,O=D[T];if(O||(D[T]=O={}),_!==T){var L=D[_];L||(D[_]=L={}),C&&L.dictionary===O.dictionary&&(L.dictionary=A),k&&L.format===O.format&&(L.format=d)}C&&(O.dictionary=A),k&&(O.format=d)}function h(m){if(m.layoutAttributes){var T=m.layoutAttributes._arrayAttrRegexps;if(T)for(var _=0;_<T.length;_++)n(x.layoutArrayRegexes,T[_])}}function c(m,T){var _=x.componentsRegistry[m].schema;if(_&&_.traces){var A=_.traces[T];A&&r(x.modules[T]._module.attributes,A)}}function w(m,T){var _=x.componentsRegistry[m].schema;if(_&&_.transforms){var A=_.transforms[T];A&&r(x.transformsRegistry[T].attributes,A)}}function g(m,T){var _=x.componentsRegistry[m].schema;if(_&&_.subplots){var A=x.subplotsRegistry[T],d=A.layoutAttributes,C=A.attr==="subplot"?A.name:A.attr;Array.isArray(C)&&(C=C[0]);var k=_.subplots[C];d&&k&&r(d,k)}}function v(m){return typeof m=="object"&&(m=m.type),m}x.modules={},x.allCategories={},x.allTypes=[],x.subplotsRegistry={},x.transformsRegistry={},x.componentsRegistry={},x.layoutArrayContainers=[],x.layoutArrayRegexes=[],x.traceLayoutAttributes={},x.localeRegistry={},x.apiMethodRegistry={},x.collectableSubplotTypes=null,x.register=function(m){if(x.collectableSubplotTypes=null,!m)throw new Error("No argument passed to Plotly.register.");m&&!Array.isArray(m)&&(m=[m]);for(var T=0;T<m.length;T++){var _=m[T];if(!_)throw new Error("Invalid module was attempted to be registered!");switch(_.moduleType){case"trace":i(_);break;case"transform":l(_);break;case"component":a(_);break;case"locale":u(_);break;case"apiMethod":var A=_.name;x.apiMethodRegistry[A]=_.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},x.getModule=function(m){var T=x.modules[v(m)];return!!T&&T._module},x.traceIs=function(m,T){if((m=v(m))==="various")return!1;var _=x.modules[m];return _||(m&&p.log("Unrecognized trace type "+m+"."),_=x.modules[s.type.dflt]),!!_.categories[T]},x.getTransformIndices=function(m,T){for(var _=[],A=m.transforms||[],d=0;d<A.length;d++)A[d].type===T&&_.push(d);return _},x.hasTransform=function(m,T){for(var _=m.transforms||[],A=0;A<_.length;A++)if(_[A].type===T)return!0;return!1},x.getComponentMethod=function(m,T){var _=x.componentsRegistry[m];return _&&_[T]||y},x.call=function(){var m=arguments[0],T=[].slice.call(arguments,1);return x.apiMethodRegistry[m].apply(null,T)}},91536:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=y.extendFlat,M=y.extendDeep;function b(f){var s;switch(f){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}S.exports=function(f,s){var t,o,r=f.data,i=f.layout,a=M([],r),l=M({},i,b(s.tileClass)),u=f._context||{};if(s.width&&(l.width=s.width),s.height&&(l.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(t=0;t<h.length;t++)o=h[t],["xaxis","yaxis","zaxis"].indexOf(o.slice(0,5))>-1&&(l[h[t]].title={text:""});for(t=0;t<a.length;t++){var c=a[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),p.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)l.annotations.push(s.annotations[t]);var w=Object.keys(l).filter(function(_){return _.match(/^scene\d*$/)});if(w.length){var g={};for(s.tileClass==="thumbnail"&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<w.length;t++){var v=l[w[t]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),n(v.xaxis,g),n(v.yaxis,g),n(v.zaxis,g),v._scene=null}}var m=document.createElement("div");s.tileClass&&(m.className=s.tileClass);var T={gd:m,td:m,layout:l,data:a,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(T.config.setBackground=s.setBackground||"opaque"),T.gd.defaultLayout=b(s.tileClass),T}},39792:function(S,x,e){"use strict";var p=e(3400),y=e(67024),n=e(48616),M=e(81792);S.exports=function(b,f){var s;return p.isPlainObject(b)||(s=p.getGraphDiv(b)),(f=f||{}).format=f.format||"png",f.width=f.width||null,f.height=f.height||null,f.imageDataOnly=!0,new Promise(function(t,o){s&&s._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),p.isIE()&&f.format!=="svg"&&o(new Error(M.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var r=y(b,f),i=f.filename||b.fn||"newplot";i+="."+f.format.replace("-","."),r.then(function(a){return s&&(s._snapshotInProgress=!1),n(a,i,f.format)}).then(function(a){t(a)}).catch(function(a){s&&(s._snapshotInProgress=!1),o(a)})})}},48616:function(S,x,e){"use strict";var p=e(3400),y=e(81792);S.exports=function(n,M,b){var f=document.createElement("a"),s="download"in f;return new Promise(function(t,o){var r,i;if(p.isIE())return r=y.createBlob(n,"svg"),window.navigator.msSaveBlob(r,M),r=null,t(M);if(s)return r=y.createBlob(n,b),i=y.createObjectURL(r),f.href=i,f.download=M,document.body.appendChild(f),f.click(),document.body.removeChild(f),y.revokeObjectURL(i),r=null,t(M);if(p.isSafari()){var a=b==="svg"?",":";base64,";return y.octetStream(a+encodeURIComponent(n)),t(M)}o(new Error("download error"))})}},81792:function(S,x,e){"use strict";var p=e(24040);x.getDelay=function(n){return n._has&&(n._has("gl3d")||n._has("gl2d")||n._has("mapbox"))?500:0},x.getRedrawFunc=function(n){return function(){p.getComponentMethod("colorbar","draw")(n)}},x.encodeSVG=function(n){return"data:image/svg+xml,"+encodeURIComponent(n)},x.encodeJSON=function(n){return"data:application/json,"+encodeURIComponent(n)};var y=window.URL||window.webkitURL;x.createObjectURL=function(n){return y.createObjectURL(n)},x.revokeObjectURL=function(n){return y.revokeObjectURL(n)},x.createBlob=function(n,M){if(M==="svg")return new window.Blob([n],{type:"image/svg+xml;charset=utf-8"});if(M==="full-json")return new window.Blob([n],{type:"application/json;charset=utf-8"});var b=function(f){for(var s=f.length,t=new ArrayBuffer(s),o=new Uint8Array(t),r=0;r<s;r++)o[r]=f.charCodeAt(r);return t}(window.atob(n));return new window.Blob([b],{type:"image/"+M})},x.octetStream=function(n){document.location.href="data:application/octet-stream"+n},x.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,x.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(S,x,e){"use strict";var p=e(81792),y={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};S.exports=y},63268:function(S,x,e){"use strict";var p=e(3400),y=e(61252).EventEmitter,n=e(81792);S.exports=function(M){var b=M.emitter||new y,f=new Promise(function(s,t){var o=window.Image,r=M.svg,i=M.format||"png";if(p.isIE()&&i!=="svg"){var a=new Error(n.MSG_IE_BAD_FORMAT);return t(a),M.promise?f:b.emit("error",a)}var l,u,h=M.canvas,c=M.scale||1,w=M.width||300,g=M.height||150,v=c*w,m=c*g,T=h.getContext("2d",{willReadFrequently:!0}),_=new o;i==="svg"||p.isSafari()?u=n.encodeSVG(r):(l=n.createBlob(r,"svg"),u=n.createObjectURL(l)),h.width=v,h.height=m,_.onload=function(){var A;switch(l=null,n.revokeObjectURL(u),i!=="svg"&&T.drawImage(_,0,0,v,m),i){case"jpeg":A=h.toDataURL("image/jpeg");break;case"png":A=h.toDataURL("image/png");break;case"webp":A=h.toDataURL("image/webp");break;case"svg":A=u;break;default:var d="Image format is not jpeg, png, svg or webp.";if(t(new Error(d)),!M.promise)return b.emit("error",d)}s(A),M.promise||b.emit("success",A)},_.onerror=function(A){if(l=null,n.revokeObjectURL(u),t(A),!M.promise)return b.emit("error",A)},_.src=u});return M.promise?f:b}},61808:function(S,x,e){"use strict";var p=e(61252).EventEmitter,y=e(24040),n=e(3400),M=e(81792),b=e(91536),f=e(37164),s=e(63268);S.exports=function(t,o){var r=new p,i=b(t,{format:"png"}),a=i.gd;a.style.position="absolute",a.style.left="-5000px",document.body.appendChild(a);var l=M.getRedrawFunc(a);return y.call("_doPlot",a,i.data,i.layout,i.config).then(l).then(function(){var u=M.getDelay(a._fullLayout);setTimeout(function(){var h=f(a),c=document.createElement("canvas");c.id=n.randstr(),(r=s({format:o.format,width:a._fullLayout.width,height:a._fullLayout.height,canvas:c,emitter:r,svg:h})).clean=function(){a&&document.body.removeChild(a)}},u)}).catch(function(u){r.emit("error",u)}),r}},37164:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(76308),b=e(9616),f=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");S.exports=function(o,r,i){var a,l=o._fullLayout,u=l._paper,h=l._toppaper,c=l.width,w=l.height;u.insert("rect",":first-child").call(n.setRect,0,0,c,w).call(M.fill,l.paper_bgcolor);var g=l._basePlotModules||[];for(a=0;a<g.length;a++){var v=g[a];v.toSVG&&v.toSVG(o)}if(h){var m=h.node().childNodes,T=Array.prototype.slice.call(m);for(a=0;a<T.length;a++){var _=T[a];_.childNodes.length&&u.node().appendChild(_)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var d=p.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){d.style({visibility:null,display:null});var C=this.style.fontFamily;C&&C.indexOf('"')!==-1&&d.style("font-family",C.replace(f,s));var k=this.style.fontWeight;!k||k!=="normal"&&k!=="400"||d.style("font-weight",void 0);var D=this.style.fontStyle;D&&D==="normal"&&d.style("font-style",void 0);var O=this.style.fontVariant;O&&O==="normal"&&d.style("font-variant",void 0)}else d.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var d=p.select(this),C=this.style.fill;C&&C.indexOf("url(")!==-1&&d.style("fill",C.replace(f,s));var k=this.style.stroke;k&&k.indexOf("url(")!==-1&&d.style("stroke",k.replace(f,s))}),r!=="pdf"&&r!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),r==="svg"&&i&&(u.attr("width",i*c),u.attr("height",i*w),u.attr("viewBox","0 0 "+c+" "+w));var A=new window.XMLSerializer().serializeToString(u.node());return A=(A=(A=function(d){var C=p.select("body").append("div").style({display:"none"}).html(""),k=d.replace(/(&[^;]*;)/gi,function(D){return D==="&lt;"?"&#60;":D==="&rt;"?"&#62;":D.indexOf("<")!==-1||D.indexOf(">")!==-1?"":C.html(D).text()});return C.remove(),k}(A)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),y.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},84664:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){for(var M=0;M<y.length;M++)y[M].i=M;p.mergeArray(n.text,y,"tx"),p.mergeArray(n.hovertext,y,"htx");var b=n.marker;if(b){p.mergeArray(b.opacity,y,"mo",!0),p.mergeArray(b.color,y,"mc");var f=b.line;f&&(p.mergeArray(f.color,y,"mlc"),p.mergeArrayCastPositive(f.width,y,"mlw"))}}},20832:function(S,x,e){"use strict";var p=e(52904),y=e(29736).axisHoverFormat,n=e(21776).Ks,M=e(21776).Gw,b=e(49084),f=e(25376),s=e(78048),t=e(98192).c,o=e(92880).extendFlat,r=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),i=o({},p.marker.line.width,{dflt:0}),a=o({width:i,editType:"calc"},b("marker.line")),l=o({line:a,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t,cornerradius:{valType:"any",editType:"calc"}});S.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),text:p.text,texttemplate:M({editType:"plot"},{keys:s.eventDataKeys}),hovertext:p.hovertext,hovertemplate:n({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:o({},r,{}),insidetextfont:o({},r,{}),outsidetextfont:o({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:o({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},zorder:p.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(S,x,e){"use strict";var p=e(54460),y=e(1220),n=e(94288).hasColorscale,M=e(47128),b=e(84664),f=e(4500);S.exports=function(s,t){var o,r,i,a,l,u,h=p.getFromId(s,t.xaxis||"x"),c=p.getFromId(s,t.yaxis||"y"),w={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(o=h.makeCalcdata(t,"x",w),i=c.makeCalcdata(t,"y"),a=y(t,c,"y",i),l=!!t.yperiodalignment,u="y"):(o=c.makeCalcdata(t,"y",w),i=h.makeCalcdata(t,"x"),a=y(t,h,"x",i),l=!!t.xperiodalignment,u="x"),r=a.vals;for(var g=Math.min(r.length,o.length),v=new Array(g),m=0;m<g;m++)v[m]={p:r[m],s:o[m]},l&&(v[m].orig_p=i[m],v[m][u+"End"]=a.ends[m],v[m][u+"Start"]=a.starts[m]),t.ids&&(v[m].id=String(t.ids[m]));return n(t,"marker")&&M(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&M(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(v,t),f(v,t),v}},78048:function(S){"use strict";S.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(S,x,e){"use strict";var p=e(38248),y=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,M=e(24040),b=e(54460),f=e(71888).getAxisGroup,s=e(72592);function t(g,v,m,T,_){if(T.length){var A,d,C,k;switch(function(D,O){var L,R;for(L=0;L<O.length;L++){var z,q=O[L],N=q[0].trace,V=N.type==="funnel"?N._base:N.base,Z=N.orientation==="h"?N.xcalendar:N.ycalendar,j=D.type==="category"||D.type==="multicategory"?function(){return null}:D.d2c;if(y(V)){for(R=0;R<Math.min(V.length,q.length);R++)z=j(V[R],0,Z),p(z)?(q[R].b=+z,q[R].hasB=1):q[R].b=0;for(;R<q.length;R++)q[R].b=0}else{z=j(V,0,Z);var H=p(z);for(z=H?z:0,R=0;R<q.length;R++)q[R].b=z,H&&(q[R].hasB=1)}}}(m,T),_.mode){case"overlay":o(v,m,T,_);break;case"group":for(A=[],d=[],C=0;C<T.length;C++)(k=T[C])[0].trace.offset===void 0?d.push(k):A.push(k);d.length&&function(D,O,L,R,z){var q=new s(R,{posAxis:O,sepNegVal:!1,overlapNoMerge:!z.norm});(function(N,V,Z,j){for(var H=N._fullLayout,Y=Z.positions,ie=Z.distinctPositions,re=Z.minDiff,ne=Z.traces,ee=ne.length,Q=Y.length!==ie.length,X=re*(1-j.gap),se=f(H,V._id)+ne[0][0].trace.orientation,ce=H._alignmentOpts[se]||{},le=0;le<ee;le++){var de,be,_e=ne[le],ve=_e[0].trace,me=ce[ve.alignmentgroup]||{},ye=Object.keys(me.offsetGroups||{}).length,Se=(de=ye?X/ye:Q?X/ee:X)*(1-(j.groupgap||0));be=ye?((2*ve._offsetIndex+1-ye)*de-Se)/2:Q?((2*le+1-ee)*de-Se)/2:-Se/2;var Ie=_e[0].t;Ie.barwidth=Se,Ie.poffset=be,Ie.bargroupwidth=X,Ie.bardelta=re}Z.binWidth=ne[0][0].t.barwidth/100,i(Z),a(V,Z),l(V,Z,Q)})(D,O,q,z),function(N,V){for(var Z=N.traces,j=0;j<Z.length;j++){var H=Z[j];if(H[0].trace.base===void 0)for(var Y=new s([H],{posAxis:V,sepNegVal:!0,overlapNoMerge:!0}),ie=0;ie<H.length;ie++){var re=H[ie];if(re.p!==n){var ne=Y.put(re.p,re.b+re.s);ne&&(re.b=ne)}}}}(q,O),z.norm?(h(q),c(L,q,z)):u(L,q)}(g,v,m,d,_),A.length&&o(v,m,A,_);break;case"stack":case"relative":for(A=[],d=[],C=0;C<T.length;C++)(k=T[C])[0].trace.base===void 0?d.push(k):A.push(k);(function(D){if(!(D.length<2)){var O,L,R,z,q,N;for(O=0;O<D.length&&(z=(L=D[O][0].trace).marker?L.marker.cornerradius:void 0)===void 0;O++);if(z!==void 0)for(q=p(z)?+z:+z.slice(0,-1),N=p(z)?"px":"%",O=0;O<D.length;O++)(R=D[O][0].t).cornerradiusvalue=q,R.cornerradiusform=N}})(d),d.length&&function(D,O,L,R,z){var q=new s(R,{posAxis:O,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});r(O,q,z),function(H,Y,ie){var re,ne,ee,Q,X,se,ce=w(H),le=Y.traces;for(Q=0;Q<le.length;Q++)if((ne=(re=le[Q])[0].trace).type==="funnel")for(X=0;X<re.length;X++)(se=re[X]).s!==n&&Y.put(se.p,-.5*se.s);for(Q=0;Q<le.length;Q++){ee=(ne=(re=le[Q])[0].trace).type==="funnel";var de=[];for(X=0;X<re.length;X++)if((se=re[X]).s!==n){var be;be=ee?se.s:se.s+se.b;var _e=Y.put(se.p,be),ve=_e+be;se.b=_e,se[ce]=ve,ie.norm||(de.push(ve),se.hasB&&de.push(_e))}ie.norm||(ne._extremes[H._id]=b.findExtremes(H,de,{tozero:!0,padded:!0}))}}(L,q,z);for(var N=0;N<R.length;N++)for(var V=R[N],Z=0;Z<V.length;Z++){var j=V[Z];j.s!==n&&j.b+j.s===q.get(j.p,j.s)&&(j._outmost=!0)}z.norm&&c(L,q,z)}(0,v,m,d,_),A.length&&o(v,m,A,_)}(function(D){var O,L,R,z,q,N,V;for(O=0;O<D.length;O++)R=(L=D[O])[0].trace,(z=L[0].t).cornerradiusvalue===void 0&&(q=R.marker?R.marker.cornerradius:void 0)!==void 0&&(N=p(q)?+q:+q.slice(0,-1),V=p(q)?"px":"%",z.cornerradiusvalue=N,z.cornerradiusform=V)})(T),function(D,O){var L,R,z,q=w(O),N={},V=1/0,Z=-1/0;for(L=0;L<D.length;L++)for(z=D[L],R=0;R<z.length;R++){var j=z[R].p;p(j)&&(V=Math.min(V,j),Z=Math.max(Z,j))}var H=1e4/(Z-V),Y=N.round=function(ve){return String(Math.round(H*(ve-V)))},ie={},re={},ne=D.some(function(ve){var me=ve[0].trace;return"marker"in me&&me.marker.cornerradius});for(L=0;L<D.length;L++){(z=D[L])[0].t.extents=N;var ee=z[0].t.poffset,Q=y(ee);for(R=0;R<z.length;R++){var X=z[R],se=X[q]-X.w/2;if(p(se)){var ce=X[q]+X.w/2,le=Y(X.p);N[le]?N[le]=[Math.min(se,N[le][0]),Math.max(ce,N[le][1])]:N[le]=[se,ce]}if(X.p0=X.p+(Q?ee[R]:ee),X.p1=X.p0+X.w,X.s0=X.b,X.s1=X.s0+X.s,ne){var de=Math.min(X.s0,X.s1)||0,be=Math.max(X.s0,X.s1)||0,_e=X[q];ie[_e]=_e in ie?Math.min(ie[_e],de):de,re[_e]=_e in re?Math.max(re[_e],be):be}}}ne&&function(ve,me,ye,Se){for(var Ie=w(Se),xe=0;xe<ve.length;xe++)for(var ue=ve[xe],ae=0;ae<ue.length;ae++){var pe=ue[ae],De=pe[Ie];pe._sMin=me[De],pe._sMax=ye[De]}}(D,ie,re,O)}(T,v)}}function o(g,v,m,T){for(var _=0;_<m.length;_++){var A=m[_],d=new s([A],{posAxis:g,sepNegVal:!1,overlapNoMerge:!T.norm});r(g,d,T),T.norm?(h(d),c(v,d,T)):u(v,d)}}function r(g,v,m){for(var T=v.minDiff,_=v.traces,A=T*(1-m.gap),d=A*(1-(m.groupgap||0)),C=-d/2,k=0;k<_.length;k++){var D=_[k][0].t;D.barwidth=d,D.poffset=C,D.bargroupwidth=A,D.bardelta=T}v.binWidth=_[0][0].t.barwidth/100,i(v),a(g,v),l(g,v)}function i(g){var v,m,T=g.traces;for(v=0;v<T.length;v++){var _,A=T[v],d=A[0],C=d.trace,k=d.t,D=C._offset||C.offset,O=k.poffset;if(y(D)){for(_=Array.prototype.slice.call(D,0,A.length),m=0;m<_.length;m++)p(_[m])||(_[m]=O);for(m=_.length;m<A.length;m++)_.push(O);k.poffset=_}else D!==void 0&&(k.poffset=D);var L=C._width||C.width,R=k.barwidth;if(y(L)){var z=Array.prototype.slice.call(L,0,A.length);for(m=0;m<z.length;m++)p(z[m])||(z[m]=R);for(m=z.length;m<A.length;m++)z.push(R);if(k.barwidth=z,D===void 0){for(_=[],m=0;m<A.length;m++)_.push(O+(R-z[m])/2);k.poffset=_}}else L!==void 0&&(k.barwidth=L,D===void 0&&(k.poffset=O+(R-L)/2))}}function a(g,v){for(var m=v.traces,T=w(g),_=0;_<m.length;_++)for(var A=m[_],d=A[0].t,C=d.poffset,k=y(C),D=d.barwidth,O=y(D),L=0;L<A.length;L++){var R=A[L],z=R.w=O?D[L]:D;R.p===void 0&&(R.p=R[T],R["orig_"+T]=R[T]);var q=(k?C[L]:C)+z/2;R[T]=R.p+q}}function l(g,v,m){var T=v.traces,_=v.minDiff/2;b.minDtick(g,v.minDiff,v.distinctPositions[0],m);for(var A=0;A<T.length;A++){var d,C,k,D,O=T[A],L=O[0],R=L.trace,z=[];for(D=0;D<O.length;D++)C=(d=O[D]).p-_,k=d.p+_,z.push(C,k);if(R.width||R.offset){var q=L.t,N=q.poffset,V=q.barwidth,Z=y(N),j=y(V);for(D=0;D<O.length;D++){d=O[D];var H=Z?N[D]:N,Y=j?V[D]:V;k=(C=d.p+H)+Y,z.push(C,k)}}R._extremes[g._id]=b.findExtremes(g,z,{padded:!1})}}function u(g,v){for(var m=v.traces,T=w(g),_=0;_<m.length;_++){for(var A=m[_],d=A[0].trace,C=d.type==="scatter",k=d.orientation==="v",D=[],O=!1,L=0;L<A.length;L++){var R=A[L],z=C?0:R.b,q=C?k?R.y:R.x:z+R.s;R[T]=q,D.push(q),R.hasB&&D.push(z),R.hasB&&R.b||(O=!0)}d._extremes[g._id]=b.findExtremes(g,D,{tozero:O,padded:!0})}}function h(g){for(var v=g.traces,m=0;m<v.length;m++)for(var T=v[m],_=0;_<T.length;_++){var A=T[_];A.s!==n&&g.put(A.p,A.b+A.s)}}function c(g,v,m){var T=v.traces,_=w(g),A=m.norm==="fraction"?1:100,d=A/1e9,C=g.l2c(g.c2l(0)),k=m.mode==="stack"?A:C;function D(ie){return p(g.c2l(ie))&&(ie<C-d||ie>k+d||!p(C))}for(var O=0;O<T.length;O++){for(var L=T[O],R=L[0].trace,z=[],q=!1,N=!1,V=0;V<L.length;V++){var Z=L[V];if(Z.s!==n){var j=Math.abs(A/v.get(Z.p,Z.s));Z.b*=j,Z.s*=j;var H=Z.b,Y=H+Z.s;Z[_]=Y,z.push(Y),N=N||D(Y),Z.hasB&&(z.push(H),N=N||D(H)),Z.hasB&&Z.b||(q=!0)}}R._extremes[g._id]=b.findExtremes(g,z,{tozero:q,padded:N})}}function w(g){return g._id.charAt(0)}S.exports={crossTraceCalc:function(g,v){for(var m=v.xaxis,T=v.yaxis,_=g._fullLayout,A=g._fullData,d=g.calcdata,C=[],k=[],D=0;D<A.length;D++){var O=A[D];if(O.visible===!0&&M.traceIs(O,"bar")&&O.xaxis===m._id&&O.yaxis===T._id&&(O.orientation==="h"?C.push(d[D]):k.push(d[D]),O._computePh))for(var L=g.calcdata[D],R=0;R<L.length;R++)typeof L[R].ph0=="function"&&(L[R].ph0=L[R].ph0()),typeof L[R].ph1=="function"&&(L[R].ph1=L[R].ph1())}var z={xCat:m.type==="category"||m.type==="multicategory",yCat:T.type==="category"||T.type==="multicategory",mode:_.barmode,norm:_.barnorm,gap:_.bargap,groupgap:_.bargroupgap};t(g,m,T,k,z),t(g,T,m,C,z)},setGroupPositions:t}},31508:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(76308),M=e(24040),b=e(43980),f=e(31147),s=e(55592),t=e(20011),o=e(20832),r=y.coerceFont;function i(l){if(p(l)){if((l=+l)>=0)return l}else if(typeof l=="string"&&(l=l.trim()).slice(-1)==="%"&&p(l.slice(0,-1))&&(l=+l.slice(0,-1))>=0)return l+"%"}function a(l,u,h,c,w,g){var v=(g=g||{}).moduleHasSelected!==!1,m=g.moduleHasUnselected!==!1,T=g.moduleHasConstrain!==!1,_=g.moduleHasCliponaxis!==!1,A=g.moduleHasTextangle!==!1,d=g.moduleHasInsideanchor!==!1,C=!!g.hasPathbar,k=Array.isArray(w)||w==="auto",D=k||w==="inside",O=k||w==="outside";if(D||O){var L=r(c,"textfont",h.font),R=y.extendFlat({},L),z=!(l.textfont&&l.textfont.color);if(z&&delete R.color,r(c,"insidetextfont",R),C){var q=y.extendFlat({},L);z&&delete q.color,r(c,"pathbar.textfont",q)}O&&r(c,"outsidetextfont",L),v&&c("selected.textfont.color"),m&&c("unselected.textfont.color"),T&&c("constraintext"),_&&c("cliponaxis"),A&&c("textangle"),c("texttemplate")}D&&d&&c("insidetextanchor")}S.exports={supplyDefaults:function(l,u,h,c){function w(T,_){return y.coerce(l,u,o,T,_)}if(b(l,u,c,w)){f(l,u,c,w),w("xhoverformat"),w("yhoverformat"),w("zorder"),w("orientation",u.x&&!u.y?"h":"v"),w("base"),w("offset"),w("width"),w("text"),w("hovertext"),w("hovertemplate");var g=w("textposition");a(l,0,c,w,g,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(l,u,w,h,c);var v=(u.marker.line||{}).color,m=M.getComponentMethod("errorbars","supplyDefaults");m(l,u,v||n.defaultLine,{axis:"y"}),m(l,u,v||n.defaultLine,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(u,w)}else u.visible=!1},crossTraceDefaults:function(l,u){var h,c;function w(m,T){return y.coerce(c._input,c,o,m,T)}for(var g=0;g<l.length;g++)if((c=l[g]).type==="bar"){h=c._input;var v=w("marker.cornerradius",u.barcornerradius);c.marker&&(c.marker.cornerradius=i(v)),u.barmode==="group"&&t(h,c,u,w)}},handleText:a,validateCornerradius:i}},52160:function(S){"use strict";S.exports=function(x,e,p){return x.x="xVal"in e?e.xVal:e.x,x.y="yVal"in e?e.yVal:e.y,e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),p.orientation==="h"?(x.label=x.y,x.value=x.x):(x.label=x.x,x.value=x.y),x}},60444:function(S,x,e){"use strict";var p=e(38248),y=e(49760),n=e(3400).isArrayOrTypedArray;x.coerceString=function(M,b,f){if(typeof b=="string"){if(b||!M.noBlank)return b}else if((typeof b=="number"||b===!0)&&!M.strict)return String(b);return f!==void 0?f:M.dflt},x.coerceNumber=function(M,b,f){if(p(b)){b=+b;var s=M.min,t=M.max;if(!(s!==void 0&&b<s||t!==void 0&&b>t))return b}return f!==void 0?f:M.dflt},x.coerceColor=function(M,b,f){return y(b).isValid()?b:f!==void 0?f:M.dflt},x.coerceEnumerated=function(M,b,f){return M.coerceNumber&&(b=+b),M.values.indexOf(b)!==-1?b:f!==void 0?f:M.dflt},x.getValue=function(M,b){var f;return n(M)?b<M.length&&(f=M[b]):f=M,f},x.getLineWidth=function(M,b){return 0<b.mlw?b.mlw:n(M.marker.line.width)?0:M.marker.line.width}},63400:function(S,x,e){"use strict";var p=e(93024),y=e(24040),n=e(76308),M=e(3400).fillText,b=e(60444).getLineWidth,f=e(54460).hoverLabelText,s=e(39032).BADNUM;function t(r,i,a,l,u){var h,c,w,g,v,m,T,_=r.cd,A=_[0].trace,d=_[0].t,C=l==="closest",k=A.type==="waterfall",D=r.maxHoverDistance,O=r.maxSpikeDistance;A.orientation==="h"?(h=a,c=i,w="y",g="x",v=re,m=Y):(h=i,c=a,w="x",g="y",m=re,v=Y);var L=A[w+"period"],R=C||L;function z(de){return N(de,-1)}function q(de){return N(de,1)}function N(de,be){var _e=de.w;return de[w]+be*_e/2}function V(de){return de[w+"End"]-de[w+"Start"]}var Z=C?z:L?function(de){return de.p-V(de)/2}:function(de){return Math.min(z(de),de.p-d.bardelta/2)},j=C?q:L?function(de){return de.p+V(de)/2}:function(de){return Math.max(q(de),de.p+d.bardelta/2)};function H(de,be,_e){return u.finiteRange&&(_e=0),p.inbox(de-h,be-h,_e+Math.min(1,Math.abs(be-de)/T)-1)}function Y(de){return H(Z(de),j(de),D)}function ie(de){var be=de[g];if(k){var _e=Math.abs(de.rawS)||0;c>0?be+=_e:c<0&&(be-=_e)}return be}function re(de){var be=c,_e=de.b,ve=ie(de);return p.inbox(_e-be,ve-be,D+(ve-be)/(ve-_e)-1)}var ne=r[w+"a"],ee=r[g+"a"];T=Math.abs(ne.r2c(ne.range[1])-ne.r2c(ne.range[0]));var Q=p.getDistanceFunction(l,v,m,function(de){return(v(de)+m(de))/2});if(p.getClosest(_,Q,r),r.index!==!1&&_[r.index].p!==s){R||(Z=function(de){return Math.min(z(de),de.p-d.bargroupwidth/2)},j=function(de){return Math.max(q(de),de.p+d.bargroupwidth/2)});var X=_[r.index],se=A.base?X.b+X.s:X.s;r[g+"0"]=r[g+"1"]=ee.c2p(X[g],!0),r[g+"LabelVal"]=se;var ce=d.extents[d.extents.round(X.p)];r[w+"0"]=ne.c2p(C?Z(X):ce[0],!0),r[w+"1"]=ne.c2p(C?j(X):ce[1],!0);var le=X.orig_p!==void 0;return r[w+"LabelVal"]=le?X.orig_p:X.p,r.labelLabel=f(ne,r[w+"LabelVal"],A[w+"hoverformat"]),r.valueLabel=f(ee,r[g+"LabelVal"],A[g+"hoverformat"]),r.baseLabel=f(ee,X.b,A[g+"hoverformat"]),r.spikeDistance=(function(de){var be=c,_e=de.b,ve=ie(de);return p.inbox(_e-be,ve-be,O+(ve-be)/(ve-_e)-1)}(X)+function(de){return H(z(de),q(de),O)}(X))/2,r[w+"Spike"]=ne.c2p(X.p,!0),M(X,A,r),r.hovertemplate=A.hovertemplate,r}}function o(r,i){var a=i.mcc||r.marker.color,l=i.mlcc||r.marker.line.color,u=b(r,i);return n.opacity(a)?a:n.opacity(l)&&u?l:void 0}S.exports={hoverPoints:function(r,i,a,l,u){var h=t(r,i,a,l,u);if(h){var c=h.cd,w=c[0].trace,g=c[h.index];return h.color=o(w,g),y.getComponentMethod("errorbars","hoverInfo")(g,w,h),[h]}},hoverOnBars:t,getTraceColor:o}},51132:function(S,x,e){"use strict";S.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(S){"use strict";S.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(S,x,e){"use strict";var p=e(24040),y=e(54460),n=e(3400),M=e(39324),b=e(31508).validateCornerradius;S.exports=function(f,s,t){function o(v,m){return n.coerce(f,s,M,v,m)}for(var r=!1,i=!1,a=!1,l={},u=o("barmode"),h=0;h<t.length;h++){var c=t[h];if(p.traceIs(c,"bar")&&c.visible){if(r=!0,u==="group"){var w=c.xaxis+c.yaxis;l[w]&&(a=!0),l[w]=!0}c.visible&&c.type==="histogram"&&y.getFromId({_fullLayout:s},c[c.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(i=!0)}}if(r){u!=="overlay"&&o("barnorm"),o("bargap",i&&!a?0:.2),o("bargroupgap");var g=o("barcornerradius");s.barcornerradius=b(g)}else delete s.barmode}},98184:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(3400),M=e(72736),b=e(76308),f=e(43616),s=e(24040),t=e(54460).tickText,o=e(82744),r=o.recordMinTextSize,i=o.clearMinTextSize,a=e(60100),l=e(60444),u=e(78048),h=e(20832),c=h.text,w=h.textposition,g=e(10624).appendArrayPointValue,v=u.TEXTPAD;function m(R){return R.id}function T(R){if(R.ids)return m}function _(R){return(R>0)-(R<0)}function A(R,z){return R<z?1:-1}function d(R,z,q,N){var V;return!z.uniformtext.mode&&C(q)?(N&&(V=N()),R.transition().duration(q.duration).ease(q.easing).each("end",function(){V&&V()}).each("interrupt",function(){V&&V()})):R}function C(R){return R&&R.duration>0}function k(R,z,q,N,V){return!(R<0||z<0)&&(q<=R&&N<=z||q<=z&&N<=R||(V?R>=q*(z/N):z>=N*(R/q)))}function D(R){return R==="auto"?0:R}function O(R,z){var q=Math.PI/180*z,N=Math.abs(Math.sin(q)),V=Math.abs(Math.cos(q));return{x:R.width*V+R.height*N,y:R.width*N+R.height*V}}function L(R,z,q,N,V,Z){var j=!!Z.isHorizontal,H=!!Z.constrained,Y=Z.angle||0,ie=Z.anchor,re=ie==="end",ne=ie==="start",ee=((Z.leftToRight||0)+1)/2,Q=1-ee,X=Z.hasB,se=Z.r,ce=Z.overhead,le=V.width,de=V.height,be=Math.abs(z-R),_e=Math.abs(N-q),ve=be>2*v&&_e>2*v?v:0;be-=2*ve,_e-=2*ve;var me=D(Y);Y!=="auto"||le<=be&&de<=_e||!(le>be||de>_e)||(le>_e||de>be)&&le<de==be<_e||(me+=90);var ye,Se,Ie=O(V,me);if(se&&se-ce>v){var xe=function(Ne,ge,Me,Ee,Fe,Le,Ue,Ge,Ke){var at,st,vt,xt,gt=Math.max(0,Math.abs(ge-Ne)-2*v),nt=Math.max(0,Math.abs(Ee-Me)-2*v),et=Le-v,At=Ue?et-Math.sqrt(et*et-(et-Ue)*(et-Ue)):et,Pt=Ke?2*et:Ge?et-Ue:2*At,Rt=Ke?2*et:Ge?2*At:et-Ue;return Fe.y/Fe.x>=nt/(gt-Pt)?xt=nt/Fe.y:Fe.y/Fe.x<=(nt-Rt)/gt?xt=gt/Fe.x:!Ke&&Ge?(at=Fe.x*Fe.x+Fe.y*Fe.y/4,vt=(gt-et)*(gt-et)+(nt/2-et)*(nt/2-et)-et*et,xt=(-(st=-2*Fe.x*(gt-et)-Fe.y*(nt/2-et))+Math.sqrt(st*st-4*at*vt))/(2*at)):Ke?(at=(Fe.x*Fe.x+Fe.y*Fe.y)/4,vt=(gt/2-et)*(gt/2-et)+(nt/2-et)*(nt/2-et)-et*et,xt=(-(st=-Fe.x*(gt/2-et)-Fe.y*(nt/2-et))+Math.sqrt(st*st-4*at*vt))/(2*at)):(at=Fe.x*Fe.x/4+Fe.y*Fe.y,vt=(gt/2-et)*(gt/2-et)+(nt-et)*(nt-et)-et*et,xt=(-(st=-Fe.x*(gt/2-et)-2*Fe.y*(nt-et))+Math.sqrt(st*st-4*at*vt))/(2*at)),{scale:xt=Math.min(1,xt),pad:Ge?Math.max(0,et-Math.sqrt(Math.max(0,et*et-(et-(nt-Fe.y*xt)/2)*(et-(nt-Fe.y*xt)/2)))-Ue):Math.max(0,et-Math.sqrt(Math.max(0,et*et-(et-(gt-Fe.x*xt)/2)*(et-(gt-Fe.x*xt)/2)))-Ue)}}(R,z,q,N,Ie,se,ce,j,X);ye=xe.scale,Se=xe.pad}else ye=1,H&&(ye=Math.min(1,be/Ie.x,_e/Ie.y)),Se=0;var ue=V.left*Q+V.right*ee,ae=(V.top+V.bottom)/2,pe=(R+v)*Q+(z-v)*ee,De=(q+N)/2,Te=0,Ae=0;if(ne||re){var Ce=(j?Ie.x:Ie.y)/2;se&&(re||X)&&(ve+=Se);var Re=j?A(R,z):A(q,N);j?ne?(pe=R+Re*ve,Te=-Re*Ce):(pe=z-Re*ve,Te=Re*Ce):ne?(De=q+Re*ve,Ae=-Re*Ce):(De=N-Re*ve,Ae=Re*Ce)}return{textX:ue,textY:ae,targetX:pe,targetY:De,anchorX:Te,anchorY:Ae,scale:ye,rotate:me}}S.exports={plot:function(R,z,q,N,V,Z){var j=z.xaxis,H=z.yaxis,Y=R._fullLayout,ie=R._context.staticPlot;V||(V={mode:Y.barmode,norm:Y.barmode,gap:Y.bargap,groupgap:Y.bargroupgap},i("bar",Y));var re=n.makeTraceGroups(N,q,"trace bars").each(function(ne){var ee=p.select(this),Q=ne[0].trace,X=ne[0].t,se=Q.type==="waterfall",ce=Q.type==="funnel",le=Q.type==="histogram",de=Q.type==="bar",be=de||ce,_e=0;se&&Q.connector.visible&&Q.connector.mode==="between"&&(_e=Q.connector.line.width/2);var ve=Q.orientation==="h",me=C(V),ye=n.ensureSingle(ee,"g","points"),Se=T(Q),Ie=ye.selectAll("g.point").data(n.identity,Se);Ie.enter().append("g").classed("point",!0),Ie.exit().remove(),Ie.each(function(ue,ae){var pe,De,Te=p.select(this),Ae=function(it,Be,je,ot){var $e=[],dt=[],mt=ot?Be:je,yt=ot?je:Be;return $e[0]=mt.c2p(it.s0,!0),dt[0]=yt.c2p(it.p0,!0),$e[1]=mt.c2p(it.s1,!0),dt[1]=yt.c2p(it.p1,!0),ot?[$e,dt]:[dt,$e]}(ue,j,H,ve),Ce=Ae[0][0],Re=Ae[0][1],Ne=Ae[1][0],ge=Ae[1][1],Me=(ve?Re-Ce:ge-Ne)==0;if(Me&&be&&l.getLineWidth(Q,ue)&&(Me=!1),Me||(Me=!(y(Ce)&&y(Re)&&y(Ne)&&y(ge))),ue.isBlank=Me,Me&&(ve?Re=Ce:ge=Ne),_e&&!Me&&(ve?(Ce-=A(Ce,Re)*_e,Re+=A(Ce,Re)*_e):(Ne-=A(Ne,ge)*_e,ge+=A(Ne,ge)*_e)),Q.type==="waterfall"){if(!Me){var Ee=Q[ue.dir].marker;pe=Ee.line.width,De=Ee.color}}else pe=l.getLineWidth(Q,ue),De=ue.mc||Q.marker.color;function Fe(it){var Be=p.round(pe/2%1,2);return V.gap===0&&V.groupgap===0?p.round(Math.round(it)-Be,2):it}var Le=b.opacity(De)<1||pe>.01?Fe:function(it,Be,je){return je&&it===Be?it:Math.abs(it-Be)>=2?Fe(it):it>Be?Math.ceil(it):Math.floor(it)};R._context.staticPlot||(Ce=Le(Ce,Re,ve),Re=Le(Re,Ce,ve),Ne=Le(Ne,ge,!ve),ge=Le(ge,Ne,!ve));var Ue,Ge=ve?j.c2p:H.c2p;Ue=ue.s0>0?ue._sMax:ue.s0<0?ue._sMin:ue.s1>0?ue._sMax:ue._sMin;var Ke,at,st=de||le?function(it,Be){if(!it)return 0;var je,ot=Math.abs(ve?ge-Ne:Re-Ce),$e=Math.abs(ve?Re-Ce:ge-Ne),dt=Le(Math.abs(Ge(Ue,!0)-Ge(0,!0))),mt=ue.hasB?Math.min(ot/2,$e/2):Math.min(ot/2,dt);return je=Be==="%"?ot*(Math.min(50,it)/100):it,Le(Math.max(Math.min(je,mt),0))}(X.cornerradiusvalue,X.cornerradiusform):0,vt="M"+Ce+","+Ne+"V"+ge+"H"+Re+"V"+Ne+"Z",xt=0;if(st&&ue.s){var gt=_(ue.s0)===0||_(ue.s)===_(ue.s0)?ue.s1:ue.s0;if((xt=Le(ue.hasB?0:Math.abs(Ge(Ue,!0)-Ge(gt,!0))))<st){var nt=A(Ce,Re),et=A(Ne,ge),At=nt===-et?1:0;if(ve)if(ue.hasB)Ke="M"+(Ce+st*nt)+","+Ne+"A "+st+","+st+" 0 0 "+At+" "+Ce+","+(Ne+st*et)+"V"+(ge-st*et)+"A "+st+","+st+" 0 0 "+At+" "+(Ce+st*nt)+","+ge+"H"+(Re-st*nt)+"A "+st+","+st+" 0 0 "+At+" "+Re+","+(ge-st*et)+"V"+(Ne+st*et)+"A "+st+","+st+" 0 0 "+At+" "+(Re-st*nt)+","+Ne+"Z";else{var Pt=(at=Math.abs(Re-Ce)+xt)<st?st-Math.sqrt(at*(2*st-at)):0,Rt=xt>0?Math.sqrt(xt*(2*st-xt)):0,Et=nt>0?Math.max:Math.min;Ke="M"+Ce+","+Ne+"V"+(ge-Pt*et)+"H"+Et(Re-(st-xt)*nt,Ce)+"A "+st+","+st+" 0 0 "+At+" "+Re+","+(ge-st*et-Rt)+"V"+(Ne+st*et+Rt)+"A "+st+","+st+" 0 0 "+At+" "+Et(Re-(st-xt)*nt,Ce)+","+(Ne+Pt*et)+"Z"}else if(ue.hasB)Ke="M"+(Ce+st*nt)+","+Ne+"A "+st+","+st+" 0 0 "+At+" "+Ce+","+(Ne+st*et)+"V"+(ge-st*et)+"A "+st+","+st+" 0 0 "+At+" "+(Ce+st*nt)+","+ge+"H"+(Re-st*nt)+"A "+st+","+st+" 0 0 "+At+" "+Re+","+(ge-st*et)+"V"+(Ne+st*et)+"A "+st+","+st+" 0 0 "+At+" "+(Re-st*nt)+","+Ne+"Z";else{var Ye=(at=Math.abs(ge-Ne)+xt)<st?st-Math.sqrt(at*(2*st-at)):0,Xe=xt>0?Math.sqrt(xt*(2*st-xt)):0,Ve=et>0?Math.max:Math.min;Ke="M"+(Ce+Ye*nt)+","+Ne+"V"+Ve(ge-(st-xt)*et,Ne)+"A "+st+","+st+" 0 0 "+At+" "+(Ce+st*nt-Xe)+","+ge+"H"+(Re-st*nt+Xe)+"A "+st+","+st+" 0 0 "+At+" "+(Re-Ye*nt)+","+Ve(ge-(st-xt)*et,Ne)+"V"+Ne+"Z"}}else Ke=vt}else Ke=vt;var Ze=d(n.ensureSingle(Te,"path"),Y,V,Z);if(Ze.style("vector-effect",ie?"none":"non-scaling-stroke").attr("d",isNaN((Re-Ce)*(ge-Ne))||Me&&R._context.staticPlot?"M0,0Z":Ke).call(f.setClipUrl,z.layerClipId,R),!Y.uniformtext.mode&&me){var lt=f.makePointStyleFns(Q);f.singlePointStyle(ue,Ze,Q,lt,R)}(function(it,Be,je,ot,$e,dt,mt,yt,ht,kt,bt,St,Lt){var Ot,Ft=Be.xaxis,$t=Be.yaxis,on=it._fullLayout;function Ht(pr,Kt,vn){return n.ensureSingle(pr,"text").text(Kt).attr({class:"bartext bartext-"+Ot,"text-anchor":"middle","data-notex":1}).call(f.font,vn).call(M.convertToTspans,it)}var Zt=ot[0].trace,jt=Zt.orientation==="h",Ln=function(pr,Kt,vn,Dt,Bt){var Jt,fn=Kt[0].trace;return Jt=fn.texttemplate?function(dn,xn,sn,Yt,Wt){var tn=xn[0].trace,ln=n.castOption(tn,sn,"texttemplate");if(!ln)return"";var An,In,Nn,jn,er=tn.type==="histogram",Wn=tn.type==="waterfall",Jn=tn.type==="funnel",rr=tn.orientation==="h";function Qn(Rr){return t(jn,jn.c2l(Rr),!0).text}rr?(An="y",In=Wt,Nn="x",jn=Yt):(An="x",In=Yt,Nn="y",jn=Wt);var hr,br=xn[sn],gr={};gr.label=br.p,gr.labelLabel=gr[An+"Label"]=(hr=br.p,t(In,In.c2l(hr),!0).text);var ar=n.castOption(tn,br.i,"text");(ar===0||ar)&&(gr.text=ar),gr.value=br.s,gr.valueLabel=gr[Nn+"Label"]=Qn(br.s);var mr={};g(mr,tn,br.i),(er||mr.x===void 0)&&(mr.x=rr?gr.value:gr.label),(er||mr.y===void 0)&&(mr.y=rr?gr.label:gr.value),(er||mr.xLabel===void 0)&&(mr.xLabel=rr?gr.valueLabel:gr.labelLabel),(er||mr.yLabel===void 0)&&(mr.yLabel=rr?gr.labelLabel:gr.valueLabel),Wn&&(gr.delta=+br.rawS||br.s,gr.deltaLabel=Qn(gr.delta),gr.final=br.v,gr.finalLabel=Qn(gr.final),gr.initial=gr.final-gr.delta,gr.initialLabel=Qn(gr.initial)),Jn&&(gr.value=br.s,gr.valueLabel=Qn(gr.value),gr.percentInitial=br.begR,gr.percentInitialLabel=n.formatPercent(br.begR),gr.percentPrevious=br.difR,gr.percentPreviousLabel=n.formatPercent(br.difR),gr.percentTotal=br.sumR,gr.percenTotalLabel=n.formatPercent(br.sumR));var kr=n.castOption(tn,br.i,"customdata");return kr&&(gr.customdata=kr),n.texttemplateString(ln,gr,dn._d3locale,mr,gr,tn._meta||{})}(pr,Kt,vn,Dt,Bt):fn.textinfo?function(dn,xn,sn,Yt){var Wt=dn[0].trace,tn=Wt.orientation==="h",ln=Wt.type==="waterfall",An=Wt.type==="funnel";function In(kr){return t(tn?sn:Yt,+kr,!0).text}var Nn,jn,er=Wt.textinfo,Wn=dn[xn],Jn=er.split("+"),rr=[],Qn=function(kr){return Jn.indexOf(kr)!==-1};if(Qn("label")&&rr.push((jn=dn[xn].p,t(tn?Yt:sn,jn,!0).text)),Qn("text")&&((Nn=n.castOption(Wt,Wn.i,"text"))===0||Nn)&&rr.push(Nn),ln){var hr=+Wn.rawS||Wn.s,br=Wn.v,gr=br-hr;Qn("initial")&&rr.push(In(gr)),Qn("delta")&&rr.push(In(hr)),Qn("final")&&rr.push(In(br))}if(An){Qn("value")&&rr.push(In(Wn.s));var ar=0;Qn("percent initial")&&ar++,Qn("percent previous")&&ar++,Qn("percent total")&&ar++;var mr=ar>1;Qn("percent initial")&&(Nn=n.formatPercent(Wn.begR),mr&&(Nn+=" of initial"),rr.push(Nn)),Qn("percent previous")&&(Nn=n.formatPercent(Wn.difR),mr&&(Nn+=" of previous"),rr.push(Nn)),Qn("percent total")&&(Nn=n.formatPercent(Wn.sumR),mr&&(Nn+=" of total"),rr.push(Nn))}return rr.join("<br>")}(Kt,vn,Dt,Bt):l.getValue(fn.text,vn),l.coerceString(c,Jt)}(on,ot,$e,Ft,$t);Ot=function(pr,Kt){var vn=l.getValue(pr.textposition,Kt);return l.coerceEnumerated(w,vn)}(Zt,$e);var Tn=St.mode==="stack"||St.mode==="relative",gn=ot[$e],Qt=!Tn||gn._outmost,cn=gn.hasB,nn=kt&&kt-bt>v;if(Ln&&Ot!=="none"&&(!gn.isBlank&&dt!==mt&&yt!==ht||Ot!=="auto"&&Ot!=="inside")){var hn=on.font,bn=a.getBarColor(ot[$e],Zt),wn=a.getInsideTextFont(Zt,$e,hn,bn),En=a.getOutsideTextFont(Zt,$e,hn),Dn=Zt.insidetextanchor||"end",kn=je.datum();jt?Ft.type==="log"&&kn.s0<=0&&(dt=Ft.range[0]<Ft.range[1]?0:Ft._length):$t.type==="log"&&kn.s0<=0&&(yt=$t.range[0]<$t.range[1]?$t._length:0);var Bn,Rn,Kn,Gn,nr,$n=Math.abs(mt-dt),fr=Math.abs(ht-yt),en=$n-2*v,rn=fr-2*v;if(Ot==="outside"&&(Qt||gn.hasB||(Ot="inside")),Ot==="auto")if(Qt){Ot="inside",Bn=Ht(je,Ln,nr=n.ensureUniformFontSize(it,wn)),Kn=(Rn=f.bBox(Bn.node())).width,Gn=Rn.height;var Cn,mn=Kn>0&&Gn>0;Cn=nn?cn?k(en-2*kt,rn,Kn,Gn,jt)||k(en,rn-2*kt,Kn,Gn,jt):jt?k(en-(kt-bt),rn,Kn,Gn,jt)||k(en,rn-2*(kt-bt),Kn,Gn,jt):k(en,rn-(kt-bt),Kn,Gn,jt)||k(en-2*(kt-bt),rn,Kn,Gn,jt):k(en,rn,Kn,Gn,jt),mn&&Cn?Ot="inside":(Ot="outside",Bn.remove(),Bn=null)}else Ot="inside";if(!Bn){var On=(Bn=Ht(je,Ln,nr=n.ensureUniformFontSize(it,Ot==="outside"?En:wn))).attr("transform");if(Bn.attr("transform",""),Kn=(Rn=f.bBox(Bn.node())).width,Gn=Rn.height,Bn.attr("transform",On),Kn<=0||Gn<=0)return void Bn.remove()}var Hn,Un=Zt.textangle;Hn=Ot==="outside"?function(pr,Kt,vn,Dt,Bt,Jt){var fn,dn=!!Jt.isHorizontal,xn=!!Jt.constrained,sn=Jt.angle||0,Yt=Bt.width,Wt=Bt.height,tn=Math.abs(Kt-pr),ln=Math.abs(Dt-vn);fn=dn?ln>2*v?v:0:tn>2*v?v:0;var An=1;xn&&(An=dn?Math.min(1,ln/Wt):Math.min(1,tn/Yt));var In=D(sn),Nn=O(Bt,In),jn=(dn?Nn.x:Nn.y)/2,er=(Bt.left+Bt.right)/2,Wn=(Bt.top+Bt.bottom)/2,Jn=(pr+Kt)/2,rr=(vn+Dt)/2,Qn=0,hr=0,br=dn?A(Kt,pr):A(vn,Dt);return dn?(Jn=Kt-br*fn,Qn=br*jn):(rr=Dt+br*fn,hr=-br*jn),{textX:er,textY:Wn,targetX:Jn,targetY:rr,anchorX:Qn,anchorY:hr,scale:An,rotate:In}}(dt,mt,yt,ht,Rn,{isHorizontal:jt,constrained:Zt.constraintext==="both"||Zt.constraintext==="outside",angle:Un}):L(dt,mt,yt,ht,Rn,{isHorizontal:jt,constrained:Zt.constraintext==="both"||Zt.constraintext==="inside",angle:Un,anchor:Dn,hasB:cn,r:kt,overhead:bt}),Hn.fontSize=nr.size,r(Zt.type==="histogram"?"bar":Zt.type,Hn,on),gn.transform=Hn;var Zn=d(Bn,on,St,Lt);n.setTransormAndDisplay(Zn,Hn)}else je.select("text").remove()})(R,z,Te,ne,ae,Ce,Re,Ne,ge,st,xt,V,Z),z.layerClipId&&f.hideOutsideRangePoint(ue,Te.select("text"),j,H,Q.xcalendar,Q.ycalendar)});var xe=Q.cliponaxis===!1;f.setClipUrl(ee,xe?null:z.layerClipId,R)});s.getComponentMethod("errorbars","plot")(R,re,z,V)},toMoveInsideBar:L}},45784:function(S){"use strict";function x(e,p,y,n,M){var b=p.c2p(n?e.s0:e.p0,!0),f=p.c2p(n?e.s1:e.p1,!0),s=y.c2p(n?e.p0:e.s0,!0),t=y.c2p(n?e.p1:e.s1,!0);return M?[(b+f)/2,(s+t)/2]:n?[f,(s+t)/2]:[(b+f)/2,t]}S.exports=function(e,p){var y,n=e.cd,M=e.xaxis,b=e.yaxis,f=n[0].trace,s=f.type==="funnel",t=f.orientation==="h",o=[];if(p===!1)for(y=0;y<n.length;y++)n[y].selected=0;else for(y=0;y<n.length;y++){var r=n[y],i="ct"in r?r.ct:x(r,M,b,t,s);p.contains(i,!1,y,e)?(o.push({pointNumber:y,x:M.c2d(r.x),y:b.c2d(r.y)}),r.selected=1):r.selected=0}return o}},72592:function(S,x,e){"use strict";S.exports=y;var p=e(3400).distinctVals;function y(n,M){this.traces=n,this.sepNegVal=M.sepNegVal,this.overlapNoMerge=M.overlapNoMerge;for(var b=1/0,f=M.posAxis._id.charAt(0),s=[],t=0;t<n.length;t++){for(var o=n[t],r=0;r<o.length;r++){var i=o[r],a=i.p;a===void 0&&(a=i[f]),a!==void 0&&s.push(a)}o[0]&&o[0].width1&&(b=Math.min(o[0].width1,b))}this.positions=s;var l=p(s);this.distinctPositions=l.vals,l.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(l.minDiff,b);var u=(M.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}y.prototype.put=function(n,M){var b=this.getLabel(n,M),f=this.bins[b]||0;return this.bins[b]=f+M,f},y.prototype.get=function(n,M){var b=this.getLabel(n,M);return this.bins[b]||0},y.prototype.getLabel=function(n,M){return(M<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?n:Math.round(n/this.binWidth))}},60100:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(43616),M=e(3400),b=e(24040),f=e(82744).resizeText,s=e(20832),t=s.textfont,o=s.insidetextfont,r=s.outsidetextfont,i=e(60444);function a(m,T,_){n.pointStyle(m.selectAll("path"),T,_),l(m,T,_)}function l(m,T,_){m.selectAll("text").each(function(A){var d=p.select(this),C=M.ensureUniformFontSize(_,u(d,A,T,_));n.font(d,C)})}function u(m,T,_,A){var d=A._fullLayout.font,C=_.textfont;if(m.classed("bartext-inside")){var k=v(T,_);C=c(_,T.i,d,k)}else m.classed("bartext-outside")&&(C=w(_,T.i,d));return C}function h(m,T,_){return g(t,m.textfont,T,_)}function c(m,T,_,A){var d=h(m,T,_);return(m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[T]===void 0)&&(d={color:y.contrast(A),family:d.family,size:d.size,weight:d.weight,style:d.style,variant:d.variant,textcase:d.textcase,lineposition:d.lineposition,shadow:d.shadow}),g(o,m.insidetextfont,T,d)}function w(m,T,_){var A=h(m,T,_);return g(r,m.outsidetextfont,T,A)}function g(m,T,_,A){T=T||{};var d=i.getValue(T.family,_),C=i.getValue(T.size,_),k=i.getValue(T.color,_),D=i.getValue(T.weight,_),O=i.getValue(T.style,_),L=i.getValue(T.variant,_),R=i.getValue(T.textcase,_),z=i.getValue(T.lineposition,_),q=i.getValue(T.shadow,_);return{family:i.coerceString(m.family,d,A.family),size:i.coerceNumber(m.size,C,A.size),color:i.coerceColor(m.color,k,A.color),weight:i.coerceString(m.weight,D,A.weight),style:i.coerceString(m.style,O,A.style),variant:i.coerceString(m.variant,L,A.variant),textcase:i.coerceString(m.variant,R,A.textcase),lineposition:i.coerceString(m.variant,z,A.lineposition),shadow:i.coerceString(m.variant,q,A.shadow)}}function v(m,T){return T.type==="waterfall"?T[m.dir].marker.color:m.mcc||m.mc||T.marker.color}S.exports={style:function(m){var T=p.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");f(m,T,"bar");var _=T.size(),A=m._fullLayout;T.style("opacity",function(d){return d[0].trace.opacity}).each(function(d){(A.barmode==="stack"&&_>1||A.bargap===0&&A.bargroupgap===0&&!d[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),T.selectAll("g.points").each(function(d){a(p.select(this),d[0].trace,m)}),b.getComponentMethod("errorbars","style")(T)},styleTextPoints:l,styleOnSelect:function(m,T,_){var A=T[0].trace;A.selectedpoints?function(d,C,k){n.selectedPointStyle(d.selectAll("path"),C),function(D,O,L){D.each(function(R){var z,q=p.select(this);if(R.selected){z=M.ensureUniformFontSize(L,u(q,R,O,L));var N=O.selected.textfont&&O.selected.textfont.color;N&&(z.color=N),n.font(q,z)}else n.selectedTextStyle(q,O)})}(d.selectAll("text"),C,k)}(_,A,m):(a(_,A,m),b.getComponentMethod("errorbars","style")(_))},getInsideTextFont:c,getOutsideTextFont:w,getBarColor:v,resizeText:f}},55592:function(S,x,e){"use strict";var p=e(76308),y=e(94288).hasColorscale,n=e(27260),M=e(3400).coercePattern;S.exports=function(b,f,s,t,o){var r=s("marker.color",t),i=y(b,"marker");i&&n(b,f,o,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",p.defaultLine),y(b,"marker.line")&&n(b,f,o,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),M(s,"marker.pattern",r,i),s("selected.marker.color"),s("unselected.marker.color")}},82744:function(S,x,e){"use strict";var p=e(33428),y=e(3400);function n(M){return"_"+M+"Text_minsize"}S.exports={recordMinTextSize:function(M,b,f){if(f.uniformtext.mode){var s=n(M),t=f.uniformtext.minsize,o=b.scale*b.fontSize;b.hide=o<t,f[s]=f[s]||1/0,b.hide||(f[s]=Math.min(f[s],Math.max(o,t)))}},clearMinTextSize:function(M,b){b[n(M)]=void 0},resizeText:function(M,b,f){var s=M._fullLayout,t=s["_"+f+"Text_minsize"];if(t){var o,r=s.uniformtext.mode==="hide";switch(f){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}b.selectAll(o).each(function(i){var a=i.transform;if(a){a.scale=r&&a.hide?0:t/a.fontSize;var l=p.select(this).select("text");y.setTransormAndDisplay(l,a)}})}}}},78100:function(S,x,e){"use strict";var p,y=e(21776).Ks,n=e(92880).extendFlat,M=e(8319),b=e(20832);S.exports={r:M.r,theta:M.theta,r0:M.r0,dr:M.dr,theta0:M.theta0,dtheta:M.dtheta,thetaunit:M.thetaunit,base:n({},b.base,{}),offset:n({},b.offset,{}),width:n({},b.width,{}),text:n({},b.text,{}),hovertext:n({},b.hovertext,{}),marker:(p=n({},b.marker),delete p.cornerradius,p),hoverinfo:M.hoverinfo,hovertemplate:y(),selected:b.selected,unselected:b.unselected}},47056:function(S,x,e){"use strict";var p=e(94288).hasColorscale,y=e(47128),n=e(3400).isArrayOrTypedArray,M=e(84664),b=e(96376).setGroupPositions,f=e(4500),s=e(24040).traceIs,t=e(3400).extendFlat;S.exports={calc:function(o,r){for(var i=o._fullLayout,a=r.subplot,l=i[a].radialaxis,u=i[a].angularaxis,h=l.makeCalcdata(r,"r"),c=u.makeCalcdata(r,"theta"),w=r._length,g=new Array(w),v=h,m=c,T=0;T<w;T++)g[T]={p:m[T],s:v[T]};function _(A){var d=r[A];d!==void 0&&(r["_"+A]=n(d)?u.makeCalcdata(r,A):u.d2c(d,r.thetaunit))}return u.type==="linear"&&(_("width"),_("offset")),p(r,"marker")&&y(o,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),p(r,"marker.line")&&y(o,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(g,r),f(g,r),g},crossTraceCalc:function(o,r,i){for(var a=o.calcdata,l=[],u=0;u<a.length;u++){var h=a[u],c=h[0].trace;c.visible===!0&&s(c,"bar")&&c.subplot===i&&l.push(h)}var w=t({},r.radialaxis,{_id:"x"}),g=r.angularaxis;b(o,g,w,l,{mode:r.barmode,norm:r.barnorm,gap:r.bargap,groupgap:r.bargroupgap})}}},70384:function(S,x,e){"use strict";var p=e(3400),y=e(85968).handleRThetaDefaults,n=e(55592),M=e(78100);S.exports=function(b,f,s,t){function o(r,i){return p.coerce(b,f,M,r,i)}y(b,f,t,o)?(o("thetaunit"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate"),n(b,f,o,s,t),p.coerceSelectionMarkerOpacity(f,o)):f.visible=!1}},68896:function(S,x,e){"use strict";var p=e(93024),y=e(3400),n=e(63400).getTraceColor,M=y.fillText,b=e(8504).makeHoverPointText,f=e(57384).isPtInsidePolygon;S.exports=function(s,t,o){var r=s.cd,i=r[0].trace,a=s.subplot,l=a.radialAxis,u=a.angularAxis,h=a.vangles,c=h?f:y.isPtInsideSector,w=s.maxHoverDistance,g=u._period||2*Math.PI,v=Math.abs(l.g2p(Math.sqrt(t*t+o*o))),m=Math.atan2(o,t);if(l.range[0]>l.range[1]&&(m+=Math.PI),p.getClosest(r,function(A){return c(v,m,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?w+Math.min(1,Math.abs(A.thetag1-A.thetag0)/g)-1+(A.rp1-v)/(A.rp1-A.rp0)-1:1/0},s),s.index!==!1){var T=r[s.index];s.x0=s.x1=T.ct[0],s.y0=s.y1=T.ct[1];var _=y.extendFlat({},T,{r:T.s,theta:T.p});return M(T,i,s),b(_,i,a,s),s.hovertemplate=i.hovertemplate,s.color=n(i,T),s.xLabelVal=s.yLabelVal=void 0,T.s<0&&(s.idealAlign="left"),[s]}}},94456:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(S){"use strict";S.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(S,x,e){"use strict";var p=e(3400),y=e(9320);S.exports=function(n,M,b){var f,s={};function t(i,a){return p.coerce(n[f]||{},M[f],y,i,a)}for(var o=0;o<b.length;o++){var r=b[o];r.type==="barpolar"&&r.visible===!0&&(s[f=r.subplot]||(t("barmode"),t("bargap"),s[f]=1))}}},42040:function(S,x,e){"use strict";var p=e(33428),y=e(38248),n=e(3400),M=e(43616),b=e(57384);S.exports=function(f,s,t){var o=f._context.staticPlot,r=s.xaxis,i=s.yaxis,a=s.radialAxis,l=s.angularAxis,u=function(c){var w=c.cxx,g=c.cyy;return c.vangles?function(v,m,T,_){var A,d;n.angleDelta(T,_)>0?(A=T,d=_):(A=_,d=T);var C=[b.findEnclosingVertexAngles(A,c.vangles)[0],(A+d)/2,b.findEnclosingVertexAngles(d,c.vangles)[1]];return b.pathPolygonAnnulus(v,m,A,d,C,w,g)}:function(v,m,T,_){return n.pathAnnulus(v,m,T,_,w,g)}}(s),h=s.layers.frontplot.select("g.barlayer");n.makeTraceGroups(h,t,"trace bars").each(function(){var c=p.select(this),w=n.ensureSingle(c,"g","points").selectAll("g.point").data(n.identity);w.enter().append("g").style("vector-effect",o?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),w.exit().remove(),w.each(function(g){var v,m=p.select(this),T=g.rp0=a.c2p(g.s0),_=g.rp1=a.c2p(g.s1),A=g.thetag0=l.c2g(g.p0),d=g.thetag1=l.c2g(g.p1);if(y(T)&&y(_)&&y(A)&&y(d)&&T!==_&&A!==d){var C=a.c2g(g.s1),k=(A+d)/2;g.ct=[r.c2p(C*Math.cos(k)),i.c2p(C*Math.sin(k))],v=u(T,_,A,d)}else v="M0,0Z";n.ensureSingle(m,"path").attr("d",v)}),M.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,f)})}},63188:function(S,x,e){"use strict";var p=e(98304),y=e(52904),n=e(20832),M=e(22548),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(92880).extendFlat,t=y.marker,o=t.line;S.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:s({},t.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},t.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:s({},t.angle,{arrayOk:!1,editType:"calc"}),size:s({},t.size,{arrayOk:!1,editType:"calc"}),color:s({},t.color,{arrayOk:!1,editType:"style"}),line:{color:s({},o.color,{arrayOk:!1,dflt:M.defaultLine,editType:"style"}),width:s({},o.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:{marker:y.selected.marker,editType:"style"},unselected:{marker:y.unselected.marker,editType:"style"},text:s({},y.text,{}),hovertext:s({},y.hovertext,{}),hovertemplate:f({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:y.zorder}},62555:function(S,x,e){"use strict";var p=e(38248),y=e(54460),n=e(1220),M=e(3400),b=e(39032).BADNUM,f=M._;S.exports=function(c,w){var g,v,m,T,_,A,d,C=c._fullLayout,k=y.getFromId(c,w.xaxis||"x"),D=y.getFromId(c,w.yaxis||"y"),O=[],L=w.type==="violin"?"_numViolins":"_numBoxes";w.orientation==="h"?(m=k,T="x",_=D,A="y",d=!!w.yperiodalignment):(m=D,T="y",_=k,A="x",d=!!w.xperiodalignment);var R,z,q,N,V,Z,j=function(Fe,Le,Ue,Ge){var Ke,at=Le+"0"in Fe;if(Le in Fe||at&&"d"+Le in Fe){var st=Ue.makeCalcdata(Fe,Le);return[n(Fe,Ue,Le,st).vals,st]}Ke=at?Fe[Le+"0"]:"name"in Fe&&(Ue.type==="category"||p(Fe.name)&&["linear","log"].indexOf(Ue.type)!==-1||M.isDateTime(Fe.name)&&Ue.type==="date")?Fe.name:Ge;for(var vt=Ue.type==="multicategory"?Ue.r2c_just_indices(Ke):Ue.d2c(Ke,0,Fe[Le+"calendar"]),xt=Fe._length,gt=new Array(xt),nt=0;nt<xt;nt++)gt[nt]=vt;return[gt]}(w,A,_,C[L]),H=j[0],Y=j[1],ie=M.distinctVals(H,_),re=ie.vals,ne=ie.minDiff/2,ee=(w.boxpoints||w.points)==="all"?M.identity:function(Fe){return Fe.v<R.lf||Fe.v>R.uf};if(w._hasPreCompStats){var Q=w[T],X=function(Fe){return m.d2c((w[Fe]||[])[g])},se=1/0,ce=-1/0;for(g=0;g<w._length;g++){var le=H[g];if(p(le)){if((R={}).pos=R[A]=le,d&&Y&&(R.orig_p=Y[g]),R.q1=X("q1"),R.med=X("median"),R.q3=X("q3"),z=[],Q&&M.isArrayOrTypedArray(Q[g]))for(v=0;v<Q[g].length;v++)(Z=m.d2c(Q[g][v]))!==b&&(t(V={v:Z,i:[g,v]},w,[g,v]),z.push(V));if(R.pts=z.sort(o),N=(q=R[T]=z.map(r)).length,R.med!==b&&R.q1!==b&&R.q3!==b&&R.med>=R.q1&&R.q3>=R.med){var de=X("lowerfence");R.lf=de!==b&&de<=R.q1?de:i(R,q,N);var be=X("upperfence");R.uf=be!==b&&be>=R.q3?be:a(R,q,N);var _e=X("mean");R.mean=_e!==b?_e:N?M.mean(q,N):(R.q1+R.q3)/2;var ve=X("sd");R.sd=_e!==b&&ve>=0?ve:N?M.stdev(q,N,R.mean):R.q3-R.q1,R.lo=l(R),R.uo=u(R);var me=X("notchspan");me=me!==b&&me>0?me:h(R,N),R.ln=R.med-me,R.un=R.med+me;var ye=R.lf,Se=R.uf;w.boxpoints&&q.length&&(ye=Math.min(ye,q[0]),Se=Math.max(Se,q[N-1])),w.notched&&(ye=Math.min(ye,R.ln),Se=Math.max(Se,R.un)),R.min=ye,R.max=Se}else{var Ie;M.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+R.q1,"median = "+R.med,"q3 = "+R.q3].join(`
`)),Ie=R.med!==b?R.med:R.q1!==b?R.q3!==b?(R.q1+R.q3)/2:R.q1:R.q3!==b?R.q3:0,R.med=Ie,R.q1=R.q3=Ie,R.lf=R.uf=Ie,R.mean=R.sd=Ie,R.ln=R.un=Ie,R.min=R.max=Ie}se=Math.min(se,R.min),ce=Math.max(ce,R.max),R.pts2=z.filter(ee),O.push(R)}}w._extremes[m._id]=y.findExtremes(m,[se,ce],{padded:!0})}else{var xe=m.makeCalcdata(w,T),ue=function(Fe,Le){for(var Ue=Fe.length,Ge=new Array(Ue+1),Ke=0;Ke<Ue;Ke++)Ge[Ke]=Fe[Ke]-Le;return Ge[Ue]=Fe[Ue-1]+Le,Ge}(re,ne),ae=re.length,pe=function(Fe){for(var Le=new Array(Fe),Ue=0;Ue<Fe;Ue++)Le[Ue]=[];return Le}(ae);for(g=0;g<w._length;g++)if(Z=xe[g],p(Z)){var De=M.findBin(H[g],ue);De>=0&&De<ae&&(t(V={v:Z,i:g},w,g),pe[De].push(V))}var Te=1/0,Ae=-1/0,Ce=w.quartilemethod,Re=Ce==="exclusive",Ne=Ce==="inclusive";for(g=0;g<ae;g++)if(pe[g].length>0){var ge,Me;(R={}).pos=R[A]=re[g],z=R.pts=pe[g].sort(o),N=(q=R[T]=z.map(r)).length,R.min=q[0],R.max=q[N-1],R.mean=M.mean(q,N),R.sd=M.stdev(q,N,R.mean)*w.sdmultiple,R.med=M.interp(q,.5),N%2&&(Re||Ne)?(Re?(ge=q.slice(0,N/2),Me=q.slice(N/2+1)):Ne&&(ge=q.slice(0,N/2+1),Me=q.slice(N/2)),R.q1=M.interp(ge,.5),R.q3=M.interp(Me,.5)):(R.q1=M.interp(q,.25),R.q3=M.interp(q,.75)),R.lf=i(R,q,N),R.uf=a(R,q,N),R.lo=l(R),R.uo=u(R);var Ee=h(R,N);R.ln=R.med-Ee,R.un=R.med+Ee,Te=Math.min(Te,R.ln),Ae=Math.max(Ae,R.un),R.pts2=z.filter(ee),O.push(R)}w.notched&&M.isTypedArray(xe)&&(xe=Array.from(xe)),w._extremes[m._id]=y.findExtremes(m,w.notched?xe.concat([Te,Ae]):xe,{padded:!0})}return function(Fe,Le){if(M.isArrayOrTypedArray(Le.selectedpoints))for(var Ue=0;Ue<Fe.length;Ue++){for(var Ge=Fe[Ue].pts||[],Ke={},at=0;at<Ge.length;at++)Ke[Ge[at].i]=at;M.tagSelected(Ge,Le,Ke)}}(O,w),O.length>0?(O[0].t={num:C[L],dPos:ne,posLetter:A,valLetter:T,labels:{med:f(c,"median:"),min:f(c,"min:"),q1:f(c,"q1:"),q3:f(c,"q3:"),max:f(c,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?f(c,"mean \xB1 \u03C3:").replace("\u03C3",w.sdmultiple===1?"\u03C3":w.sdmultiple+"\u03C3"):f(c,"mean:"),lf:f(c,"lower fence:"),uf:f(c,"upper fence:")}},C[L]++,O):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,w,g){for(var v in s)M.isArrayOrTypedArray(w[v])&&(Array.isArray(g)?M.isArrayOrTypedArray(w[v][g[0]])&&(c[s[v]]=w[v][g[0]][g[1]]):c[s[v]]=w[v][g])}function o(c,w){return c.v-w.v}function r(c){return c.v}function i(c,w,g){return g===0?c.q1:Math.min(c.q1,w[Math.min(M.findBin(2.5*c.q1-1.5*c.q3,w,!0)+1,g-1)])}function a(c,w,g){return g===0?c.q3:Math.max(c.q3,w[Math.max(M.findBin(2.5*c.q3-1.5*c.q1,w),0)])}function l(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function h(c,w){return w===0?0:1.57*(c.q3-c.q1)/Math.sqrt(w)}},96404:function(S,x,e){"use strict";var p=e(54460),y=e(3400),n=e(71888).getAxisGroup,M=["v","h"];function b(f,s,t,o){var r,i,a,l=s.calcdata,u=s._fullLayout,h=o._id,c=h.charAt(0),w=[],g=0;for(r=0;r<t.length;r++)for(a=l[t[r]],i=0;i<a.length;i++)w.push(o.c2l(a[i].pos,!0)),g+=(a[i].pts2||[]).length;if(w.length){var v=y.distinctVals(w);o.type!=="category"&&o.type!=="multicategory"||(v.minDiff=1);var m=v.minDiff/2;p.minDtick(o,v.minDiff,v.vals[0],!0);var T=u[f==="violin"?"_numViolins":"_numBoxes"],_=u[f+"mode"]==="group"&&T>1,A=1-u[f+"gap"],d=1-u[f+"groupgap"];for(r=0;r<t.length;r++){var C,k,D,O,L,R,z=(a=l[t[r]])[0].trace,q=a[0].t,N=z.width,V=z.side;if(N)C=k=O=N/2,D=0;else if(C=m,_){var Z=n(u,o._id)+z.orientation,j=(u._alignmentOpts[Z]||{})[z.alignmentgroup]||{},H=Object.keys(j.offsetGroups||{}).length,Y=H||T;k=C*A*d/Y,D=2*C*(((H?z._offsetIndex:q.num)+.5)/Y-.5)*A,O=C*A/Y}else k=C*A*d,D=0,O=C;q.dPos=C,q.bPos=D,q.bdPos=k,q.wHover=O;var ie,re,ne,ee,Q,X,se=D+k,ce=!!N;if(V==="positive"?(L=C*(N?1:.5),ie=se,R=ie=D):V==="negative"?(L=ie=D,R=C*(N?1:.5),re=se):(L=R=C,ie=re=se),(z.boxpoints||z.points)&&g>0){var le=z.pointpos,de=z.jitter,be=z.marker.size/2,_e=0;le+de>=0&&((_e=se*(le+de))>L?(ce=!0,Q=be,ne=_e):_e>ie&&(Q=be,ne=L)),_e<=L&&(ne=L);var ve=0;le-de<=0&&((ve=-se*(le-de))>R?(ce=!0,X=be,ee=ve):ve>re&&(X=be,ee=R)),ve<=R&&(ee=R)}else ne=L,ee=R;var me=new Array(a.length);for(i=0;i<a.length;i++)me[i]=a[i].pos;z._extremes[h]=p.findExtremes(o,me,{padded:ce,vpadminus:ee,vpadplus:ne,vpadLinearized:!0,ppadminus:{x:X,y:Q}[c],ppadplus:{x:Q,y:X}[c]})}}}S.exports={crossTraceCalc:function(f,s){for(var t=f.calcdata,o=s.xaxis,r=s.yaxis,i=0;i<M.length;i++){for(var a=M[i],l=a==="h"?r:o,u=[],h=0;h<t.length;h++){var c=t[h],w=c[0].t,g=c[0].trace;g.visible!==!0||g.type!=="box"&&g.type!=="candlestick"||w.empty||(g.orientation||"v")!==a||g.xaxis!==o._id||g.yaxis!==r._id||u.push(h)}b("box",f,u,l)}},setPositionOffset:b}},90624:function(S,x,e){"use strict";var p=e(3400),y=e(24040),n=e(76308),M=e(31147),b=e(20011),f=e(52976),s=e(63188);function t(r,i,a,l){function u(V){var Z=0;return V&&V.length&&(Z+=1,p.isArrayOrTypedArray(V[0])&&V[0].length&&(Z+=1)),Z}function h(V){return p.validate(r[V],s[V])}var c,w=a("y"),g=a("x");if(i.type==="box"){var v=a("q1"),m=a("median"),T=a("q3");i._hasPreCompStats=v&&v.length&&m&&m.length&&T&&T.length,c=Math.min(p.minRowLength(v),p.minRowLength(m),p.minRowLength(T))}var _,A,d=u(w),C=u(g),k=d&&p.minRowLength(w),D=C&&p.minRowLength(g),O=l.calendar,L={autotypenumbers:l.autotypenumbers};if(i._hasPreCompStats)switch(String(C)+String(d)){case"00":var R=h("x0")||h("dx");_=!h("y0")&&!h("dy")||R?"v":"h",A=c;break;case"10":_="v",A=Math.min(c,D);break;case"20":_="h",A=Math.min(c,g.length);break;case"01":_="h",A=Math.min(c,k);break;case"02":_="v",A=Math.min(c,w.length);break;case"12":_="v",A=Math.min(c,D,w.length);break;case"21":_="h",A=Math.min(c,g.length,k);break;case"11":A=0;break;case"22":var z,q=!1;for(z=0;z<g.length;z++)if(f(g[z],O,L)==="category"){q=!0;break}if(q)_="v",A=Math.min(c,D,w.length);else{for(z=0;z<w.length;z++)if(f(w[z],O,L)==="category"){q=!0;break}q?(_="h",A=Math.min(c,g.length,k)):(_="v",A=Math.min(c,D,w.length))}}else d>0?(_="v",A=C>0?Math.min(D,k):Math.min(k)):C>0?(_="h",A=Math.min(D)):A=0;if(A){i._length=A;var N=a("orientation",_);i._hasPreCompStats?N==="v"&&C===0?(a("x0",0),a("dx",1)):N==="h"&&d===0&&(a("y0",0),a("dy",1)):N==="v"&&C===0?a("x0"):N==="h"&&d===0&&a("y0"),y.getComponentMethod("calendars","handleTraceDefaults")(r,i,["x","y"],l)}else i.visible=!1}function o(r,i,a,l){var u=l.prefix,h=p.coerce2(r,i,s,"marker.outliercolor"),c=a("marker.line.outliercolor"),w="outliers";i._hasPreCompStats?w="all":(h||c)&&(w="suspectedoutliers");var g=a(u+"points",w);g?(a("jitter",g==="all"?.3:0),a("pointpos",g==="all"?-1.5:0),a("marker.symbol"),a("marker.opacity"),a("marker.size"),a("marker.angle"),a("marker.color",i.line.color),a("marker.line.color"),a("marker.line.width"),g==="suspectedoutliers"&&(a("marker.line.outliercolor",i.marker.color),a("marker.line.outlierwidth")),a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size"),a("text"),a("hovertext")):delete i.marker;var v=a("hoveron");v!=="all"&&v.indexOf("points")===-1||a("hovertemplate"),p.coerceSelectionMarkerOpacity(i,a)}S.exports={supplyDefaults:function(r,i,a,l){function u(A,d){return p.coerce(r,i,s,A,d)}if(t(r,i,u,l),i.visible!==!1){M(r,i,l,u),u("xhoverformat"),u("yhoverformat");var h=i._hasPreCompStats;h&&(u("lowerfence"),u("upperfence")),u("line.color",(r.marker||{}).color||a),u("line.width"),u("fillcolor",n.addOpacity(i.line.color,.5));var c=!1;if(h){var w=u("mean"),g=u("sd");w&&w.length&&(c=!0,g&&g.length&&(c="sd"))}u("whiskerwidth");var v,m=u("sizemode");m==="quartiles"&&(v=u("boxmean",c)),u("showwhiskers",m==="quartiles"),m!=="sd"&&v!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var T=!1;if(h){var _=u("notchspan");_&&_.length&&(T=!0)}else p.validate(r.notchwidth,s.notchwidth)&&(T=!0);u("notched",T)&&u("notchwidth"),o(r,i,u,{prefix:"box"}),u("zorder")}},crossTraceDefaults:function(r,i){var a,l;function u(w){return p.coerce(l._input,l,s,w)}for(var h=0;h<r.length;h++){var c=(l=r[h]).type;c!=="box"&&c!=="violin"||(a=l._input,i[c+"mode"]==="group"&&b(a,l,i,u))}},handleSampleDefaults:t,handlePointsDefaults:o}},10392:function(S){"use strict";S.exports=function(x,e){return e.hoverOnBox&&(x.hoverOnBox=e.hoverOnBox),"xVal"in e&&(x.x=e.xVal),"yVal"in e&&(x.y=e.yVal),e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),x}},27576:function(S,x,e){"use strict";var p=e(54460),y=e(3400),n=e(93024),M=e(76308),b=y.fillText;function f(t,o,r,i){var a,l,u,h,c,w,g,v,m,T,_,A,d,C,k=t.cd,D=t.xa,O=t.ya,L=k[0].trace,R=k[0].t,z=L.type==="violin",q=R.bdPos,N=R.wHover,V=function(Ie){return u.c2l(Ie.pos)+R.bPos-u.c2l(w)};z&&L.side!=="both"?(L.side==="positive"&&(m=function(Ie){var xe=V(Ie);return n.inbox(xe,xe+N,T)},A=q,d=0),L.side==="negative"&&(m=function(Ie){var xe=V(Ie);return n.inbox(xe-N,xe,T)},A=0,d=q)):(m=function(Ie){var xe=V(Ie);return n.inbox(xe-N,xe+N,T)},A=d=q),C=z?function(Ie){return n.inbox(Ie.span[0]-c,Ie.span[1]-c,T)}:function(Ie){return n.inbox(Ie.min-c,Ie.max-c,T)},L.orientation==="h"?(c=o,w=r,g=C,v=m,a="y",u=O,l="x",h=D):(c=r,w=o,g=m,v=C,a="x",u=D,l="y",h=O);var Z=Math.min(1,q/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function j(Ie){return(g(Ie)+v(Ie))/2}T=t.maxHoverDistance-Z,_=t.maxSpikeDistance-Z;var H=n.getDistanceFunction(i,g,v,j);if(n.getClosest(k,H,t),t.index===!1)return[];var Y=k[t.index],ie=L.line.color,re=(L.marker||{}).color;M.opacity(ie)&&L.line.width?t.color=ie:M.opacity(re)&&L.boxpoints?t.color=re:t.color=L.fillcolor,t[a+"0"]=u.c2p(Y.pos+R.bPos-d,!0),t[a+"1"]=u.c2p(Y.pos+R.bPos+A,!0),t[a+"LabelVal"]=Y.orig_p!==void 0?Y.orig_p:Y.pos;var ne=a+"Spike";t.spikeDistance=j(Y)*_/T,t[ne]=u.c2p(Y.pos,!0);var ee=L.boxmean||L.sizemode==="sd"||(L.meanline||{}).visible,Q=L.boxpoints||L.points,X=Q&&ee?["max","uf","q3","med","mean","q1","lf","min"]:Q&&!ee?["max","uf","q3","med","q1","lf","min"]:!Q&&ee?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],se=h.range[1]<h.range[0];L.orientation===(se?"v":"h")&&X.reverse();for(var ce=t.spikeDistance,le=t[ne],de=[],be=0;be<X.length;be++){var _e=X[be];if(_e in Y){var ve=Y[_e],me=h.c2p(ve,!0),ye=y.extendFlat({},t);ye.attr=_e,ye[l+"0"]=ye[l+"1"]=me,ye[l+"LabelVal"]=ve,ye[l+"Label"]=(R.labels?R.labels[_e]+" ":"")+p.hoverLabelText(h,ve,L[l+"hoverformat"]),ye.hoverOnBox=!0,_e!=="mean"||!("sd"in Y)||L.boxmean!=="sd"&&L.sizemode!=="sd"||(ye[l+"err"]=Y.sd),ye.hovertemplate=!1,de.push(ye)}}t.name="",t.spikeDistance=void 0,t[ne]=void 0;for(var Se=0;Se<de.length;Se++)de[Se].attr!=="med"?(de[Se].name="",de[Se].spikeDistance=void 0,de[Se][ne]=void 0):(de[Se].spikeDistance=ce,de[Se][ne]=le);return de}function s(t,o,r){for(var i,a,l,u=t.cd,h=t.xa,c=t.ya,w=u[0].trace,g=h.c2p(o),v=c.c2p(r),m=n.quadrature(function(z){var q=Math.max(3,z.mrc||0);return Math.max(Math.abs(h.c2p(z.x)-g)-q,1-3/q)},function(z){var q=Math.max(3,z.mrc||0);return Math.max(Math.abs(c.c2p(z.y)-v)-q,1-3/q)}),T=!1,_=0;_<u.length;_++){a=u[_];for(var A=0;A<(a.pts||[]).length;A++){var d=m(l=a.pts[A]);d<=t.distance&&(t.distance=d,T=[_,A])}}if(!T)return!1;l=(a=u[T[0]]).pts[T[1]];var C=h.c2p(l.x,!0),k=c.c2p(l.y,!0),D=l.mrc||1;i=y.extendFlat({},t,{index:l.i,color:(w.marker||{}).color,name:w.name,x0:C-D,x1:C+D,y0:k-D,y1:k+D,spikeDistance:t.distance,hovertemplate:w.hovertemplate});var O,L=a.orig_p,R=L!==void 0?L:a.pos;return w.orientation==="h"?(O=c,i.xLabelVal=l.x,i.yLabelVal=R):(O=h,i.xLabelVal=R,i.yLabelVal=l.y),i[O._id.charAt(0)+"Spike"]=O.c2p(a.pos,!0),b(l,w,i),i}S.exports={hoverPoints:function(t,o,r,i){var a,l=t.cd[0].trace.hoveron,u=[];return l.indexOf("boxes")!==-1&&(u=u.concat(f(t,o,r,i))),l.indexOf("points")!==-1&&(a=s(t,o,r)),i==="closest"?a?[a]:u:(a&&u.push(a),u)},hoverOnBoxes:f,hoverOnPoints:s}},67244:function(S,x,e){"use strict";S.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(S){"use strict";S.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(16560);function M(b,f,s,t,o){for(var r=o+"Layout",i=!1,a=0;a<s.length;a++){var l=s[a];if(p.traceIs(l,r)){i=!0;break}}i&&(t(o+"mode"),t(o+"gap"),t(o+"groupgap"))}S.exports={supplyLayoutDefaults:function(b,f,s){M(0,0,s,function(t,o){return y.coerce(b,f,n,t,o)},"box")},_supply:M}},18728:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616);function M(s,t,o,r,i){var a,l,u=o.orientation==="h",h=t.val,c=t.pos,w=!!c.rangebreaks,g=r.bPos,v=r.wdPos||0,m=r.bPosPxOffset||0,T=o.whiskerwidth||0,_=o.showwhiskers!==!1,A=o.notched||!1,d=A?1-2*o.notchwidth:1;Array.isArray(r.bdPos)?(a=r.bdPos[0],l=r.bdPos[1]):(a=r.bdPos,l=r.bdPos);var C=s.selectAll("path.box").data(o.type!=="violin"||o.box.visible?y.identity:[]);C.enter().append("path").style("vector-effect",i?"none":"non-scaling-stroke").attr("class","box"),C.exit().remove(),C.each(function(k){if(k.empty)return p.select(this).attr("d","M0,0Z");var D=c.c2l(k.pos+g,!0),O=c.l2p(D-a)+m,L=c.l2p(D+l)+m,R=w?(O+L)/2:c.l2p(D)+m,z=o.whiskerwidth,q=w?O*z+(1-z)*R:c.l2p(D-v)+m,N=w?L*z+(1-z)*R:c.l2p(D+v)+m,V=c.l2p(D-a*d)+m,Z=c.l2p(D+l*d)+m,j=o.sizemode==="sd",H=h.c2p(j?k.mean-k.sd:k.q1,!0),Y=j?h.c2p(k.mean+k.sd,!0):h.c2p(k.q3,!0),ie=y.constrain(j?h.c2p(k.mean,!0):h.c2p(k.med,!0),Math.min(H,Y)+1,Math.max(H,Y)-1),re=k.lf===void 0||o.boxpoints===!1||j,ne=h.c2p(re?k.min:k.lf,!0),ee=h.c2p(re?k.max:k.uf,!0),Q=h.c2p(k.ln,!0),X=h.c2p(k.un,!0);u?p.select(this).attr("d","M"+ie+","+V+"V"+Z+"M"+H+","+O+"V"+L+(A?"H"+Q+"L"+ie+","+Z+"L"+X+","+L:"")+"H"+Y+"V"+O+(A?"H"+X+"L"+ie+","+V+"L"+Q+","+O:"")+"Z"+(_?"M"+H+","+R+"H"+ne+"M"+Y+","+R+"H"+ee+(T===0?"":"M"+ne+","+q+"V"+N+"M"+ee+","+q+"V"+N):"")):p.select(this).attr("d","M"+V+","+ie+"H"+Z+"M"+O+","+H+"H"+L+(A?"V"+Q+"L"+Z+","+ie+"L"+L+","+X:"")+"V"+Y+"H"+O+(A?"V"+X+"L"+V+","+ie+"L"+O+","+Q:"")+"Z"+(_?"M"+R+","+H+"V"+ne+"M"+R+","+Y+"V"+ee+(T===0?"":"M"+q+","+ne+"H"+N+"M"+q+","+ee+"H"+N):""))})}function b(s,t,o,r){var i=t.x,a=t.y,l=r.bdPos,u=r.bPos,h=o.boxpoints||o.points;y.seedPseudoRandom();var c=s.selectAll("g.points").data(h?function(g){return g.forEach(function(v){v.t=r,v.trace=o}),g}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var w=c.selectAll("path").data(function(g){var v,m,T=g.pts2,_=Math.max((g.max-g.min)/10,g.q3-g.q1),A=1e-9*_,d=.01*_,C=[],k=0;if(o.jitter){if(_===0)for(k=1,C=new Array(T.length),v=0;v<T.length;v++)C[v]=1;else for(v=0;v<T.length;v++){var D=Math.max(0,v-5),O=T[D].v,L=Math.min(T.length-1,v+5),R=T[L].v;h!=="all"&&(T[v].v<g.lf?R=Math.min(R,g.lf):O=Math.max(O,g.uf));var z=Math.sqrt(d*(L-D)/(R-O+A))||0;z=y.constrain(Math.abs(z),0,1),C.push(z),k=Math.max(z,k)}m=2*o.jitter/(k||1)}for(v=0;v<T.length;v++){var q=T[v],N=q.v,V=o.jitter?m*C[v]*(y.pseudoRandom()-.5):0,Z=g.pos+u+l*(o.pointpos+V);o.orientation==="h"?(q.y=Z,q.x=N):(q.x=Z,q.y=N),h==="suspectedoutliers"&&N<g.uo&&N>g.lo&&(q.so=!0)}return T});w.enter().append("path").classed("point",!0),w.exit().remove(),w.call(n.translatePoints,i,a)}function f(s,t,o,r){var i,a,l=t.val,u=t.pos,h=!!u.rangebreaks,c=r.bPos,w=r.bPosPxOffset||0,g=o.boxmean||(o.meanline||{}).visible;Array.isArray(r.bdPos)?(i=r.bdPos[0],a=r.bdPos[1]):(i=r.bdPos,a=r.bdPos);var v=s.selectAll("path.mean").data(o.type==="box"&&o.boxmean||o.type==="violin"&&o.box.visible&&o.meanline.visible?y.identity:[]);v.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),v.exit().remove(),v.each(function(m){var T=u.c2l(m.pos+c,!0),_=u.l2p(T-i)+w,A=u.l2p(T+a)+w,d=h?(_+A)/2:u.l2p(T)+w,C=l.c2p(m.mean,!0),k=l.c2p(m.mean-m.sd,!0),D=l.c2p(m.mean+m.sd,!0);o.orientation==="h"?p.select(this).attr("d","M"+C+","+_+"V"+A+(g==="sd"?"m0,0L"+k+","+d+"L"+C+","+_+"L"+D+","+d+"Z":"")):p.select(this).attr("d","M"+_+","+C+"H"+A+(g==="sd"?"m0,0L"+d+","+k+"L"+_+","+C+"L"+d+","+D+"Z":""))})}S.exports={plot:function(s,t,o,r){var i=s._context.staticPlot,a=t.xaxis,l=t.yaxis;y.makeTraceGroups(r,o,"trace boxes").each(function(u){var h,c,w=p.select(this),g=u[0],v=g.t,m=g.trace;v.wdPos=v.bdPos*m.whiskerwidth,m.visible!==!0||v.empty?w.remove():(m.orientation==="h"?(h=l,c=a):(h=a,c=l),M(w,{pos:h,val:c},m,v,i),b(w,{x:a,y:l},m,v),f(w,{pos:h,val:c},m,v))})},plotBoxAndWhiskers:M,plotPoints:b,plotBoxMean:f}},8264:function(S){"use strict";S.exports=function(x,e){var p,y,n=x.cd,M=x.xaxis,b=x.yaxis,f=[];if(e===!1)for(p=0;p<n.length;p++)for(y=0;y<(n[p].pts||[]).length;y++)n[p].pts[y].selected=0;else for(p=0;p<n.length;p++)for(y=0;y<(n[p].pts||[]).length;y++){var s=n[p].pts[y],t=M.c2p(s.x),o=b.c2p(s.y);e.contains([t,o],null,s.i,x)?(f.push({pointNumber:s.i,x:M.c2d(s.x),y:b.c2d(s.y)}),s.selected=1):s.selected=0}return f}},25776:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(43616);S.exports={style:function(M,b,f){var s=f||p.select(M).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var o=p.select(this),r=t[0].trace,i=r.line.width;function a(h,c,w,g){h.style("stroke-width",c+"px").call(y.stroke,w).call(y.fill,g)}var l=o.selectAll("path.box");if(r.type==="candlestick")l.each(function(h){if(!h.empty){var c=p.select(this),w=r[h.dir];a(c,w.line.width,w.line.color,w.fillcolor),c.style("opacity",r.selectedpoints&&!h.selected?.3:1)}});else{a(l,i,r.line.color,r.fillcolor),o.selectAll("path.mean").style({"stroke-width":i,"stroke-dasharray":2*i+"px,"+i+"px"}).call(y.stroke,r.line.color);var u=o.selectAll("path.point");n.pointStyle(u,r,M)}})},styleOnSelect:function(M,b,f){var s=b[0].trace,t=f.selectAll("path.point");s.selectedpoints?n.selectedPointStyle(t,s):n.pointStyle(t,s,M)}}},64216:function(S,x,e){"use strict";var p=e(3400).extendFlat,y=e(29736).axisHoverFormat,n=e(20279),M=e(63188);function b(f){return{line:{color:p({},M.line.color,{dflt:f}),width:M.line.width,editType:"style"},fillcolor:M.fillcolor,editType:"style"}}S.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:p({},M.line.width,{}),editType:"style"},increasing:b(n.increasing.line.color.dflt),decreasing:b(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:p({},M.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel,zorder:M.zorder}},46283:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(1220),M=e(42812).calcCommon;function b(f,s,t,o){return{min:t,q1:Math.min(f,o),med:o,q3:Math.max(f,o),max:s}}S.exports=function(f,s){var t=f._fullLayout,o=y.getFromId(f,s.xaxis),r=y.getFromId(f,s.yaxis),i=o.makeCalcdata(s,"x"),a=n(s,o,"x",i).vals,l=M(f,s,i,a,r,b);return l.length?(p.extendFlat(l[0].t,{num:t._numBoxes,dPos:p.distinctVals(a).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,l):[{t:{empty:!0}}]}},64588:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(52744),M=e(31147),b=e(64216);function f(s,t,o,r){var i=o(r+".line.color");o(r+".line.width",t.line.width),o(r+".fillcolor",y.addOpacity(i,.5))}S.exports=function(s,t,o,r){function i(a,l){return p.coerce(s,t,b,a,l)}n(s,t,i,r)?(M(s,t,r,i,{x:!0}),i("xhoverformat"),i("yhoverformat"),i("line.width"),f(0,t,i,"increasing"),f(0,t,i,"decreasing"),i("text"),i("hovertext"),i("whiskerwidth"),r._requestRangeslider[t.xaxis]=!0,i("zorder")):t.visible=!1}},61712:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(S,x,e){"use strict";var p=e(63856),y=e(31780);S.exports=function(n,M,b,f,s){f("a")||(f("da"),f("a0")),f("b")||(f("db"),f("b0")),function(t,o,r,i){["aaxis","baxis"].forEach(function(a){var l=a.charAt(0),u=t[a]||{},h=y.newContainer(o,a),c={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:o.font,name:a,data:t[l],calendar:o.calendar,dfltColor:i,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r};p(u,h,c),h._categories=h._categories||[],t[a]||u.type==="-"||(t[a]={type:u.type})})}(n,M,b,s)}},51676:function(S,x,e){"use strict";var p=e(3400).isArrayOrTypedArray;function y(n,M){if(!p(n)||M>=10)return null;for(var b=1/0,f=-1/0,s=n.length,t=0;t<s;t++){var o=n[t];if(p(o)){var r=y(o,M+1);r&&(b=Math.min(r[0],b),f=Math.max(r[1],f))}else b=Math.min(o,b),f=Math.max(o,f)}return[b,f]}S.exports=function(n){return y(n,0)}},85720:function(S,x,e){"use strict";var p=e(25376),y=e(98692),n=e(22548),M=p({editType:"calc"}),b=e(52904).zorder;M.family.dflt='"Open Sans", verdana, arial, sans-serif',M.size.dflt=12,M.color.dflt=n.defaultLine,S.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:y,baxis:y,font:M,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0,zorder:b}},77712:function(S,x,e){"use strict";var p=e(3400).isArrayOrTypedArray;S.exports=function(y,n,M,b){var f,s,t,o,r,i,a,l,u,h,c,w,g,v=p(M)?"a":"b",m=(v==="a"?y.aaxis:y.baxis).smoothing,T=v==="a"?y.a2i:y.b2j,_=v==="a"?M:b,A=v==="a"?b:M,d=v==="a"?n.a.length:n.b.length,C=v==="a"?n.b.length:n.a.length,k=Math.floor(v==="a"?y.b2j(A):y.a2i(A)),D=v==="a"?function(ie){return y.evalxy([],ie,k)}:function(ie){return y.evalxy([],k,ie)};m&&(t=Math.max(0,Math.min(C-2,k)),o=k-t,s=v==="a"?function(ie,re){return y.dxydi([],ie,t,re,o)}:function(ie,re){return y.dxydj([],t,ie,o,re)});var O=T(_[0]),L=T(_[1]),R=O<L?1:-1,z=1e-8*(L-O),q=R>0?Math.floor:Math.ceil,N=R>0?Math.ceil:Math.floor,V=R>0?Math.min:Math.max,Z=R>0?Math.max:Math.min,j=q(O+z),H=N(L-z),Y=[[a=D(O)]];for(f=j;f*R<H*R;f+=R)r=[],c=Z(O,f),g=(w=V(L,f+R))-c,i=Math.max(0,Math.min(d-2,Math.floor(.5*(c+w)))),l=D(w),m&&(u=s(i,c-i),h=s(i,w-i),r.push([a[0]+u[0]/3*g,a[1]+u[1]/3*g]),r.push([l[0]-h[0]/3*g,l[1]-h[1]/3*g])),r.push(l),Y.push(r),a=l;return Y}},98692:function(S,x,e){"use strict";var p=e(25376),y=e(22548),n=e(94724),M=e(29736).descriptionWithDates,b=e(67824).overrideAll,f=e(98192).u,s=e(92880).extendFlat;S.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},n.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:M("tick label")},tickformatstops:b(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:y.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},f,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},f,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:y.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(S,x,e){"use strict";var p=e(85720),y=e(76308).addOpacity,n=e(24040),M=e(3400),b=e(26332),f=e(95936),s=e(42568),t=e(22416),o=e(78344),r=e(52976);S.exports=function(i,a,l){var u=l.letter,h=l.font||{},c=p[u+"axis"];function w(R,z){return M.coerce(i,a,c,R,z)}function g(R,z){return M.coerce2(i,a,c,R,z)}l.name&&(a._name=l.name,a._id=l.name),w("autotypenumbers",l.autotypenumbersDflt);var v=w("type");v==="-"&&(l.data&&function(R,z){if(R.type==="-"){var q=R._id.charAt(0),N=R[q+"calendar"];R.type=r(z,N,{autotypenumbers:R.autotypenumbers})}}(a,l.data),a.type==="-"?a.type="linear":v=i.type=a.type),w("smoothing"),w("cheatertype"),w("showticklabels"),w("labelprefix",u+" = "),w("labelsuffix"),w("showtickprefix"),w("showticksuffix"),w("separatethousands"),w("tickformat"),w("exponentformat"),w("minexponent"),w("showexponent"),w("categoryorder"),w("tickmode"),w("tickvals"),w("ticktext"),w("tick0"),w("dtick"),a.tickmode==="array"&&(w("arraytick0"),w("arraydtick")),w("labelpadding"),a._hovertitle=u,v==="date"&&n.getComponentMethod("calendars","handleDefaults")(i,a,"calendar",l.calendar),o(a,l.fullLayout),a.c2p=M.identity;var m=w("color",l.dfltColor),T=m===i.color?m:h.color;w("title.text")&&(M.coerceFont(w,"title.font",h,{overrideDflt:{size:M.bigFont(h.size),color:T}}),w("title.offset")),w("tickangle"),w("autorange",!a.isValidRange(i.range))&&w("rangemode"),w("range"),a.cleanRange(),w("fixedrange"),b(i,a,w,v),s(i,a,w,v,l),f(i,a,w,v,l),t(i,a,w,{data:l.data,dataAttr:u});var _=g("gridcolor",y(m,.3)),A=g("gridwidth"),d=g("griddash"),C=w("showgrid");C||(delete a.gridcolor,delete a.gridwidth,delete a.griddash);var k=g("startlinecolor",m),D=g("startlinewidth",A);w("startline",a.showgrid||!!k||!!D)||(delete a.startlinecolor,delete a.startlinewidth);var O=g("endlinecolor",m),L=g("endlinewidth",A);return w("endline",a.showgrid||!!O||!!L)||(delete a.endlinecolor,delete a.endlinewidth),C?(w("minorgridcount"),w("minorgridwidth",A),w("minorgriddash",d),w("minorgridcolor",y(_,.06)),a.minorgridcount||(delete a.minorgridwidth,delete a.minorgriddash,delete a.minorgridcolor)):(delete a.gridcolor,delete a.gridwidth,delete a.griddash),a.showticklabels==="none"&&(delete a.tickfont,delete a.tickangle,delete a.showexponent,delete a.exponentformat,delete a.minexponent,delete a.tickformat,delete a.showticksuffix,delete a.showtickprefix),a.showticksuffix||delete a.ticksuffix,a.showtickprefix||delete a.tickprefix,w("tickmode"),a}},58744:function(S,x,e){"use strict";var p=e(54460),y=e(3400).isArray1D,n=e(60776),M=e(51676),b=e(19216),f=e(14724),s=e(24944),t=e(26136),o=e(51512),r=e(2872),i=e(81e3);S.exports=function(a,l){var u=p.getFromId(a,l.xaxis),h=p.getFromId(a,l.yaxis),c=l.aaxis,w=l.baxis,g=l.x,v=l.y,m=[];g&&y(g)&&m.push("x"),v&&y(v)&&m.push("y"),m.length&&r(l,c,w,"a","b",m);var T=l._a=l._a||l.a,_=l._b=l._b||l.b;g=l._x||l.x,v=l._y||l.y;var A={};if(l._cheater){var d=c.cheatertype==="index"?T.length:T,C=w.cheatertype==="index"?_.length:_;g=n(d,C,l.cheaterslope)}l._x=g=t(g),l._y=v=t(v),o(g,T,_),o(v,T,_),i(l),l.setScale();var k=M(g),D=M(v),O=.5*(k[1]-k[0]),L=.5*(k[1]+k[0]),R=.5*(D[1]-D[0]),z=.5*(D[1]+D[0]),q=1.3;return k=[L-O*q,L+O*q],D=[z-R*q,z+R*q],l._extremes[u._id]=p.findExtremes(u,k,{padded:!0}),l._extremes[h._id]=p.findExtremes(h,D,{padded:!0}),b(l,"a","b"),b(l,"b","a"),f(l,c),f(l,w),A.clipsegments=s(l._xctrl,l._yctrl,c,w),A.x=g,A.y=v,A.a=T,A.b=_,[A]}},24944:function(S){"use strict";S.exports=function(x,e,p,y){var n,M,b,f=[],s=!!p.smoothing,t=!!y.smoothing,o=x[0].length-1,r=x.length-1;for(n=0,M=[],b=[];n<=o;n++)M[n]=x[0][n],b[n]=e[0][n];for(f.push({x:M,y:b,bicubic:s}),n=0,M=[],b=[];n<=r;n++)M[n]=x[n][o],b[n]=e[n][o];for(f.push({x:M,y:b,bicubic:t}),n=o,M=[],b=[];n>=0;n--)M[o-n]=x[r][n],b[o-n]=e[r][n];for(f.push({x:M,y:b,bicubic:s}),n=r,M=[],b=[];n>=0;n--)M[r-n]=x[n][0],b[r-n]=e[n][0];return f.push({x:M,y:b,bicubic:t}),f}},19216:function(S,x,e){"use strict";var p=e(54460),y=e(92880).extendFlat;S.exports=function(n,M,b){var f,s,t,o,r,i,a,l,u,h,c,w,g,v,m=n["_"+M],T=n[M+"axis"],_=T._gridlines=[],A=T._minorgridlines=[],d=T._boundarylines=[],C=n["_"+b],k=n[b+"axis"];T.tickmode==="array"&&(T.tickvals=m.slice());var D=n._xctrl,O=n._yctrl,L=D[0].length,R=D.length,z=n._a.length,q=n._b.length;p.prepTicks(T),T.tickmode==="array"&&delete T.tickvals;var N=T.smoothing?3:1;function V(j){var H,Y,ie,re,ne,ee,Q,X,se,ce,le,de,be=[],_e=[],ve={};if(M==="b")for(Y=n.b2j(j),ie=Math.floor(Math.max(0,Math.min(q-2,Y))),re=Y-ie,ve.length=q,ve.crossLength=z,ve.xy=function(me){return n.evalxy([],me,Y)},ve.dxy=function(me,ye){return n.dxydi([],me,ie,ye,re)},H=0;H<z;H++)ee=Math.min(z-2,H),Q=H-ee,X=n.evalxy([],H,Y),k.smoothing&&H>0&&(se=n.dxydi([],H-1,ie,0,re),be.push(ne[0]+se[0]/3),_e.push(ne[1]+se[1]/3),ce=n.dxydi([],H-1,ie,1,re),be.push(X[0]-ce[0]/3),_e.push(X[1]-ce[1]/3)),be.push(X[0]),_e.push(X[1]),ne=X;else for(H=n.a2i(j),ee=Math.floor(Math.max(0,Math.min(z-2,H))),Q=H-ee,ve.length=z,ve.crossLength=q,ve.xy=function(me){return n.evalxy([],H,me)},ve.dxy=function(me,ye){return n.dxydj([],ee,me,Q,ye)},Y=0;Y<q;Y++)ie=Math.min(q-2,Y),re=Y-ie,X=n.evalxy([],H,Y),k.smoothing&&Y>0&&(le=n.dxydj([],ee,Y-1,Q,0),be.push(ne[0]+le[0]/3),_e.push(ne[1]+le[1]/3),de=n.dxydj([],ee,Y-1,Q,1),be.push(X[0]-de[0]/3),_e.push(X[1]-de[1]/3)),be.push(X[0]),_e.push(X[1]),ne=X;return ve.axisLetter=M,ve.axis=T,ve.crossAxis=k,ve.value=j,ve.constvar=b,ve.index=l,ve.x=be,ve.y=_e,ve.smoothing=k.smoothing,ve}function Z(j){var H,Y,ie,re,ne,ee=[],Q=[],X={};if(X.length=m.length,X.crossLength=C.length,M==="b")for(ie=Math.max(0,Math.min(q-2,j)),ne=Math.min(1,Math.max(0,j-ie)),X.xy=function(se){return n.evalxy([],se,j)},X.dxy=function(se,ce){return n.dxydi([],se,ie,ce,ne)},H=0;H<L;H++)ee[H]=D[j*N][H],Q[H]=O[j*N][H];else for(Y=Math.max(0,Math.min(z-2,j)),re=Math.min(1,Math.max(0,j-Y)),X.xy=function(se){return n.evalxy([],j,se)},X.dxy=function(se,ce){return n.dxydj([],Y,se,re,ce)},H=0;H<R;H++)ee[H]=D[H][j*N],Q[H]=O[H][j*N];return X.axisLetter=M,X.axis=T,X.crossAxis=k,X.value=m[j],X.constvar=b,X.index=j,X.x=ee,X.y=Q,X.smoothing=k.smoothing,X}if(T.tickmode==="array"){for(o=5e-15,i=(r=[Math.floor((m.length-1-T.arraytick0)/T.arraydtick*(1+o)),Math.ceil(-T.arraytick0/T.arraydtick/(1+o))].sort(function(j,H){return j-H}))[0]-1,a=r[1]+1,l=i;l<a;l++)(s=T.arraytick0+T.arraydtick*l)<0||s>m.length-1||_.push(y(Z(s),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(l=i;l<a;l++)if(t=T.arraytick0+T.arraydtick*l,c=Math.min(t+T.arraydtick,m.length-1),!(t<0||t>m.length-1||c<0||c>m.length-1))for(w=m[t],g=m[c],f=0;f<T.minorgridcount;f++)(v=c-t)<=0||(h=w+(g-w)*(f+1)/(T.minorgridcount+1)*(T.arraydtick/v))<m[0]||h>m[m.length-1]||A.push(y(V(h),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&d.push(y(Z(0),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&d.push(y(Z(m.length-1),{color:T.endlinecolor,width:T.endlinewidth}))}else{for(o=5e-15,i=(r=[Math.floor((m[m.length-1]-T.tick0)/T.dtick*(1+o)),Math.ceil((m[0]-T.tick0)/T.dtick/(1+o))].sort(function(j,H){return j-H}))[0],a=r[1],l=i;l<=a;l++)u=T.tick0+T.dtick*l,_.push(y(V(u),{color:T.gridcolor,width:T.gridwidth,dash:T.griddash}));for(l=i-1;l<a+1;l++)for(u=T.tick0+T.dtick*l,f=0;f<T.minorgridcount;f++)(h=u+T.dtick*(f+1)/(T.minorgridcount+1))<m[0]||h>m[m.length-1]||A.push(y(V(h),{color:T.minorgridcolor,width:T.minorgridwidth,dash:T.minorgriddash}));T.startline&&d.push(y(V(m[0]),{color:T.startlinecolor,width:T.startlinewidth})),T.endline&&d.push(y(V(m[m.length-1]),{color:T.endlinecolor,width:T.endlinewidth}))}}},14724:function(S,x,e){"use strict";var p=e(54460),y=e(92880).extendFlat;S.exports=function(n,M){var b,f,s,t=M._labels=[],o=M._gridlines;for(b=0;b<o.length;b++)s=o[b],["start","both"].indexOf(M.showticklabels)!==-1&&(f=p.tickText(M,s.value),y(f,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===o.length-1}),t.push(f)),["end","both"].indexOf(M.showticklabels)!==-1&&(f=p.tickText(M,s.value),y(f,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:b===0,isLast:b===o.length-1}),t.push(f))}},62284:function(S){"use strict";S.exports=function(x,e,p,y){var n=x[0]-e[0],M=x[1]-e[1],b=p[0]-e[0],f=p[1]-e[1],s=Math.pow(n*n+M*M,.25),t=Math.pow(b*b+f*f,.25),o=(t*t*n-s*s*b)*y,r=(t*t*M-s*s*f)*y,i=t*(s+t)*3,a=s*(s+t)*3;return[[e[0]+(i&&o/i),e[1]+(i&&r/i)],[e[0]-(a&&o/a),e[1]-(a&&r/a)]]}},60776:function(S,x,e){"use strict";var p=e(3400).isArrayOrTypedArray;S.exports=function(y,n,M){var b,f,s,t,o,r,i=[],a=p(y)?y.length:y,l=p(n)?n.length:n,u=p(y)?y:null,h=p(n)?n:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(a-1)),h&&(t=(h.length-1)/(h[h.length-1]-h[0])/(l-1));var c=1/0,w=-1/0;for(f=0;f<l;f++)for(i[f]=[],o=h?(h[f]-h[0])*t:f/(l-1),b=0;b<a;b++)r=(u?(u[b]-u[0])*s:b/(a-1))-o*M,c=Math.min(r,c),w=Math.max(r,w),i[f][b]=r;var g=1/(w-c),v=-c*g;for(f=0;f<l;f++)for(b=0;b<a;b++)i[f][b]=g*i[f][b]+v;return i}},30180:function(S,x,e){"use strict";var p=e(62284),y=e(3400).ensureArray;function n(M,b,f){var s=-.5*f[0]+1.5*b[0],t=-.5*f[1]+1.5*b[1];return[(2*s+M[0])/3,(2*t+M[1])/3]}S.exports=function(M,b,f,s,t,o){var r,i,a,l,u,h,c,w,g,v,m=f[0].length,T=f.length,_=t?3*m-2:m,A=o?3*T-2:T;for(M=y(M,A),b=y(b,A),a=0;a<A;a++)M[a]=y(M[a],_),b[a]=y(b[a],_);for(i=0,l=0;i<T;i++,l+=o?3:1)for(u=M[l],h=b[l],c=f[i],w=s[i],r=0,a=0;r<m;r++,a+=t?3:1)u[a]=c[r],h[a]=w[r];if(t)for(i=0,l=0;i<T;i++,l+=o?3:1){for(r=1,a=3;r<m-1;r++,a+=3)g=p([f[i][r-1],s[i][r-1]],[f[i][r],s[i][r]],[f[i][r+1],s[i][r+1]],t),M[l][a-1]=g[0][0],b[l][a-1]=g[0][1],M[l][a+1]=g[1][0],b[l][a+1]=g[1][1];v=n([M[l][0],b[l][0]],[M[l][2],b[l][2]],[M[l][3],b[l][3]]),M[l][1]=v[0],b[l][1]=v[1],v=n([M[l][_-1],b[l][_-1]],[M[l][_-3],b[l][_-3]],[M[l][_-4],b[l][_-4]]),M[l][_-2]=v[0],b[l][_-2]=v[1]}if(o)for(a=0;a<_;a++){for(l=3;l<A-3;l+=3)g=p([M[l-3][a],b[l-3][a]],[M[l][a],b[l][a]],[M[l+3][a],b[l+3][a]],o),M[l-1][a]=g[0][0],b[l-1][a]=g[0][1],M[l+1][a]=g[1][0],b[l+1][a]=g[1][1];v=n([M[0][a],b[0][a]],[M[2][a],b[2][a]],[M[3][a],b[3][a]]),M[1][a]=v[0],b[1][a]=v[1],v=n([M[A-1][a],b[A-1][a]],[M[A-3][a],b[A-3][a]],[M[A-4][a],b[A-4][a]]),M[A-2][a]=v[0],b[A-2][a]=v[1]}if(t&&o)for(l=1;l<A;l+=(l+1)%3==0?2:1){for(a=3;a<_-3;a+=3)g=p([M[l][a-3],b[l][a-3]],[M[l][a],b[l][a]],[M[l][a+3],b[l][a+3]],t),M[l][a-1]=.5*(M[l][a-1]+g[0][0]),b[l][a-1]=.5*(b[l][a-1]+g[0][1]),M[l][a+1]=.5*(M[l][a+1]+g[1][0]),b[l][a+1]=.5*(b[l][a+1]+g[1][1]);v=n([M[l][0],b[l][0]],[M[l][2],b[l][2]],[M[l][3],b[l][3]]),M[l][1]=.5*(M[l][1]+v[0]),b[l][1]=.5*(b[l][1]+v[1]),v=n([M[l][_-1],b[l][_-1]],[M[l][_-3],b[l][_-3]],[M[l][_-4],b[l][_-4]]),M[l][_-2]=.5*(M[l][_-2]+v[0]),b[l][_-2]=.5*(b[l][_-2]+v[1])}return[M,b]}},24588:function(S){"use strict";S.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(S){"use strict";S.exports=function(x,e,p){return e&&p?function(y,n,M,b,f){var s,t,o,r,i,a;y||(y=[]),n*=3,M*=3;var l=b*b,u=1-b,h=u*u,c=u*b*2,w=-3*h,g=3*(h-c),v=3*(c-l),m=3*l,T=f*f,_=T*f,A=1-f,d=A*A,C=d*A;for(a=0;a<x.length;a++)s=w*(i=x[a])[M][n]+g*i[M][n+1]+v*i[M][n+2]+m*i[M][n+3],t=w*i[M+1][n]+g*i[M+1][n+1]+v*i[M+1][n+2]+m*i[M+1][n+3],o=w*i[M+2][n]+g*i[M+2][n+1]+v*i[M+2][n+2]+m*i[M+2][n+3],r=w*i[M+3][n]+g*i[M+3][n+1]+v*i[M+3][n+2]+m*i[M+3][n+3],y[a]=C*s+3*(d*f*t+A*T*o)+_*r;return y}:e?function(y,n,M,b,f){var s,t,o,r;y||(y=[]),n*=3;var i=b*b,a=1-b,l=a*a,u=a*b*2,h=-3*l,c=3*(l-u),w=3*(u-i),g=3*i,v=1-f;for(o=0;o<x.length;o++)s=h*(r=x[o])[M][n]+c*r[M][n+1]+w*r[M][n+2]+g*r[M][n+3],t=h*r[M+1][n]+c*r[M+1][n+1]+w*r[M+1][n+2]+g*r[M+1][n+3],y[o]=v*s+f*t;return y}:p?function(y,n,M,b,f){var s,t,o,r,i,a;y||(y=[]),M*=3;var l=f*f,u=l*f,h=1-f,c=h*h,w=c*h;for(i=0;i<x.length;i++)s=(a=x[i])[M][n+1]-a[M][n],t=a[M+1][n+1]-a[M+1][n],o=a[M+2][n+1]-a[M+2][n],r=a[M+3][n+1]-a[M+3][n],y[i]=w*s+3*(c*f*t+h*l*o)+u*r;return y}:function(y,n,M,b,f){var s,t,o,r;y||(y=[]);var i=1-f;for(o=0;o<x.length;o++)s=(r=x[o])[M][n+1]-r[M][n],t=r[M+1][n+1]-r[M+1][n],y[o]=i*s+f*t;return y}}},24464:function(S){"use strict";S.exports=function(x,e,p){return e&&p?function(y,n,M,b,f){var s,t,o,r,i,a;y||(y=[]),n*=3,M*=3;var l=b*b,u=l*b,h=1-b,c=h*h,w=c*h,g=f*f,v=1-f,m=v*v,T=v*f*2,_=-3*m,A=3*(m-T),d=3*(T-g),C=3*g;for(a=0;a<x.length;a++)s=_*(i=x[a])[M][n]+A*i[M+1][n]+d*i[M+2][n]+C*i[M+3][n],t=_*i[M][n+1]+A*i[M+1][n+1]+d*i[M+2][n+1]+C*i[M+3][n+1],o=_*i[M][n+2]+A*i[M+1][n+2]+d*i[M+2][n+2]+C*i[M+3][n+2],r=_*i[M][n+3]+A*i[M+1][n+3]+d*i[M+2][n+3]+C*i[M+3][n+3],y[a]=w*s+3*(c*b*t+h*l*o)+u*r;return y}:e?function(y,n,M,b,f){var s,t,o,r,i,a;y||(y=[]),n*=3;var l=f*f,u=l*f,h=1-f,c=h*h,w=c*h;for(i=0;i<x.length;i++)s=(a=x[i])[M+1][n]-a[M][n],t=a[M+1][n+1]-a[M][n+1],o=a[M+1][n+2]-a[M][n+2],r=a[M+1][n+3]-a[M][n+3],y[i]=w*s+3*(c*f*t+h*l*o)+u*r;return y}:p?function(y,n,M,b,f){var s,t,o,r;y||(y=[]),M*=3;var i=1-b,a=f*f,l=1-f,u=l*l,h=l*f*2,c=-3*u,w=3*(u-h),g=3*(h-a),v=3*a;for(o=0;o<x.length;o++)s=c*(r=x[o])[M][n]+w*r[M+1][n]+g*r[M+2][n]+v*r[M+3][n],t=c*r[M][n+1]+w*r[M+1][n+1]+g*r[M+2][n+1]+v*r[M+3][n+1],y[o]=i*s+b*t;return y}:function(y,n,M,b,f){var s,t,o,r;y||(y=[]);var i=1-b;for(o=0;o<x.length;o++)s=(r=x[o])[M+1][n]-r[M][n],t=r[M+1][n+1]-r[M][n+1],y[o]=i*s+b*t;return y}}},29056:function(S){"use strict";S.exports=function(x,e,p,y,n){var M=e-2,b=p-2;return y&&n?function(f,s,t){var o,r,i,a,l,u;f||(f=[]);var h=Math.max(0,Math.min(Math.floor(s),M)),c=Math.max(0,Math.min(Math.floor(t),b)),w=Math.max(0,Math.min(1,s-h)),g=Math.max(0,Math.min(1,t-c));h*=3,c*=3;var v=w*w,m=v*w,T=1-w,_=T*T,A=_*T,d=g*g,C=d*g,k=1-g,D=k*k,O=D*k;for(u=0;u<x.length;u++)o=A*(l=x[u])[c][h]+3*(_*w*l[c][h+1]+T*v*l[c][h+2])+m*l[c][h+3],r=A*l[c+1][h]+3*(_*w*l[c+1][h+1]+T*v*l[c+1][h+2])+m*l[c+1][h+3],i=A*l[c+2][h]+3*(_*w*l[c+2][h+1]+T*v*l[c+2][h+2])+m*l[c+2][h+3],a=A*l[c+3][h]+3*(_*w*l[c+3][h+1]+T*v*l[c+3][h+2])+m*l[c+3][h+3],f[u]=O*o+3*(D*g*r+k*d*i)+C*a;return f}:y?function(f,s,t){f||(f=[]);var o,r,i,a,l,u,h=Math.max(0,Math.min(Math.floor(s),M)),c=Math.max(0,Math.min(Math.floor(t),b)),w=Math.max(0,Math.min(1,s-h)),g=Math.max(0,Math.min(1,t-c));h*=3;var v=w*w,m=v*w,T=1-w,_=T*T,A=_*T,d=1-g;for(l=0;l<x.length;l++)o=d*(u=x[l])[c][h]+g*u[c+1][h],r=d*u[c][h+1]+g*u[c+1][h+1],i=d*u[c][h+2]+g*u[c+1][h+1],a=d*u[c][h+3]+g*u[c+1][h+1],f[l]=A*o+3*(_*w*r+T*v*i)+m*a;return f}:n?function(f,s,t){f||(f=[]);var o,r,i,a,l,u,h=Math.max(0,Math.min(Math.floor(s),M)),c=Math.max(0,Math.min(Math.floor(t),b)),w=Math.max(0,Math.min(1,s-h)),g=Math.max(0,Math.min(1,t-c));c*=3;var v=g*g,m=v*g,T=1-g,_=T*T,A=_*T,d=1-w;for(l=0;l<x.length;l++)o=d*(u=x[l])[c][h]+w*u[c][h+1],r=d*u[c+1][h]+w*u[c+1][h+1],i=d*u[c+2][h]+w*u[c+2][h+1],a=d*u[c+3][h]+w*u[c+3][h+1],f[l]=A*o+3*(_*g*r+T*v*i)+m*a;return f}:function(f,s,t){f||(f=[]);var o,r,i,a,l=Math.max(0,Math.min(Math.floor(s),M)),u=Math.max(0,Math.min(Math.floor(t),b)),h=Math.max(0,Math.min(1,s-l)),c=Math.max(0,Math.min(1,t-u)),w=1-c,g=1-h;for(i=0;i<x.length;i++)o=g*(a=x[i])[u][l]+h*a[u][l+1],r=g*a[u+1][l]+h*a[u+1][l+1],f[i]=w*o+c*r;return f}}},38356:function(S,x,e){"use strict";var p=e(3400),y=e(86411),n=e(93504),M=e(85720),b=e(22548);S.exports=function(f,s,t,o){function r(a,l){return p.coerce(f,s,M,a,l)}s._clipPathId="clip"+s.uid+"carpet";var i=r("color",b.defaultLine);p.coerceFont(r,"font",o.font),r("carpet"),n(f,s,o,r,i),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),y(f,s,r)||(s.visible=!1),s._cheater&&r("cheaterslope"),r("zorder")):s.visible=!1}},95856:function(S,x,e){"use strict";S.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(S){"use strict";S.exports=function(x,e){for(var p,y=x._fullData.length,n=0;n<y;n++){var M=x._fullData[n];if(M.index!==e.index&&M.type==="carpet"&&(p||(p=M),M.carpet===e.carpet))return M}return p}},53416:function(S){"use strict";S.exports=function(x,e,p){if(x.length===0)return"";var y,n=[],M=p?3:1;for(y=0;y<x.length;y+=M)n.push(x[y]+","+e[y]),p&&y<x.length-M&&(n.push("C"),n.push([x[y+1]+","+e[y+1],x[y+2]+","+e[y+2]+" "].join(" ")));return n.join(p?"":"L")}},87072:function(S,x,e){"use strict";var p=e(3400).isArrayOrTypedArray;S.exports=function(y,n,M){var b;for(p(y)?y.length>n.length&&(y=y.slice(0,n.length)):y=[],b=0;b<n.length;b++)y[b]=M(n[b]);return y}},15584:function(S){"use strict";S.exports=function(x,e,p,y,n,M){var b=n[0]*x.dpdx(e),f=n[1]*x.dpdy(p),s=1,t=1;if(M){var o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),r=Math.sqrt(M[0]*M[0]+M[1]*M[1]),i=(n[0]*M[0]+n[1]*M[1])/o/r;t=Math.max(0,i)}var a=180*Math.atan2(f,b)/Math.PI;return a<-90?(a+=180,s=-s):a>90&&(a-=180,s=-s),{angle:a,flip:s,p:x.c2p(y,e,p),offsetMultplier:t}}},164:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(87072),M=e(53416),b=e(15584),f=e(72736),s=e(3400),t=s.strRotate,o=s.strTranslate,r=e(84284);function i(c,w,g,v,m,T,_){var A="const-"+m+"-lines",d=g.selectAll("."+A).data(T);d.enter().append("path").classed(A,!0).style("vector-effect",_?"none":"non-scaling-stroke"),d.each(function(C){var k=C,D=k.x,O=k.y,L=n([],D,c.c2p),R=n([],O,w.c2p),z="M"+M(L,R,k.smoothing);p.select(this).attr("d",z).style("stroke-width",k.width).style("stroke",k.color).style("stroke-dasharray",y.dashStyle(k.dash,k.width)).style("fill","none")}),d.exit().remove()}function a(c,w,g,v,m,T,_,A){var d=T.selectAll("text."+A).data(_);d.enter().append("text").classed(A,!0);var C=0,k={};return d.each(function(D,O){var L;if(D.axis.tickangle==="auto")L=b(v,w,g,D.xy,D.dxy);else{var R=(D.axis.tickangle+180)*Math.PI/180;L=b(v,w,g,D.xy,[Math.cos(R),Math.sin(R)])}O||(k={angle:L.angle,flip:L.flip});var z=(D.endAnchor?-1:1)*L.flip,q=p.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(y.font,D.font).text(D.text).call(f.convertToTspans,c),N=y.bBox(this);q.attr("transform",o(L.p[0],L.p[1])+t(L.angle)+o(D.axis.labelpadding*z,.3*N.height)),C=Math.max(C,N.width+D.axis.labelpadding)}),d.exit().remove(),k.maxExtent=C,k}S.exports=function(c,w,g,v){var m=c._context.staticPlot,T=w.xaxis,_=w.yaxis,A=c._fullLayout._clips;s.makeTraceGroups(v,g,"trace").each(function(d){var C=p.select(this),k=d[0],D=k.trace,O=D.aaxis,L=D.baxis,R=s.ensureSingle(C,"g","minorlayer"),z=s.ensureSingle(C,"g","majorlayer"),q=s.ensureSingle(C,"g","boundarylayer"),N=s.ensureSingle(C,"g","labellayer");C.style("opacity",D.opacity),i(T,_,z,0,"a",O._gridlines,!0),i(T,_,z,0,"b",L._gridlines,!0),i(T,_,R,0,"a",O._minorgridlines,!0),i(T,_,R,0,"b",L._minorgridlines,!0),i(T,_,q,0,"a-boundary",O._boundarylines,m),i(T,_,q,0,"b-boundary",L._boundarylines,m);var V=a(c,T,_,D,0,N,O._labels,"a-label"),Z=a(c,T,_,D,0,N,L._labels,"b-label");(function(j,H,Y,ie,re,ne,ee,Q){var X,se,ce,le,de=s.aggNums(Math.min,null,Y.a),be=s.aggNums(Math.max,null,Y.a),_e=s.aggNums(Math.min,null,Y.b),ve=s.aggNums(Math.max,null,Y.b);X=.5*(de+be),se=_e,ce=Y.ab2xy(X,se,!0),le=Y.dxyda_rough(X,se),ee.angle===void 0&&s.extendFlat(ee,b(Y,re,ne,ce,Y.dxydb_rough(X,se))),h(j,H,Y,0,ce,le,Y.aaxis,re,ne,ee,"a-title"),X=de,se=.5*(_e+ve),ce=Y.ab2xy(X,se,!0),le=Y.dxydb_rough(X,se),Q.angle===void 0&&s.extendFlat(Q,b(Y,re,ne,ce,Y.dxyda_rough(X,se))),h(j,H,Y,0,ce,le,Y.baxis,re,ne,Q,"b-title")})(c,N,D,0,T,_,V,Z),function(j,H,Y,ie,re){var ne,ee,Q,X,se=Y.select("#"+j._clipPathId);se.size()||(se=Y.append("clipPath").classed("carpetclip",!0));var ce=s.ensureSingle(se,"path","carpetboundary"),le=H.clipsegments,de=[];for(X=0;X<le.length;X++)ne=le[X],ee=n([],ne.x,ie.c2p),Q=n([],ne.y,re.c2p),de.push(M(ee,Q,ne.bicubic));var be="M"+de.join("L")+"Z";se.attr("id",j._clipPathId),ce.attr("d",be)}(D,k,A,T,_)})};var l=r.LINE_SPACING,u=(1-r.MID_SHIFT)/l+1;function h(c,w,g,v,m,T,_,A,d,C,k){var D=[];_.title.text&&D.push(_.title.text);var O=w.selectAll("text."+k).data(D),L=C.maxExtent;O.enter().append("text").classed(k,!0),O.each(function(){var R=b(g,A,d,m,T);["start","both"].indexOf(_.showticklabels)===-1&&(L=0);var z=_.title.font.size;L+=z+_.title.offset;var q=(C.angle+(C.flip<0?180:0)-R.angle+450)%360,N=q>90&&q<270,V=p.select(this);V.text(_.title.text).call(f.convertToTspans,c),N&&(L=(-f.lineCount(V)+u)*l*z-L),V.attr("transform",o(R.p[0],R.p[1])+t(R.angle)+o(0,L)).attr("text-anchor","middle").call(y.font,_.title.font)}),O.exit().remove()}},81e3:function(S,x,e){"use strict";var p=e(24588),y=e(14952).findBin,n=e(30180),M=e(29056),b=e(26435),f=e(24464);S.exports=function(s){var t=s._a,o=s._b,r=t.length,i=o.length,a=s.aaxis,l=s.baxis,u=t[0],h=t[r-1],c=o[0],w=o[i-1],g=t[t.length-1]-t[0],v=o[o.length-1]-o[0],m=g*p.RELATIVE_CULL_TOLERANCE,T=v*p.RELATIVE_CULL_TOLERANCE;u-=m,h+=m,c-=T,w+=T,s.isVisible=function(_,A){return _>u&&_<h&&A>c&&A<w},s.isOccluded=function(_,A){return _<u||_>h||A<c||A>w},s.setScale=function(){var _=s._x,A=s._y,d=n(s._xctrl,s._yctrl,_,A,a.smoothing,l.smoothing);s._xctrl=d[0],s._yctrl=d[1],s.evalxy=M([s._xctrl,s._yctrl],r,i,a.smoothing,l.smoothing),s.dxydi=b([s._xctrl,s._yctrl],a.smoothing,l.smoothing),s.dxydj=f([s._xctrl,s._yctrl],a.smoothing,l.smoothing)},s.i2a=function(_){var A=Math.max(0,Math.floor(_[0]),r-2),d=_[0]-A;return(1-d)*t[A]+d*t[A+1]},s.j2b=function(_){var A=Math.max(0,Math.floor(_[1]),r-2),d=_[1]-A;return(1-d)*o[A]+d*o[A+1]},s.ij2ab=function(_){return[s.i2a(_[0]),s.j2b(_[1])]},s.a2i=function(_){var A=Math.max(0,Math.min(y(_,t),r-2)),d=t[A],C=t[A+1];return Math.max(0,Math.min(r-1,A+(_-d)/(C-d)))},s.b2j=function(_){var A=Math.max(0,Math.min(y(_,o),i-2)),d=o[A],C=o[A+1];return Math.max(0,Math.min(i-1,A+(_-d)/(C-d)))},s.ab2ij=function(_){return[s.a2i(_[0]),s.b2j(_[1])]},s.i2c=function(_,A){return s.evalxy([],_,A)},s.ab2xy=function(_,A,d){if(!d&&(_<t[0]||_>t[r-1]|A<o[0]||A>o[i-1]))return[!1,!1];var C=s.a2i(_),k=s.b2j(A),D=s.evalxy([],C,k);if(d){var O,L,R,z,q=0,N=0,V=[];_<t[0]?(O=0,L=0,q=(_-t[0])/(t[1]-t[0])):_>t[r-1]?(O=r-2,L=1,q=(_-t[r-1])/(t[r-1]-t[r-2])):L=C-(O=Math.max(0,Math.min(r-2,Math.floor(C)))),A<o[0]?(R=0,z=0,N=(A-o[0])/(o[1]-o[0])):A>o[i-1]?(R=i-2,z=1,N=(A-o[i-1])/(o[i-1]-o[i-2])):z=k-(R=Math.max(0,Math.min(i-2,Math.floor(k)))),q&&(s.dxydi(V,O,R,L,z),D[0]+=V[0]*q,D[1]+=V[1]*q),N&&(s.dxydj(V,O,R,L,z),D[0]+=V[0]*N,D[1]+=V[1]*N)}return D},s.c2p=function(_,A,d){return[A.c2p(_[0]),d.c2p(_[1])]},s.p2x=function(_,A,d){return[A.p2c(_[0]),d.p2c(_[1])]},s.dadi=function(_){var A=Math.max(0,Math.min(t.length-2,_));return t[A+1]-t[A]},s.dbdj=function(_){var A=Math.max(0,Math.min(o.length-2,_));return o[A+1]-o[A]},s.dxyda=function(_,A,d,C){var k=s.dxydi(null,_,A,d,C),D=s.dadi(_,d);return[k[0]/D,k[1]/D]},s.dxydb=function(_,A,d,C){var k=s.dxydj(null,_,A,d,C),D=s.dbdj(A,C);return[k[0]/D,k[1]/D]},s.dxyda_rough=function(_,A,d){var C=g*(d||.1),k=s.ab2xy(_+C,A,!0),D=s.ab2xy(_-C,A,!0);return[.5*(k[0]-D[0])/C,.5*(k[1]-D[1])/C]},s.dxydb_rough=function(_,A,d){var C=v*(d||.1),k=s.ab2xy(_,A+C,!0),D=s.ab2xy(_,A-C,!0);return[.5*(k[0]-D[0])/C,.5*(k[1]-D[1])/C]},s.dpdx=function(_){return _._m},s.dpdy=function(_){return _._m}}},51512:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n,M){var b,f,s,t=[],o=[],r=y[0].length,i=y.length;function a(j,H){var Y,ie=0,re=0;return j>0&&(Y=y[H][j-1])!==void 0&&(re++,ie+=Y),j<r-1&&(Y=y[H][j+1])!==void 0&&(re++,ie+=Y),H>0&&(Y=y[H-1][j])!==void 0&&(re++,ie+=Y),H<i-1&&(Y=y[H+1][j])!==void 0&&(re++,ie+=Y),ie/Math.max(1,re)}var l,u,h,c,w,g,v,m,T,_,A,d=0;for(b=0;b<r;b++)for(f=0;f<i;f++)y[f][b]===void 0&&(t.push(b),o.push(f),y[f][b]=a(b,f)),d=Math.max(d,Math.abs(y[f][b]));if(!t.length)return y;var C=0,k=0,D=t.length;do{for(C=0,s=0;s<D;s++){b=t[s],f=o[s];var O,L,R,z,q,N,V=0,Z=0;b===0?(R=n[q=Math.min(r-1,2)],z=n[1],O=y[f][q],Z+=(L=y[f][1])+(L-O)*(n[0]-z)/(z-R),V++):b===r-1&&(R=n[q=Math.max(0,r-3)],z=n[r-2],O=y[f][q],Z+=(L=y[f][r-2])+(L-O)*(n[r-1]-z)/(z-R),V++),(b===0||b===r-1)&&f>0&&f<i-1&&(l=M[f+1]-M[f],Z+=((u=M[f]-M[f-1])*y[f+1][b]+l*y[f-1][b])/(u+l),V++),f===0?(R=M[N=Math.min(i-1,2)],z=M[1],O=y[N][b],Z+=(L=y[1][b])+(L-O)*(M[0]-z)/(z-R),V++):f===i-1&&(R=M[N=Math.max(0,i-3)],z=M[i-2],O=y[N][b],Z+=(L=y[i-2][b])+(L-O)*(M[i-1]-z)/(z-R),V++),(f===0||f===i-1)&&b>0&&b<r-1&&(l=n[b+1]-n[b],Z+=((u=n[b]-n[b-1])*y[f][b+1]+l*y[f][b-1])/(u+l),V++),V?Z/=V:(h=n[b+1]-n[b],c=n[b]-n[b-1],m=(w=M[f+1]-M[f])*(g=M[f]-M[f-1])*(w+g),Z=((v=h*c*(h+c))*(g*y[f+1][b]+w*y[f-1][b])+m*(c*y[f][b+1]+h*y[f][b-1]))/(m*(c+h)+v*(g+w))),C+=(_=(T=Z-y[f][b])/d)*_,A=V?0:.85,y[f][b]+=T*(1+A)}C=Math.sqrt(C)}while(k++<100&&C>1e-5);return p.log("Smoother converged to",C,"after",k,"iterations"),y}},86411:function(S,x,e){"use strict";var p=e(3400).isArray1D;S.exports=function(y,n,M){var b=M("x"),f=b&&b.length,s=M("y"),t=s&&s.length;if(!f&&!t)return!1;if(n._cheater=!b,f&&!p(b)||t&&!p(s))n._length=null;else{var o=f?b.length:1/0;t&&(o=Math.min(o,s.length)),n.a&&n.a.length&&(o=Math.min(o,n.a.length)),n.b&&n.b.length&&(o=Math.min(o,n.b.length)),n._length=o}return!0}},83372:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(6096),n=e(49084),M=e(45464),b=e(22548).defaultLine,f=e(92880).extendFlat,s=y.marker.line;S.exports=f({locations:{valType:"data_array",editType:"calc"},locationmode:y.locationmode,z:{valType:"data_array",editType:"calc"},geojson:f({},y.geojson,{}),featureidkey:y.featureidkey,text:f({},y.text,{}),hovertext:f({},y.hovertext,{}),marker:{line:{color:f({},s.color,{dflt:b}),width:f({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:y.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:y.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:f({},M.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:f({},M.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(S,x,e){"use strict";var p=e(38248),y=e(39032).BADNUM,n=e(47128),M=e(20148),b=e(4500);function f(s){return s&&typeof s=="string"}S.exports=function(s,t){var o,r=t._length,i=new Array(r);o=t.geojson?function(c){return f(c)||p(c)}:f;for(var a=0;a<r;a++){var l=i[a]={},u=t.locations[a],h=t.z[a];o(u)&&p(h)?(l.loc=u,l.z=h):(l.loc=null,l.z=y),l.index=a}return M(i,t),n(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(i,t),i}},30972:function(S,x,e){"use strict";var p=e(3400),y=e(27260),n=e(83372);S.exports=function(M,b,f,s){function t(l,u){return p.coerce(M,b,n,l,u)}var o=t("locations"),r=t("z");if(o&&o.length&&p.isArrayOrTypedArray(r)&&r.length){b._length=Math.min(o.length,r.length);var i,a=t("geojson");(typeof a=="string"&&a!==""||p.isPlainObject(a))&&(i="geojson-id"),t("locationmode",i)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),y(M,b,s,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},52428:function(S){"use strict";S.exports=function(x,e,p,y,n){x.location=e.location,x.z=e.z;var M=y[n];return M.fIn&&M.fIn.properties&&(x.properties=M.fIn.properties),x.ct=M.ct,x}},69224:function(S,x,e){"use strict";var p=e(54460),y=e(83372),n=e(3400).fillText;S.exports=function(M,b,f){var s,t,o,r,i=M.cd,a=i[0].trace,l=M.subplot,u=[b,f],h=[b+360,f];for(t=0;t<i.length;t++)if(r=!1,(s=i[t])._polygons){for(o=0;o<s._polygons.length;o++)s._polygons[o].contains(u)&&(r=!r),s._polygons[o].contains(h)&&(r=!r);if(r)break}if(r&&s)return M.x0=M.x1=M.xa.c2p(s.ct),M.y0=M.y1=M.ya.c2p(s.ct),M.index=s.index,M.location=s.loc,M.z=s.z,M.zLabel=p.tickText(l.mockAxis,l.mockAxis.c2l(s.z),"hover").text,M.hovertemplate=s.hovertemplate,function(c,w,g){if(!w.hovertemplate){var v=g.hi||w.hoverinfo,m=String(g.loc),T=v==="all"?y.hoverinfo.flags:v.split("+"),_=T.indexOf("name")!==-1,A=T.indexOf("location")!==-1,d=T.indexOf("z")!==-1,C=T.indexOf("text")!==-1,k=[];!_&&A?c.nameOverride=m:(_&&(c.nameOverride=w.name),A&&k.push(m)),d&&k.push(c.zLabel),C&&n(g,w,k),c.extraText=k.join("<br>")}}(M,a,s),[M]}},54272:function(S,x,e){"use strict";S.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(27144),M=e(59972).getTopojsonFeatures,b=e(19280).findExtremes,f=e(7947).style;S.exports={calcGeoJSON:function(s,t){for(var o=s[0].trace,r=t[o.geo],i=r._subplot,a=o.locationmode,l=o._length,u=a==="geojson-id"?n.extractTraceFeature(s):M(o,i.topojson),h=[],c=[],w=0;w<l;w++){var g=s[w],v=a==="geojson-id"?g.fOut:n.locationToFeature(a,g.loc,u);if(v){g.geojson=v,g.ct=v.properties.ct,g._polygons=n.feature2polygons(v);var m=n.computeBbox(v);h.push(m[0],m[2]),c.push(m[1],m[3])}else g.geojson=null}if(r.fitbounds==="geojson"&&a==="geojson-id"){var T=n.computeBbox(n.getTraceGeojson(o));h=[T[0],T[2]],c=[T[1],T[3]]}var _={padded:!0};o._extremes.lon=b(r.lonaxis._ax,h,_),o._extremes.lat=b(r.lataxis._ax,c,_)},plot:function(s,t,o){var r=t.layers.backplot.select(".choroplethlayer");y.makeTraceGroups(r,o,"trace choropleth").each(function(i){var a=p.select(this).selectAll("path.choroplethlocation").data(y.identity);a.enter().append("path").classed("choroplethlocation",!0),a.exit().remove(),f(s,i)})}}},17328:function(S){"use strict";S.exports=function(x,e){var p,y,n,M,b,f=x.cd,s=x.xaxis,t=x.yaxis,o=[];if(e===!1)for(p=0;p<f.length;p++)f[p].selected=0;else for(p=0;p<f.length;p++)(n=(y=f[p]).ct)&&(M=s.c2p(n),b=t.c2p(n),e.contains([M,b],null,p,x)?(o.push({pointNumber:p,lon:n[0],lat:n[1]}),y.selected=1):y.selected=0);return o}},7947:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(43616),M=e(8932);function b(f,s){var t=s[0].trace,o=s[0].node3.selectAll(".choroplethlocation"),r=t.marker||{},i=r.line||{},a=M.makeColorScaleFuncFromTrace(t);o.each(function(l){p.select(this).attr("fill",a(l.z)).call(y.stroke,l.mlc||i.color).call(n.dashLine,"",l.mlw||i.width||0).style("opacity",r.opacity)}),n.selectedPointStyle(o,t)}S.exports={style:function(f,s){s&&b(0,s)},styleOnSelect:function(f,s){var t=s[0].node3,o=s[0].trace;o.selectedpoints?n.selectedPointStyle(t.selectAll(".choroplethlocation"),o):b(0,s)}}},45608:function(S,x,e){"use strict";var p=e(83372),y=e(49084),n=e(21776).Ks,M=e(45464),b=e(92880).extendFlat;S.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:b({},p.marker.line.color,{editType:"plot"}),width:b({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:b({},M.showlegend,{dflt:!1})},y("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(8932),M=e(43616),b=e(44808).makeBlank,f=e(27144);function s(t){var o,r=t[0].trace,i=r._opts;if(r.selectedpoints){for(var a=M.makeSelectedPointStyleFns(r),l=0;l<t.length;l++){var u=t[l];u.fOut&&(u.fOut.properties.mo2=a.selectedOpacityFn(u))}o={type:"identity",property:"mo2"}}else o=y.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return y.extendFlat(i.fill.paint,{"fill-opacity":o}),y.extendFlat(i.line.paint,{"line-opacity":o}),i}S.exports={convert:function(t){var o=t[0].trace,r=o.visible===!0&&o._length!==0,i={layout:{visibility:"none"},paint:{}},a={layout:{visibility:"none"},paint:{}},l=o._opts={fill:i,line:a,geojson:b()};if(!r)return l;var u=f.extractTraceFeature(t);if(!u)return l;var h,c,w,g=n.makeColorScaleFuncFromTrace(o),v=o.marker,m=v.line||{};y.isArrayOrTypedArray(v.opacity)&&(h=function(k){var D=k.mo;return p(D)?+y.constrain(D,0,1):0}),y.isArrayOrTypedArray(m.color)&&(c=function(k){return k.mlc}),y.isArrayOrTypedArray(m.width)&&(w=function(k){return k.mlw});for(var T=0;T<t.length;T++){var _=t[T],A=_.fOut;if(A){var d=A.properties;d.fc=g(_.z),h&&(d.mo=h(_)),c&&(d.mlc=c(_)),w&&(d.mlw=w(_)),_.ct=d.ct,_._polygons=f.feature2polygons(A)}}var C=h?{type:"identity",property:"mo"}:v.opacity;return y.extendFlat(i.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":C}),y.extendFlat(a.paint,{"line-color":c?{type:"identity",property:"mlc"}:m.color,"line-width":w?{type:"identity",property:"mlw"}:m.width,"line-opacity":C}),i.layout.visibility="visible",a.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},s(t),l},convertOnSelect:s}},9352:function(S,x,e){"use strict";var p=e(3400),y=e(27260),n=e(45608);S.exports=function(M,b,f,s){function t(a,l){return p.coerce(M,b,n,a,l)}var o=t("locations"),r=t("z"),i=t("geojson");p.isArrayOrTypedArray(o)&&o.length&&p.isArrayOrTypedArray(r)&&r.length&&(typeof i=="string"&&i!==""||p.isPlainObject(i))?(t("featureidkey"),b._length=Math.min(o.length,r.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),y(M,b,s,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},85404:function(S,x,e){"use strict";S.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(p,y){y&&y[0].trace._glTrace.updateOnSelect(y)},getBelow:function(p,y){for(var n=y.getMapLayers(),M=n.length-2;M>=0;M--){var b=n[M].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var f=M+1;f<n.length;f++)if(typeof(b=n[f].id)=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(S,x,e){"use strict";var p=e(13504).convert,y=e(13504).convertOnSelect,n=e(47552).traceLayerPrefix;function M(f,s){this.type="choroplethmapbox",this.subplot=f,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",n+s+"-fill"],["line",n+s+"-line"]],this.below=null}var b=M.prototype;b.update=function(f){this._update(p(f)),f[0].trace._glTrace=this},b.updateOnSelect=function(f){this._update(y(f))},b._update=function(f){var s=this.subplot,t=this.layerList,o=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(f.geojson),o!==this.below&&(this._removeLayers(),this._addLayers(f,o),this.below=o);for(var r=0;r<t.length;r++){var i=t[r],a=i[0],l=i[1],u=f[a];s.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(f,s){for(var t=this.subplot,o=this.layerList,r=this.sourceId,i=0;i<o.length;i++){var a=o[i],l=a[0],u=f[l];t.addLayer({type:l,id:a[1],source:r,layout:u.layout,paint:u.paint},s)}},b._removeLayers=function(){for(var f=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)f.removeLayer(s[t][1])},b.dispose=function(){var f=this.subplot.map;this._removeLayers(),f.removeSource(this.sourceId)},S.exports=function(f,s){var t=s[0].trace,o=new M(f,t.uid),r=o.sourceId,i=p(s),a=o.below=f.belowLookup["trace-"+t.uid];return f.map.addSource(r,{type:"geojson",data:i.geojson}),o._addLayers(i,a),s[0].trace._glTrace=o,o}},86040:function(S,x,e){"use strict";var p=e(49084),y=e(29736).axisHoverFormat,n=e(21776).Ks,M=e(52948),b=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:y("u",1),vhoverformat:y("v",1),whoverformat:y("w",1),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),showlegend:f({},b.showlegend,{dflt:!1})};f(s,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=M[t]}),s.hoverinfo=f({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,S.exports=s},83344:function(S,x,e){"use strict";var p=e(47128);S.exports=function(y,n){for(var M=n.u,b=n.v,f=n.w,s=Math.min(n.x.length,n.y.length,n.z.length,M.length,b.length,f.length),t=-1/0,o=1/0,r=0;r<s;r++){var i=M[r],a=b[r],l=f[r],u=Math.sqrt(i*i+a*a+l*l);t=Math.max(t,u),o=Math.min(o,u)}n._len=s,n._normMax=t,p(y,n,{vals:[o,t],containerStr:"",cLetter:"c"})}},6648:function(S,x,e){"use strict";var p=e(67792).gl_cone3d,y=e(67792).gl_cone3d.createConeMesh,n=e(3400).simpleMap,M=e(33040).parseColorScale,b=e(8932).extractOpts,f=e(3400).isArrayOrTypedArray,s=e(52094);function t(u,h){this.scene=u,this.uid=h,this.mesh=null,this.data=null}var o=t.prototype;o.handlePick=function(u){if(u.object===this.mesh){var h=u.index=u.data.index,c=this.data.x[h],w=this.data.y[h],g=this.data.z[h],v=this.data.u[h],m=this.data.v[h],T=this.data.w[h];u.traceCoordinate=[c,w,g,v,m,T,Math.sqrt(v*v+m*m+T*T)];var _=this.data.hovertext||this.data.text;return f(_)&&_[h]!==void 0?u.textLabel=_[h]:_&&(u.textLabel=_),!0}};var r={xaxis:0,yaxis:1,zaxis:2},i={tip:1,tail:0,cm:.25,center:.5},a={tip:1,tail:1,cm:.75,center:.5};function l(u,h){var c=u.fullSceneLayout,w=u.dataScale,g={};function v(d,C){var k=c[C],D=w[r[C]];return n(d,function(O){return k.d2l(O)*D})}g.vectors=s(v(h.u,"xaxis"),v(h.v,"yaxis"),v(h.w,"zaxis"),h._len),g.positions=s(v(h.x,"xaxis"),v(h.y,"yaxis"),v(h.z,"zaxis"),h._len);var m=b(h);g.colormap=M(h),g.vertexIntensityBounds=[m.min/h._normMax,m.max/h._normMax],g.coneOffset=i[h.anchor];var T=h.sizemode;T==="scaled"?g.coneSize=h.sizeref||.5:T==="absolute"?g.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:T==="raw"&&(g.coneSize=h.sizeref),g.coneSizemode=T;var _=p(g),A=h.lightposition;return _.lightPosition=[A.x,A.y,A.z],_.ambient=h.lighting.ambient,_.diffuse=h.lighting.diffuse,_.specular=h.lighting.specular,_.roughness=h.lighting.roughness,_.fresnel=h.lighting.fresnel,_.opacity=h.opacity,h._pad=a[h.anchor]*_.vectorScale*_.coneScale*h._normMax,_}o.update=function(u){this.data=u;var h=l(this.scene,u);this.mesh.update(h)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},S.exports=function(u,h){var c=u.glplot.gl,w=l(u,h),g=y(c,w),v=new t(u,h.uid);return v.mesh=g,v.data=h,g._trace=v,u.glplot.add(g),v}},86096:function(S,x,e){"use strict";var p=e(3400),y=e(27260),n=e(86040);S.exports=function(M,b,f,s){function t(c,w){return p.coerce(M,b,n,c,w)}var o=t("u"),r=t("v"),i=t("w"),a=t("x"),l=t("y"),u=t("z");if(o&&o.length&&r&&r.length&&i&&i.length&&a&&a.length&&l&&l.length&&u&&u.length){var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),y(M,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null}else b.visible=!1}},26048:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(p,y){return p.norm=y.traceCoordinate[6],p},meta:{}}},67104:function(S,x,e){"use strict";var p=e(83328),y=e(52904),n=e(29736),M=n.axisHoverFormat,b=n.descriptionOnlyNumbers,f=e(49084),s=e(98192).u,t=e(25376),o=e(92880).extendFlat,r=e(69104),i=r.COMPARISON_OPS2,a=r.INTERVAL_OPS,l=y.line;S.exports=o({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:p.hovertemplate,texttemplate:o({},p.texttemplate,{}),textfont:o({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:o({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(i).concat(a),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:o({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:o({},l.smoothing,{}),editType:"plot"},zorder:y.zorder},f("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(S,x,e){"use strict";var p=e(8932),y=e(19512),n=e(54444),M=e(46960);S.exports=function(b,f){var s=y(b,f),t=s[0].z;n(f,t);var o,r=f.contours,i=p.extractOpts(f);if(r.coloring==="heatmap"&&i.auto&&f.autocontour===!1){var a=r.start,l=M(r),u=r.size||1,h=Math.floor((l-a)/u)+1;isFinite(u)||(u=1,h=1);var c=a-u/2;o=[c,c+h*u]}else o=t;return p.calc(b,f,{vals:o,cLetter:"z"}),s}},56008:function(S){"use strict";S.exports=function(x,e){var p,y=x[0],n=y.z;switch(e.type){case"levels":var M=Math.min(n[0][0],n[0][1]);for(p=0;p<x.length;p++){var b=x[p];b.prefixBoundary=!b.edgepaths.length&&(M>b.level||b.starts.length&&M===b.level)}break;case"constraint":if(y.prefixBoundary=!1,y.edgepaths.length)return;var f=y.x.length,s=y.y.length,t=-1/0,o=1/0;for(p=0;p<s;p++)o=Math.min(o,n[p][0]),o=Math.min(o,n[p][f-1]),t=Math.max(t,n[p][0]),t=Math.max(t,n[p][f-1]);for(p=1;p<f-1;p++)o=Math.min(o,n[0][p]),o=Math.min(o,n[s-1][p]),t=Math.max(t,n[0][p]),t=Math.max(t,n[s-1][p]);var r,i,a=e.value;switch(e._operation){case">":a>t&&(y.prefixBoundary=!0);break;case"<":(a<o||y.starts.length&&a===o)&&(y.prefixBoundary=!0);break;case"[]":r=Math.min(a[0],a[1]),((i=Math.max(a[0],a[1]))<o||r>t||y.starts.length&&i===o)&&(y.prefixBoundary=!0);break;case"][":r=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]),r<o&&i>t&&(y.prefixBoundary=!0)}}}},55296:function(S,x,e){"use strict";var p=e(8932),y=e(41076),n=e(46960);S.exports={min:"zmin",max:"zmax",calc:function(M,b,f){var s=b.contours,t=b.line,o=s.size||1,r=s.coloring,i=y(b,{isColorbar:!0});if(r==="heatmap"){var a=p.extractOpts(b);f._fillgradient=a.reversescale?p.flipScale(a.colorscale):a.colorscale,f._zrange=[a.min,a.max]}else r==="fill"&&(f._fillcolor=i);f._line={color:r==="lines"?i:t.color,width:s.showlines!==!1?t.width:0,dash:t.dash},f._levels={start:s.start,end:n(s),size:o}}}},93252:function(S){"use strict";S.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(S,x,e){"use strict";var p=e(38248),y=e(17428),n=e(76308),M=n.addOpacity,b=n.opacity,f=e(69104),s=e(3400).isArrayOrTypedArray,t=f.CONSTRAINT_REDUCTION,o=f.COMPARISON_OPS2;S.exports=function(r,i,a,l,u,h){var c,w,g,v=i.contours,m=a("contours.operation");v._operation=t[m],function(T,_){var A;o.indexOf(_.operation)===-1?(T("contours.value",[0,1]),s(_.value)?_.value.length>2?_.value=_.value.slice(2):_.length===0?_.value=[0,1]:_.length<2?(A=parseFloat(_.value[0]),_.value=[A,A+1]):_.value=[parseFloat(_.value[0]),parseFloat(_.value[1])]:p(_.value)&&(A=parseFloat(_.value),_.value=[A,A+1])):(T("contours.value",0),p(_.value)||(s(_.value)?_.value=parseFloat(_.value[0]):_.value=0))}(a,v),m==="="?c=v.showlines=!0:(c=a("contours.showlines"),g=a("fillcolor",M((r.line||{}).color||u,.5))),c&&(w=a("line.color",g&&b(g)?M(i.fillcolor,1):u),a("line.width",2),a("line.dash")),a("line.smoothing"),y(a,l,w,h)}},3212:function(S,x,e){"use strict";var p=e(69104),y=e(38248);function n(f,s){var t,o=Array.isArray(s);function r(i){return y(i)?+i:null}return p.COMPARISON_OPS2.indexOf(f)!==-1?t=r(o?s[0]:s):p.INTERVAL_OPS.indexOf(f)!==-1?t=o?[r(s[0]),r(s[1])]:[r(s),r(s)]:p.SET_OPS.indexOf(f)!==-1&&(t=o?s.map(r):[r(s)]),t}function M(f){return function(s){s=n(f,s);var t=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]);return{start:t,end:o,size:o-t}}}function b(f){return function(s){return{start:s=n(f,s),end:1/0,size:1/0}}}S.exports={"[]":M("[]"),"][":M("]["),">":b(">"),"<":b("<"),"=":b("=")}},84952:function(S){"use strict";S.exports=function(x,e,p,y){var n=y("contours.start"),M=y("contours.end"),b=n===!1||M===!1,f=p("contours.size");!(b?e.autocontour=!0:p("autocontour",!1))&&f||p("ncontours")}},82172:function(S,x,e){"use strict";var p=e(3400);function y(n){return p.extendFlat({},n,{edgepaths:p.extendDeep([],n.edgepaths),paths:p.extendDeep([],n.paths),starts:p.extendDeep([],n.starts)})}S.exports=function(n,M){var b,f,s,t=function(i){return i.reverse()},o=function(i){return i};switch(M){case"=":case"<":return n;case">":for(n.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),f=n[0],b=0;b<f.edgepaths.length;b++)f.edgepaths[b]=t(f.edgepaths[b]);for(b=0;b<f.paths.length;b++)f.paths[b]=t(f.paths[b]);for(b=0;b<f.starts.length;b++)f.starts[b]=t(f.starts[b]);return n;case"][":var r=t;t=o,o=r;case"[]":for(n.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),f=y(n[0]),s=y(n[1]),b=0;b<f.edgepaths.length;b++)f.edgepaths[b]=t(f.edgepaths[b]);for(b=0;b<f.paths.length;b++)f.paths[b]=t(f.paths[b]);for(b=0;b<f.starts.length;b++)f.starts[b]=t(f.starts[b]);for(;s.edgepaths.length;)f.edgepaths.push(o(s.edgepaths.shift()));for(;s.paths.length;)f.paths.push(o(s.paths.shift()));for(;s.starts.length;)f.starts.push(o(s.starts.shift()));return[f]}}},57004:function(S,x,e){"use strict";var p=e(3400),y=e(51264),n=e(31147),M=e(95536),b=e(84952),f=e(97680),s=e(39096),t=e(67104);S.exports=function(o,r,i,a){function l(h,c){return p.coerce(o,r,t,h,c)}if(y(o,r,l,a)){n(o,r,a,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u=l("contours.type")==="constraint";l("connectgaps",p.isArray1D(r.z)),u?M(o,r,l,a,i):(b(o,r,l,function(h){return p.coerce2(o,r,t,h)}),f(o,r,l,a)),r.contours&&r.contours.coloring==="heatmap"&&s(l,a),l("zorder")}else r.visible=!1}},61512:function(S,x,e){"use strict";var p=e(3400),y=e(3212),n=e(46960);S.exports=function(M,b,f){for(var s=M.type==="constraint"?y[M._operation](M.value):M,t=s.size,o=[],r=n(s),i=f.trace._carpetTrace,a=i?{xaxis:i.aaxis,yaxis:i.baxis,x:f.a,y:f.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:f.x,y:f.y},l=s.start;l<r;l+=t)if(o.push(p.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:f.z,smoothing:f.trace.line.smoothing},a)),o.length>1e3){p.warn("Too many contours, clipping at 1000",M);break}return o}},46960:function(S){"use strict";S.exports=function(x){return x.end+x.size/1e6}},88748:function(S,x,e){"use strict";var p=e(3400),y=e(93252);function n(f,s,t,o){return Math.abs(f[0]-s[0])<t&&Math.abs(f[1]-s[1])<o}function M(f,s,t,o,r){var i,a=s.join(","),l=f.crossings[a],u=function(se,ce,le){var de=0,be=0;return se>20&&ce?se===208||se===1114?de=le[0]===0?1:-1:be=le[1]===0?1:-1:y.BOTTOMSTART.indexOf(se)!==-1?be=1:y.LEFTSTART.indexOf(se)!==-1?de=1:y.TOPSTART.indexOf(se)!==-1?be=-1:de=-1,[de,be]}(l,t,s),h=[b(f,s,[-u[0],-u[1]])],c=f.z.length,w=f.z[0].length,g=s.slice(),v=u.slice();for(i=0;i<1e4;i++){if(l>20?(l=y.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],f.crossings[a]=y.SADDLEREMAINDER[l]):delete f.crossings[a],!(u=y.NEWDELTA[l])){p.log("Found bad marching index:",l,s,f.level);break}h.push(b(f,s,u)),s[0]+=u[0],s[1]+=u[1],a=s.join(","),n(h[h.length-1],h[h.length-2],o,r)&&h.pop();var m=u[0]&&(s[0]<0||s[0]>w-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===g[0]&&s[1]===g[1]&&u[0]===v[0]&&u[1]===v[1]||t&&m)break;l=f.crossings[a]}i===1e4&&p.log("Infinite loop in contour?");var T,_,A,d,C,k,D,O,L,R,z,q,N,V,Z,j=n(h[0],h[h.length-1],o,r),H=0,Y=.2*f.smoothing,ie=[],re=0;for(i=1;i<h.length;i++)q=h[i],N=h[i-1],V=q[2]-N[2],Z=q[3]-N[3],H+=D=Math.sqrt(V*V+Z*Z),ie.push(D);var ne=H/ie.length*Y;function ee(se){return h[se%h.length]}for(i=h.length-2;i>=re;i--)if((T=ie[i])<ne){for(A=0,_=i-1;_>=re&&T+ie[_]<ne;_--)T+=ie[_];if(j&&i===h.length-2)for(A=0;A<_&&T+ie[A]<ne;A++)T+=ie[A];C=i-_+A+1,k=Math.floor((i+_+A+2)/2),d=j||i!==h.length-2?j||_!==-1?C%2?ee(k):[(ee(k)[0]+ee(k+1)[0])/2,(ee(k)[1]+ee(k+1)[1])/2]:h[0]:h[h.length-1],h.splice(_+1,i-_+1,d),i=_+1,A&&(re=A),j&&(i===h.length-2?h[A]=h[h.length-1]:i===0&&(h[h.length-1]=h[0]))}for(h.splice(0,re),i=0;i<h.length;i++)h[i].length=2;if(!(h.length<2))if(j)h.pop(),f.paths.push(h);else{t||p.log("Unclosed interior contour?",f.level,g.join(","),h.join("L"));var Q=!1;for(O=0;O<f.edgepaths.length;O++)if(R=f.edgepaths[O],!Q&&n(R[0],h[h.length-1],o,r)){h.pop(),Q=!0;var X=!1;for(L=0;L<f.edgepaths.length;L++)if(n((z=f.edgepaths[L])[z.length-1],h[0],o,r)){X=!0,h.shift(),f.edgepaths.splice(O,1),L===O?f.paths.push(h.concat(z)):(L>O&&L--,f.edgepaths[L]=z.concat(h,R));break}X||(f.edgepaths[O]=h.concat(R))}for(O=0;O<f.edgepaths.length&&!Q;O++)n((R=f.edgepaths[O])[R.length-1],h[0],o,r)&&(h.shift(),f.edgepaths[O]=R.concat(h),Q=!0);Q||f.edgepaths.push(h)}}function b(f,s,t){var o=s[0]+Math.max(t[0],0),r=s[1]+Math.max(t[1],0),i=f.z[r][o],a=f.xaxis,l=f.yaxis;if(t[1]){var u=(f.level-i)/(f.z[r][o+1]-i),h=(u!==1?(1-u)*a.c2l(f.x[o]):0)+(u!==0?u*a.c2l(f.x[o+1]):0);return[a.c2p(a.l2c(h),!0),l.c2p(f.y[r],!0),o+u,r]}var c=(f.level-i)/(f.z[r+1][o]-i),w=(c!==1?(1-c)*l.c2l(f.y[r]):0)+(c!==0?c*l.c2l(f.y[r+1]):0);return[a.c2p(f.x[o],!0),l.c2p(l.l2c(w),!0),o,r+c]}S.exports=function(f,s,t){var o,r,i,a;for(s=s||.01,t=t||.01,r=0;r<f.length;r++){for(i=f[r],a=0;a<i.starts.length;a++)M(i,i.starts[a],"edge",s,t);for(o=0;Object.keys(i.crossings).length&&o<1e4;)o++,M(i,Object.keys(i.crossings)[0].split(",").map(Number),void 0,s,t);o===1e4&&p.log("Infinite loop in contour?")}}},38200:function(S,x,e){"use strict";var p=e(76308),y=e(55512);S.exports=function(n,M,b,f,s){s||(s={}),s.isContour=!0;var t=y(n,M,b,f,s);return t&&t.forEach(function(o){var r=o.trace;r.contours.type==="constraint"&&(r.fillcolor&&p.opacity(r.fillcolor)?o.color=p.addOpacity(r.fillcolor,1):r.contours.showlines&&p.opacity(r.line.color)&&(o.color=p.addOpacity(r.line.color,1)))}),t}},66240:function(S,x,e){"use strict";S.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n,M,b){if(b||(b={}),y("contours.showlabels")){var f=n.font;p.coerceFont(y,"contours.labelfont",f,{overrideDflt:{color:M}}),y("contours.labelformat")}b.hasHover!==!1&&y("zhoverformat")}},41076:function(S,x,e){"use strict";var p=e(33428),y=e(8932),n=e(46960);S.exports=function(M){var b=M.contours,f=b.start,s=n(b),t=b.size||1,o=Math.floor((s-f)/t)+1,r=b.coloring==="lines"?0:1,i=y.extractOpts(M);isFinite(t)||(t=1,o=1);var a,l,u=i.reversescale?y.flipScale(i.colorscale):i.colorscale,h=u.length,c=new Array(h),w=new Array(h),g=i.min,v=i.max;if(b.coloring==="heatmap"){for(l=0;l<h;l++)a=u[l],c[l]=a[0]*(v-g)+g,w[l]=a[1];var m=p.extent([g,v,b.start,b.start+t*(o-1)]),T=m[g<v?0:1],_=m[g<v?1:0];T!==g&&(c.splice(0,0,T),w.splice(0,0,w[0])),_!==v&&(c.push(_),w.push(w[w.length-1]))}else{var A=M._input&&typeof M._input.zmin=="number"&&typeof M._input.zmax=="number";for(A&&(f<=g||s>=v)&&(f<=g&&(f=g),s>=v&&(s=v),o=Math.floor((s-f)/t)+1,r=0),l=0;l<h;l++)a=u[l],c[l]=(a[0]*(o+r-1)-r/2)*t+f,w[l]=a[1];(A||M.autocontour)&&(c[0]>g&&(c.unshift(g),w.unshift(w[0])),c[c.length-1]<v&&(c.push(v),w.push(w[w.length-1])))}return y.makeColorScaleFunc({domain:c,range:w},{noNumericCheck:!0})}},72424:function(S,x,e){"use strict";var p=e(93252);function y(n,M){var b=(M[0][0]>n?0:1)+(M[0][1]>n?0:2)+(M[1][1]>n?0:4)+(M[1][0]>n?0:8);return b===5||b===10?n>(M[0][0]+M[0][1]+M[1][0]+M[1][1])/4?b===5?713:1114:b===5?104:208:b===15?0:b}S.exports=function(n){var M,b,f,s,t,o,r,i,a,l=n[0].z,u=l.length,h=l[0].length,c=u===2||h===2;for(b=0;b<u-1;b++)for(s=[],b===0&&(s=s.concat(p.BOTTOMSTART)),b===u-2&&(s=s.concat(p.TOPSTART)),M=0;M<h-1;M++)for(f=s.slice(),M===0&&(f=f.concat(p.LEFTSTART)),M===h-2&&(f=f.concat(p.RIGHTSTART)),t=M+","+b,o=[[l[b][M],l[b][M+1]],[l[b+1][M],l[b+1][M+1]]],a=0;a<n.length;a++)(r=y((i=n[a]).level,o))&&(i.crossings[t]=r,f.indexOf(r)!==-1&&(i.starts.push([M,b]),c&&f.indexOf(r,f.indexOf(r)+1)!==-1&&i.starts.push([M,b])))}},23676:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(8932),b=e(72736),f=e(54460),s=e(78344),t=e(41420),o=e(72424),r=e(88748),i=e(61512),a=e(82172),l=e(56008),u=e(93252),h=u.LABELOPTIMIZER;function c(v,m){var T,_,A,d,C,k,D,O="",L=0,R=v.edgepaths.map(function(j,H){return H}),z=!0;function q(j){return Math.abs(j[1]-m[2][1])<.01}function N(j){return Math.abs(j[0]-m[0][0])<.01}function V(j){return Math.abs(j[0]-m[2][0])<.01}for(;R.length;){for(k=n.smoothopen(v.edgepaths[L],v.smoothing),O+=z?k:k.replace(/^M/,"L"),R.splice(R.indexOf(L),1),T=v.edgepaths[L][v.edgepaths[L].length-1],d=-1,A=0;A<4;A++){if(!T){y.log("Missing end?",L,v);break}for(D=T,Math.abs(D[1]-m[0][1])<.01&&!V(T)?_=m[1]:N(T)?_=m[0]:q(T)?_=m[3]:V(T)&&(_=m[2]),C=0;C<v.edgepaths.length;C++){var Z=v.edgepaths[C][0];Math.abs(T[0]-_[0])<.01?Math.abs(T[0]-Z[0])<.01&&(Z[1]-T[1])*(_[1]-Z[1])>=0&&(_=Z,d=C):Math.abs(T[1]-_[1])<.01?Math.abs(T[1]-Z[1])<.01&&(Z[0]-T[0])*(_[0]-Z[0])>=0&&(_=Z,d=C):y.log("endpt to newendpt is not vert. or horz.",T,_,Z)}if(T=_,d>=0)break;O+="L"+_}if(d===v.edgepaths.length){y.log("unclosed perimeter path");break}L=d,(z=R.indexOf(L)===-1)&&(L=R[0],O+="Z")}for(L=0;L<v.paths.length;L++)O+=n.smoothclosed(v.paths[L],v.smoothing);return O}function w(v,m,T,_){var A=m.width/2,d=m.height/2,C=v.x,k=v.y,D=v.theta,O=Math.cos(D)*A,L=Math.sin(D)*A,R=(C>_.center?_.right-C:C-_.left)/(O+Math.abs(Math.sin(D)*d)),z=(k>_.middle?_.bottom-k:k-_.top)/(Math.abs(L)+Math.cos(D)*d);if(R<1||z<1)return 1/0;var q=h.EDGECOST*(1/(R-1)+1/(z-1));q+=h.ANGLECOST*D*D;for(var N=C-O,V=k-L,Z=C+O,j=k+L,H=0;H<T.length;H++){var Y=T[H],ie=Math.cos(Y.theta)*Y.width/2,re=Math.sin(Y.theta)*Y.width/2,ne=2*y.segmentDistance(N,V,Z,j,Y.x-ie,Y.y-re,Y.x+ie,Y.y+re)/(m.height+Y.height),ee=Y.level===m.level,Q=ee?h.SAMELEVELDISTANCE:1;if(ne<=Q)return 1/0;q+=h.NEIGHBORCOST*(ee?h.SAMELEVELFACTOR:1)/(ne-Q)}return q}function g(v){var m,T,_=v.trace._emptypoints,A=[],d=v.z.length,C=v.z[0].length,k=[];for(m=0;m<C;m++)k.push(1);for(m=0;m<d;m++)A.push(k.slice());for(m=0;m<_.length;m++)A[(T=_[m])[0]][T[1]]=0;return v.zmask=A,A}x.plot=function(v,m,T,_){var A=m.xaxis,d=m.yaxis;y.makeTraceGroups(_,T,"contour").each(function(C){var k=p.select(this),D=C[0],O=D.trace,L=D.x,R=D.y,z=O.contours,q=i(z,m,D),N=y.ensureSingle(k,"g","heatmapcoloring"),V=[];z.coloring==="heatmap"&&(V=[C]),t(v,m,V,N),o(q),r(q);var Z=A.c2p(L[0],!0),j=A.c2p(L[L.length-1],!0),H=d.c2p(R[0],!0),Y=d.c2p(R[R.length-1],!0),ie=[[Z,Y],[j,Y],[j,H],[Z,H]],re=q;z.type==="constraint"&&(re=a(q,z._operation)),function(ne,ee,Q){var X=y.ensureSingle(ne,"g","contourbg").selectAll("path").data(Q.coloring==="fill"?[0]:[]);X.enter().append("path"),X.exit().remove(),X.attr("d","M"+ee.join("L")+"Z").style("stroke","none")}(k,ie,z),function(ne,ee,Q,X){var se=X.coloring==="fill"||X.type==="constraint"&&X._operation!=="=",ce="M"+Q.join("L")+"Z";se&&l(ee,X);var le=y.ensureSingle(ne,"g","contourfill").selectAll("path").data(se?ee:[]);le.enter().append("path"),le.exit().remove(),le.each(function(de){var be=(de.prefixBoundary?ce:"")+c(de,Q);be?p.select(this).attr("d",be).style("stroke","none"):p.select(this).remove()})}(k,re,ie,z),function(ne,ee,Q,X,se){var ce=Q._context.staticPlot,le=y.ensureSingle(ne,"g","contourlines"),de=se.showlines!==!1,be=se.showlabels,_e=de&&be,ve=x.createLines(le,de||be,ee,ce),me=x.createLineClip(le,_e,Q,X.trace.uid),ye=ne.selectAll("g.contourlabels").data(be?[0]:[]);if(ye.exit().remove(),ye.enter().append("g").classed("contourlabels",!0),be){var Se=[],Ie=[];y.clearLocationCache();var xe=x.labelFormatter(Q,X),ue=n.tester.append("text").attr("data-notex",1).call(n.font,se.labelfont),ae=ee[0].xaxis,pe=ee[0].yaxis,De=ae._length,Te=pe._length,Ae=ae.range,Ce=pe.range,Re=y.aggNums(Math.min,null,X.x),Ne=y.aggNums(Math.max,null,X.x),ge=y.aggNums(Math.min,null,X.y),Me=y.aggNums(Math.max,null,X.y),Ee=Math.max(ae.c2p(Re,!0),0),Fe=Math.min(ae.c2p(Ne,!0),De),Le=Math.max(pe.c2p(Me,!0),0),Ue=Math.min(pe.c2p(ge,!0),Te),Ge={};Ae[0]<Ae[1]?(Ge.left=Ee,Ge.right=Fe):(Ge.left=Fe,Ge.right=Ee),Ce[0]<Ce[1]?(Ge.top=Le,Ge.bottom=Ue):(Ge.top=Ue,Ge.bottom=Le),Ge.middle=(Ge.top+Ge.bottom)/2,Ge.center=(Ge.left+Ge.right)/2,Se.push([[Ge.left,Ge.top],[Ge.right,Ge.top],[Ge.right,Ge.bottom],[Ge.left,Ge.bottom]]);var Ke=Math.sqrt(De*De+Te*Te),at=u.LABELDISTANCE*Ke/Math.max(1,ee.length/u.LABELINCREASE);ve.each(function(st){var vt=x.calcTextOpts(st.level,xe,ue,Q);p.select(this).selectAll("path").each(function(){var xt=y.getVisibleSegment(this,Ge,vt.height/2);if(xt&&!(xt.len<(vt.width+vt.height)*u.LABELMIN))for(var gt=Math.min(Math.ceil(xt.len/at),u.LABELMAX),nt=0;nt<gt;nt++){var et=x.findBestTextLocation(this,xt,vt,Ie,Ge);if(!et)break;x.addLabelData(et,vt,Ie,Se)}})}),ue.remove(),x.drawLabels(ye,Ie,Q,me,_e?Se:null)}be&&!de&&ve.remove()}(k,q,v,D,z),function(ne,ee,Q,X,se){var ce=X.trace,le=Q._fullLayout._clips,de="clip"+ce.uid,be=le.selectAll("#"+de).data(ce.connectgaps?[]:[0]);if(be.enter().append("clipPath").classed("contourclip",!0).attr("id",de),be.exit().remove(),ce.connectgaps===!1){var _e={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:ee.xaxis,yaxis:ee.yaxis,x:X.x,y:X.y,z:g(X),smoothing:0};o([_e]),r([_e]),l([_e],{type:"levels"}),y.ensureSingle(be,"path","").attr("d",(_e.prefixBoundary?"M"+se.join("L")+"Z":"")+c(_e,se))}else de=null;n.setClipUrl(ne,de,Q)}(k,m,v,D,ie)})},x.createLines=function(v,m,T,_){var A=T[0].smoothing,d=v.selectAll("g.contourlevel").data(m?T:[]);if(d.exit().remove(),d.enter().append("g").classed("contourlevel",!0),m){var C=d.selectAll("path.openline").data(function(D){return D.pedgepaths||D.edgepaths});C.exit().remove(),C.enter().append("path").classed("openline",!0),C.attr("d",function(D){return n.smoothopen(D,A)}).style("stroke-miterlimit",1).style("vector-effect",_?"none":"non-scaling-stroke");var k=d.selectAll("path.closedline").data(function(D){return D.ppaths||D.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(D){return n.smoothclosed(D,A)}).style("stroke-miterlimit",1).style("vector-effect",_?"none":"non-scaling-stroke")}return d},x.createLineClip=function(v,m,T,_){var A=m?"clipline"+_:null,d=T._fullLayout._clips.selectAll("#"+A).data(m?[0]:[]);return d.exit().remove(),d.enter().append("clipPath").classed("contourlineclip",!0).attr("id",A),n.setClipUrl(v,A,T),d},x.labelFormatter=function(v,m){var T=v._fullLayout,_=m.trace,A=_.contours,d={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(A.labelformat)d.tickformat=A.labelformat,s(d,T);else{var C=M.extractOpts(_);if(C&&C.colorbar&&C.colorbar._axis)d=C.colorbar._axis;else{if(A.type==="constraint"){var k=A.value;y.isArrayOrTypedArray(k)?d.range=[k[0],k[k.length-1]]:d.range=[k,k]}else d.range=[A.start,A.end],d.nticks=(A.end-A.start)/A.size;d.range[0]===d.range[1]&&(d.range[1]+=d.range[0]||1),d.nticks||(d.nticks=1e3),s(d,T),f.prepTicks(d),d._tmin=null,d._tmax=null}}return function(D){return f.tickText(d,D).text}},x.calcTextOpts=function(v,m,T,_){var A=m(v);T.text(A).call(b.convertToTspans,_);var d=T.node(),C=n.bBox(d,!0);return{text:A,width:C.width,height:C.height,fontSize:+d.style["font-size"].replace("px",""),level:v,dy:(C.top+C.bottom)/2}},x.findBestTextLocation=function(v,m,T,_,A){var d,C,k,D,O,L=T.width;m.isClosed?(C=m.len/h.INITIALSEARCHPOINTS,d=m.min+C/2,k=m.max):(C=(m.len-L)/(h.INITIALSEARCHPOINTS+1),d=m.min+C+L/2,k=m.max-(C+L)/2);for(var R=1/0,z=0;z<h.ITERATIONS;z++){for(var q=d;q<k;q+=C){var N=y.getTextLocation(v,m.total,q,L),V=w(N,T,_,A);V<R&&(R=V,O=N,D=q)}if(R>2*h.MAXCOST)break;z&&(C/=2),k=(d=D-C/2)+1.5*C}if(R<=h.MAXCOST)return O},x.addLabelData=function(v,m,T,_){var A=m.fontSize,d=m.width+A/3,C=Math.max(0,m.height-A/3),k=v.x,D=v.y,O=v.theta,L=Math.sin(O),R=Math.cos(O),z=function(N,V){return[k+N*R-V*L,D+N*L+V*R]},q=[z(-d/2,-C/2),z(-d/2,C/2),z(d/2,C/2),z(d/2,-C/2)];T.push({text:m.text,x:k,y:D,dy:m.dy,theta:O,level:m.level,width:d,height:C}),_.push(q)},x.drawLabels=function(v,m,T,_,A){var d=v.selectAll("text").data(m,function(D){return D.text+","+D.x+","+D.y+","+D.theta});if(d.exit().remove(),d.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(D){var O=D.x+Math.sin(D.theta)*D.dy,L=D.y-Math.cos(D.theta)*D.dy;p.select(this).text(D.text).attr({x:O,y:L,transform:"rotate("+180*D.theta/Math.PI+" "+O+" "+L+")"}).call(b.convertToTspans,T)}),A){for(var C="",k=0;k<A.length;k++)C+="M"+A[k].join("L")+"Z";y.ensureSingle(_,"path","").attr("d",C)}}},54444:function(S,x,e){"use strict";var p=e(54460),y=e(3400);function n(M,b,f){var s={type:"linear",range:[M,b]};return p.autoTicks(s,(b-M)/(f||15)),s}S.exports=function(M,b){var f=M.contours;if(M.autocontour){var s=M.zmin,t=M.zmax;(M.zauto||s===void 0)&&(s=y.aggNums(Math.min,null,b)),(M.zauto||t===void 0)&&(t=y.aggNums(Math.max,null,b));var o=n(s,t,M.ncontours);f.size=o.dtick,f.start=p.tickFirst(o),o.range.reverse(),f.end=p.tickFirst(o),f.start===s&&(f.start+=f.size),f.end===t&&(f.end-=f.size),f.start>f.end&&(f.start=f.end=(f.start+f.end)/2),M._input.contours||(M._input.contours={}),y.extendFlat(M._input.contours,{start:f.start,end:f.end,size:f.size}),M._input.autocontour=!0}else if(f.type!=="constraint"){var r,i=f.start,a=f.end,l=M._input.contours;i>a&&(f.start=l.start=a,a=f.end=l.end=i,i=f.start),f.size>0||(r=i===a?1:n(i,a,M.ncontours).dtick,l.size=f.size=r)}}},52440:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(41648),M=e(41076);S.exports=function(b){var f=p.select(b).selectAll("g.contour");f.style("opacity",function(s){return s[0].trace.opacity}),f.each(function(s){var t=p.select(this),o=s[0].trace,r=o.contours,i=o.line,a=r.size||1,l=r.start,u=r.type==="constraint",h=!u&&r.coloring==="lines",c=!u&&r.coloring==="fill",w=h||c?M(o):null;t.selectAll("g.contourlevel").each(function(m){p.select(this).selectAll("path").call(y.lineGroupStyle,i.width,h?w(m.level):i.color,i.dash)});var g=r.labelfont;if(t.selectAll("g.contourlabels text").each(function(m){y.font(p.select(this),{weight:g.weight,style:g.style,variant:g.variant,textcase:g.textcase,lineposition:g.lineposition,shadow:g.shadow,family:g.family,size:g.size,color:g.color||(h?w(m.level):i.color)})}),u)t.selectAll("g.contourfill path").style("fill",o.fillcolor);else if(c){var v;t.selectAll("g.contourfill path").style("fill",function(m){return v===void 0&&(v=m.level),w(m.level+.5*a)}),v===void 0&&(v=l),t.selectAll("g.contourbg path").style("fill",w(v-.5*a))}}),n(b)}},97680:function(S,x,e){"use strict";var p=e(27260),y=e(17428);S.exports=function(n,M,b,f,s){var t,o=b("contours.coloring"),r="";o==="fill"&&(t=b("contours.showlines")),t!==!1&&(o!=="lines"&&(r=b("line.color","#000")),b("line.width",.5),b("line.dash")),o!=="none"&&(n.showlegend!==!0&&(M.showlegend=!1),M._dfltShowLegend=!1,p(n,M,f,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),y(b,f,r,s)}},37960:function(S,x,e){"use strict";var p=e(83328),y=e(67104),n=e(49084),M=e(92880).extendFlat,b=y.contours;S.exports=M({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:y.fillcolor,autocontour:y.autocontour,ncontours:y.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:y.line.color,width:y.line.width,dash:y.line.dash,smoothing:y.line.smoothing,editType:"plot"},zorder:y.zorder,transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},30572:function(S,x,e){"use strict";var p=e(47128),y=e(3400),n=e(2872),M=e(26136),b=e(70448),f=e(11240),s=e(35744),t=e(3252),o=e(50948),r=e(54444);S.exports=function(i,a){var l=a._carpetTrace=o(i,a);if(l&&l.visible&&l.visible!=="legendonly"){if(!a.a||!a.b){var u=i.data[l.index],h=i.data[a.index];h.a||(h.a=u.a),h.b||(h.b=u.b),t(h,a,a._defaultColor,i._fullLayout)}var c=function(w,g){var v,m,T,_,A,d,C,k=g._carpetTrace,D=k.aaxis,O=k.baxis;D._minDtick=0,O._minDtick=0,y.isArray1D(g.z)&&n(g,D,O,"a","b",["z"]),v=g._a=g._a||g.a,_=g._b=g._b||g.b,v=v?D.makeCalcdata(g,"_a"):[],_=_?O.makeCalcdata(g,"_b"):[],m=g.a0||0,T=g.da||1,A=g.b0||0,d=g.db||1,C=g._z=M(g._z||g.z,g.transpose),g._emptypoints=f(C),b(C,g._emptypoints);var L=y.maxRowLength(C),R=g.xtype==="scaled"?"":v,z=s(g,R,m,T,L,D),q=g.ytype==="scaled"?"":_,N={a:z,b:s(g,q,A,d,C.length,O),z:C};return g.contours.type==="levels"&&g.contours.coloring!=="none"&&p(w,g,{vals:C,containerStr:"",cLetter:"z"}),[N]}(i,a);return r(a,a._z),c}}},3252:function(S,x,e){"use strict";var p=e(3400),y=e(51264),n=e(37960),M=e(95536),b=e(84952),f=e(97680);S.exports=function(s,t,o,r){function i(a,l){return p.coerce(s,t,n,a,l)}if(i("carpet"),s.a&&s.b){if(!y(s,t,i,r,"a","b"))return void(t.visible=!1);i("text"),i("contours.type")==="constraint"?M(s,t,i,r,o,{hasHover:!1}):(b(s,t,i,function(a){return p.coerce2(s,t,n,a)}),f(s,t,i,r,{hasHover:!1}))}else t._defaultColor=o,t._length=null;i("zorder")}},40448:function(S,x,e){"use strict";S.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(S,x,e){"use strict";var p=e(33428),y=e(87072),n=e(53416),M=e(43616),b=e(3400),f=e(72424),s=e(88748),t=e(23676),o=e(93252),r=e(82172),i=e(61512),a=e(56008),l=e(50948),u=e(77712);function h(g,v,m){var T=g.getPointAtLength(v),_=g.getPointAtLength(m),A=_.x-T.x,d=_.y-T.y,C=Math.sqrt(A*A+d*d);return[A/C,d/C]}function c(g){var v=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/v,g[1]/v]}function w(g,v){var m=Math.abs(g[0]*v[0]+g[1]*v[1]);return Math.sqrt(1-m*m)/m}S.exports=function(g,v,m,T){var _=v.xaxis,A=v.yaxis;b.makeTraceGroups(T,m,"contour").each(function(d){var C=p.select(this),k=d[0],D=k.trace,O=D._carpetTrace=l(g,D),L=g.calcdata[O.index][0];if(O.visible&&O.visible!=="legendonly"){var R=k.a,z=k.b,q=D.contours,N=i(q,v,k),V=q.type==="constraint",Z=q._operation,j=V?Z==="="?"lines":"fill":q.coloring,H=[[R[0],z[z.length-1]],[R[R.length-1],z[z.length-1]],[R[R.length-1],z[0]],[R[0],z[0]]];f(N);var Y=1e-8*(R[R.length-1]-R[0]),ie=1e-8*(z[z.length-1]-z[0]);s(N,Y,ie);var re,ne,ee,Q,X=N;q.type==="constraint"&&(X=r(N,Z)),function(de,be){var _e,ve,me,ye,Se,Ie,xe,ue,ae;for(_e=0;_e<de.length;_e++){for(Se=(ye=de[_e]).pedgepaths=[],Ie=ye.ppaths=[],ve=0;ve<ye.edgepaths.length;ve++){for(ae=ye.edgepaths[ve],xe=[],me=0;me<ae.length;me++)xe[me]=be(ae[me]);Se.push(xe)}for(ve=0;ve<ye.paths.length;ve++){for(ae=ye.paths[ve],ue=[],me=0;me<ae.length;me++)ue[me]=be(ae[me]);Ie.push(ue)}}}(N,le);var se=[];for(Q=L.clipsegments.length-1;Q>=0;Q--)re=L.clipsegments[Q],ne=y([],re.x,_.c2p),ee=y([],re.y,A.c2p),ne.reverse(),ee.reverse(),se.push(n(ne,ee,re.bicubic));var ce="M"+se.join("L")+"Z";(function(de,be,_e,ve,me,ye){var Se,Ie,xe,ue,ae=b.ensureSingle(de,"g","contourbg").selectAll("path").data(ye!=="fill"||me?[]:[0]);ae.enter().append("path"),ae.exit().remove();var pe=[];for(ue=0;ue<be.length;ue++)Se=be[ue],Ie=y([],Se.x,_e.c2p),xe=y([],Se.y,ve.c2p),pe.push(n(Ie,xe,Se.bicubic));ae.attr("d","M"+pe.join("L")+"Z").style("stroke","none")})(C,L.clipsegments,_,A,V,j),function(de,be,_e,ve,me,ye,Se,Ie,xe,ue,ae){var pe=ue==="fill";pe&&a(me,de.contours);var De=b.ensureSingle(be,"g","contourfill").selectAll("path").data(pe?me:[]);De.enter().append("path"),De.exit().remove(),De.each(function(Te){var Ae=(Te.prefixBoundary?ae:"")+function(Ce,Re,Ne,ge,Me,Ee,Fe,Le){var Ue,Ge,Ke,at,st,vt,xt,gt="",nt=Re.edgepaths.map(function(it,Be){return Be}),et=!0,At=1e-4*Math.abs(Ne[0][0]-Ne[2][0]),Pt=1e-4*Math.abs(Ne[0][1]-Ne[2][1]);function Rt(it){return Math.abs(it[1]-Ne[0][1])<Pt}function Et(it){return Math.abs(it[1]-Ne[2][1])<Pt}function Ye(it){return Math.abs(it[0]-Ne[0][0])<At}function Xe(it){return Math.abs(it[0]-Ne[2][0])<At}function Ve(it,Be){var je,ot,$e,dt,mt="";for(Rt(it)&&!Xe(it)||Et(it)&&!Ye(it)?(dt=Me.aaxis,$e=u(Me,Ee,[it[0],Be[0]],.5*(it[1]+Be[1]))):(dt=Me.baxis,$e=u(Me,Ee,.5*(it[0]+Be[0]),[it[1],Be[1]])),je=1;je<$e.length;je++)for(mt+=dt.smoothing?"C":"L",ot=0;ot<$e[je].length;ot++){var yt=$e[je][ot];mt+=[Fe.c2p(yt[0]),Le.c2p(yt[1])]+" "}return mt}for(Ue=0,Ge=null;nt.length;){var Ze=Re.edgepaths[Ue][0];for(Ge&&(gt+=Ve(Ge,Ze)),xt=M.smoothopen(Re.edgepaths[Ue].map(ge),Re.smoothing),gt+=et?xt:xt.replace(/^M/,"L"),nt.splice(nt.indexOf(Ue),1),Ge=Re.edgepaths[Ue][Re.edgepaths[Ue].length-1],st=-1,at=0;at<4;at++){if(!Ge){b.log("Missing end?",Ue,Re);break}for(Rt(Ge)&&!Xe(Ge)?Ke=Ne[1]:Ye(Ge)?Ke=Ne[0]:Et(Ge)?Ke=Ne[3]:Xe(Ge)&&(Ke=Ne[2]),vt=0;vt<Re.edgepaths.length;vt++){var lt=Re.edgepaths[vt][0];Math.abs(Ge[0]-Ke[0])<At?Math.abs(Ge[0]-lt[0])<At&&(lt[1]-Ge[1])*(Ke[1]-lt[1])>=0&&(Ke=lt,st=vt):Math.abs(Ge[1]-Ke[1])<Pt?Math.abs(Ge[1]-lt[1])<Pt&&(lt[0]-Ge[0])*(Ke[0]-lt[0])>=0&&(Ke=lt,st=vt):b.log("endpt to newendpt is not vert. or horz.",Ge,Ke,lt)}if(st>=0)break;gt+=Ve(Ge,Ke),Ge=Ke}if(st===Re.edgepaths.length){b.log("unclosed perimeter path");break}Ue=st,(et=nt.indexOf(Ue)===-1)&&(Ue=nt[0],gt+=Ve(Ge,Ke)+"Z",Ge=null)}for(Ue=0;Ue<Re.paths.length;Ue++)gt+=M.smoothclosed(Re.paths[Ue].map(ge),Re.smoothing);return gt}(0,Te,ye,Se,Ie,xe,_e,ve);Ae?p.select(this).attr("d",Ae).style("stroke","none"):p.select(this).remove()})}(D,C,_,A,X,H,le,O,L,j,ce),function(de,be,_e,ve,me,ye,Se){var Ie=_e._context.staticPlot,xe=b.ensureSingle(de,"g","contourlines"),ue=me.showlines!==!1,ae=me.showlabels,pe=ue&&ae,De=t.createLines(xe,ue||ae,be,Ie),Te=t.createLineClip(xe,pe,_e,ve.trace.uid),Ae=de.selectAll("g.contourlabels").data(ae?[0]:[]);if(Ae.exit().remove(),Ae.enter().append("g").classed("contourlabels",!0),ae){var Ce=ye.xaxis,Re=ye.yaxis,Ne=Ce._length,ge=Re._length,Me=[[[0,0],[Ne,0],[Ne,ge],[0,ge]]],Ee=[];b.clearLocationCache();var Fe=t.labelFormatter(_e,ve),Le=M.tester.append("text").attr("data-notex",1).call(M.font,me.labelfont),Ue={left:0,right:Ne,center:Ne/2,top:0,bottom:ge,middle:ge/2},Ge=Math.sqrt(Ne*Ne+ge*ge),Ke=o.LABELDISTANCE*Ge/Math.max(1,be.length/o.LABELINCREASE);De.each(function(at){var st=t.calcTextOpts(at.level,Fe,Le,_e);p.select(this).selectAll("path").each(function(vt){var xt=this,gt=b.getVisibleSegment(xt,Ue,st.height/2);if(gt&&(function(Pt,Rt,Et,Ye,Xe,Ve){for(var Ze,lt=0;lt<Et.pedgepaths.length;lt++)Rt===Et.pedgepaths[lt]&&(Ze=Et.edgepaths[lt]);if(Ze){var it=Xe.a[0],Be=Xe.a[Xe.a.length-1],je=Xe.b[0],ot=Xe.b[Xe.b.length-1],$e=h(Pt,0,1),dt=h(Pt,Ye.total,Ye.total-1),mt=ht(Ze[0],$e),yt=Ye.total-ht(Ze[Ze.length-1],dt);Ye.min<mt&&(Ye.min=mt),Ye.max>yt&&(Ye.max=yt),Ye.len=Ye.max-Ye.min}function ht(kt,bt){var St,Lt=0,Ot=.1;return(Math.abs(kt[0]-it)<Ot||Math.abs(kt[0]-Be)<Ot)&&(St=c(Xe.dxydb_rough(kt[0],kt[1],Ot)),Lt=Math.max(Lt,Ve*w(bt,St)/2)),(Math.abs(kt[1]-je)<Ot||Math.abs(kt[1]-ot)<Ot)&&(St=c(Xe.dxyda_rough(kt[0],kt[1],Ot)),Lt=Math.max(Lt,Ve*w(bt,St)/2)),Lt}}(xt,vt,at,gt,Se,st.height),!(gt.len<(st.width+st.height)*o.LABELMIN)))for(var nt=Math.min(Math.ceil(gt.len/Ke),o.LABELMAX),et=0;et<nt;et++){var At=t.findBestTextLocation(xt,gt,st,Ee,Ue);if(!At)break;t.addLabelData(At,st,Ee,Me)}})}),Le.remove(),t.drawLabels(Ae,Ee,_e,Te,pe?Me:null)}ae&&!ue&&De.remove()}(C,N,g,k,q,v,O),M.setClipUrl(C,O._clipPathId,g)}function le(de){var be=O.ab2xy(de[0],de[1],!0);return[_.c2p(be[0]),A.c2p(be[1])]}})}},33928:function(S,x,e){"use strict";var p=e(49084),y=e(21776).Ks,n=e(45464),M=e(31512),b=e(92880).extendFlat;S.exports=b({lon:M.lon,lat:M.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,hoverinfo:b({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:y(),showlegend:b({},n.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(S,x,e){"use strict";var p=e(38248),y=e(3400).isArrayOrTypedArray,n=e(39032).BADNUM,M=e(47128),b=e(3400)._;S.exports=function(f,s){for(var t=s._length,o=new Array(t),r=s.z,i=y(r)&&r.length,a=0;a<t;a++){var l=o[a]={},u=s.lon[a],h=s.lat[a];if(l.lonlat=p(u)&&p(h)?[+u,+h]:[n,n],i){var c=r[a];l.z=p(c)?c:n}}return M(f,s,{vals:i?r:[0,1],containerStr:"",cLetter:"z"}),t&&(o[0].t={labels:{lat:b(f,"lat:")+" ",lon:b(f,"lon:")+" "}}),o}},4629:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(76308),M=e(8932),b=e(39032).BADNUM,f=e(44808).makeBlank;S.exports=function(s){var t=s[0].trace,o=t.visible===!0&&t._length!==0,r=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:f()};if(!o)return r;var i,a=[],l=t.z,u=t.radius,h=y.isArrayOrTypedArray(l)&&l.length,c=y.isArrayOrTypedArray(u);for(i=0;i<s.length;i++){var w=s[i],g=w.lonlat;if(g[0]!==b){var v={};if(h){var m=w.z;v.z=m!==b?m:0}c&&(v.r=p(u[i])&&u[i]>0?+u[i]:0),a.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:v})}}var T=M.extractOpts(t),_=T.reversescale?M.flipScale(T.colorscale):T.colorscale,A=_[0][1],d=["interpolate",["linear"],["heatmap-density"],0,n.opacity(A)<1?A:n.addOpacity(A,0)];for(i=1;i<_.length;i++)d.push(_[i][0],_[i][1]);var C=["interpolate",["linear"],["get","z"],T.min,0,T.max,1];return y.extendFlat(r.heatmap.paint,{"heatmap-weight":h?C:1/(T.max-T.min),"heatmap-color":d,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),r.geojson={type:"FeatureCollection",features:a},r.heatmap.layout.visibility="visible",r}},97664:function(S,x,e){"use strict";var p=e(3400),y=e(27260),n=e(33928);S.exports=function(M,b,f,s){function t(a,l){return p.coerce(M,b,n,a,l)}var o=t("lon")||[],r=t("lat")||[],i=Math.min(o.length,r.length);i?(b._length=i,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),y(M,b,s,t,{prefix:"",cLetter:"z"})):b.visible=!1}},96176:function(S){"use strict";S.exports=function(x,e){return x.lon=e.lon,x.lat=e.lat,x.z=e.z,x}},25336:function(S,x,e){"use strict";var p=e(54460),y=e(63312).hoverPoints,n=e(63312).getExtraText;S.exports=function(M,b,f){var s=y(M,b,f);if(s){var t=s[0],o=t.cd,r=o[0].trace,i=o[t.index];if(delete t.color,"z"in i){var a=t.subplot.mockAxis;t.z=i.z,t.zLabel=p.tickText(a,a.c2l(i.z),"hover").text}return t.extraText=n(r,i,o[0].t.labels),[t]}}},15088:function(S,x,e){"use strict";S.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(p,y){for(var n=y.getMapLayers(),M=0;M<n.length;M++){var b=n[M],f=b.id;if(b.type==="symbol"&&typeof f=="string"&&f.indexOf("plotly-")===-1)return f}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(S,x,e){"use strict";var p=e(4629),y=e(47552).traceLayerPrefix;function n(b,f){this.type="densitymapbox",this.subplot=b,this.uid=f,this.sourceId="source-"+f,this.layerList=[["heatmap",y+f+"-heatmap"]],this.below=null}var M=n.prototype;M.update=function(b){var f=this.subplot,s=this.layerList,t=p(b),o=f.belowLookup["trace-"+this.uid];f.map.getSource(this.sourceId).setData(t.geojson),o!==this.below&&(this._removeLayers(),this._addLayers(t,o),this.below=o);for(var r=0;r<s.length;r++){var i=s[r],a=i[0],l=i[1],u=t[a];f.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&f.setOptions(l,"setPaintProperty",u.paint)}},M._addLayers=function(b,f){for(var s=this.subplot,t=this.layerList,o=this.sourceId,r=0;r<t.length;r++){var i=t[r],a=i[0],l=b[a];s.addLayer({type:a,id:i[1],source:o,layout:l.layout,paint:l.paint},f)}},M._removeLayers=function(){for(var b=this.subplot.map,f=this.layerList,s=f.length-1;s>=0;s--)b.removeLayer(f[s][1])},M.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},S.exports=function(b,f){var s=f[0].trace,t=new n(b,s.uid),o=t.sourceId,r=p(f),i=t.below=b.belowLookup["trace-"+s.uid];return b.map.addSource(o,{type:"geojson",data:r.geojson}),t._addLayers(r,i),t}},74248:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){for(var M=0;M<y.length;M++)y[M].i=M;p.mergeArray(n.text,y,"tx"),p.mergeArray(n.hovertext,y,"htx");var b=n.marker;if(b){p.mergeArray(b.opacity,y,"mo"),p.mergeArray(b.color,y,"mc");var f=b.line;f&&(p.mergeArray(f.color,y,"mlc"),p.mergeArrayCastPositive(f.width,y,"mlw"))}}},20088:function(S,x,e){"use strict";var p,y=e(20832),n=e(52904).line,M=e(45464),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,t=e(74732),o=e(92880).extendFlat,r=e(76308);S.exports={x:y.x,x0:y.x0,dx:y.dx,y:y.y,y0:y.y0,dy:y.dy,xperiod:y.xperiod,yperiod:y.yperiod,xperiod0:y.xperiod0,yperiod0:y.yperiod0,xperiodalignment:y.xperiodalignment,yperiodalignment:y.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:y.hovertext,hovertemplate:f({},{keys:t.eventDataKeys}),hoverinfo:o({},M.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:y.text,textposition:y.textposition,insidetextanchor:o({},y.insidetextanchor,{dflt:"middle"}),textangle:o({},y.textangle,{dflt:0}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:y.outsidetextfont,constraintext:y.constraintext,cliponaxis:y.cliponaxis,orientation:o({},y.orientation,{}),offset:o({},y.offset,{arrayOk:!1}),width:o({},y.width,{arrayOk:!1}),marker:(p=o({},y.marker),delete p.pattern,delete p.cornerradius,p),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:o({},n.color,{dflt:r.defaultLine}),width:o({},n.width,{dflt:0,editType:"plot"}),dash:n.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:y.offsetgroup,alignmentgroup:y.alignmentgroup,zorder:y.zorder}},23096:function(S,x,e){"use strict";var p=e(54460),y=e(1220),n=e(74248),M=e(4500),b=e(39032).BADNUM;function f(s){return s===b?0:s}S.exports=function(s,t){var o,r,i,a,l,u,h,c,w=p.getFromId(s,t.xaxis||"x"),g=p.getFromId(s,t.yaxis||"y");t.orientation==="h"?(o=w.makeCalcdata(t,"x"),i=g.makeCalcdata(t,"y"),a=y(t,g,"y",i),l=!!t.yperiodalignment,u="y"):(o=g.makeCalcdata(t,"y"),i=w.makeCalcdata(t,"x"),a=y(t,w,"x",i),l=!!t.xperiodalignment,u="x"),r=a.vals;var v,m=Math.min(r.length,o.length),T=new Array(m);for(t._base=[],h=0;h<m;h++){o[h]<0&&(o[h]=b);var _=!1;o[h]!==b&&h+1<m&&o[h+1]!==b&&(_=!0),c=T[h]={p:r[h],s:o[h],cNext:_},t._base[h]=-.5*c.s,l&&(T[h].orig_p=i[h],T[h][u+"End"]=a.ends[h],T[h][u+"Start"]=a.starts[h]),t.ids&&(c.id=String(t.ids[h])),h===0&&(T[0].vTotal=0),T[0].vTotal+=f(c.s),c.begR=f(c.s)/f(T[0].s)}for(h=0;h<m;h++)(c=T[h]).s!==b&&(c.sumR=c.s/T[0].vTotal,c.difR=v!==void 0?c.s/v:1,v=c.s);return n(T,t),M(T,t),T}},74732:function(S){"use strict";S.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(S,x,e){"use strict";var p=e(96376).setGroupPositions;S.exports=function(y,n){var M,b,f=y._fullLayout,s=y._fullData,t=y.calcdata,o=n.xaxis,r=n.yaxis,i=[],a=[],l=[];for(b=0;b<s.length;b++){var u=s[b],h=u.orientation==="h";u.visible===!0&&u.xaxis===o._id&&u.yaxis===r._id&&u.type==="funnel"&&(M=t[b],h?l.push(M):a.push(M),i.push(M))}var c={mode:f.funnelmode,norm:f.funnelnorm,gap:f.funnelgap,groupgap:f.funnelgroupgap};for(p(y,o,r,a,c),p(y,r,o,l,c),b=0;b<i.length;b++){M=i[b];for(var w=0;w<M.length;w++)w+1<M.length&&(M[w].nextP0=M[w+1].p0,M[w].nextS0=M[w+1].s0,M[w].nextP1=M[w+1].p1,M[w].nextS1=M[w+1].s1)}}},45432:function(S,x,e){"use strict";var p=e(3400),y=e(20011),n=e(31508).handleText,M=e(43980),b=e(31147),f=e(20088),s=e(76308);S.exports={supplyDefaults:function(t,o,r,i){function a(c,w){return p.coerce(t,o,f,c,w)}if(M(t,o,i,a)){b(t,o,i,a),a("xhoverformat"),a("yhoverformat"),a("orientation",o.y&&!o.x?"v":"h"),a("offset"),a("width");var l=a("text");a("hovertext"),a("hovertemplate");var u=a("textposition");n(t,o,i,a,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o.textposition==="none"||o.texttemplate||a("textinfo",p.isArrayOrTypedArray(l)?"text+value":"value");var h=a("marker.color",r);a("marker.line.color",s.defaultLine),a("marker.line.width"),a("connector.visible")&&(a("connector.fillcolor",function(c){var w=p.isArrayOrTypedArray(c)?"#000":c;return s.addOpacity(w,.5*s.opacity(w))}(h)),a("connector.line.width")&&(a("connector.line.color"),a("connector.line.dash"))),a("zorder")}else o.visible=!1},crossTraceDefaults:function(t,o){var r,i;function a(u){return p.coerce(i._input,i,f,u)}if(o.funnelmode==="group")for(var l=0;l<t.length;l++)r=(i=t[l])._input,y(r,i,o,a)}}},34580:function(S){"use strict";S.exports=function(x,e){return x.x="xVal"in e?e.xVal:e.x,x.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(x.percentInitial=e.percentInitial),"percentPrevious"in e&&(x.percentPrevious=e.percentPrevious),"percentTotal"in e&&(x.percentTotal=e.percentTotal),e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),x}},31488:function(S,x,e){"use strict";var p=e(76308).opacity,y=e(63400).hoverOnBars,n=e(3400).formatPercent;S.exports=function(M,b,f,s,t){var o=y(M,b,f,s,t);if(o){var r=o.cd,i=r[0].trace,a=i.orientation==="h",l=r[o.index];o[(a?"x":"y")+"LabelVal"]=l.s,o.percentInitial=l.begR,o.percentInitialLabel=n(l.begR,1),o.percentPrevious=l.difR,o.percentPreviousLabel=n(l.difR,1),o.percentTotal=l.sumR,o.percentTotalLabel=n(l.sumR,1);var u=l.hi||i.hoverinfo,h=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",w=u.split("+"),g=function(v){return c||w.indexOf(v)!==-1};g("percent initial")&&h.push(o.percentInitialLabel+" of initial"),g("percent previous")&&h.push(o.percentPreviousLabel+" of previous"),g("percent total")&&h.push(o.percentTotalLabel+" of total")}return o.extraText=h.join("<br>"),o.color=function(v,m){var T=v.marker,_=m.mc||T.color,A=m.mlc||T.line.color,d=m.mlw||T.line.width;return p(_)?_:p(A)&&d?A:void 0}(i,l),[o]}}},94704:function(S,x,e){"use strict";S.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(S){"use strict";S.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(S,x,e){"use strict";var p=e(3400),y=e(7076);S.exports=function(n,M,b){var f=!1;function s(r,i){return p.coerce(n,M,y,r,i)}for(var t=0;t<b.length;t++){var o=b[t];if(o.visible&&o.type==="funnel"){f=!0;break}}f&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},42200:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(39032).BADNUM,b=e(98184),f=e(82744).clearMinTextSize;function s(t,o,r,i){var a=[],l=[],u=i?o:r,h=i?r:o;return a[0]=u.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),a[1]=u.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),a[2]=u.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),a[3]=u.c2p(t.nextS1,!0),l[3]=h.c2p(t.nextP1,!0),i?[a,l]:[l,a]}S.exports=function(t,o,r,i){var a=t._fullLayout;f("funnel",a),function(l,u,h,c){var w=u.xaxis,g=u.yaxis;y.makeTraceGroups(c,h,"trace bars").each(function(v){var m=p.select(this),T=v[0].trace,_=y.ensureSingle(m,"g","regions");if(T.connector&&T.connector.visible){var A=T.orientation==="h",d=_.selectAll("g.region").data(y.identity);d.enter().append("g").classed("region",!0),d.exit().remove();var C=d.size();d.each(function(k,D){if(D===C-1||k.cNext){var O=s(k,w,g,A),L=O[0],R=O[1],z="";L[0]!==M&&R[0]!==M&&L[1]!==M&&R[1]!==M&&L[2]!==M&&R[2]!==M&&L[3]!==M&&R[3]!==M&&(z+=A?"M"+L[0]+","+R[1]+"L"+L[2]+","+R[2]+"H"+L[3]+"L"+L[1]+","+R[1]+"Z":"M"+L[1]+","+R[1]+"L"+L[2]+","+R[3]+"V"+R[2]+"L"+L[1]+","+R[0]+"Z"),z===""&&(z="M0,0Z"),y.ensureSingle(p.select(this),"path").attr("d",z).call(n.setClipUrl,u.layerClipId,l)}})}else _.remove()})}(t,o,r,i),function(l,u,h,c){var w=u.xaxis,g=u.yaxis;y.makeTraceGroups(c,h,"trace bars").each(function(v){var m=p.select(this),T=v[0].trace,_=y.ensureSingle(m,"g","lines");if(T.connector&&T.connector.visible&&T.connector.line.width){var A=T.orientation==="h",d=_.selectAll("g.line").data(y.identity);d.enter().append("g").classed("line",!0),d.exit().remove();var C=d.size();d.each(function(k,D){if(D===C-1||k.cNext){var O=s(k,w,g,A),L=O[0],R=O[1],z="";L[3]!==void 0&&R[3]!==void 0&&(A?(z+="M"+L[0]+","+R[1]+"L"+L[2]+","+R[2],z+="M"+L[1]+","+R[1]+"L"+L[3]+","+R[2]):(z+="M"+L[1]+","+R[1]+"L"+L[2]+","+R[3],z+="M"+L[1]+","+R[0]+"L"+L[2]+","+R[2])),z===""&&(z="M0,0Z"),y.ensureSingle(p.select(this),"path").attr("d",z).call(n.setClipUrl,u.layerClipId,l)}})}else _.remove()})}(t,o,r,i),b.plot(t,o,r,i,{mode:a.funnelmode,norm:a.funnelmode,gap:a.funnelgap,groupgap:a.funnelgroupgap})}},44544:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(76308),M=e(13448).DESELECTDIM,b=e(60100),f=e(82744).resizeText,s=b.styleTextPoints;S.exports={style:function(t,o,r){var i=r||p.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");f(t,i,"funnel"),i.style("opacity",function(a){return a[0].trace.opacity}),i.each(function(a){var l=p.select(this),u=a[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u.marker;p.select(this).call(n.fill,h.mc||c.color).call(n.stroke,h.mlc||c.line.color).call(y.dashLine,c.line.dash,h.mlw||c.line.width).style("opacity",u.selectedpoints&&!h.selected?M:1)}}),s(l,u,t),l.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(n.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=u.connector.line;y.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},22332:function(S,x,e){"use strict";var p=e(74996),y=e(45464),n=e(86968).u,M=e(21776).Ks,b=e(21776).Gw,f=e(92880).extendFlat;S.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:f({},p.marker.line.color,{dflt:null}),width:f({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:p.marker.pattern,editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:f({},p.scalegroup,{}),textinfo:f({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:f({},y.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","text","percent"]}),textposition:f({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:f({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(S,x,e){"use strict";var p=e(7316);x.name="funnelarea",x.plot=function(y,n,M,b){p.plotBasePlot(x.name,y,n,M,b)},x.clean=function(y,n,M,b){p.cleanBasePlot(x.name,y,n,M,b)}},54e3:function(S,x,e){"use strict";var p=e(45768);S.exports={calc:function(y,n){return p.calc(y,n)},crossTraceCalc:function(y){p.crossTraceCalc(y,{type:"funnelarea"})}}},92688:function(S,x,e){"use strict";var p=e(3400),y=e(22332),n=e(86968).Q,M=e(31508).handleText,b=e(74174).handleLabelsAndValues,f=e(74174).handleMarkerDefaults;S.exports=function(s,t,o,r){function i(m,T){return p.coerce(s,t,y,m,T)}var a=i("labels"),l=i("values"),u=b(a,l),h=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(i("label0"),i("dlabel")),h){t._length=h,f(s,t,r,i),i("scalegroup");var c,w=i("text"),g=i("texttemplate");if(g||(c=i("textinfo",Array.isArray(w)?"text+percent":"percent")),i("hovertext"),i("hovertemplate"),g||c&&c!=="none"){var v=i("textposition");M(s,t,r,i,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else c==="none"&&i("textposition","none");n(t,r,i),i("title.text")&&(i("title.position"),p.coerceFont(i,"title.font",r.font)),i("aspectratio"),i("baseratio")}else t.visible=!1}},62396:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(S,x,e){"use strict";var p=e(85204).hiddenlabels;S.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(S,x,e){"use strict";var p=e(3400),y=e(61280);S.exports=function(n,M){function b(f,s){return p.coerce(n,M,y,f,s)}b("hiddenlabels"),b("funnelareacolorway",M.colorway),b("extendfunnelareacolors")}},39472:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(3400),M=n.strScale,b=n.strTranslate,f=e(72736),s=e(98184).toMoveInsideBar,t=e(82744),o=t.recordMinTextSize,r=t.clearMinTextSize,i=e(69656),a=e(37820),l=a.attachFxHandlers,u=a.determineInsideTextFont,h=a.layoutAreas,c=a.prerenderTitles,w=a.positionTitleOutside,g=a.formatSliceLabel;function v(m,T){return"l"+(T[0]-m[0])+","+(T[1]-m[1])}S.exports=function(m,T){var _=m._context.staticPlot,A=m._fullLayout;r("funnelarea",A),c(T,m),h(T,A._size),n.makeTraceGroups(A._funnelarealayer,T,"trace").each(function(d){var C=p.select(this),k=d[0],D=k.trace;(function(O){if(O.length){var L=O[0],R=L.trace,z=R.aspectratio,q=R.baseratio;q>.999&&(q=.999);var N,V,Z,j=Math.pow(q,2),H=L.vTotal,Y=H,ie=H*j/(1-j)/H,re=[];for(re.push(xe()),V=O.length-1;V>-1;V--)if(!(Z=O[V]).hidden){var ne=Z.v/Y;ie+=ne,re.push(xe())}var ee=1/0,Q=-1/0;for(V=0;V<re.length;V++)N=re[V],ee=Math.min(ee,N[1]),Q=Math.max(Q,N[1]);for(V=0;V<re.length;V++)re[V][1]-=(Q+ee)/2;var X=re[re.length-1][0],se=L.r,ce=(Q-ee)/2,le=se/X,de=se/ce*z;for(L.r=de*ce,V=0;V<re.length;V++)re[V][0]*=le,re[V][1]*=de;var be,_e,ve=[-(N=re[0])[0],N[1]],me=[N[0],N[1]],ye=0;for(V=O.length-1;V>-1;V--)if(!(Z=O[V]).hidden){var Se=re[ye+=1][0],Ie=re[ye][1];Z.TL=[-Se,Ie],Z.TR=[Se,Ie],Z.BL=ve,Z.BR=me,Z.pxmid=(be=Z.TR,_e=Z.BR,[.5*(be[0]+_e[0]),.5*(be[1]+_e[1])]),ve=Z.TL,me=Z.TR}}function xe(){var ue,ae={x:ue=Math.sqrt(ie),y:-ue};return[ae.x,ae.y]}})(d),C.each(function(){var O=p.select(this).selectAll("g.slice").data(d);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(R,z){if(R.hidden)p.select(this).selectAll("path,g").remove();else{R.pointNumber=R.i,R.curveNumber=D.index;var q=k.cx,N=k.cy,V=p.select(this),Z=V.selectAll("path.surface").data([R]);Z.enter().append("path").classed("surface",!0).style({"pointer-events":_?"none":"all"}),V.call(l,m,d);var j="M"+(q+R.TR[0])+","+(N+R.TR[1])+v(R.TR,R.BR)+v(R.BR,R.BL)+v(R.BL,R.TL)+"Z";Z.attr("d",j),g(m,R,k);var H=i.castOption(D.textposition,R.pts),Y=V.selectAll("g.slicetext").data(R.text&&H!=="none"?[0]:[]);Y.enter().append("g").classed("slicetext",!0),Y.exit().remove(),Y.each(function(){var ie=n.ensureSingle(p.select(this),"text","",function(le){le.attr("data-notex",1)}),re=n.ensureUniformFontSize(m,u(D,R,A.font));ie.text(R.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(y.font,re).call(f.convertToTspans,m);var ne,ee,Q,X=y.bBox(ie.node()),se=Math.min(R.BL[1],R.BR[1])+N,ce=Math.max(R.TL[1],R.TR[1])+N;ee=Math.max(R.TL[0],R.BL[0])+q,Q=Math.min(R.TR[0],R.BR[0])+q,(ne=s(ee,Q,se,ce,X,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=re.size,o(D.type,ne,A),d[z].transform=ne,n.setTransormAndDisplay(ie,ne)})}});var L=p.select(this).selectAll("g.titletext").data(D.title.text?[0]:[]);L.enter().append("g").classed("titletext",!0),L.exit().remove(),L.each(function(){var R=n.ensureSingle(p.select(this),"text","",function(N){N.attr("data-notex",1)}),z=D.title.text;D._meta&&(z=n.templateString(z,D._meta)),R.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(y.font,D.title.font).call(f.convertToTspans,m);var q=w(k,A._size);R.attr("transform",b(q.x,q.y)+M(Math.min(1,q.scale))+b(q.tx,q.ty))})})})}},62096:function(S,x,e){"use strict";var p=e(33428),y=e(10528),n=e(82744).resizeText;S.exports=function(M){var b=M._fullLayout._funnelarealayer.selectAll(".trace");n(M,b,"funnelarea"),b.each(function(f){var s=f[0].trace,t=p.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(o){p.select(this).call(y,o,s,M)})})}},83328:function(S,x,e){"use strict";var p=e(52904),y=e(45464),n=e(25376),M=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(49084),t=e(92880).extendFlat;S.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},p.x,{impliedEdits:{xtype:"array"}}),x0:t({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},p.y,{impliedEdits:{ytype:"array"}}),y0:t({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:b(),texttemplate:f({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},y.showlegend,{dflt:!1}),zorder:p.zorder},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},19512:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(54460),M=e(1220),b=e(55480),f=e(47128),s=e(2872),t=e(26136),o=e(70448),r=e(11240),i=e(35744),a=e(39032).BADNUM;function l(u){for(var h=[],c=u.length,w=0;w<c;w++){var g=u[w];g!==a&&h.push(g)}return h}S.exports=function(u,h){var c,w,g,v,m,T,_,A,d,C,k,D=n.getFromId(u,h.xaxis||"x"),O=n.getFromId(u,h.yaxis||"y"),L=p.traceIs(h,"contour"),R=p.traceIs(h,"histogram"),z=p.traceIs(h,"gl2d"),q=L?"best":h.zsmooth;if(D._minDtick=0,O._minDtick=0,R)v=(k=b(u,h)).orig_x,c=k.x,w=k.x0,g=k.dx,A=k.orig_y,m=k.y,T=k.y0,_=k.dy,d=k.z;else{var N=h.z;y.isArray1D(N)?(s(h,D,O,"x","y",["z"]),c=h._x,m=h._y,N=h._z):(v=h.x?D.makeCalcdata(h,"x"):[],A=h.y?O.makeCalcdata(h,"y"):[],c=M(h,D,"x",v).vals,m=M(h,O,"y",A).vals,h._x=c,h._y=m),w=h.x0,g=h.dx,T=h.y0,_=h.dy,d=t(N,h,D,O)}function V(Q){q=h._input.zsmooth=h.zsmooth=!1,y.warn('cannot use zsmooth: "fast": '+Q)}function Z(Q){if(Q.length>1){var X=(Q[Q.length-1]-Q[0])/(Q.length-1),se=Math.abs(X/100);for(C=0;C<Q.length-1;C++)if(Math.abs(Q[C+1]-Q[C]-X)>se)return!1}return!0}(D.rangebreaks||O.rangebreaks)&&(d=function(Q,X,se){for(var ce=[],le=-1,de=0;de<se.length;de++)if(X[de]!==a){ce[++le]=[];for(var be=0;be<se[de].length;be++)Q[be]!==a&&ce[le].push(se[de][be])}return ce}(c,m,d),R||(c=l(c),m=l(m),h._x=c,h._y=m)),R||!L&&!h.connectgaps||(h._emptypoints=r(d),o(d,h._emptypoints)),h._islinear=!1,D.type==="log"||O.type==="log"?q==="fast"&&V("log axis found"):Z(c)?Z(m)?h._islinear=!0:q==="fast"&&V("y scale is not linear"):q==="fast"&&V("x scale is not linear");var j=y.maxRowLength(d),H=h.xtype==="scaled"?"":c,Y=i(h,H,w,g,j,D),ie=h.ytype==="scaled"?"":m,re=i(h,ie,T,_,d.length,O);z||(h._extremes[D._id]=n.findExtremes(D,Y),h._extremes[O._id]=n.findExtremes(O,re));var ne={x:Y,y:re,z:d,text:h._text||h.text,hovertext:h._hovertext||h.hovertext};if(h.xperiodalignment&&v&&(ne.orig_x=v),h.yperiodalignment&&A&&(ne.orig_y=A),H&&H.length===Y.length-1&&(ne.xCenter=H),ie&&ie.length===re.length-1&&(ne.yCenter=ie),R&&(ne.xRanges=k.xRanges,ne.yRanges=k.yRanges,ne.pts=k.pts),L||f(u,h,{vals:d,cLetter:"z"}),L&&h.contours&&h.contours.coloring==="heatmap"){var ee={type:h.type==="contour"?"heatmap":"histogram2d",xcalendar:h.xcalendar,ycalendar:h.ycalendar};ne.xfill=i(ee,H,w,g,j,D),ne.yfill=i(ee,ie,T,_,d.length,O)}return[ne]}},26136:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(39032).BADNUM;S.exports=function(M,b,f,s){var t,o,r,i,a,l;function u(m){if(p(m))return+m}if(b&&b.transpose){for(t=0,a=0;a<M.length;a++)t=Math.max(t,M[a].length);if(t===0)return!1;r=function(m){return m.length},i=function(m,T,_){return(m[_]||[])[T]}}else t=M.length,r=function(m,T){return m[T].length},i=function(m,T,_){return(m[T]||[])[_]};var h=function(m,T,_){return T===n||_===n?n:i(m,T,_)};function c(m){if(b&&b.type!=="carpet"&&b.type!=="contourcarpet"&&m&&m.type==="category"&&b["_"+m._id.charAt(0)].length){var T=m._id.charAt(0),_={},A=b["_"+T+"CategoryMap"]||b[T];for(a=0;a<A.length;a++)_[A[a]]=a;return function(d){var C=_[m._categories[d]];return C+1?C:n}}return y.identity}var w=c(f),g=c(s);s&&s.type==="category"&&(t=s._categories.length);var v=new Array(t);for(a=0;a<t;a++)for(o=f&&f.type==="category"?f._categories.length:r(M,a),v[a]=new Array(o),l=0;l<o;l++)v[a][l]=u(h(M,g(a),w(l)));return v}},96288:function(S){"use strict";S.exports={min:"zmin",max:"zmax"}},2872:function(S,x,e){"use strict";var p=e(3400),y=e(39032).BADNUM,n=e(1220);S.exports=function(M,b,f,s,t,o){var r=M._length,i=b.makeCalcdata(M,s),a=f.makeCalcdata(M,t);i=n(M,b,s,i).vals,a=n(M,f,t,a).vals;var l,u,h,c,w=M.text,g=w!==void 0&&p.isArray1D(w),v=M.hovertext,m=v!==void 0&&p.isArray1D(v),T=p.distinctVals(i),_=T.vals,A=p.distinctVals(a),d=A.vals,C=[],k=d.length,D=_.length;for(l=0;l<o.length;l++)C[l]=p.init2dArray(k,D);g&&(h=p.init2dArray(k,D)),m&&(c=p.init2dArray(k,D));var O=p.init2dArray(k,D);for(l=0;l<r;l++)if(i[l]!==y&&a[l]!==y){var L=p.findBin(i[l]+T.minDiff/2,_),R=p.findBin(a[l]+A.minDiff/2,d);for(u=0;u<o.length;u++){var z=M[o[u]];C[u][R][L]=z[l],O[R][L]=l}g&&(h[R][L]=w[l]),m&&(c[R][L]=v[l])}for(M["_"+s]=_,M["_"+t]=d,u=0;u<o.length;u++)M["_"+o[u]]=C[u];g&&(M._text=h),m&&(M._hovertext=c),b&&b.type==="category"&&(M["_"+s+"CategoryMap"]=_.map(function(q){return b._categories[q]})),f&&f.type==="category"&&(M["_"+t+"CategoryMap"]=d.map(function(q){return f._categories[q]})),M._after2before=O}},24480:function(S,x,e){"use strict";var p=e(3400),y=e(51264),n=e(39096),M=e(31147),b=e(82748),f=e(27260),s=e(83328);S.exports=function(t,o,r,i){function a(l,u){return p.coerce(t,o,s,l,u)}y(t,o,a,i)?(M(t,o,i,a),a("xhoverformat"),a("yhoverformat"),a("text"),a("hovertext"),a("hovertemplate"),n(a,i),b(t,o,a,i),a("hoverongaps"),a("connectgaps",p.isArray1D(o.z)&&o.zsmooth!==!1),f(t,o,i,a,{prefix:"",cLetter:"z"}),a("zorder")):o.visible=!1}},11240:function(S,x,e){"use strict";var p=e(3400).maxRowLength;S.exports=function(y){var n,M,b,f,s,t,o,r,i=[],a={},l=[],u=y[0],h=[],c=[0,0,0],w=p(y);for(M=0;M<y.length;M++)for(n=h,h=u,u=y[M+1]||[],b=0;b<w;b++)h[b]===void 0&&((t=(h[b-1]!==void 0?1:0)+(h[b+1]!==void 0?1:0)+(n[b]!==void 0?1:0)+(u[b]!==void 0?1:0))?(M===0&&t++,b===0&&t++,M===y.length-1&&t++,b===h.length-1&&t++,t<4&&(a[[M,b]]=[M,b,t]),i.push([M,b,t])):l.push([M,b]));for(;l.length;){for(o={},r=!1,s=l.length-1;s>=0;s--)(t=((a[[(M=(f=l[s])[0])-1,b=f[1]]]||c)[2]+(a[[M+1,b]]||c)[2]+(a[[M,b-1]]||c)[2]+(a[[M,b+1]]||c)[2])/20)&&(o[f]=[M,b,t],l.splice(s,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(f in o)a[f]=o[f],i.push(o[f])}return i.sort(function(g,v){return v[2]-g[2]})}},55512:function(S,x,e){"use strict";var p=e(93024),y=e(3400),n=y.isArrayOrTypedArray,M=e(54460),b=e(8932).extractOpts;S.exports=function(f,s,t,o,r){r||(r={});var i,a,l,u,h=r.isContour,c=f.cd[0],w=c.trace,g=f.xa,v=f.ya,m=c.x,T=c.y,_=c.z,A=c.xCenter,d=c.yCenter,C=c.zmask,k=w.zhoverformat,D=m,O=T;if(f.index!==!1){try{l=Math.round(f.index[1]),u=Math.round(f.index[0])}catch{return void y.error("Error hovering on heatmap, pointNumber must be [row,col], found:",f.index)}if(l<0||l>=_[0].length||u<0||u>_.length)return}else{if(p.inbox(s-m[0],s-m[m.length-1],0)>0||p.inbox(t-T[0],t-T[T.length-1],0)>0)return;if(h){var L;for(D=[2*m[0]-m[1]],L=1;L<m.length;L++)D.push((m[L]+m[L-1])/2);for(D.push([2*m[m.length-1]-m[m.length-2]]),O=[2*T[0]-T[1]],L=1;L<T.length;L++)O.push((T[L]+T[L-1])/2);O.push([2*T[T.length-1]-T[T.length-2]])}l=Math.max(0,Math.min(D.length-2,y.findBin(s,D))),u=Math.max(0,Math.min(O.length-2,y.findBin(t,O)))}var R,z,q=g.c2p(m[l]),N=g.c2p(m[l+1]),V=v.c2p(T[u]),Z=v.c2p(T[u+1]);h?(R=c.orig_x||m,z=c.orig_y||T,N=q,i=R[l],Z=V,a=z[u]):(R=c.orig_x||A||m,z=c.orig_y||d||T,i=A?R[l]:(R[l]+R[l+1])/2,a=d?z[u]:(z[u]+z[u+1])/2,g&&g.type==="category"&&(i=m[l]),v&&v.type==="category"&&(a=T[u]),w.zsmooth&&(q=N=g.c2p(i),V=Z=v.c2p(a)));var j=_[u][l];if(C&&!C[u][l]&&(j=void 0),j!==void 0||w.hoverongaps){var H;n(c.hovertext)&&n(c.hovertext[u])?H=c.hovertext[u][l]:n(c.text)&&n(c.text[u])&&(H=c.text[u][l]);var Y=b(w),ie={type:"linear",range:[Y.min,Y.max],hoverformat:k,_separators:g._separators,_numFormat:g._numFormat},re=M.tickText(ie,j,"hover").text;return[y.extendFlat(f,{index:w._after2before?w._after2before[u][l]:[u,l],distance:f.maxHoverDistance,spikeDistance:f.maxSpikeDistance,x0:q,x1:N,y0:V,y1:Z,xLabelVal:i,yLabelVal:a,zLabelVal:j,zLabel:re,text:H})]}}},81932:function(S,x,e){"use strict";S.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(S,x,e){"use strict";var p=e(3400),y=[[-1,0],[1,0],[0,-1],[0,1]];function n(b){return .5-.25*Math.min(1,.5*b)}function M(b,f,s){var t,o,r,i,a,l,u,h,c,w,g,v,m,T=0;for(i=0;i<f.length;i++){for(o=(t=f[i])[0],r=t[1],g=b[o][r],w=0,c=0,a=0;a<4;a++)(u=b[o+(l=y[a])[0]])&&(h=u[r+l[1]])!==void 0&&(w===0?v=m=h:(v=Math.min(v,h),m=Math.max(m,h)),c++,w+=h);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";b[o][r]=w/c,g===void 0?c<4&&(T=1):(b[o][r]=(1+s)*b[o][r]-s*g,m>v&&(T=Math.max(T,Math.abs(b[o][r]-g)/(m-v))))}return T}S.exports=function(b,f){var s,t=1;for(M(b,f),s=0;s<f.length&&!(f[s][2]<4);s++);for(f=f.slice(s),s=0;s<100&&t>.01;s++)t=M(b,f,n(t));return t>.01&&p.log("interp2d didn't converge quickly",t),b}},39096:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){y("texttemplate");var M=p.extendFlat({},n.font,{color:"auto",size:"auto"});p.coerceFont(y,"textfont",M)}},35744:function(S,x,e){"use strict";var p=e(24040),y=e(3400).isArrayOrTypedArray;S.exports=function(n,M,b,f,s,t){var o,r,i,a=[],l=p.traceIs(n,"contour"),u=p.traceIs(n,"histogram"),h=p.traceIs(n,"gl2d");if(y(M)&&M.length>1&&!u&&t.type!=="category"){var c=M.length;if(!(c<=s))return l?M.slice(0,s):M.slice(0,s+1);if(l||h)a=Array.from(M).slice(0,s);else if(s===1)a=t.type==="log"?[.5*M[0],2*M[0]]:[M[0]-.5,M[0]+.5];else if(t.type==="log"){for(a=[Math.pow(M[0],1.5)/Math.pow(M[1],.5)],i=1;i<c;i++)a.push(Math.sqrt(M[i-1]*M[i]));a.push(Math.pow(M[c-1],1.5)/Math.pow(M[c-2],.5))}else{for(a=[1.5*M[0]-.5*M[1]],i=1;i<c;i++)a.push(.5*(M[i-1]+M[i]));a.push(1.5*M[c-1]-.5*M[c-2])}if(c<s){var w,g=a[a.length-1];if(t.type==="log")for(w=g/a[a.length-2],i=c;i<s;i++)g*=w,a.push(g);else for(w=g-a[a.length-2],i=c;i<s;i++)g+=w,a.push(g)}}else{var v=n[t._id.charAt(0)+"calendar"];for(o=u?t.r2c(b,0,v):y(M)&&M.length===1?M[0]:b===void 0?0:(t.type==="log"?t.d2c:t.r2c)(b,0,v),r=f||1,i=l||h?0:-.5;i<s;i++)a.push(o+r*i)}return a}},41420:function(S,x,e){"use strict";var p=e(33428),y=e(49760),n=e(24040),M=e(43616),b=e(54460),f=e(3400),s=e(72736),t=e(76688),o=e(76308),r=e(8932).extractOpts,i=e(8932).makeColorScaleFuncFromTrace,a=e(9616),l=e(84284).LINE_SPACING,u=e(9188),h=e(2264).STYLE,c="heatmap-label";function w(_){return _.selectAll("g."+c)}function g(_){w(_).remove()}function v(_,A){var d=A.length-2,C=f.constrain(f.findBin(_,A),0,d),k=A[C],D=A[C+1],O=f.constrain(C+(_-k)/(D-k)-.5,0,d),L=Math.round(O),R=Math.abs(O-L);return O&&O!==d&&R?{bin0:L,frac:R,bin1:Math.round(L+R/(O-L))}:{bin0:L,bin1:L,frac:0}}function m(_,A){var d=A.length-1,C=f.constrain(f.findBin(_,A),0,d),k=A[C],D=(_-k)/(A[C+1]-k)||0;return D<=0?{bin0:C,bin1:C,frac:0}:D<.5?{bin0:C,bin1:C+1,frac:D}:{bin0:C+1,bin1:C,frac:1-D}}function T(_,A,d){_[A]=d[0],_[A+1]=d[1],_[A+2]=d[2],_[A+3]=Math.round(255*d[3])}S.exports=function(_,A,d,C){var k=A.xaxis,D=A.yaxis;f.makeTraceGroups(C,d,"hm").each(function(O){var L,R,z,q,N,V,Z,j,H=p.select(this),Y=O[0],ie=Y.trace,re=ie.xgap||0,ne=ie.ygap||0,ee=Y.z,Q=Y.x,X=Y.y,se=Y.xCenter,ce=Y.yCenter,le=n.traceIs(ie,"contour"),de=le?"best":ie.zsmooth,be=ee.length,_e=f.maxRowLength(ee),ve=!1,me=!1;for(V=0;L===void 0&&V<Q.length-1;)L=k.c2p(Q[V]),V++;for(V=Q.length-1;R===void 0&&V>0;)R=k.c2p(Q[V]),V--;for(R<L&&(z=R,R=L,L=z,ve=!0),V=0;q===void 0&&V<X.length-1;)q=D.c2p(X[V]),V++;for(V=X.length-1;N===void 0&&V>0;)N=D.c2p(X[V]),V--;N<q&&(z=q,q=N,N=z,me=!0),le&&(se=Q,ce=X,Q=Y.xfill,X=Y.yfill);var ye="default";if(de?ye=de==="best"?"smooth":"fast":ie._islinear&&re===0&&ne===0&&u()&&(ye="fast"),ye!=="fast"){var Se=de==="best"?0:.5;L=Math.max(-Se*k._length,L),R=Math.min((1+Se)*k._length,R),q=Math.max(-Se*D._length,q),N=Math.min((1+Se)*D._length,N)}var Ie,xe,ue=Math.round(R-L),ae=Math.round(N-q);if(L>=k._length||R<=0||q>=D._length||N<=0)return H.selectAll("image").data([]).exit().remove(),void g(H);ye==="fast"?(Ie=_e,xe=be):(Ie=ue,xe=ae);var pe=document.createElement("canvas");pe.width=Ie,pe.height=xe;var De,Te,Ae=pe.getContext("2d",{willReadFrequently:!0}),Ce=i(ie,{noNumericCheck:!0,returnArray:!0});ye==="fast"?(De=ve?function(fr){return _e-1-fr}:f.identity,Te=me?function(fr){return be-1-fr}:f.identity):(De=function(fr){return f.constrain(Math.round(k.c2p(Q[fr])-L),0,ue)},Te=function(fr){return f.constrain(Math.round(D.c2p(X[fr])-q),0,ae)});var Re,Ne,ge,Me,Ee=Te(0),Fe=[Ee,Ee],Le=ve?0:1,Ue=me?0:1,Ge=0,Ke=0,at=0,st=0;function vt(fr,en){if(fr!==void 0){var rn=Ce(fr);return rn[0]=Math.round(rn[0]),rn[1]=Math.round(rn[1]),rn[2]=Math.round(rn[2]),Ge+=en,Ke+=rn[0]*en,at+=rn[1]*en,st+=rn[2]*en,rn}return[0,0,0,0]}function xt(fr,en,rn,Cn){var mn=fr[rn.bin0];if(mn===void 0)return vt(void 0,1);var On,Hn=fr[rn.bin1],Un=en[rn.bin0],Zn=en[rn.bin1],pr=Hn-mn||0,Kt=Un-mn||0;return On=Hn===void 0?Zn===void 0?0:Un===void 0?2*(Zn-mn):2*(2*Zn-Un-mn)/3:Zn===void 0?Un===void 0?0:2*(2*mn-Hn-Un)/3:Un===void 0?2*(2*Zn-Hn-mn)/3:Zn+mn-Hn-Un,vt(mn+rn.frac*pr+Cn.frac*(Kt+rn.frac*On))}if(ye!=="default"){var gt,nt=0;try{gt=new Uint8Array(Ie*xe*4)}catch{gt=new Array(Ie*xe*4)}if(ye==="smooth"){var et,At,Pt,Rt=se||Q,Et=ce||X,Ye=new Array(Rt.length),Xe=new Array(Et.length),Ve=new Array(ue),Ze=se?m:v,lt=ce?m:v;for(V=0;V<Rt.length;V++)Ye[V]=Math.round(k.c2p(Rt[V])-L);for(V=0;V<Et.length;V++)Xe[V]=Math.round(D.c2p(Et[V])-q);for(V=0;V<ue;V++)Ve[V]=Ze(V,Ye);for(Z=0;Z<ae;Z++)for(At=ee[(et=lt(Z,Xe)).bin0],Pt=ee[et.bin1],V=0;V<ue;V++,nt+=4)T(gt,nt,Me=xt(At,Pt,Ve[V],et))}else for(Z=0;Z<be;Z++)for(ge=ee[Z],Fe=Te(Z),V=0;V<_e;V++)Me=vt(ge[V],1),T(gt,nt=4*(Fe*_e+De(V)),Me);var it=Ae.createImageData(Ie,xe);try{it.data.set(gt)}catch{var Be=it.data,je=Be.length;for(Z=0;Z<je;Z++)Be[Z]=gt[Z]}Ae.putImageData(it,0,0)}else{var ot=Math.floor(re/2),$e=Math.floor(ne/2);for(Z=0;Z<be;Z++)if(ge=ee[Z],Fe.reverse(),Fe[Ue]=Te(Z+1),Fe[0]!==Fe[1]&&Fe[0]!==void 0&&Fe[1]!==void 0)for(Re=[Ne=De(0),Ne],V=0;V<_e;V++)Re.reverse(),Re[Le]=De(V+1),Re[0]!==Re[1]&&Re[0]!==void 0&&Re[1]!==void 0&&(Me=vt(ge[V],(Re[1]-Re[0])*(Fe[1]-Fe[0])),Ae.fillStyle="rgba("+Me.join(",")+")",Ae.fillRect(Re[0]+ot,Fe[0]+$e,Re[1]-Re[0]-re,Fe[1]-Fe[0]-ne))}Ke=Math.round(Ke/Ge),at=Math.round(at/Ge),st=Math.round(st/Ge);var dt=y("rgb("+Ke+","+at+","+st+")");_._hmpixcount=(_._hmpixcount||0)+Ge,_._hmlumcount=(_._hmlumcount||0)+Ge*dt.getLuminance();var mt=H.selectAll("image").data(O);mt.enter().append("svg:image").attr({xmlns:a.svg,preserveAspectRatio:"none"}),mt.attr({height:ae,width:ue,x:L,y:q,"xlink:href":pe.toDataURL("image/png")}),ye!=="fast"||de||mt.attr("style",h),g(H);var yt=ie.texttemplate;if(yt){var ht=r(ie),kt={type:"linear",range:[ht.min,ht.max],_separators:k._separators,_numFormat:k._numFormat},bt=ie.type==="histogram2dcontour",St=ie.type==="contour",Lt=St?be-1:be,Ot=St?1:0,Ft=St?_e-1:_e,$t=[];for(V=St?1:0;V<Lt;V++){var on;if(St)on=Y.y[V];else if(bt){if(V===0||V===be-1)continue;on=Y.y[V]}else if(Y.yCenter)on=Y.yCenter[V];else{if(V+1===be&&Y.y[V+1]===void 0)continue;on=(Y.y[V]+Y.y[V+1])/2}var Ht=Math.round(D.c2p(on));if(!(0>Ht||Ht>D._length))for(Z=Ot;Z<Ft;Z++){var Zt;if(St)Zt=Y.x[Z];else if(bt){if(Z===0||Z===_e-1)continue;Zt=Y.x[Z]}else if(Y.xCenter)Zt=Y.xCenter[Z];else{if(Z+1===_e&&Y.x[Z+1]===void 0)continue;Zt=(Y.x[Z]+Y.x[Z+1])/2}var jt=Math.round(k.c2p(Zt));if(!(0>jt||jt>k._length)){var Ln=t({x:Zt,y:on},ie,_._fullLayout);Ln.x=Zt,Ln.y=on;var Tn=Y.z[V][Z];Tn===void 0?(Ln.z="",Ln.zLabel=""):(Ln.z=Tn,Ln.zLabel=b.tickText(kt,Tn,"hover").text);var gn=Y.text&&Y.text[V]&&Y.text[V][Z];gn!==void 0&&gn!==!1||(gn=""),Ln.text=gn;var Qt=f.texttemplateString(yt,Ln,_._fullLayout._d3locale,Ln,ie._meta||{});if(Qt){var cn=Qt.split("<br>"),nn=cn.length,hn=0;for(j=0;j<nn;j++)hn=Math.max(hn,cn[j].length);$t.push({l:nn,c:hn,t:Qt,x:jt,y:Ht,z:Tn})}}}}var bn=ie.textfont,wn=bn.size,En=_._fullLayout.font.size;if(!wn||wn==="auto"){var Dn=1/0,kn=1/0,Bn=0,Rn=0;for(j=0;j<$t.length;j++){var Kn=$t[j];if(Bn=Math.max(Bn,Kn.l),Rn=Math.max(Rn,Kn.c),j<$t.length-1){var Gn=$t[j+1],nr=Math.abs(Gn.x-Kn.x),$n=Math.abs(Gn.y-Kn.y);nr&&(Dn=Math.min(Dn,nr)),$n&&(kn=Math.min(kn,$n))}}isFinite(Dn)&&isFinite(kn)?(Dn-=re,kn-=ne,Dn/=Rn,kn/=Bn,Dn/=l/2,kn/=l,wn=Math.min(Math.floor(Dn),Math.floor(kn),En)):wn=En}if(wn<=0||!isFinite(wn))return;w(H).data($t).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(fr){var en=p.select(this),rn=bn.color;rn&&rn!=="auto"||(rn=o.contrast(fr.z===void 0?_._fullLayout.plot_bgcolor:"rgba("+Ce(fr.z).join()+")")),en.attr("data-notex",1).call(s.positionText,function(Cn){return Cn.x}(fr),function(Cn){return Cn.y-wn*(Cn.l*l/2-1)}(fr)).call(M.font,{family:bn.family,size:wn,color:rn,weight:bn.weight,style:bn.style,variant:bn.variant,textcase:bn.textcase,lineposition:bn.lineposition,shadow:bn.shadow}).text(fr.t).call(s.convertToTspans,_)})}})}},41648:function(S,x,e){"use strict";var p=e(33428);S.exports=function(y){p.select(y).selectAll(".hm image").style("opacity",function(n){return n.trace.opacity})}},82748:function(S){"use strict";S.exports=function(x,e,p){p("zsmooth")===!1&&(p("xgap"),p("ygap")),p("zhoverformat")}},51264:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(24040);function M(b,f){var s=f(b);return(s?f(b+"type","array"):"scaled")==="scaled"&&(f(b+"0"),f("d"+b)),s}S.exports=function(b,f,s,t,o,r){var i,a,l=s("z");if(o=o||"x",r=r||"y",l===void 0||!l.length)return 0;if(y.isArray1D(l)){i=s(o),a=s(r);var u=y.minRowLength(i),h=y.minRowLength(a);if(u===0||h===0)return 0;f._length=Math.min(u,h,l.length)}else{if(i=M(o,s),a=M(r,s),!function(c){for(var w,g=!0,v=!1,m=!1,T=0;T<c.length;T++){if(w=c[T],!y.isArrayOrTypedArray(w)){g=!1;break}w.length>0&&(v=!0);for(var _=0;_<w.length;_++)if(p(w[_])){m=!0;break}}return g&&v&&m}(l))return 0;s("transpose"),f._length=null}return b.type==="heatmapgl"||n.getComponentMethod("calendars","handleTraceDefaults")(b,f,[o,r],t),!0}},74512:function(S,x,e){"use strict";for(var p=e(83328),y=e(49084),n=e(92880).extendFlat,M=e(67824).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],f={},s=0;s<b.length;s++){var t=b[s];f[t]=p[t]}f.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(f,y("",{cLetter:"z",autoColorDflt:!1})),S.exports=M(f,"calc","nested")},84656:function(S,x,e){"use strict";var p=e(67792).gl_heatmap2d,y=e(54460),n=e(43080);function M(f,s){this.scene=f,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(f.glplot,this.options),this.heatmap._trace=this}var b=M.prototype;b.handlePick=function(f){var s=this.options,t=s.shape,o=f.pointId,r=o%t[0],i=Math.floor(o/t[0]),a=o;return{trace:this,dataCoord:f.dataCoord,traceCoord:[s.x[r],s.y[i],s.z[a]],textLabel:this.textLabels[o],name:this.name,pointIndex:[i,r],hoverinfo:this.hoverinfo}},b.update=function(f,s){var t=s[0];this.index=f.index,this.name=f.name,this.hoverinfo=f.hoverinfo;var o=t.z;this.options.z=[].concat.apply([],o);var r=o[0].length,i=o.length;this.options.shape=[r,i],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=f.zsmooth;var a=function(w){for(var g=w.colorscale,v=w.zmin,m=w.zmax,T=g.length,_=new Array(T),A=new Array(4*T),d=0;d<T;d++){var C=g[d],k=n(C[1]);_[d]=v+C[0]*(m-v);for(var D=0;D<4;D++)A[4*d+D]=k[D]}return{colorLevels:_,colorValues:A}}(f);this.options.colorLevels=a.colorLevels,this.options.colorValues=a.colorValues,this.textLabels=[].concat.apply([],f.text),this.heatmap.update(this.options);var l,u,h=this.scene.xaxis,c=this.scene.yaxis;f.zsmooth===!1&&(l={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),f._extremes[h._id]=y.findExtremes(h,t.x,l),f._extremes[c._id]=y.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},S.exports=function(f,s,t){var o=new M(f,s.uid);return o.update(s,t),o}},86464:function(S,x,e){"use strict";var p=e(3400),y=e(51264),n=e(27260),M=e(74512);S.exports=function(b,f,s,t){function o(r,i){return p.coerce(b,f,M,r,i)}y(b,f,o,t)?(o("text"),o("zsmooth"),n(b,f,t,o,{prefix:"",cLetter:"z"})):f.visible=!1}},45536:function(S,x,e){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),S.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(S,x,e){"use strict";var p=e(20832),y=e(29736).axisHoverFormat,n=e(21776).Ks,M=e(21776).Gw,b=e(25376),f=e(11120),s=e(73316),t=e(92880).extendFlat;S.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:y("x"),yhoverformat:y("y"),text:t({},p.text,{}),hovertext:t({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:f("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:f("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:s.eventDataKeys}),texttemplate:M({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},p.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir},zorder:p.zorder}},2e3:function(S){"use strict";S.exports=function(x,e){for(var p=x.length,y=0,n=0;n<p;n++)e[n]?(x[n]/=e[n],y+=x[n]):x[n]=null;return y}},11120:function(S){"use strict";S.exports=function(x,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(S,x,e){"use strict";var p=e(38248);S.exports={count:function(y,n,M){return M[y]++,1},sum:function(y,n,M,b){var f=b[n];return p(f)?(f=Number(f),M[y]+=f,f):0},avg:function(y,n,M,b,f){var s=b[n];return p(s)&&(s=Number(s),M[y]+=s,f[y]++),0},min:function(y,n,M,b){var f=b[n];if(p(f)){if(f=Number(f),!p(M[y]))return M[y]=f,f;if(M[y]>f){var s=f-M[y];return M[y]=f,s}}return 0},max:function(y,n,M,b){var f=b[n];if(p(f)){if(f=Number(f),!p(M[y]))return M[y]=f,f;if(M[y]<f){var s=f-M[y];return M[y]=f,s}}return 0}}},67712:function(S,x,e){"use strict";var p=e(39032),y=p.ONEAVGYEAR,n=p.ONEAVGMONTH,M=p.ONEDAY,b=p.ONEHOUR,f=p.ONEMIN,s=p.ONESEC,t=e(54460).tickIncrement;function o(l,u,h,c){if(l*u<=0)return 1/0;for(var w=Math.abs(u-l),g=h.type==="date",v=r(w,g),m=0;m<10;m++){var T=r(80*v,g);if(v===T||!i(T,l,u,g,h,c))break;v=T}return v}function r(l,u){return u&&l>s?l>M?l>1.1*y?y:l>1.1*n?n:M:l>b?b:l>f?f:s:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function i(l,u,h,c,w,g){if(c&&l>M){var v=a(u,w,g),m=a(h,w,g),T=l===y?0:1;return v[T]!==m[T]}return Math.floor(h/l)-Math.floor(u/l)>.1}function a(l,u,h){var c=u.c2d(l,y,h).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}S.exports=function(l,u,h,c,w){var g,v,m=-1.1*u,T=-.1*u,_=l-T,A=h[0],d=h[1],C=Math.min(o(A+T,A+_,c,w),o(d+T,d+_,c,w)),k=Math.min(o(A+m,A+T,c,w),o(d+m,d+T,c,w));if(C>k&&k<Math.abs(d-A)/4e3?(g=C,v=!1):(g=Math.min(C,k),v=!0),c.type==="date"&&g>M){var D=g===y?1:6,O=g===y?"M12":"M1";return function(L,R){var z=c.c2d(L,y,w),q=z.indexOf("-",D);q>0&&(z=z.substr(0,q));var N=c.d2c(z,0,w);if(N<L){var V=t(N,O,!1,w);(N+V)/2<L+l&&(N=V)}return R&&v?t(N,O,!0,w):N}}return function(L,R){var z=g*Math.round(L/g);return z+g/10<L&&z+.9*g<L+l&&(z+=g),R&&v&&(z-=g),z}}},35852:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(24040),M=e(54460),b=e(84664),f=e(16964),s=e(10648),t=e(2e3),o=e(67712);function r(i,a,l,u,h){var c,w,g,v,m,T,_,A=u+"bins",d=i._fullLayout,C=a["_"+u+"bingroup"],k=d._histogramBinOpts[C],D=d.barmode==="overlay",O=function(me){return l.r2c(me,0,v)},L=function(me){return l.c2r(me,0,v)},R=l.type==="date"?function(me){return me||me===0?y.cleanDate(me,null,v):null}:function(me){return p(me)?Number(me):null};function z(me,ye,Se){ye[me+"Found"]?(ye[me]=R(ye[me]),ye[me]===null&&(ye[me]=Se[me])):(T[me]=ye[me]=Se[me],y.nestedProperty(w[0],A+"."+me).set(Se[me]))}if(a["_"+u+"autoBinFinished"])delete a["_"+u+"autoBinFinished"];else{w=k.traces;var q=[],N=!0,V=!1,Z=!1;for(c=0;c<w.length;c++)if((g=w[c]).visible){var j=k.dirs[c];m=g["_"+j+"pos0"]=l.makeCalcdata(g,j),q=y.concat(q,m),delete g["_"+u+"autoBinFinished"],a.visible===!0&&(N?N=!1:(delete g._autoBin,g["_"+u+"autoBinFinished"]=1),n.traceIs(g,"2dMap")&&(V=!0),g.type==="histogram2dcontour"&&(Z=!0))}v=w[0][u+"calendar"];var H=M.autoBin(q,l,k.nbins,V,v,k.sizeFound&&k.size),Y=w[0]._autoBin={};if(T=Y[k.dirs[0]]={},Z&&(k.size||(H.start=L(M.tickIncrement(O(H.start),H.size,!0,v))),k.end===void 0&&(H.end=L(M.tickIncrement(O(H.end),H.size,!1,v)))),D&&!n.traceIs(a,"2dMap")&&H._dataSpan===0&&l.type!=="category"&&l.type!=="multicategory"&&a.bingroup===""&&a.xbins===void 0){if(h)return[H,m,!0];H=function(me,ye,Se,Ie,xe){var ue,ae,pe,De=me._fullLayout,Te=function(Ke,at){for(var st=at.xaxis,vt=at.yaxis,xt=at.orientation,gt=[],nt=Ke._fullData,et=0;et<nt.length;et++){var At=nt[et];At.type==="histogram"&&At.visible===!0&&At.orientation===xt&&At.xaxis===st&&At.yaxis===vt&&gt.push(At)}return gt}(me,ye),Ae=!1,Ce=1/0,Re=[ye];for(ue=0;ue<Te.length;ue++)if((ae=Te[ue])===ye)Ae=!0;else if(Ae){var Ne=r(me,ae,Se,Ie,!0),ge=Ne[0],Me=Ne[2];ae["_"+Ie+"autoBinFinished"]=1,ae["_"+Ie+"pos0"]=Ne[1],Me?Re.push(ae):Ce=Math.min(Ce,ge.size)}else pe=De._histogramBinOpts[ae["_"+Ie+"bingroup"]],Ce=Math.min(Ce,pe.size||ae[xe].size);var Ee=new Array(Re.length);for(ue=0;ue<Re.length;ue++)for(var Fe=Re[ue]["_"+Ie+"pos0"],Le=0;Le<Fe.length;Le++)if(Fe[Le]!==void 0){Ee[ue]=Fe[Le];break}for(isFinite(Ce)||(Ce=y.distinctVals(Ee).minDiff),ue=0;ue<Re.length;ue++){var Ue=(ae=Re[ue])[Ie+"calendar"],Ge={start:Se.c2r(Ee[ue]-Ce/2,0,Ue),end:Se.c2r(Ee[ue]+Ce/2,0,Ue),size:Ce};ae._input[xe]=ae[xe]=Ge,(pe=De._histogramBinOpts[ae["_"+Ie+"bingroup"]])&&y.extendFlat(pe,Ge)}return ye[xe]}(i,a,l,u,A)}(_=g.cumulative||{}).enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?H.start=L(M.tickIncrement(O(H.start),H.size,!0,v)):H.end=L(M.tickIncrement(O(H.end),H.size,!1,v))),k.size=H.size,k.sizeFound||(T.size=H.size,y.nestedProperty(w[0],A+".size").set(H.size)),z("start",k,H),z("end",k,H)}m=a["_"+u+"pos0"],delete a["_"+u+"pos0"];var ie=a._input[A]||{},re=y.extendFlat({},k),ne=k.start,ee=l.r2l(ie.start),Q=ee!==void 0;if((k.startFound||Q)&&ee!==l.r2l(ne)){var X=Q?ee:y.aggNums(Math.min,null,m),se={type:l.type==="category"||l.type==="multicategory"?"linear":l.type,r2l:l.r2l,dtick:k.size,tick0:ne,calendar:v,range:[X,M.tickIncrement(X,k.size,!1,v)].map(l.l2r)},ce=M.tickFirst(se);ce>l.r2l(X)&&(ce=M.tickIncrement(ce,k.size,!0,v)),re.start=l.l2r(ce),Q||y.nestedProperty(a,A+".start").set(re.start)}var le=k.end,de=l.r2l(ie.end),be=de!==void 0;if((k.endFound||be)&&de!==l.r2l(le)){var _e=be?de:y.aggNums(Math.max,null,m);re.end=l.l2r(_e),be||y.nestedProperty(a,A+".start").set(re.end)}var ve="autobin"+u;return a._input[ve]===!1&&(a._input[A]=y.extendFlat({},a[A]||{}),delete a._input[ve],delete a[ve]),[re,m]}S.exports={calc:function(i,a){var l,u,h,c,w=[],g=[],v=a.orientation==="h",m=M.getFromId(i,v?a.yaxis:a.xaxis),T=v?"y":"x",_={x:"y",y:"x"}[T],A=a[T+"calendar"],d=a.cumulative,C=r(i,a,m,T),k=C[0],D=C[1],O=typeof k.size=="string",L=[],R=O?L:k,z=[],q=[],N=[],V=0,Z=a.histnorm,j=a.histfunc,H=Z.indexOf("density")!==-1;d.enabled&&H&&(Z=Z.replace(/ ?density$/,""),H=!1);var Y,ie=j==="max"||j==="min"?null:0,re=f.count,ne=s[Z],ee=!1,Q=function(ae){return m.r2c(ae,0,A)};for(y.isArrayOrTypedArray(a[_])&&j!=="count"&&(Y=a[_],ee=j==="avg",re=f[j]),l=Q(k.start),h=Q(k.end)+(l-M.tickIncrement(l,k.size,!1,A))/1e6;l<h&&w.length<1e6&&(u=M.tickIncrement(l,k.size,!1,A),w.push((l+u)/2),g.push(ie),N.push([]),L.push(l),H&&z.push(1/(u-l)),ee&&q.push(0),!(u<=l));)l=u;L.push(l),O||m.type!=="date"||(R={start:Q(R.start),end:Q(R.end),size:R.size}),i._fullLayout._roundFnOpts||(i._fullLayout._roundFnOpts={});var X=a["_"+T+"bingroup"],se={leftGap:1/0,rightGap:1/0};X&&(i._fullLayout._roundFnOpts[X]||(i._fullLayout._roundFnOpts[X]=se),se=i._fullLayout._roundFnOpts[X]);var ce,le=g.length,de=!0,be=se.leftGap,_e=se.rightGap,ve={};for(l=0;l<D.length;l++){var me=D[l];(c=y.findBin(me,R))>=0&&c<le&&(V+=re(c,l,g,Y,q),de&&N[c].length&&me!==D[N[c][0]]&&(de=!1),N[c].push(l),ve[l]=c,be=Math.min(be,me-L[c]),_e=Math.min(_e,L[c+1]-me))}se.leftGap=be,se.rightGap=_e,de||(ce=function(ae,pe){return function(){var De=i._fullLayout._roundFnOpts[X];return o(De.leftGap,De.rightGap,L,m,A)(ae,pe)}}),ee&&(V=t(g,q)),ne&&ne(g,V,z),d.enabled&&function(ae,pe,De){var Te,Ae,Ce;function Re(ge){Ce=ae[ge],ae[ge]/=2}function Ne(ge){Ae=ae[ge],ae[ge]=Ce+Ae/2,Ce+=Ae}if(De==="half")if(pe==="increasing")for(Re(0),Te=1;Te<ae.length;Te++)Ne(Te);else for(Re(ae.length-1),Te=ae.length-2;Te>=0;Te--)Ne(Te);else if(pe==="increasing"){for(Te=1;Te<ae.length;Te++)ae[Te]+=ae[Te-1];De==="exclude"&&(ae.unshift(0),ae.pop())}else{for(Te=ae.length-2;Te>=0;Te--)ae[Te]+=ae[Te+1];De==="exclude"&&(ae.push(0),ae.shift())}}(g,d.direction,d.currentbin);var ye=Math.min(w.length,g.length),Se=[],Ie=0,xe=ye-1;for(l=0;l<ye;l++)if(g[l]){Ie=l;break}for(l=ye-1;l>=Ie;l--)if(g[l]){xe=l;break}for(l=Ie;l<=xe;l++)if(p(w[l])&&p(g[l])){var ue={p:w[l],s:g[l],b:0};d.enabled||(ue.pts=N[l],de?ue.ph0=ue.ph1=N[l].length?D[N[l][0]]:w[l]:(a._computePh=!0,ue.ph0=ce(L[l]),ue.ph1=ce(L[l+1],!0))),Se.push(ue)}return Se.length===1&&(Se[0].width1=M.tickIncrement(Se[0].p,k.size,!1,A)-Se[0].p),b(Se,a),y.isArrayOrTypedArray(a.selectedpoints)&&y.tagSelected(Se,a,ve),Se},calcAllAutoBins:r}},73316:function(S){"use strict";S.exports={eventDataKeys:["binNumber"]}},80536:function(S,x,e){"use strict";var p=e(3400),y=e(79811),n=e(24040).traceIs,M=e(20011),b=e(31508).validateCornerradius,f=p.nestedProperty,s=e(71888).getAxisGroup,t=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],o=["x","y"];S.exports=function(r,i){var a,l,u,h,c,w,g,v=i._histogramBinOpts={},m=[],T={},_=[];function A(ie,re){return p.coerce(a._input,a,a._module.attributes,ie,re)}function d(ie){return ie.orientation==="v"?"x":"y"}function C(ie,re,ne){var ee=ie.uid+"__"+ne;re||(re=ee);var Q=function(le,de){return y.getFromTrace({_fullLayout:i},le,de).type}(ie,ne),X=ie[ne+"calendar"]||"",se=v[re],ce=!0;se&&(Q===se.axType&&X===se.calendar?(ce=!1,se.traces.push(ie),se.dirs.push(ne)):(re=ee,Q!==se.axType&&p.warn(["Attempted to group the bins of trace",ie.index,"set on a","type:"+Q,"axis","with bins on","type:"+se.axType,"axis."].join(" ")),X!==se.calendar&&p.warn(["Attempted to group the bins of trace",ie.index,"set with a",X,"calendar","with bins",se.calendar?"on a "+se.calendar+" calendar":"w/o a set calendar"].join(" ")))),ce&&(v[re]={traces:[ie],dirs:[ne],axType:Q,calendar:ie[ne+"calendar"]||""}),ie["_"+ne+"bingroup"]=re}for(c=0;c<r.length;c++)if(a=r[c],n(a,"histogram")){if(m.push(a),delete a._xautoBinFinished,delete a._yautoBinFinished,a.type==="histogram"){var k=A("marker.cornerradius",i.barcornerradius);a.marker&&(a.marker.cornerradius=b(k))}n(a,"2dMap")||M(a._input,a,i,A)}var D=i._alignmentOpts||{};for(c=0;c<m.length;c++){if(a=m[c],u="",!n(a,"2dMap")){if(h=d(a),i.barmode==="group"&&a.alignmentgroup){var O=a[h+"axis"],L=s(i,O)+a.orientation;(D[L]||{})[a.alignmentgroup]&&(u=L)}u||i.barmode==="overlay"||(u=s(i,a.xaxis)+s(i,a.yaxis)+d(a))}u?(T[u]||(T[u]=[]),T[u].push(a)):_.push(a)}for(u in T)if((l=T[u]).length!==1){var R=!1;for(l.length&&(a=l[0],R=A("bingroup")),u=R||u,c=0;c<l.length;c++){var z=(a=l[c])._input.bingroup;z&&z!==u&&p.warn(["Trace",a.index,"must match","within bingroup",u+".","Ignoring its bingroup:",z,"setting."].join(" ")),a.bingroup=u,C(a,u,d(a))}}else _.push(l[0]);for(c=0;c<_.length;c++){a=_[c];var q=A("bingroup");if(n(a,"2dMap"))for(g=0;g<2;g++){var N=A((h=o[g])+"bingroup",q?q+"__"+h:null);C(a,N,h)}else C(a,q,d(a))}for(u in v){var V=v[u];for(l=V.traces,w=0;w<t.length;w++){var Z,j,H=t[w],Y=H.name;if(Y!=="nbins"||!V.sizeFound){for(c=0;c<l.length;c++){if(a=l[c],h=V.dirs[c],Z=H.aStr[h],f(a._input,Z).get()!==void 0){V[Y]=A(Z),V[Y+"Found"]=!0;break}(j=(a._autoBin||{})[h]||{})[Y]&&f(a,Z).set(j[Y])}if(Y==="start"||Y==="end")for(;c<l.length;c++)(a=l[c])["_"+h+"bingroup"]&&A(Z,(j=(a._autoBin||{})[h]||{})[Y]);Y!=="nbins"||V.sizeFound||V.nbinsFound||(a=l[0],V[Y]=A(Z))}}}}},6616:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(76308),M=e(31508).handleText,b=e(55592),f=e(40196);S.exports=function(s,t,o,r){function i(T,_){return y.coerce(s,t,f,T,_)}var a=i("x"),l=i("y");i("cumulative.enabled")&&(i("cumulative.direction"),i("cumulative.currentbin")),i("text");var u=i("textposition");M(s,t,r,i,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat");var h=i("orientation",l&&!a?"h":"v"),c=h==="v"?"x":"y",w=h==="v"?"y":"x",g=a&&l?Math.min(y.minRowLength(a)&&y.minRowLength(l)):y.minRowLength(t[c]||[]);if(g){t._length=g,p.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],r),t[w]&&i("histfunc"),i("histnorm"),i("autobin"+c),b(s,t,i,o,r),y.coerceSelectionMarkerOpacity(t,i);var v=(t.marker.line||{}).color,m=p.getComponentMethod("errorbars","supplyDefaults");m(s,t,v||n.defaultLine,{axis:"y"}),m(s,t,v||n.defaultLine,{axis:"x",inherit:"y"}),i("zorder")}else t.visible=!1}},84980:function(S){"use strict";S.exports=function(x,e,p,y,n){if(x.x="xVal"in e?e.xVal:e.x,x.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(x.z=e.zLabelVal),e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),!(p.cumulative||{}).enabled){var M,b=Array.isArray(n)?y[0].pts[n[0]][n[1]]:y[n].pts;if(x.pointNumbers=b,x.binNumber=x.pointNumber,delete x.pointNumber,delete x.pointIndex,p._indexToPoints){M=[];for(var f=0;f<b.length;f++)M=M.concat(p._indexToPoints[b[f]])}else M=b;x.pointIndices=M}return x}},43339:function(S,x,e){"use strict";var p=e(63400).hoverPoints,y=e(54460).hoverLabelText;S.exports=function(n,M,b,f,s){var t=p(n,M,b,f,s);if(t){var o=(n=t[0]).cd[n.index],r=n.cd[0].trace;if(!r.cumulative.enabled){var i=r.orientation==="h"?"y":"x";n[i+"Label"]=y(n[i+"a"],[o.ph0,o.ph1],r[i+"hoverformat"])}return t}}},42600:function(S,x,e){"use strict";S.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(S){"use strict";S.exports={percent:function(x,e){for(var p=x.length,y=100/e,n=0;n<p;n++)x[n]*=y},probability:function(x,e){for(var p=x.length,y=0;y<p;y++)x[y]/=e},density:function(x,e,p,y){var n=x.length;y=y||1;for(var M=0;M<n;M++)x[M]*=p[M]*y},"probability density":function(x,e,p,y){var n=x.length;y&&(e/=y);for(var M=0;M<n;M++)x[M]*=p[M]/e}}},37008:function(S,x,e){"use strict";var p=e(40196),y=e(11120),n=e(83328),M=e(45464),b=e(29736).axisHoverFormat,f=e(21776).Ks,s=e(21776).Gw,t=e(49084),o=e(92880).extendFlat;S.exports=o({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:y("x"),nbinsy:p.nbinsy,ybins:y("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:o({},p.bingroup,{}),xbingroup:o({},p.bingroup,{}),ybingroup:o({},p.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:f({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:o({},M.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},55480:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(16964),M=e(10648),b=e(2e3),f=e(67712),s=e(35852).calcAllAutoBins;function t(i,a,l,u){var h,c=new Array(i);if(u)for(h=0;h<i;h++)c[h]=1/(a[h+1]-a[h]);else{var w=1/l;for(h=0;h<i;h++)c[h]=w}return c}function o(i,a){return{start:i(a.start),end:i(a.end),size:a.size}}function r(i,a,l,u,h,c){var w,g=i.length-1,v=new Array(g),m=f(l,u,i,h,c);for(w=0;w<g;w++){var T=(a||[])[w];v[w]=T===void 0?[m(i[w]),m(i[w+1],!0)]:[T,T]}return v}S.exports=function(i,a){var l,u,h,c,w=y.getFromId(i,a.xaxis),g=y.getFromId(i,a.yaxis),v=a.xcalendar,m=a.ycalendar,T=function(vt){return w.r2c(vt,0,v)},_=function(vt){return g.r2c(vt,0,m)},A=s(i,a,w,"x"),d=A[0],C=A[1],k=s(i,a,g,"y"),D=k[0],O=k[1],L=a._length;C.length>L&&C.splice(L,C.length-L),O.length>L&&O.splice(L,O.length-L);var R=[],z=[],q=[],N=typeof d.size=="string",V=typeof D.size=="string",Z=[],j=[],H=N?Z:d,Y=V?j:D,ie=0,re=[],ne=[],ee=a.histnorm,Q=a.histfunc,X=ee.indexOf("density")!==-1,se=Q==="max"||Q==="min"?null:0,ce=n.count,le=M[ee],de=!1,be=[],_e=[],ve="z"in a?a.z:"marker"in a&&Array.isArray(a.marker.color)?a.marker.color:"";ve&&Q!=="count"&&(de=Q==="avg",ce=n[Q]);var me=d.size,ye=T(d.start),Se=T(d.end)+(ye-y.tickIncrement(ye,me,!1,v))/1e6;for(l=ye;l<Se;l=y.tickIncrement(l,me,!1,v))z.push(se),Z.push(l),de&&q.push(0);Z.push(l);var Ie,xe=z.length,ue=(l-ye)/xe,ae=(Ie=ye+ue/2,w.c2r(Ie,0,v)),pe=D.size,De=_(D.start),Te=_(D.end)+(De-y.tickIncrement(De,pe,!1,m))/1e6;for(l=De;l<Te;l=y.tickIncrement(l,pe,!1,m)){R.push(z.slice()),j.push(l);var Ae=new Array(xe);for(u=0;u<xe;u++)Ae[u]=[];ne.push(Ae),de&&re.push(q.slice())}j.push(l);var Ce=R.length,Re=(l-De)/Ce,Ne=function(vt){return g.c2r(vt,0,m)}(De+Re/2);X&&(be=t(z.length,H,ue,N),_e=t(R.length,Y,Re,V)),N||w.type!=="date"||(H=o(T,H)),V||g.type!=="date"||(Y=o(_,Y));var ge=!0,Me=!0,Ee=new Array(xe),Fe=new Array(Ce),Le=1/0,Ue=1/0,Ge=1/0,Ke=1/0;for(l=0;l<L;l++){var at=C[l],st=O[l];h=p.findBin(at,H),c=p.findBin(st,Y),h>=0&&h<xe&&c>=0&&c<Ce&&(ie+=ce(h,l,R[c],ve,re[c]),ne[c][h].push(l),ge&&(Ee[h]===void 0?Ee[h]=at:Ee[h]!==at&&(ge=!1)),Me&&(Fe[c]===void 0?Fe[c]=st:Fe[c]!==st&&(Me=!1)),Le=Math.min(Le,at-Z[h]),Ue=Math.min(Ue,Z[h+1]-at),Ge=Math.min(Ge,st-j[c]),Ke=Math.min(Ke,j[c+1]-st))}if(de)for(c=0;c<Ce;c++)ie+=b(R[c],re[c]);if(le)for(c=0;c<Ce;c++)le(R[c],ie,be,_e[c]);return{x:C,xRanges:r(Z,ge&&Ee,Le,Ue,w,v),x0:ae,dx:ue,y:O,yRanges:r(j,Me&&Fe,Ge,Ke,g,m),y0:Ne,dy:Re,z:R,pts:ne}}},99784:function(S,x,e){"use strict";var p=e(3400),y=e(56408),n=e(82748),M=e(27260),b=e(39096),f=e(37008);S.exports=function(s,t,o,r){function i(a,l){return p.coerce(s,t,f,a,l)}y(s,t,i,r),t.visible!==!1&&(n(s,t,i,r),M(s,t,r,i,{prefix:"",cLetter:"z"}),i("hovertemplate"),b(i,r),i("xhoverformat"),i("yhoverformat"))}},59576:function(S,x,e){"use strict";var p=e(55512),y=e(54460).hoverLabelText;S.exports=function(n,M,b,f,s){var t=p(n,M,b,f,s);if(t){var o=(n=t[0]).index,r=o[0],i=o[1],a=n.cd[0],l=a.trace,u=a.xRanges[i],h=a.yRanges[r];return n.xLabel=y(n.xa,[u[0],u[1]],l.xhoverformat),n.yLabel=y(n.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(S,x,e){"use strict";S.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(S,x,e){"use strict";var p=e(24040),y=e(3400);S.exports=function(n,M,b,f){var s=b("x"),t=b("y"),o=y.minRowLength(s),r=y.minRowLength(t);o&&r?(M._length=Math.min(o,r),p.getComponentMethod("calendars","handleTraceDefaults")(n,M,["x","y"],f),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):M.visible=!1}},81220:function(S,x,e){"use strict";var p=e(37008),y=e(67104),n=e(49084),M=e(29736).axisHoverFormat,b=e(92880).extendFlat;S.exports=b({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:y.autocontour,ncontours:y.ncontours,contours:y.contours,line:{color:y.line.color,width:b({},y.line.width,{dflt:.5}),dash:y.line.dash,smoothing:y.line.smoothing,editType:"plot"},xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:p.hovertemplate,texttemplate:y.texttemplate,textfont:y.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(S,x,e){"use strict";var p=e(3400),y=e(56408),n=e(84952),M=e(97680),b=e(39096),f=e(81220);S.exports=function(s,t,o,r){function i(a,l){return p.coerce(s,t,f,a,l)}y(s,t,i,r),t.visible!==!1&&(n(s,t,i,function(a){return p.coerce2(s,t,f,a)}),M(s,t,i,r),i("xhoverformat"),i("yhoverformat"),i("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&b(i,r))}},65664:function(S,x,e){"use strict";S.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(49084),M=e(86968).u,b=e(74996),f=e(424),s=e(40516),t=e(32984),o=e(92880).extendFlat,r=e(98192).c;S.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:o({colors:f.marker.colors,line:f.marker.line,pattern:r,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:f.leaf,pathbar:s.pathbar,text:b.text,textinfo:f.textinfo,texttemplate:y({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:f.hoverinfo,hovertemplate:p({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:b.sort,root:f.root,domain:M({name:"icicle",trace:!0,editType:"calc"})}},59564:function(S,x,e){"use strict";var p=e(7316);x.name="icicle",x.plot=function(y,n,M,b){p.plotBasePlot(x.name,y,n,M,b)},x.clean=function(y,n,M,b){p.cleanBasePlot(x.name,y,n,M,b)}},73876:function(S,x,e){"use strict";var p=e(3776);x.r=function(y,n){return p.calc(y,n)},x.q=function(y){return p._runCrossTraceCalc("icicle",y)}},7045:function(S,x,e){"use strict";var p=e(3400),y=e(97376),n=e(76308),M=e(86968).Q,b=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),o=t.hasColorscale,r=t.handleDefaults;S.exports=function(i,a,l,u){function h(_,A){return p.coerce(i,a,y,_,A)}var c=h("labels"),w=h("parents");if(c&&c.length&&w&&w.length){var g=h("values");g&&g.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),a.texttemplate||h("textinfo",p.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var m=h("pathbar.visible");b(i,a,u,h,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),s(i,a,u,h);var T=a._hasColorscale=o(i,"marker","colors")||(i.marker||{}).coloraxis;T&&r(i,a,u,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",T?1:.7),a._hovered={marker:{line:{width:2,color:n.contrast(u.paper_bgcolor)}}},m&&(h("pathbar.thickness",a.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),M(a,u,h),a._length=null}else a.visible=!1}},67880:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(72736),b=e(25132),f=e(47192).styleOne,s=e(32984),t=e(78176),o=e(45716),r=e(96488).formatSliceLabel,i=!1;S.exports=function(a,l,u,h,c){var w=c.width,g=c.height,v=c.viewX,m=c.viewY,T=c.pathSlice,_=c.toMoveInsideSlice,A=c.strTransform,d=c.hasTransition,C=c.handleSlicesExit,k=c.makeUpdateSliceInterpolator,D=c.makeUpdateTextInterpolator,O=c.prevEntry,L=a._context.staticPlot,R=a._fullLayout,z=l[0].trace,q=z.textposition.indexOf("left")!==-1,N=z.textposition.indexOf("right")!==-1,V=z.textposition.indexOf("bottom")!==-1,Z=b(u,[w,g],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),j=1/0,H=-1/0;Z.forEach(function(ee){var Q=ee.depth;Q>=z._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(j=Math.min(j,Q),H=Math.max(H,Q))}),h=h.data(Z,t.getPtId),z._maxVisibleLayers=isFinite(H)?H-j+1:0,h.enter().append("g").classed("slice",!0),C(h,i,{},[w,g],T),h.order();var Y=null;if(d&&O){var ie=t.getPtId(O);h.each(function(ee){Y===null&&t.getPtId(ee)===ie&&(Y={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var re=function(){return Y||{x0:0,x1:w,y0:0,y1:g}},ne=h;return d&&(ne=ne.transition().each("end",function(){var ee=p.select(this);t.setSliceCursor(ee,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ne.each(function(ee){ee._x0=v(ee.x0),ee._x1=v(ee.x1),ee._y0=m(ee.y0),ee._y1=m(ee.y1),ee._hoverX=v(ee.x1-z.tiling.pad),ee._hoverY=m(V?ee.y1-z.tiling.pad/2:ee.y0+z.tiling.pad/2);var Q=p.select(this),X=y.ensureSingle(Q,"path","surface",function(de){de.style("pointer-events",L?"none":"all")});d?X.transition().attrTween("d",function(de){var be=k(de,i,re(),[w,g],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(_e){return T(be(_e))}}):X.attr("d",T),Q.call(o,u,a,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,a,{isTransitioning:a._transitioning}),X.call(f,ee,z,a,{hovered:!1}),ee.x0===ee.x1||ee.y0===ee.y1?ee._text="":ee._text=r(ee,u,z,l,R)||"";var se=y.ensureSingle(Q,"g","slicetext"),ce=y.ensureSingle(se,"text","",function(de){de.attr("data-notex",1)}),le=y.ensureUniformFontSize(a,t.determineTextFont(z,ee,R.font));ce.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":q?"start":"middle").call(n.font,le).call(M.convertToTspans,a),ee.textBB=n.bBox(ce.node()),ee.transform=_(ee,{fontSize:le.size}),ee.transform.fontSize=le.size,d?ce.transition().attrTween("transform",function(de){var be=D(de,i,re(),[w,g]);return function(_e){return A(be(_e))}}):ce.attr("transform",A(ee))}),Y}},29044:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(S){"use strict";S.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(S,x,e){"use strict";var p=e(3400),y=e(90676);S.exports=function(n,M){function b(f,s){return p.coerce(n,M,y,f,s)}b("iciclecolorway",M.colorway),b("extendiciclecolors")}},25132:function(S,x,e){"use strict";var p=e(74148),y=e(83024);S.exports=function(n,M,b){var f=b.flipX,s=b.flipY,t=b.orientation==="h",o=b.maxDepth,r=M[0],i=M[1];o&&(r=(n.height+1)*M[0]/Math.min(n.height+1,o),i=(n.height+1)*M[1]/Math.min(n.height+1,o));var a=p.partition().padding(b.pad.inner).size(t?[M[1],r]:[M[0],i])(n);return(t||f||s)&&y(a,M,{swapXY:t,flipX:f,flipY:s}),a}},38364:function(S,x,e){"use strict";var p=e(95808),y=e(67880);S.exports=function(n,M,b,f){return p(n,M,b,f,{type:"icicle",drawDescendants:y})}},47192:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(3400),M=e(82744).resizeText,b=e(60404);function f(s,t,o,r){var i=t.data.data,a=!t.children,l=i.i,u=n.castOption(o,l,"marker.line.color")||y.defaultLine,h=n.castOption(o,l,"marker.line.width")||0;s.call(b,t,o,r).style("stroke-width",h).call(y.stroke,u).style("opacity",a?o.leaf.opacity:null)}S.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");M(s,t,"icicle"),t.each(function(o){var r=p.select(this),i=o[0].trace;r.style("opacity",i.opacity),r.selectAll("path.surface").each(function(a){p.select(this).call(f,a,i,s)})})},styleOne:f}},95188:function(S,x,e){"use strict";for(var p=e(45464),y=e(52904).zorder,n=e(21776).Ks,M=e(92880).extendFlat,b=e(47797).colormodel,f=["rgb","rgba","rgba256","hsl","hsla"],s=[],t=[],o=0;o<f.length;o++){var r=b[f[o]];s.push("For the `"+f[o]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),t.push("For the `"+f[o]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}S.exports=M({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:f,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:M({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:n({},{keys:["z","color","colormodel"]}),zorder:y,transforms:void 0})},93336:function(S,x,e){"use strict";var p=e(3400),y=e(47797),n=e(38248),M=e(54460),b=e(3400).maxRowLength,f=e(18712).i;function s(o,r,i,a){return function(l){return p.constrain((l-o)*r,i,a)}}function t(o,r){return function(i){return p.constrain(i,o,r)}}S.exports=function(o,r){var i,a;if(r._hasZ)i=r.z.length,a=b(r.z);else if(r._hasSource){var l=f(r.source);i=l.height,a=l.width}var u,h=M.getFromId(o,r.xaxis||"x"),c=M.getFromId(o,r.yaxis||"y"),w=h.d2c(r.x0)-r.dx/2,g=c.d2c(r.y0)-r.dy/2,v=[w,w+a*r.dx],m=[g,g+i*r.dy];if(h&&h.type==="log")for(u=0;u<a;u++)v.push(w+u*r.dx);if(c&&c.type==="log")for(u=0;u<i;u++)m.push(g+u*r.dy);return r._extremes[h._id]=M.findExtremes(h,v),r._extremes[c._id]=M.findExtremes(c,m),r._scaler=function(T){var _=y.colormodel[T.colormodel],A=(_.colormodel||T.colormodel).length;T._sArray=[];for(var d=0;d<A;d++)_.min[d]!==T.zmin[d]||_.max[d]!==T.zmax[d]?T._sArray.push(s(T.zmin[d],(_.max[d]-_.min[d])/(T.zmax[d]-T.zmin[d]),_.min[d],_.max[d])):T._sArray.push(t(_.min[d],_.max[d]));return function(C){for(var k=C.slice(0,A),D=0;D<A;D++){var O=k[D];if(!n(O))return!1;k[D]=T._sArray[D](O)}return k}}(r),[{x0:w,y0:g,z:r.z,w:a,h:i}]}},47797:function(S){"use strict";S.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(x){return x.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(x){return x.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(x){return x.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(x){var e=x.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(x){var e=x.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%",""]}}}},13188:function(S,x,e){"use strict";var p=e(3400),y=e(95188),n=e(47797),M=e(81792).IMAGE_URL_PREFIX;S.exports=function(b,f){function s(r,i){return p.coerce(b,f,y,r,i)}s("source"),f.source&&!f.source.match(M)&&delete f.source,f._hasSource=!!f.source;var t,o=s("z");f._hasZ=!(o===void 0||!o.length||!o[0]||!o[0].length),f._hasZ||f._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),f._hasZ?(s("colormodel","rgb"),s("zmin",(t=n.colormodel[f.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):f._hasSource&&(f.colormodel="rgba256",t=n.colormodel[f.colormodel],f.zmin=t.zminDflt,f.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),f._length=null,s("zorder")):f.visible=!1}},79972:function(S){"use strict";S.exports=function(x,e){return"xVal"in e&&(x.x=e.xVal),"yVal"in e&&(x.y=e.yVal),e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),x.color=e.color,x.colormodel=e.trace.colormodel,x.z||(x.z=e.color),x}},18712:function(S,x,e){"use strict";var p=e(19480),y=e(81792).IMAGE_URL_PREFIX,n=e(33576).Buffer;x.i=function(M){var b=M.replace(y,""),f=new n(b,"base64");return p(f)}},24892:function(S,x,e){"use strict";var p=e(93024),y=e(3400),n=y.isArrayOrTypedArray,M=e(47797);S.exports=function(b,f,s){var t=b.cd[0],o=t.trace,r=b.xa,i=b.ya;if(!(p.inbox(f-t.x0,f-(t.x0+t.w*o.dx),0)>0||p.inbox(s-t.y0,s-(t.y0+t.h*o.dy),0)>0)){var a,l=Math.floor((f-t.x0)/o.dx),u=Math.floor(Math.abs(s-t.y0)/o.dy);if(o._hasZ?a=t.z[u][l]:o._hasSource&&(a=o._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),a){var h,c=t.hi||o.hoverinfo;if(c){var w=c.split("+");w.indexOf("all")!==-1&&(w=["color"]),w.indexOf("color")!==-1&&(h=!0)}var g,v=M.colormodel[o.colormodel],m=v.colormodel||o.colormodel,T=m.length,_=o._scaler(a),A=v.suffix,d=[];(o.hovertemplate||h)&&(d.push("["+[_[0]+A[0],_[1]+A[1],_[2]+A[2]].join(", ")),T===4&&d.push(", "+_[3]+A[3]),d.push("]"),d=d.join(""),b.extraText=m.toUpperCase()+": "+d),n(o.hovertext)&&n(o.hovertext[u])?g=o.hovertext[u][l]:n(o.text)&&n(o.text[u])&&(g=o.text[u][l]);var C=i.c2p(t.y0+(u+.5)*o.dy),k=t.x0+(l+.5)*o.dx,D=t.y0+(u+.5)*o.dy,O="["+a.slice(0,o.colormodel.length).join(", ")+"]";return[y.extendFlat(b,{index:[u,l],x0:r.c2p(t.x0+l*o.dx),x1:r.c2p(t.x0+(l+1)*o.dx),y0:C,y1:C,color:_,xVal:k,xLabelVal:k,yVal:D,yLabelVal:D,zLabelVal:O,text:g,hovertemplateLabels:{zLabel:O,colorLabel:d,"color[0]Label":_[0]+A[0],"color[1]Label":_[1]+A[1],"color[2]Label":_[2]+A[2],"color[3]Label":_[3]+A[3]}})]}}}},48928:function(S,x,e){"use strict";S.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=y.strTranslate,M=e(9616),b=e(47797),f=e(9188),s=e(2264).STYLE;S.exports=function(t,o,r,i){var a=o.xaxis,l=o.yaxis,u=!t._context._exportedPlot&&f();y.makeTraceGroups(i,r,"im").each(function(h){var c=p.select(this),w=h[0],g=w.trace,v=(g.zsmooth==="fast"||g.zsmooth===!1&&u)&&!g._hasZ&&g._hasSource&&a.type==="linear"&&l.type==="linear";g._realImage=v;var m,T,_,A,d,C,k=w.z,D=w.x0,O=w.y0,L=w.w,R=w.h,z=g.dx,q=g.dy;for(C=0;m===void 0&&C<L;)m=a.c2p(D+C*z),C++;for(C=L;T===void 0&&C>0;)T=a.c2p(D+C*z),C--;for(C=0;A===void 0&&C<R;)A=l.c2p(O+C*q),C++;for(C=R;d===void 0&&C>0;)d=l.c2p(O+C*q),C--;T<m&&(_=T,T=m,m=_),d<A&&(_=A,A=d,d=_),v||(m=Math.max(-.5*a._length,m),T=Math.min(1.5*a._length,T),A=Math.max(-.5*l._length,A),d=Math.min(1.5*l._length,d));var N=Math.round(T-m),V=Math.round(d-A);if(N<=0||V<=0)c.selectAll("image").data([]).exit().remove();else{var Z=c.selectAll("image").data([h]);Z.enter().append("svg:image").attr({xmlns:M.svg,preserveAspectRatio:"none"}),Z.exit().remove();var j=g.zsmooth===!1?s:"";if(v){var H=y.simpleMap(a.range,a.r2l),Y=y.simpleMap(l.range,l.r2l),ie=H[1]<H[0],re=Y[1]>Y[0];if(ie||re){var ne=m+N/2,ee=A+V/2;j+="transform:"+n(ne+"px",ee+"px")+"scale("+(ie?-1:1)+","+(re?-1:1)+")"+n(-ne+"px",-ee+"px")+";"}}Z.attr("style",j);var Q=new Promise(function(se){if(g._hasZ)se();else if(g._hasSource)if(g._canvas&&g._canvas.el.width===L&&g._canvas.el.height===R&&g._canvas.source===g.source)se();else{var ce=document.createElement("canvas");ce.width=L,ce.height=R;var le=ce.getContext("2d",{willReadFrequently:!0});g._image=g._image||new Image;var de=g._image;de.onload=function(){le.drawImage(de,0,0),g._canvas={el:ce,source:g.source},se()},de.setAttribute("src",g.source)}}).then(function(){var se,ce;if(g._hasZ)ce=X(function(de,be){var _e=k[be][de];return y.isTypedArray(_e)&&(_e=Array.from(_e)),_e}),se=ce.toDataURL("image/png");else if(g._hasSource)if(v)se=g.source;else{var le=g._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,L,R).data;ce=X(function(de,be){var _e=4*(be*L+de);return[le[_e],le[_e+1],le[_e+2],le[_e+3]]}),se=ce.toDataURL("image/png")}Z.attr({"xlink:href":se,height:V,width:N,x:m,y:A})});t._promises.push(Q)}function X(se){var ce=document.createElement("canvas");ce.width=N,ce.height=V;var le,de=ce.getContext("2d",{willReadFrequently:!0}),be=function(pe){return y.constrain(Math.round(a.c2p(D+pe*z)-m),0,N)},_e=function(pe){return y.constrain(Math.round(l.c2p(O+pe*q)-A),0,V)},ve=b.colormodel[g.colormodel],me=ve.colormodel||g.colormodel,ye=ve.fmt;for(C=0;C<w.w;C++){var Se=be(C),Ie=be(C+1);if(Ie!==Se&&!isNaN(Ie)&&!isNaN(Se))for(var xe=0;xe<w.h;xe++){var ue=_e(xe),ae=_e(xe+1);ae===ue||isNaN(ae)||isNaN(ue)||!se(C,xe)||(le=g._scaler(se(C,xe)),de.fillStyle=le?me+"("+ye(le).join(",")+")":"rgba(0,0,0,0)",de.fillRect(Se,ue,Ie-Se,ae-ue))}}return ce}})}},28576:function(S,x,e){"use strict";var p=e(33428);S.exports=function(y){p.select(y).selectAll(".im image").style("opacity",function(n){return n[0].trace.opacity})}},89864:function(S,x,e){"use strict";var p=e(92880).extendFlat,y=e(92880).extendDeep,n=e(67824).overrideAll,M=e(25376),b=e(22548),f=e(86968).u,s=e(94724),t=e(31780).templatedArray,o=e(48164),r=e(29736).descriptionOnlyNumbers,i=M({editType:"plot",colorEditType:"plot"}),a={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",y({},a,{range:l}));S.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:f({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},i,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:p({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:o.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:o.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:o.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:o.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},i,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:y({},a,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:l,visible:p({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:p({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:M({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:p({},a.line.color,{}),width:p({},a.line.width,{dflt:1}),editType:"plot"},thickness:p({},a.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(S,x,e){"use strict";var p=e(7316);x.name="indicator",x.plot=function(y,n,M,b){p.plotBasePlot(x.name,y,n,M,b)},x.clean=function(y,n,M,b){p.cleanBasePlot(x.name,y,n,M,b)}},79136:function(S){"use strict";S.exports={calc:function(x,e){var p=[],y=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var n=e._lastValue,M=n;return e._hasDelta&&typeof e.delta.reference=="number"&&(M=e.delta.reference),p[0]={y,lastY:n,delta:y-M,relativeDelta:(y-M)/M},p}}},12096:function(S){"use strict";S.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(S,x,e){"use strict";var p=e(3400),y=e(89864),n=e(86968).Q,M=e(31780),b=e(51272),f=e(12096),s=e(26332),t=e(25404),o=e(95936),r=e(42568);function i(a,l){function u(h,c){return p.coerce(a,l,y.gauge.steps,h,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}S.exports={supplyDefaults:function(a,l,u,h){function c(z,q){return p.coerce(a,l,y,z,q)}n(l,h,c),c("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var w=c("value");l._range=[0,typeof w=="number"?1.5*w:1];var g,v,m=new Array(2);if(l._hasNumber){c("number.valueformat");var T=p.extendFlat({},h.font);T.size=void 0,p.coerceFont(c,"number.font",T),l.number.font.size===void 0&&(l.number.font.size=f.defaultNumberFontSize,m[0]=!0),c("number.prefix"),c("number.suffix"),g=l.number.font.size}if(l._hasDelta){var _=p.extendFlat({},h.font);_.size=void 0,p.coerceFont(c,"delta.font",_),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(g||f.defaultNumberFontSize),m[1]=!0),c("delta.reference",l.value),c("delta.relative"),c("delta.valueformat",l.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),v=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||m[0])&&(!l._hasDelta||m[1])||!1;var A,d,C,k,D=p.extendFlat({},h.font);function O(z,q){return p.coerce(A,d,y.gauge,z,q)}function L(z,q){return p.coerce(C,k,y.gauge.axis,z,q)}if(D.size=.25*(g||v||f.defaultNumberFontSize),p.coerceFont(c,"title.font",D),c("title.text"),l._hasGauge){(A=a.gauge)||(A={}),d=M.newContainer(l,"gauge"),O("shape"),(l._isBullet=l.gauge.shape==="bullet")||c("title.align","center"),(l._isAngular=l.gauge.shape==="angular")||c("align","center"),O("bgcolor",h.paper_bgcolor),O("borderwidth"),O("bordercolor"),O("bar.color"),O("bar.line.color"),O("bar.line.width"),O("bar.thickness",f.valueThickness*(l.gauge.shape==="bullet"?.5:1)),b(A,d,{name:"steps",handleItemDefaults:i}),O("threshold.value"),O("threshold.thickness"),O("threshold.line.width"),O("threshold.line.color"),C={},A&&(C=A.axis||{}),k=M.newContainer(d,"axis"),L("visible"),l._range=L("range",l._range);var R={font:h.font,noAutotickangles:!0,outerTicks:!0};s(C,k,L,"linear"),r(C,k,L,"linear",R),o(C,k,L,"linear",R),t(C,k,L,R)}else c("title.align","center"),c("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},43480:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(S,x,e){"use strict";var p=e(33428),y=e(67756).qy,n=e(67756).Gz,M=e(3400),b=M.strScale,f=M.strTranslate,s=M.rad2deg,t=e(84284).MID_SHIFT,o=e(43616),r=e(12096),i=e(72736),a=e(54460),l=e(28336),u=e(37668),h=e(94724),c=e(76308),w={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},v=/[yzafpnµmkMGTPEZY]/;function m(k){return k&&k.duration>0}function T(k){k.each(function(D){c.stroke(p.select(this),D.line.color)}).each(function(D){c.fill(p.select(this),D.color)}).style("stroke-width",function(D){return D.line.width})}function _(k,D,O){var L=k._fullLayout,R=M.extendFlat({type:"linear",ticks:"outside",range:O,showline:!0},D),z={type:"linear",_id:"x"+D._id},q={letter:"x",font:L.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function N(V,Z){return M.coerce(R,z,h,V,Z)}return l(R,z,N,q,L),u(R,z,N,q),z}function A(k,D,O){return[Math.min(D/k.width,O/k.height),k,D+"x"+O]}function d(k,D,O,L){var R=document.createElementNS("http://www.w3.org/2000/svg","text"),z=p.select(R);return z.text(k).attr("x",0).attr("y",0).attr("text-anchor",O).attr("data-unformatted",k).call(i.convertToTspans,L).call(o.font,D),o.bBox(z.node())}function C(k,D,O,L,R,z){var q="_cache"+D;k[q]&&k[q].key===R||(k[q]={key:R,value:O});var N=M.aggNums(z,null,[k[q].value,L],2);return k[q].value=N,N}S.exports=function(k,D,O,L){var R,z=k._fullLayout;m(O)&&L&&(R=L()),M.makeTraceGroups(z._indicatorlayer,D,"trace").each(function(q){var N,V,Z,j,H,Y=q[0].trace,ie=p.select(this),re=Y._hasGauge,ne=Y._isAngular,ee=Y._isBullet,Q=Y.domain,X={w:z._size.w*(Q.x[1]-Q.x[0]),h:z._size.h*(Q.y[1]-Q.y[0]),l:z._size.l+z._size.w*Q.x[0],r:z._size.r+z._size.w*(1-Q.x[1]),t:z._size.t+z._size.h*(1-Q.y[1]),b:z._size.b+z._size.h*Q.y[0]},se=X.l+X.w/2,ce=X.t+X.h/2,le=Math.min(X.w/2,X.h),de=r.innerRadius*le,be=Y.align||"center";if(V=ce,re){if(ne&&(N=se,V=ce+le/2,Z=function(ue){return function(ae,pe){return[pe/Math.sqrt(ae.width/2*(ae.width/2)+ae.height*ae.height),ae,pe]}(ue,.9*de)}),ee){var _e=r.bulletPadding,ve=1-r.bulletNumberDomainSize+_e;N=X.l+(ve+(1-ve)*g[be])*X.w,Z=function(ue){return A(ue,(r.bulletNumberDomainSize-_e)*X.w,X.h)}}}else N=X.l+g[be]*X.w,Z=function(ue){return A(ue,X.w,X.h)};(function(ue,ae,pe,De){var Te,Ae,Ce,Re=pe[0].trace,Ne=De.numbersX,ge=De.numbersY,Me=Re.align||"center",Ee=w[Me],Fe=De.transitionOpts,Le=De.onComplete,Ue=M.ensureSingle(ae,"g","numbers"),Ge=[];Re._hasNumber&&Ge.push("number"),Re._hasDelta&&(Ge.push("delta"),Re.delta.position==="left"&&Ge.reverse());var Ke=Ue.selectAll("text").data(Ge);function at(Pt,Rt,Et,Ye){if(!Pt.match("s")||Et>=0==Ye>=0||Rt(Et).slice(-1).match(v)||Rt(Ye).slice(-1).match(v))return Rt;var Xe=Pt.slice().replace("s","f").replace(/\d+/,function(Ze){return parseInt(Ze)-1}),Ve=_(ue,{tickformat:Xe});return function(Ze){return Math.abs(Ze)<1?a.tickText(Ve,Ze).text:Rt(Ze)}}Ke.enter().append("text"),Ke.attr("text-anchor",function(){return Ee}).attr("class",function(Pt){return Pt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Ke.exit().remove();var st,vt=Re.mode+Re.align;if(Re._hasDelta&&(st=function(){var Pt=_(ue,{tickformat:Re.delta.valueformat},Re._range);Pt.setScale(),a.prepTicks(Pt);var Rt=function(Be){return a.tickText(Pt,Be).text},Et=Re.delta.suffix,Ye=Re.delta.prefix,Xe=function(Be){return Re.delta.relative?Be.relativeDelta:Be.delta},Ve=function(Be,je){return Be===0||typeof Be!="number"||isNaN(Be)?"-":(Be>0?Re.delta.increasing.symbol:Re.delta.decreasing.symbol)+Ye+je(Be)+Et},Ze=function(Be){return Be.delta>=0?Re.delta.increasing.color:Re.delta.decreasing.color};Re._deltaLastValue===void 0&&(Re._deltaLastValue=Xe(pe[0]));var lt=Ue.select("text.delta");function it(){lt.text(Ve(Xe(pe[0]),Rt)).call(c.fill,Ze(pe[0])).call(i.convertToTspans,ue)}return lt.call(o.font,Re.delta.font).call(c.fill,Ze({delta:Re._deltaLastValue})),m(Fe)?lt.transition().duration(Fe.duration).ease(Fe.easing).tween("text",function(){var Be=p.select(this),je=Xe(pe[0]),ot=Re._deltaLastValue,$e=at(Re.delta.valueformat,Rt,ot,je),dt=n(ot,je);return Re._deltaLastValue=je,function(mt){Be.text(Ve(dt(mt),$e)),Be.call(c.fill,Ze({delta:dt(mt)}))}}).each("end",function(){it(),Le&&Le()}).each("interrupt",function(){it(),Le&&Le()}):it(),Ae=d(Ve(Xe(pe[0]),Rt),Re.delta.font,Ee,ue),lt}(),vt+=Re.delta.position+Re.delta.font.size+Re.delta.font.family+Re.delta.valueformat,vt+=Re.delta.increasing.symbol+Re.delta.decreasing.symbol,Ce=Ae),Re._hasNumber&&(function(){var Pt=_(ue,{tickformat:Re.number.valueformat},Re._range);Pt.setScale(),a.prepTicks(Pt);var Rt=function(Ze){return a.tickText(Pt,Ze).text},Et=Re.number.suffix,Ye=Re.number.prefix,Xe=Ue.select("text.number");function Ve(){var Ze=typeof pe[0].y=="number"?Ye+Rt(pe[0].y)+Et:"-";Xe.text(Ze).call(o.font,Re.number.font).call(i.convertToTspans,ue)}m(Fe)?Xe.transition().duration(Fe.duration).ease(Fe.easing).each("end",function(){Ve(),Le&&Le()}).each("interrupt",function(){Ve(),Le&&Le()}).attrTween("text",function(){var Ze=p.select(this),lt=n(pe[0].lastY,pe[0].y);Re._lastValue=pe[0].y;var it=at(Re.number.valueformat,Rt,pe[0].lastY,pe[0].y);return function(Be){Ze.text(Ye+it(lt(Be))+Et)}}):Ve(),Te=d(Ye+Rt(pe[0].y)+Et,Re.number.font,Ee,ue)}(),vt+=Re.number.font.size+Re.number.font.family+Re.number.valueformat+Re.number.suffix+Re.number.prefix,Ce=Te),Re._hasDelta&&Re._hasNumber){var xt,gt,nt=[(Te.left+Te.right)/2,(Te.top+Te.bottom)/2],et=[(Ae.left+Ae.right)/2,(Ae.top+Ae.bottom)/2],At=.75*Re.delta.font.size;Re.delta.position==="left"&&(xt=C(Re,"deltaPos",0,-1*(Te.width*g[Re.align]+Ae.width*(1-g[Re.align])+At),vt,Math.min),gt=nt[1]-et[1],Ce={width:Te.width+Ae.width+At,height:Math.max(Te.height,Ae.height),left:Ae.left+xt,right:Te.right,top:Math.min(Te.top,Ae.top+gt),bottom:Math.max(Te.bottom,Ae.bottom+gt)}),Re.delta.position==="right"&&(xt=C(Re,"deltaPos",0,Te.width*(1-g[Re.align])+Ae.width*g[Re.align]+At,vt,Math.max),gt=nt[1]-et[1],Ce={width:Te.width+Ae.width+At,height:Math.max(Te.height,Ae.height),left:Te.left,right:Ae.right+xt,top:Math.min(Te.top,Ae.top+gt),bottom:Math.max(Te.bottom,Ae.bottom+gt)}),Re.delta.position==="bottom"&&(xt=null,gt=Ae.height,Ce={width:Math.max(Te.width,Ae.width),height:Te.height+Ae.height,left:Math.min(Te.left,Ae.left),right:Math.max(Te.right,Ae.right),top:Te.bottom-Te.height,bottom:Te.bottom+Ae.height}),Re.delta.position==="top"&&(xt=null,gt=Te.top,Ce={width:Math.max(Te.width,Ae.width),height:Te.height+Ae.height,left:Math.min(Te.left,Ae.left),right:Math.max(Te.right,Ae.right),top:Te.bottom-Te.height-Ae.height,bottom:Te.bottom}),st.attr({dx:xt,dy:gt})}(Re._hasNumber||Re._hasDelta)&&Ue.attr("transform",function(){var Pt=De.numbersScaler(Ce);vt+=Pt[2];var Rt,Et=C(Re,"numbersScale",1,Pt[0],vt,Math.min);Re._scaleNumbers||(Et=1),Rt=Re._isAngular?ge-Et*Ce.bottom:ge-Et*(Ce.top+Ce.bottom)/2,Re._numbersTop=Et*Ce.top+Rt;var Ye=Ce[Me];Me==="center"&&(Ye=(Ce.left+Ce.right)/2);var Xe=Ne-Et*Ye;return Xe=C(Re,"numbersTranslate",0,Xe,vt,Math.max),f(Xe,Rt)+b(Et)})})(k,ie,q,{numbersX:N,numbersY:V,numbersScaler:Z,transitionOpts:O,onComplete:R}),re&&(j={range:Y.gauge.axis.range,color:Y.gauge.bgcolor,line:{color:Y.gauge.bordercolor,width:0},thickness:1},H={range:Y.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:Y.gauge.bordercolor,width:Y.gauge.borderwidth},thickness:1});var me=ie.selectAll("g.angular").data(ne?q:[]);me.exit().remove();var ye=ie.selectAll("g.angularaxis").data(ne?q:[]);ye.exit().remove(),ne&&function(ue,ae,pe,De){var Te,Ae,Ce,Re,Ne=pe[0].trace,ge=De.size,Me=De.radius,Ee=De.innerRadius,Fe=De.gaugeBg,Le=De.gaugeOutline,Ue=[ge.l+ge.w/2,ge.t+ge.h/2+Me/2],Ge=De.gauge,Ke=De.layer,at=De.transitionOpts,st=De.onComplete,vt=Math.PI/2;function xt(mt){var yt=Ne.gauge.axis.range[0],ht=(mt-yt)/(Ne.gauge.axis.range[1]-yt)*Math.PI-vt;return ht<-vt?-vt:ht>vt?vt:ht}function gt(mt){return p.svg.arc().innerRadius((Ee+Me)/2-mt/2*(Me-Ee)).outerRadius((Ee+Me)/2+mt/2*(Me-Ee)).startAngle(-vt)}function nt(mt){mt.attr("d",function(yt){return gt(yt.thickness).startAngle(xt(yt.range[0])).endAngle(xt(yt.range[1]))()})}Ge.enter().append("g").classed("angular",!0),Ge.attr("transform",f(Ue[0],Ue[1])),Ke.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Ke.selectAll("g.xangularaxistick,path,text").remove(),(Te=_(ue,Ne.gauge.axis)).type="linear",Te.range=Ne.gauge.axis.range,Te._id="xangularaxis",Te.ticklabeloverflow="allow",Te.setScale();var et=function(mt){return(Te.range[0]-mt.x)/(Te.range[1]-Te.range[0])*Math.PI+Math.PI},At={},Pt=a.makeLabelFns(Te,0).labelStandoff;At.xFn=function(mt){var yt=et(mt);return Math.cos(yt)*Pt},At.yFn=function(mt){var yt=et(mt),ht=Math.sin(yt)>0?.2:1;return-Math.sin(yt)*(Pt+mt.fontSize*ht)+Math.abs(Math.cos(yt))*(mt.fontSize*t)},At.anchorFn=function(mt){var yt=et(mt),ht=Math.cos(yt);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},At.heightFn=function(mt,yt,ht){var kt=et(mt);return-.5*(1+Math.sin(kt))*ht};var Rt=function(mt){return f(Ue[0]+Me*Math.cos(mt),Ue[1]-Me*Math.sin(mt))};if(Ce=function(mt){return Rt(et(mt))},Ae=a.calcTicks(Te),Re=a.getTickSigns(Te)[2],Te.visible){Re=Te.ticks==="inside"?-1:1;var Et=(Te.linewidth||1)/2;a.drawTicks(ue,Te,{vals:Ae,layer:Ke,path:"M"+Re*Et+",0h"+Re*Te.ticklen,transFn:function(mt){var yt=et(mt);return Rt(yt)+"rotate("+-s(yt)+")"}}),a.drawLabels(ue,Te,{vals:Ae,layer:Ke,transFn:Ce,labelFns:At})}var Ye=[Fe].concat(Ne.gauge.steps),Xe=Ge.selectAll("g.bg-arc").data(Ye);Xe.enter().append("g").classed("bg-arc",!0).append("path"),Xe.select("path").call(nt).call(T),Xe.exit().remove();var Ve=gt(Ne.gauge.bar.thickness),Ze=Ge.selectAll("g.value-arc").data([Ne.gauge.bar]);Ze.enter().append("g").classed("value-arc",!0).append("path");var lt,it,Be,je=Ze.select("path");m(at)?(je.transition().duration(at.duration).ease(at.easing).each("end",function(){st&&st()}).each("interrupt",function(){st&&st()}).attrTween("d",(lt=Ve,it=xt(pe[0].lastY),Be=xt(pe[0].y),function(){var mt=y(it,Be);return function(yt){return lt.endAngle(mt(yt))()}})),Ne._lastValue=pe[0].y):je.attr("d",typeof pe[0].y=="number"?Ve.endAngle(xt(pe[0].y)):"M0,0Z"),je.call(T),Ze.exit().remove(),Ye=[];var ot=Ne.gauge.threshold.value;(ot||ot===0)&&Ye.push({range:[ot,ot],color:Ne.gauge.threshold.color,line:{color:Ne.gauge.threshold.line.color,width:Ne.gauge.threshold.line.width},thickness:Ne.gauge.threshold.thickness});var $e=Ge.selectAll("g.threshold-arc").data(Ye);$e.enter().append("g").classed("threshold-arc",!0).append("path"),$e.select("path").call(nt).call(T),$e.exit().remove();var dt=Ge.selectAll("g.gauge-outline").data([Le]);dt.enter().append("g").classed("gauge-outline",!0).append("path"),dt.select("path").call(nt).call(T),dt.exit().remove()}(k,0,q,{radius:le,innerRadius:de,gauge:me,layer:ye,size:X,gaugeBg:j,gaugeOutline:H,transitionOpts:O,onComplete:R});var Se=ie.selectAll("g.bullet").data(ee?q:[]);Se.exit().remove();var Ie=ie.selectAll("g.bulletaxis").data(ee?q:[]);Ie.exit().remove(),ee&&function(ue,ae,pe,De){var Te,Ae,Ce,Re,Ne,ge=pe[0].trace,Me=De.gauge,Ee=De.layer,Fe=De.gaugeBg,Le=De.gaugeOutline,Ue=De.size,Ge=ge.domain,Ke=De.transitionOpts,at=De.onComplete;Me.enter().append("g").classed("bullet",!0),Me.attr("transform",f(Ue.l,Ue.t)),Ee.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Ee.selectAll("g.xbulletaxistick,path,text").remove();var st=Ue.h,vt=ge.gauge.bar.thickness*st,xt=Ge.x[0],gt=Ge.x[0]+(Ge.x[1]-Ge.x[0])*(ge._hasNumber||ge._hasDelta?1-r.bulletNumberDomainSize:1);function nt(Xe){Xe.attr("width",function(Ve){return Math.max(0,Te.c2p(Ve.range[1])-Te.c2p(Ve.range[0]))}).attr("x",function(Ve){return Te.c2p(Ve.range[0])}).attr("y",function(Ve){return .5*(1-Ve.thickness)*st}).attr("height",function(Ve){return Ve.thickness*st})}(Te=_(ue,ge.gauge.axis))._id="xbulletaxis",Te.domain=[xt,gt],Te.setScale(),Ae=a.calcTicks(Te),Ce=a.makeTransTickFn(Te),Re=a.getTickSigns(Te)[2],Ne=Ue.t+Ue.h,Te.visible&&(a.drawTicks(ue,Te,{vals:Te.ticks==="inside"?a.clipEnds(Te,Ae):Ae,layer:Ee,path:a.makeTickPath(Te,Ne,Re),transFn:Ce}),a.drawLabels(ue,Te,{vals:Ae,layer:Ee,transFn:Ce,labelFns:a.makeLabelFns(Te,Ne)}));var et=[Fe].concat(ge.gauge.steps),At=Me.selectAll("g.bg-bullet").data(et);At.enter().append("g").classed("bg-bullet",!0).append("rect"),At.select("rect").call(nt).call(T),At.exit().remove();var Pt=Me.selectAll("g.value-bullet").data([ge.gauge.bar]);Pt.enter().append("g").classed("value-bullet",!0).append("rect"),Pt.select("rect").attr("height",vt).attr("y",(st-vt)/2).call(T),m(Ke)?Pt.select("rect").transition().duration(Ke.duration).ease(Ke.easing).each("end",function(){at&&at()}).each("interrupt",function(){at&&at()}).attr("width",Math.max(0,Te.c2p(Math.min(ge.gauge.axis.range[1],pe[0].y)))):Pt.select("rect").attr("width",typeof pe[0].y=="number"?Math.max(0,Te.c2p(Math.min(ge.gauge.axis.range[1],pe[0].y))):0),Pt.exit().remove();var Rt=pe.filter(function(){return ge.gauge.threshold.value||ge.gauge.threshold.value===0}),Et=Me.selectAll("g.threshold-bullet").data(Rt);Et.enter().append("g").classed("threshold-bullet",!0).append("line"),Et.select("line").attr("x1",Te.c2p(ge.gauge.threshold.value)).attr("x2",Te.c2p(ge.gauge.threshold.value)).attr("y1",(1-ge.gauge.threshold.thickness)/2*st).attr("y2",(1-(1-ge.gauge.threshold.thickness)/2)*st).call(c.stroke,ge.gauge.threshold.line.color).style("stroke-width",ge.gauge.threshold.line.width),Et.exit().remove();var Ye=Me.selectAll("g.gauge-outline").data([Le]);Ye.enter().append("g").classed("gauge-outline",!0).append("rect"),Ye.select("rect").call(nt).call(T),Ye.exit().remove()}(k,0,q,{gauge:Se,layer:Ie,size:X,gaugeBg:j,gaugeOutline:H,transitionOpts:O,onComplete:R});var xe=ie.selectAll("text.title").data(q);xe.exit().remove(),xe.enter().append("text").classed("title",!0),xe.attr("text-anchor",function(){return ee?w.right:w[Y.title.align]}).text(Y.title.text).call(o.font,Y.title.font).call(i.convertToTspans,k),xe.attr("transform",function(){var ue,ae=X.l+X.w*g[Y.title.align],pe=r.titlePadding,De=o.bBox(xe.node());return re?(ne&&(ue=Y.gauge.axis.visible?o.bBox(ye.node()).top-pe-De.bottom:X.t+X.h/2-le/2-De.bottom-pe),ee&&(ue=V-(De.top+De.bottom)/2,ae=X.l-r.bulletPadding*X.w)):ue=Y._numbersTop-pe-De.bottom,f(ae,ue)})})}},50048:function(S,x,e){"use strict";var p=e(49084),y=e(29736).axisHoverFormat,n=e(21776).Ks,M=e(52948),b=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll,t=S.exports=s(f({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),valuehoverformat:y("value",1),showlegend:f({},b.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:M.opacity,lightposition:M.lightposition,lighting:M.lighting,flatshading:M.flatshading,contour:M.contour,hoverinfo:f({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},62624:function(S,x,e){"use strict";var p=e(47128),y=e(3832).processGrid,n=e(3832).filter;S.exports=function(M,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=n(b.x,b._len),b._y=n(b.y,b._len),b._z=n(b.z,b._len),b._value=n(b.value,b._len);var f=y(b);b._gridFill=f.fill,b._Xs=f.Xs,b._Ys=f.Ys,b._Zs=f.Zs,b._len=f.len;for(var s=1/0,t=-1/0,o=0;o<b._len;o++){var r=b._value[o];s=Math.min(s,r),t=Math.max(t,r)}b._minValues=s,b._maxValues=t,b._vMin=b.isomin===void 0||b.isomin===null?s:b.isomin,b._vMax=b.isomax===void 0||b.isomax===null?t:b.isomax,p(M,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},31460:function(S,x,e){"use strict";var p=e(67792).gl_mesh3d,y=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,M=e(43080),b=e(8932).extractOpts,f=e(52094),s=function(a,l){for(var u=l.length-1;u>0;u--){var h=Math.min(l[u],l[u-1]),c=Math.max(l[u],l[u-1]);if(c>h&&h<a&&a<=c)return{id:u,distRatio:(c-a)/(c-h)}}return{id:0,distRatio:0}};function t(a,l,u){this.scene=a,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var o=t.prototype;o.handlePick=function(a){if(a.object===this.mesh){var l=a.data.index,u=this.data._meshX[l],h=this.data._meshY[l],c=this.data._meshZ[l],w=this.data._Ys.length,g=this.data._Zs.length,v=s(u,this.data._Xs).id,m=s(h,this.data._Ys).id,T=s(c,this.data._Zs).id,_=a.index=T+g*m+g*w*v;a.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var A=this.data.hovertext||this.data.text;return n(A)&&A[_]!==void 0?a.textLabel=A[_]:A&&(a.textLabel=A),!0}},o.update=function(a){var l=this.scene,u=l.fullSceneLayout;function h(g,v,m,T){return v.map(function(_){return g.d2l(_,0,T)*m})}this.data=i(a);var c={positions:f(h(u.xaxis,a._meshX,l.dataScale[0],a.xcalendar),h(u.yaxis,a._meshY,l.dataScale[1],a.ycalendar),h(u.zaxis,a._meshZ,l.dataScale[2],a.zcalendar)),cells:f(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,contourEnable:a.contour.show,contourColor:M(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},w=b(a);c.vertexIntensity=a._meshIntensity,c.vertexIntensityBounds=[w.min,w.max],c.colormap=y(a),this.mesh.update(c)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function i(a){a._meshI=[],a._meshJ=[],a._meshK=[];var l,u,h,c,w,g,v,m=a.surface.show,T=a.spaceframe.show,_=a.surface.fill,A=a.spaceframe.fill,d=!1,C=!1,k=0,D=a._Xs,O=a._Ys,L=a._Zs,R=D.length,z=O.length,q=L.length,N=r.indexOf(a._gridFill.replace(/-/g,"").replace(/\+/g,"")),V=function(Ee,Fe,Le){switch(N){case 5:return Le+q*Fe+q*z*Ee;case 4:return Le+q*Ee+q*R*Fe;case 3:return Fe+z*Le+z*q*Ee;case 2:return Fe+z*Ee+z*R*Le;case 1:return Ee+R*Le+R*q*Fe;default:return Ee+R*Fe+R*z*Le}},Z=a._minValues,j=a._maxValues,H=a._vMin,Y=a._vMax;function ie(Ee,Fe,Le){for(var Ue=g.length,Ge=u;Ge<Ue;Ge++)if(Ee===h[Ge]&&Fe===c[Ge]&&Le===w[Ge])return Ge;return-1}function re(){u=l}function ne(){h=[],c=[],w=[],g=[],l=0,re()}function ee(Ee,Fe,Le,Ue){return h.push(Ee),c.push(Fe),w.push(Le),g.push(Ue),++l-1}function Q(Ee,Fe,Le){for(var Ue=[],Ge=0;Ge<Ee.length;Ge++)Ue[Ge]=Ee[Ge]*(1-Le)+Le*Fe[Ge];return Ue}function X(Ee){v=Ee}function se(Ee,Fe){return Ee==="all"||Ee===null||Ee.indexOf(Fe)>-1}function ce(Ee,Fe){return Ee===null?Fe:Ee}function le(Ee,Fe,Le){re();var Ue,Ge,Ke,at=[Fe],st=[Le];if(v>=1)at=[Fe],st=[Le];else if(v>0){var vt=function(Ye,Xe){var Ve=Ye[0],Ze=Ye[1],lt=Ye[2],it=function(ht,kt,bt){for(var St=[],Lt=0;Lt<ht.length;Lt++)St[Lt]=(ht[Lt]+kt[Lt]+bt[Lt])/3;return St}(Ve,Ze,lt),Be=Math.sqrt(1-v),je=Q(it,Ve,Be),ot=Q(it,Ze,Be),$e=Q(it,lt,Be),dt=Xe[0],mt=Xe[1],yt=Xe[2];return{xyzv:[[Ve,Ze,ot],[ot,je,Ve],[Ze,lt,$e],[$e,ot,Ze],[lt,Ve,je],[je,$e,lt]],abc:[[dt,mt,-1],[-1,-1,dt],[mt,yt,-1],[-1,-1,mt],[yt,dt,-1],[-1,-1,yt]]}}(Fe,Le);at=vt.xyzv,st=vt.abc}for(var xt=0;xt<at.length;xt++){Fe=at[xt],Le=st[xt];for(var gt=[],nt=0;nt<3;nt++){var et=Fe[nt][0],At=Fe[nt][1],Pt=Fe[nt][2],Rt=Fe[nt][3],Et=Le[nt]>-1?Le[nt]:ie(et,At,Pt);gt[nt]=Et>-1?Et:ee(et,At,Pt,ce(Ee,Rt))}Ue=gt[0],Ge=gt[1],Ke=gt[2],a._meshI.push(Ue),a._meshJ.push(Ge),a._meshK.push(Ke),++k}}function de(Ee,Fe,Le,Ue){var Ge=Ee[3];Ge<Le&&(Ge=Le),Ge>Ue&&(Ge=Ue);for(var Ke=(Ee[3]-Ge)/(Ee[3]-Fe[3]+1e-9),at=[],st=0;st<4;st++)at[st]=(1-Ke)*Ee[st]+Ke*Fe[st];return at}function be(Ee,Fe,Le){return Ee>=Fe&&Ee<=Le}function _e(Ee){var Fe=.001*(Y-H);return Ee>=H-Fe&&Ee<=Y+Fe}function ve(Ee){for(var Fe=[],Le=0;Le<4;Le++){var Ue=Ee[Le];Fe.push([a._x[Ue],a._y[Ue],a._z[Ue],a._value[Ue]])}return Fe}var me=3;function ye(Ee,Fe,Le,Ue,Ge,Ke){Ke||(Ke=1),Le=[-1,-1,-1];var at=!1,st=[be(Fe[0][3],Ue,Ge),be(Fe[1][3],Ue,Ge),be(Fe[2][3],Ue,Ge)];if(!st[0]&&!st[1]&&!st[2])return!1;var vt=function(gt,nt,et){return _e(nt[0][3])&&_e(nt[1][3])&&_e(nt[2][3])?(le(gt,nt,et),!0):Ke<me&&ye(gt,nt,et,H,Y,++Ke)};if(st[0]&&st[1]&&st[2])return vt(Ee,Fe,Le)||at;var xt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(gt){if(st[gt[0]]&&st[gt[1]]&&!st[gt[2]]){var nt=Fe[gt[0]],et=Fe[gt[1]],At=Fe[gt[2]],Pt=de(At,nt,Ue,Ge),Rt=de(At,et,Ue,Ge);at=vt(Ee,[Rt,Pt,nt],[-1,-1,Le[gt[0]]])||at,at=vt(Ee,[nt,et,Rt],[Le[gt[0]],Le[gt[1]],-1])||at,xt=!0}}),xt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(gt){if(st[gt[0]]&&!st[gt[1]]&&!st[gt[2]]){var nt=Fe[gt[0]],et=Fe[gt[1]],At=Fe[gt[2]],Pt=de(et,nt,Ue,Ge),Rt=de(At,nt,Ue,Ge);at=vt(Ee,[Rt,Pt,nt],[-1,-1,Le[gt[0]]])||at,xt=!0}}),at}function Se(Ee,Fe,Le,Ue){var Ge=!1,Ke=ve(Fe),at=[be(Ke[0][3],Le,Ue),be(Ke[1][3],Le,Ue),be(Ke[2][3],Le,Ue),be(Ke[3][3],Le,Ue)];if(!(at[0]||at[1]||at[2]||at[3]))return Ge;if(at[0]&&at[1]&&at[2]&&at[3])return C&&(Ge=function(vt,xt,gt){var nt=function(et,At,Pt){le(vt,[xt[et],xt[At],xt[Pt]],[gt[et],gt[At],gt[Pt]])};nt(0,1,2),nt(3,0,1),nt(2,3,0),nt(1,2,3)}(Ee,Ke,Fe)||Ge),Ge;var st=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(vt){if(at[vt[0]]&&at[vt[1]]&&at[vt[2]]&&!at[vt[3]]){var xt=Ke[vt[0]],gt=Ke[vt[1]],nt=Ke[vt[2]],et=Ke[vt[3]];if(C)Ge=le(Ee,[xt,gt,nt],[Fe[vt[0]],Fe[vt[1]],Fe[vt[2]]])||Ge;else{var At=de(et,xt,Le,Ue),Pt=de(et,gt,Le,Ue),Rt=de(et,nt,Le,Ue);Ge=le(null,[At,Pt,Rt],[-1,-1,-1])||Ge}st=!0}}),st||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(vt){if(at[vt[0]]&&at[vt[1]]&&!at[vt[2]]&&!at[vt[3]]){var xt=Ke[vt[0]],gt=Ke[vt[1]],nt=Ke[vt[2]],et=Ke[vt[3]],At=de(nt,xt,Le,Ue),Pt=de(nt,gt,Le,Ue),Rt=de(et,gt,Le,Ue),Et=de(et,xt,Le,Ue);C?(Ge=le(Ee,[xt,Et,At],[Fe[vt[0]],-1,-1])||Ge,Ge=le(Ee,[gt,Pt,Rt],[Fe[vt[1]],-1,-1])||Ge):Ge=function(Ye,Xe,Ve){var Ze=function(lt,it,Be){le(null,[Xe[lt],Xe[it],Xe[Be]],[Ve[lt],Ve[it],Ve[Be]])};Ze(0,1,2),Ze(2,3,0)}(0,[At,Pt,Rt,Et],[-1,-1,-1,-1])||Ge,st=!0}}),st||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(vt){if(at[vt[0]]&&!at[vt[1]]&&!at[vt[2]]&&!at[vt[3]]){var xt=Ke[vt[0]],gt=Ke[vt[1]],nt=Ke[vt[2]],et=Ke[vt[3]],At=de(gt,xt,Le,Ue),Pt=de(nt,xt,Le,Ue),Rt=de(et,xt,Le,Ue);C?(Ge=le(Ee,[xt,At,Pt],[Fe[vt[0]],-1,-1])||Ge,Ge=le(Ee,[xt,Pt,Rt],[Fe[vt[0]],-1,-1])||Ge,Ge=le(Ee,[xt,Rt,At],[Fe[vt[0]],-1,-1])||Ge):Ge=le(null,[At,Pt,Rt],[-1,-1,-1])||Ge,st=!0}})),Ge}function Ie(Ee,Fe,Le,Ue,Ge,Ke,at,st,vt,xt,gt){var nt=!1;return d&&(se(Ee,"A")&&(nt=Se(null,[Fe,Le,Ue,Ke],xt,gt)||nt),se(Ee,"B")&&(nt=Se(null,[Le,Ue,Ge,vt],xt,gt)||nt),se(Ee,"C")&&(nt=Se(null,[Le,Ke,at,vt],xt,gt)||nt),se(Ee,"D")&&(nt=Se(null,[Ue,Ke,st,vt],xt,gt)||nt),se(Ee,"E")&&(nt=Se(null,[Le,Ue,Ke,vt],xt,gt)||nt)),C&&(nt=Se(Ee,[Le,Ue,Ke,vt],xt,gt)||nt),nt}function xe(Ee,Fe,Le,Ue,Ge,Ke,at,st){return[st[0]===!0||ye(Ee,ve([Fe,Le,Ue]),[Fe,Le,Ue],Ke,at),st[1]===!0||ye(Ee,ve([Ue,Ge,Fe]),[Ue,Ge,Fe],Ke,at)]}function ue(Ee,Fe,Le,Ue,Ge,Ke,at,st,vt){return st?xe(Ee,Fe,Le,Ge,Ue,Ke,at,vt):xe(Ee,Le,Ge,Ue,Fe,Ke,at,vt)}function ae(Ee,Fe,Le,Ue,Ge,Ke,at){var st,vt,xt,gt,nt=!1,et=function(){nt=ye(Ee,[st,vt,xt],[-1,-1,-1],Ge,Ke)||nt,nt=ye(Ee,[xt,gt,st],[-1,-1,-1],Ge,Ke)||nt},At=at[0],Pt=at[1],Rt=at[2];return At&&(st=Q(ve([V(Fe,Le-0,Ue-0)])[0],ve([V(Fe-1,Le-0,Ue-0)])[0],At),vt=Q(ve([V(Fe,Le-0,Ue-1)])[0],ve([V(Fe-1,Le-0,Ue-1)])[0],At),xt=Q(ve([V(Fe,Le-1,Ue-1)])[0],ve([V(Fe-1,Le-1,Ue-1)])[0],At),gt=Q(ve([V(Fe,Le-1,Ue-0)])[0],ve([V(Fe-1,Le-1,Ue-0)])[0],At),et()),Pt&&(st=Q(ve([V(Fe-0,Le,Ue-0)])[0],ve([V(Fe-0,Le-1,Ue-0)])[0],Pt),vt=Q(ve([V(Fe-0,Le,Ue-1)])[0],ve([V(Fe-0,Le-1,Ue-1)])[0],Pt),xt=Q(ve([V(Fe-1,Le,Ue-1)])[0],ve([V(Fe-1,Le-1,Ue-1)])[0],Pt),gt=Q(ve([V(Fe-1,Le,Ue-0)])[0],ve([V(Fe-1,Le-1,Ue-0)])[0],Pt),et()),Rt&&(st=Q(ve([V(Fe-0,Le-0,Ue)])[0],ve([V(Fe-0,Le-0,Ue-1)])[0],Rt),vt=Q(ve([V(Fe-0,Le-1,Ue)])[0],ve([V(Fe-0,Le-1,Ue-1)])[0],Rt),xt=Q(ve([V(Fe-1,Le-1,Ue)])[0],ve([V(Fe-1,Le-1,Ue-1)])[0],Rt),gt=Q(ve([V(Fe-1,Le-0,Ue)])[0],ve([V(Fe-1,Le-0,Ue-1)])[0],Rt),et()),nt}function pe(Ee,Fe,Le,Ue,Ge,Ke,at,st,vt,xt,gt,nt){var et=Ee;return nt?(d&&Ee==="even"&&(et=null),Ie(et,Fe,Le,Ue,Ge,Ke,at,st,vt,xt,gt)):(d&&Ee==="odd"&&(et=null),Ie(et,vt,st,at,Ke,Ge,Ue,Le,Fe,xt,gt))}function De(Ee,Fe,Le,Ue,Ge){for(var Ke=[],at=0,st=0;st<Fe.length;st++)for(var vt=Fe[st],xt=1;xt<q;xt++)for(var gt=1;gt<z;gt++)Ke.push(ue(Ee,V(vt,gt-1,xt-1),V(vt,gt-1,xt),V(vt,gt,xt-1),V(vt,gt,xt),Le,Ue,(vt+gt+xt)%2,Ge&&Ge[at]?Ge[at]:[])),at++;return Ke}function Te(Ee,Fe,Le,Ue,Ge){for(var Ke=[],at=0,st=0;st<Fe.length;st++)for(var vt=Fe[st],xt=1;xt<R;xt++)for(var gt=1;gt<q;gt++)Ke.push(ue(Ee,V(xt-1,vt,gt-1),V(xt,vt,gt-1),V(xt-1,vt,gt),V(xt,vt,gt),Le,Ue,(xt+vt+gt)%2,Ge&&Ge[at]?Ge[at]:[])),at++;return Ke}function Ae(Ee,Fe,Le,Ue,Ge){for(var Ke=[],at=0,st=0;st<Fe.length;st++)for(var vt=Fe[st],xt=1;xt<z;xt++)for(var gt=1;gt<R;gt++)Ke.push(ue(Ee,V(gt-1,xt-1,vt),V(gt-1,xt,vt),V(gt,xt-1,vt),V(gt,xt,vt),Le,Ue,(gt+xt+vt)%2,Ge&&Ge[at]?Ge[at]:[])),at++;return Ke}function Ce(Ee,Fe,Le){for(var Ue=1;Ue<q;Ue++)for(var Ge=1;Ge<z;Ge++)for(var Ke=1;Ke<R;Ke++)pe(Ee,V(Ke-1,Ge-1,Ue-1),V(Ke-1,Ge-1,Ue),V(Ke-1,Ge,Ue-1),V(Ke-1,Ge,Ue),V(Ke,Ge-1,Ue-1),V(Ke,Ge-1,Ue),V(Ke,Ge,Ue-1),V(Ke,Ge,Ue),Fe,Le,(Ke+Ge+Ue)%2)}function Re(Ee,Fe,Le,Ue,Ge,Ke){for(var at=[],st=0,vt=0;vt<Fe.length;vt++)for(var xt=Fe[vt],gt=1;gt<q;gt++)for(var nt=1;nt<z;nt++)at.push(ae(Ee,xt,nt,gt,Le,Ue,Ge[vt],Ke&&Ke[st]&&Ke[st])),st++;return at}function Ne(Ee,Fe,Le,Ue,Ge,Ke){for(var at=[],st=0,vt=0;vt<Fe.length;vt++)for(var xt=Fe[vt],gt=1;gt<R;gt++)for(var nt=1;nt<q;nt++)at.push(ae(Ee,gt,xt,nt,Le,Ue,Ge[vt],Ke&&Ke[st]&&Ke[st])),st++;return at}function ge(Ee,Fe,Le,Ue,Ge,Ke){for(var at=[],st=0,vt=0;vt<Fe.length;vt++)for(var xt=Fe[vt],gt=1;gt<z;gt++)for(var nt=1;nt<R;nt++)at.push(ae(Ee,nt,gt,xt,Le,Ue,Ge[vt],Ke&&Ke[st]&&Ke[st])),st++;return at}function Me(Ee,Fe){for(var Le=[],Ue=Ee;Ue<Fe;Ue++)Le.push(Ue);return Le}return function(){ne(),function(){for(var vt=0;vt<R;vt++)for(var xt=0;xt<z;xt++)for(var gt=0;gt<q;gt++){var nt=V(vt,xt,gt);ee(a._x[nt],a._y[nt],a._z[nt],a._value[nt])}}();var Ee=null;if(T&&A&&(X(A),C=!0,Ce(Ee,H,Y),C=!1),m&&_){X(_);for(var Fe=a.surface.pattern,Le=a.surface.count,Ue=0;Ue<Le;Ue++){var Ge=Le===1?.5:Ue/(Le-1),Ke=(1-Ge)*H+Ge*Y,at=Math.abs(Ke-Z)>Math.abs(Ke-j)?[Z,Ke]:[Ke,j];d=!0,Ce(Fe,at[0],at[1]),d=!1}}var st=[[Math.min(H,j),Math.max(H,j)],[Math.min(Z,Y),Math.max(Z,Y)]];["x","y","z"].forEach(function(vt){for(var xt=[],gt=0;gt<st.length;gt++){var nt=0,et=st[gt][0],At=st[gt][1],Pt=a.slices[vt];if(Pt.show&&Pt.fill){X(Pt.fill);var Rt=[],Et=[],Ye=[];if(Pt.locations.length)for(var Xe=0;Xe<Pt.locations.length;Xe++){var Ve=s(Pt.locations[Xe],vt==="x"?D:vt==="y"?O:L);Ve.distRatio===0?Rt.push(Ve.id):Ve.id>0&&(Et.push(Ve.id),vt==="x"?Ye.push([Ve.distRatio,0,0]):vt==="y"?Ye.push([0,Ve.distRatio,0]):Ye.push([0,0,Ve.distRatio]))}else Rt=Me(1,vt==="x"?R-1:vt==="y"?z-1:q-1);Et.length>0&&(xt[nt]=vt==="x"?Re(Ee,Et,et,At,Ye,xt[nt]):vt==="y"?Ne(Ee,Et,et,At,Ye,xt[nt]):ge(Ee,Et,et,At,Ye,xt[nt]),nt++),Rt.length>0&&(xt[nt]=vt==="x"?De(Ee,Rt,et,At,xt[nt]):vt==="y"?Te(Ee,Rt,et,At,xt[nt]):Ae(Ee,Rt,et,At,xt[nt]),nt++)}var Ze=a.caps[vt];Ze.show&&Ze.fill&&(X(Ze.fill),xt[nt]=vt==="x"?De(Ee,[0,R-1],et,At,xt[nt]):vt==="y"?Te(Ee,[0,z-1],et,At,xt[nt]):Ae(Ee,[0,q-1],et,At,xt[nt]),nt++)}}),k===0&&ne(),a._meshX=h,a._meshY=c,a._meshZ=w,a._meshIntensity=g,a._Xs=D,a._Ys=O,a._Zs=L}(),a}S.exports={findNearestOnAxis:s,generateIsoMeshes:i,createIsosurfaceTrace:function(a,l){var u=a.glplot.gl,h=p({gl:u}),c=new t(a,h,l.uid);return h._trace=c,c.update(l),a.glplot.add(h),c}}},70548:function(S,x,e){"use strict";var p=e(3400),y=e(24040),n=e(50048),M=e(27260);function b(f,s,t,o,r){var i=r("isomin"),a=r("isomax");a!=null&&i!=null&&i>a&&(s.isomin=null,s.isomax=null);var l=r("x"),u=r("y"),h=r("z"),c=r("value");l&&l.length&&u&&u.length&&h&&h.length&&c&&c.length?(y.getComponentMethod("calendars","handleTraceDefaults")(f,s,["x","y","z"],o),r("valuehoverformat"),["x","y","z"].forEach(function(w){r(w+"hoverformat");var g="caps."+w;r(g+".show")&&r(g+".fill");var v="slices."+w;r(v+".show")&&(r(v+".fill"),r(v+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){r(w)}),M(f,s,o,r,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}S.exports={supplyDefaults:function(f,s,t,o){b(f,s,0,o,function(r,i){return p.coerce(f,s,n,r,i)})},supplyIsoDefaults:b}},6296:function(S,x,e){"use strict";S.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(S,x,e){"use strict";var p=e(49084),y=e(29736).axisHoverFormat,n=e(21776).Ks,M=e(16716),b=e(45464),f=e(92880).extendFlat;S.exports=f({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:M.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:f({},M.contours.x.show,{}),color:M.contours.x.color,width:M.contours.x.width,editType:"calc"},lightposition:{x:f({},M.lightposition.x,{dflt:1e5}),y:f({},M.lightposition.y,{dflt:1e5}),z:f({},M.lightposition.z,{dflt:0}),editType:"calc"},lighting:f({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},M.lighting),hoverinfo:f({},b.hoverinfo,{editType:"calc"}),showlegend:f({},b.showlegend,{dflt:!1})})},1876:function(S,x,e){"use strict";var p=e(47128);S.exports=function(y,n){n.intensity&&p(y,n,{vals:n.intensity,containerStr:"",cLetter:"c"})}},576:function(S,x,e){"use strict";var p=e(67792).gl_mesh3d,y=e(67792).delaunay_triangulate,n=e(67792).alpha_shape,M=e(67792).convex_hull,b=e(33040).parseColorScale,f=e(3400).isArrayOrTypedArray,s=e(43080),t=e(8932).extractOpts,o=e(52094);function r(c,w,g){this.scene=c,this.uid=g,this.mesh=w,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var i=r.prototype;function a(c){for(var w=[],g=c.length,v=0;v<g;v++)w[v]=s(c[v]);return w}function l(c,w,g,v){for(var m=[],T=w.length,_=0;_<T;_++)m[_]=c.d2l(w[_],0,v)*g;return m}function u(c){for(var w=[],g=c.length,v=0;v<g;v++)w[v]=Math.round(c[v]);return w}function h(c,w){for(var g=c.length,v=0;v<g;v++)if(c[v]<=-.5||c[v]>=w-.5)return!1;return!0}i.handlePick=function(c){if(c.object===this.mesh){var w=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[w],this.data.y[w],this.data.z[w]];var g=this.data.hovertext||this.data.text;return f(g)&&g[w]!==void 0?c.textLabel=g[w]:g&&(c.textLabel=g),!0}},i.update=function(c){var w=this.scene,g=w.fullSceneLayout;this.data=c;var v,m=c.x.length,T=o(l(g.xaxis,c.x,w.dataScale[0],c.xcalendar),l(g.yaxis,c.y,w.dataScale[1],c.ycalendar),l(g.zaxis,c.z,w.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,m)||!h(c.j,m)||!h(c.k,m))return;v=o(u(c.i),u(c.j),u(c.k))}else v=c.alphahull===0?M(T):c.alphahull>0?n(c.alphahull,T):function(C,k){for(var D=["x","y","z"].indexOf(C),O=[],L=k.length,R=0;R<L;R++)O[R]=[k[R][(D+1)%3],k[R][(D+2)%3]];return y(O)}(c.delaunayaxis,T);var _={positions:T,cells:v,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:s(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var A=t(c);this.color="#fff";var d=c.intensitymode;_[d+"Intensity"]=c.intensity,_[d+"IntensityBounds"]=[A.min,A.max],_.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],_.vertexColors=a(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],_.cellColors=a(c.facecolor)):(this.color=c.color,_.meshColor=s(c.color));this.mesh.update(_)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},S.exports=function(c,w){var g=c.glplot.gl,v=p({gl:g}),m=new r(c,v,w.uid);return v._trace=m,m.update(w),c.glplot.add(v),m}},74212:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(27260),M=e(52948);S.exports=function(b,f,s,t){function o(i,a){return y.coerce(b,f,M,i,a)}function r(i){var a=i.map(function(l){var u=o(l);return u&&y.isArrayOrTypedArray(u)?u:null});return a.every(function(l){return l&&l.length===a[0].length})&&a}r(["x","y","z"])?(r(["i","j","k"]),(!f.i||f.j&&f.k)&&(!f.j||f.k&&f.i)&&(!f.k||f.i&&f.j)?(p.getComponentMethod("calendars","handleTraceDefaults")(b,f,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(i){o(i)}),o("contour.show")&&(o("contour.color"),o("contour.width")),"intensity"in b?(o("intensity"),o("intensitymode"),n(b,f,t,o,{prefix:"",cLetter:"c"})):(f.showscale=!1,"facecolor"in b?o("facecolor"):"vertexcolor"in b?o("vertexcolor"):o("color",s)),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),f._length=null):f.visible=!1):f.visible=!1}},7404:function(S,x,e){"use strict";S.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(S,x,e){"use strict";var p=e(3400).extendFlat,y=e(52904),n=e(29736).axisHoverFormat,M=e(98192).u,b=e(55756),f=e(48164),s=f.INCREASING.COLOR,t=f.DECREASING.COLOR,o=y.line;function r(i){return{line:{color:p({},o.color,{dflt:i}),width:o.width,dash:M,editType:"style"},editType:"style"}}S.exports={xperiod:y.xperiod,xperiod0:y.xperiod0,xperiodalignment:y.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},o.width,{}),dash:p({},M,{}),editType:"style"},increasing:r(s),decreasing:r(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:y.zorder}},42812:function(S,x,e){"use strict";var p=e(3400),y=p._,n=e(54460),M=e(1220),b=e(39032).BADNUM;function f(t,o,r,i){return{o:t,h:o,l:r,c:i}}function s(t,o,r,i,a,l){for(var u=a.makeCalcdata(o,"open"),h=a.makeCalcdata(o,"high"),c=a.makeCalcdata(o,"low"),w=a.makeCalcdata(o,"close"),g=p.isArrayOrTypedArray(o.text),v=p.isArrayOrTypedArray(o.hovertext),m=!0,T=null,_=!!o.xperiodalignment,A=[],d=0;d<i.length;d++){var C=i[d],k=u[d],D=h[d],O=c[d],L=w[d];if(C!==b&&k!==b&&D!==b&&O!==b&&L!==b){L===k?T!==null&&L!==T&&(m=L>T):m=L>k,T=L;var R=l(k,D,O,L);R.pos=C,R.yc=(k+L)/2,R.i=d,R.dir=m?"increasing":"decreasing",R.x=R.pos,R.y=[O,D],_&&(R.orig_p=r[d]),g&&(R.tx=o.text[d]),v&&(R.htx=o.hovertext[d]),A.push(R)}else A.push({pos:C,empty:!0})}return o._extremes[a._id]=n.findExtremes(a,p.concat(c,h),{padded:!0}),A.length&&(A[0].t={labels:{open:y(t,"open:")+" ",high:y(t,"high:")+" ",low:y(t,"low:")+" ",close:y(t,"close:")+" "}}),A}S.exports={calc:function(t,o){var r=n.getFromId(t,o.xaxis),i=n.getFromId(t,o.yaxis),a=function(w,g,v){var m=v._minDiff;if(!m){var T,_=w._fullData,A=[];for(m=1/0,T=0;T<_.length;T++){var d=_[T];if(d.type==="ohlc"&&d.visible===!0&&d.xaxis===g._id){A.push(d);var C=g.makeCalcdata(d,"x");d._origX=C;var k=M(v,g,"x",C).vals;d._xcalc=k;var D=p.distinctVals(k).minDiff;D&&isFinite(D)&&(m=Math.min(m,D))}}for(m===1/0&&(m=1),T=0;T<A.length;T++)A[T]._minDiff=m}return m*v.tickwidth}(t,r,o),l=o._minDiff;o._minDiff=null;var u=o._origX;o._origX=null;var h=o._xcalc;o._xcalc=null;var c=s(t,o,u,h,i,f);return o._extremes[r._id]=n.findExtremes(r,h,{vpad:l/2}),c.length?(p.extendFlat(c[0].t,{wHover:l/2,tickLen:a}),c):[{t:{empty:!0}}]},calcCommon:s}},23860:function(S,x,e){"use strict";var p=e(3400),y=e(52744),n=e(31147),M=e(20279);function b(f,s,t,o){t(o+".line.color"),t(o+".line.width",s.line.width),t(o+".line.dash",s.line.dash)}S.exports=function(f,s,t,o){function r(i,a){return p.coerce(f,s,M,i,a)}y(f,s,r,o)?(n(f,s,o,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),b(0,s,r,"increasing"),b(0,s,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),o._requestRangeslider[s.xaxis]=!0,r("zorder")):s.visible=!1}},18720:function(S,x,e){"use strict";var p=e(54460),y=e(3400),n=e(93024),M=e(76308),b=e(3400).fillText,f=e(48164),s={increasing:f.INCREASING.SYMBOL,decreasing:f.DECREASING.SYMBOL};function t(i,a,l,u){var h,c,w=i.cd,g=i.xa,v=w[0].trace,m=w[0].t,T=v.type,_=T==="ohlc"?"l":"min",A=T==="ohlc"?"h":"max",d=m.bPos||0,C=function(j){return j.pos+d-a},k=m.bdPos||m.tickLen,D=m.wHover,O=Math.min(1,k/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function L(j){var H=C(j);return n.inbox(H-D,H+D,h)}function R(j){var H=j[_],Y=j[A];return H===Y||n.inbox(H-l,Y-l,h)}function z(j){return(L(j)+R(j))/2}h=i.maxHoverDistance-O,c=i.maxSpikeDistance-O;var q=n.getDistanceFunction(u,L,R,z);if(n.getClosest(w,q,i),i.index===!1)return null;var N=w[i.index];if(N.empty)return null;var V=v[N.dir],Z=V.line.color;return M.opacity(Z)&&V.line.width?i.color=Z:i.color=V.fillcolor,i.x0=g.c2p(N.pos+d-k,!0),i.x1=g.c2p(N.pos+d+k,!0),i.xLabelVal=N.orig_p!==void 0?N.orig_p:N.pos,i.spikeDistance=z(N)*c/h,i.xSpike=g.c2p(N.pos,!0),i}function o(i,a,l,u){var h=i.cd,c=i.ya,w=h[0].trace,g=h[0].t,v=[],m=t(i,a,l,u);if(!m)return[];var T=h[m.index].hi||w.hoverinfo,_=T.split("+");if(T!=="all"&&_.indexOf("y")===-1)return[];for(var A=["high","open","close","low"],d={},C=0;C<A.length;C++){var k,D=A[C],O=w[D][m.index],L=c.c2p(O,!0);O in d?(k=d[O]).yLabel+="<br>"+g.labels[D]+p.hoverLabelText(c,O,w.yhoverformat):((k=y.extendFlat({},m)).y0=k.y1=L,k.yLabelVal=O,k.yLabel=g.labels[D]+p.hoverLabelText(c,O,w.yhoverformat),k.name="",v.push(k),d[O]=k)}return v}function r(i,a,l,u){var h=i.cd,c=i.ya,w=h[0].trace,g=h[0].t,v=t(i,a,l,u);if(!v)return[];var m=h[v.index],T=v.index=m.i,_=m.dir;function A(R){return g.labels[R]+p.hoverLabelText(c,w[R][T],w.yhoverformat)}var d=m.hi||w.hoverinfo,C=d.split("+"),k=d==="all",D=k||C.indexOf("y")!==-1,O=k||C.indexOf("text")!==-1,L=D?[A("open"),A("high"),A("low"),A("close")+"  "+s[_]]:[];return O&&b(m,w,L),v.extraText=L.join("<br>"),v.y0=v.y1=c.c2p(m.yc,!0),[v]}S.exports={hoverPoints:function(i,a,l,u){return i.cd[0].trace.hoverlabel.split?o(i,a,l,u):r(i,a,l,u)},hoverSplit:o,hoverOnPoints:r}},65456:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(S,x,e){"use strict";var p=e(24040),y=e(3400);S.exports=function(n,M,b,f){var s=b("x"),t=b("open"),o=b("high"),r=b("low"),i=b("close");if(b("hoverlabel.split"),p.getComponentMethod("calendars","handleTraceDefaults")(n,M,["x"],f),t&&o&&r&&i){var a=Math.min(t.length,o.length,r.length,i.length);return s&&(a=Math.min(a,y.minRowLength(s))),M._length=a,a}}},36664:function(S,x,e){"use strict";var p=e(33428),y=e(3400);S.exports=function(n,M,b,f){var s=M.yaxis,t=M.xaxis,o=!!t.rangebreaks;y.makeTraceGroups(f,b,"trace ohlc").each(function(r){var i=p.select(this),a=r[0],l=a.t;if(a.trace.visible!==!0||l.empty)i.remove();else{var u=l.tickLen,h=i.selectAll("path").data(y.identity);h.enter().append("path"),h.exit().remove(),h.attr("d",function(c){if(c.empty)return"M0,0Z";var w=t.c2p(c.pos-u,!0),g=t.c2p(c.pos+u,!0),v=o?(w+g)/2:t.c2p(c.pos,!0);return"M"+w+","+s.c2p(c.o,!0)+"H"+v+"M"+v+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+g+","+s.c2p(c.c,!0)+"H"+v})}})}},97384:function(S){"use strict";S.exports=function(x,e){var p,y=x.cd,n=x.xaxis,M=x.yaxis,b=[],f=y[0].t.bPos||0;if(e===!1)for(p=0;p<y.length;p++)y[p].selected=0;else for(p=0;p<y.length;p++){var s=y[p];e.contains([n.c2p(s.pos+f),M.c2p(s.yc)],null,s.i,x)?(b.push({pointNumber:s.i,x:n.c2d(s.pos),y:M.c2d(s.yc)}),s.selected=1):s.selected=0}return b}},14008:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(76308);S.exports=function(M,b,f){var s=f||p.select(M).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var o=t[0].trace;p.select(this).selectAll("path").each(function(r){if(!r.empty){var i=o[r.dir].line;p.select(this).style("fill","none").call(n.stroke,i.color).call(y.dashLine,i.dash,i.width).style("opacity",o.selectedpoints&&!r.selected?.3:1)}})})}},72140:function(S,x,e){"use strict";var p=e(92880).extendFlat,y=e(45464),n=e(25376),M=e(49084),b=e(21776).Ks,f=e(86968).u,s=p({editType:"calc"},M("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});S.exports={domain:f({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},y.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(S,x,e){"use strict";var p=e(84888)._M,y=e(60268),n="parcats";x.name=n,x.plot=function(M,b,f,s){var t=p(M.calcdata,n);if(t.length){var o=t[0];y(M,o,f,s)}},x.clean=function(M,b,f,s){var t=s._has&&s._has("parcats"),o=b._has&&b._has("parcats");t&&!o&&s._paperdiv.selectAll(".parcats").remove()}},69136:function(S,x,e){"use strict";var p=e(71688).wrap,y=e(94288).hasColorscale,n=e(47128),M=e(68944),b=e(43616),f=e(3400),s=e(38248);function t(i,a,l){i.valueInds.push(a),i.count+=l}function o(i,a,l){return{categoryInds:i,color:a,rawColor:l,valueInds:[],count:0}}function r(i,a,l){i.valueInds.push(a),i.count+=l}S.exports=function(i,a){var l=f.filterVisible(a.dimensions);if(l.length===0)return[];var u,h,c,w=l.map(function(Y){var ie;if(Y.categoryorder==="trace")ie=null;else if(Y.categoryorder==="array")ie=Y.categoryarray;else{ie=M(Y.values);for(var re=!0,ne=0;ne<ie.length;ne++)if(!s(ie[ne])){re=!1;break}ie.sort(re?f.sorterAsc:void 0),Y.categoryorder==="category descending"&&(ie=ie.reverse())}return function(ee,Q){Q=Q==null?[]:Q.map(function(ve){return ve});var X={},se={},ce=[];Q.forEach(function(ve,me){X[ve]=0,se[ve]=me});for(var le=0;le<ee.length;le++){var de,be=ee[le];X[be]===void 0?(X[be]=1,de=Q.push(be)-1,se[be]=de):(X[be]++,de=se[be]),ce.push(de)}var _e=Q.map(function(ve){return X[ve]});return{uniqueValues:Q,uniqueCounts:_e,inds:ce}}(Y.values,ie)});u=f.isArrayOrTypedArray(a.counts)?a.counts:[a.counts],function(Y){var ie,re=Y.map(function(ne){return ne.displayindex});if(function(ne){for(var ee=new Array(ne.length),Q=0;Q<ne.length;Q++){if(ne[Q]<0||ne[Q]>=ne.length||ee[ne[Q]]!==void 0)return!1;ee[ne[Q]]=!0}return!0}(re))for(ie=0;ie<Y.length;ie++)Y[ie]._displayindex=Y[ie].displayindex;else for(ie=0;ie<Y.length;ie++)Y[ie]._displayindex=ie}(l),l.forEach(function(Y,ie){(function(re,ne){re._categoryarray=ne.uniqueValues,re.ticktext===null||re.ticktext===void 0?re._ticktext=[]:re._ticktext=re.ticktext.slice();for(var ee=re._ticktext.length;ee<ne.uniqueValues.length;ee++)re._ticktext.push(ne.uniqueValues[ee])})(Y,w[ie])});var g,v=a.line;v?(y(a,"line")&&n(i,a,{vals:a.line.color,containerStr:"line",cLetter:"c"}),g=b.tryColorscale(v)):g=f.identity;var m,T,_,A,d,C=l[0].values.length,k={},D=w.map(function(Y){return Y.inds});for(c=0,m=0;m<C;m++){var O=[];for(T=0;T<D.length;T++)O.push(D[T][m]);h=u[m%u.length],c+=h;var L=(_=m,A=void 0,d=void 0,f.isArrayOrTypedArray(v.color)?d=A=v.color[_%v.color.length]:A=v.color,{color:g(A),rawColor:d}),R=O+"-"+L.rawColor;k[R]===void 0&&(k[R]=o(O,L.color,L.rawColor)),r(k[R],m,h)}var z,q=l.map(function(Y,ie){return function(re,ne,ee,Q,X){return{dimensionInd:re,containerInd:ne,displayInd:ee,dimensionLabel:Q,count:X,categories:[],dragX:null}}(ie,Y._index,Y._displayindex,Y.label,c)});for(m=0;m<C;m++)for(h=u[m%u.length],T=0;T<q.length;T++){var N=q[T].containerInd,V=w[T].inds[m],Z=q[T].categories;if(Z[V]===void 0){var j=a.dimensions[N]._categoryarray[V],H=a.dimensions[N]._ticktext[V];Z[V]={dimensionInd:T,categoryInd:z=V,categoryValue:j,displayInd:z,categoryLabel:H,valueInds:[],count:0,dragY:null}}t(Z[V],m,h)}return p(function(Y,ie,re){var ne=Y.map(function(ee){return ee.categories.length}).reduce(function(ee,Q){return Math.max(ee,Q)});return{dimensions:Y,paths:ie,trace:void 0,maxCats:ne,count:re}}(q,k,c))}},76671:function(S,x,e){"use strict";var p=e(3400),y=e(94288).hasColorscale,n=e(27260),M=e(86968).Q,b=e(51272),f=e(72140),s=e(26284),t=e(38116).isTypedArraySpec;function o(r,i){function a(v,m){return p.coerce(r,i,f.dimensions,v,m)}var l=a("values"),u=a("visible");if(l&&l.length||(u=i.visible=!1),u){a("label"),a("displayindex",i._index);var h,c=r.categoryarray,w=p.isArrayOrTypedArray(c)&&c.length>0||t(c);w&&(h="array");var g=a("categoryorder",h);g==="array"?(a("categoryarray"),a("ticktext")):(delete r.categoryarray,delete r.ticktext),w||g!=="array"||(i.categoryorder="trace")}}S.exports=function(r,i,a,l){function u(g,v){return p.coerce(r,i,f,g,v)}var h=b(r,i,{name:"dimensions",handleItemDefaults:o}),c=function(g,v,m,T,_){_("line.shape"),_("line.hovertemplate");var A=_("line.color",T.colorway[0]);if(y(g,"line")&&p.isArrayOrTypedArray(A)){if(A.length)return _("line.colorscale"),n(g,v,T,_,{prefix:"line.",cLetter:"c"}),A.length;v.line.color=m}return 1/0}(r,i,a,l,u);M(i,l,u),Array.isArray(h)&&h.length||(i.visible=!1),s(i,h,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var w=l.font;p.coerceFont(u,"labelfont",w,{overrideDflt:{size:Math.round(w.size)}}),p.coerceFont(u,"tickfont",w,{autoShadowDflt:!0,overrideDflt:{size:Math.round(w.size/1.2)}})}},22020:function(S,x,e){"use strict";S.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(S,x,e){"use strict";var p=e(33428),y=e(67756).Gz,n=e(36424),M=e(93024),b=e(3400),f=b.strTranslate,s=e(43616),t=e(49760),o=e(72736);function r(re,ne,ee,Q){var X=ne._context.staticPlot,se=re.map(Z.bind(0,ne,ee)),ce=Q.selectAll("g.parcatslayer").data([null]);ce.enter().append("g").attr("class","parcatslayer").style("pointer-events",X?"none":"all");var le=ce.selectAll("g.trace.parcats").data(se,i),de=le.enter().append("g").attr("class","trace parcats");le.attr("transform",function(xe){return f(xe.x,xe.y)}),de.append("g").attr("class","paths");var be=le.select("g.paths").selectAll("path.path").data(function(xe){return xe.paths},i);be.attr("fill",function(xe){return xe.model.color});var _e=be.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(xe){return xe.model.color}).attr("fill-opacity",0);v(_e),be.attr("d",function(xe){return xe.svgD}),_e.empty()||be.sort(l),be.exit().remove(),be.on("mouseover",u).on("mouseout",h).on("click",g),de.append("g").attr("class","dimensions");var ve=le.select("g.dimensions").selectAll("g.dimension").data(function(xe){return xe.dimensions},i);ve.enter().append("g").attr("class","dimension"),ve.attr("transform",function(xe){return f(xe.x,0)}),ve.exit().remove();var me=ve.selectAll("g.category").data(function(xe){return xe.categories},i),ye=me.enter().append("g").attr("class","category");me.attr("transform",function(xe){return f(0,xe.y)}),ye.append("rect").attr("class","catrect").attr("pointer-events","none"),me.select("rect.catrect").attr("fill","none").attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}),T(ye);var Se=me.selectAll("rect.bandrect").data(function(xe){return xe.bands},i);Se.each(function(){b.raiseToTop(this)}),Se.attr("fill",function(xe){return xe.color});var Ie=Se.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);Se.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}).attr("cursor",function(xe){return xe.parcatsViewModel.arrangement==="fixed"?"default":xe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),_(Ie),Se.exit().remove(),ye.append("text").attr("class","catlabel").attr("pointer-events","none"),me.select("text.catlabel").attr("text-anchor",function(xe){return a(xe)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(xe){return a(xe)?xe.width+5:-5}).attr("y",function(xe){return xe.height/2}).text(function(xe){return xe.model.categoryLabel}).each(function(xe){s.font(p.select(this),xe.parcatsViewModel.categorylabelfont),o.convertToTspans(p.select(this),ne)}),ye.append("text").attr("class","dimlabel"),me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(xe){return xe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(xe){return xe.width/2}).attr("y",-5).text(function(xe,ue){return ue===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null}).each(function(xe){s.font(p.select(this),xe.parcatsViewModel.labelfont)}),me.selectAll("rect.bandrect").on("mouseover",D).on("mouseout",O),me.exit().remove(),ve.call(p.behavior.drag().origin(function(xe){return{x:xe.x,y:0}}).on("dragstart",L).on("drag",R).on("dragend",z)),le.each(function(xe){xe.traceSelection=p.select(this),xe.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),xe.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),le.exit().remove()}function i(re){return re.key}function a(re){var ne=re.parcatsViewModel.dimensions.length,ee=re.parcatsViewModel.dimensions[ne-1].model.dimensionInd;return re.model.dimensionInd===ee}function l(re,ne){return re.model.rawColor>ne.model.rawColor?1:re.model.rawColor<ne.model.rawColor?-1:0}function u(re){if(!re.parcatsViewModel.dragDimension&&re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),m(p.select(this));var ne=c(re),ee=w(re);if(re.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ne,event:p.event,constraints:ee}),re.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q,X,se,ce=p.mouse(this)[0],le=re.parcatsViewModel.graphDiv,de=re.parcatsViewModel.trace,be=le._fullLayout,_e=be._paperdiv.node().getBoundingClientRect(),ve=re.parcatsViewModel.graphDiv.getBoundingClientRect();for(se=0;se<re.leftXs.length-1;se++)if(re.leftXs[se]+re.dimWidths[se]-2<=ce&&ce<=re.leftXs[se+1]+2){var me=re.parcatsViewModel.dimensions[se],ye=re.parcatsViewModel.dimensions[se+1];Q=(me.x+me.width+ye.x)/2,X=(re.topYs[se]+re.topYs[se+1]+re.height)/2;break}var Se=re.parcatsViewModel.x+Q,Ie=re.parcatsViewModel.y+X,xe=t.mostReadable(re.model.color,["black","white"]),ue=re.model.count,ae=ue/re.parcatsViewModel.model.count,pe={countLabel:ue,probabilityLabel:ae.toFixed(3)},De=[];re.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&De.push(["Count:",pe.countLabel].join(" ")),re.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&De.push(["P:",pe.probabilityLabel].join(" "));var Te=De.join("<br>"),Ae=p.mouse(le)[0];M.loneHover({trace:de,x:Se-_e.left+ve.left,y:Ie-_e.top+ve.top,text:Te,color:re.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:xe,idealAlign:Ae<Se?"right":"left",hovertemplate:(de.line||{}).hovertemplate,hovertemplateLabels:pe,eventData:[{data:de._input,fullData:de,count:ue,probability:ae}]},{container:be._hoverlayer.node(),outerContainer:be._paper.node(),gd:le})}}}function h(re){if(!re.parcatsViewModel.dragDimension&&(v(p.select(this)),M.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),re.parcatsViewModel.pathSelection.sort(l),re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ne=c(re),ee=w(re);re.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ne,event:p.event,constraints:ee})}}function c(re){for(var ne=[],ee=q(re.parcatsViewModel),Q=0;Q<re.model.valueInds.length;Q++){var X=re.model.valueInds[Q];ne.push({curveNumber:ee,pointNumber:X})}return ne}function w(re){for(var ne={},ee=re.parcatsViewModel.model.dimensions,Q=0;Q<ee.length;Q++){var X=ee[Q],se=X.categories[re.model.categoryInds[Q]];ne[X.containerInd]=se.categoryValue}return re.model.rawColor!==void 0&&(ne.color=re.model.rawColor),ne}function g(re){if(re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ne=c(re),ee=w(re);re.parcatsViewModel.graphDiv.emit("plotly_click",{points:ne,event:p.event,constraints:ee})}}function v(re){re.attr("fill",function(ne){return ne.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function m(re){re.attr("fill-opacity",.8).attr("stroke",function(ne){return t.mostReadable(ne.model.color,["black","white"])}).attr("stroke-width",.3)}function T(re){re.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function _(re){re.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(re){var ne=re.parcatsViewModel.pathSelection,ee=re.categoryViewModel.model.dimensionInd,Q=re.categoryViewModel.model.categoryInd;return ne.filter(function(X){return X.model.categoryInds[ee]===Q&&X.model.color===re.color})}function d(re,ne,ee){var Q=p.select(re).datum(),X=Q.categoryViewModel.model,se=Q.parcatsViewModel.graphDiv,ce=p.select(re.parentNode).selectAll("rect.bandrect"),le=[];ce.each(function(be){A(be).each(function(_e){Array.prototype.push.apply(le,c(_e))})});var de={};de[X.dimensionInd]=X.categoryValue,se.emit(ne,{points:le,event:ee,constraints:de})}function C(re,ne,ee){var Q=p.select(re).datum(),X=Q.categoryViewModel.model,se=Q.parcatsViewModel.graphDiv,ce=A(Q),le=[];ce.each(function(be){Array.prototype.push.apply(le,c(be))});var de={};de[X.dimensionInd]=X.categoryValue,Q.rawColor!==void 0&&(de.color=Q.rawColor),se.emit(ne,{points:le,event:ee,constraints:de})}function k(re,ne,ee){re._fullLayout._calcInverseTransform(re);var Q,X,se=re._fullLayout._invScaleX,ce=re._fullLayout._invScaleY,le=p.select(ee.parentNode).select("rect.catrect"),de=le.node().getBoundingClientRect(),be=le.datum(),_e=be.parcatsViewModel,ve=_e.model.dimensions[be.model.dimensionInd],me=_e.trace,ye=de.top+de.height/2;_e.dimensions.length>1&&ve.displayInd===_e.dimensions.length-1?(Q=de.left,X="left"):(Q=de.left+de.width,X="right");var Se=be.model.count,Ie=be.model.categoryLabel,xe=Se/be.parcatsViewModel.model.count,ue={countLabel:Se,categoryLabel:Ie,probabilityLabel:xe.toFixed(3)},ae=[];be.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ae.push(["Count:",ue.countLabel].join(" ")),be.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ae.push(["P("+ue.categoryLabel+"):",ue.probabilityLabel].join(" "));var pe=ae.join("<br>");return{trace:me,x:se*(Q-ne.left),y:ce*(ye-ne.top),text:pe,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:X,hovertemplate:me.hovertemplate,hovertemplateLabels:ue,eventData:[{data:me._input,fullData:me,count:Se,category:Ie,probability:xe}]}}function D(re){if(!re.parcatsViewModel.dragDimension&&re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(p.mouse(this)[1]<-1)return;var ne,ee=re.parcatsViewModel.graphDiv,Q=ee._fullLayout,X=Q._paperdiv.node().getBoundingClientRect(),se=re.parcatsViewModel.hoveron,ce=this;se==="color"?(function(le){var de=p.select(le).datum(),be=A(de);m(be),be.each(function(){b.raiseToTop(this)}),p.select(le.parentNode).selectAll("rect.bandrect").filter(function(_e){return _e.color===de.color}).each(function(){b.raiseToTop(this),p.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(ce),C(ce,"plotly_hover",p.event)):(function(le){p.select(le.parentNode).selectAll("rect.bandrect").each(function(de){var be=A(de);m(be),be.each(function(){b.raiseToTop(this)})}),p.select(le.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ce),d(ce,"plotly_hover",p.event)),re.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(se==="category"?ne=k(ee,X,ce):se==="color"?ne=function(le,de,be){le._fullLayout._calcInverseTransform(le);var _e,ve,me=le._fullLayout._invScaleX,ye=le._fullLayout._invScaleY,Se=be.getBoundingClientRect(),Ie=p.select(be).datum(),xe=Ie.categoryViewModel,ue=xe.parcatsViewModel,ae=ue.model.dimensions[xe.model.dimensionInd],pe=ue.trace,De=Se.y+Se.height/2;ue.dimensions.length>1&&ae.displayInd===ue.dimensions.length-1?(_e=Se.left,ve="left"):(_e=Se.left+Se.width,ve="right");var Te=xe.model.categoryLabel,Ae=Ie.parcatsViewModel.model.count,Ce=0;Ie.categoryViewModel.bands.forEach(function(Ke){Ke.color===Ie.color&&(Ce+=Ke.count)});var Re=xe.model.count,Ne=0;ue.pathSelection.each(function(Ke){Ke.model.color===Ie.color&&(Ne+=Ke.model.count)});var ge=Ce/Ae,Me=Ce/Ne,Ee=Ce/Re,Fe={countLabel:Ce,categoryLabel:Te,probabilityLabel:ge.toFixed(3)},Le=[];xe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Le.push(["Count:",Fe.countLabel].join(" ")),xe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Le.push("P(color \u2229 "+Te+"): "+Fe.probabilityLabel),Le.push("P("+Te+" | color): "+Me.toFixed(3)),Le.push("P(color | "+Te+"): "+Ee.toFixed(3)));var Ue=Le.join("<br>"),Ge=t.mostReadable(Ie.color,["black","white"]);return{trace:pe,x:me*(_e-de.left),y:ye*(De-de.top),text:Ue,color:Ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ge,fontSize:10,idealAlign:ve,hovertemplate:pe.hovertemplate,hovertemplateLabels:Fe,eventData:[{data:pe._input,fullData:pe,category:Te,count:Ae,probability:ge,categorycount:Re,colorcount:Ne,bandcolorcount:Ce}]}}(ee,X,ce):se==="dimension"&&(ne=function(le,de,be){var _e=[];return p.select(be.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){_e.push(k(le,de,this))}),_e}(ee,X,ce)),ne&&M.loneHover(ne,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:ee}))}}function O(re){var ne=re.parcatsViewModel;ne.dragDimension||(v(ne.pathSelection),T(ne.dimensionSelection.selectAll("g.category")),_(ne.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),M.loneUnhover(ne.graphDiv._fullLayout._hoverlayer.node()),ne.pathSelection.sort(l),ne.hoverinfoItems.indexOf("skip")!==-1)||(re.parcatsViewModel.hoveron==="color"?C(this,"plotly_unhover",p.event):d(this,"plotly_unhover",p.event))}function L(re){re.parcatsViewModel.arrangement!=="fixed"&&(re.dragDimensionDisplayInd=re.model.displayInd,re.initialDragDimensionDisplayInds=re.parcatsViewModel.model.dimensions.map(function(ne){return ne.displayInd}),re.dragHasMoved=!1,re.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(ne){var ee=p.mouse(this)[0],Q=p.mouse(this)[1];-2<=ee&&ee<=ne.width+2&&-2<=Q&&Q<=ne.height+2&&(re.dragCategoryDisplayInd=ne.model.displayInd,re.initialDragCategoryDisplayInds=re.model.categories.map(function(X){return X.displayInd}),ne.model.dragY=ne.y,b.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(X){X.y<Q&&Q<=X.y+X.height&&(re.potentialClickBand=this)}))}),re.parcatsViewModel.dragDimension=re,M.loneUnhover(re.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function R(re){if(re.parcatsViewModel.arrangement!=="fixed"&&(re.dragHasMoved=!0,re.dragDimensionDisplayInd!==null)){var ne=re.dragDimensionDisplayInd,ee=ne-1,Q=ne+1,X=re.parcatsViewModel.dimensions[ne];if(re.dragCategoryDisplayInd!==null){var se=X.categories[re.dragCategoryDisplayInd];se.model.dragY+=p.event.dy;var ce=se.model.dragY,le=se.model.displayInd,de=X.categories,be=de[le-1],_e=de[le+1];be!==void 0&&ce<be.y+be.height/2&&(se.model.displayInd=be.model.displayInd,be.model.displayInd=le),_e!==void 0&&ce+se.height>_e.y+_e.height/2&&(se.model.displayInd=_e.model.displayInd,_e.model.displayInd=le),re.dragCategoryDisplayInd=se.model.displayInd}if(re.dragCategoryDisplayInd===null||re.parcatsViewModel.arrangement==="freeform"){X.model.dragX=p.event.x;var ve=re.parcatsViewModel.dimensions[ee],me=re.parcatsViewModel.dimensions[Q];ve!==void 0&&X.model.dragX<ve.x+ve.width&&(X.model.displayInd=ve.model.displayInd,ve.model.displayInd=ne),me!==void 0&&X.model.dragX+X.width>me.x&&(X.model.displayInd=me.model.displayInd,me.model.displayInd=re.dragDimensionDisplayInd),re.dragDimensionDisplayInd=X.model.displayInd}Y(re.parcatsViewModel),H(re.parcatsViewModel),V(re.parcatsViewModel),N(re.parcatsViewModel)}}function z(re){if(re.parcatsViewModel.arrangement!=="fixed"&&re.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var ne={},ee=q(re.parcatsViewModel),Q=re.parcatsViewModel.model.dimensions.map(function(_e){return _e.displayInd}),X=re.initialDragDimensionDisplayInds.some(function(_e,ve){return _e!==Q[ve]});X&&Q.forEach(function(_e,ve){var me=re.parcatsViewModel.model.dimensions[ve].containerInd;ne["dimensions["+me+"].displayindex"]=_e});var se=!1;if(re.dragCategoryDisplayInd!==null){var ce=re.model.categories.map(function(_e){return _e.displayInd});if(se=re.initialDragCategoryDisplayInds.some(function(_e,ve){return _e!==ce[ve]})){var le=re.model.categories.slice().sort(function(_e,ve){return _e.displayInd-ve.displayInd}),de=le.map(function(_e){return _e.categoryValue}),be=le.map(function(_e){return _e.categoryLabel});ne["dimensions["+re.model.containerInd+"].categoryarray"]=[de],ne["dimensions["+re.model.containerInd+"].ticktext"]=[be],ne["dimensions["+re.model.containerInd+"].categoryorder"]="array"}}re.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!re.dragHasMoved&&re.potentialClickBand&&(re.parcatsViewModel.hoveron==="color"?C(re.potentialClickBand,"plotly_click",p.event.sourceEvent):d(re.potentialClickBand,"plotly_click",p.event.sourceEvent)),re.model.dragX=null,re.dragCategoryDisplayInd!==null&&(re.parcatsViewModel.dimensions[re.dragDimensionDisplayInd].categories[re.dragCategoryDisplayInd].model.dragY=null,re.dragCategoryDisplayInd=null),re.dragDimensionDisplayInd=null,re.parcatsViewModel.dragDimension=null,re.dragHasMoved=null,re.potentialClickBand=null,Y(re.parcatsViewModel),H(re.parcatsViewModel),p.transition().duration(300).ease("cubic-in-out").each(function(){V(re.parcatsViewModel,!0),N(re.parcatsViewModel,!0)}).each("end",function(){(X||se)&&n.restyle(re.parcatsViewModel.graphDiv,ne,[ee])})}}function q(re){for(var ne,ee=re.graphDiv._fullData,Q=0;Q<ee.length;Q++)if(re.key===ee[Q].uid){ne=Q;break}return ne}function N(re,ne){var ee;ne===void 0&&(ne=!1),re.pathSelection.data(function(Q){return Q.paths},i),(ee=re.pathSelection,ne?ee.transition():ee).attr("d",function(Q){return Q.svgD})}function V(re,ne){function ee(ce){return ne?ce.transition():ce}ne===void 0&&(ne=!1),re.dimensionSelection.data(function(ce){return ce.dimensions},i);var Q=re.dimensionSelection.selectAll("g.category").data(function(ce){return ce.categories},i);ee(re.dimensionSelection).attr("transform",function(ce){return f(ce.x,0)}),ee(Q).attr("transform",function(ce){return f(0,ce.y)}),Q.select(".dimlabel").text(function(ce,le){return le===0?ce.parcatsViewModel.model.dimensions[ce.model.dimensionInd].dimensionLabel:null}),Q.select(".catlabel").attr("text-anchor",function(ce){return a(ce)?"start":"end"}).attr("x",function(ce){return a(ce)?ce.width+5:-5}).each(function(ce){var le,de;a(ce)?(le=ce.width+5,de="start"):(le=-5,de="end"),p.select(this).selectAll("tspan").attr("x",le).attr("text-anchor",de)});var X=Q.selectAll("rect.bandrect").data(function(ce){return ce.bands},i),se=X.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ce){return ce.color}).attr("fill-opacity",0);X.attr("fill",function(ce){return ce.color}).attr("width",function(ce){return ce.width}).attr("height",function(ce){return ce.height}).attr("y",function(ce){return ce.y}),_(se),X.each(function(){b.raiseToTop(this)}),X.exit().remove()}function Z(re,ne,ee){var Q,X=ee[0],se=ne.margin||{l:80,r:80,t:100,b:80},ce=X.trace,le=ce.domain,de=ne.width,be=ne.height,_e=Math.floor(de*(le.x[1]-le.x[0])),ve=Math.floor(be*(le.y[1]-le.y[0])),me=le.x[0]*de+se.l,ye=ne.height-le.y[1]*ne.height+se.t,Se=ce.line.shape;Q=ce.hoverinfo==="all"?["count","probability"]:(ce.hoverinfo||"").split("+");var Ie={trace:ce,key:ce.uid,model:X,x:me,y:ye,width:_e,height:ve,hoveron:ce.hoveron,hoverinfoItems:Q,arrangement:ce.arrangement,bundlecolors:ce.bundlecolors,sortpaths:ce.sortpaths,labelfont:ce.labelfont,categorylabelfont:ce.tickfont,pathShape:Se,dragDimension:null,margin:se,paths:[],dimensions:[],graphDiv:re,traceSelection:null,pathSelection:null,dimensionSelection:null};return X.dimensions&&(Y(Ie),H(Ie)),Ie}function j(re,ne,ee,Q,X){var se,ce,le=[],de=[];for(ce=0;ce<ee.length-1;ce++)se=y(ee[ce]+re[ce],re[ce+1]),le.push(se(X)),de.push(se(1-X));var be="M "+re[0]+","+ne[0];for(be+="l"+ee[0]+",0 ",ce=1;ce<ee.length;ce++)be+="C"+le[ce-1]+","+ne[ce-1]+" "+de[ce-1]+","+ne[ce]+" "+re[ce]+","+ne[ce],be+="l"+ee[ce]+",0 ";for(be+="l0,"+Q+" ",be+="l -"+ee[ee.length-1]+",0 ",ce=ee.length-2;ce>=0;ce--)be+="C"+de[ce]+","+(ne[ce+1]+Q)+" "+le[ce]+","+(ne[ce]+Q)+" "+(re[ce]+ee[ce])+","+(ne[ce]+Q),be+="l-"+ee[ce]+",0 ";return be+"Z"}function H(re){var ne=re.dimensions,ee=re.model,Q=ne.map(function(Fe){return Fe.categories.map(function(Le){return Le.y})}),X=re.model.dimensions.map(function(Fe){return Fe.categories.map(function(Le){return Le.displayInd})}),se=re.model.dimensions.map(function(Fe){return Fe.displayInd}),ce=re.dimensions.map(function(Fe){return Fe.model.dimensionInd}),le=ne.map(function(Fe){return Fe.x}),de=ne.map(function(Fe){return Fe.width}),be=[];for(var _e in ee.paths)ee.paths.hasOwnProperty(_e)&&be.push(ee.paths[_e]);function ve(Fe){var Le=Fe.categoryInds.map(function(Ue,Ge){return X[Ge][Ue]});return ce.map(function(Ue){return Le[Ue]})}be.sort(function(Fe,Le){var Ue=ve(Fe),Ge=ve(Le);return re.sortpaths==="backward"&&(Ue.reverse(),Ge.reverse()),Ue.push(Fe.valueInds[0]),Ge.push(Le.valueInds[0]),re.bundlecolors&&(Ue.unshift(Fe.rawColor),Ge.unshift(Le.rawColor)),Ue<Ge?-1:Ue>Ge?1:0});for(var me=new Array(be.length),ye=ne[0].model.count,Se=ne[0].categories.map(function(Fe){return Fe.height}).reduce(function(Fe,Le){return Fe+Le}),Ie=0;Ie<be.length;Ie++){var xe,ue=be[Ie];xe=ye>0?Se*(ue.count/ye):0;for(var ae,pe=new Array(Q.length),De=0;De<ue.categoryInds.length;De++){var Te=ue.categoryInds[De],Ae=X[De][Te],Ce=se[De];pe[Ce]=Q[Ce][Ae],Q[Ce][Ae]+=xe;var Re=re.dimensions[Ce].categories[Ae],Ne=Re.bands.length,ge=Re.bands[Ne-1];if(ge===void 0||ue.rawColor!==ge.rawColor){var Me=ge===void 0?0:ge.y+ge.height;Re.bands.push({key:Me,color:ue.color,rawColor:ue.rawColor,height:xe,width:Re.width,count:ue.count,y:Me,categoryViewModel:Re,parcatsViewModel:re})}else{var Ee=Re.bands[Ne-1];Ee.height+=xe,Ee.count+=ue.count}}ae=re.pathShape==="hspline"?j(le,pe,de,xe,.5):j(le,pe,de,xe,0),me[Ie]={key:ue.valueInds[0],model:ue,height:xe,leftXs:le,topYs:pe,dimWidths:de,svgD:ae,parcatsViewModel:re}}re.paths=me}function Y(re){var ne=re.model.dimensions.map(function(ce){return{displayInd:ce.displayInd,dimensionInd:ce.dimensionInd}});ne.sort(function(ce,le){return ce.displayInd-le.displayInd});var ee=[];for(var Q in ne){var X=ne[Q].dimensionInd,se=re.model.dimensions[X];ee.push(ie(re,se))}re.dimensions=ee}function ie(re,ne){var ee,Q=re.model.dimensions.length,X=ne.displayInd;ee=40+(Q>1?(re.width-80-16)/(Q-1):0)*X;var se,ce,le,de,be,_e=[],ve=re.model.maxCats,me=ne.categories.length,ye=ne.count,Se=re.height-8*(ve-1),Ie=8*(ve-me)/2,xe=ne.categories.map(function(ue){return{displayInd:ue.displayInd,categoryInd:ue.categoryInd}});for(xe.sort(function(ue,ae){return ue.displayInd-ae.displayInd}),be=0;be<me;be++)de=xe[be].categoryInd,ce=ne.categories[de],se=ye>0?ce.count/ye*Se:0,le={key:ce.valueInds[0],model:ce,width:16,height:se,y:ce.dragY!==null?ce.dragY:Ie,bands:[],parcatsViewModel:re},Ie=Ie+se+8,_e.push(le);return{key:ne.dimensionInd,x:ne.dragX!==null?ne.dragX:ee,y:0,width:16,model:ne,categories:_e,parcatsViewModel:re,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}S.exports=function(re,ne,ee,Q){r(ee,re,Q,ne)}},60268:function(S,x,e){"use strict";var p=e(51036);S.exports=function(y,n,M,b){var f=y._fullLayout,s=f._paper,t=f._size;p(y,s,n,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},M,b)}},82296:function(S,x,e){"use strict";var p=e(49084),y=e(94724),n=e(25376),M=e(86968).u,b=e(92880).extendFlat,f=e(31780).templatedArray;S.exports={domain:M({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({autoShadowDflt:!0,editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:f("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},y.tickvals,{editType:"plot"}),ticktext:b({},y.ticktext,{editType:"plot"}),tickformat:b({},y.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(S,x,e){"use strict";var p=e(30140),y=e(33428),n=e(71688).keyFun,M=e(71688).repeat,b=e(3400).sorterAsc,f=e(3400).strTranslate,s=p.bar.snapRatio;function t(k,D){return k*(1-s)+D*s}var o=p.bar.snapClose;function r(k,D){return k*(1-o)+D*o}function i(k,D,O,L){if(function(ie,re){for(var ne=0;ne<re.length;ne++)if(ie>=re[ne][0]&&ie<=re[ne][1])return!0;return!1}(O,L))return O;var R=k?-1:1,z=0,q=D.length-1;if(R<0){var N=z;z=q,q=N}for(var V=D[z],Z=V,j=z;R*j<R*q;j+=R){var H=j+R,Y=D[H];if(R*O<R*r(V,Y))return t(V,Z);if(R*O<R*Y||H===q)return t(Y,V);Z=V,V=Y}}function a(k){k.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function l(k){k.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(k){if(!k.brush.filterSpecified)return"0,"+k.height;for(var D,O,L,R=h(k.brush.filter.getConsolidated(),k.height),z=[0],q=R.length?R[0][0]:null,N=0;N<R.length;N++)O=(D=R[N])[1]-D[0],z.push(q),z.push(O),(L=N+1)<R.length&&(q=R[L][0]-D[1]);return z.push(k.height),z}function h(k,D){return k.map(function(O){return O.map(function(L){return Math.max(0,L*D)}).sort(b)})}function c(){y.select(document.body).style("cursor",null)}function w(k){k.attr("stroke-dasharray",u)}function g(k,D){var O=y.select(k).selectAll(".highlight, .highlight-shadow");w(D?O.transition().duration(p.bar.snapDuration).each("end",D):O)}function v(k,D){var O,L=k.brush,R=NaN,z={};if(L.filterSpecified){var q=k.height,N=L.filter.getConsolidated(),V=h(N,q),Z=NaN,j=NaN,H=NaN;for(O=0;O<=V.length;O++){var Y=V[O];if(Y&&Y[0]<=D&&D<=Y[1]){Z=O;break}if(j=O?O-1:NaN,Y&&Y[0]>D){H=O;break}}if(R=Z,isNaN(R)&&(R=isNaN(j)||isNaN(H)?isNaN(j)?H:j:D-V[j][1]<V[H][0]-D?j:H),!isNaN(R)){var ie=V[R],re=function(X,se){var ce=p.bar.handleHeight;if(!(se>X[1]+ce||se<X[0]-ce))return se>=.9*X[1]+.1*X[0]?"n":se<=.9*X[0]+.1*X[1]?"s":"ns"}(ie,D);re&&(z.interval=N[R],z.intervalPix=ie,z.region=re)}}if(k.ordinal&&!z.region){var ne=k.unitTickvals,ee=k.unitToPaddedPx.invert(D);for(O=0;O<ne.length;O++){var Q=[.25*ne[Math.max(O-1,0)]+.75*ne[O],.25*ne[Math.min(O+1,ne.length-1)]+.75*ne[O]];if(ee>=Q[0]&&ee<=Q[1]){z.clickableOrdinalRange=Q;break}}}return z}function m(k,D){y.event.sourceEvent.stopPropagation();var O=D.height-y.mouse(k)[1]-2*p.verticalPadding,L=D.brush.svgBrush;L.wasDragged=!0,L._dragging=!0,L.grabbingBar?L.newExtent=[O-L.grabPoint,O+L.barLength-L.grabPoint].map(D.unitToPaddedPx.invert):L.newExtent=[L.startExtent,D.unitToPaddedPx.invert(O)].sort(b),D.brush.filterSpecified=!0,L.extent=L.stayingIntervals.concat([L.newExtent]),L.brushCallback(D),g(k.parentNode)}function T(k,D){var O=v(D,D.height-y.mouse(k)[1]-2*p.verticalPadding),L="crosshair";O.clickableOrdinalRange?L="pointer":O.region&&(L=O.region+"-resize"),y.select(document.body).style("cursor",L)}function _(k){k.on("mousemove",function(D){y.event.preventDefault(),D.parent.inBrushDrag||T(this,D)}).on("mouseleave",function(D){D.parent.inBrushDrag||c()}).call(y.behavior.drag().on("dragstart",function(D){(function(O,L){y.event.sourceEvent.stopPropagation();var R=L.height-y.mouse(O)[1]-2*p.verticalPadding,z=L.unitToPaddedPx.invert(R),q=L.brush,N=v(L,R),V=N.interval,Z=q.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=N.region==="ns",Z.grabbingBar){var j=V.map(L.unitToPaddedPx);Z.grabPoint=R-j[0]-p.verticalPadding,Z.barLength=j[1]-j[0]}Z.clickableOrdinalRange=N.clickableOrdinalRange,Z.stayingIntervals=L.multiselect&&q.filterSpecified?q.filter.getConsolidated():[],V&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(H){return H[0]!==V[0]&&H[1]!==V[1]})),Z.startExtent=N.region?V[N.region==="s"?1:0]:z,L.parent.inBrushDrag=!0,Z.brushStartCallback()})(this,D)}).on("drag",function(D){m(this,D)}).on("dragend",function(D){(function(O,L){var R=L.brush,z=R.filter,q=R.svgBrush;q._dragging||(T(O,L),m(O,L),L.brush.svgBrush.wasDragged=!1),q._dragging=!1,y.event.sourceEvent.stopPropagation();var N=q.grabbingBar;if(q.grabbingBar=!1,q.grabLocation=void 0,L.parent.inBrushDrag=!1,c(),!q.wasDragged)return q.wasDragged=void 0,q.clickableOrdinalRange?R.filterSpecified&&L.multiselect?q.extent.push(q.clickableOrdinalRange):(q.extent=[q.clickableOrdinalRange],R.filterSpecified=!0):N?(q.extent=q.stayingIntervals,q.extent.length===0&&d(R)):d(R),q.brushCallback(L),g(O.parentNode),void q.brushEndCallback(R.filterSpecified?z.getConsolidated():[]);var V=function(){z.set(z.getConsolidated())};if(L.ordinal){var Z=L.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),q.newExtent=[i(0,Z,q.newExtent[0],q.stayingIntervals),i(1,Z,q.newExtent[1],q.stayingIntervals)];var j=q.newExtent[1]>q.newExtent[0];q.extent=q.stayingIntervals.concat(j?[q.newExtent]:[]),q.extent.length||d(R),q.brushCallback(L),j?g(O.parentNode,V):(V(),g(O.parentNode))}else V();q.brushEndCallback(R.filterSpecified?z.getConsolidated():[])})(this,D)}))}function A(k,D){return k[0]-D[0]}function d(k){k.filterSpecified=!1,k.svgBrush.extent=[[-1/0,1/0]]}function C(k){for(var D,O=k.slice(),L=[],R=O.shift();R;){for(D=R.slice();(R=O.shift())&&R[0]<=D[1];)D[1]=Math.max(D[1],R[1]);L.push(D)}return L.length===1&&L[0][0]>L[0][1]&&(L=[]),L}S.exports={makeBrush:function(k,D,O,L,R,z){var q,N=function(){var V,Z,j=[];return{set:function(H){(j=H.map(function(Y){return Y.slice().sort(b)}).sort(A)).length===1&&j[0][0]===-1/0&&j[0][1]===1/0&&(j=[[0,-1]]),V=C(j),Z=j.reduce(function(Y,ie){return[Math.min(Y[0],ie[0]),Math.max(Y[1],ie[1])]},[1/0,-1/0])},get:function(){return j.slice()},getConsolidated:function(){return V},getBounds:function(){return Z}}}();return N.set(O),{filter:N,filterSpecified:D,svgBrush:{extent:[],brushStartCallback:L,brushCallback:(q=R,function(V){var Z=V.brush,j=function(Y){return Y.svgBrush.extent.map(function(ie){return ie.slice()})}(Z),H=j.slice();Z.filter.set(H),q()}),brushEndCallback:z}}},ensureAxisBrush:function(k,D,O){var L=k.selectAll("."+p.cn.axisBrush).data(M,n);L.enter().append("g").classed(p.cn.axisBrush,!0),function(R,z,q){var N=q._context.staticPlot,V=R.selectAll(".background").data(M);V.enter().append("rect").classed("background",!0).call(a).call(l).style("pointer-events",N?"none":"auto").attr("transform",f(0,p.verticalPadding)),V.call(_).attr("height",function(H){return H.height-p.verticalPadding});var Z=R.selectAll(".highlight-shadow").data(M);Z.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",z).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),Z.attr("y1",function(H){return H.height}).call(w);var j=R.selectAll(".highlight").data(M);j.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),j.attr("y1",function(H){return H.height}).call(w)}(L,D,O)},cleanRanges:function(k,D){if(Array.isArray(k[0])?(k=k.map(function(L){return L.sort(b)}),k=D.multiselect?C(k.sort(A)):[k[0]]):k=[k.sort(b)],D.tickvals){var O=D.tickvals.slice().sort(b);if(!(k=k.map(function(L){var R=[i(0,O,L[0],[]),i(1,O,L[1],[])];if(R[1]>R[0])return R}).filter(function(L){return L})).length)return}return k.length>1?k:k[0]}}},61664:function(S,x,e){"use strict";S.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(S,x,e){"use strict";var p=e(33428),y=e(84888)._M,n=e(24196),M=e(9616);x.name="parcoords",x.plot=function(b){var f=y(b.calcdata,"parcoords")[0];f.length&&n(b,f)},x.clean=function(b,f,s,t){var o=t._has&&t._has("parcoords"),r=f._has&&f._has("parcoords");o&&!r&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},x.toSVG=function(b){var f=b._fullLayout._glimages,s=p.select(b).selectAll(".svg-container");s.filter(function(t,o){return o===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,o=t.toDataURL("image/png");f.append("svg:image").attr({xmlns:M.svg,"xlink:href":o,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(S,x,e){"use strict";var p=e(3400).isArrayOrTypedArray,y=e(8932),n=e(71688).wrap;S.exports=function(M,b){var f,s;return y.hasColorscale(b,"line")&&p(b.line.color)?(f=b.line.color,s=y.extractOpts(b.line).colorscale,y.calc(M,b,{vals:f,containerStr:"line",cLetter:"c"})):(f=function(t){for(var o=new Array(t),r=0;r<t;r++)o[r]=.5;return o}(b._length),s=[[0,b.line.color],[1,b.line.color]]),n({lineColor:f,cscale:s})}},30140:function(S){"use strict";S.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(S,x,e){"use strict";var p=e(3400),y=e(94288).hasColorscale,n=e(27260),M=e(86968).Q,b=e(51272),f=e(54460),s=e(82296),t=e(71864),o=e(30140).maxDimensionCount,r=e(26284);function i(a,l,u,h){function c(T,_){return p.coerce(a,l,s.dimensions,T,_)}var w=c("values"),g=c("visible");if(w&&w.length||(g=l.visible=!1),g){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var v=c("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:v},f.setConvert(l._ax,h.layout),c("multiselect");var m=c("constraintrange");m&&(l.constraintrange=t.cleanRanges(m,l))}}S.exports=function(a,l,u,h){function c(T,_){return p.coerce(a,l,s,T,_)}var w=a.dimensions;Array.isArray(w)&&w.length>o&&(p.log("parcoords traces support up to "+o+" dimensions at the moment"),w.splice(o));var g=b(a,l,{name:"dimensions",layout:h,handleItemDefaults:i}),v=function(T,_,A,d,C){var k=C("line.color",A);if(y(T,"line")&&p.isArrayOrTypedArray(k)){if(k.length)return C("line.colorscale"),n(T,_,d,C,{prefix:"line.",cLetter:"c"}),k.length;_.line.color=A}return 1/0}(a,l,u,h,c);M(l,h,c),Array.isArray(g)&&g.length||(l.visible=!1),r(l,g,"values",v);var m=p.extendFlat({},h.font,{size:Math.round(h.font.size/1.2)});p.coerceFont(c,"labelfont",m),p.coerceFont(c,"tickfont",m,{autoShadowDflt:!0}),p.coerceFont(c,"rangefont",m),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(S,x,e){"use strict";var p=e(3400).isTypedArray;x.convertTypedArray=function(y){return p(y)?Array.prototype.slice.call(y):y},x.isOrdinal=function(y){return!!y.tickvals},x.isVisible=function(y){return y.visible||!("visible"in y)}},29928:function(S,x,e){"use strict";var p=e(61664);p.plot=e(24196),S.exports=p},51352:function(S,x,e){"use strict";var p=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),y=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),n=e(30140).maxDimensionCount,M=e(3400),b=1e-6,f=new Uint8Array(4),s=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function o(g,v,m,T,_){var A=g._gl;A.enable(A.SCISSOR_TEST),A.scissor(v,m,T,_),g.clear({color:[0,0,0,0],depth:1})}function r(g,v,m,T,_,A){var d=A.key;m.drawCompleted||(function(C){C.read({x:0,y:0,width:1,height:1,data:f})}(g),m.drawCompleted=!0),function C(k){var D=Math.min(T,_-k*T);k===0&&(window.cancelAnimationFrame(m.currentRafs[d]),delete m.currentRafs[d],o(g,A.scissorX,A.scissorY,A.scissorWidth,A.viewBoxSize[1])),m.clearOnly||(A.count=2*D,A.offset=2*k*T,v(A),k*T+D<_&&(m.currentRafs[d]=window.requestAnimationFrame(function(){C(k+1)})),m.drawCompleted=!1)}(0)}function i(g,v){for(var m=new Array(256),T=0;T<256;T++)m[T]=g(T/255).concat(v);return m}function a(g,v){return(g>>>8*v)%256/255}function l(g,v,m){for(var T=new Array(8*v),_=0,A=0;A<v;A++)for(var d=0;d<2;d++)for(var C=0;C<4;C++){var k=4*g+C,D=m[64*A+k];k===63&&d===0&&(D*=-1),T[_++]=D}return T}function u(g){var v="0"+g;return v.substr(v.length-2)}function h(g){return g<n?"p"+u(g+1)+"_"+u(g+4):"colors"}function c(g,v,m,T,_,A,d,C,k,D,O,L,R,z){for(var q=[[],[]],N=0;N<64;N++)q[0][N]=N===_?1:0,q[1][N]=N===A?1:0;d*=z,C*=z,k*=z,D*=z;var V=g.lines.canvasOverdrag*z,Z=g.domain,j=g.canvasWidth*z,H=g.canvasHeight*z,Y=g.pad.l*z,ie=g.pad.b*z,re=g.layoutHeight*z,ne=g.layoutWidth*z,ee=g.deselectedLines.color,Q=g.deselectedLines.opacity;return M.extendFlat({key:O,resolution:[j,H],viewBoxPos:[d+V,C],viewBoxSize:[k,D],i0:_,i1:A,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:L,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,Q!=="auto"?ee[3]*Q:Math.max(.00392156862745098,Math.pow(1/g.lines.color.length,.3333333333333333))],scissorX:(T===v?0:d+V)+(Y-V)+ne*Z.x[0],scissorWidth:(T===m?j-d+V:k+.5)+(T===v?d+V:0),scissorY:C+ie+re*Z.y[0],scissorHeight:D,viewportX:Y-V+ne*Z.x[0],viewportY:ie+re*Z.y[0],viewportWidth:j,viewportHeight:H},R)}function w(g){var v=2047,m=Math.max(0,Math.floor(g[0]*v),0),T=Math.min(v,Math.ceil(g[1]*v),v);return[Math.min(m,T),Math.max(m,T)]}S.exports=function(g,v){var m,T,_,A,d,C=v.context,k=v.pick,D=v.regl,O=D._gl,L=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),R=Math.max(L[0],Math.min(L[1],v.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},q=function(H){for(var Y={},ie=0;ie<=n;ie+=4)Y[h(ie)]=H.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return Y}(D),N=D.texture(t),V=[];j(v);var Z=D({profile:!1,blend:{enable:C,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!C,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:D.prop("scissorX"),y:D.prop("scissorY"),width:D.prop("scissorWidth"),height:D.prop("scissorHeight")}},viewport:{x:D.prop("viewportX"),y:D.prop("viewportY"),width:D.prop("viewportWidth"),height:D.prop("viewportHeight")},dither:!1,vert:p,frag:y,primitive:"lines",lineWidth:R,attributes:q,uniforms:{resolution:D.prop("resolution"),viewBoxPos:D.prop("viewBoxPos"),viewBoxSize:D.prop("viewBoxSize"),dim0A:D.prop("dim0A"),dim1A:D.prop("dim1A"),dim0B:D.prop("dim0B"),dim1B:D.prop("dim1B"),dim0C:D.prop("dim0C"),dim1C:D.prop("dim1C"),dim0D:D.prop("dim0D"),dim1D:D.prop("dim1D"),loA:D.prop("loA"),hiA:D.prop("hiA"),loB:D.prop("loB"),hiB:D.prop("hiB"),loC:D.prop("loC"),hiC:D.prop("hiC"),loD:D.prop("loD"),hiD:D.prop("hiD"),palette:N,contextColor:D.prop("contextColor"),maskTexture:D.prop("maskTexture"),drwLayer:D.prop("drwLayer"),maskHeight:D.prop("maskHeight")},offset:D.prop("offset"),count:D.prop("count")});function j(H){m=H.model,T=H.viewModel,_=T.dimensions.slice(),A=_[0]?_[0].values.length:0;var Y=m.lines,ie=k?Y.color.map(function(ne,ee){return ee/Y.color.length}):Y.color,re=function(ne,ee,Q){for(var X,se=new Array(ne*(n+4)),ce=0,le=0;le<ne;le++){for(var de=0;de<n;de++)se[ce++]=de<ee.length?ee[de].paddedUnitValues[le]:.5;se[ce++]=a(le,2),se[ce++]=a(le,1),se[ce++]=a(le,0),se[ce++]=(X=Q[le],Math.max(b,Math.min(.999999,X)))}return se}(A,_,ie);(function(ne,ee,Q){for(var X=0;X<=n;X+=4)ne[h(X)](l(X/4,ee,Q))})(q,A,re),C||k||(N=D.texture(M.extendFlat({data:i(m.unitToColor,255)},t)))}return{render:function(H,Y,ie){var re,ne,ee,Q=H.length,X=1/0,se=-1/0;for(re=0;re<Q;re++)H[re].dim0.canvasX<X&&(X=H[re].dim0.canvasX,ne=re),H[re].dim1.canvasX>se&&(se=H[re].dim1.canvasX,ee=re);Q===0&&o(D,0,0,m.canvasWidth,m.canvasHeight);var ce=function(xe){var ue,ae,pe,De=[[],[]];for(pe=0;pe<64;pe++){var Te=!xe&&pe<_.length?_[pe].brush.filter.getBounds():[-1/0,1/0];De[0][pe]=Te[0],De[1][pe]=Te[1]}var Ae=new Array(16384);for(ue=0;ue<16384;ue++)Ae[ue]=255;if(!xe)for(ue=0;ue<_.length;ue++){var Ce=ue%8,Re=(ue-Ce)/8,Ne=Math.pow(2,Ce),ge=_[ue].brush.filter.get();if(!(ge.length<2)){var Me=w(ge[0])[1];for(ae=1;ae<ge.length;ae++){var Ee=w(ge[ae]);for(pe=Me+1;pe<Ee[0];pe++)Ae[8*pe+Re]&=~Ne;Me=Math.max(Me,Ee[1])}}}var Fe={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return d?d(Fe):d=D.texture(Fe),{maskTexture:d,maskHeight:2048,loA:De[0].slice(0,16),loB:De[0].slice(16,32),loC:De[0].slice(32,48),loD:De[0].slice(48,64),hiA:De[1].slice(0,16),hiB:De[1].slice(16,32),hiC:De[1].slice(32,48),hiD:De[1].slice(48,64)}}(C);for(re=0;re<Q;re++){var le=H[re],de=le.dim0.crossfilterDimensionIndex,be=le.dim1.crossfilterDimensionIndex,_e=le.canvasX,ve=le.canvasY,me=_e+le.panelSizeX,ye=le.plotGlPixelRatio;if(Y||!V[de]||V[de][0]!==_e||V[de][1]!==me){V[de]=[_e,me];var Se=c(m,ne,ee,re,de,be,_e,ve,le.panelSizeX,le.panelSizeY,le.dim0.crossfilterDimensionIndex,C?0:k?2:1,ce,ye);z.clearOnly=ie;var Ie=Y?m.lines.blockLineCount:A;r(D,Z,z,Ie,A,Se)}}},readPixel:function(H,Y){return D.read({x:H,y:Y,width:1,height:1,data:s}),s},readPixels:function(H,Y,ie,re){var ne=new Uint8Array(4*ie*re);return D.read({x:H,y:Y,width:ie,height:re,data:ne}),ne},destroy:function(){for(var H in g.style["pointer-events"]="none",N.destroy(),d&&d.destroy(),q)q[H].destroy()},update:j}}},26284:function(S){"use strict";S.exports=function(x,e,p,y){var n,M;for(y||(y=1/0),n=0;n<e.length;n++)(M=e[n]).visible&&(y=Math.min(y,M[p].length));for(y===1/0&&(y=0),x._length=y,n=0;n<e.length;n++)(M=e[n]).visible&&(M._length=y);return y}},36336:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=y.isArrayOrTypedArray,M=y.numberFormat,b=e(96824),f=e(54460),s=y.strRotate,t=y.strTranslate,o=e(72736),r=e(43616),i=e(8932),a=e(71688),l=a.keyFun,u=a.repeat,h=a.unwrap,c=e(95724),w=e(30140),g=e(71864),v=e(51352);function m(Z,j,H){return y.aggNums(Z,null,j,H)}function T(Z,j){return A(m(Math.min,Z,j),m(Math.max,Z,j))}function _(Z){var j=Z.range;return j?A(j[0],j[1]):T(Z.values,Z._length)}function A(Z,j){return!isNaN(Z)&&isFinite(Z)||(Z=0),!isNaN(j)&&isFinite(j)||(j=0),Z===j&&(Z===0?(Z-=1,j+=1):(Z*=.9,j*=1.1)),[Z,j]}function d(Z,j,H,Y,ie){var re,ne,ee=_(H);return Y?p.scale.ordinal().domain(Y.map((re=M(H.tickformat),ne=ie,ne?function(Q,X){var se=ne[X];return se??re(Q)}:re))).range(Y.map(function(Q){var X=(Q-ee[0])/(ee[1]-ee[0]);return Z-j+X*(2*j-Z)})):p.scale.linear().domain(ee).range([Z-j,j])}function C(Z){if(Z.tickvals){var j=_(Z);return p.scale.ordinal().domain(Z.tickvals).range(Z.tickvals.map(function(H){return(H-j[0])/(j[1]-j[0])}))}}function k(Z){var j=Z.map(function(ie){return ie[0]}),H=Z.map(function(ie){var re=b(ie[1]);return p.rgb("rgb("+re[0]+","+re[1]+","+re[2]+")")}),Y="rgb".split("").map(function(ie){return p.scale.linear().clamp(!0).domain(j).range(H.map((re=ie,function(ne){return ne[re]})));var re});return function(ie){return Y.map(function(re){return re(ie)})}}function D(Z){return Z.dimensions.some(function(j){return j.brush.filterSpecified})}function O(Z,j,H){var Y=h(j),ie=Y.trace,re=c.convertTypedArray(Y.lineColor),ne=ie.line,ee={color:b(ie.unselected.line.color),opacity:ie.unselected.line.opacity},Q=i.extractOpts(ne),X=Q.reversescale?i.flipScale(Y.cscale):Y.cscale,se=ie.domain,ce=ie.dimensions,le=Z.width,de=ie.labelangle,be=ie.labelside,_e=ie.labelfont,ve=ie.tickfont,me=ie.rangefont,ye=y.extendDeepNoArrays({},ne,{color:re.map(p.scale.linear().domain(_({values:re,range:[Q.min,Q.max],_length:ie._length}))),blockLineCount:w.blockLineCount,canvasOverdrag:w.overdrag*w.canvasPixelRatio}),Se=Math.floor(le*(se.x[1]-se.x[0])),Ie=Math.floor(Z.height*(se.y[1]-se.y[0])),xe=Z.margin||{l:80,r:80,t:100,b:80},ue=Se,ae=Ie;return{key:H,colCount:ce.filter(c.isVisible).length,dimensions:ce,tickDistance:w.tickDistance,unitToColor:k(X),lines:ye,deselectedLines:ee,labelAngle:de,labelSide:be,labelFont:_e,tickFont:ve,rangeFont:me,layoutWidth:le,layoutHeight:Z.height,domain:se,translateX:se.x[0]*le,translateY:Z.height-se.y[1]*Z.height,pad:xe,canvasWidth:ue*w.canvasPixelRatio+2*ye.canvasOverdrag,canvasHeight:ae*w.canvasPixelRatio,width:ue,height:ae,canvasPixelRatio:w.canvasPixelRatio}}function L(Z,j,H){var Y=H.width,ie=H.height,re=H.dimensions,ne=H.canvasPixelRatio,ee=function(le){return Y*le/Math.max(1,H.colCount-1)},Q=w.verticalPadding/ie,X=function(le,de){return p.scale.linear().range([de,le-de])}(ie,w.verticalPadding),se={key:H.key,xScale:ee,model:H,inBrushDrag:!1},ce={};return se.dimensions=re.filter(c.isVisible).map(function(le,de){var be=function(Ce,Re){return p.scale.linear().domain(_(Ce)).range([Re,1-Re])}(le,Q),_e=ce[le.label];ce[le.label]=(_e||0)+1;var ve=le.label+(_e?"__"+_e:""),me=le.constraintrange,ye=me&&me.length;ye&&!n(me[0])&&(me=[me]);var Se=ye?me.map(function(Ce){return Ce.map(be)}):[[-1/0,1/0]],Ie=le.values;Ie.length>le._length&&(Ie=Ie.slice(0,le._length));var xe,ue=le.tickvals;function ae(Ce,Re){return{val:Ce,text:xe[Re]}}function pe(Ce,Re){return Ce.val-Re.val}if(n(ue)&&ue.length){y.isTypedArray(ue)&&(ue=Array.from(ue)),xe=le.ticktext,n(xe)&&xe.length?xe.length>ue.length?xe=xe.slice(0,ue.length):ue.length>xe.length&&(ue=ue.slice(0,xe.length)):xe=ue.map(M(le.tickformat));for(var De=1;De<ue.length;De++)if(ue[De]<ue[De-1]){for(var Te=ue.map(ae).sort(pe),Ae=0;Ae<ue.length;Ae++)ue[Ae]=Te[Ae].val,xe[Ae]=Te[Ae].text;break}}else ue=void 0;return Ie=c.convertTypedArray(Ie),{key:ve,label:le.label,tickFormat:le.tickformat,tickvals:ue,ticktext:xe,ordinal:c.isOrdinal(le),multiselect:le.multiselect,xIndex:de,crossfilterDimensionIndex:de,visibleIndex:le._index,height:ie,values:Ie,paddedUnitValues:Ie.map(be),unitTickvals:ue&&ue.map(be),xScale:ee,x:ee(de),canvasX:ee(de)*ne,unitToPaddedPx:X,domainScale:d(ie,w.verticalPadding,le,ue,xe),ordinalScale:C(le),parent:se,model:H,brush:g.makeBrush(Z,ye,Se,function(){Z.linePickActive(!1)},function(){var Ce=se;Ce.focusLayer&&Ce.focusLayer.render(Ce.panels,!0);var Re=D(Ce);!Z.contextShown()&&Re?(Ce.contextLayer&&Ce.contextLayer.render(Ce.panels,!0),Z.contextShown(!0)):Z.contextShown()&&!Re&&(Ce.contextLayer&&Ce.contextLayer.render(Ce.panels,!0,!0),Z.contextShown(!1))},function(Ce){if(se.focusLayer.render(se.panels,!0),se.pickLayer&&se.pickLayer.render(se.panels,!0),Z.linePickActive(!0),j&&j.filterChanged){var Re=be.invert,Ne=Ce.map(function(ge){return ge.map(Re).sort(y.sorterAsc)}).sort(function(ge,Me){return ge[0]-Me[0]});j.filterChanged(se.key,le._index,Ne)}})}}),se}function R(Z){Z.classed(w.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(Z,j){var H=j==="top"?1:-1,Y=Z*Math.PI/180;return{dir:H,dx:Math.sin(Y),dy:Math.cos(Y),degrees:Z}}function q(Z,j,H){for(var Y=j.panels||(j.panels=[]),ie=Z.data(),re=0;re<ie.length-1;re++){var ne=Y[re]||(Y[re]={}),ee=ie[re],Q=ie[re+1];ne.dim0=ee,ne.dim1=Q,ne.canvasX=ee.canvasX,ne.panelSizeX=Q.canvasX-ee.canvasX,ne.panelSizeY=j.model.canvasHeight,ne.y=0,ne.canvasY=0,ne.plotGlPixelRatio=H}}function N(Z,j){return f.tickText(Z._ax,j,!1).text}function V(Z,j){if(Z.ordinal)return"";var H=Z.domainScale.domain(),Y=H[j?H.length-1:0];return N(Z.model.dimensions[Z.visibleIndex],Y)}S.exports=function(Z,j,H,Y){var ie=Z._context.staticPlot,re=Z._fullLayout,ne=re._toppaper,ee=re._glcontainer,Q=Z._context.plotGlPixelRatio,X=Z._fullLayout.paper_bgcolor;(function(Ce){for(var Re=0;Re<Ce.length;Re++)for(var Ne=0;Ne<Ce[Re].length;Ne++)for(var ge=Ce[Re][Ne].trace,Me=ge.dimensions,Ee=0;Ee<Me.length;Ee++){var Fe=Me[Ee].values,Le=Me[Ee]._ax;Le&&(Le.range?Le.range=A(Le.range[0],Le.range[1]):Le.range=T(Fe,ge._length),Le.dtick||(Le.dtick=.01*(Math.abs(Le.range[1]-Le.range[0])||1)),Le.tickformat=Me[Ee].tickformat,f.calcTicks(Le),Le.cleanRange())}})(j);var se,ce,le=(se=!0,ce=!1,{linePickActive:function(Ce){return arguments.length?se=!!Ce:se},contextShown:function(Ce){return arguments.length?ce=!!Ce:ce}}),de=j.filter(function(Ce){return h(Ce).trace.visible}).map(O.bind(0,H)).map(L.bind(0,le,Y));ee.each(function(Ce,Re){return y.extendFlat(Ce,de[Re])});var be=ee.selectAll(".gl-canvas").each(function(Ce){Ce.viewModel=de[0],Ce.viewModel.plotGlPixelRatio=Q,Ce.viewModel.paperColor=X,Ce.model=Ce.viewModel?Ce.viewModel.model:null}),_e=null;be.filter(function(Ce){return Ce.pick}).style("pointer-events",ie?"none":"auto").on("mousemove",function(Ce){if(le.linePickActive()&&Ce.lineLayer&&Y&&Y.hover){var Re=p.event,Ne=this.width,ge=this.height,Me=p.mouse(this),Ee=Me[0],Fe=Me[1];if(Ee<0||Fe<0||Ee>=Ne||Fe>=ge)return;var Le=Ce.lineLayer.readPixel(Ee,ge-1-Fe),Ue=Le[3]!==0,Ge=Ue?Le[2]+256*(Le[1]+256*Le[0]):null,Ke={x:Ee,y:Fe,clientX:Re.clientX,clientY:Re.clientY,dataIndex:Ce.model.key,curveNumber:Ge};Ge!==_e&&(Ue?Y.hover(Ke):Y.unhover&&Y.unhover(Ke),_e=Ge)}}),be.style("opacity",function(Ce){return Ce.pick?0:1}),ne.style("background","rgba(255, 255, 255, 0)");var ve=ne.selectAll("."+w.cn.parcoords).data(de,l);ve.exit().remove(),ve.enter().append("g").classed(w.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ve.attr("transform",function(Ce){return t(Ce.model.translateX,Ce.model.translateY)});var me=ve.selectAll("."+w.cn.parcoordsControlView).data(u,l);me.enter().append("g").classed(w.cn.parcoordsControlView,!0),me.attr("transform",function(Ce){return t(Ce.model.pad.l,Ce.model.pad.t)});var ye=me.selectAll("."+w.cn.yAxis).data(function(Ce){return Ce.dimensions},l);ye.enter().append("g").classed(w.cn.yAxis,!0),me.each(function(Ce){q(ye,Ce,Q)}),be.each(function(Ce){if(Ce.viewModel){!Ce.lineLayer||Y?Ce.lineLayer=v(this,Ce):Ce.lineLayer.update(Ce),(Ce.key||Ce.key===0)&&(Ce.viewModel[Ce.key]=Ce.lineLayer);var Re=!Ce.context||Y;Ce.lineLayer.render(Ce.viewModel.panels,Re)}}),ye.attr("transform",function(Ce){return t(Ce.xScale(Ce.xIndex),0)}),ye.call(p.behavior.drag().origin(function(Ce){return Ce}).on("drag",function(Ce){var Re=Ce.parent;le.linePickActive(!1),Ce.x=Math.max(-w.overdrag,Math.min(Ce.model.width+w.overdrag,p.event.x)),Ce.canvasX=Ce.x*Ce.model.canvasPixelRatio,ye.sort(function(Ne,ge){return Ne.x-ge.x}).each(function(Ne,ge){Ne.xIndex=ge,Ne.x=Ce===Ne?Ne.x:Ne.xScale(Ne.xIndex),Ne.canvasX=Ne.x*Ne.model.canvasPixelRatio}),q(ye,Re,Q),ye.filter(function(Ne){return Math.abs(Ce.xIndex-Ne.xIndex)!==0}).attr("transform",function(Ne){return t(Ne.xScale(Ne.xIndex),0)}),p.select(this).attr("transform",t(Ce.x,0)),ye.each(function(Ne,ge,Me){Me===Ce.parent.key&&(Re.dimensions[ge]=Ne)}),Re.contextLayer&&Re.contextLayer.render(Re.panels,!1,!D(Re)),Re.focusLayer.render&&Re.focusLayer.render(Re.panels)}).on("dragend",function(Ce){var Re=Ce.parent;Ce.x=Ce.xScale(Ce.xIndex),Ce.canvasX=Ce.x*Ce.model.canvasPixelRatio,q(ye,Re,Q),p.select(this).attr("transform",function(Ne){return t(Ne.x,0)}),Re.contextLayer&&Re.contextLayer.render(Re.panels,!1,!D(Re)),Re.focusLayer&&Re.focusLayer.render(Re.panels),Re.pickLayer&&Re.pickLayer.render(Re.panels,!0),le.linePickActive(!0),Y&&Y.axesMoved&&Y.axesMoved(Re.key,Re.dimensions.map(function(Ne){return Ne.crossfilterDimensionIndex}))})),ye.exit().remove();var Se=ye.selectAll("."+w.cn.axisOverlays).data(u,l);Se.enter().append("g").classed(w.cn.axisOverlays,!0),Se.selectAll("."+w.cn.axis).remove();var Ie=Se.selectAll("."+w.cn.axis).data(u,l);Ie.enter().append("g").classed(w.cn.axis,!0),Ie.each(function(Ce){var Re=Ce.model.height/Ce.model.tickDistance,Ne=Ce.domainScale,ge=Ne.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Re,Ce.tickFormat).tickValues(Ce.ordinal?ge:null).tickFormat(function(Me){return c.isOrdinal(Ce)?Me:N(Ce.model.dimensions[Ce.visibleIndex],Me)}).scale(Ne)),r.font(Ie.selectAll("text"),Ce.model.tickFont)}),Ie.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ie.selectAll("text").style("cursor","default");var xe=Se.selectAll("."+w.cn.axisHeading).data(u,l);xe.enter().append("g").classed(w.cn.axisHeading,!0);var ue=xe.selectAll("."+w.cn.axisTitle).data(u,l);ue.enter().append("text").classed(w.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",ie?"none":"auto"),ue.text(function(Ce){return Ce.label}).each(function(Ce){var Re=p.select(this);r.font(Re,Ce.model.labelFont),o.convertToTspans(Re,Z)}).attr("transform",function(Ce){var Re=z(Ce.model.labelAngle,Ce.model.labelSide),Ne=w.axisTitleOffset;return(Re.dir>0?"":t(0,2*Ne+Ce.model.height))+s(Re.degrees)+t(-Ne*Re.dx,-Ne*Re.dy)}).attr("text-anchor",function(Ce){var Re=z(Ce.model.labelAngle,Ce.model.labelSide);return 2*Math.abs(Re.dx)>Math.abs(Re.dy)?Re.dir*Re.dx<0?"start":"end":"middle"});var ae=Se.selectAll("."+w.cn.axisExtent).data(u,l);ae.enter().append("g").classed(w.cn.axisExtent,!0);var pe=ae.selectAll("."+w.cn.axisExtentTop).data(u,l);pe.enter().append("g").classed(w.cn.axisExtentTop,!0),pe.attr("transform",t(0,-w.axisExtentOffset));var De=pe.selectAll("."+w.cn.axisExtentTopText).data(u,l);De.enter().append("text").classed(w.cn.axisExtentTopText,!0).call(R),De.text(function(Ce){return V(Ce,!0)}).each(function(Ce){r.font(p.select(this),Ce.model.rangeFont)});var Te=ae.selectAll("."+w.cn.axisExtentBottom).data(u,l);Te.enter().append("g").classed(w.cn.axisExtentBottom,!0),Te.attr("transform",function(Ce){return t(0,Ce.model.height+w.axisExtentOffset)});var Ae=Te.selectAll("."+w.cn.axisExtentBottomText).data(u,l);Ae.enter().append("text").classed(w.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(R),Ae.text(function(Ce){return V(Ce,!1)}).each(function(Ce){r.font(p.select(this),Ce.model.rangeFont)}),g.ensureAxisBrush(Se,X,Z)}},24196:function(S,x,e){"use strict";var p=e(36336),y=e(5048),n=e(95724).isVisible,M={};function b(f,s,t){var o=s.indexOf(t),r=f.indexOf(o);return r===-1&&(r+=s.length),r}(S.exports=function(f,s){var t=f._fullLayout;if(y(f,[],M)){var o={},r={},i={},a={},l=t._size;s.forEach(function(u,h){var c=u[0].trace;i[h]=c.index;var w=a[h]=c._fullInput.index;o[h]=f.data[w].dimensions,r[h]=f.data[w].dimensions.slice()}),p(f,s,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,h,c){var w=r[u][h],g=c.map(function(d){return d.slice()}),v="dimensions["+h+"].constraintrange",m=t._tracePreGUI[f._fullData[i[u]]._fullInput.uid];if(m[v]===void 0){var T=w.constraintrange;m[v]=T||null}var _=f._fullData[i[u]].dimensions[h];g.length?(g.length===1&&(g=g[0]),w.constraintrange=g,_.constraintrange=g.slice(),g=[g]):(delete w.constraintrange,delete _.constraintrange,g=null);var A={};A[v]=g,f.emit("plotly_restyle",[A,[a[u]]])},hover:function(u){f.emit("plotly_hover",u)},unhover:function(u){f.emit("plotly_unhover",u)},axesMoved:function(u,h){var c=function(w,g){return function(v,m){return b(w,g,v)-b(w,g,m)}}(h,r[u].filter(n));o[u].sort(c),r[u].filter(function(w){return!n(w)}).sort(function(w){return r[u].indexOf(w)}).forEach(function(w){o[u].splice(o[u].indexOf(w),1),o[u].splice(r[u].indexOf(w),0,w)}),f.emit("plotly_restyle",[{dimensions:[o[u]]},[a[u]]])}})}}).reglPrecompiled=M},74996:function(S,x,e){"use strict";var p=e(45464),y=e(86968).u,n=e(25376),M=e(22548),b=e(21776).Ks,f=e(21776).Gw,s=e(92880).extendFlat,t=e(98192).c,o=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});S.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:M.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},o,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},o,{}),outsidetextfont:s({},o,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},o,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:y({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},o,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(S,x,e){"use strict";var p=e(7316);x.name="pie",x.plot=function(y,n,M,b){p.plotBasePlot(x.name,y,n,M,b)},x.clean=function(y,n,M,b){p.cleanBasePlot(x.name,y,n,M,b)}},45768:function(S,x,e){"use strict";var p=e(38248),y=e(49760),n=e(76308),M={};function b(s){return function(t,o){return!!t&&!!(t=y(t)).isValid()&&(t=n.addOpacity(t,t.getAlpha()),s[o]||(s[o]=t),t)}}function f(s,t){var o,r=JSON.stringify(s),i=t[r];if(!i){for(i=s.slice(),o=0;o<s.length;o++)i.push(y(s[o]).lighten(20).toHexString());for(o=0;o<s.length;o++)i.push(y(s[o]).darken(20).toHexString());t[r]=i}return i}S.exports={calc:function(s,t){var o,r,i=[],a=s._fullLayout,l=a.hiddenlabels||[],u=t.labels,h=t.marker.colors||[],c=t.values,w=t._length,g=t._hasValues&&w;if(t.dlabel)for(u=new Array(w),o=0;o<w;o++)u[o]=String(t.label0+o*t.dlabel);var v={},m=b(a["_"+t.type+"colormap"]),T=0,_=!1;for(o=0;o<w;o++){var A,d,C;if(g){if(A=c[o],!p(A))continue;A=+A}else A=1;(d=u[o])!==void 0&&d!==""||(d=o);var k=v[d=String(d)];k===void 0?(v[d]=i.length,(C=l.indexOf(d)!==-1)||(T+=A),i.push({v:A,label:d,color:m(h[o],d),i:o,pts:[o],hidden:C})):(_=!0,(r=i[k]).v+=A,r.pts.push(o),r.hidden||(T+=A),r.color===!1&&h[o]&&(r.color=m(h[o],d)))}return i=i.filter(function(D){return D.v>=0}),(t.type==="funnelarea"?_:t.sort)&&i.sort(function(D,O){return O.v-D.v}),i[0]&&(i[0].vTotal=T),i},crossTraceCalc:function(s,t){var o=(t||{}).type;o||(o="pie");var r=s._fullLayout,i=s.calcdata,a=r[o+"colorway"],l=r["_"+o+"colormap"];r["extend"+o+"colors"]&&(a=f(a,M));for(var u=0,h=0;h<i.length;h++){var c=i[h];if(c[0].trace.type===o)for(var w=0;w<c.length;w++){var g=c[w];g.color===!1&&(l[g.label]?g.color=l[g.label]:(l[g.label]=g.color=a[u%a.length],u++))}}},makePullColorFn:b,generateExtendedColors:f}},74174:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(74996),M=e(86968).Q,b=e(31508).handleText,f=e(3400).coercePattern;function s(o,r){var i=y.isArrayOrTypedArray(o),a=y.isArrayOrTypedArray(r),l=Math.min(i?o.length:1/0,a?r.length:1/0);if(isFinite(l)||(l=0),l&&a){for(var u,h=0;h<l;h++){var c=r[h];if(p(c)&&c>0){u=!0;break}}u||(l=0)}return{hasLabels:i,hasValues:a,len:l}}function t(o,r,i,a,l){a("marker.line.width")&&a("marker.line.color",l?void 0:i.paper_bgcolor);var u=a("marker.colors");f(a,"marker.pattern",u),o.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=o.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=i.paper_bgcolor)}S.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(o,r,i,a){function l(_,A){return y.coerce(o,r,n,_,A)}var u=s(l("labels"),l("values")),h=u.len;if(r._hasLabels=u.hasLabels,r._hasValues=u.hasValues,!r._hasLabels&&r._hasValues&&(l("label0"),l("dlabel")),h){r._length=h,t(o,r,a,l,!0),l("scalegroup");var c,w=l("text"),g=l("texttemplate");if(g||(c=l("textinfo",y.isArrayOrTypedArray(w)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),g||c&&c!=="none"){var v=l("textposition");b(o,r,a,l,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(v)||v==="auto"||v==="outside")&&l("automargin"),(v==="inside"||v==="auto"||Array.isArray(v))&&l("insidetextorientation")}else c==="none"&&l("textposition","none");M(r,a,l);var m=l("hole");if(l("title.text")){var T=l("title.position",m?"middle center":"top center");m||T!=="middle center"||(r.title.position="top center"),y.coerceFont(l,"title.font",a.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else r.visible=!1}}},53644:function(S,x,e){"use strict";var p=e(10624).appendArrayMultiPointValues;S.exports=function(y,n){var M={curveNumber:n.index,pointNumbers:y.pts,data:n._input,fullData:n,label:y.label,color:y.color,value:y.v,percent:y.percent,text:y.text,bbox:y.bbox,v:y.v};return y.pts.length===1&&(M.pointNumber=M.i=y.pts[0]),p(M,n,y.pts),n.type==="funnelarea"&&(delete M.v,delete M.i),M}},21552:function(S,x,e){"use strict";var p=e(43616),y=e(76308);S.exports=function(n,M,b,f){var s=b.marker.pattern;s&&s.shape?p.pointStyle(n,b,f,M):y.fill(n,M.color)}},69656:function(S,x,e){"use strict";var p=e(3400);function y(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}x.formatPiePercent=function(n,M){var b=y((100*n).toPrecision(3));return p.numSeparate(b,M)+"%"},x.formatPieValue=function(n,M){var b=y(n.toPrecision(10));return p.numSeparate(b,M)},x.getFirstFilled=function(n,M){if(p.isArrayOrTypedArray(n))for(var b=0;b<M.length;b++){var f=n[M[b]];if(f||f===0||f==="")return f}},x.castOption=function(n,M){return p.isArrayOrTypedArray(n)?x.getFirstFilled(n,M):n||void 0},x.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},75792:function(S,x,e){"use strict";S.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(S){"use strict";S.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(S,x,e){"use strict";var p=e(3400),y=e(85204);S.exports=function(n,M){function b(f,s){return p.coerce(n,M,y,f,s)}b("hiddenlabels"),b("piecolorway",M.colorway),b("extendpiecolors")}},37820:function(S,x,e){"use strict";var p=e(33428),y=e(7316),n=e(93024),M=e(76308),b=e(43616),f=e(3400),s=f.strScale,t=f.strTranslate,o=e(72736),r=e(82744),i=r.recordMinTextSize,a=r.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),h=e(53644),c=e(3400).isValidTextValue;function w(Z,j,H){var Y=H[0],ie=Y.cx,re=Y.cy,ne=Y.trace,ee=ne.type==="funnelarea";"_hasHoverLabel"in ne||(ne._hasHoverLabel=!1),"_hasHoverEvent"in ne||(ne._hasHoverEvent=!1),Z.on("mouseover",function(Q){var X=j._fullLayout,se=j._fullData[ne.index];if(!j._dragging&&X.hovermode!==!1){var ce=se.hoverinfo;if(Array.isArray(ce)&&(ce=n.castHoverinfo({hoverinfo:[u.castOption(ce,Q.pts)],_module:ne._module},X,0)),ce==="all"&&(ce="label+text+value+percent+name"),se.hovertemplate||ce!=="none"&&ce!=="skip"&&ce){var le=Q.rInscribed||0,de=ie+Q.pxmid[0]*(1-le),be=re+Q.pxmid[1]*(1-le),_e=X.separators,ve=[];if(ce&&ce.indexOf("label")!==-1&&ve.push(Q.label),Q.text=u.castOption(se.hovertext||se.text,Q.pts),ce&&ce.indexOf("text")!==-1){var me=Q.text;f.isValidTextValue(me)&&ve.push(me)}Q.value=Q.v,Q.valueLabel=u.formatPieValue(Q.v,_e),ce&&ce.indexOf("value")!==-1&&ve.push(Q.valueLabel),Q.percent=Q.v/Y.vTotal,Q.percentLabel=u.formatPiePercent(Q.percent,_e),ce&&ce.indexOf("percent")!==-1&&ve.push(Q.percentLabel);var ye=se.hoverlabel,Se=ye.font,Ie=[];n.loneHover({trace:ne,x0:de-le*Y.r,x1:de+le*Y.r,y:be,_x0:ee?ie+Q.TL[0]:de-le*Y.r,_x1:ee?ie+Q.TR[0]:de+le*Y.r,_y0:ee?re+Q.TL[1]:be-le*Y.r,_y1:ee?re+Q.BL[1]:be+le*Y.r,text:ve.join("<br>"),name:se.hovertemplate||ce.indexOf("name")!==-1?se.name:void 0,idealAlign:Q.pxmid[0]<0?"left":"right",color:u.castOption(ye.bgcolor,Q.pts)||Q.color,borderColor:u.castOption(ye.bordercolor,Q.pts),fontFamily:u.castOption(Se.family,Q.pts),fontSize:u.castOption(Se.size,Q.pts),fontColor:u.castOption(Se.color,Q.pts),nameLength:u.castOption(ye.namelength,Q.pts),textAlign:u.castOption(ye.align,Q.pts),hovertemplate:u.castOption(se.hovertemplate,Q.pts),hovertemplateLabels:Q,eventData:[h(Q,se)]},{container:X._hoverlayer.node(),outerContainer:X._paper.node(),gd:j,inOut_bbox:Ie}),Q.bbox=Ie[0],ne._hasHoverLabel=!0}ne._hasHoverEvent=!0,j.emit("plotly_hover",{points:[h(Q,se)],event:p.event})}}),Z.on("mouseout",function(Q){var X=j._fullLayout,se=j._fullData[ne.index],ce=p.select(this).datum();ne._hasHoverEvent&&(Q.originalEvent=p.event,j.emit("plotly_unhover",{points:[h(ce,se)],event:p.event}),ne._hasHoverEvent=!1),ne._hasHoverLabel&&(n.loneUnhover(X._hoverlayer.node()),ne._hasHoverLabel=!1)}),Z.on("click",function(Q){var X=j._fullLayout,se=j._fullData[ne.index];j._dragging||X.hovermode===!1||(j._hoverdata=[h(Q,se)],n.click(j,p.event))})}function g(Z,j,H){var Y=u.castOption(Z.insidetextfont.color,j.pts);!Y&&Z._input.textfont&&(Y=u.castOption(Z._input.textfont.color,j.pts));var ie=u.castOption(Z.insidetextfont.family,j.pts)||u.castOption(Z.textfont.family,j.pts)||H.family,re=u.castOption(Z.insidetextfont.size,j.pts)||u.castOption(Z.textfont.size,j.pts)||H.size,ne=u.castOption(Z.insidetextfont.weight,j.pts)||u.castOption(Z.textfont.weight,j.pts)||H.weight,ee=u.castOption(Z.insidetextfont.style,j.pts)||u.castOption(Z.textfont.style,j.pts)||H.style,Q=u.castOption(Z.insidetextfont.variant,j.pts)||u.castOption(Z.textfont.variant,j.pts)||H.variant,X=u.castOption(Z.insidetextfont.textcase,j.pts)||u.castOption(Z.textfont.textcase,j.pts)||H.textcase,se=u.castOption(Z.insidetextfont.lineposition,j.pts)||u.castOption(Z.textfont.lineposition,j.pts)||H.lineposition,ce=u.castOption(Z.insidetextfont.shadow,j.pts)||u.castOption(Z.textfont.shadow,j.pts)||H.shadow;return{color:Y||M.contrast(j.color),family:ie,size:re,weight:ne,style:ee,variant:Q,textcase:X,lineposition:se,shadow:ce}}function v(Z,j){for(var H,Y,ie=0;ie<Z.length;ie++)if((Y=(H=Z[ie][0]).trace).title.text){var re=Y.title.text;Y._meta&&(re=f.templateString(re,Y._meta));var ne=b.tester.append("text").attr("data-notex",1).text(re).call(b.font,Y.title.font).call(o.convertToTspans,j),ee=b.bBox(ne.node(),!0);H.titleBox={width:ee.width,height:ee.height},ne.remove()}}function m(Z,j,H){var Y=H.r||j.rpx1,ie=j.rInscribed;if(j.startangle===j.stopangle)return{rCenter:1-ie,scale:0,rotate:0,textPosAngle:0};var re,ne=j.ring,ee=ne===1&&Math.abs(j.startangle-j.stopangle)===2*Math.PI,Q=j.halfangle,X=j.midangle,se=H.trace.insidetextorientation,ce=se==="horizontal",le=se==="tangential",de=se==="radial",be=se==="auto",_e=[];if(!be){var ve,me=function(ae,pe){if(function(Ce,Re){var Ne=Ce.startangle,ge=Ce.stopangle;return Ne>Re&&Re>ge||Ne<Re&&Re<ge}(j,ae)){var De=Math.abs(ae-j.startangle),Te=Math.abs(ae-j.stopangle),Ae=De<Te?De:Te;(re=pe==="tan"?_(Z,Y,ne,Ae,0):T(Z,Y,ne,Ae,Math.PI/2)).textPosAngle=ae,_e.push(re)}};if(ce||le){for(ve=4;ve>=-4;ve-=2)me(Math.PI*ve,"tan");for(ve=4;ve>=-4;ve-=2)me(Math.PI*(ve+1),"tan")}if(ce||de){for(ve=4;ve>=-4;ve-=2)me(Math.PI*(ve+1.5),"rad");for(ve=4;ve>=-4;ve-=2)me(Math.PI*(ve+.5),"rad")}}if(ee||be||ce){var ye=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if((re={scale:ie*Y*2/ye,rCenter:1-ie,rotate:0}).textPosAngle=(j.startangle+j.stopangle)/2,re.scale>=1)return re;_e.push(re)}(be||de)&&((re=T(Z,Y,ne,Q,X)).textPosAngle=(j.startangle+j.stopangle)/2,_e.push(re)),(be||le)&&((re=_(Z,Y,ne,Q,X)).textPosAngle=(j.startangle+j.stopangle)/2,_e.push(re));for(var Se=0,Ie=0,xe=0;xe<_e.length;xe++){var ue=_e[xe].scale;if(Ie<ue&&(Ie=ue,Se=xe),!be&&Ie>=1)break}return _e[Se]}function T(Z,j,H,Y,ie){j=Math.max(0,j-2*l);var re=Z.width/Z.height,ne=C(re,Y,j,H);return{scale:2*ne/Z.height,rCenter:A(re,ne/j),rotate:d(ie)}}function _(Z,j,H,Y,ie){j=Math.max(0,j-2*l);var re=Z.height/Z.width,ne=C(re,Y,j,H);return{scale:2*ne/Z.width,rCenter:A(re,ne/j),rotate:d(ie+Math.PI/2)}}function A(Z,j){return Math.cos(j)-Z*j}function d(Z){return(180/Math.PI*Z+720)%180-90}function C(Z,j,H,Y){var ie=Z+1/(2*Math.tan(j));return H*Math.min(1/(Math.sqrt(ie*ie+.5)+ie),Y/(Math.sqrt(Z*Z+Y/2)+Z))}function k(Z,j){return Z.v!==j.vTotal||j.trace.hole?Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2):1}function D(Z,j){var H=j.pxmid[0],Y=j.pxmid[1],ie=Z.width/2,re=Z.height/2;return H<0&&(ie*=-1),Y<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:ie+Math.abs(re)*(ie>0?1:-1)/2,y:re/(1+H*H/(Y*Y)),outside:!0}}function O(Z,j){var H,Y,ie,re=Z.trace,ne={x:Z.cx,y:Z.cy},ee={tx:0,ty:0};ee.ty+=re.title.font.size,ie=R(re),re.title.position.indexOf("top")!==-1?(ne.y-=(1+ie)*Z.r,ee.ty-=Z.titleBox.height):re.title.position.indexOf("bottom")!==-1&&(ne.y+=(1+ie)*Z.r);var Q,X=Z.r/((Q=Z.trace.aspectratio)===void 0?1:Q),se=j.w*(re.domain.x[1]-re.domain.x[0])/2;return re.title.position.indexOf("left")!==-1?(se+=X,ne.x-=(1+ie)*X,ee.tx+=Z.titleBox.width/2):re.title.position.indexOf("center")!==-1?se*=2:re.title.position.indexOf("right")!==-1&&(se+=X,ne.x+=(1+ie)*X,ee.tx-=Z.titleBox.width/2),H=se/Z.titleBox.width,Y=L(Z,j)/Z.titleBox.height,{x:ne.x,y:ne.y,scale:Math.min(H,Y),tx:ee.tx,ty:ee.ty}}function L(Z,j){var H=Z.trace,Y=j.h*(H.domain.y[1]-H.domain.y[0]);return Math.min(Z.titleBox.height,Y/2)}function R(Z){var j,H=Z.pull;if(!H)return 0;if(f.isArrayOrTypedArray(H))for(H=0,j=0;j<Z.pull.length;j++)Z.pull[j]>H&&(H=Z.pull[j]);return H}function z(Z,j){for(var H=[],Y=0;Y<Z.length;Y++){var ie=Z[Y][0],re=ie.trace,ne=re.domain,ee=j.w*(ne.x[1]-ne.x[0]),Q=j.h*(ne.y[1]-ne.y[0]);re.title.text&&re.title.position!=="middle center"&&(Q-=L(ie,j));var X=ee/2,se=Q/2;re.type!=="funnelarea"||re.scalegroup||(se/=re.aspectratio),ie.r=Math.min(X,se)/(1+R(re)),ie.cx=j.l+j.w*(re.domain.x[1]+re.domain.x[0])/2,ie.cy=j.t+j.h*(1-re.domain.y[0])-Q/2,re.title.text&&re.title.position.indexOf("bottom")!==-1&&(ie.cy-=L(ie,j)),re.scalegroup&&H.indexOf(re.scalegroup)===-1&&H.push(re.scalegroup)}(function(ce,le){for(var de,be,_e,ve=0;ve<le.length;ve++){var me=1/0,ye=le[ve];for(be=0;be<ce.length;be++)if((_e=(de=ce[be][0]).trace).scalegroup===ye){var Se;if(_e.type==="pie")Se=de.r*de.r;else if(_e.type==="funnelarea"){var Ie,xe;_e.aspectratio>1?xe=(Ie=de.r)/_e.aspectratio:Ie=(xe=de.r)*_e.aspectratio,Se=(Ie*=(1+_e.baseratio)/2)*xe}me=Math.min(me,Se/de.vTotal)}for(be=0;be<ce.length;be++)if((_e=(de=ce[be][0]).trace).scalegroup===ye){var ue=me*de.vTotal;_e.type==="funnelarea"&&(ue/=(1+_e.baseratio)/2,ue/=_e.aspectratio),de.r=Math.sqrt(ue)}}})(Z,H)}function q(Z,j){return[Z*Math.sin(j),-Z*Math.cos(j)]}function N(Z,j,H){var Y=Z._fullLayout,ie=H.trace,re=ie.texttemplate,ne=ie.textinfo;if(!re&&ne&&ne!=="none"){var ee,Q=ne.split("+"),X=function(Se){return Q.indexOf(Se)!==-1},se=X("label"),ce=X("text"),le=X("value"),de=X("percent"),be=Y.separators;if(ee=se?[j.label]:[],ce){var _e=u.getFirstFilled(ie.text,j.pts);c(_e)&&ee.push(_e)}le&&ee.push(u.formatPieValue(j.v,be)),de&&ee.push(u.formatPiePercent(j.v/H.vTotal,be)),j.text=ee.join("<br>")}if(re){var ve=f.castOption(ie,j.i,"texttemplate");if(ve){var me=function(Se){return{label:Se.label,value:Se.v,valueLabel:u.formatPieValue(Se.v,Y.separators),percent:Se.v/H.vTotal,percentLabel:u.formatPiePercent(Se.v/H.vTotal,Y.separators),color:Se.color,text:Se.text,customdata:f.castOption(ie,Se.i,"customdata")}}(j),ye=u.getFirstFilled(ie.text,j.pts);(c(ye)||ye==="")&&(me.text=ye),j.text=f.texttemplateString(ve,me,Z._fullLayout._d3locale,me,ie._meta||{})}else j.text=""}}function V(Z,j){var H=Z.rotate*Math.PI/180,Y=Math.cos(H),ie=Math.sin(H),re=(j.left+j.right)/2,ne=(j.top+j.bottom)/2;Z.textX=re*Y-ne*ie,Z.textY=re*ie+ne*Y,Z.noCenter=!0}S.exports={plot:function(Z,j){var H=Z._context.staticPlot,Y=Z._fullLayout,ie=Y._size;a("pie",Y),v(j,Z),z(j,ie);var re=f.makeTraceGroups(Y._pielayer,j,"trace").each(function(ne){var ee=p.select(this),Q=ne[0],X=Q.trace;(function(se){var ce,le,de,be=se[0],_e=be.r,ve=be.trace,me=u.getRotationAngle(ve.rotation),ye=2*Math.PI/be.vTotal,Se="px0",Ie="px1";if(ve.direction==="counterclockwise"){for(ce=0;ce<se.length&&se[ce].hidden;ce++);if(ce===se.length)return;me+=ye*se[ce].v,ye*=-1,Se="px1",Ie="px0"}for(de=q(_e,me),ce=0;ce<se.length;ce++)(le=se[ce]).hidden||(le[Se]=de,le.startangle=me,me+=ye*le.v/2,le.pxmid=q(_e,me),le.midangle=me,de=q(_e,me+=ye*le.v/2),le.stopangle=me,le[Ie]=de,le.largeArc=le.v>be.vTotal/2?1:0,le.halfangle=Math.PI*Math.min(le.v/be.vTotal,.5),le.ring=1-ve.hole,le.rInscribed=k(le,be))})(ne),ee.attr("stroke-linejoin","round"),ee.each(function(){var se=p.select(this).selectAll("g.slice").data(ne);se.enter().append("g").classed("slice",!0),se.exit().remove();var ce=[[[],[]],[[],[]]],le=!1;se.each(function(Ie,xe){if(Ie.hidden)p.select(this).selectAll("path,g").remove();else{Ie.pointNumber=Ie.i,Ie.curveNumber=X.index,ce[Ie.pxmid[1]<0?0:1][Ie.pxmid[0]<0?0:1].push(Ie);var ue=Q.cx,ae=Q.cy,pe=p.select(this),De=pe.selectAll("path.surface").data([Ie]);if(De.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),pe.call(w,Z,ne),X.pull){var Te=+u.castOption(X.pull,Ie.pts)||0;Te>0&&(ue+=Te*Ie.pxmid[0],ae+=Te*Ie.pxmid[1])}Ie.cxFinal=ue,Ie.cyFinal=ae;var Ae=X.hole;if(Ie.v===Q.vTotal){var Ce="M"+(ue+Ie.px0[0])+","+(ae+Ie.px0[1])+Ee(Ie.px0,Ie.pxmid,!0,1)+Ee(Ie.pxmid,Ie.px0,!0,1)+"Z";Ae?De.attr("d","M"+(ue+Ae*Ie.px0[0])+","+(ae+Ae*Ie.px0[1])+Ee(Ie.px0,Ie.pxmid,!1,Ae)+Ee(Ie.pxmid,Ie.px0,!1,Ae)+"Z"+Ce):De.attr("d",Ce)}else{var Re=Ee(Ie.px0,Ie.px1,!0,1);if(Ae){var Ne=1-Ae;De.attr("d","M"+(ue+Ae*Ie.px1[0])+","+(ae+Ae*Ie.px1[1])+Ee(Ie.px1,Ie.px0,!1,Ae)+"l"+Ne*Ie.px0[0]+","+Ne*Ie.px0[1]+Re+"Z")}else De.attr("d","M"+ue+","+ae+"l"+Ie.px0[0]+","+Ie.px0[1]+Re+"Z")}N(Z,Ie,Q);var ge=u.castOption(X.textposition,Ie.pts),Me=pe.selectAll("g.slicetext").data(Ie.text&&ge!=="none"?[0]:[]);Me.enter().append("g").classed("slicetext",!0),Me.exit().remove(),Me.each(function(){var Fe=f.ensureSingle(p.select(this),"text","",function(xt){xt.attr("data-notex",1)}),Le=f.ensureUniformFontSize(Z,ge==="outside"?function(xt,gt,nt){return{color:u.castOption(xt.outsidetextfont.color,gt.pts)||u.castOption(xt.textfont.color,gt.pts)||nt.color,family:u.castOption(xt.outsidetextfont.family,gt.pts)||u.castOption(xt.textfont.family,gt.pts)||nt.family,size:u.castOption(xt.outsidetextfont.size,gt.pts)||u.castOption(xt.textfont.size,gt.pts)||nt.size,weight:u.castOption(xt.outsidetextfont.weight,gt.pts)||u.castOption(xt.textfont.weight,gt.pts)||nt.weight,style:u.castOption(xt.outsidetextfont.style,gt.pts)||u.castOption(xt.textfont.style,gt.pts)||nt.style,variant:u.castOption(xt.outsidetextfont.variant,gt.pts)||u.castOption(xt.textfont.variant,gt.pts)||nt.variant,textcase:u.castOption(xt.outsidetextfont.textcase,gt.pts)||u.castOption(xt.textfont.textcase,gt.pts)||nt.textcase,lineposition:u.castOption(xt.outsidetextfont.lineposition,gt.pts)||u.castOption(xt.textfont.lineposition,gt.pts)||nt.lineposition,shadow:u.castOption(xt.outsidetextfont.shadow,gt.pts)||u.castOption(xt.textfont.shadow,gt.pts)||nt.shadow}}(X,Ie,Y.font):g(X,Ie,Y.font));Fe.text(Ie.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Le).call(o.convertToTspans,Z);var Ue,Ge=b.bBox(Fe.node());if(ge==="outside")Ue=D(Ge,Ie);else if(Ue=m(Ge,Ie,Q),ge==="auto"&&Ue.scale<1){var Ke=f.ensureUniformFontSize(Z,X.outsidetextfont);Fe.call(b.font,Ke),Ue=D(Ge=b.bBox(Fe.node()),Ie)}var at=Ue.textPosAngle,st=at===void 0?Ie.pxmid:q(Q.r,at);if(Ue.targetX=ue+st[0]*Ue.rCenter+(Ue.x||0),Ue.targetY=ae+st[1]*Ue.rCenter+(Ue.y||0),V(Ue,Ge),Ue.outside){var vt=Ue.targetY;Ie.yLabelMin=vt-Ge.height/2,Ie.yLabelMid=vt,Ie.yLabelMax=vt+Ge.height/2,Ie.labelExtraX=0,Ie.labelExtraY=0,le=!0}Ue.fontSize=Le.size,i(X.type,Ue,Y),ne[xe].transform=Ue,f.setTransormAndDisplay(Fe,Ue)})}function Ee(Fe,Le,Ue,Ge){var Ke=Ge*(Le[0]-Fe[0]),at=Ge*(Le[1]-Fe[1]);return"a"+Ge*Q.r+","+Ge*Q.r+" 0 "+Ie.largeArc+(Ue?" 1 ":" 0 ")+Ke+","+at}});var de=p.select(this).selectAll("g.titletext").data(X.title.text?[0]:[]);if(de.enter().append("g").classed("titletext",!0),de.exit().remove(),de.each(function(){var Ie,xe=f.ensureSingle(p.select(this),"text","",function(ae){ae.attr("data-notex",1)}),ue=X.title.text;X._meta&&(ue=f.templateString(ue,X._meta)),xe.text(ue).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,X.title.font).call(o.convertToTspans,Z),Ie=X.title.position==="middle center"?function(ae){var pe=Math.sqrt(ae.titleBox.width*ae.titleBox.width+ae.titleBox.height*ae.titleBox.height);return{x:ae.cx,y:ae.cy,scale:ae.trace.hole*ae.r*2/pe,tx:0,ty:-ae.titleBox.height/2+ae.trace.title.font.size}}(Q):O(Q,ie),xe.attr("transform",t(Ie.x,Ie.y)+s(Math.min(1,Ie.scale))+t(Ie.tx,Ie.ty))}),le&&function(Ie,xe){var ue,ae,pe,De,Te,Ae,Ce,Re,Ne,ge,Me,Ee,Fe;function Le(at,st){return at.pxmid[1]-st.pxmid[1]}function Ue(at,st){return st.pxmid[1]-at.pxmid[1]}function Ge(at,st){st||(st={});var vt,xt,gt,nt,et=st.labelExtraY+(ae?st.yLabelMax:st.yLabelMin),At=ae?at.yLabelMin:at.yLabelMax,Pt=ae?at.yLabelMax:at.yLabelMin,Rt=at.cyFinal+Te(at.px0[1],at.px1[1]),Et=et-At;if(Et*Ce>0&&(at.labelExtraY=Et),f.isArrayOrTypedArray(xe.pull))for(xt=0;xt<ge.length;xt++)(gt=ge[xt])===at||(u.castOption(xe.pull,at.pts)||0)>=(u.castOption(xe.pull,gt.pts)||0)||((at.pxmid[1]-gt.pxmid[1])*Ce>0?(Et=gt.cyFinal+Te(gt.px0[1],gt.px1[1])-At-at.labelExtraY)*Ce>0&&(at.labelExtraY+=Et):(Pt+at.labelExtraY-Rt)*Ce>0&&(vt=3*Ae*Math.abs(xt-ge.indexOf(at)),(nt=gt.cxFinal+De(gt.px0[0],gt.px1[0])+vt-(at.cxFinal+at.pxmid[0])-at.labelExtraX)*Ae>0&&(at.labelExtraX+=nt)))}for(ae=0;ae<2;ae++)for(pe=ae?Le:Ue,Te=ae?Math.max:Math.min,Ce=ae?1:-1,ue=0;ue<2;ue++){for(De=ue?Math.max:Math.min,Ae=ue?1:-1,(Re=Ie[ae][ue]).sort(pe),Ne=Ie[1-ae][ue],ge=Ne.concat(Re),Ee=[],Me=0;Me<Re.length;Me++)Re[Me].yLabelMid!==void 0&&Ee.push(Re[Me]);for(Fe=!1,Me=0;ae&&Me<Ne.length;Me++)if(Ne[Me].yLabelMid!==void 0){Fe=Ne[Me];break}for(Me=0;Me<Ee.length;Me++){var Ke=Me&&Ee[Me-1];Fe&&!Me&&(Ke=Fe),Ge(Ee[Me],Ke)}}}(ce,X),function(Ie,xe){Ie.each(function(ue){var ae=p.select(this);if(ue.labelExtraX||ue.labelExtraY){var pe=ae.select("g.slicetext text");ue.transform.targetX+=ue.labelExtraX,ue.transform.targetY+=ue.labelExtraY,f.setTransormAndDisplay(pe,ue.transform);var De=ue.cxFinal+ue.pxmid[0],Te="M"+De+","+(ue.cyFinal+ue.pxmid[1]),Ae=(ue.yLabelMax-ue.yLabelMin)*(ue.pxmid[0]<0?-1:1)/4;if(ue.labelExtraX){var Ce=ue.labelExtraX*ue.pxmid[1]/ue.pxmid[0],Re=ue.yLabelMid+ue.labelExtraY-(ue.cyFinal+ue.pxmid[1]);Math.abs(Ce)>Math.abs(Re)?Te+="l"+Re*ue.pxmid[0]/ue.pxmid[1]+","+Re+"H"+(De+ue.labelExtraX+Ae):Te+="l"+ue.labelExtraX+","+Ce+"v"+(Re-Ce)+"h"+Ae}else Te+="V"+(ue.yLabelMid+ue.labelExtraY)+"h"+Ae;f.ensureSingle(ae,"path","textline").call(M.stroke,xe.outsidetextfont.color).attr({"stroke-width":Math.min(2,xe.outsidetextfont.size/8),d:Te,fill:"none"})}else ae.select("path.textline").remove()})}(se,X),le&&X.automargin){var be=b.bBox(ee.node()),_e=X.domain,ve=ie.w*(_e.x[1]-_e.x[0]),me=ie.h*(_e.y[1]-_e.y[0]),ye=(.5*ve-Q.r)/ie.w,Se=(.5*me-Q.r)/ie.h;y.autoMargin(Z,"pie."+X.uid+".automargin",{xl:_e.x[0]-ye,xr:_e.x[1]+ye,yb:_e.y[0]-Se,yt:_e.y[1]+Se,l:Math.max(Q.cx-Q.r-be.left,0),r:Math.max(be.right-(Q.cx+Q.r),0),b:Math.max(be.bottom-(Q.cy+Q.r),0),t:Math.max(Q.cy-Q.r-be.top,0),pad:5})}})});setTimeout(function(){re.selectAll("tspan").each(function(){var ne=p.select(this);ne.attr("dy")&&ne.attr("dy",ne.attr("dy"))})},0)},formatSliceLabel:N,transformInsideText:m,determineInsideTextFont:g,positionTitleOutside:O,prerenderTitles:v,layoutAreas:z,attachFxHandlers:w,computeTransform:V}},22152:function(S,x,e){"use strict";var p=e(33428),y=e(10528),n=e(82744).resizeText;S.exports=function(M){var b=M._fullLayout._pielayer.selectAll(".trace");n(M,b,"pie"),b.each(function(f){var s=f[0].trace,t=p.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(o){p.select(this).call(y,o,s,M)})})}},10528:function(S,x,e){"use strict";var p=e(76308),y=e(69656).castOption,n=e(21552);S.exports=function(M,b,f,s){var t=f.marker.line,o=y(t.color,b.pts)||p.defaultLine,r=y(t.width,b.pts)||0;M.call(n,b,f,s).style("stroke-width",r).call(p.stroke,o)}},35484:function(S,x,e){"use strict";var p=e(52904);S.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(S,x,e){"use strict";var p=e(67792).gl_pointcloud2d,y=e(3400).isArrayOrTypedArray,n=e(43080),M=e(19280).findExtremes,b=e(44928);function f(t,o){this.scene=t,this.uid=o,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var s=f.prototype;s.handlePick=function(t){var o=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*o],this.pickXYData[2*o+1]]:[this.pickXData[o],this.pickYData[o]],textLabel:y(this.textLabels)?this.textLabels[o]:this.textLabels,color:this.color,name:this.name,pointIndex:o,hoverinfo:this.hoverinfo}},s.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},s.updateFast=function(t){var o,r,i,a,l,u,h=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,w=this.pickXYData=t.xy,g=t.xbounds&&t.ybounds,v=t.indices,m=this.bounds;if(w){if(i=w,o=w.length>>>1,g)m[0]=t.xbounds[0],m[2]=t.xbounds[1],m[1]=t.ybounds[0],m[3]=t.ybounds[1];else for(u=0;u<o;u++)a=i[2*u],l=i[2*u+1],a<m[0]&&(m[0]=a),a>m[2]&&(m[2]=a),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);if(v)r=v;else for(r=new Int32Array(o),u=0;u<o;u++)r[u]=u}else for(o=h.length,i=new Float32Array(2*o),r=new Int32Array(o),u=0;u<o;u++)a=h[u],l=c[u],r[u]=u,i[2*u]=a,i[2*u+1]=l,a<m[0]&&(m[0]=a),a>m[2]&&(m[2]=a),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);this.idToIndex=r,this.pointcloudOptions.idToIndex=r,this.pointcloudOptions.positions=i;var T=n(t.marker.color),_=n(t.marker.border.color),A=t.opacity*t.marker.opacity;T[3]*=A,this.pointcloudOptions.color=T;var d=t.marker.blend;d===null&&(d=h.length<100||c.length<100),this.pointcloudOptions.blend=d,_[3]*=A,this.pointcloudOptions.borderColor=_;var C=t.marker.sizemin,k=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=C,this.pointcloudOptions.sizeMax=k,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var D=this.scene.xaxis,O=this.scene.yaxis,L=k/2||.5;t._extremes[D._id]=M(D,[m[0],m[2]],{ppad:L}),t._extremes[O._id]=M(O,[m[1],m[3]],{ppad:L})},s.dispose=function(){this.pointcloud.dispose()},S.exports=function(t,o){var r=new f(t,o.uid);return r.update(o),r}},41904:function(S,x,e){"use strict";var p=e(3400),y=e(35484);S.exports=function(n,M,b){function f(s,t){return p.coerce(n,M,y,s,t)}f("x"),f("y"),f("xbounds"),f("ybounds"),n.xy&&n.xy instanceof Float32Array&&(M.xy=n.xy),n.indices&&n.indices instanceof Int32Array&&(M.indices=n.indices),f("text"),f("marker.color",b),f("marker.opacity"),f("marker.blend"),f("marker.sizemin"),f("marker.sizemax"),f("marker.border.color",b),f("marker.border.arearatio"),M._length=null}},156:function(S,x,e){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),S.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(S,x,e){"use strict";var p=e(25376),y=e(45464),n=e(22548),M=e(55756),b=e(86968).u,f=e(21776).Ks,s=e(49084),t=e(31780).templatedArray,o=e(29736).descriptionOnlyNumbers,r=e(92880).extendFlat,i=e(67824).overrideAll;(S.exports=i({hoverinfo:r({},y.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:M.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:o("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:M.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:M.hoverlabel,hovertemplate:f({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(S,x,e){"use strict";var p=e(67824).overrideAll,y=e(84888)._M,n=e(59596),M=e(65460),b=e(93972),f=e(86476),s=e(22676).prepSelect,t=e(3400),o=e(24040),r="sankey";function i(a,l){var u=a._fullData[l],h=a._fullLayout,c=h.dragmode,w=h.dragmode==="pan"?"move":"crosshair",g=u._bgRect;if(g&&c!=="pan"&&c!=="zoom"){b(g,w);var v={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},m={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},T={gd:a,element:g.node(),plotinfo:{id:l,xaxis:v,yaxis:m,fillRangeItems:t.noop},subplot:l,xaxes:[v],yaxes:[m],doneFnCompleted:function(_){var A,d=a._fullData[l],C=d.node.groups.slice(),k=[];function D(z){for(var q=d._sankey.graph.nodes,N=0;N<q.length;N++)if(q[N].pointNumber===z)return q[N]}for(var O=0;O<_.length;O++){var L=D(_[O].pointNumber);if(L)if(L.group){for(var R=0;R<L.childrenNodes.length;R++)k.push(L.childrenNodes[R].pointNumber);C[L.pointNumber-d.node._count]=!1}else k.push(L.pointNumber)}A=C.filter(Boolean).concat([k]),o.call("_guiRestyle",a,{"node.groups":[A]},l)},prepFn:function(_,A,d){s(_,A,d,T,c)}};f.init(T)}}x.name=r,x.baseLayoutAttrOverrides=p({hoverlabel:M.hoverlabel},"plot","nested"),x.plot=function(a){var l=y(a.calcdata,r)[0];n(a,l),x.updateFx(a)},x.clean=function(a,l,u,h){var c=h._has&&h._has(r),w=l._has&&l._has(r);c&&!w&&(h._paperdiv.selectAll(".sankey").remove(),h._paperdiv.selectAll(".bgsankey").remove())},x.updateFx=function(a){for(var l=0;l<a._fullData.length;l++)i(a,l)}},48068:function(S,x,e){"use strict";var p=e(78484),y=e(3400),n=e(71688).wrap,M=y.isArrayOrTypedArray,b=y.isIndex,f=e(8932);S.exports=function(s,t){var o=function(r){var i,a=r.node,l=r.link,u=[],h=M(l.color),c=M(l.hovercolor),w=M(l.customdata),g={},v={},m=l.colorscales.length;for(i=0;i<m;i++){var T=l.colorscales[i],_=f.extractScale(T,{cLetter:"c"}),A=f.makeColorScaleFunc(_);v[T.label]=A}var d=0;for(i=0;i<l.value.length;i++)l.source[i]>d&&(d=l.source[i]),l.target[i]>d&&(d=l.target[i]);var C,k=d+1;r.node._count=k;var D=r.node.groups,O={};for(i=0;i<D.length;i++){var L=D[i];for(C=0;C<L.length;C++){var R=L[C],z=k+i;O.hasOwnProperty(R)?y.warn("Node "+R+" is already part of a group."):O[R]=z}}var q={source:[],target:[]};for(i=0;i<l.value.length;i++){var N=l.value[i],V=l.source[i],Z=l.target[i];if(N>0&&b(V,k)&&b(Z,k)&&(!O.hasOwnProperty(V)||!O.hasOwnProperty(Z)||O[V]!==O[Z])){O.hasOwnProperty(Z)&&(Z=O[Z]),O.hasOwnProperty(V)&&(V=O[V]),Z=+Z,g[V=+V]=g[Z]=!0;var j="";l.label&&l.label[i]&&(j=l.label[i]);var H=null;j&&v.hasOwnProperty(j)&&(H=v[j]),u.push({pointNumber:i,label:j,color:h?l.color[i]:l.color,hovercolor:c?l.hovercolor[i]:l.hovercolor,customdata:w?l.customdata[i]:l.customdata,concentrationscale:H,source:V,target:Z,value:+N}),q.source.push(V),q.target.push(Z)}}var Y=k+D.length,ie=M(a.color),re=M(a.customdata),ne=[];for(i=0;i<Y;i++)if(g[i]){var ee=a.label[i];ne.push({group:i>k-1,childrenNodes:[],pointNumber:i,label:ee,color:ie?a.color[i]:a.color,customdata:re?a.customdata[i]:a.customdata})}var Q=!1;return function(X,se,ce){for(var le=y.init2dArray(X,0),de=0;de<Math.min(se.length,ce.length);de++)if(y.isIndex(se[de],X)&&y.isIndex(ce[de],X)){if(se[de]===ce[de])return!0;le[se[de]].push(ce[de])}return p(le).components.some(function(be){return be.length>1})}(Y,q.source,q.target)&&(Q=!0),{circular:Q,links:u,nodes:ne,groups:D,groupLookup:O}}(t);return n({circular:o.circular,_nodes:o.nodes,_links:o.links,_groups:o.groups,_groupLookup:o.groupLookup})}},11820:function(S){"use strict";S.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(S,x,e){"use strict";var p=e(3400),y=e(41440),n=e(76308),M=e(49760),b=e(86968).Q,f=e(16132),s=e(31780),t=e(51272);function o(r,i){function a(l,u){return p.coerce(r,i,y.link.colorscales,l,u)}a("label"),a("cmin"),a("cmax"),a("colorscale")}S.exports=function(r,i,a,l){function u(D,O){return p.coerce(r,i,y,D,O)}var h=p.extendDeep(l.hoverlabel,r.hoverlabel),c=r.node,w=s.newContainer(i,"node");function g(D,O){return p.coerce(c,w,y.node,D,O)}g("label"),g("groups"),g("x"),g("y"),g("pad"),g("thickness"),g("line.color"),g("line.width"),g("hoverinfo",r.hoverinfo),f(c,w,g,h),g("hovertemplate"),g("align");var v=l.colorway;g("color",w.label.map(function(D,O){return n.addOpacity(function(L){return v[L%v.length]}(O),.8)})),g("customdata");var m=r.link||{},T=s.newContainer(i,"link");function _(D,O){return p.coerce(m,T,y.link,D,O)}_("label"),_("arrowlen"),_("source"),_("target"),_("value"),_("line.color"),_("line.width"),_("hoverinfo",r.hoverinfo),f(m,T,_,h),_("hovertemplate");var A,d=M(l.paper_bgcolor).getLuminance()<.333,C=_("color",d?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function k(D){var O=M(D);if(!O.isValid())return D;var L=O.getAlpha();return L<=.8?O.setAlpha(L+.2):O=d?O.brighten():O.darken(),O.toRgbString()}_("hovercolor",Array.isArray(C)?C.map(k):k(C)),_("customdata"),t(m,T,{name:"colorscales",handleItemDefaults:o}),b(i,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),w.x.length&&w.y.length&&(A="freeform"),u("arrangement",A),p.coerceFont(u,"textfont",l.font,{autoShadowDflt:!0}),i._length=null}},45499:function(S,x,e){"use strict";S.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=y.numberFormat,M=e(83248),b=e(93024),f=e(76308),s=e(11820).cn,t=y._;function o(m){return m!==""}function r(m,T){return m.filter(function(_){return _.key===T.traceId})}function i(m,T){p.select(m).select("path").style("fill-opacity",T),p.select(m).select("rect").style("fill-opacity",T)}function a(m){p.select(m).select("text.name").style("fill","black")}function l(m){return function(T){return m.node.sourceLinks.indexOf(T.link)!==-1||m.node.targetLinks.indexOf(T.link)!==-1}}function u(m){return function(T){return T.node.sourceLinks.indexOf(m.link)!==-1||T.node.targetLinks.indexOf(m.link)!==-1}}function h(m,T,_){T&&_&&r(_,T).selectAll("."+s.sankeyLink).filter(l(T)).call(w.bind(0,T,_,!1))}function c(m,T,_){T&&_&&r(_,T).selectAll("."+s.sankeyLink).filter(l(T)).call(g.bind(0,T,_,!1))}function w(m,T,_,A){A.style("fill",function(d){if(!d.link.concentrationscale)return d.tinyColorHoverHue}).style("fill-opacity",function(d){if(!d.link.concentrationscale)return d.tinyColorHoverAlpha}),A.each(function(d){var C=d.link.label;C!==""&&r(T,m).selectAll("."+s.sankeyLink).filter(function(k){return k.link.label===C}).style("fill",function(k){if(!k.link.concentrationscale)return k.tinyColorHoverHue}).style("fill-opacity",function(k){if(!k.link.concentrationscale)return k.tinyColorHoverAlpha})}),_&&r(T,m).selectAll("."+s.sankeyNode).filter(u(m)).call(h)}function g(m,T,_,A){A.style("fill",function(d){return d.tinyColorHue}).style("fill-opacity",function(d){return d.tinyColorAlpha}),A.each(function(d){var C=d.link.label;C!==""&&r(T,m).selectAll("."+s.sankeyLink).filter(function(k){return k.link.label===C}).style("fill",function(k){return k.tinyColorHue}).style("fill-opacity",function(k){return k.tinyColorAlpha})}),_&&r(T,m).selectAll(s.sankeyNode).filter(u(m)).call(c)}function v(m,T){var _=m.hoverlabel||{},A=y.nestedProperty(_,T).get();return!Array.isArray(A)&&A}S.exports=function(m,T){for(var _=m._fullLayout,A=_._paper,d=_._size,C=0;C<m._fullData.length;C++)if(m._fullData[C].visible&&m._fullData[C].type===s.sankey&&!m._fullData[C]._viewInitial){var k=m._fullData[C].node;m._fullData[C]._viewInitial={node:{groups:k.groups.slice(),x:k.x.slice(),y:k.y.slice()}}}var D=t(m,"source:")+" ",O=t(m,"target:")+" ",L=t(m,"concentration:")+" ",R=t(m,"incoming flow count:")+" ",z=t(m,"outgoing flow count:")+" ";M(m,A,T,{width:d.w,height:d.h,margin:{t:d.t,r:d.r,b:d.b,l:d.l}},{linkEvents:{hover:function(q,N,V){m._fullLayout.hovermode!==!1&&(p.select(q).call(w.bind(0,N,V,!0)),N.link.trace.link.hoverinfo!=="skip"&&(N.link.fullData=N.link.trace,m.emit("plotly_hover",{event:p.event,points:[N.link]})))},follow:function(q,N){if(m._fullLayout.hovermode!==!1){var V=N.link.trace.link;if(V.hoverinfo!=="none"&&V.hoverinfo!=="skip"){for(var Z=[],j=0,H=0;H<N.flow.links.length;H++){var Y=N.flow.links[H];if(m._fullLayout.hovermode!=="closest"||N.link.pointNumber===Y.pointNumber){N.link.pointNumber===Y.pointNumber&&(j=H),Y.fullData=Y.trace,V=N.link.trace.link;var ie=ne(Y),re={valueLabel:n(N.valueFormat)(Y.value)+N.valueSuffix};Z.push({x:ie[0],y:ie[1],name:re.valueLabel,text:[Y.label||"",D+Y.source.label,O+Y.target.label,Y.concentrationscale?L+n("%0.2f")(Y.flow.labelConcentration):""].filter(o).join("<br>"),color:v(V,"bgcolor")||f.addOpacity(Y.color,1),borderColor:v(V,"bordercolor"),fontFamily:v(V,"font.family"),fontSize:v(V,"font.size"),fontColor:v(V,"font.color"),fontWeight:v(V,"font.weight"),fontStyle:v(V,"font.style"),fontVariant:v(V,"font.variant"),fontTextcase:v(V,"font.textcase"),fontLineposition:v(V,"font.lineposition"),fontShadow:v(V,"font.shadow"),nameLength:v(V,"namelength"),textAlign:v(V,"align"),idealAlign:p.event.x<ie[0]?"right":"left",hovertemplate:V.hovertemplate,hovertemplateLabels:re,eventData:[Y]})}}b.loneHover(Z,{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:m,anchorIndex:j}).each(function(){N.link.concentrationscale||i(this,.65),a(this)})}}function ne(ee){var Q,X;ee.circular?(Q=(ee.circularPathData.leftInnerExtent+ee.circularPathData.rightInnerExtent)/2,X=ee.circularPathData.verticalFullExtent):(Q=(ee.source.x1+ee.target.x0)/2,X=(ee.y0+ee.y1)/2);var se=[Q,X];return ee.trace.orientation==="v"&&se.reverse(),se[0]+=N.parent.translateX,se[1]+=N.parent.translateY,se}},unhover:function(q,N,V){m._fullLayout.hovermode!==!1&&(p.select(q).call(g.bind(0,N,V,!0)),N.link.trace.link.hoverinfo!=="skip"&&(N.link.fullData=N.link.trace,m.emit("plotly_unhover",{event:p.event,points:[N.link]})),b.loneUnhover(_._hoverlayer.node()))},select:function(q,N){var V=N.link;V.originalEvent=p.event,m._hoverdata=[V],b.click(m,{target:!0})}},nodeEvents:{hover:function(q,N,V){m._fullLayout.hovermode!==!1&&(p.select(q).call(h,N,V),N.node.trace.node.hoverinfo!=="skip"&&(N.node.fullData=N.node.trace,m.emit("plotly_hover",{event:p.event,points:[N.node]})))},follow:function(q,N){if(m._fullLayout.hovermode!==!1){var V=N.node.trace.node;if(V.hoverinfo!=="none"&&V.hoverinfo!=="skip"){var Z=p.select(q).select("."+s.nodeRect),j=m._fullLayout._paperdiv.node().getBoundingClientRect(),H=Z.node().getBoundingClientRect(),Y=H.left-2-j.left,ie=H.right+2-j.left,re=H.top+H.height/4-j.top,ne={valueLabel:n(N.valueFormat)(N.node.value)+N.valueSuffix};N.node.fullData=N.node.trace,m._fullLayout._calcInverseTransform(m);var ee=m._fullLayout._invScaleX,Q=m._fullLayout._invScaleY,X=b.loneHover({x0:ee*Y,x1:ee*ie,y:Q*re,name:n(N.valueFormat)(N.node.value)+N.valueSuffix,text:[N.node.label,R+N.node.targetLinks.length,z+N.node.sourceLinks.length].filter(o).join("<br>"),color:v(V,"bgcolor")||N.tinyColorHue,borderColor:v(V,"bordercolor"),fontFamily:v(V,"font.family"),fontSize:v(V,"font.size"),fontColor:v(V,"font.color"),fontWeight:v(V,"font.weight"),fontStyle:v(V,"font.style"),fontVariant:v(V,"font.variant"),fontTextcase:v(V,"font.textcase"),fontLineposition:v(V,"font.lineposition"),fontShadow:v(V,"font.shadow"),nameLength:v(V,"namelength"),textAlign:v(V,"align"),idealAlign:"left",hovertemplate:V.hovertemplate,hovertemplateLabels:ne,eventData:[N.node]},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:m});i(X,.85),a(X)}}},unhover:function(q,N,V){m._fullLayout.hovermode!==!1&&(p.select(q).call(c,N,V),N.node.trace.node.hoverinfo!=="skip"&&(N.node.fullData=N.node.trace,m.emit("plotly_unhover",{event:p.event,points:[N.node]})),b.loneUnhover(_._hoverlayer.node()))},select:function(q,N,V){var Z=N.node;Z.originalEvent=p.event,m._hoverdata=[Z],p.select(q).call(c,N,V),b.click(m,{target:!0})}}})}},83248:function(S,x,e){"use strict";var p=e(49812),y=e(67756).Gz,n=e(33428),M=e(26800),b=e(48932),f=e(11820),s=e(49760),t=e(76308),o=e(43616),r=e(3400),i=r.strTranslate,a=r.strRotate,l=e(71688),u=l.keyFun,h=l.repeat,c=l.unwrap,w=e(72736),g=e(24040),v=e(84284),m=v.CAP_SHIFT,T=v.LINE_SPACING;function _(H,Y,ie){var re,ne=c(Y),ee=ne.trace,Q=ee.domain,X=ee.orientation==="h",se=ee.node.pad,ce=ee.node.thickness,le={justify:M.sankeyJustify,left:M.sankeyLeft,right:M.sankeyRight,center:M.sankeyCenter}[ee.node.align],de=H.width*(Q.x[1]-Q.x[0]),be=H.height*(Q.y[1]-Q.y[0]),_e=ne._nodes,ve=ne._links,me=ne.circular;(re=me?b.sankeyCircular().circularLinkGap(0):M.sankey()).iterations(f.sankeyIterations).size(X?[de,be]:[be,de]).nodeWidth(ce).nodePadding(se).nodeId(function(Ce){return Ce.pointNumber}).nodeAlign(le).nodes(_e).links(ve);var ye,Se,Ie,xe=re();for(var ue in re.nodePadding()<se&&r.warn("node.pad was reduced to ",re.nodePadding()," to fit within the figure."),ne._groupLookup){var ae,pe=parseInt(ne._groupLookup[ue]);for(ye=0;ye<xe.nodes.length;ye++)if(xe.nodes[ye].pointNumber===pe){ae=xe.nodes[ye];break}if(ae){var De={pointNumber:parseInt(ue),x0:ae.x0,x1:ae.x1,y0:ae.y0,y1:ae.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};xe.nodes.unshift(De),ae.childrenNodes.unshift(De)}}if(function(){for(ye=0;ye<xe.nodes.length;ye++){var Ce,Re,Ne=xe.nodes[ye],ge={};for(Se=0;Se<Ne.targetLinks.length;Se++)Ce=(Re=Ne.targetLinks[Se]).source.pointNumber+":"+Re.target.pointNumber,ge.hasOwnProperty(Ce)||(ge[Ce]=[]),ge[Ce].push(Re);var Me=Object.keys(ge);for(Se=0;Se<Me.length;Se++){var Ee=ge[Ce=Me[Se]],Fe=0,Le={};for(Ie=0;Ie<Ee.length;Ie++)Le[(Re=Ee[Ie]).label]||(Le[Re.label]=0),Le[Re.label]+=Re.value,Fe+=Re.value;for(Ie=0;Ie<Ee.length;Ie++)(Re=Ee[Ie]).flow={value:Fe,labelConcentration:Le[Re.label]/Fe,concentration:Re.value/Fe,links:Ee},Re.concentrationscale&&(Re.color=s(Re.concentrationscale(Re.flow.labelConcentration)))}var Ue=0;for(Se=0;Se<Ne.sourceLinks.length;Se++)Ue+=Ne.sourceLinks[Se].value;for(Se=0;Se<Ne.sourceLinks.length;Se++)(Re=Ne.sourceLinks[Se]).concentrationOut=Re.value/Ue;var Ge=0;for(Se=0;Se<Ne.targetLinks.length;Se++)Ge+=Ne.targetLinks[Se].value;for(Se=0;Se<Ne.targetLinks.length;Se++)(Re=Ne.targetLinks[Se]).concenrationIn=Re.value/Ge}}(),ee.node.x.length&&ee.node.y.length){for(ye=0;ye<Math.min(ee.node.x.length,ee.node.y.length,xe.nodes.length);ye++)if(ee.node.x[ye]&&ee.node.y[ye]){var Te=[ee.node.x[ye]*de,ee.node.y[ye]*be];xe.nodes[ye].x0=Te[0]-ce/2,xe.nodes[ye].x1=Te[0]+ce/2;var Ae=xe.nodes[ye].y1-xe.nodes[ye].y0;xe.nodes[ye].y0=Te[1]-Ae/2,xe.nodes[ye].y1=Te[1]+Ae/2}ee.arrangement==="snap"&&function(Ce){var Re,Ne,ge=Ce.map(function(Ue,Ge){return{x0:Ue.x0,index:Ge}}).sort(function(Ue,Ge){return Ue.x0-Ge.x0}),Me=[],Ee=-1,Fe=-1/0;for(ye=0;ye<ge.length;ye++){var Le=Ce[ge[ye].index];Le.x0>Fe+ce&&(Ee+=1,Re=Le.x0),Fe=Le.x0,Me[Ee]||(Me[Ee]=[]),Me[Ee].push(Le),Ne=Re-Le.x0,Le.x0+=Ne,Le.x1+=Ne}return Me}(_e=xe.nodes).forEach(function(Ce){var Re,Ne,ge,Me=0,Ee=Ce.length;for(Ce.sort(function(Fe,Le){return Fe.y0-Le.y0}),ge=0;ge<Ee;++ge)(Re=Ce[ge]).y0>=Me||(Ne=Me-Re.y0)>1e-6&&(Re.y0+=Ne,Re.y1+=Ne),Me=Re.y1+se}),re.update(xe)}return{circular:me,key:ie,trace:ee,guid:r.randstr(),horizontal:X,width:de,height:be,nodePad:ee.node.pad,nodeLineColor:ee.node.line.color,nodeLineWidth:ee.node.line.width,linkLineColor:ee.link.line.color,linkLineWidth:ee.link.line.width,linkArrowLength:ee.link.arrowlen,valueFormat:ee.valueformat,valueSuffix:ee.valuesuffix,textFont:ee.textfont,translateX:Q.x[0]*H.width+H.margin.l,translateY:H.height-Q.y[1]*H.height+H.margin.t,dragParallel:X?be:de,dragPerpendicular:X?de:be,arrangement:ee.arrangement,sankey:re,graph:xe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A(H,Y,ie){var re=s(Y.color),ne=s(Y.hovercolor),ee=Y.source.label+"|"+Y.target.label+"__"+ie;return Y.trace=H.trace,Y.curveNumber=H.trace.index,{circular:H.circular,key:ee,traceId:H.key,pointNumber:Y.pointNumber,link:Y,tinyColorHue:t.tinyRGB(re),tinyColorAlpha:re.getAlpha(),tinyColorHoverHue:t.tinyRGB(ne),tinyColorHoverAlpha:ne.getAlpha(),linkPath:d,linkLineColor:H.linkLineColor,linkLineWidth:H.linkLineWidth,linkArrowLength:H.linkArrowLength,valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,parent:H,interactionState:H.interactionState,flow:Y.flow}}function d(){return function(H){var Y=H.linkArrowLength;if(H.link.circular)return function(ye,Se){var Ie=ye.width/2,xe=ye.circularPathData;return ye.circularLinkType==="top"?"M "+(xe.targetX-Se)+" "+(xe.targetY+Ie)+" L"+(xe.rightInnerExtent-Se)+" "+(xe.targetY+Ie)+"A"+(xe.rightLargeArcRadius+Ie)+" "+(xe.rightSmallArcRadius+Ie)+" 0 0 1 "+(xe.rightFullExtent-Ie-Se)+" "+(xe.targetY-xe.rightSmallArcRadius)+"L"+(xe.rightFullExtent-Ie-Se)+" "+xe.verticalRightInnerExtent+"A"+(xe.rightLargeArcRadius+Ie)+" "+(xe.rightLargeArcRadius+Ie)+" 0 0 1 "+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent-Ie)+"L"+xe.leftInnerExtent+" "+(xe.verticalFullExtent-Ie)+"A"+(xe.leftLargeArcRadius+Ie)+" "+(xe.leftLargeArcRadius+Ie)+" 0 0 1 "+(xe.leftFullExtent+Ie)+" "+xe.verticalLeftInnerExtent+"L"+(xe.leftFullExtent+Ie)+" "+(xe.sourceY-xe.leftSmallArcRadius)+"A"+(xe.leftLargeArcRadius+Ie)+" "+(xe.leftSmallArcRadius+Ie)+" 0 0 1 "+xe.leftInnerExtent+" "+(xe.sourceY+Ie)+"L"+xe.sourceX+" "+(xe.sourceY+Ie)+"L"+xe.sourceX+" "+(xe.sourceY-Ie)+"L"+xe.leftInnerExtent+" "+(xe.sourceY-Ie)+"A"+(xe.leftLargeArcRadius-Ie)+" "+(xe.leftSmallArcRadius-Ie)+" 0 0 0 "+(xe.leftFullExtent-Ie)+" "+(xe.sourceY-xe.leftSmallArcRadius)+"L"+(xe.leftFullExtent-Ie)+" "+xe.verticalLeftInnerExtent+"A"+(xe.leftLargeArcRadius-Ie)+" "+(xe.leftLargeArcRadius-Ie)+" 0 0 0 "+xe.leftInnerExtent+" "+(xe.verticalFullExtent+Ie)+"L"+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent+Ie)+"A"+(xe.rightLargeArcRadius-Ie)+" "+(xe.rightLargeArcRadius-Ie)+" 0 0 0 "+(xe.rightFullExtent+Ie-Se)+" "+xe.verticalRightInnerExtent+"L"+(xe.rightFullExtent+Ie-Se)+" "+(xe.targetY-xe.rightSmallArcRadius)+"A"+(xe.rightLargeArcRadius-Ie)+" "+(xe.rightSmallArcRadius-Ie)+" 0 0 0 "+(xe.rightInnerExtent-Se)+" "+(xe.targetY-Ie)+"L"+(xe.targetX-Se)+" "+(xe.targetY-Ie)+(Se>0?"L"+xe.targetX+" "+xe.targetY:"")+"Z":"M "+(xe.targetX-Se)+" "+(xe.targetY-Ie)+" L"+(xe.rightInnerExtent-Se)+" "+(xe.targetY-Ie)+"A"+(xe.rightLargeArcRadius+Ie)+" "+(xe.rightSmallArcRadius+Ie)+" 0 0 0 "+(xe.rightFullExtent-Ie-Se)+" "+(xe.targetY+xe.rightSmallArcRadius)+"L"+(xe.rightFullExtent-Ie-Se)+" "+xe.verticalRightInnerExtent+"A"+(xe.rightLargeArcRadius+Ie)+" "+(xe.rightLargeArcRadius+Ie)+" 0 0 0 "+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent+Ie)+"L"+xe.leftInnerExtent+" "+(xe.verticalFullExtent+Ie)+"A"+(xe.leftLargeArcRadius+Ie)+" "+(xe.leftLargeArcRadius+Ie)+" 0 0 0 "+(xe.leftFullExtent+Ie)+" "+xe.verticalLeftInnerExtent+"L"+(xe.leftFullExtent+Ie)+" "+(xe.sourceY+xe.leftSmallArcRadius)+"A"+(xe.leftLargeArcRadius+Ie)+" "+(xe.leftSmallArcRadius+Ie)+" 0 0 0 "+xe.leftInnerExtent+" "+(xe.sourceY-Ie)+"L"+xe.sourceX+" "+(xe.sourceY-Ie)+"L"+xe.sourceX+" "+(xe.sourceY+Ie)+"L"+xe.leftInnerExtent+" "+(xe.sourceY+Ie)+"A"+(xe.leftLargeArcRadius-Ie)+" "+(xe.leftSmallArcRadius-Ie)+" 0 0 1 "+(xe.leftFullExtent-Ie)+" "+(xe.sourceY+xe.leftSmallArcRadius)+"L"+(xe.leftFullExtent-Ie)+" "+xe.verticalLeftInnerExtent+"A"+(xe.leftLargeArcRadius-Ie)+" "+(xe.leftLargeArcRadius-Ie)+" 0 0 1 "+xe.leftInnerExtent+" "+(xe.verticalFullExtent-Ie)+"L"+(xe.rightInnerExtent-Se)+" "+(xe.verticalFullExtent-Ie)+"A"+(xe.rightLargeArcRadius-Ie)+" "+(xe.rightLargeArcRadius-Ie)+" 0 0 1 "+(xe.rightFullExtent+Ie-Se)+" "+xe.verticalRightInnerExtent+"L"+(xe.rightFullExtent+Ie-Se)+" "+(xe.targetY+xe.rightSmallArcRadius)+"A"+(xe.rightLargeArcRadius-Ie)+" "+(xe.rightSmallArcRadius-Ie)+" 0 0 1 "+(xe.rightInnerExtent-Se)+" "+(xe.targetY+Ie)+"L"+(xe.targetX-Se)+" "+(xe.targetY+Ie)+(Se>0?"L"+xe.targetX+" "+xe.targetY:"")+"Z"}(H.link,Y);var ie=Math.abs((H.link.target.x0-H.link.source.x1)/2);Y>ie&&(Y=ie);var re=H.link.source.x1,ne=H.link.target.x0-Y,ee=y(re,ne),Q=ee(.5),X=ee(.5),se=H.link.y0-H.link.width/2,ce=H.link.y0+H.link.width/2,le=H.link.y1-H.link.width/2,de=H.link.y1+H.link.width/2,be="M"+re+","+se,_e="C"+Q+","+se+" "+X+","+le+" "+ne+","+le,ve="C"+X+","+de+" "+Q+","+ce+" "+re+","+ce,me=Y>0?"L"+(ne+Y)+","+(le+H.link.width/2):"";return be+_e+(me+="L"+ne+","+de)+ve+"Z"}}function C(H,Y){var ie=s(Y.color),re=f.nodePadAcross,ne=H.nodePad/2;Y.dx=Y.x1-Y.x0,Y.dy=Y.y1-Y.y0;var ee=Y.dx,Q=Math.max(.5,Y.dy),X="node_"+Y.pointNumber;return Y.group&&(X=r.randstr()),Y.trace=H.trace,Y.curveNumber=H.trace.index,{index:Y.pointNumber,key:X,partOfGroup:Y.partOfGroup||!1,group:Y.group,traceId:H.key,trace:H.trace,node:Y,nodePad:H.nodePad,nodeLineColor:H.nodeLineColor,nodeLineWidth:H.nodeLineWidth,textFont:H.textFont,size:H.horizontal?H.height:H.width,visibleWidth:Math.ceil(ee),visibleHeight:Q,zoneX:-re,zoneY:-ne,zoneWidth:ee+2*re,zoneHeight:Q+2*ne,labelY:H.horizontal?Y.dy/2+1:Y.dx/2+1,left:Y.originalLayer===1,sizeAcross:H.width,forceLayouts:H.forceLayouts,horizontal:H.horizontal,darkBackground:ie.getBrightness()<=128,tinyColorHue:t.tinyRGB(ie),tinyColorAlpha:ie.getAlpha(),valueFormat:H.valueFormat,valueSuffix:H.valueSuffix,sankey:H.sankey,graph:H.graph,arrangement:H.arrangement,uniqueNodeLabelPathId:[H.guid,H.key,X].join("_"),interactionState:H.interactionState,figure:H}}function k(H){H.attr("transform",function(Y){return i(Y.node.x0.toFixed(3),Y.node.y0.toFixed(3))})}function D(H){H.call(k)}function O(H,Y){H.call(D),Y.attr("d",d())}function L(H){H.attr("width",function(Y){return Y.node.x1-Y.node.x0}).attr("height",function(Y){return Y.visibleHeight})}function R(H){return H.link.width>1||H.linkLineWidth>0}function z(H){return i(H.translateX,H.translateY)+(H.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function q(H,Y,ie){H.on(".basic",null).on("mouseover.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ie.hover(this,re,Y),re.interactionState.hovered=[this,re])}).on("mousemove.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ie.follow(this,re),re.interactionState.hovered=[this,re])}).on("mouseout.basic",function(re){re.interactionState.dragInProgress||re.partOfGroup||(ie.unhover(this,re,Y),re.interactionState.hovered=!1)}).on("click.basic",function(re){re.interactionState.hovered&&(ie.unhover(this,re,Y),re.interactionState.hovered=!1),re.interactionState.dragInProgress||re.partOfGroup||ie.select(this,re,Y)})}function N(H,Y,ie,re){var ne=n.behavior.drag().origin(function(ee){return{x:ee.node.x0+ee.visibleWidth/2,y:ee.node.y0+ee.visibleHeight/2}}).on("dragstart",function(ee){if(ee.arrangement!=="fixed"&&(r.ensureSingle(re._fullLayout._infolayer,"g","dragcover",function(X){re._fullLayout._dragCover=X}),r.raiseToTop(this),ee.interactionState.dragInProgress=ee.node,Z(ee.node),ee.interactionState.hovered&&(ie.nodeEvents.unhover.apply(0,ee.interactionState.hovered),ee.interactionState.hovered=!1),ee.arrangement==="snap")){var Q=ee.traceId+"|"+ee.key;ee.forceLayouts[Q]?ee.forceLayouts[Q].alpha(1):function(X,se,ce,le){(function(be){for(var _e=0;_e<be.length;_e++)be[_e].y=(be[_e].y0+be[_e].y1)/2,be[_e].x=(be[_e].x0+be[_e].x1)/2})(ce.graph.nodes);var de=ce.graph.nodes.filter(function(be){return be.originalX===ce.node.originalX}).filter(function(be){return!be.partOfGroup});ce.forceLayouts[se]=p.forceSimulation(de).alphaDecay(0).force("collide",p.forceCollide().radius(function(be){return be.dy/2+ce.nodePad/2}).strength(1).iterations(f.forceIterations)).force("constrain",function(be,_e,ve,me){return function(){for(var ye=0,Se=0;Se<ve.length;Se++){var Ie=ve[Se];Ie===me.interactionState.dragInProgress?(Ie.x=Ie.lastDraggedX,Ie.y=Ie.lastDraggedY):(Ie.vx=(Ie.originalX-Ie.x)/f.forceTicksPerFrame,Ie.y=Math.min(me.size-Ie.dy/2,Math.max(Ie.dy/2,Ie.y))),ye=Math.max(ye,Math.abs(Ie.vx),Math.abs(Ie.vy))}!me.interactionState.dragInProgress&&ye<.1&&me.forceLayouts[_e].alpha()>0&&me.forceLayouts[_e].alpha(0)}}(0,se,de,ce)).stop()}(0,Q,ee),function(X,se,ce,le,de){window.requestAnimationFrame(function be(){var _e;for(_e=0;_e<f.forceTicksPerFrame;_e++)ce.forceLayouts[le].tick();if(function(me){for(var ye=0;ye<me.length;ye++)me[ye].y0=me[ye].y-me[ye].dy/2,me[ye].y1=me[ye].y0+me[ye].dy,me[ye].x0=me[ye].x-me[ye].dx/2,me[ye].x1=me[ye].x0+me[ye].dx}(ce.graph.nodes),ce.sankey.update(ce.graph),O(X.filter(j(ce)),se),ce.forceLayouts[le].alpha()>0)window.requestAnimationFrame(be);else{var ve=ce.node.originalX;ce.node.x0=ve-ce.visibleWidth/2,ce.node.x1=ve+ce.visibleWidth/2,V(ce,de)}})}(H,Y,ee,Q,re)}}).on("drag",function(ee){if(ee.arrangement!=="fixed"){var Q=n.event.x,X=n.event.y;ee.arrangement==="snap"?(ee.node.x0=Q-ee.visibleWidth/2,ee.node.x1=Q+ee.visibleWidth/2,ee.node.y0=X-ee.visibleHeight/2,ee.node.y1=X+ee.visibleHeight/2):(ee.arrangement==="freeform"&&(ee.node.x0=Q-ee.visibleWidth/2,ee.node.x1=Q+ee.visibleWidth/2),X=Math.max(0,Math.min(ee.size-ee.visibleHeight/2,X)),ee.node.y0=X-ee.visibleHeight/2,ee.node.y1=X+ee.visibleHeight/2),Z(ee.node),ee.arrangement!=="snap"&&(ee.sankey.update(ee.graph),O(H.filter(j(ee)),Y))}}).on("dragend",function(ee){if(ee.arrangement!=="fixed"){ee.interactionState.dragInProgress=!1;for(var Q=0;Q<ee.node.childrenNodes.length;Q++)ee.node.childrenNodes[Q].x=ee.node.x,ee.node.childrenNodes[Q].y=ee.node.y;ee.arrangement!=="snap"&&V(ee,re)}});H.on(".drag",null).call(ne)}function V(H,Y){for(var ie=[],re=[],ne=0;ne<H.graph.nodes.length;ne++){var ee=(H.graph.nodes[ne].x0+H.graph.nodes[ne].x1)/2,Q=(H.graph.nodes[ne].y0+H.graph.nodes[ne].y1)/2;ie.push(ee/H.figure.width),re.push(Q/H.figure.height)}g.call("_guiRestyle",Y,{"node.x":[ie],"node.y":[re]},H.trace.index).then(function(){Y._fullLayout._dragCover&&Y._fullLayout._dragCover.remove()})}function Z(H){H.lastDraggedX=H.x0+H.dx/2,H.lastDraggedY=H.y0+H.dy/2}function j(H){return function(Y){return Y.node.originalX===H.node.originalX}}S.exports=function(H,Y,ie,re,ne){var ee=H._context.staticPlot,Q=!1;r.ensureSingle(H._fullLayout._infolayer,"g","first-render",function(){Q=!0});var X=H._fullLayout._dragCover,se=ie.filter(function(ye){return c(ye).trace.visible}).map(_.bind(null,re)),ce=Y.selectAll("."+f.cn.sankey).data(se,u);ce.exit().remove(),ce.enter().append("g").classed(f.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ee?"none":"auto").attr("transform",z),ce.each(function(ye,Se){H._fullData[Se]._sankey=ye;var Ie="bgsankey-"+ye.trace.uid+"-"+Se;r.ensureSingle(H._fullLayout._draggers,"rect",Ie),H._fullData[Se]._bgRect=n.select("."+Ie),H._fullData[Se]._bgRect.style("pointer-events",ee?"none":"all").attr("width",ye.width).attr("height",ye.height).attr("x",ye.translateX).attr("y",ye.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ce.transition().ease(f.ease).duration(f.duration).attr("transform",z);var le=ce.selectAll("."+f.cn.sankeyLinks).data(h,u);le.enter().append("g").classed(f.cn.sankeyLinks,!0).style("fill","none");var de=le.selectAll("."+f.cn.sankeyLink).data(function(ye){return ye.graph.links.filter(function(Se){return Se.value}).map(A.bind(null,ye))},u);de.enter().append("path").classed(f.cn.sankeyLink,!0).call(q,ce,ne.linkEvents),de.style("stroke",function(ye){return R(ye)?t.tinyRGB(s(ye.linkLineColor)):ye.tinyColorHue}).style("stroke-opacity",function(ye){return R(ye)?t.opacity(ye.linkLineColor):ye.tinyColorAlpha}).style("fill",function(ye){return ye.tinyColorHue}).style("fill-opacity",function(ye){return ye.tinyColorAlpha}).style("stroke-width",function(ye){return R(ye)?ye.linkLineWidth:1}).attr("d",d()),de.style("opacity",function(){return H._context.staticPlot||Q||X?1:0}).transition().ease(f.ease).duration(f.duration).style("opacity",1),de.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var be=ce.selectAll("."+f.cn.sankeyNodeSet).data(h,u);be.enter().append("g").classed(f.cn.sankeyNodeSet,!0),be.style("cursor",function(ye){switch(ye.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var _e=be.selectAll("."+f.cn.sankeyNode).data(function(ye){var Se=ye.graph.nodes;return function(Ie){var xe,ue=[];for(xe=0;xe<Ie.length;xe++)Ie[xe].originalX=(Ie[xe].x0+Ie[xe].x1)/2,Ie[xe].originalY=(Ie[xe].y0+Ie[xe].y1)/2,ue.indexOf(Ie[xe].originalX)===-1&&ue.push(Ie[xe].originalX);for(ue.sort(function(ae,pe){return ae-pe}),xe=0;xe<Ie.length;xe++)Ie[xe].originalLayerIndex=ue.indexOf(Ie[xe].originalX),Ie[xe].originalLayer=Ie[xe].originalLayerIndex/(ue.length-1)}(Se),Se.map(C.bind(null,ye))},u);_e.enter().append("g").classed(f.cn.sankeyNode,!0).call(k).style("opacity",function(ye){return!H._context.staticPlot&&!Q||ye.partOfGroup?0:1}),_e.call(q,ce,ne.nodeEvents).call(N,de,ne,H),_e.transition().ease(f.ease).duration(f.duration).call(k).style("opacity",function(ye){return ye.partOfGroup?0:1}),_e.exit().transition().ease(f.ease).duration(f.duration).style("opacity",0).remove();var ve=_e.selectAll("."+f.cn.nodeRect).data(h);ve.enter().append("rect").classed(f.cn.nodeRect,!0).call(L),ve.style("stroke-width",function(ye){return ye.nodeLineWidth}).style("stroke",function(ye){return t.tinyRGB(s(ye.nodeLineColor))}).style("stroke-opacity",function(ye){return t.opacity(ye.nodeLineColor)}).style("fill",function(ye){return ye.tinyColorHue}).style("fill-opacity",function(ye){return ye.tinyColorAlpha}),ve.transition().ease(f.ease).duration(f.duration).call(L);var me=_e.selectAll("."+f.cn.nodeLabel).data(h);me.enter().append("text").classed(f.cn.nodeLabel,!0).style("cursor","default"),me.attr("data-notex",1).text(function(ye){return ye.node.label}).each(function(ye){var Se=n.select(this);o.font(Se,ye.textFont),w.convertToTspans(Se,H)}).attr("text-anchor",function(ye){return ye.horizontal&&ye.left?"end":"start"}).attr("transform",function(ye){var Se=n.select(this),Ie=w.lineCount(Se),xe=ye.textFont.size*((Ie-1)*T-m),ue=ye.nodeLineWidth/2+3,ae=((ye.horizontal?ye.visibleHeight:ye.visibleWidth)-xe)/2;ye.horizontal&&(ye.left?ue=-ue:ue+=ye.visibleWidth);var pe=ye.horizontal?"":"scale(-1,1)"+a(90);return i(ye.horizontal?ue:ae,ye.horizontal?ae:ue)+pe}),me.transition().ease(f.ease).duration(f.duration)}},81128:function(S){"use strict";S.exports=function(x,e){for(var p=[],y=x.cd[0].trace,n=y._sankey.graph.nodes,M=0;M<n.length;M++){var b=n[M];if(!b.partOfGroup){var f=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];y.orientation==="v"&&f.reverse(),e&&e.contains(f,!1,M,x)&&p.push({pointNumber:b.pointNumber})}}return p}},20148:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){for(var M=0;M<y.length;M++)y[M].i=M;p.mergeArray(n.text,y,"tx"),p.mergeArray(n.texttemplate,y,"txt"),p.mergeArray(n.hovertext,y,"htx"),p.mergeArray(n.customdata,y,"data"),p.mergeArray(n.textposition,y,"tp"),n.textfont&&(p.mergeArrayCastPositive(n.textfont.size,y,"ts"),p.mergeArray(n.textfont.color,y,"tc"),p.mergeArray(n.textfont.family,y,"tf"),p.mergeArray(n.textfont.weight,y,"tw"),p.mergeArray(n.textfont.style,y,"ty"),p.mergeArray(n.textfont.variant,y,"tv"),p.mergeArray(n.textfont.textcase,y,"tC"),p.mergeArray(n.textfont.lineposition,y,"tE"),p.mergeArray(n.textfont.shadow,y,"tS"));var b=n.marker;if(b){p.mergeArrayCastPositive(b.size,y,"ms"),p.mergeArrayCastPositive(b.opacity,y,"mo"),p.mergeArray(b.symbol,y,"mx"),p.mergeArray(b.angle,y,"ma"),p.mergeArray(b.standoff,y,"mf"),p.mergeArray(b.color,y,"mc");var f=b.line;b.line&&(p.mergeArray(f.color,y,"mlc"),p.mergeArrayCastPositive(f.width,y,"mlw"));var s=b.gradient;s&&s.type!=="none"&&(p.mergeArray(s.type,y,"mgt"),p.mergeArray(s.color,y,"mgc"))}}},52904:function(S,x,e){"use strict";var p=e(29736).axisHoverFormat,y=e(21776).Gw,n=e(21776).Ks,M=e(49084),b=e(25376),f=e(98192).u,s=e(98192).c,t=e(43616),o=e(88200),r=e(92880).extendFlat,i=e(98304);S.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:y({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:o.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:i(!0),fillgradient:r({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:r({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},M("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},M("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(54460),M=e(1220),b=e(39032).BADNUM,f=e(43028),s=e(90136),t=e(20148),o=e(4500);function r(h,c,w,g,v,m,T){var _=c._length,A=h._fullLayout,d=w._id,C=g._id,k=A._firstScatter[l(c)]===c.uid,D=(u(c,A,w,g)||{}).orientation,O=c.fill;w._minDtick=0,g._minDtick=0;var L={padded:!0},R={padded:!0};T&&(L.ppad=R.ppad=T);var z=_<2||v[0]!==v[_-1]||m[0]!==m[_-1];z&&(O==="tozerox"||O==="tonextx"&&(k||D==="h"))?L.tozero=!0:(c.error_y||{}).visible||O!=="tonexty"&&O!=="tozeroy"&&(f.hasMarkers(c)||f.hasText(c))||(L.padded=!1,L.ppad=0),z&&(O==="tozeroy"||O==="tonexty"&&(k||D==="v"))?R.tozero=!0:O!=="tonextx"&&O!=="tozerox"||(R.padded=!1),d&&(c._extremes[d]=n.findExtremes(w,v,L)),C&&(c._extremes[C]=n.findExtremes(g,m,R))}function i(h,c){if(f.hasMarkers(h)){var w,g=h.marker,v=1.6*(h.marker.sizeref||1);if(w=h.marker.sizemode==="area"?function(d){return Math.max(Math.sqrt((d||0)/v),3)}:function(d){return Math.max((d||0)/v,3)},y.isArrayOrTypedArray(g.size)){var m={type:"linear"};n.setConvert(m);for(var T=m.makeCalcdata(h.marker,"size"),_=new Array(c),A=0;A<c;A++)_[A]=w(T[A]);return _}return w(g.size)}}function a(h,c){var w=l(c),g=h._firstScatter;g[w]||(g[w]=c.uid)}function l(h){var c=h.stackgroup;return h.xaxis+h.yaxis+h.type+(c?"-"+c:"")}function u(h,c,w,g){var v=h.stackgroup;if(v){var m=c._scatterStackOpts[w._id+g._id][v],T=m.orientation==="v"?g:w;return T.type==="linear"||T.type==="log"?m:void 0}}S.exports={calc:function(h,c){var w,g,v,m,T,_,A=h._fullLayout,d=c._xA=n.getFromId(h,c.xaxis||"x","x"),C=c._yA=n.getFromId(h,c.yaxis||"y","y"),k=d.makeCalcdata(c,"x"),D=C.makeCalcdata(c,"y"),O=M(c,d,"x",k),L=M(c,C,"y",D),R=O.vals,z=L.vals,q=c._length,N=new Array(q),V=c.ids,Z=u(c,A,d,C),j=!1;a(A,c);var H,Y="x",ie="y";Z?(y.pushUnique(Z.traceIndices,c._expandedIndex),(w=Z.orientation==="v")?(ie="s",H="x"):(Y="s",H="y"),T=Z.stackgaps==="interpolate"):r(h,c,d,C,R,z,i(c,q));var re=!!c.xperiodalignment,ne=!!c.yperiodalignment;for(g=0;g<q;g++){var ee=N[g]={},Q=p(R[g]),X=p(z[g]);Q&&X?(ee[Y]=R[g],ee[ie]=z[g],re&&(ee.orig_x=k[g],ee.xEnd=O.ends[g],ee.xStart=O.starts[g]),ne&&(ee.orig_y=D[g],ee.yEnd=L.ends[g],ee.yStart=L.starts[g])):Z&&(w?Q:X)?(ee[H]=w?R[g]:z[g],ee.gap=!0,T?(ee.s=b,j=!0):ee.s=0):ee[Y]=ee[ie]=b,V&&(ee.id=String(V[g]))}if(t(N,c),s(h,c),o(N,c),Z){for(g=0;g<N.length;)N[g][H]===b?N.splice(g,1):g++;if(y.sort(N,function(de,be){return de[H]-be[H]||de.i-be.i}),j){for(g=0;g<N.length-1&&N[g].gap;)g++;for((_=N[g].s)||(_=N[g].s=0),v=0;v<g;v++)N[v].s=_;for(m=N.length-1;m>g&&N[m].gap;)m--;for(_=N[m].s,v=N.length-1;v>m;v--)N[v].s=_;for(;g<m;)if(N[++g].gap){for(v=g+1;N[v].gap;)v++;for(var se=N[g-1][H],ce=N[g-1].s,le=(N[v].s-ce)/(N[v][H]-se);g<v;)N[g].s=ce+(N[g][H]-se)*le,g++}}}return N},calcMarkerSize:i,calcAxisExpansion:r,setFirstScatter:a,getStackOpts:u}},4500:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){p.isArrayOrTypedArray(n.selectedpoints)&&p.tagSelected(y,n)}},90136:function(S,x,e){"use strict";var p=e(94288).hasColorscale,y=e(47128),n=e(43028);S.exports=function(M,b){n.hasLines(b)&&p(b,"line")&&y(M,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(b)&&(p(b,"marker")&&y(M,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),p(b,"marker.line")&&y(M,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(S){"use strict";S.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(S,x,e){"use strict";var p=e(16356),y=e(96376).setGroupPositions;function n(M,b,f,s,t,o,r){t[s]=!0;var i={i:null,gap:!0,s:0};if(i[r]=f,M.splice(b,0,i),b&&f===M[b-1][r]){var a=M[b-1];i.s=a.s,i.i=a.i,i.gap=a.gap}else o&&(i.s=function(l,u,h,c){var w=l[u-1],g=l[u+1];return g?w?w.s+(g.s-w.s)*(h-w[c])/(g[c]-w[c]):g.s:w.s}(M,b,f,r));b||(M[0].t=M[1].t,M[0].trace=M[1].trace,delete M[1].t,delete M[1].trace)}S.exports=function(M,b){M._fullLayout.scattermode==="group"&&function(H,Y){for(var ie=Y.xaxis,re=Y.yaxis,ne=H._fullLayout,ee=H._fullData,Q=H.calcdata,X=[],se=[],ce=0;ce<ee.length;ce++){var le=ee[ce];le.visible===!0&&le.type==="scatter"&&le.xaxis===ie._id&&le.yaxis===re._id&&(le.orientation==="h"?X.push(Q[ce]):le.orientation==="v"&&se.push(Q[ce]))}var de={mode:ne.scattermode,gap:ne.scattergap};y(H,ie,re,se,de),y(H,re,ie,X,de)}(M,b);var f=b.xaxis,s=b.yaxis,t=f._id+s._id,o=M._fullLayout._scatterStackOpts[t];if(o){var r,i,a,l,u,h,c,w,g,v,m,T,_,A,d,C=M.calcdata;for(var k in o){var D=(v=o[k]).traceIndices;if(D.length){for(m=v.stackgaps==="interpolate",T=v.groupnorm,v.orientation==="v"?(_="x",A="y"):(_="y",A="x"),d=new Array(D.length),r=0;r<d.length;r++)d[r]=!1;h=C[D[0]];var O=new Array(h.length);for(r=0;r<h.length;r++)O[r]=h[r][_];for(r=1;r<D.length;r++){for(u=C[D[r]],i=a=0;i<u.length;i++){for(c=u[i][_];c>O[a]&&a<O.length;a++)n(u,i,O[a],r,d,m,_),i++;if(c!==O[a]){for(l=0;l<r;l++)n(C[D[l]],a,c,l,d,m,_);O.splice(a,0,c)}a++}for(;a<O.length;a++)n(u,i,O[a],r,d,m,_),i++}var L=O.length;for(i=0;i<h.length;i++){for(w=h[i][A]=h[i].s,r=1;r<D.length;r++)(u=C[D[r]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=L,w+=u[i].s,u[i][A]=w;if(T)for(g=(T==="fraction"?w:w/100)||1,r=0;r<D.length;r++){var R=C[D[r]][i];R[A]/=g,R.sNorm=R.s/g}}for(r=0;r<D.length;r++){var z=(u=C[D[r]])[0].trace,q=p.calcMarkerSize(z,z._rawLength),N=Array.isArray(q);if(q&&d[r]||N){var V=q;for(q=new Array(L),i=0;i<L;i++)q[i]=u[i].gap?0:N?V[u[i].i]:V}var Z=new Array(L),j=new Array(L);for(i=0;i<L;i++)Z[i]=u[i].x,j[i]=u[i].y;p.calcAxisExpansion(M,z,f,s,Z,j,q),u[0].t.orientation=v.orientation}}}}}},35036:function(S,x,e){"use strict";var p=e(3400),y=e(20011),n=e(52904);S.exports=function(M,b){var f,s,t;function o(u){return p.coerce(s._input,s,n,u)}if(b.scattermode==="group")for(t=0;t<M.length;t++)(s=M[t]).type==="scatter"&&(f=s._input,y(f,s,b,o));for(t=0;t<M.length;t++){var r=M[t];if(r.type==="scatter"){var i=r.fill;if(i!=="none"&&i!=="toself"&&(r.opacity=void 0,i==="tonexty"||i==="tonextx"))for(var a=t-1;a>=0;a--){var l=M[a];if(l.type==="scatter"&&l.xaxis===r.xaxis&&l.yaxis===r.yaxis){l.opacity=void 0;break}}}}}},18800:function(S,x,e){"use strict";var p=e(3400),y=e(24040),n=e(52904),M=e(88200),b=e(43028),f=e(43980),s=e(31147),t=e(43912),o=e(74428),r=e(66828),i=e(11731),a=e(124),l=e(70840),u=e(3400).coercePattern;S.exports=function(h,c,w,g){function v(D,O){return p.coerce(h,c,n,D,O)}var m=f(h,c,g,v);if(m||(c.visible=!1),c.visible){s(h,c,g,v),v("xhoverformat"),v("yhoverformat"),v("zorder");var T=t(h,c,g,v);g.scattermode==="group"&&c.orientation===void 0&&v("orientation","v");var _=!T&&m<M.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",_),b.hasMarkers(c)&&o(h,c,w,g,v,{gradient:!0}),b.hasLines(c)&&(r(h,c,w,g,v,{backoff:!0}),i(h,c,v),v("connectgaps"),v("line.simplify")),b.hasText(c)&&(v("texttemplate"),a(h,c,g,v));var A=[];(b.hasMarkers(c)||b.hasText(c))&&(v("cliponaxis"),v("marker.maxdisplayed"),A.push("points")),v("fill",T?T.fillDflt:"none"),c.fill!=="none"&&(l(h,c,w,v,{moduleHasFillgradient:!0}),b.hasLines(c)||i(h,c,v),u(v,"fillpattern",c.fillcolor,!1));var d=(c.line||{}).color,C=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||A.push("fills"),v("hoveron",A.join("+")||"points"),c.hoveron!=="fills"&&v("hovertemplate");var k=y.getComponentMethod("errorbars","supplyDefaults");k(h,c,d||C||w,{axis:"y"}),k(h,c,d||C||w,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(c,v)}}},98304:function(S){"use strict";S.exports=function(x){return{valType:"color",editType:"style",anim:!0}}},70840:function(S,x,e){"use strict";var p=e(76308),y=e(3400).isArrayOrTypedArray;S.exports=function(n,M,b,f,s){s||(s={});var t,o=!1;if(M.marker){var r=M.marker.color,i=(M.marker.line||{}).color;r&&!y(r)?o=r:i&&!y(i)&&(o=i)}if(s.moduleHasFillgradient&&f("fillgradient.type")!=="none"){f("fillgradient.start"),f("fillgradient.stop");var a=f("fillgradient.colorscale");a&&(t=function(l){for(var u=p.interpolate(l[0][1],l[1][1],.5),h=2;h<l.length;h++){var c=p.interpolate(l[h-1][1],l[h][1],.5);u=p.interpolate(u,c,l[h-1][0]/l[h][0])}return u}(a))}f("fillcolor",p.addOpacity((M.line||{}).color||o||t||b,.5))}},76688:function(S,x,e){"use strict";var p=e(54460);S.exports=function(y,n,M){var b={},f={_fullLayout:M},s=p.getFromTrace(f,n,"x"),t=p.getFromTrace(f,n,"y"),o=y.orig_x;o===void 0&&(o=y.x);var r=y.orig_y;return r===void 0&&(r=y.y),b.xLabel=p.tickText(s,s.c2l(o),!0).text,b.yLabel=p.tickText(t,t.c2l(r),!0).text,b}},44928:function(S,x,e){"use strict";var p=e(76308),y=e(43028);S.exports=function(n,M){var b,f;if(n.mode==="lines")return(b=n.line.color)&&p.opacity(b)?b:n.fillcolor;if(n.mode==="none")return n.fill?n.fillcolor:"";var s=M.mcc||(n.marker||{}).color,t=M.mlcc||((n.marker||{}).line||{}).color;return(f=s&&p.opacity(s)?s:t&&p.opacity(t)&&(M.mlw||((n.marker||{}).line||{}).width)?t:"")?p.opacity(f)<.3?p.addOpacity(f,.3):f:(b=(n.line||{}).color)&&p.opacity(b)&&y.hasLines(n)&&n.line.width?b:n.fillcolor}},20011:function(S,x,e){"use strict";var p=e(71888).getAxisGroup;S.exports=function(y,n,M,b){var f=n.orientation,s=n[{v:"x",h:"y"}[f]+"axis"],t=p(M,s)+f,o=M._alignmentOpts||{},r=b("alignmentgroup"),i=o[t];i||(i=o[t]={});var a=i[r];a?a.traces.push(n):a=i[r]={traces:[n],alignmentIndex:Object.keys(i).length,offsetGroups:{}};var l=b("offsetgroup"),u=a.offsetGroups,h=u[l];l&&(h||(h=u[l]={offsetIndex:Object.keys(u).length}),n._offsetIndex=h.offsetIndex)}},98723:function(S,x,e){"use strict";var p=e(3400),y=e(93024),n=e(24040),M=e(44928),b=e(76308),f=p.fillText;S.exports=function(s,t,o,r){var i=s.cd,a=i[0].trace,l=s.xa,u=s.ya,h=l.c2p(t),c=u.c2p(o),w=[h,c],g=a.hoveron||"",v=a.mode.indexOf("markers")!==-1?3:.5,m=!!a.xperiodalignment,T=!!a.yperiodalignment;if(g.indexOf("points")!==-1){var _=function(Z){var j=Math.max(v,Z.mrc||0),H=l.c2p(Z.x)-h,Y=u.c2p(Z.y)-c;return Math.max(Math.sqrt(H*H+Y*Y)-j,1-v/j)},A=y.getDistanceFunction(r,function(Z){if(m){var j=l.c2p(Z.xStart),H=l.c2p(Z.xEnd);return h>=Math.min(j,H)&&h<=Math.max(j,H)?0:1/0}var Y=Math.max(3,Z.mrc||0),ie=1-1/Y,re=Math.abs(l.c2p(Z.x)-h);return re<Y?ie*re/Y:re-Y+ie},function(Z){if(T){var j=u.c2p(Z.yStart),H=u.c2p(Z.yEnd);return c>=Math.min(j,H)&&c<=Math.max(j,H)?0:1/0}var Y=Math.max(3,Z.mrc||0),ie=1-1/Y,re=Math.abs(u.c2p(Z.y)-c);return re<Y?ie*re/Y:re-Y+ie},_);if(y.getClosest(i,A,s),s.index!==!1){var d=i[s.index],C=l.c2p(d.x,!0),k=u.c2p(d.y,!0),D=d.mrc||1;s.index=d.i;var O=i[0].t.orientation,L=O&&(d.sNorm||d.s),R=O==="h"?L:d.orig_x!==void 0?d.orig_x:d.x,z=O==="v"?L:d.orig_y!==void 0?d.orig_y:d.y;return p.extendFlat(s,{color:M(a,d),x0:C-D,x1:C+D,xLabelVal:R,y0:k-D,y1:k+D,yLabelVal:z,spikeDistance:_(d),hovertemplate:a.hovertemplate}),f(d,a,s),n.getComponentMethod("errorbars","hoverInfo")(d,a,s),[s]}}function q(Z){if(!Z)return!1;var j=Z.node();try{var H=new DOMPoint(w[0],w[1]);return j.isPointInFill(H)}catch{var Y=j.ownerSVGElement.createSVGPoint();return Y.x=w[0],Y.y=w[1],j.isPointInFill(Y)}}if(g.indexOf("fills")!==-1&&a._fillElement&&q(a._fillElement)&&!q(a._fillExclusionElement)){var N=function(Z){var j,H,Y,ie,re,ne,ee,Q,X,se=[],ce=1/0,le=-1/0,de=1/0,be=-1/0;for(j=0;j<Z.length;j++){var _e=Z[j];_e.contains(w)&&(se.push(_e),de=Math.min(de,_e.ymin),be=Math.max(be,_e.ymax))}if(se.length===0)return null;for(H=((de=Math.max(de,0))+(be=Math.min(be,u._length)))/2,j=0;j<se.length;j++)for(ie=se[j].pts,Y=1;Y<ie.length;Y++)(Q=ie[Y-1][1])>H!=(X=ie[Y][1])>=H&&(ne=ie[Y-1][0],ee=ie[Y][0],X-Q&&(re=ne+(ee-ne)*(H-Q)/(X-Q),ce=Math.min(ce,re),le=Math.max(le,re)));return{x0:ce=Math.max(ce,0),x1:le=Math.min(le,l._length),y0:H,y1:H}}(a._polygons);N===null&&(N={x0:w[0],x1:w[0],y0:w[1],y1:w[1]});var V=b.defaultLine;return b.opacity(a.fillcolor)?V=a.fillcolor:b.opacity((a.line||{}).color)&&(V=a.line.color),p.extendFlat(s,{distance:s.maxHoverDistance,x0:N.x0,x1:N.x1,y0:N.y0,y1:N.y1,color:V,hovertemplate:!1}),delete s.index,a.text&&!p.isArrayOrTypedArray(a.text)?s.text=String(a.text):s.text=a.name,[s]}}},65875:function(S,x,e){"use strict";var p=e(43028);S.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(S){"use strict";S.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(S,x,e){"use strict";var p=e(3400),y=e(55308);S.exports=function(n,M){var b,f=M.barmode==="group";M.scattermode==="group"&&(b=f?M.bargap:.2,p.coerce(n,M,y,"scattergap",b))}},66828:function(S,x,e){"use strict";var p=e(3400).isArrayOrTypedArray,y=e(94288).hasColorscale,n=e(27260);S.exports=function(M,b,f,s,t,o){o||(o={});var r=(M.marker||{}).color;r&&r._inputArray&&(r=r._inputArray),t("line.color",f),y(M,"line")?n(M,b,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!p(r)&&r||f),t("line.width"),o.noDash||t("line.dash"),o.backoff&&t("line.backoff")}},52340:function(S,x,e){"use strict";var p=e(43616),y=e(39032),n=y.BADNUM,M=y.LOG_CLIP,b=M+.5,f=M-.5,s=e(3400),t=s.segmentsIntersect,o=s.constrain,r=e(88200);S.exports=function(i,a){var l,u,h,c,w,g,v,m,T,_,A,d,C,k,D,O,L,R,z=a.trace||{},q=a.xaxis,N=a.yaxis,V=q.type==="log",Z=N.type==="log",j=q._length,H=N._length,Y=a.backoff,ie=z.marker,re=a.connectGaps,ne=a.baseTolerance,ee=a.shape,Q=ee==="linear",X=z.fill&&z.fill!=="none",se=[],ce=r.minTolerance,le=i.length,de=new Array(le),be=0;function _e(Et){var Ye=i[Et];if(!Ye)return!1;var Xe=a.linearized?q.l2p(Ye.x):q.c2p(Ye.x),Ve=a.linearized?N.l2p(Ye.y):N.c2p(Ye.y);if(Xe===n){if(V&&(Xe=q.c2p(Ye.x,!0)),Xe===n)return!1;Z&&Ve===n&&(Xe*=Math.abs(q._m*H*(q._m>0?b:f)/(N._m*j*(N._m>0?b:f)))),Xe*=1e3}if(Ve===n){if(Z&&(Ve=N.c2p(Ye.y,!0)),Ve===n)return!1;Ve*=1e3}return[Xe,Ve]}function ve(Et,Ye,Xe,Ve){var Ze=Xe-Et,lt=Ve-Ye,it=.5-Et,Be=.5-Ye,je=Ze*Ze+lt*lt,ot=Ze*it+lt*Be;if(ot>0&&ot<je){var $e=it*lt-Be*Ze;if($e*$e<je)return!0}}function me(Et,Ye){var Xe=Et[0]/j,Ve=Et[1]/H,Ze=Math.max(0,-Xe,Xe-1,-Ve,Ve-1);return Ze&&L!==void 0&&ve(Xe,Ve,L,R)&&(Ze=0),Ze&&Ye&&ve(Xe,Ve,Ye[0]/j,Ye[1]/H)&&(Ze=0),(1+r.toleranceGrowth*Ze)*ne}function ye(Et,Ye){var Xe=Et[0]-Ye[0],Ve=Et[1]-Ye[1];return Math.sqrt(Xe*Xe+Ve*Ve)}var Se,Ie,xe,ue,ae,pe,De,Te=r.maxScreensAway,Ae=-j*Te,Ce=j*(1+Te),Re=-H*Te,Ne=H*(1+Te),ge=[[Ae,Re,Ce,Re],[Ce,Re,Ce,Ne],[Ce,Ne,Ae,Ne],[Ae,Ne,Ae,Re]];function Me(Et){if(Et[0]<Ae||Et[0]>Ce||Et[1]<Re||Et[1]>Ne)return[o(Et[0],Ae,Ce),o(Et[1],Re,Ne)]}function Ee(Et,Ye){return Et[0]===Ye[0]&&(Et[0]===Ae||Et[0]===Ce)||Et[1]===Ye[1]&&(Et[1]===Re||Et[1]===Ne)||void 0}function Fe(Et,Ye,Xe){return function(Ve,Ze){var lt=Me(Ve),it=Me(Ze),Be=[];if(lt&&it&&Ee(lt,it))return Be;lt&&Be.push(lt),it&&Be.push(it);var je=2*s.constrain((Ve[Et]+Ze[Et])/2,Ye,Xe)-((lt||Ve)[Et]+(it||Ze)[Et]);return je&&((lt&&it?je>0==lt[Et]>it[Et]?lt:it:lt||it)[Et]+=je),Be}}function Le(Et){var Ye=Et[0],Xe=Et[1],Ve=Ye===de[be-1][0],Ze=Xe===de[be-1][1];if(!Ve||!Ze)if(be>1){var lt=Ye===de[be-2][0],it=Xe===de[be-2][1];Ve&&(Ye===Ae||Ye===Ce)&&lt?it?be--:de[be-1]=Et:Ze&&(Xe===Re||Xe===Ne)&&it?lt?be--:de[be-1]=Et:de[be++]=Et}else de[be++]=Et}function Ue(Et){de[be-1][0]!==Et[0]&&de[be-1][1]!==Et[1]&&Le([xe,ue]),Le(Et),ae=null,xe=ue=0}ee==="linear"||ee==="spline"?De=function(Et,Ye){for(var Xe=[],Ve=0,Ze=0;Ze<4;Ze++){var lt=ge[Ze],it=t(Et[0],Et[1],Ye[0],Ye[1],lt[0],lt[1],lt[2],lt[3]);it&&(!Ve||Math.abs(it.x-Xe[0][0])>1||Math.abs(it.y-Xe[0][1])>1)&&(it=[it.x,it.y],Ve&&ye(it,Et)<ye(Xe[0],Et)?Xe.unshift(it):Xe.push(it),Ve++)}return Xe}:ee==="hv"||ee==="vh"?De=function(Et,Ye){var Xe=[],Ve=Me(Et),Ze=Me(Ye);return Ve&&Ze&&Ee(Ve,Ze)||(Ve&&Xe.push(Ve),Ze&&Xe.push(Ze)),Xe}:ee==="hvh"?De=Fe(0,Ae,Ce):ee==="vhv"&&(De=Fe(1,Re,Ne));var Ge=s.isArrayOrTypedArray(ie);function Ke(Et){if(Et&&Y&&(Et.i=l,Et.d=i,Et.trace=z,Et.marker=Ge?ie[Et.i]:ie,Et.backoff=Y),L=Et[0]/j,R=Et[1]/H,Se=Et[0]<Ae?Ae:Et[0]>Ce?Ce:0,Ie=Et[1]<Re?Re:Et[1]>Ne?Ne:0,Se||Ie){if(be)if(ae){var Ye=De(ae,Et);Ye.length>1&&(Ue(Ye[0]),de[be++]=Ye[1])}else pe=De(de[be-1],Et)[0],de[be++]=pe;else de[be++]=[Se||Et[0],Ie||Et[1]];var Xe=de[be-1];Se&&Ie&&(Xe[0]!==Se||Xe[1]!==Ie)?(ae&&(xe!==Se&&ue!==Ie?Le(xe&&ue?(Ve=ae,lt=(Ze=Et)[0]-Ve[0],it=(Ze[1]-Ve[1])/lt,(Ve[1]*Ze[0]-Ze[1]*Ve[0])/lt>0?[it>0?Ae:Ce,Ne]:[it>0?Ce:Ae,Re]):[xe||Se,ue||Ie]):xe&&ue&&Le([xe,ue])),Le([Se,Ie])):xe-Se&&ue-Ie&&Le([Se||xe,Ie||ue]),ae=Et,xe=Se,ue=Ie}else ae&&Ue(De(ae,Et)[0]),de[be++]=Et;var Ve,Ze,lt,it}for(l=0;l<le;l++)if(u=_e(l)){for(be=0,ae=null,Ke(u),l++;l<le;l++){if(!(c=_e(l))){if(re)continue;break}if(Q&&a.simplify){var at=_e(l+1);if(_=ye(c,u),X&&(be===0||be===le-1)||!(_<me(c,at)*ce)){for(m=[(c[0]-u[0])/_,(c[1]-u[1])/_],w=u,A=_,d=k=D=0,v=!1,h=c,l++;l<i.length;l++){if(g=at,at=_e(l+1),!g){if(re)continue;break}if(O=(T=[g[0]-u[0],g[1]-u[1]])[0]*m[1]-T[1]*m[0],k=Math.min(k,O),(D=Math.max(D,O))-k>me(g,at))break;h=g,(C=T[0]*m[0]+T[1]*m[1])>A?(A=C,c=g,v=!1):C<d&&(d=C,w=g,v=!0)}if(v?(Ke(c),h!==w&&Ke(w)):(w!==u&&Ke(w),h!==c&&Ke(c)),Ke(h),l>=i.length||!g)break;Ke(g),u=g}}else Ke(c)}ae&&Le([xe||ae[0],ue||ae[1]]),se.push(de.slice(0,be))}var st=ee.slice(ee.length-1);if(Y&&st!=="h"&&st!=="v"){for(var vt=!1,xt=-1,gt=[],nt=0;nt<se.length;nt++)for(var et=0;et<se[nt].length-1;et++){var At=se[nt][et],Pt=se[nt][et+1],Rt=p.applyBackoff(Pt,At);Rt[0]===Pt[0]&&Rt[1]===Pt[1]||(vt=!0),gt[xt+1]||(gt[++xt]=[At,[Rt[0],Rt[1]]])}return vt?gt:se}return se}},11731:function(S){"use strict";S.exports=function(x,e,p){p("line.shape")==="spline"&&p("line.smoothing")}},14328:function(S){"use strict";var x={tonextx:1,tonexty:1,tonext:1};S.exports=function(e,p,y){var n,M,b,f,s,t={},o=!1,r=-1,i=0,a=-1;for(M=0;M<y.length;M++)(b=(n=y[M][0].trace).stackgroup||"")?b in t?s=t[b]:(s=t[b]=i,i++):n.fill in x&&a>=0?s=a:(s=a=i,i++),s<r&&(o=!0),n._groupIndex=r=s;var l=y.slice();o&&l.sort(function(h,c){var w=h[0].trace,g=c[0].trace;return w._groupIndex-g._groupIndex||w.index-g.index});var u={};for(M=0;M<l.length;M++)b=(n=l[M][0].trace).stackgroup||"",n.visible===!0?(n._nexttrace=null,n.fill in x&&(f=u[b],n._prevtrace=f||null,f&&(f._nexttrace=n)),n._ownfill=n.fill&&(n.fill.substr(0,6)==="tozero"||n.fill==="toself"||n.fill.substr(0,2)==="to"&&!n._prevtrace),u[b]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return l}},7152:function(S,x,e){"use strict";var p=e(38248);S.exports=function(y,n){n||(n=2);var M=y.marker,b=M.sizeref||1,f=M.sizemin||0,s=M.sizemode==="area"?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var o=s(t/n);return p(o)&&o>0?Math.max(o,f):0}}},5528:function(S){"use strict";S.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(S,x,e){"use strict";var p=e(76308),y=e(94288).hasColorscale,n=e(27260),M=e(43028);S.exports=function(b,f,s,t,o,r){var i=M.isBubble(b),a=(b.line||{}).color;r=r||{},a&&(s=a),o("marker.symbol"),o("marker.opacity",i?.7:1),o("marker.size"),r.noAngle||(o("marker.angle"),r.noAngleRef||o("marker.angleref"),r.noStandOff||o("marker.standoff")),o("marker.color",s),y(b,"marker")&&n(b,f,t,o,{prefix:"marker.",cLetter:"c"}),r.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),r.noLine||(o("marker.line.color",a&&!Array.isArray(a)&&f.marker.color!==a?a:i?p.background:p.defaultLine),y(b,"marker.line")&&n(b,f,t,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",i?1:0)),i&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),r.gradient&&o("marker.gradient.type")!=="none"&&o("marker.gradient.color")}},31147:function(S,x,e){"use strict";var p=e(3400).dateTick0,y=e(39032).ONEWEEK;function n(M,b){return p(b,M%y==0?1:0)}S.exports=function(M,b,f,s,t){if(t||(t={x:!0,y:!0}),t.x){var o=s("xperiod");o&&(s("xperiod0",n(o,b.xcalendar)),s("xperiodalignment"))}if(t.y){var r=s("yperiod");r&&(s("yperiod0",n(r,b.ycalendar)),s("yperiodalignment"))}}},96504:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(3400),M=n.ensureSingle,b=n.identity,f=e(43616),s=e(43028),t=e(52340),o=e(14328),r=e(92065).tester;function i(a,l,u,h,c,w,g){var v,m=a._context.staticPlot;(function(Le,Ue,Ge,Ke,at){var st=Ge.xaxis,vt=Ge.yaxis,xt=p.extent(n.simpleMap(st.range,st.r2c)),gt=p.extent(n.simpleMap(vt.range,vt.r2c)),nt=Ke[0].trace;if(s.hasMarkers(nt)){var et=nt.marker.maxdisplayed;if(et!==0){var At=Ke.filter(function(Ye){return Ye.x>=xt[0]&&Ye.x<=xt[1]&&Ye.y>=gt[0]&&Ye.y<=gt[1]}),Pt=Math.ceil(At.length/et),Rt=0;at.forEach(function(Ye,Xe){var Ve=Ye[0].trace;s.hasMarkers(Ve)&&Ve.marker.maxdisplayed>0&&Xe<Ue&&Rt++});var Et=Math.round(Rt*Pt/3+Math.floor(Rt/3)*Pt/7.1);Ke.forEach(function(Ye){delete Ye.vis}),At.forEach(function(Ye,Xe){Math.round((Xe+Et)%Pt)===0&&(Ye.vis=!0)})}}})(0,l,u,h,c);var T=!!g&&g.duration>0;function _(Le){return T?Le.transition():Le}var A=u.xaxis,d=u.yaxis,C=h[0].trace,k=C.line,D=p.select(w),O=M(D,"g","errorbars"),L=M(D,"g","lines"),R=M(D,"g","points"),z=M(D,"g","text");if(y.getComponentMethod("errorbars","plot")(a,O,u,g),C.visible===!0){var q,N;_(D).style("opacity",C.opacity);var V,Z,j=C.fill.charAt(C.fill.length-1);j!=="x"&&j!=="y"&&(j=""),j==="y"?(V=1,Z=d.c2p(0,!0)):j==="x"&&(V=0,Z=A.c2p(0,!0)),h[0][u.isRangePlot?"nodeRangePlot3":"node3"]=D;var H,Y,ie="",re=[],ne=C._prevtrace,ee=null,Q=null;ne&&(ie=ne._prevRevpath||"",N=ne._nextFill,re=ne._ownPolygons,ee=ne._fillsegments,Q=ne._fillElement);var X,se,ce,le,de,be,_e="",ve="",me=[];C._polygons=[];var ye=[],Se=[],Ie=n.noop;if(q=C._ownFill,s.hasLines(C)||C.fill!=="none"){N&&N.datum(h),["hv","vh","hvh","vhv"].indexOf(k.shape)!==-1?(X=f.steps(k.shape),se=f.steps(k.shape.split("").reverse().join(""))):X=se=k.shape==="spline"?function(Le){var Ue=Le[Le.length-1];return Le.length>1&&Le[0][0]===Ue[0]&&Le[0][1]===Ue[1]?f.smoothclosed(Le.slice(1),k.smoothing):f.smoothopen(Le,k.smoothing)}:function(Le){return"M"+Le.join("L")},ce=function(Le){return se(Le.reverse())},Se=t(h,{xaxis:A,yaxis:d,trace:C,connectGaps:C.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,backoff:k.backoff,simplify:k.simplify,fill:C.fill}),ye=new Array(Se.length);var xe=0;for(v=0;v<Se.length;v++){var ue,ae=Se[v];ue&&j?ue.push.apply(ue,ae):(ue=ae.slice(),ye[xe]=ue,xe++)}C._fillElement=null,C._fillExclusionElement=Q,C._fillsegments=ye.slice(0,xe),ye=C._fillsegments,Se.length&&(le=Se[0][0].slice(),be=(de=Se[Se.length-1])[de.length-1].slice()),Ie=function(Le){return function(Ue){if(H=X(Ue),Y=ce(Ue),_e?j?(_e+="L"+H.substr(1),ve=Y+"L"+ve.substr(1)):(_e+="Z"+H,ve=Y+"Z"+ve):(_e=H,ve=Y),s.hasLines(C)){var Ge=p.select(this);if(Ge.datum(h),Le)_(Ge.style("opacity",0).attr("d",H).call(f.lineGroupStyle)).style("opacity",1);else{var Ke=_(Ge);Ke.attr("d",H),f.singleLineStyle(h,Ke)}}}}}var pe=L.selectAll(".js-line").data(Se);_(pe.exit()).style("opacity",0).remove(),pe.each(Ie(!1)),pe.enter().append("path").classed("js-line",!0).style("vector-effect",m?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(Ie(!0)),f.setClipUrl(pe,u.layerClipId,a);var De=function(){var Le=new Array(ye.length);for(v=0;v<ye.length;v++)Le[v]=r(ye[v]);return Le},Te=function(Le){var Ue,Ge;if(Le&&Le.length!==0){for(Ue=new Array(Le.length-1+ye.length),Ge=0;Ge<Le.length-1;Ge++)Ue[Ge]=r(Le[Ge]);var Ke=Le[Le.length-1].slice();for(Ke.reverse(),Ge=0;Ge<ye.length;Ge++)Ue[Le.length-1+Ge]=r(ye[Ge].concat(Ke))}else for(Ue=new Array(ye.length),Ge=0;Ge<ye.length;Ge++){var at=ye[Ge][0].slice(),st=ye[Ge][ye[Ge].length-1].slice();at[V]=st[V]=Z;var vt=[st,at].concat(ye[Ge]);Ue[Ge]=r(vt)}return Ue};Se.length?(q?(q.datum(h),le&&be&&(j?(le[V]=be[V]=Z,_(q).attr("d","M"+be+"L"+le+"L"+_e.substr(1)).call(f.singleFillStyle,a),me=Te(null)):(_(q).attr("d",_e+"Z").call(f.singleFillStyle,a),me=De())),C._polygons=me,C._fillElement=q):N&&(C.fill.substr(0,6)==="tonext"&&_e&&ie?(C.fill==="tonext"?(_(N).attr("d",_e+"Z"+ie+"Z").call(f.singleFillStyle,a),me=De(),C._polygons=me.concat(re)):(_(N).attr("d",_e+"L"+ie.substr(1)+"Z").call(f.singleFillStyle,a),me=Te(ee),C._polygons=me),C._fillElement=N):Ce(N)),C._prevRevpath=ve):(q?Ce(q):N&&Ce(N),C._prevRevpath=null),C._ownPolygons=me,R.datum(h),z.datum(h),function(Le,Ue,Ge){var Ke,at=Ge[0].trace,st=s.hasMarkers(at),vt=s.hasText(at),xt=Ee(at),gt=Fe,nt=Fe;if(st||vt){var et=b,At=at.stackgroup,Pt=At&&a._fullLayout._scatterStackOpts[A._id+d._id][At].stackgaps==="infer zero";at.marker.maxdisplayed||at._needsCull?et=Pt?Ne:Re:At&&!Pt&&(et=ge),st&&(gt=et),vt&&(nt=et)}var Rt,Et=(Ke=Le.selectAll("path.point").data(gt,xt)).enter().append("path").classed("point",!0);T&&Et.call(f.pointStyle,at,a).call(f.translatePoints,A,d).style("opacity",0).transition().style("opacity",1),Ke.order(),st&&(Rt=f.makePointStyleFns(at)),Ke.each(function(Ye){var Xe=p.select(this),Ve=_(Xe);f.translatePoint(Ye,Ve,A,d)?(f.singlePointStyle(Ye,Ve,at,Rt,a),u.layerClipId&&f.hideOutsideRangePoint(Ye,Ve,A,d,at.xcalendar,at.ycalendar),at.customdata&&Xe.classed("plotly-customdata",Ye.data!==null&&Ye.data!==void 0)):Ve.remove()}),T?Ke.exit().transition().style("opacity",0).remove():Ke.exit().remove(),(Ke=Ue.selectAll("g").data(nt,xt)).enter().append("g").classed("textpoint",!0).append("text"),Ke.order(),Ke.each(function(Ye){var Xe=p.select(this),Ve=_(Xe.select("text"));f.translatePoint(Ye,Ve,A,d)?u.layerClipId&&f.hideOutsideRangePoint(Ye,Xe,A,d,at.xcalendar,at.ycalendar):Xe.remove()}),Ke.selectAll("text").call(f.textPointStyle,at,a).each(function(Ye){var Xe=A.c2p(Ye.x),Ve=d.c2p(Ye.y);p.select(this).selectAll("tspan.line").each(function(){_(p.select(this)).attr({x:Xe,y:Ve})})}),Ke.exit().remove()}(R,z,h);var Ae=C.cliponaxis===!1?null:u.layerClipId;f.setClipUrl(R,Ae,a),f.setClipUrl(z,Ae,a)}function Ce(Le){_(Le).attr("d","M0,0Z")}function Re(Le){return Le.filter(function(Ue){return!Ue.gap&&Ue.vis})}function Ne(Le){return Le.filter(function(Ue){return Ue.vis})}function ge(Le){return Le.filter(function(Ue){return!Ue.gap})}function Me(Le){return Le.id}function Ee(Le){if(Le.ids)return Me}function Fe(){return!1}}S.exports=function(a,l,u,h,c,w){var g,v,m=!c,T=!!c&&c.duration>0,_=o(a,l,u);(g=h.selectAll("g.trace").data(_,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),g.order(),function(A,d,C){d.each(function(k){var D=M(p.select(this),"g","fills");f.setClipUrl(D,C.layerClipId,A);var O=k[0].trace,L=[];O._ownfill&&L.push("_ownFill"),O._nexttrace&&L.push("_nextFill");var R=D.selectAll("g").data(L,b);R.enter().append("g"),R.exit().each(function(z){O[z]=null}).remove(),R.order().each(function(z){O[z]=M(p.select(this),"path","js-fill")})})}(a,g,l),T?(w&&(v=w()),p.transition().duration(c.duration).ease(c.easing).each("end",function(){v&&v()}).each("interrupt",function(){v&&v()}).each(function(){h.selectAll("g.trace").each(function(A,d){i(a,d,l,A,_,this,c)})})):g.each(function(A,d){i(a,d,l,A,_,this,c)}),m&&g.exit().remove(),h.selectAll("path:not([d])").remove()}},91560:function(S,x,e){"use strict";var p=e(43028);S.exports=function(y,n){var M,b,f,s,t=y.cd,o=y.xaxis,r=y.yaxis,i=[],a=t[0].trace;if(!p.hasMarkers(a)&&!p.hasText(a))return[];if(n===!1)for(M=0;M<t.length;M++)t[M].selected=0;else for(M=0;M<t.length;M++)b=t[M],f=o.c2p(b.x),s=r.c2p(b.y),b.i!==null&&n.contains([f,s],!1,M,y)?(i.push({pointNumber:b.i,x:o.c2d(b.x),y:r.c2d(b.y)}),b.selected=1):b.selected=0;return i}},43912:function(S){"use strict";var x=["orientation","groupnorm","stackgaps"];S.exports=function(e,p,y,n){var M=y._scatterStackOpts,b=n("stackgroup");if(b){var f=p.xaxis+p.yaxis,s=M[f];s||(s=M[f]={});var t=s[b],o=!1;t?t.traces.push(p):(t=s[b]={traceIndices:[],traces:[p]},o=!0);for(var r={orientation:p.x&&!p.y?"h":"v"},i=0;i<x.length;i++){var a=x[i],l=a+"Found";if(!t[l]){var u=e[a]!==void 0,h=a==="orientation";if((u||o)&&(t[a]=n(a,r[a]),h&&(t.fillDflt=t[a]==="h"?"tonextx":"tonexty"),u&&(t[l]=!0,!o&&(delete t.traces[0][a],h))))for(var c=0;c<t.traces.length-1;c++){var w=t.traces[c];w._input.fill!==w.fill&&(w.fill=t.fillDflt)}}}return t}}},49224:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(24040);function M(f,s,t){y.pointStyle(f.selectAll("path.point"),s,t)}function b(f,s,t){y.textPointStyle(f.selectAll("text"),s,t)}S.exports={style:function(f){var s=p.select(f).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){M(p.select(this),t.trace||t[0].trace,f)}),s.selectAll("g.text").each(function(t){b(p.select(this),t.trace||t[0].trace,f)}),s.selectAll("g.trace path.js-line").call(y.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(y.fillGroupStyle,f,!1),n.getComponentMethod("errorbars","style")(s)},stylePoints:M,styleText:b,styleOnSelect:function(f,s,t){var o=s[0].trace;o.selectedpoints?(y.selectedPointStyle(t.selectAll("path.point"),o),y.selectedTextStyle(t.selectAll("text"),o)):(M(t,o,f),b(t,o,f))}}},43028:function(S,x,e){"use strict";var p=e(3400),y=e(38116).isTypedArraySpec;S.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var M=n.marker;return p.isPlainObject(M)&&(p.isArrayOrTypedArray(M.size)||y(M.size))}}},124:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n,M,b,f){f=f||{},b("textposition"),p.coerceFont(b,"textfont",f.font||M.font,f),f.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},43980:function(S,x,e){"use strict";var p=e(3400),y=e(24040);S.exports=function(n,M,b,f){var s,t=f("x"),o=f("y");if(y.getComponentMethod("calendars","handleTraceDefaults")(n,M,["x","y"],b),t){var r=p.minRowLength(t);o?s=Math.min(r,p.minRowLength(o)):(s=r,f("y0"),f("dy"))}else{if(!o)return 0;s=p.minRowLength(o),f("x0"),f("dx")}return M._length=s,s}},91592:function(S,x,e){"use strict";var p=e(52904),y=e(25376),n=e(49084),M=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(45464),t=e(99168),o=e(87792),r=e(92880).extendFlat,i=e(67824).overrideAll,a=e(95376),l=p.line,u=p.marker,h=u.line,c=r({width:l.width,dash:{valType:"enumerated",values:a(t),dflt:"solid"}},n("line")),w=S.exports=i({x:p.x,y:p.y,z:{valType:"data_array"},text:r({},p.text,{}),texttemplate:f({},{}),hovertext:r({},p.hovertext,{}),hovertemplate:b(),xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z"),mode:r({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:p.connectgaps,line:c,marker:r({symbol:{valType:"enumerated",values:a(o),dflt:"circle",arrayOk:!0},size:r({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:r({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:r({width:r({},h.width,{arrayOk:!1})},n("marker.line"))},n("marker")),textposition:r({},p.textposition,{dflt:"top center"}),textfont:y({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:s.opacity,hoverinfo:r({},s.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},41484:function(S,x,e){"use strict";var p=e(20148),y=e(90136);S.exports=function(n,M){var b=[{x:!1,y:!1,trace:M,t:{}}];return p(b,M),y(n,M),b}},45156:function(S,x,e){"use strict";var p=e(24040);function y(n,M,b,f){if(!M||!M.visible)return null;for(var s=p.getComponentMethod("errorbars","makeComputeError")(M),t=new Array(n.length),o=0;o<n.length;o++){var r=s(+n[o],o);if(f.type==="log"){var i=f.c2l(n[o]),a=n[o]-r[0],l=n[o]+r[1];if(t[o]=[(f.c2l(a,!0)-i)*b,(f.c2l(l,!0)-i)*b],a>0){var u=f.c2l(a);f._lowerLogErrorBound||(f._lowerLogErrorBound=u),f._lowerErrorBound=Math.min(f._lowerLogErrorBound,u)}}else t[o]=[-r[0]*b,r[1]*b]}return t}S.exports=function(n,M,b){var f=[y(n.x,n.error_x,M[0],b.xaxis),y(n.y,n.error_y,M[1],b.yaxis),y(n.z,n.error_z,M[2],b.zaxis)],s=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(f);if(s===0)return null;for(var t=new Array(s),o=0;o<s;o++){for(var r=[[0,0,0],[0,0,0]],i=0;i<3;i++)if(f[i])for(var a=0;a<2;a++)r[a][i]=f[i][o][a];t[o]=r}return t}},41064:function(S,x,e){"use strict";var p=e(67792).gl_line3d,y=e(67792).gl_scatter3d,n=e(67792).gl_error3d,M=e(67792).gl_mesh3d,b=e(67792).delaunay_triangulate,f=e(3400),s=e(43080),t=e(33040).formatColor,o=e(7152),r=e(99168),i=e(87792),a=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function h(d,C){this.scene=d,this.uid=C,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=h.prototype;function w(d){return d==null?0:d.indexOf("left")>-1?-1:d.indexOf("right")>-1?1:0}function g(d){return d==null?0:d.indexOf("top")>-1?-1:d.indexOf("bottom")>-1?1:0}function v(d,C){return C(4*d)}function m(d){return i[d]}function T(d,C,k,D,O){var L=null;if(f.isArrayOrTypedArray(d)){L=[];for(var R=0;R<C;R++)d[R]===void 0?L[R]=D:L[R]=k(d[R],O)}else L=k(d,f.identity);return L}function _(d){if(f.isArrayOrTypedArray(d)){var C=d[0];return f.isArrayOrTypedArray(C)&&(d=C),"rgb("+d.slice(0,3).map(function(k){return Math.round(255*k)})+")"}return null}function A(d){return f.isArrayOrTypedArray(d)?d.length===4&&typeof d[0]=="number"?_(d):d.map(_):null}c.handlePick=function(d){if(d.object&&(d.object===this.linePlot||d.object===this.delaunayMesh||d.object===this.textMarkers||d.object===this.scatterPlot)){var C=d.index=d.data.index;return d.object.highlight&&d.object.highlight(null),this.scatterPlot&&(d.object=this.scatterPlot,this.scatterPlot.highlight(d.data)),d.textLabel="",this.textLabels&&(f.isArrayOrTypedArray(this.textLabels)?(this.textLabels[C]||this.textLabels[C]===0)&&(d.textLabel=this.textLabels[C]):d.textLabel=this.textLabels),d.traceCoordinate=[this.data.x[C],this.data.y[C],this.data.z[C]],!0}},c.update=function(d){var C,k,D,O,L=this.scene.glplot.gl,R=r.solid;this.data=d;var z=function(V,Z){var j,H,Y,ie,re,ne,ee=[],Q=V.fullSceneLayout,X=V.dataScale,se=Q.xaxis,ce=Q.yaxis,le=Q.zaxis,de=Z.marker,be=Z.line,_e=Z.x||[],ve=Z.y||[],me=Z.z||[],ye=_e.length,Se=Z.xcalendar,Ie=Z.ycalendar,xe=Z.zcalendar;for(re=0;re<ye;re++)j=se.d2l(_e[re],0,Se)*X[0],H=ce.d2l(ve[re],0,Ie)*X[1],Y=le.d2l(me[re],0,xe)*X[2],ee[re]=[j,H,Y];if(Array.isArray(Z.text))ne=Z.text;else if(f.isTypedArray(Z.text))ne=Array.from(Z.text);else if(Z.text!==void 0)for(ne=new Array(ye),re=0;re<ye;re++)ne[re]=Z.text;function ue(Ue,Ge){var Ke=Q[Ue];return a.tickText(Ke,Ke.d2l(Ge),!0).text}var ae=Z.texttemplate;if(ae){var pe=V.fullLayout._d3locale,De=Array.isArray(ae),Te=De?Math.min(ae.length,ye):ye,Ae=De?function(Ue){return ae[Ue]}:function(){return ae};for(ne=new Array(Te),re=0;re<Te;re++){var Ce={x:_e[re],y:ve[re],z:me[re]},Re={xLabel:ue("xaxis",_e[re]),yLabel:ue("yaxis",ve[re]),zLabel:ue("zaxis",me[re])},Ne={};l(Ne,Z,re);var ge=Z._meta||{};ne[re]=f.texttemplateString(Ae(re),Re,pe,Ne,Ce,ge)}}if(ie={position:ee,mode:Z.mode,text:ne},"line"in Z&&(ie.lineColor=t(be,1,ye),ie.lineWidth=be.width,ie.lineDashes=be.dash),"marker"in Z){var Me=o(Z);ie.scatterColor=t(de,1,ye),ie.scatterSize=T(de.size,ye,v,20,Me),ie.scatterMarker=T(de.symbol,ye,m,"\u25CF"),ie.scatterLineWidth=de.line.width,ie.scatterLineColor=t(de.line,1,ye),ie.scatterAngle=0}"textposition"in Z&&(ie.textOffset=function(Ue){var Ge=[0,0];if(Array.isArray(Ue))for(var Ke=0;Ke<Ue.length;Ke++)Ge[Ke]=[0,0],Ue[Ke]&&(Ge[Ke][0]=w(Ue[Ke]),Ge[Ke][1]=g(Ue[Ke]));else Ge[0]=w(Ue),Ge[1]=g(Ue);return Ge}(Z.textposition),ie.textColor=t(Z.textfont,1,ye),ie.textSize=T(Z.textfont.size,ye,f.identity,12),ie.textFontFamily=Z.textfont.family,ie.textFontWeight=Z.textfont.weight,ie.textFontStyle=Z.textfont.style,ie.textFontVariant=Z.textfont.variant,ie.textAngle=0);var Ee=["x","y","z"];for(ie.project=[!1,!1,!1],ie.projectScale=[1,1,1],ie.projectOpacity=[1,1,1],re=0;re<3;++re){var Fe=Z.projection[Ee[re]];(ie.project[re]=Fe.show)&&(ie.projectOpacity[re]=Fe.opacity,ie.projectScale[re]=Fe.scale)}ie.errorBounds=u(Z,X,Q);var Le=function(Ue){for(var Ge=[0,0,0],Ke=[[0,0,0],[0,0,0],[0,0,0]],at=[1,1,1],st=0;st<3;st++){var vt=Ue[st];vt&&vt.copy_zstyle!==!1&&Ue[2].visible!==!1&&(vt=Ue[2]),vt&&vt.visible&&(Ge[st]=vt.width/2,Ke[st]=s(vt.color),at[st]=vt.thickness)}return{capSize:Ge,color:Ke,lineWidth:at}}([Z.error_x,Z.error_y,Z.error_z]);return ie.errorColor=Le.color,ie.errorLineWidth=Le.lineWidth,ie.errorCapSize=Le.capSize,ie.delaunayAxis=Z.surfaceaxis,ie.delaunayColor=s(Z.surfacecolor),ie}(this.scene,d);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in r&&(R=r[z.lineDashes]),this.color=A(z.scatterColor)||A(z.lineColor),this.dataPoints=z.position,C={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:R[0],dashScale:R[1],opacity:d.opacity,connectGaps:d.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(C):(this.linePlot=p(C),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var q=d.opacity;if(d.marker&&d.marker.opacity!==void 0&&(q*=d.marker.opacity),k={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:q,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(k):(this.scatterPlot=y(k),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:d.opacity},this.textLabels=d.hovertext||d.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=y(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),D={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:d.opacity},this.errorBars?z.errorBounds?this.errorBars.update(D):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=n(D),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var N=function(V,Z,j){var H,Y=(j+1)%3,ie=(j+2)%3,re=[],ne=[];for(H=0;H<V.length;++H){var ee=V[H];!isNaN(ee[Y])&&isFinite(ee[Y])&&!isNaN(ee[ie])&&isFinite(ee[ie])&&(re.push([ee[Y],ee[ie]]),ne.push(H))}var Q=b(re);for(H=0;H<Q.length;++H)for(var X=Q[H],se=0;se<X.length;++se)X[se]=ne[X[se]];return{positions:V,cells:Q,meshColor:Z}}(z.position,z.delaunayColor,z.delaunayAxis);N.opacity=d.opacity,this.delaunayMesh?this.delaunayMesh.update(N):(N.gl=L,this.delaunayMesh=M(N),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},S.exports=function(d,C){var k=new h(d,C.uid);return k.update(C),k}},83484:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(43028),M=e(74428),b=e(66828),f=e(124),s=e(91592);S.exports=function(t,o,r,i){function a(m,T){return y.coerce(t,o,s,m,T)}var l=function(m,T,_,A){var d=0,C=_("x"),k=_("y"),D=_("z");return p.getComponentMethod("calendars","handleTraceDefaults")(m,T,["x","y","z"],A),C&&k&&D&&(d=Math.min(C.length,k.length,D.length),T._length=T._xlength=T._ylength=T._zlength=d),d}(t,o,a,i);if(l){a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),a("mode"),n.hasMarkers(o)&&M(t,o,r,i,a,{noSelect:!0,noAngle:!0}),n.hasLines(o)&&(a("connectgaps"),b(t,o,r,i,a)),n.hasText(o)&&(a("texttemplate"),f(t,o,i,a,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var u=(o.line||{}).color,h=(o.marker||{}).color;a("surfaceaxis")>=0&&a("surfacecolor",u||h);for(var c=["x","y","z"],w=0;w<3;++w){var g="projection."+c[w];a(g+".show")&&(a(g+".opacity"),a(g+".scale"))}var v=p.getComponentMethod("errorbars","supplyDefaults");v(t,o,u||h||r,{axis:"z"}),v(t,o,u||h||r,{axis:"y",inherit:"z"}),v(t,o,u||h||r,{axis:"x",inherit:"z"})}else o.visible=!1}},3296:function(S,x,e){"use strict";S.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(S,x,e){"use strict";var p=e(98304),y=e(52904),n=e(45464),M=e(21776).Ks,b=e(21776).Gw,f=e(49084),s=e(92880).extendFlat,t=y.marker,o=y.line,r=t.line;S.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:s({},y.mode,{dflt:"markers"}),text:s({},y.text,{}),texttemplate:b({editType:"plot"},{keys:["a","b","text"]}),hovertext:s({},y.hovertext,{}),line:{color:o.color,width:o.width,dash:o.dash,backoff:o.backoff,shape:s({},o.shape,{values:["linear","spline"]}),smoothing:o.smoothing,editType:"calc"},connectgaps:y.connectgaps,fill:s({},y.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p(),marker:s({symbol:t.symbol,opacity:t.opacity,maxdisplayed:t.maxdisplayed,angle:t.angle,angleref:t.angleref,standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:r.width,editType:"calc"},f("marker.line")),gradient:t.gradient,editType:"calc"},f("marker")),textfont:y.textfont,textposition:y.textposition,selected:y.selected,unselected:y.unselected,hoverinfo:s({},n.hoverinfo,{flags:["a","b","text","name"]}),hoveron:y.hoveron,hovertemplate:M(),zorder:y.zorder}},48228:function(S,x,e){"use strict";var p=e(38248),y=e(90136),n=e(20148),M=e(4500),b=e(16356).calcMarkerSize,f=e(50948);S.exports=function(s,t){var o=t._carpetTrace=f(s,t);if(o&&o.visible&&o.visible!=="legendonly"){var r;t.xaxis=o.xaxis,t.yaxis=o.yaxis;var i,a,l=t._length,u=new Array(l),h=!1;for(r=0;r<l;r++)if(i=t.a[r],a=t.b[r],p(i)&&p(a)){var c=o.ab2xy(+i,+a,!0),w=o.isVisible(+i,+a);w||(h=!0),u[r]={x:c[0],y:c[1],a:i,b:a,vis:w}}else u[r]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=o,u[0].trace=t,b(t,l),y(s,t),n(u,t),M(u,t),u}}},6176:function(S,x,e){"use strict";var p=e(3400),y=e(88200),n=e(43028),M=e(74428),b=e(66828),f=e(11731),s=e(124),t=e(70840),o=e(90372);S.exports=function(r,i,a,l){function u(v,m){return p.coerce(r,i,o,v,m)}u("carpet"),i.xaxis="x",i.yaxis="y";var h=u("a"),c=u("b"),w=Math.min(h.length,c.length);if(w){i._length=w,u("text"),u("texttemplate"),u("hovertext"),u("mode",w<y.PTS_LINESONLY?"lines+markers":"lines"),n.hasMarkers(i)&&M(r,i,a,l,u,{gradient:!0}),n.hasLines(i)&&(b(r,i,a,l,u,{backoff:!0}),f(r,i,u),u("connectgaps")),n.hasText(i)&&s(r,i,l,u);var g=[];(n.hasMarkers(i)||n.hasText(i))&&(u("marker.maxdisplayed"),g.push("points")),u("fill"),i.fill!=="none"&&(t(r,i,a,u),n.hasLines(i)||f(r,i,u)),i.fill!=="tonext"&&i.fill!=="toself"||g.push("fills"),u("hoveron",g.join("+")||"points")!=="fills"&&u("hovertemplate"),u("zorder"),p.coerceSelectionMarkerOpacity(i,u)}else i.visible=!1}},89307:function(S){"use strict";S.exports=function(x,e,p,y,n){var M=y[n];return x.a=M.a,x.b=M.b,x.y=M.y,x}},52364:function(S){"use strict";S.exports=function(x,e){var p={},y=e._carpet,n=y.ab2ij([x.a,x.b]),M=Math.floor(n[0]),b=n[0]-M,f=Math.floor(n[1]),s=n[1]-f,t=y.evalxy([],M,f,b,s);return p.yLabel=t[1].toFixed(3),p}},58960:function(S,x,e){"use strict";var p=e(98723),y=e(3400).fillText;S.exports=function(n,M,b,f){var s=p(n,M,b,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0){var o=1-t.y0/n.ya._length,r=n.xa._length,i=r*o/2,a=r-i;return t.x0=Math.max(Math.min(t.x0,a),i),t.x1=Math.max(Math.min(t.x1,a),i),s}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,h=u._carpet,c=u._module.formatLabels(l,u);t.yLabel=c.yLabel,delete t.text;var w=[];if(!u.hovertemplate){var g=(l.hi||u.hoverinfo).split("+");g.indexOf("all")!==-1&&(g=["a","b","text"]),g.indexOf("a")!==-1&&v(h.aaxis,l.a),g.indexOf("b")!==-1&&v(h.baxis,l.b),w.push("y: "+t.yLabel),g.indexOf("text")!==-1&&y(l,u,w),t.extraText=w.join("<br>")}return s}function v(m,T){var _;_=m.labelprefix&&m.labelprefix.length>0?m.labelprefix.replace(/ = $/,""):m._hovertitle,w.push(_+": "+T.toFixed(3)+m.labelsuffix)}}},4184:function(S,x,e){"use strict";S.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(S,x,e){"use strict";var p=e(96504),y=e(54460),n=e(43616);S.exports=function(M,b,f,s){var t,o,r,i=f[0][0].carpet,a=y.getFromId(M,i.xaxis||"x"),l=y.getFromId(M,i.yaxis||"y"),u={xaxis:a,yaxis:l,plot:b.plot};for(t=0;t<f.length;t++)(o=f[t][0].trace)._xA=a,o._yA=l;for(p(M,u,f,s),t=0;t<f.length;t++)o=f[t][0].trace,r=s.selectAll("g.trace"+o.uid+" .js-line"),n.setClipUrl(r,f[t][0].carpet._clipPathId,M)}},6096:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(98304),M=e(52904),b=e(45464),f=e(49084),s=e(98192).u,t=e(92880).extendFlat,o=e(67824).overrideAll,r=M.marker,i=M.line,a=r.line;S.exports=o({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:t({},M.mode,{dflt:"markers"}),text:t({},M.text,{}),texttemplate:y({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:t({},M.hovertext,{}),textfont:M.textfont,textposition:M.textposition,line:{color:i.color,width:i.width,dash:s},connectgaps:M.connectgaps,marker:t({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:t({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:t({width:a.width},f("marker.line")),gradient:r.gradient},f("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n(),selected:M.selected,unselected:M.unselected,hoverinfo:t({},b.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},25212:function(S,x,e){"use strict";var p=e(38248),y=e(39032).BADNUM,n=e(90136),M=e(20148),b=e(4500),f=e(3400).isArrayOrTypedArray,s=e(3400)._;function t(o){return o&&typeof o=="string"}S.exports=function(o,r){var i,a=f(r.locations),l=a?r.locations.length:r._length,u=new Array(l);i=r.geojson?function(m){return t(m)||p(m)}:t;for(var h=0;h<l;h++){var c=u[h]={};if(a){var w=r.locations[h];c.loc=i(w)?w:null}else{var g=r.lon[h],v=r.lat[h];p(g)&&p(v)?c.lonlat=[+g,+v]:c.lonlat=[y,y]}}return M(u,r),n(o,r),b(u,r),l&&(u[0].t={labels:{lat:s(o,"lat:")+" ",lon:s(o,"lon:")+" "}}),u}},86188:function(S,x,e){"use strict";var p=e(3400),y=e(43028),n=e(74428),M=e(66828),b=e(124),f=e(70840),s=e(6096);S.exports=function(t,o,r,i){function a(v,m){return p.coerce(t,o,s,v,m)}var l,u=a("locations");if(u&&u.length){var h,c=a("geojson");(typeof c=="string"&&c!==""||p.isPlainObject(c))&&(h="geojson-id"),a("locationmode",h)==="geojson-id"&&a("featureidkey"),l=u.length}else{var w=a("lon")||[],g=a("lat")||[];l=Math.min(w.length,g.length)}l?(o._length=l,a("text"),a("hovertext"),a("hovertemplate"),a("mode"),y.hasMarkers(o)&&n(t,o,r,i,a,{gradient:!0}),y.hasLines(o)&&(M(t,o,r,i,a),a("connectgaps")),y.hasText(o)&&(a("texttemplate"),b(t,o,i,a)),a("fill"),o.fill!=="none"&&f(t,o,r,a),p.coerceSelectionMarkerOpacity(o,a)):o.visible=!1}},58544:function(S){"use strict";S.exports=function(x,e,p,y,n){x.lon=e.lon,x.lat=e.lat,x.location=e.loc?e.loc:null;var M=y[n];return M.fIn&&M.fIn.properties&&(x.properties=M.fIn.properties),x}},56696:function(S,x,e){"use strict";var p=e(54460);S.exports=function(y,n,M){var b={},f=M[n.geo]._subplot.mockAxis,s=y.lonlat;return b.lonLabel=p.tickText(f,f.c2l(s[0]),!0).text,b.latLabel=p.tickText(f,f.c2l(s[1]),!0).text,b}},64292:function(S,x,e){"use strict";var p=e(93024),y=e(39032).BADNUM,n=e(44928),M=e(3400).fillText,b=e(6096);S.exports=function(f,s,t){var o=f.cd,r=o[0].trace,i=f.xa,a=f.ya,l=f.subplot,u=l.projection.isLonLatOverEdges,h=l.project;if(p.getClosest(o,function(_){var A=_.lonlat;if(A[0]===y||u(A))return 1/0;var d=h(A),C=h([s,t]),k=Math.abs(d[0]-C[0]),D=Math.abs(d[1]-C[1]),O=Math.max(3,_.mrc||0);return Math.max(Math.sqrt(k*k+D*D)-O,1-3/O)},f),f.index!==!1){var c=o[f.index],w=c.lonlat,g=[i.c2p(w),a.c2p(w)],v=c.mrc||1;f.x0=g[0]-v,f.x1=g[0]+v,f.y0=g[1]-v,f.y1=g[1]+v,f.loc=c.loc,f.lon=w[0],f.lat=w[1];var m={};m[r.geo]={_subplot:l};var T=r._module.formatLabels(c,r,m);return f.lonLabel=T.lonLabel,f.latLabel=T.latLabel,f.color=n(r,c),f.extraText=function(_,A,d,C){if(!_.hovertemplate){var k=A.hi||_.hoverinfo,D=k==="all"?b.hoverinfo.flags:k.split("+"),O=D.indexOf("location")!==-1&&Array.isArray(_.locations),L=D.indexOf("lon")!==-1,R=D.indexOf("lat")!==-1,z=D.indexOf("text")!==-1,q=[];return O?q.push(A.loc):L&&R?q.push("("+N(d.latLabel)+", "+N(d.lonLabel)+")"):L?q.push(C.lon+N(d.lonLabel)):R&&q.push(C.lat+N(d.latLabel)),z&&M(A,_,q),q.join("<br>")}function N(V){return V+"\xB0"}}(r,c,f,o[0].t.labels),f.hovertemplate=r.hovertemplate,[f]}}},36952:function(S,x,e){"use strict";S.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(59972).getTopojsonFeatures,M=e(44808),b=e(27144),f=e(19280).findExtremes,s=e(39032).BADNUM,t=e(16356).calcMarkerSize,o=e(43028),r=e(25064);S.exports={calcGeoJSON:function(i,a){var l,u,h=i[0].trace,c=a[h.geo],w=c._subplot,g=h._length;if(y.isArrayOrTypedArray(h.locations)){var v=h.locationmode,m=v==="geojson-id"?b.extractTraceFeature(i):n(h,w.topojson);for(l=0;l<g;l++){u=i[l];var T=v==="geojson-id"?u.fOut:b.locationToFeature(v,u.loc,m);u.lonlat=T?T.properties.ct:[s,s]}}var _,A,d={padded:!0};if(c.fitbounds==="geojson"&&h.locationmode==="geojson-id"){var C=b.computeBbox(b.getTraceGeojson(h));_=[C[0],C[2]],A=[C[1],C[3]]}else{for(_=new Array(g),A=new Array(g),l=0;l<g;l++)u=i[l],_[l]=u.lonlat[0],A[l]=u.lonlat[1];d.ppad=t(h,g)}h._extremes.lon=f(c.lonaxis._ax,_,d),h._extremes.lat=f(c.lataxis._ax,A,d)},plot:function(i,a,l){var u=a.layers.frontplot.select(".scatterlayer"),h=y.makeTraceGroups(u,l,"trace scattergeo");function c(w,g){w.lonlat[0]===s&&p.select(g).remove()}h.selectAll("*").remove(),h.each(function(w){var g=p.select(this),v=w[0].trace;if(o.hasLines(v)||v.fill!=="none"){var m=M.calcTraceToLineCoords(w),T=v.fill!=="none"?M.makePolygon(m):M.makeLine(m);g.selectAll("path.js-line").data([{geojson:T,trace:v}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}o.hasMarkers(v)&&g.selectAll("path.point").data(y.identity).enter().append("path").classed("point",!0).each(function(_){c(_,this)}),o.hasText(v)&&g.selectAll("g").data(y.identity).enter().append("g").append("text").each(function(_){c(_,this)}),r(i,w)})}}},8796:function(S,x,e){"use strict";var p=e(43028),y=e(39032).BADNUM;S.exports=function(n,M){var b,f,s,t,o,r=n.cd,i=n.xaxis,a=n.yaxis,l=[],u=r[0].trace;if(!p.hasMarkers(u)&&!p.hasText(u))return[];if(M===!1)for(o=0;o<r.length;o++)r[o].selected=0;else for(o=0;o<r.length;o++)(f=(b=r[o]).lonlat)[0]!==y&&(s=i.c2p(f),t=a.c2p(f),M.contains([s,t],null,o,n)?(l.push({pointNumber:o,lon:f[0],lat:f[1]}),b.selected=1):b.selected=0);return l}},25064:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(76308),M=e(49224),b=M.stylePoints,f=M.styleText;S.exports=function(s,t){t&&function(o,r){var i=r[0].trace,a=r[0].node3;a.style("opacity",r[0].trace.opacity),b(a,i,o),f(a,i,o),a.selectAll("path.js-line").style("fill","none").each(function(l){var u=p.select(this),h=l.trace,c=h.line||{};u.call(n.stroke,c.color).call(y.dashLine,c.dash||"",c.width||0),h.fill!=="none"&&u.call(n.fill,h.fillcolor)})}(s,t)}},2876:function(S,x,e){"use strict";var p=e(45464),y=e(25376),n=e(98304),M=e(52904),b=e(29736).axisHoverFormat,f=e(49084),s=e(95376),t=e(92880).extendFlat,o=e(67824).overrideAll,r=e(67072).DASHES,i=M.line,a=M.marker,l=a.line,u=S.exports=o({x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),text:M.text,hovertext:M.hovertext,textposition:M.textposition,textfont:y({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:s(r),dflt:"solid"}},marker:t({},f("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:t({},f("marker.line"),{width:l.width})}),connectgaps:M.connectgaps,fill:t({},M.fill,{dflt:"none"}),fillcolor:n(),selected:{marker:M.selected.marker,textfont:M.selected.textfont},unselected:{marker:M.unselected.marker,textfont:M.unselected.textfont},opacity:p.opacity},"calc","nested");u.x.editType=u.y.editType=u.x0.editType=u.y0.editType="calc+clearAxisTypes",u.hovertemplate=M.hovertemplate,u.texttemplate=M.texttemplate},64628:function(S,x,e){"use strict";var p=e(41272);S.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:p.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(S,x,e){"use strict";var p=e(3108),y=e(3400),n=e(79811),M=e(19280).findExtremes,b=e(1220),f=e(16356),s=f.calcMarkerSize,t=f.calcAxisExpansion,o=f.setFirstScatter,r=e(90136),i=e(84236),a=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function h(c,w,g){var v=c._extremes[w._id],m=M(w,g._bnds,{padded:!0});v.min=v.min.concat(m.min),v.max=v.max.concat(m.max)}S.exports=function(c,w){var g,v=c._fullLayout,m=w._xA=n.getFromId(c,w.xaxis,"x"),T=w._yA=n.getFromId(c,w.yaxis,"y"),_=v._plots[w.xaxis+w.yaxis],A=w._length,d=A>=u,C=2*A,k={},D=m.makeCalcdata(w,"x"),O=T.makeCalcdata(w,"y"),L=b(w,m,"x",D),R=b(w,T,"y",O),z=L.vals,q=R.vals;w._x=z,w._y=q,w.xperiodalignment&&(w._origX=D,w._xStarts=L.starts,w._xEnds=L.ends),w.yperiodalignment&&(w._origY=O,w._yStarts=R.starts,w._yEnds=R.ends);var N=new Array(C),V=new Array(A);for(g=0;g<A;g++)N[2*g]=z[g]===l?NaN:z[g],N[2*g+1]=q[g]===l?NaN:q[g],V[g]=g;if(m.type==="log")for(g=0;g<C;g+=2)N[g]=m.c2l(N[g]);if(T.type==="log")for(g=1;g<C;g+=2)N[g]=T.c2l(N[g]);d&&m.type!=="log"&&T.type!=="log"?k.tree=p(N):k.ids=V,r(c,w);var Z,j=function(Y,ie,re,ne,ee,Q){var X=i.style(Y,re);if(X.marker&&(X.marker.positions=ne),X.line&&ne.length>1&&y.extendFlat(X.line,i.linePositions(Y,re,ne)),X.errorX||X.errorY){var se=i.errorBarPositions(Y,re,ne,ee,Q);X.errorX&&y.extendFlat(X.errorX,se.x),X.errorY&&y.extendFlat(X.errorY,se.y)}return X.text&&(y.extendFlat(X.text,{positions:ne},i.textPosition(Y,re,X.text,X.marker)),y.extendFlat(X.textSel,{positions:ne},i.textPosition(Y,re,X.text,X.markerSel)),y.extendFlat(X.textUnsel,{positions:ne},i.textPosition(Y,re,X.text,X.markerUnsel))),X}(c,0,w,N,z,q),H=a(c,_);return o(v,w),d?j.marker&&(Z=j.marker.sizeAvg||Math.max(j.marker.size,3)):Z=s(w,A),t(c,w,m,T,z,q,Z),j.errorX&&h(w,m,j.errorX),j.errorY&&h(w,T,j.errorY),j.fill&&!H.fill2d&&(H.fill2d=!0),j.marker&&!H.scatter2d&&(H.scatter2d=!0),j.line&&!H.line2d&&(H.line2d=!0),!j.errorX&&!j.errorY||H.error2d||(H.error2d=!0),j.text&&!H.glText&&(H.glText=!0),j.marker&&(j.marker.snap=A),H.lineOptions.push(j.line),H.errorXOptions.push(j.errorX),H.errorYOptions.push(j.errorY),H.fillOptions.push(j.fill),H.markerOptions.push(j.marker),H.markerSelectedOptions.push(j.markerSel),H.markerUnselectedOptions.push(j.markerUnsel),H.textOptions.push(j.text),H.textSelectedOptions.push(j.textSel),H.textUnselectedOptions.push(j.textUnsel),H.selectBatch.push([]),H.unselectBatch.push([]),k._scene=H,k.index=H.count,k.x=z,k.y=q,k.positions=N,H.count++,[{x:!1,y:!1,t:k,trace:w}]}},67072:function(S){"use strict";S.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(S,x,e){"use strict";var p=e(38248),y=e(20472),n=e(72160),M=e(24040),b=e(3400),f=b.isArrayOrTypedArray,s=e(43616),t=e(79811),o=e(33040).formatColor,r=e(43028),i=e(7152),a=e(80088),l=e(67072),u=e(13448).DESELECTDIM,h={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function w(L,R){var z,q=L._fullLayout,N=R._length,V=R.textfont,Z=R.textposition,j=f(Z)?Z:[Z],H=V.color,Y=V.size,ie=V.family,re=V.weight,ne=V.style,ee=V.variant,Q={},X=L._context.plotGlPixelRatio,se=R.texttemplate;if(se){Q.text=[];var ce=q._d3locale,le=Array.isArray(se),de=le?Math.min(se.length,N):N,be=le?function(xe){return se[xe]}:function(){return se};for(z=0;z<de;z++){var _e={i:z},ve=R._module.formatLabels(_e,R,q),me={};c(me,R,z);var ye=R._meta||{};Q.text.push(b.texttemplateString(be(z),ve,ce,me,_e,ye))}}else f(R.text)&&R.text.length<N?Q.text=R.text.slice():Q.text=R.text;if(f(Q.text))for(z=Q.text.length;z<N;z++)Q.text[z]="";for(Q.opacity=R.opacity,Q.font={},Q.align=[],Q.baseline=[],z=0;z<j.length;z++){var Se=j[z].split(/\s+/);switch(Se[1]){case"left":Q.align.push("right");break;case"right":Q.align.push("left");break;default:Q.align.push(Se[1])}switch(Se[0]){case"top":Q.baseline.push("bottom");break;case"bottom":Q.baseline.push("top");break;default:Q.baseline.push(Se[0])}}if(f(H))for(Q.color=new Array(N),z=0;z<N;z++)Q.color[z]=H[z];else Q.color=H;if(f(Y)||Array.isArray(ie)||f(re)||Array.isArray(ne)||Array.isArray(ee))for(Q.font=new Array(N),z=0;z<N;z++){var Ie=Q.font[z]={};Ie.size=(b.isTypedArray(Y)?Y[z]:f(Y)?p(Y[z])?Y[z]:0:Y)*X,Ie.family=Array.isArray(ie)?ie[z]:ie,Ie.weight=g(f(re)?re[z]:re),Ie.style=Array.isArray(ne)?ne[z]:ne,Ie.variant=Array.isArray(ee)?ee[z]:ee}else Q.font={size:Y*X,family:ie,weight:g(re),style:ne,variant:ee};return Q}function g(L){return L<=1e3?L>500?"bold":"normal":L}function v(L,R){var z,q,N=R._length,V=R.marker,Z={},j=f(V.symbol),H=f(V.angle),Y=f(V.color),ie=f(V.line.color),re=f(V.opacity),ne=f(V.size),ee=f(V.line.width);if(j||(q=a.isOpenSymbol(V.symbol)),j||Y||ie||re||H){Z.symbols=new Array(N),Z.angles=new Array(N),Z.colors=new Array(N),Z.borderColors=new Array(N);var Q=V.symbol,X=V.angle,se=o(V,V.opacity,N),ce=o(V.line,V.opacity,N);if(!f(ce[0])){var le=ce;for(ce=Array(N),z=0;z<N;z++)ce[z]=le}if(!f(se[0])){var de=se;for(se=Array(N),z=0;z<N;z++)se[z]=de}if(!f(Q)){var be=Q;for(Q=Array(N),z=0;z<N;z++)Q[z]=be}if(!f(X)){var _e=X;for(X=Array(N),z=0;z<N;z++)X[z]=_e}for(Z.symbols=Q,Z.angles=X,Z.colors=se,Z.borderColors=ce,z=0;z<N;z++)j&&(q=a.isOpenSymbol(V.symbol[z])),q&&(ce[z]=se[z].slice(),se[z]=se[z].slice(),se[z][3]=0);for(Z.opacity=R.opacity,Z.markers=new Array(N),z=0;z<N;z++)Z.markers[z]=O({mx:Z.symbols[z],ma:Z.angles[z]},R)}else q?(Z.color=n(V.color,"uint8"),Z.color[3]=0,Z.borderColor=n(V.color,"uint8")):(Z.color=n(V.color,"uint8"),Z.borderColor=n(V.line.color,"uint8")),Z.opacity=R.opacity*V.opacity,Z.marker=O({mx:V.symbol,ma:V.angle},R);var ve,me=i(R,1);if(ne||ee){var ye,Se=Z.sizes=new Array(N),Ie=Z.borderSizes=new Array(N),xe=0;if(ne){for(z=0;z<N;z++)Se[z]=me(V.size[z]),xe+=Se[z];ye=xe/N}else for(ve=me(V.size),z=0;z<N;z++)Se[z]=ve;if(ee)for(z=0;z<N;z++)Ie[z]=V.line.width[z];else for(ve=V.line.width,z=0;z<N;z++)Ie[z]=ve;Z.sizeAvg=ye}else Z.size=me(V&&V.size||10),Z.borderSizes=me(V.line.width);return Z}function m(L,R,z){var q=R.marker,N={};return z&&(z.marker&&z.marker.symbol?N=v(0,b.extendFlat({},q,z.marker)):z.marker&&(z.marker.size&&(N.size=z.marker.size),z.marker.color&&(N.colors=z.marker.color),z.marker.opacity!==void 0&&(N.opacity=z.marker.opacity))),N}function T(L,R,z){var q={};if(!z)return q;if(z.textfont){var N={opacity:1,text:R.text,texttemplate:R.texttemplate,textposition:R.textposition,textfont:b.extendFlat({},R.textfont)};z.textfont&&b.extendFlat(N.textfont,z.textfont),q=w(L,N)}return q}function _(L,R,z){var q={capSize:2*R.width*z,lineWidth:R.thickness*z,color:R.color};return R.copy_ystyle&&(q=L.error_y),q}var A=l.SYMBOL_SDF_SIZE,d=l.SYMBOL_SIZE,C=l.SYMBOL_STROKE,k={},D=s.symbolFuncs[0](.05*d);function O(L,R){var z,q,N=L.mx;if(N==="circle")return null;var V=s.symbolNumber(N),Z=s.symbolFuncs[V%100],j=!!s.symbolNoDot[V%100],H=!!s.symbolNoFill[V%100],Y=a.isDotSymbol(N);if(L.ma&&(N+="_"+L.ma),k[N])return k[N];var ie=s.getMarkerAngle(L,R);return z=Y&&!j?Z(1.1*d,ie)+D:Z(d,ie),q=y(z,{w:A,h:A,viewBox:[-d,-d,d,d],stroke:H?C:-C}),k[N]=q,q||null}S.exports={style:function(L,R){var z,q={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},N=L._context.plotGlPixelRatio;if(R.visible!==!0)return q;if(r.hasText(R)&&(q.text=w(L,R),q.textSel=T(L,R,R.selected),q.textUnsel=T(L,R,R.unselected)),r.hasMarkers(R)&&(q.marker=v(0,R),q.markerSel=m(0,R,R.selected),q.markerUnsel=m(0,R,R.unselected),!R.unselected&&f(R.marker.opacity))){var V=R.marker.opacity;for(q.markerUnsel.opacity=new Array(V.length),z=0;z<V.length;z++)q.markerUnsel.opacity[z]=u*V[z]}if(r.hasLines(R)){q.line={overlay:!0,thickness:R.line.width*N,color:R.line.color,opacity:R.opacity};var Z=(l.DASHES[R.line.dash]||[1]).slice();for(z=0;z<Z.length;++z)Z[z]*=R.line.width*N;q.line.dashes=Z}return R.error_x&&R.error_x.visible&&(q.errorX=_(R,R.error_x,N)),R.error_y&&R.error_y.visible&&(q.errorY=_(R,R.error_y,N)),R.fill&&R.fill!=="none"&&(q.fill={closed:!0,fill:R.fillcolor,thickness:0}),q},markerStyle:v,markerSelection:m,linePositions:function(L,R,z){var q,N,V=z.length,Z=V/2;if(r.hasLines(R)&&Z)if(R.line.shape==="hv"){for(q=[],N=0;N<Z-1;N++)isNaN(z[2*N])||isNaN(z[2*N+1])?q.push(NaN,NaN,NaN,NaN):(q.push(z[2*N],z[2*N+1]),isNaN(z[2*N+2])||isNaN(z[2*N+3])?q.push(NaN,NaN):q.push(z[2*N+2],z[2*N+1]));q.push(z[V-2],z[V-1])}else if(R.line.shape==="hvh"){for(q=[],N=0;N<Z-1;N++)if(isNaN(z[2*N])||isNaN(z[2*N+1])||isNaN(z[2*N+2])||isNaN(z[2*N+3]))isNaN(z[2*N])||isNaN(z[2*N+1])?q.push(NaN,NaN):q.push(z[2*N],z[2*N+1]),q.push(NaN,NaN);else{var j=(z[2*N]+z[2*N+2])/2;q.push(z[2*N],z[2*N+1],j,z[2*N+1],j,z[2*N+3])}q.push(z[V-2],z[V-1])}else if(R.line.shape==="vhv"){for(q=[],N=0;N<Z-1;N++)if(isNaN(z[2*N])||isNaN(z[2*N+1])||isNaN(z[2*N+2])||isNaN(z[2*N+3]))isNaN(z[2*N])||isNaN(z[2*N+1])?q.push(NaN,NaN):q.push(z[2*N],z[2*N+1]),q.push(NaN,NaN);else{var H=(z[2*N+1]+z[2*N+3])/2;q.push(z[2*N],z[2*N+1],z[2*N],H,z[2*N+2],H)}q.push(z[V-2],z[V-1])}else if(R.line.shape==="vh"){for(q=[],N=0;N<Z-1;N++)isNaN(z[2*N])||isNaN(z[2*N+1])?q.push(NaN,NaN,NaN,NaN):(q.push(z[2*N],z[2*N+1]),isNaN(z[2*N+2])||isNaN(z[2*N+3])?q.push(NaN,NaN):q.push(z[2*N],z[2*N+3]));q.push(z[V-2],z[V-1])}else q=z;var Y=!1;for(N=0;N<q.length;N++)if(isNaN(q[N])){Y=!0;break}var ie=Y||q.length>l.TOO_MANY_POINTS||r.hasMarkers(R)?"rect":"round";if(Y&&R.connectgaps){var re=q[0],ne=q[1];for(N=0;N<q.length;N+=2)isNaN(q[N])||isNaN(q[N+1])?(q[N]=re,q[N+1]=ne):(re=q[N],ne=q[N+1])}return{join:ie,positions:q}},errorBarPositions:function(L,R,z,q,N){var V=M.getComponentMethod("errorbars","makeComputeError"),Z=t.getFromId(L,R.xaxis,"x"),j=t.getFromId(L,R.yaxis,"y"),H=z.length/2,Y={};function ie(re,ne){var ee=ne._id.charAt(0),Q=R["error_"+ee];if(Q&&Q.visible&&(ne.type==="linear"||ne.type==="log")){for(var X=V(Q),se={x:0,y:1}[ee],ce={x:[0,1,2,3],y:[2,3,0,1]}[ee],le=new Float64Array(4*H),de=1/0,be=-1/0,_e=0,ve=0;_e<H;_e++,ve+=4){var me=re[_e];if(p(me)){var ye=z[2*_e+se],Se=X(me,_e),Ie=Se[0],xe=Se[1];if(p(Ie)&&p(xe)){var ue=me-Ie,ae=me+xe;le[ve+ce[0]]=ye-ne.c2l(ue),le[ve+ce[1]]=ne.c2l(ae)-ye,le[ve+ce[2]]=0,le[ve+ce[3]]=0,de=Math.min(de,me-Ie),be=Math.max(be,me+xe)}}}Y[ee]={positions:z,errors:le,_bnds:[de,be]}}}return ie(q,Z),ie(N,j),Y},textPosition:function(L,R,z,q){var N,V=R._length,Z={};if(r.hasMarkers(R)){var j=z.font,H=z.align,Y=z.baseline;for(Z.offset=new Array(V),N=0;N<V;N++){var ie=q.sizes?q.sizes[N]:q.size,re=f(j)?j[N].size:j.size,ne=f(H)?H.length>1?H[N]:H[0]:H,ee=f(Y)?Y.length>1?Y[N]:Y[0]:Y,Q=h[ne],X=h[ee],se=ie?ie/.8+1:0,ce=-X*se-.5*X;Z.offset[N]=[Q*se/re,ce/re]}}return Z}}},80220:function(S,x,e){"use strict";var p=e(3400),y=e(24040),n=e(80088),M=e(2876),b=e(88200),f=e(43028),s=e(43980),t=e(31147),o=e(74428),r=e(66828),i=e(70840),a=e(124);S.exports=function(l,u,h,c){function w(C,k){return p.coerce(l,u,M,C,k)}var g=!!l.marker&&n.isOpenSymbol(l.marker.symbol),v=f.isBubble(l),m=s(l,u,c,w);if(m){t(l,u,c,w),w("xhoverformat"),w("yhoverformat");var T=m<b.PTS_LINESONLY?"lines+markers":"lines";w("text"),w("hovertext"),w("hovertemplate"),w("mode",T),f.hasMarkers(u)&&(o(l,u,h,c,w,{noAngleRef:!0,noStandOff:!0}),w("marker.line.width",g||v?1:0)),f.hasLines(u)&&(w("connectgaps"),r(l,u,h,c,w),w("line.shape")),f.hasText(u)&&(w("texttemplate"),a(l,u,c,w,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var _=(u.line||{}).color,A=(u.marker||{}).color;w("fill"),u.fill!=="none"&&i(l,u,h,w);var d=y.getComponentMethod("errorbars","supplyDefaults");d(l,u,_||A||h,{axis:"y"}),d(l,u,_||A||h,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(u,w)}else u.visible=!1}},26768:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(13448).DESELECTDIM;S.exports={styleTextSelection:function(M){var b,f,s=M[0],t=s.trace,o=s.t,r=o._scene,i=o.index,a=r.selectBatch[i],l=r.unselectBatch[i],u=r.textOptions[i],h=r.textSelectedOptions[i]||{},c=r.textUnselectedOptions[i]||{},w=p.extendFlat({},u);if(a.length||l.length){var g=h.color,v=c.color,m=u.color,T=p.isArrayOrTypedArray(m);for(w.color=new Array(t._length),b=0;b<a.length;b++)f=a[b],w.color[f]=g||(T?m[f]:m);for(b=0;b<l.length;b++){f=l[b];var _=T?m[f]:m;w.color[f]=v||(g?_:y.addOpacity(_,n))}}r.glText[i].update(w)}}},99396:function(S,x,e){"use strict";var p=e(76688);S.exports=function(y,n,M){var b=y.i;return"x"in y||(y.x=n._x[b]),"y"in y||(y.y=n._y[b]),p(y,n,M)}},80088:function(S,x,e){"use strict";var p=e(67072);x.isOpenSymbol=function(y){return typeof y=="string"?p.OPEN_RE.test(y):y%200>100},x.isDotSymbol=function(y){return typeof y=="string"?p.DOT_RE.test(y):y>200}},41272:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(44928);function M(b,f,s,t){var o=b.xa,r=b.ya,i=b.distance,a=b.dxy,l=b.index,u={pointNumber:l,x:f[l],y:s[l]};u.tx=y.isArrayOrTypedArray(t.text)?t.text[l]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(u.ts=y.isArrayOrTypedArray(h.size)?h.size[l]:h.size,u.tc=y.isArrayOrTypedArray(h.color)?h.color[l]:h.color,u.tf=Array.isArray(h.family)?h.family[l]:h.family,u.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,u.ty=Array.isArray(h.style)?h.style[l]:h.style,u.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var c=t.marker;c&&(u.ms=y.isArrayOrTypedArray(c.size)?c.size[l]:c.size,u.mo=y.isArrayOrTypedArray(c.opacity)?c.opacity[l]:c.opacity,u.mx=y.isArrayOrTypedArray(c.symbol)?c.symbol[l]:c.symbol,u.ma=y.isArrayOrTypedArray(c.angle)?c.angle[l]:c.angle,u.mc=y.isArrayOrTypedArray(c.color)?c.color[l]:c.color);var w=c&&c.line;w&&(u.mlc=Array.isArray(w.color)?w.color[l]:w.color,u.mlw=y.isArrayOrTypedArray(w.width)?w.width[l]:w.width);var g=c&&c.gradient;g&&g.type!=="none"&&(u.mgt=Array.isArray(g.type)?g.type[l]:g.type,u.mgc=Array.isArray(g.color)?g.color[l]:g.color);var v=o.c2p(u.x,!0),m=r.c2p(u.y,!0),T=u.mrc||1,_=t.hoverlabel;_&&(u.hbg=Array.isArray(_.bgcolor)?_.bgcolor[l]:_.bgcolor,u.hbc=Array.isArray(_.bordercolor)?_.bordercolor[l]:_.bordercolor,u.hts=y.isArrayOrTypedArray(_.font.size)?_.font.size[l]:_.font.size,u.htc=Array.isArray(_.font.color)?_.font.color[l]:_.font.color,u.htf=Array.isArray(_.font.family)?_.font.family[l]:_.font.family,u.hnl=y.isArrayOrTypedArray(_.namelength)?_.namelength[l]:_.namelength);var A=t.hoverinfo;A&&(u.hi=Array.isArray(A)?A[l]:A);var d=t.hovertemplate;d&&(u.ht=Array.isArray(d)?d[l]:d);var C={};C[b.index]=u;var k=t._origX,D=t._origY,O=y.extendFlat({},b,{color:n(t,u),x0:v-T,x1:v+T,xLabelVal:k?k[l]:u.x,y0:m-T,y1:m+T,yLabelVal:D?D[l]:u.y,cd:C,distance:i,spikeDistance:a,hovertemplate:u.ht});return u.htx?O.text=u.htx:u.tx?O.text=u.tx:t.text&&(O.text=t.text),y.fillText(u,t,O),p.getComponentMethod("errorbars","hoverInfo")(u,t,O),O}S.exports={hoverPoints:function(b,f,s,t){var o,r,i,a,l,u,h,c,w,g,v=b.cd,m=v[0].t,T=v[0].trace,_=b.xa,A=b.ya,d=m.x,C=m.y,k=_.c2p(f),D=A.c2p(s),O=b.distance;if(m.tree){var L=_.p2c(k-O),R=_.p2c(k+O),z=A.p2c(D-O),q=A.p2c(D+O);o=t==="x"?m.tree.range(Math.min(L,R),Math.min(A._rl[0],A._rl[1]),Math.max(L,R),Math.max(A._rl[0],A._rl[1])):m.tree.range(Math.min(L,R),Math.min(z,q),Math.max(L,R),Math.max(z,q))}else o=m.ids;var N=O;if(t==="x"){var V=!!T.xperiodalignment,Z=!!T.yperiodalignment;for(u=0;u<o.length;u++){if(a=d[r=o[u]],h=Math.abs(_.c2p(a)-k),V){var j=_.c2p(T._xStarts[r]),H=_.c2p(T._xEnds[r]);h=k>=Math.min(j,H)&&k<=Math.max(j,H)?0:1/0}if(h<N){if(N=h,l=C[r],c=A.c2p(l)-D,Z){var Y=A.c2p(T._yStarts[r]),ie=A.c2p(T._yEnds[r]);c=D>=Math.min(Y,ie)&&D<=Math.max(Y,ie)?0:1/0}g=Math.sqrt(h*h+c*c),i=o[u]}}}else for(u=o.length-1;u>-1;u--)a=d[r=o[u]],l=C[r],h=_.c2p(a)-k,c=A.c2p(l)-D,(w=Math.sqrt(h*h+c*c))<N&&(N=g=w,i=r);return b.index=i,b.distance=N,b.dxy=g,i===void 0?[b]:[M(b,d,C,T)]},calcHover:M}},38983:function(S,x,e){"use strict";var p=e(64628);p.plot=e(89876),S.exports=p},89876:function(S,x,e){"use strict";var p=e(38540),y=e(13472),n=e(24544),M=e(23352),b=e(3400),f=e(72760).selectMode,s=e(5048),t=e(43028),o=e(14328),r=e(26768).styleTextSelection,i={};function a(l,u,h,c){var w=l._size,g=l.width*c,v=l.height*c,m=w.l*c,T=w.b*c,_=w.r*c,A=w.t*c,d=w.w*c,C=w.h*c;return[m+u.domain[0]*d,T+h.domain[0]*C,g-_-(1-u.domain[1])*d,v-A-(1-h.domain[1])*C]}(S.exports=function(l,u,h){if(h.length){var c,w,g=l._fullLayout,v=u._scene,m=u.xaxis,T=u.yaxis;if(v)if(s(l,["ANGLE_instanced_arrays","OES_element_index_uint"],i)){var _=v.count,A=g._glcanvas.data()[0].regl;if(o(l,u,h),v.dirty){if(!v.line2d&&!v.error2d||v.scatter2d||v.fill2d||v.glText||A.clear({}),v.error2d===!0&&(v.error2d=n(A)),v.line2d===!0&&(v.line2d=y(A)),v.scatter2d===!0&&(v.scatter2d=p(A)),v.fill2d===!0&&(v.fill2d=y(A)),v.glText===!0)for(v.glText=new Array(_),c=0;c<_;c++)v.glText[c]=new M(A);if(v.glText){if(_>v.glText.length){var d=_-v.glText.length;for(c=0;c<d;c++)v.glText.push(new M(A))}else if(_<v.glText.length){var C=v.glText.length-_;v.glText.splice(_,C).forEach(function(se){se.destroy()})}for(c=0;c<_;c++)v.glText[c].update(v.textOptions[c])}if(v.line2d&&(v.line2d.update(v.lineOptions),v.lineOptions=v.lineOptions.map(function(se){if(se&&se.positions){for(var ce=se.positions,le=0;le<ce.length&&(isNaN(ce[le])||isNaN(ce[le+1]));)le+=2;for(var de=ce.length-2;de>le&&(isNaN(ce[de])||isNaN(ce[de+1]));)de-=2;se.positions=ce.slice(le,de+2)}return se}),v.line2d.update(v.lineOptions)),v.error2d){var k=(v.errorXOptions||[]).concat(v.errorYOptions||[]);v.error2d.update(k)}v.scatter2d&&v.scatter2d.update(v.markerOptions),v.fillOrder=b.repeat(null,_),v.fill2d&&(v.fillOptions=v.fillOptions.map(function(se,ce){var le=h[ce];if(se&&le&&le[0]&&le[0].trace){var de,be,_e=le[0],ve=_e.trace,me=_e.t,ye=v.lineOptions[ce],Se=[];ve._ownfill&&Se.push(ce),ve._nexttrace&&Se.push(ce+1),Se.length&&(v.fillOrder[ce]=Se);var Ie,xe,ue=[],ae=ye&&ye.positions||me.positions;if(ve.fill==="tozeroy"){for(Ie=0;Ie<ae.length&&isNaN(ae[Ie+1]);)Ie+=2;for(xe=ae.length-2;xe>Ie&&isNaN(ae[xe+1]);)xe-=2;ae[Ie+1]!==0&&(ue=[ae[Ie],0]),ue=ue.concat(ae.slice(Ie,xe+2)),ae[xe+1]!==0&&(ue=ue.concat([ae[xe],0]))}else if(ve.fill==="tozerox"){for(Ie=0;Ie<ae.length&&isNaN(ae[Ie]);)Ie+=2;for(xe=ae.length-2;xe>Ie&&isNaN(ae[xe]);)xe-=2;ae[Ie]!==0&&(ue=[0,ae[Ie+1]]),ue=ue.concat(ae.slice(Ie,xe+2)),ae[xe]!==0&&(ue=ue.concat([0,ae[xe+1]]))}else if(ve.fill==="toself"||ve.fill==="tonext"){for(ue=[],de=0,se.splitNull=!0,be=0;be<ae.length;be+=2)(isNaN(ae[be])||isNaN(ae[be+1]))&&((ue=ue.concat(ae.slice(de,be))).push(ae[de],ae[de+1]),ue.push(null,null),de=be+2);ue=ue.concat(ae.slice(de)),de&&ue.push(ae[de],ae[de+1])}else{var pe=ve._nexttrace;if(pe){var De=v.lineOptions[ce+1];if(De){var Te=De.positions;if(ve.fill==="tonexty"){for(ue=ae.slice(),ce=Math.floor(Te.length/2);ce--;){var Ae=Te[2*ce],Ce=Te[2*ce+1];isNaN(Ae)||isNaN(Ce)||ue.push(Ae,Ce)}se.fill=pe.fillcolor}}}}if(ve._prevtrace&&ve._prevtrace.fill==="tonext"){var Re=v.lineOptions[ce-1].positions,Ne=ue.length/2,ge=[de=Ne];for(be=0;be<Re.length;be+=2)(isNaN(Re[be])||isNaN(Re[be+1]))&&(ge.push(be/2+Ne+1),de=be+2);ue=ue.concat(Re),se.hole=ge}return se.fillmode=ve.fill,se.opacity=ve.opacity,se.positions=ue,se}}),v.fill2d.update(v.fillOptions))}var D=g.dragmode,O=f(D),L=g.clickmode.indexOf("select")>-1;for(c=0;c<_;c++){var R=h[c][0],z=R.trace,q=R.t,N=q.index,V=z._length,Z=q.x,j=q.y;if(z.selectedpoints||O||L){if(O||(O=!0),z.selectedpoints){var H=v.selectBatch[N]=b.selIndices2selPoints(z),Y={};for(w=0;w<H.length;w++)Y[H[w]]=1;var ie=[];for(w=0;w<V;w++)Y[w]||ie.push(w);v.unselectBatch[N]=ie}var re=q.xpx=new Array(V),ne=q.ypx=new Array(V);for(w=0;w<V;w++)re[w]=m.c2p(Z[w]),ne[w]=T.c2p(j[w])}else q.xpx=q.ypx=null}if(O){if(v.select2d||(v.select2d=p(g._glcanvas.data()[1].regl)),v.scatter2d){var ee=new Array(_);for(c=0;c<_;c++)ee[c]=v.selectBatch[c].length||v.unselectBatch[c].length?v.markerUnselectedOptions[c]:{};v.scatter2d.update(ee)}v.select2d&&(v.select2d.update(v.markerOptions),v.select2d.update(v.markerSelectedOptions)),v.glText&&h.forEach(function(se){var ce=((se||[])[0]||{}).trace||{};t.hasText(ce)&&r(se)})}else v.scatter2d&&v.scatter2d.update(v.markerOptions);var Q={viewport:a(g,m,T,l._context.plotGlPixelRatio),range:[(m._rl||m.range)[0],(T._rl||T.range)[0],(m._rl||m.range)[1],(T._rl||T.range)[1]]},X=b.repeat(Q,v.count);v.fill2d&&v.fill2d.update(X),v.line2d&&v.line2d.update(X),v.error2d&&v.error2d.update(X.concat(X)),v.scatter2d&&v.scatter2d.update(X),v.select2d&&v.select2d.update(X),v.glText&&v.glText.forEach(function(se){se.update(Q)})}else v.init()}}).reglPrecompiled=i},74588:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){var M=n._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},f={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return n._scene||((M=n._scene={}).init=function(){p.extendFlat(M,f,b)},M.init(),M.update=function(s){var t=p.repeat(s,M.count);if(M.fill2d&&M.fill2d.update(t),M.scatter2d&&M.scatter2d.update(t),M.line2d&&M.line2d.update(t),M.error2d&&M.error2d.update(t.concat(t)),M.select2d&&M.select2d.update(t),M.glText)for(var o=0;o<M.count;o++)M.glText[o].update(s)},M.draw=function(){for(var s=M.count,t=M.fill2d,o=M.error2d,r=M.line2d,i=M.scatter2d,a=M.glText,l=M.select2d,u=M.selectBatch,h=M.unselectBatch,c=0;c<s;c++){if(t&&M.fillOrder[c]&&t.draw(M.fillOrder[c]),r&&M.lineOptions[c]&&r.draw(c),o&&(M.errorXOptions[c]&&o.draw(c),M.errorYOptions[c]&&o.draw(c+s)),i&&M.markerOptions[c])if(h[c].length){var w=p.repeat([],M.count);w[c]=h[c],i.draw(w)}else u[c].length||i.draw(c);a[c]&&M.textOptions[c]&&a[c].render()}l&&l.draw(u),M.dirty=!1},M.destroy=function(){M.fill2d&&M.fill2d.destroy&&M.fill2d.destroy(),M.scatter2d&&M.scatter2d.destroy&&M.scatter2d.destroy(),M.error2d&&M.error2d.destroy&&M.error2d.destroy(),M.line2d&&M.line2d.destroy&&M.line2d.destroy(),M.select2d&&M.select2d.destroy&&M.select2d.destroy(),M.glText&&M.glText.forEach(function(s){s.destroy&&s.destroy()}),M.lineOptions=null,M.fillOptions=null,M.markerOptions=null,M.markerSelectedOptions=null,M.markerUnselectedOptions=null,M.errorXOptions=null,M.errorYOptions=null,M.textOptions=null,M.textSelectedOptions=null,M.textUnselectedOptions=null,M.selectBatch=null,M.unselectBatch=null,n._scene=null}),M.dirty||p.extendFlat(M,b),M}},73224:function(S,x,e){"use strict";var p=e(43028),y=e(26768).styleTextSelection;S.exports=function(n,M){var b=n.cd,f=n.xaxis,s=n.yaxis,t=[],o=b[0].trace,r=b[0].t,i=o._length,a=r.x,l=r.y,u=r._scene,h=r.index;if(!u)return t;var c=p.hasText(o),w=p.hasMarkers(o),g=!w&&!c;if(o.visible!==!0||g)return t;var v=[],m=[];if(M!==!1&&!M.degenerate)for(var T=0;T<i;T++)M.contains([r.xpx[T],r.ypx[T]],!1,T,n)?(v.push(T),t.push({pointNumber:T,x:f.c2d(a[T]),y:s.c2d(l[T])})):m.push(T);if(w){var _=u.scatter2d;if(v.length||m.length){if(!u.selectBatch[h].length&&!u.unselectBatch[h].length){var A=new Array(u.count);A[h]=u.markerUnselectedOptions[h],_.update.apply(_,A)}}else{var d=new Array(u.count);d[h]=u.markerOptions[h],_.update.apply(_,d)}}return u.selectBatch[h]=v,u.unselectBatch[h]=m,c&&y(b),t}},31512:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(98304),M=e(6096),b=e(52904),f=e(5232),s=e(45464),t=e(49084),o=e(92880).extendFlat,r=e(67824).overrideAll,i=e(5232),a=M.line,l=M.marker;S.exports=r({lon:M.lon,lat:M.lat,cluster:{enabled:{valType:"boolean"},maxzoom:o({},i.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:o({},l.opacity,{dflt:1})},mode:o({},b.mode,{dflt:"markers"}),text:o({},b.text,{}),texttemplate:y({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:o({},b.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:b.connectgaps,marker:o({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},t("marker")),fill:M.fill,fillcolor:n(),textfont:f.layers.symbol.textfont,textposition:f.layers.symbol.textposition,below:{valType:"string"},selected:{marker:b.selected.marker},unselected:{marker:b.unselected.marker},hoverinfo:o({},s.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},79732:function(S){"use strict";var x=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];S.exports={isSupportedFont:function(e){return x.indexOf(e)!==-1}}},59392:function(S,x,e){"use strict";var p=e(38248),y=e(3400),n=e(39032).BADNUM,M=e(44808),b=e(8932),f=e(43616),s=e(7152),t=e(43028),o=e(79732).isSupportedFont,r=e(89032),i=e(10624).appendArrayPointValue,a=e(72736).NEWLINES,l=e(72736).BR_TAG_ALL;function u(m){return{type:m,geojson:M.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function h(m,T){return y.isArrayOrTypedArray(m)?T?function(_){return p(m[_])?+m[_]:0}:function(_){return m[_]}:m?function(){return m}:c}function c(){return""}function w(m){return m[0]===n}function g(m,T){var _;if(y.isArrayOrTypedArray(m)&&y.isArrayOrTypedArray(T)){_=["step",["get","point_count"],m[0]];for(var A=1;A<m.length;A++)_.push(T[A-1],m[A])}else _=m;return _}function v(m){var T=m.textfont,_=T.family,A=T.style,d=T.weight,C=_.split(" "),k=C[C.length-1]==="Italic";k&&C.pop(),k=k||A==="italic";var D=C.join(" ");return d==="bold"&&C.indexOf("Bold")===-1?D+=" Bold":d<=1e3&&(C[0]==="Metropolis"?(D="Metropolis",D+=d>850?" Black":d>750?" Extra Bold":d>650?" Bold":d>550?" Semi Bold":d>450?" Medium":d>350?" Regular":d>250?" Light":d>150?" Extra Light":" Thin"):C.slice(0,2).join(" ")==="Open Sans"?(D="Open Sans",D+=d>750?" Extrabold":d>650?" Bold":d>550?" Semibold":d>350?" Regular":" Light"):C.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(D="Klokantech Noto Sans",C[3]==="CJK"&&(D+=" CJK"),D+=d>500?" Bold":" Regular")),k&&(D+=" Italic"),D==="Open Sans Regular Italic"?D="Open Sans Italic":D==="Open Sans Regular Bold"?D="Open Sans Bold":D==="Open Sans Regular Bold Italic"?D="Open Sans Bold Italic":D==="Klokantech Noto Sans Regular Italic"&&(D="Klokantech Noto Sans Italic"),o(D)||(D=_),D.split(", ")}S.exports=function(m,T){var _,A=T[0].trace,d=A.visible===!0&&A._length!==0,C=A.fill!=="none",k=t.hasLines(A),D=t.hasMarkers(A),O=t.hasText(A),L=D&&A.marker.symbol==="circle",R=D&&A.marker.symbol!=="circle",z=A.cluster&&A.cluster.enabled,q=u("fill"),N=u("line"),V=u("circle"),Z=u("symbol"),j={fill:q,line:N,circle:V,symbol:Z};if(!d)return j;if((C||k)&&(_=M.calcTraceToLineCoords(T)),C&&(q.geojson=M.makePolygon(_),q.layout.visibility="visible",y.extendFlat(q.paint,{"fill-color":A.fillcolor})),k&&(N.geojson=M.makeLine(_),N.layout.visibility="visible",y.extendFlat(N.paint,{"line-width":A.line.width,"line-color":A.line.color,"line-opacity":A.opacity})),L){var H=function(re){var ne,ee,Q,X,se=re[0].trace,ce=se.marker,le=se.selectedpoints,de=y.isArrayOrTypedArray(ce.color),be=y.isArrayOrTypedArray(ce.size),_e=y.isArrayOrTypedArray(ce.opacity);function ve(pe){return se.opacity*pe}de&&(ee=b.hasColorscale(se,"marker")?b.makeColorScaleFuncFromTrace(ce):y.identity),be&&(Q=s(se)),_e&&(X=function(pe){return ve(p(pe)?+y.constrain(pe,0,1):0)});var me,ye,Se=[];for(ne=0;ne<re.length;ne++){var Ie=re[ne],xe=Ie.lonlat;if(!w(xe)){var ue={};ee&&(ue.mcc=Ie.mcc=ee(Ie.mc)),Q&&(ue.mrc=Ie.mrc=Q(Ie.ms)),X&&(ue.mo=X(Ie.mo)),le&&(ue.selected=Ie.selected||0),Se.push({type:"Feature",id:ne+1,geometry:{type:"Point",coordinates:xe},properties:ue})}}if(le)for(me=f.makeSelectedPointStyleFns(se),ne=0;ne<Se.length;ne++){var ae=Se[ne].properties;me.selectedOpacityFn&&(ae.mo=ve(me.selectedOpacityFn(ae))),me.selectedColorFn&&(ae.mcc=me.selectedColorFn(ae)),me.selectedSizeFn&&(ae.mrc=me.selectedSizeFn(ae))}return{geojson:{type:"FeatureCollection",features:Se},mcc:de||me&&me.selectedColorFn?{type:"identity",property:"mcc"}:ce.color,mrc:be||me&&me.selectedSizeFn?{type:"identity",property:"mrc"}:(ye=ce.size,ye/2),mo:_e||me&&me.selectedOpacityFn?{type:"identity",property:"mo"}:ve(ce.opacity)}}(T);V.geojson=H.geojson,V.layout.visibility="visible",z&&(V.filter=["!",["has","point_count"]],j.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":g(A.cluster.color,A.cluster.step),"circle-radius":g(A.cluster.size,A.cluster.step),"circle-opacity":g(A.cluster.opacity,A.cluster.step)}},j.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":v(A),"text-size":12}}),y.extendFlat(V.paint,{"circle-color":H.mcc,"circle-radius":H.mrc,"circle-opacity":H.mo})}if(L&&z&&(V.filter=["!",["has","point_count"]]),(R||O)&&(Z.geojson=function(re,ne){for(var ee=ne._fullLayout,Q=re[0].trace,X=Q.marker||{},se=X.symbol,ce=X.angle,le=se!=="circle"?h(se):c,de=ce!=="auto"?h(ce,!0):c,be=t.hasText(Q)?h(Q.text):c,_e=[],ve=0;ve<re.length;ve++){var me=re[ve];if(!w(me.lonlat)){var ye,Se=Q.texttemplate;if(Se){var Ie=Array.isArray(Se)?Se[ve]||"":Se,xe=Q._module.formatLabels(me,Q,ee),ue={};i(ue,Q,me.i);var ae=Q._meta||{};ye=y.texttemplateString(Ie,xe,ee._d3locale,ue,me,ae)}else ye=be(ve);ye&&(ye=ye.replace(a,"").replace(l,`
`)),_e.push({type:"Feature",geometry:{type:"Point",coordinates:me.lonlat},properties:{symbol:le(ve),angle:de(ve),text:ye}})}}return{type:"FeatureCollection",features:_e}}(T,m),y.extendFlat(Z.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),R&&(y.extendFlat(Z.layout,{"icon-size":A.marker.size/10}),"angle"in A.marker&&A.marker.angle!=="auto"&&y.extendFlat(Z.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),Z.layout["icon-allow-overlap"]=A.marker.allowoverlap,y.extendFlat(Z.paint,{"icon-opacity":A.opacity*A.marker.opacity,"icon-color":A.marker.color})),O)){var Y=(A.marker||{}).size,ie=r(A.textposition,Y);y.extendFlat(Z.layout,{"text-size":A.textfont.size,"text-anchor":ie.anchor,"text-offset":ie.offset,"text-font":v(A)}),y.extendFlat(Z.paint,{"text-color":A.textfont.color,"text-opacity":A.opacity})}return j}},15752:function(S,x,e){"use strict";var p=e(3400),y=e(43028),n=e(74428),M=e(66828),b=e(124),f=e(70840),s=e(31512),t=e(79732).isSupportedFont;S.exports=function(o,r,i,a){function l(A,d){return p.coerce(o,r,s,A,d)}function u(A,d){return p.coerce2(o,r,s,A,d)}var h=function(A,d,C){var k=C("lon")||[],D=C("lat")||[],O=Math.min(k.length,D.length);return d._length=O,O}(0,r,l);if(h){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),y.hasMarkers(r)){n(o,r,i,a,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var c=r.marker;c.symbol!=="circle"&&(p.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),p.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}y.hasLines(r)&&(M(o,r,i,a,l,{noDash:!0}),l("connectgaps"));var w=u("cluster.maxzoom"),g=u("cluster.step"),v=u("cluster.color",r.marker&&r.marker.color||i),m=u("cluster.size"),T=u("cluster.opacity");if(l("cluster.enabled",w!==!1||g!==!1||v!==!1||m!==!1||T!==!1)||y.hasText(r)){var _=a.font.family;b(o,r,a,l,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:t(_)?_:"Open Sans Regular",weight:a.font.weight,style:a.font.style,size:a.font.size,color:a.font.color}})}l("fill"),r.fill!=="none"&&f(o,r,i,l),p.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},37920:function(S){"use strict";S.exports=function(x,e){return x.lon=e.lon,x.lat=e.lat,x}},11960:function(S,x,e){"use strict";var p=e(54460);S.exports=function(y,n,M){var b={},f=M[n.subplot]._subplot.mockAxis,s=y.lonlat;return b.lonLabel=p.tickText(f,f.c2l(s[0]),!0).text,b.latLabel=p.tickText(f,f.c2l(s[1]),!0).text,b}},63312:function(S,x,e){"use strict";var p=e(93024),y=e(3400),n=e(44928),M=y.fillText,b=e(39032).BADNUM,f=e(47552).traceLayerPrefix;function s(t,o,r){if(!t.hovertemplate){var i=(o.hi||t.hoverinfo).split("+"),a=i.indexOf("all")!==-1,l=i.indexOf("lon")!==-1,u=i.indexOf("lat")!==-1,h=o.lonlat,c=[];return a||l&&u?c.push("("+w(h[1])+", "+w(h[0])+")"):l?c.push(r.lon+w(h[0])):u&&c.push(r.lat+w(h[1])),(a||i.indexOf("text")!==-1)&&M(o,t,c),c.join("<br>")}function w(g){return g+"\xB0"}}S.exports={hoverPoints:function(t,o,r){var i=t.cd,a=i[0].trace,l=t.xa,u=t.ya,h=t.subplot,c=[],w=f+a.uid+"-circle",g=a.cluster&&a.cluster.enabled;if(g){var v=h.map.queryRenderedFeatures(null,{layers:[w]});c=v.map(function(R){return R.id})}var m=360*(o>=0?Math.floor((o+180)/360):Math.ceil((o-180)/360)),T=o-m;if(p.getClosest(i,function(R){var z=R.lonlat;if(z[0]===b||g&&c.indexOf(R.i+1)===-1)return 1/0;var q=y.modHalf(z[0],360),N=z[1],V=h.project([q,N]),Z=V.x-l.c2p([T,N]),j=V.y-u.c2p([q,r]),H=Math.max(3,R.mrc||0);return Math.max(Math.sqrt(Z*Z+j*j)-H,1-3/H)},t),t.index!==!1){var _=i[t.index],A=_.lonlat,d=[y.modHalf(A[0],360)+m,A[1]],C=l.c2p(d),k=u.c2p(d),D=_.mrc||1;t.x0=C-D,t.x1=C+D,t.y0=k-D,t.y1=k+D;var O={};O[a.subplot]={_subplot:h};var L=a._module.formatLabels(_,a,O);return t.lonLabel=L.lonLabel,t.latLabel=L.latLabel,t.color=n(a,_),t.extraText=s(a,_,i[0].t.labels),t.hovertemplate=a.hovertemplate,[t]}},getExtraText:s}},11572:function(S,x,e){"use strict";S.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(p,y){y&&y[0].trace._glTrace.update(y)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(S,x,e){"use strict";var p=e(3400),y=e(59392),n=e(47552).traceLayerPrefix,M={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(s,t,o,r){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=o,this.isHidden=r,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:n+t+"-fill",line:n+t+"-line",circle:n+t+"-circle",symbol:n+t+"-symbol",cluster:n+t+"-cluster",clusterCount:n+t+"-cluster-count"},this.below=null}var f=b.prototype;f.addSource=function(s,t,o){var r={type:"geojson",data:t.geojson};o&&o.enabled&&p.extendFlat(r,{cluster:!0,clusterMaxZoom:o.maxzoom});var i=this.subplot.map.getSource(this.sourceIds[s]);i?i.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],r)},f.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},f.addLayer=function(s,t,o){var r={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter);for(var i,a=this.layerIds[s],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===a){i=!0;break}i?(this.subplot.setOptions(a,"setLayoutProperty",r.layout),r.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",r.paint)):this.subplot.addLayer(r,o)},f.update=function(s){var t=s[0].trace,o=this.subplot,r=o.map,i=y(o.gd,s),a=o.belowLookup["trace-"+this.uid],l=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,h=this;function c(T){u?function(_){for(var A=M.cluster,d=A.length-1;d>=0;d--){var C=A[d];r.removeLayer(h.layerIds[C])}_||r.removeSource(h.sourceIds.circle)}(T):function(_){for(var A=M.nonCluster,d=A.length-1;d>=0;d--){var C=A[d];r.removeLayer(h.layerIds[C]),_||r.removeSource(h.sourceIds[C])}}(T)}function w(T){l?function(_){_||h.addSource("circle",i.circle,t.cluster);for(var A=M.cluster,d=0;d<A.length;d++){var C=A[d],k=i[C];h.addLayer(C,k,a)}}(T):function(_){for(var A=M.nonCluster,d=0;d<A.length;d++){var C=A[d],k=i[C];_||h.addSource(C,k),h.addLayer(C,k,a)}}(T)}function g(){for(var T=l?M.cluster:M.nonCluster,_=0;_<T.length;_++){var A=T[_],d=i[A];d&&(o.setOptions(h.layerIds[A],"setLayoutProperty",d.layout),d.layout.visibility==="visible"&&(A!=="cluster"&&h.setSourceData(A,d),o.setOptions(h.layerIds[A],"setPaintProperty",d.paint)))}}var v=this.isHidden,m=t.visible!==!0;m?v||c():v?m||w():u!==l?(c(),w()):(this.below!==a&&(c(!0),w(!0)),g()),this.clusterEnabled=l,this.isHidden=m,this.below=a,s[0].trace._glTrace=this},f.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?M.cluster:M.nonCluster,o=t.length-1;o>=0;o--){var r=t[o];s.removeLayer(this.layerIds[r]),s.removeSource(this.sourceIds[r])}},S.exports=function(s,t){var o,r,i,a=t[0].trace,l=a.cluster&&a.cluster.enabled,u=a.visible!==!0,h=new b(s,a.uid,l,u),c=y(s.gd,t),w=h.below=s.belowLookup["trace-"+a.uid];if(l)for(h.addSource("circle",c.circle,a.cluster),o=0;o<M.cluster.length;o++)i=c[r=M.cluster[o]],h.addLayer(r,i,w);else for(o=0;o<M.nonCluster.length;o++)i=c[r=M.nonCluster[o]],h.addSource(r,i,a.cluster),h.addLayer(r,i,w);return t[0].trace._glTrace=h,h}},404:function(S,x,e){"use strict";var p=e(3400),y=e(43028),n=e(39032).BADNUM;S.exports=function(M,b){var f,s=M.cd,t=M.xaxis,o=M.yaxis,r=[],i=s[0].trace;if(!y.hasMarkers(i))return[];if(b===!1)for(f=0;f<s.length;f++)s[f].selected=0;else for(f=0;f<s.length;f++){var a=s[f],l=a.lonlat;if(l[0]!==n){var u=[p.modHalf(l[0],360),l[1]],h=[t.c2p(u),o.c2p(u)];b.contains(h,null,f,M)?(r.push({pointNumber:f,lon:l[0],lat:l[1]}),a.selected=1):a.selected=0}}return r}},8319:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(92880).extendFlat,M=e(98304),b=e(52904),f=e(45464),s=b.line;S.exports={mode:b.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:y({editType:"plot"},{keys:["r","theta","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:n({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:n({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),hoverinfo:n({},f.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:b.hoveron,hovertemplate:p(),selected:b.selected,unselected:b.unselected}},58320:function(S,x,e){"use strict";var p=e(38248),y=e(39032).BADNUM,n=e(54460),M=e(90136),b=e(20148),f=e(4500),s=e(16356).calcMarkerSize;S.exports=function(t,o){for(var r=t._fullLayout,i=o.subplot,a=r[i].radialaxis,l=r[i].angularaxis,u=a.makeCalcdata(o,"r"),h=l.makeCalcdata(o,"theta"),c=o._length,w=new Array(c),g=0;g<c;g++){var v=u[g],m=h[g],T=w[g]={};p(v)&&p(m)?(T.r=v,T.theta=m):T.r=y}var _=s(o,c);return o._extremes.x=n.findExtremes(a,u,{ppad:_}),M(t,o),b(w,o),f(w,o),w}},85968:function(S,x,e){"use strict";var p=e(3400),y=e(43028),n=e(74428),M=e(66828),b=e(11731),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,o=e(8319);function r(i,a,l,u){var h,c=u("r"),w=u("theta");if(p.isTypedArray(c)&&(a.r=c=Array.from(c)),p.isTypedArray(w)&&(a.theta=w=Array.from(w)),c)w?h=Math.min(c.length,w.length):(h=c.length,u("theta0"),u("dtheta"));else{if(!w)return 0;h=a.theta.length,u("r0"),u("dr")}return a._length=h,h}S.exports={handleRThetaDefaults:r,supplyDefaults:function(i,a,l,u){function h(g,v){return p.coerce(i,a,o,g,v)}var c=r(0,a,0,h);if(c){h("thetaunit"),h("mode",c<t?"lines+markers":"lines"),h("text"),h("hovertext"),a.hoveron!=="fills"&&h("hovertemplate"),y.hasMarkers(a)&&n(i,a,l,u,h,{gradient:!0}),y.hasLines(a)&&(M(i,a,l,u,h,{backoff:!0}),b(i,a,h),h("connectgaps")),y.hasText(a)&&(h("texttemplate"),f(i,a,u,h));var w=[];(y.hasMarkers(a)||y.hasText(a))&&(h("cliponaxis"),h("marker.maxdisplayed"),w.push("points")),h("fill"),a.fill!=="none"&&(s(i,a,l,h),y.hasLines(a)||b(i,a,h)),a.fill!=="tonext"&&a.fill!=="toself"||w.push("fills"),h("hoveron",w.join("+")||"points"),p.coerceSelectionMarkerOpacity(a,h)}else a.visible=!1}}},22852:function(S,x,e){"use strict";var p=e(3400),y=e(54460);S.exports=function(n,M,b){var f,s,t={},o=b[M.subplot]._subplot;o?(f=o.radialAxis,s=o.angularAxis):(f=(o=b[M.subplot]).radialaxis,s=o.angularaxis);var r=f.c2l(n.r);t.rLabel=y.tickText(f,r,!0).text;var i=s.thetaunit==="degrees"?p.rad2deg(n.theta):n.theta;return t.thetaLabel=y.tickText(s,i,!0).text,t}},8504:function(S,x,e){"use strict";var p=e(98723);function y(n,M,b,f){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="r",t._hovertitle="\u03B8";var o={};o[M.subplot]={_subplot:b};var r=M._module.formatLabels(n,M,o);f.rLabel=r.rLabel,f.thetaLabel=r.thetaLabel;var i=n.hi||M.hoverinfo,a=[];function l(h,c){a.push(h._hovertitle+": "+c)}if(!M.hovertemplate){var u=i.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&l(s,f.rLabel),u.indexOf("theta")!==-1&&l(t,f.thetaLabel),u.indexOf("text")!==-1&&f.text&&(a.push(f.text),delete f.text),f.extraText=a.join("<br>")}}S.exports={hoverPoints:function(n,M,b,f){var s=p(n,M,b,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var o=n.subplot,r=t.cd[t.index],i=t.trace;if(o.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,y(r,i,o,t),t.hovertemplate=i.hovertemplate,s}},makeHoverPointText:y}},76924:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(S,x,e){"use strict";var p=e(96504),y=e(39032).BADNUM;S.exports=function(n,M,b){for(var f=M.layers.frontplot.select("g.scatterlayer"),s=M.xaxis,t=M.yaxis,o={xaxis:s,yaxis:t,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},r=M.radialAxis,i=M.angularAxis,a=0;a<b.length;a++)for(var l=b[a],u=0;u<l.length;u++){u===0&&(l[0].trace._xA=s,l[0].trace._yA=t);var h=l[u],c=h.r;if(c===y)h.x=h.y=y;else{var w=r.c2g(c),g=i.c2g(h.theta);h.x=w*Math.cos(g),h.y=w*Math.sin(g)}}p(n,o,b,f)}},24396:function(S,x,e){"use strict";var p=e(8319),y=e(2876),n=e(21776).Gw;S.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:{color:y.line.color,width:y.line.width,dash:y.line.dash,editType:"calc"},connectgaps:y.connectgaps,marker:y.marker,fill:y.fill,fillcolor:y.fillcolor,textposition:y.textposition,textfont:y.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},27160:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(S,x,e){"use strict";var p=e(90136),y=e(16356).calcMarkerSize,n=e(84236),M=e(54460),b=e(67072).TOO_MANY_POINTS;S.exports=function(f,s){var t=f._fullLayout,o=s.subplot,r=t[o].radialaxis,i=t[o].angularaxis,a=s._r=r.makeCalcdata(s,"r"),l=s._theta=i.makeCalcdata(s,"theta"),u=s._length,h={};u<a.length&&(a=a.slice(0,u)),u<l.length&&(l=l.slice(0,u)),h.r=a,h.theta=l,p(f,s);var c,w=h.opts=n.style(f,s);return u<b?c=y(s,u):w.marker&&(c=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),s._extremes.x=M.findExtremes(r,a,{ppad:c}),[{x:!1,y:!1,t:h,trace:s}]}},98608:function(S,x,e){"use strict";var p=e(3400),y=e(43028),n=e(85968).handleRThetaDefaults,M=e(74428),b=e(66828),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,o=e(24396);S.exports=function(r,i,a,l){function u(c,w){return p.coerce(r,i,o,c,w)}var h=n(r,i,l,u);h?(u("thetaunit"),u("mode",h<t?"lines+markers":"lines"),u("text"),u("hovertext"),i.hoveron!=="fills"&&u("hovertemplate"),y.hasMarkers(i)&&M(r,i,a,l,u,{noAngleRef:!0,noStandOff:!0}),y.hasLines(i)&&(b(r,i,a,l,u),u("connectgaps")),y.hasText(i)&&(u("texttemplate"),f(r,i,l,u,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),u("fill"),i.fill!=="none"&&s(r,i,a,u),p.coerceSelectionMarkerOpacity(i,u)):i.visible=!1}},94120:function(S,x,e){"use strict";var p=e(22852);S.exports=function(y,n,M){var b=y.i;return"r"in y||(y.r=n._r[b]),"theta"in y||(y.theta=n._theta[b]),p(y,n,M)}},1600:function(S,x,e){"use strict";var p=e(41272),y=e(8504).makeHoverPointText;S.exports={hoverPoints:function(n,M,b,f){var s=n.cd[0].t,t=s.r,o=s.theta,r=p.hoverPoints(n,M,b,f);if(r&&r[0].index!==!1){var i=r[0];if(i.index===void 0)return r;var a=n.subplot,l=i.cd[i.index],u=i.trace;if(l.r=t[i.index],l.theta=o[i.index],a.isPtInside(l))return i.xLabelVal=void 0,i.yLabelVal=void 0,y(l,u,a,i),r}}}},62944:function(S,x,e){"use strict";var p=e(27160);p.plot=e(56512),S.exports=p},56512:function(S,x,e){"use strict";var p=e(3108),y=e(38248),n=e(89876),M=e(74588),b=e(84236),f=e(3400),s=e(67072).TOO_MANY_POINTS;S.exports=function(t,o,r){if(r.length){var i=o.radialAxis,a=o.angularAxis,l=M(t,o);return r.forEach(function(u){if(u&&u[0]&&u[0].trace){var h,c=u[0],w=c.trace,g=c.t,v=w._length,m=g.r,T=g.theta,_=g.opts,A=m.slice(),d=T.slice();for(h=0;h<m.length;h++)o.isPtInside({r:m[h],theta:T[h]})||(A[h]=NaN,d[h]=NaN);var C=new Array(2*v),k=Array(v),D=Array(v);for(h=0;h<v;h++){var O,L,R=A[h];if(y(R)){var z=i.c2g(R),q=a.c2g(d[h],w.thetaunit);O=z*Math.cos(q),L=z*Math.sin(q)}else O=L=NaN;k[h]=C[2*h]=O,D[h]=C[2*h+1]=L}g.tree=p(C),_.marker&&v>=s&&(_.marker.cluster=g.tree),_.marker&&(_.markerSel.positions=_.markerUnsel.positions=_.marker.positions=C),_.line&&C.length>1&&f.extendFlat(_.line,b.linePositions(t,w,C)),_.text&&(f.extendFlat(_.text,{positions:C},b.textPosition(t,w,_.text,_.marker)),f.extendFlat(_.textSel,{positions:C},b.textPosition(t,w,_.text,_.markerSel)),f.extendFlat(_.textUnsel,{positions:C},b.textPosition(t,w,_.text,_.markerUnsel))),_.fill&&!l.fill2d&&(l.fill2d=!0),_.marker&&!l.scatter2d&&(l.scatter2d=!0),_.line&&!l.line2d&&(l.line2d=!0),_.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(_.line),l.fillOptions.push(_.fill),l.markerOptions.push(_.marker),l.markerSelectedOptions.push(_.markerSel),l.markerUnselectedOptions.push(_.markerUnsel),l.textOptions.push(_.text),l.textSelectedOptions.push(_.textSel),l.textUnselectedOptions.push(_.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),g.x=k,g.y=D,g.rawx=k,g.rawy=D,g.r=m,g.theta=T,g.positions=C,g._scene=l,g.index=l.count,l.count++}}),n(t,o,r)}},S.exports.reglPrecompiled={}},69496:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(92880).extendFlat,M=e(98304),b=e(52904),f=e(45464),s=b.line;S.exports={mode:b.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:b.text,texttemplate:y({editType:"plot"},{keys:["real","imag","text"]}),hovertext:b.hovertext,line:{color:s.color,width:s.width,dash:s.dash,backoff:s.backoff,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:b.connectgaps,marker:b.marker,cliponaxis:n({},b.cliponaxis,{dflt:!1}),textposition:b.textposition,textfont:b.textfont,fill:n({},b.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M(),hoverinfo:n({},f.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:b.hoveron,hovertemplate:p(),selected:b.selected,unselected:b.unselected}},47507:function(S,x,e){"use strict";var p=e(38248),y=e(39032).BADNUM,n=e(90136),M=e(20148),b=e(4500),f=e(16356).calcMarkerSize;S.exports=function(s,t){for(var o=s._fullLayout,r=t.subplot,i=o[r].realaxis,a=o[r].imaginaryaxis,l=i.makeCalcdata(t,"real"),u=a.makeCalcdata(t,"imag"),h=t._length,c=new Array(h),w=0;w<h;w++){var g=l[w],v=u[w],m=c[w]={};p(g)&&p(v)?(m.real=g,m.imag=v):m.real=y}return f(t,h),n(s,t),M(c,t),b(c,t),c}},76716:function(S,x,e){"use strict";var p=e(3400),y=e(43028),n=e(74428),M=e(66828),b=e(11731),f=e(124),s=e(70840),t=e(88200).PTS_LINESONLY,o=e(69496);S.exports=function(r,i,a,l){function u(w,g){return p.coerce(r,i,o,w,g)}var h=function(w,g,v,m){var T,_=m("real"),A=m("imag");return _&&A&&(T=Math.min(_.length,A.length)),p.isTypedArray(_)&&(g.real=_=Array.from(_)),p.isTypedArray(A)&&(g.imag=A=Array.from(A)),g._length=T,T}(0,i,0,u);if(h){u("mode",h<t?"lines+markers":"lines"),u("text"),u("hovertext"),i.hoveron!=="fills"&&u("hovertemplate"),y.hasMarkers(i)&&n(r,i,a,l,u,{gradient:!0}),y.hasLines(i)&&(M(r,i,a,l,u,{backoff:!0}),b(r,i,u),u("connectgaps")),y.hasText(i)&&(u("texttemplate"),f(r,i,l,u));var c=[];(y.hasMarkers(i)||y.hasText(i))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),i.fill!=="none"&&(s(r,i,a,u),y.hasLines(i)||b(r,i,u)),i.fill!=="tonext"&&i.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),p.coerceSelectionMarkerOpacity(i,u)}else i.visible=!1}},49504:function(S,x,e){"use strict";var p=e(54460);S.exports=function(y,n,M){var b={},f=M[n.subplot]._subplot;return b.realLabel=p.tickText(f.radialAxis,y.real,!0).text,b.imagLabel=p.tickText(f.angularAxis,y.imag,!0).text,b}},25292:function(S,x,e){"use strict";var p=e(98723);function y(n,M,b,f){var s=b.radialAxis,t=b.angularAxis;s._hovertitle="real",t._hovertitle="imag";var o={};o[M.subplot]={_subplot:b};var r=M._module.formatLabels(n,M,o);f.realLabel=r.realLabel,f.imagLabel=r.imagLabel;var i=n.hi||M.hoverinfo,a=[];function l(h,c){a.push(h._hovertitle+": "+c)}if(!M.hovertemplate){var u=i.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&l(s,f.realLabel),u.indexOf("imag")!==-1&&l(t,f.imagLabel),u.indexOf("text")!==-1&&f.text&&(a.push(f.text),delete f.text),f.extraText=a.join("<br>")}}S.exports={hoverPoints:function(n,M,b,f){var s=p(n,M,b,f);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var o=n.subplot,r=t.cd[t.index],i=t.trace;if(o.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,y(r,i,o,t),t.hovertemplate=i.hovertemplate,s}},makeHoverPointText:y}},95443:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(S,x,e){"use strict";var p=e(96504),y=e(39032).BADNUM,n=e(36416).smith;S.exports=function(M,b,f){for(var s=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,o=b.yaxis,r={xaxis:t,yaxis:o,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},i=0;i<f.length;i++)for(var a=f[i],l=0;l<a.length;l++){l===0&&(a[0].trace._xA=t,a[0].trace._yA=o);var u=a[l],h=u.real;if(h===y)u.x=u.y=y;else{var c=n([h,u.imag]);u.x=c[0],u.y=c[1]}}p(M,r,f,s)}},5896:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(98304),M=e(52904),b=e(45464),f=e(49084),s=e(98192).u,t=e(92880).extendFlat,o=M.marker,r=M.line,i=o.line;S.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:t({},M.mode,{dflt:"markers"}),text:t({},M.text,{}),texttemplate:y({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:t({},M.hovertext,{}),line:{color:r.color,width:r.width,dash:s,backoff:r.backoff,shape:t({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:M.connectgaps,cliponaxis:M.cliponaxis,fill:t({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n(),marker:t({symbol:o.symbol,opacity:o.opacity,angle:o.angle,angleref:o.angleref,standoff:o.standoff,maxdisplayed:o.maxdisplayed,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,line:t({width:i.width,editType:"calc"},f("marker.line")),gradient:o.gradient,editType:"calc"},f("marker")),textfont:M.textfont,textposition:M.textposition,selected:M.selected,unselected:M.unselected,hoverinfo:t({},b.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:M.hoveron,hovertemplate:p()}},34335:function(S,x,e){"use strict";var p=e(38248),y=e(90136),n=e(20148),M=e(4500),b=e(16356).calcMarkerSize,f=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};S.exports=function(t,o){var r,i,a,l,u,h,c=t._fullLayout[o.subplot].sum,w=o.sum||c,g={a:o.a,b:o.b,c:o.c};for(r=0;r<f.length;r++)if(!g[a=f[r]]){for(u=g[s[a][0]],h=g[s[a][1]],l=new Array(u.length),i=0;i<u.length;i++)l[i]=w-u[i]-h[i];g[a]=l}var v,m,T,_,A,d,C=o._length,k=new Array(C);for(r=0;r<C;r++)v=g.a[r],m=g.b[r],T=g.c[r],p(v)&&p(m)&&p(T)?((_=c/((v=+v)+(m=+m)+(T=+T)))!=1&&(v*=_,m*=_,T*=_),d=v,A=T-m,k[r]={x:A,y:d,a:v,b:m,c:T}):k[r]={x:!1,y:!1};return b(o,C),y(t,o),n(k,o),M(k,o),k}},84256:function(S,x,e){"use strict";var p=e(3400),y=e(88200),n=e(43028),M=e(74428),b=e(66828),f=e(11731),s=e(124),t=e(70840),o=e(5896);S.exports=function(r,i,a,l){function u(m,T){return p.coerce(r,i,o,m,T)}var h,c=u("a"),w=u("b"),g=u("c");if(c?(h=c.length,w?(h=Math.min(h,w.length),g&&(h=Math.min(h,g.length))):h=g?Math.min(h,g.length):0):w&&g&&(h=Math.min(w.length,g.length)),h){i._length=h,u("sum"),u("text"),u("hovertext"),i.hoveron!=="fills"&&u("hovertemplate"),u("mode",h<y.PTS_LINESONLY?"lines+markers":"lines"),n.hasMarkers(i)&&M(r,i,a,l,u,{gradient:!0}),n.hasLines(i)&&(b(r,i,a,l,u,{backoff:!0}),f(r,i,u),u("connectgaps")),n.hasText(i)&&(u("texttemplate"),s(r,i,l,u));var v=[];(n.hasMarkers(i)||n.hasText(i))&&(u("cliponaxis"),u("marker.maxdisplayed"),v.push("points")),u("fill"),i.fill!=="none"&&(t(r,i,a,u),n.hasLines(i)||f(r,i,u)),i.fill!=="tonext"&&i.fill!=="toself"||v.push("fills"),u("hoveron",v.join("+")||"points"),p.coerceSelectionMarkerOpacity(i,u)}else i.visible=!1}},97476:function(S){"use strict";S.exports=function(x,e,p,y,n){if(e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),y[n]){var M=y[n];x.a=M.a,x.b=M.b,x.c=M.c}else x.a=e.a,x.b=e.b,x.c=e.c;return x}},90404:function(S,x,e){"use strict";var p=e(54460);S.exports=function(y,n,M){var b={},f=M[n.subplot]._subplot;return b.aLabel=p.tickText(f.aaxis,y.a,!0).text,b.bLabel=p.tickText(f.baxis,y.b,!0).text,b.cLabel=p.tickText(f.caxis,y.c,!0).text,b}},26596:function(S,x,e){"use strict";var p=e(98723);S.exports=function(y,n,M,b){var f=p(y,n,M,b);if(f&&f[0].index!==!1){var s=f[0];if(s.index===void 0){var t=1-s.y0/y.ya._length,o=y.xa._length,r=o*t/2,i=o-r;return s.x0=Math.max(Math.min(s.x0,i),r),s.x1=Math.max(Math.min(s.x1,i),r),f}var a=s.cd[s.index],l=s.trace,u=s.subplot;s.a=a.a,s.b=a.b,s.c=a.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:u};var c=l._module.formatLabels(a,l,h);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var w=a.hi||l.hoverinfo,g=[];if(!l.hovertemplate){var v=w.split("+");v.indexOf("all")!==-1&&(v=["a","b","c"]),v.indexOf("a")!==-1&&m(u.aaxis,s.aLabel),v.indexOf("b")!==-1&&m(u.baxis,s.bLabel),v.indexOf("c")!==-1&&m(u.caxis,s.cLabel)}return s.extraText=g.join("<br>"),s.hovertemplate=l.hovertemplate,f}function m(T,_){g.push(T._hovertitle+": "+_)}}},34864:function(S,x,e){"use strict";S.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(S,x,e){"use strict";var p=e(96504);S.exports=function(y,n,M){var b=n.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var f=n.xaxis,s=n.yaxis,t={xaxis:f,yaxis:s,plot:b,layerClipId:n._hasClipOnAxisFalse?n.clipIdRelative:null},o=n.layers.frontplot.select("g.scatterlayer"),r=0;r<M.length;r++){var i=M[r];i.length&&(i[0].trace._xA=f,i[0].trace._yA=s)}p(y,t,M,o)}},44524:function(S,x,e){"use strict";var p=e(52904),y=e(49084),n=e(29736).axisHoverFormat,M=e(21776).Ks,b=e(2876),f=e(33816).idRegex,s=e(31780).templatedArray,t=e(92880).extendFlat,o=p.marker,r=o.line,i=t(y("marker.line",{editTypeOverride:"calc"}),{width:t({},r.width,{editType:"calc"}),editType:"calc"}),a=t(y("marker"),{symbol:o.symbol,angle:o.angle,size:t({},o.size,{editType:"markerSize"}),sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:o.opacity,colorbar:o.colorbar,line:i,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:f[u],editType:"plot"}}}a.color.editType=a.cmin.editType=a.cmax.editType="style",S.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:M(),xhoverformat:n("x"),yhoverformat:n("y"),marker:a,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},28888:function(S,x,e){"use strict";var p=e(24040),y=e(12704);S.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},p.register(y)},99332:function(S,x,e){"use strict";var p=e(13472),y=e(24040),n=e(5048),M=e(84888)._M,b=e(57952),f=e(79811).getFromId,s=e(54460).shouldShowZeroLine,t="splom",o={};function r(a,l,u){for(var h=u.matrixOptions.data.length,c=l._visibleDims,w=u.viewOpts.ranges=new Array(h),g=0;g<c.length;g++){var v=c[g],m=w[g]=new Array(4),T=f(a,l._diag[v][0]);T&&(m[0]=T.r2l(T.range[0]),m[2]=T.r2l(T.range[1]));var _=f(a,l._diag[v][1]);_&&(m[1]=_.r2l(_.range[0]),m[3]=_.r2l(_.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:w},{ranges:w}):u.matrix.update({ranges:w})}function i(a){var l=a._fullLayout,u=l._glcanvas.data()[0].regl,h=l._splomGrid;h||(h=l._splomGrid=p(u)),h.update(function(c){var w,g=c._context.plotGlPixelRatio,v=c._fullLayout,m=v._size,T=[0,0,v.width*g,v.height*g],_={};function A(Y,ie,re,ne,ee,Q){re*=g,ne*=g,ee*=g,Q*=g;var X=ie[Y+"color"],se=ie[Y+"width"],ce=String(X+se);ce in _?_[ce].data.push(NaN,NaN,re,ne,ee,Q):_[ce]={data:[re,ne,ee,Q],join:"rect",thickness:se*g,color:X,viewport:T,range:T,overlay:!1}}for(w in v._splomSubplots){var d,C,k=v._plots[w],D=k.xaxis,O=k.yaxis,L=D._gridVals,R=O._gridVals,z=D._offset,q=D._length,N=O._length,V=m.b+O.domain[0]*m.h,Z=-O._m,j=-Z*O.r2l(O.range[0],O.calendar);if(D.showgrid)for(w=0;w<L.length;w++)d=z+D.l2p(L[w].x),A("grid",D,d,V,d,V+N);if(O.showgrid)for(w=0;w<R.length;w++)A("grid",O,z,C=V+j+Z*R[w].x,z+q,C);s(c,D,O)&&(d=z+D.l2p(0),A("zeroline",D,d,V,d,V+N)),s(c,O,D)&&A("zeroline",O,z,C=V+j+0,z+q,C)}var H=[];for(w in _)H.push(_[w]);return H}(a))}S.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(a){var l=a._fullLayout,u=y.getModule(t),h=M(a.calcdata,u)[0];n(a,["ANGLE_instanced_arrays","OES_element_index_uint"],o)&&(l._hasOnlyLargeSploms&&i(a),u.plot(a,{},h))},drag:function(a){var l=a.calcdata,u=a._fullLayout;u._hasOnlyLargeSploms&&i(a);for(var h=0;h<l.length;h++){var c=l[h][0].trace,w=u._splomScenes[c.uid];c.type==="splom"&&w&&w.matrix&&r(a,c,w)}},updateGrid:i,clean:function(a,l,u,h){var c,w={};if(h._splomScenes){for(c=0;c<a.length;c++){var g=a[c];g.type==="splom"&&(w[g.uid]=1)}for(c=0;c<u.length;c++){var v=u[c];if(!w[v.uid]){var m=h._splomScenes[v.uid];m&&m.destroy&&m.destroy(),h._splomScenes[v.uid]=null,delete h._splomScenes[v.uid]}}}Object.keys(h._splomScenes||{}).length===0&&delete h._splomScenes,h._splomGrid&&!l._hasOnlyLargeSploms&&h._hasOnlyLargeSploms&&(h._splomGrid.destroy(),h._splomGrid=null,delete h._splomGrid),b.clean(a,l,u,h)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:o}},66821:function(S,x,e){"use strict";var p=e(3400),y=e(79811),n=e(16356).calcMarkerSize,M=e(16356).calcAxisExpansion,b=e(90136),f=e(84236).markerSelection,s=e(84236).markerStyle,t=e(72308),o=e(39032).BADNUM,r=e(67072).TOO_MANY_POINTS;S.exports=function(i,a){var l,u,h,c,w,g,v=a.dimensions,m=a._length,T={},_=T.cdata=[],A=T.data=[],d=a._visibleDims=[];function C(D,O){for(var L=D.makeCalcdata({v:O.values,vcalendar:a.calendar},"v"),R=0;R<L.length;R++)L[R]=L[R]===o?NaN:L[R];_.push(L),A.push(D.type==="log"?p.simpleMap(L,D.c2l):L)}for(l=0;l<v.length;l++)if((h=v[l]).visible){if(c=y.getFromId(i,a._diag[l][0]),w=y.getFromId(i,a._diag[l][1]),c&&w&&c.type!==w.type){p.log("Skipping splom dimension "+l+" with conflicting axis types");continue}c?(C(c,h),w&&w.type==="category"&&(w._categories=c._categories.slice())):C(w,h),d.push(l)}for(b(i,a),p.extendFlat(T,s(i,a)),g=_.length*m>r?T.sizeAvg||Math.max(T.size,3):n(a,m),u=0;u<d.length;u++)h=v[l=d[u]],c=y.getFromId(i,a._diag[l][0])||{},w=y.getFromId(i,a._diag[l][1])||{},M(i,a,c,w,_[u],_[u],g);var k=t(i,a);return k.matrix||(k.matrix=!0),k.matrixOptions=T,k.selectedOptions=f(i,a,a.selected),k.unselectedOptions=f(i,a,a.unselected),[{x:!1,y:!1,t:{},trace:a}]}},69544:function(S,x,e){"use strict";var p=e(3400),y=e(51272),n=e(44524),M=e(43028),b=e(74428),f=e(26284),s=e(80088).isOpenSymbol;function t(o,r){function i(l,u){return p.coerce(o,r,n.dimensions,l,u)}i("label");var a=i("values");a&&a.length?i("visible"):r.visible=!1,i("axis.type"),i("axis.matches")}S.exports=function(o,r,i,a){function l(m,T){return p.coerce(o,r,n,m,T)}var u=y(o,r,{name:"dimensions",handleItemDefaults:t}),h=l("diagonal.visible"),c=l("showupperhalf"),w=l("showlowerhalf");if(f(r,u,"values")&&(h||c||w)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),b(o,r,i,a,l,{noAngleRef:!0,noStandOff:!0});var g=s(r.marker.symbol),v=M.isBubble(r);l("marker.line.width",g||v?1:0),function(m,T,_,A){var d,C,k=T.dimensions,D=k.length,O=T.showupperhalf,L=T.showlowerhalf,R=T.diagonal.visible,z=new Array(D),q=new Array(D);for(d=0;d<D;d++){var N=d?d+1:"";z[d]="x"+N,q[d]="y"+N}var V=A("xaxes",z),Z=A("yaxes",q),j=T._diag=new Array(D);T._xaxes={},T._yaxes={};var H=[],Y=[];function ie(de,be,_e,ve){if(de){var me=de.charAt(0),ye=_._splomAxes[me];if(T["_"+me+"axes"][de]=1,ve.push(de),!(de in ye)){var Se=ye[de]={};_e&&(Se.label=_e.label||"",_e.visible&&_e.axis&&(_e.axis.type&&(Se.type=_e.axis.type),_e.axis.matches&&(Se.matches=be)))}}}var re=!R&&!L,ne=!R&&!O;for(T._axesDim={},d=0;d<D;d++){var ee=k[d],Q=d===0,X=d===D-1,se=Q&&re||X&&ne?void 0:V[d],ce=Q&&ne||X&&re?void 0:Z[d];ie(se,ce,ee,H),ie(ce,se,ee,Y),j[d]=[se,ce],T._axesDim[se]=d,T._axesDim[ce]=d}for(d=0;d<H.length;d++)for(C=0;C<Y.length;C++){var le=H[d]+Y[C];d>C&&O||d<C&&L?_._splomSubplots[le]=1:d!==C||!R&&L&&O||(_._splomSubplots[le]=1)}(!L||!R&&O&&L)&&(_._splomGridDflt.xside="bottom",_._splomGridDflt.yside="left")}(0,r,a,l),p.coerceSelectionMarkerOpacity(r,l)}else r.visible=!1}},83156:function(S,x,e){"use strict";var p=e(3400),y=e(90136),n=e(84236).markerStyle;S.exports=function(M,b){var f=b.trace,s=M._fullLayout._splomScenes[f.uid];if(s){y(M,f),p.extendFlat(s.matrixOptions,n(M,f));var t=p.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},50328:function(S,x){"use strict";x.getDimIndex=function(e,p){for(var y=p._id,n={x:0,y:1}[y.charAt(0)],M=e._visibleDims,b=0;b<M.length;b++){var f=M[b];if(e._diag[f][n]===y)return b}return!1}},72248:function(S,x,e){"use strict";var p=e(50328),y=e(41272).calcHover,n=e(54460).getFromId,M=e(92880).extendFlat;function b(f,s,t,o){var r=f.cd[0].trace,i=f.scene.matrixOptions.cdata,a=f.xa,l=f.ya,u=a.c2p(s),h=l.c2p(t),c=f.distance,w=p.getDimIndex(r,a),g=p.getDimIndex(r,l);if(w===!1||g===!1)return[f];for(var v,m,T=i[w],_=i[g],A=c,d=0;d<T.length;d++)if(!o||d===f.index){var C=T[d],k=_[d],D=a.c2p(C)-u,O=l.c2p(k)-h,L=Math.sqrt(D*D+O*O);(o||L<A)&&(A=m=L,v=d)}return f.index=v,f.distance=A,f.dxy=m,v===void 0?[f]:[y(f,T,_,r)]}S.exports={hoverPoints:function(f,s,t,o,r){r||(r={});var i=(o||"").charAt(0)==="x",a=(o||"").charAt(0)==="y",l=b(f,s,t);if((i||a)&&r.hoversubplots==="axis"&&l[0])for(var u=(i?f.xa:f.ya)._subplotsWith,h=r.gd,c=M({},f),w=0;w<u.length;w++){var g=u[w];if(g!==f.xa._id+f.ya._id){a?c.xa=n(h,g,"x"):c.ya=n(h,g,"y");var v=b(c,s,t,i||a);l=l.concat(v)}}return l}}},97924:function(S,x,e){"use strict";var p=e(28888);p.basePlotModule=e(99332),S.exports=p},54840:function(S,x,e){"use strict";var p=e(55795),y=e(3400),n=e(79811),M=e(72760).selectMode;function b(f,s){var t,o,r,i,a,l=f._fullLayout,u=l._size,h=s.trace,c=s.t,w=l._splomScenes[h.uid],g=w.matrixOptions,v=g.cdata,m=l._glcanvas.data()[0].regl,T=l.dragmode;if(v.length!==0){g.lower=h.showupperhalf,g.upper=h.showlowerhalf,g.diagonal=h.diagonal.visible;var _=h._visibleDims,A=v.length,d=w.viewOpts={};for(d.ranges=new Array(A),d.domains=new Array(A),a=0;a<_.length;a++){r=_[a];var C=d.ranges[a]=new Array(4),k=d.domains[a]=new Array(4);(t=n.getFromId(f,h._diag[r][0]))&&(C[0]=t._rl[0],C[2]=t._rl[1],k[0]=t.domain[0],k[2]=t.domain[1]),(o=n.getFromId(f,h._diag[r][1]))&&(C[1]=o._rl[0],C[3]=o._rl[1],k[1]=o.domain[0],k[3]=o.domain[1])}var D=f._context.plotGlPixelRatio,O=u.l*D,L=u.b*D,R=u.w*D,z=u.h*D;d.viewport=[O,L,R+O,z+L],w.matrix===!0&&(w.matrix=p(m));var q=l.clickmode.indexOf("select")>-1,N=!0;if(M(T)||h.selectedpoints||q){var V=h._length;if(h.selectedpoints){w.selectBatch=h.selectedpoints;var Z=h.selectedpoints,j={};for(r=0;r<Z.length;r++)j[Z[r]]=!0;var H=[];for(r=0;r<V;r++)j[r]||H.push(r);w.unselectBatch=H}var Y=c.xpx=new Array(A),ie=c.ypx=new Array(A);for(a=0;a<_.length;a++){if(r=_[a],t=n.getFromId(f,h._diag[r][0]))for(Y[a]=new Array(V),i=0;i<V;i++)Y[a][i]=t.c2p(v[a][i]);if(o=n.getFromId(f,h._diag[r][1]))for(ie[a]=new Array(V),i=0;i<V;i++)ie[a][i]=o.c2p(v[a][i])}if(w.selectBatch.length||w.unselectBatch.length){var re=y.extendFlat({},g,w.unselectedOptions,d),ne=y.extendFlat({},g,w.selectedOptions,d);w.matrix.update(re,ne),N=!1}}else c.xpx=c.ypx=null;if(N){var ee=y.extendFlat({},g,d);w.matrix.update(ee,null)}}}S.exports=function(f,s,t){if(t.length)for(var o=0;o<t.length;o++)b(f,t[o][0])}},72308:function(S,x,e){"use strict";var p=e(3400);S.exports=function(y,n){var M=y._fullLayout,b=n.uid,f=M._splomScenes;f||(f=M._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=f[n.uid];return t||((t=f[b]=p.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||p.extendFlat(t,s),t}},62500:function(S,x,e){"use strict";var p=e(3400),y=p.pushUnique,n=e(43028),M=e(50328);S.exports=function(b,f){var s=b.cd,t=s[0].trace,o=s[0].t,r=b.scene,i=r.matrixOptions.cdata,a=b.xaxis,l=b.yaxis,u=[];if(!r)return u;var h=!n.hasMarkers(t)&&!n.hasText(t);if(t.visible!==!0||h)return u;var c=M.getDimIndex(t,a),w=M.getDimIndex(t,l);if(c===!1||w===!1)return u;var g=o.xpx[c],v=o.ypx[w],m=i[c],T=i[w],_=(b.scene.selectBatch||[]).slice(),A=[];if(f!==!1&&!f.degenerate)for(var d=0;d<m.length;d++)f.contains([g[d],v[d]],null,d,b)?(u.push({pointNumber:d,x:m[d],y:T[d]}),y(_,d)):_.indexOf(d)!==-1?y(_,d):A.push(d);var C=r.matrixOptions;return _.length||A.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,p.extendFlat({},C,r.selectedOptions,r.viewOpts)):r.matrix.update(C,null),r.selectBatch=_,r.unselectBatch=A,u}},90167:function(S,x,e){"use strict";var p=e(49084),y=e(29736).axisHoverFormat,n=e(21776).Ks,M=e(52948),b=e(45464),f=e(92880).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:y("u",1),vhoverformat:y("v",1),whoverformat:y("w",1),xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z"),showlegend:f({},b.showlegend,{dflt:!1})};f(s,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=M[t]}),s.hoverinfo=f({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,S.exports=s},3832:function(S,x,e){"use strict";var p=e(3400),y=e(47128);function n(f){var s,t,o,r,i,a,l,u,h,c,w,g,v=f._x,m=f._y,T=f._z,_=f._len,A=-1/0,d=1/0,C=-1/0,k=1/0,D=-1/0,O=1/0,L="";for(_&&(l=v[0],h=m[0],w=T[0]),_>1&&(u=v[_-1],c=m[_-1],g=T[_-1]),s=0;s<_;s++)A=Math.max(A,v[s]),d=Math.min(d,v[s]),C=Math.max(C,m[s]),k=Math.min(k,m[s]),D=Math.max(D,T[s]),O=Math.min(O,T[s]),r||v[s]===l||(r=!0,L+="x"),i||m[s]===h||(i=!0,L+="y"),a||T[s]===w||(a=!0,L+="z");r||(L+="x"),i||(L+="y"),a||(L+="z");var R=M(f._x),z=M(f._y),q=M(f._z);L=(L=(L=L.replace("x",(l>u?"-":"+")+"x")).replace("y",(h>c?"-":"+")+"y")).replace("z",(w>g?"-":"+")+"z");var N=function(){_=0,R=[],z=[],q=[]};(!_||_<R.length*z.length*q.length)&&N();var V=function(me){return me==="x"?v:me==="y"?m:T},Z=function(me){return me==="x"?R:me==="y"?z:q},j=function(me){return me[_-1]<me[0]?-1:1},H=V(L[1]),Y=V(L[3]),ie=V(L[5]),re=Z(L[1]).length,ne=Z(L[3]).length,ee=Z(L[5]).length,Q=!1,X=function(me,ye,Se){return re*(ne*me+ye)+Se},se=j(V(L[1])),ce=j(V(L[3])),le=j(V(L[5]));for(s=0;s<ee-1;s++){for(t=0;t<ne-1;t++){for(o=0;o<re-1;o++){var de=X(s,t,o),be=X(s,t,o+1),_e=X(s,t+1,o),ve=X(s+1,t,o);if(H[de]*se<H[be]*se&&Y[de]*ce<Y[_e]*ce&&ie[de]*le<ie[ve]*le||(Q=!0),Q)break}if(Q)break}if(Q)break}return Q&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:d,yMin:k,zMin:O,xMax:A,yMax:C,zMax:D,Xs:R,Ys:z,Zs:q,len:_,fill:L}}function M(f){return p.distinctVals(f).vals}function b(f,s){if(s===void 0&&(s=f.length),p.isTypedArray(f))return f.subarray(0,s);for(var t=[],o=0;o<s;o++)t[o]=+f[o];return t}S.exports={calc:function(f,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=b(s.u,s._len),s._v=b(s.v,s._len),s._w=b(s.w,s._len),s._x=b(s.x,s._len),s._y=b(s.y,s._len),s._z=b(s.z,s._len);var t=n(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var o,r,i,a=0;s.starts&&(o=b(s.starts.x||[]),r=b(s.starts.y||[]),i=b(s.starts.z||[]),a=Math.min(o.length,r.length,i.length)),s._startsX=o||[],s._startsY=r||[],s._startsZ=i||[];var l,u=0,h=1/0;for(l=0;l<s._len;l++){var c=s._u[l],w=s._v[l],g=s._w[l],v=Math.sqrt(c*c+w*w+g*g);u=Math.max(u,v),h=Math.min(h,v)}for(y(f,s,{vals:[h,u],containerStr:"",cLetter:"c"}),l=0;l<a;l++){var m=o[l];t.xMax=Math.max(t.xMax,m),t.xMin=Math.min(t.xMin,m);var T=r[l];t.yMax=Math.max(t.yMax,T),t.yMin=Math.min(t.yMin,T);var _=i[l];t.zMax=Math.max(t.zMax,_),t.zMin=Math.min(t.zMin,_)}s._slen=a,s._normMax=u,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:n}},25668:function(S,x,e){"use strict";var p=e(67792).gl_streamtube3d,y=p.createTubeMesh,n=e(3400),M=e(33040).parseColorScale,b=e(8932).extractOpts,f=e(52094),s={xaxis:0,yaxis:1,zaxis:2};function t(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var o=t.prototype;function r(l){var u=l.length;return u>2?l.slice(1,u-1):u===2?[(l[0]+l[1])/2]:l}function i(l){var u=l.length;return u===1?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function a(l,u){var h=l.fullSceneLayout,c=l.dataScale,w=u._len,g={};function v(re,ne){var ee=h[ne],Q=c[s[ne]];return n.simpleMap(re,function(X){return ee.d2l(X)*Q})}if(g.vectors=f(v(u._u,"xaxis"),v(u._v,"yaxis"),v(u._w,"zaxis"),w),!w)return{positions:[],cells:[]};var m=v(u._Xs,"xaxis"),T=v(u._Ys,"yaxis"),_=v(u._Zs,"zaxis");if(g.meshgrid=[m,T,_],g.gridFill=u._gridFill,u._slen)g.startingPositions=f(v(u._startsX,"xaxis"),v(u._startsY,"yaxis"),v(u._startsZ,"zaxis"));else{for(var A=T[0],d=r(m),C=r(_),k=new Array(d.length*C.length),D=0,O=0;O<d.length;O++)for(var L=0;L<C.length;L++)k[D++]=[d[O],A,C[L]];g.startingPositions=k}g.colormap=M(u),g.tubeSize=u.sizeref,g.maxLength=u.maxdisplayed;var R=v(u._xbnds,"xaxis"),z=v(u._ybnds,"yaxis"),q=v(u._zbnds,"zaxis"),N=i(m),V=i(T),Z=i(_),j=[[R[0]-N[0],z[0]-V[0],q[0]-Z[0]],[R[1]+N[1],z[1]+V[1],q[1]+Z[1]]],H=p(g,j),Y=b(u);H.vertexIntensityBounds=[Y.min/u._normMax,Y.max/u._normMax];var ie=u.lightposition;return H.lightPosition=[ie.x,ie.y,ie.z],H.ambient=u.lighting.ambient,H.diffuse=u.lighting.diffuse,H.specular=u.lighting.specular,H.roughness=u.lighting.roughness,H.fresnel=u.lighting.fresnel,H.opacity=u.opacity,u._pad=H.tubeScale*u.sizeref*2,H}o.handlePick=function(l){var u=this.scene.fullSceneLayout,h=this.scene.dataScale;function c(v,m){var T=u[m],_=h[s[m]];return T.l2c(v)/_}if(l.object===this.mesh){var w=l.data.position,g=l.data.velocity;return l.traceCoordinate=[c(w[0],"xaxis"),c(w[1],"yaxis"),c(w[2],"zaxis"),c(g[0],"xaxis"),c(g[1],"yaxis"),c(g[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},o.update=function(l){this.data=l;var u=a(this.scene,l);this.mesh.update(u)},o.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},S.exports=function(l,u){var h=l.glplot.gl,c=a(l,u),w=y(h,c),g=new t(l,u.uid);return g.mesh=w,g.data=u,w._trace=g,l.glplot.add(w),g}},54304:function(S,x,e){"use strict";var p=e(3400),y=e(27260),n=e(90167);S.exports=function(M,b,f,s){function t(h,c){return p.coerce(M,b,n,h,c)}var o=t("u"),r=t("v"),i=t("w"),a=t("x"),l=t("y"),u=t("z");o&&o.length&&r&&r.length&&i&&i.length&&a&&a.length&&l&&l.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),y(M,b,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},15436:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(p,y){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=y.traceCoordinate[3],p.tubev=y.traceCoordinate[4],p.tubew=y.traceCoordinate[5],p.norm=y.traceCoordinate[6],p.divergence=y.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},424:function(S,x,e){"use strict";var p=e(45464),y=e(21776).Ks,n=e(21776).Gw,M=e(49084),b=e(86968).u,f=e(74996),s=e(27328),t=e(92880).extendFlat,o=e(98192).c;S.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},f.marker.line.color,{dflt:null}),width:t({},f.marker.line.width,{dflt:1}),editType:"calc"},pattern:o,editType:"calc"},M("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:f.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:f.hovertext,hoverinfo:t({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:y({},{keys:s.eventDataKeys}),textfont:f.textfont,insidetextorientation:f.insidetextorientation,insidetextfont:f.insidetextfont,outsidetextfont:t({},f.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:f.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(S,x,e){"use strict";var p=e(7316);x.name="sunburst",x.plot=function(y,n,M,b){p.plotBasePlot(x.name,y,n,M,b)},x.clean=function(y,n,M,b){p.cleanBasePlot(x.name,y,n,M,b)}},3776:function(S,x,e){"use strict";var p=e(74148),y=e(38248),n=e(3400),M=e(8932).makeColorScaleFuncFromTrace,b=e(45768).makePullColorFn,f=e(45768).generateExtendedColors,s=e(8932).calc,t=e(39032).ALMOST_EQUAL,o={},r={},i={};function a(l,u,h){var c=0,w=l.children;if(w){for(var g=w.length,v=0;v<g;v++)c+=a(w[v],u,h);h.branches&&c++}else h.leaves&&c++;return l.value=l.data.data.value=c,u._values||(u._values=[]),u._values[l.data.data.i]=c,c}x.calc=function(l,u){var h,c,w,g,v,m,T=l._fullLayout,_=u.ids,A=n.isArrayOrTypedArray(_),d=u.labels,C=u.parents,k=u.values,D=n.isArrayOrTypedArray(k),O=[],L={},R={},z=function(le){return le||typeof le=="number"},q=function(le){return!D||y(k[le])&&k[le]>=0};A?(h=Math.min(_.length,C.length),c=function(le){return z(_[le])&&q(le)},w=function(le){return String(_[le])}):(h=Math.min(d.length,C.length),c=function(le){return z(d[le])&&q(le)},w=function(le){return String(d[le])}),D&&(h=Math.min(h,k.length));for(var N=0;N<h;N++)if(c(N)){var V=w(N),Z=z(C[N])?String(C[N]):"",j={i:N,id:V,pid:Z,label:z(d[N])?String(d[N]):""};D&&(j.v=+k[N]),O.push(j),v=V,L[g=Z]?L[g].push(v):L[g]=[v],R[v]=1}if(L[""]){if(L[""].length>1){for(var H=n.randstr(),Y=0;Y<O.length;Y++)O[Y].pid===""&&(O[Y].pid=H);O.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var ie,re=[];for(ie in L)R[ie]||re.push(ie);if(re.length!==1)return n.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",re.join(", ")].join(" "));ie=re[0],O.unshift({hasImpliedRoot:!0,id:ie,pid:"",label:ie})}try{m=p.stratify().id(function(le){return le.id}).parentId(function(le){return le.pid})(O)}catch(le){return n.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",le.message].join(" "))}var ne=p.hierarchy(m),ee=!1;if(D)switch(u.branchvalues){case"remainder":ne.sum(function(le){return le.data.v});break;case"total":ne.each(function(le){var de=le.data.data,be=de.v;if(le.children){var _e=le.children.reduce(function(ve,me){return ve+me.data.data.v},0);if((de.hasImpliedRoot||de.hasMultipleRoots)&&(be=_e),be<_e*t)return ee=!0,n.warn(["Total value for node",le.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,be,`
children sum =`,_e].join(" "))}le.value=be})}else a(ne,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!ee){var Q,X;u.sort&&ne.sort(function(le,de){return de.value-le.value});var se=u.marker.colors||[],ce=!!se.length;return u._hasColorscale?(ce||(se=D?u.values:u._values),s(l,u,{vals:se,containerStr:"marker",cLetter:"c"}),X=M(u.marker)):Q=b(T["_"+u.type+"colormap"]),ne.each(function(le){var de=le.data.data;de.color=u._hasColorscale?X(se[de.i]):Q(se[de.i],de.id)}),O[0].hierarchy=ne,O}},x._runCrossTraceCalc=function(l,u){var h=u._fullLayout,c=u.calcdata,w=h[l+"colorway"],g=h["_"+l+"colormap"];h["extend"+l+"colors"]&&(w=f(w,l==="icicle"?i:l==="treemap"?r:o));var v,m=0;function T(d){var C=d.data.data,k=C.id;C.color===!1&&(g[k]?C.color=g[k]:d.parent?d.parent.parent?C.color=d.parent.data.data.color:(g[k]=C.color=w[m%w.length],m++):C.color=v)}for(var _=0;_<c.length;_++){var A=c[_][0];A.trace.type===l&&A.hierarchy&&(v=A.trace.root.color,A.hierarchy.each(T))}},x.crossTraceCalc=function(l){return x._runCrossTraceCalc("sunburst",l)}},27328:function(S){"use strict";S.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(S,x,e){"use strict";var p=e(3400),y=e(424),n=e(86968).Q,M=e(31508).handleText,b=e(74174).handleMarkerDefaults,f=e(8932),s=f.hasColorscale,t=f.handleDefaults;S.exports=function(o,r,i,a){function l(v,m){return p.coerce(o,r,y,v,m)}var u=l("labels"),h=l("parents");if(u&&u.length&&h&&h.length){var c=l("values");c&&c.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(o,r,a,l);var w=r._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis;w&&t(o,r,a,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",w?1:.7);var g=l("text");l("texttemplate"),r.texttemplate||l("textinfo",p.isArrayOrTypedArray(g)?"text+label":"label"),l("hovertext"),l("hovertemplate"),M(o,r,a,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),n(r,a,l),r._length=null}else r.visible=!1}},60404:function(S,x,e){"use strict";var p=e(43616),y=e(76308);S.exports=function(n,M,b,f,s){var t=M.data.data,o=t.i,r=s||t.color;if(o>=0){M.i=t.i;var i=b.marker;i.pattern&&i.colors&&i.pattern.shape||(i.color=r,M.color=r),p.pointStyle(n,b,f,M)}else y.fill(n,r)}},45716:function(S,x,e){"use strict";var p=e(33428),y=e(24040),n=e(10624).appendArrayPointValue,M=e(93024),b=e(3400),f=e(95924),s=e(78176),t=e(69656).formatPieValue;function o(r,i,a){for(var l=r.data.data,u={curveNumber:i.index,pointNumber:l.i,data:i._input,fullData:i},h=0;h<a.length;h++){var c=a[h];c in r&&(u[c]=r[c])}return"parentString"in r&&!s.isHierarchyRoot(r)&&(u.parent=r.parentString),n(u,i,l.i),u}S.exports=function(r,i,a,l,u){var h=l[0],c=h.trace,w=h.hierarchy,g=c.type==="sunburst",v=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),r.on("mouseover",function(m){var T=a._fullLayout;if(!a._dragging&&T.hovermode!==!1){var _,A=a._fullData[c.index],d=m.data.data,C=d.i,k=s.isHierarchyRoot(m),D=s.getParent(w,m),O=s.getValue(m),L=function(se){return b.castOption(A,C,se)},R=L("hovertemplate"),z=M.castHoverinfo(A,T,C),q=T.separators;if(R||z&&z!=="none"&&z!=="skip"){var N,V;g&&(N=h.cx+m.pxmid[0]*(1-m.rInscribed),V=h.cy+m.pxmid[1]*(1-m.rInscribed)),v&&(N=m._hoverX,V=m._hoverY);var Z,j={},H=[],Y=[],ie=function(se){return H.indexOf(se)!==-1};z&&(H=z==="all"?A._module.attributes.hoverinfo.flags:z.split("+")),j.label=d.label,ie("label")&&j.label&&Y.push(j.label),d.hasOwnProperty("v")&&(j.value=d.v,j.valueLabel=t(j.value,q),ie("value")&&Y.push(j.valueLabel)),j.currentPath=m.currentPath=s.getPath(m.data),ie("current path")&&!k&&Y.push(j.currentPath);var re=[],ne=function(){re.indexOf(Z)===-1&&(Y.push(Z),re.push(Z))};j.percentParent=m.percentParent=O/s.getValue(D),j.parent=m.parentString=s.getPtLabel(D),ie("percent parent")&&(Z=s.formatPercent(j.percentParent,q)+" of "+j.parent,ne()),j.percentEntry=m.percentEntry=O/s.getValue(i),j.entry=m.entry=s.getPtLabel(i),!ie("percent entry")||k||m.onPathbar||(Z=s.formatPercent(j.percentEntry,q)+" of "+j.entry,ne()),j.percentRoot=m.percentRoot=O/s.getValue(w),j.root=m.root=s.getPtLabel(w),ie("percent root")&&!k&&(Z=s.formatPercent(j.percentRoot,q)+" of "+j.root,ne()),j.text=L("hovertext")||L("text"),ie("text")&&(Z=j.text,b.isValidTextValue(Z)&&Y.push(Z)),_=[o(m,A,u.eventDataKeys)];var ee={trace:A,y:V,_x0:m._x0,_x1:m._x1,_y0:m._y0,_y1:m._y1,text:Y.join("<br>"),name:R||ie("name")?A.name:void 0,color:L("hoverlabel.bgcolor")||d.color,borderColor:L("hoverlabel.bordercolor"),fontFamily:L("hoverlabel.font.family"),fontSize:L("hoverlabel.font.size"),fontColor:L("hoverlabel.font.color"),fontWeight:L("hoverlabel.font.weight"),fontStyle:L("hoverlabel.font.style"),fontVariant:L("hoverlabel.font.variant"),nameLength:L("hoverlabel.namelength"),textAlign:L("hoverlabel.align"),hovertemplate:R,hovertemplateLabels:j,eventData:_};g&&(ee.x0=N-m.rInscribed*m.rpx1,ee.x1=N+m.rInscribed*m.rpx1,ee.idealAlign=m.pxmid[0]<0?"left":"right"),v&&(ee.x=N,ee.idealAlign=N<0?"left":"right");var Q=[];M.loneHover(ee,{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:a,inOut_bbox:Q}),_[0].bbox=Q[0],c._hasHoverLabel=!0}if(v){var X=r.select("path.surface");u.styleOne(X,m,A,a,{hovered:!0})}c._hasHoverEvent=!0,a.emit("plotly_hover",{points:_||[o(m,A,u.eventDataKeys)],event:p.event})}}),r.on("mouseout",function(m){var T=a._fullLayout,_=a._fullData[c.index],A=p.select(this).datum();if(c._hasHoverEvent&&(m.originalEvent=p.event,a.emit("plotly_unhover",{points:[o(A,_,u.eventDataKeys)],event:p.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(M.loneUnhover(T._hoverlayer.node()),c._hasHoverLabel=!1),v){var d=r.select("path.surface");u.styleOne(d,A,_,a,{hovered:!1})}}),r.on("click",function(m){var T=a._fullLayout,_=a._fullData[c.index],A=g&&(s.isHierarchyRoot(m)||s.isLeaf(m)),d=s.getPtId(m),C=s.isEntry(m)?s.findEntryWithChild(w,d):s.findEntryWithLevel(w,d),k=s.getPtId(C),D={points:[o(m,_,u.eventDataKeys)],event:p.event};A||(D.nextLevel=k);var O=f.triggerHandler(a,"plotly_"+c.type+"click",D);if(O!==!1&&T.hovermode&&(a._hoverdata=[o(m,_,u.eventDataKeys)],M.click(a,p.event)),!A&&O!==!1&&!a._dragging&&!a._transitioning){y.call("_storeDirectGUIEdit",_,T._tracePreGUI[_.uid],{level:_.level});var L={data:[{level:k}],traces:[c.index]},R={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};M.loneUnhover(T._hoverlayer.node()),y.call("animate",a,L,R)}})}},78176:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(93972),M=e(69656);function b(f){return f.data.data.pid}x.findEntryWithLevel=function(f,s){var t;return s&&f.eachAfter(function(o){if(x.getPtId(o)===s)return t=o.copy()}),t||f},x.findEntryWithChild=function(f,s){var t;return f.eachAfter(function(o){for(var r=o.children||[],i=0;i<r.length;i++){var a=r[i];if(x.getPtId(a)===s)return t=o.copy()}}),t||f},x.isEntry=function(f){return!f.parent},x.isLeaf=function(f){return!f.children},x.getPtId=function(f){return f.data.data.id},x.getPtLabel=function(f){return f.data.data.label},x.getValue=function(f){return f.value},x.isHierarchyRoot=function(f){return b(f)===""},x.setSliceCursor=function(f,s,t){var o=t.isTransitioning;if(!o){var r=f.datum();o=t.hideOnRoot&&x.isHierarchyRoot(r)||t.hideOnLeaves&&x.isLeaf(r)}n(f,o?null:"pointer")},x.getInsideTextFontKey=function(f,s,t,o,r){var i=(r||{}).onPathbar?"pathbar.textfont":"insidetextfont",a=t.data.data.i;return p.castOption(s,a,i+"."+f)||p.castOption(s,a,"textfont."+f)||o.size},x.getOutsideTextFontKey=function(f,s,t,o){var r=t.data.data.i;return p.castOption(s,r,"outsidetextfont."+f)||p.castOption(s,r,"textfont."+f)||o.size},x.isOutsideText=function(f,s){return!f._hasColorscale&&x.isHierarchyRoot(s)},x.determineTextFont=function(f,s,t,o){return x.isOutsideText(f,s)?function(r,i,a){return{color:x.getOutsideTextFontKey("color",r,i,a),family:x.getOutsideTextFontKey("family",r,i,a),size:x.getOutsideTextFontKey("size",r,i,a),weight:x.getOutsideTextFontKey("weight",r,i,a),style:x.getOutsideTextFontKey("style",r,i,a),variant:x.getOutsideTextFontKey("variant",r,i,a),textcase:x.getOutsideTextFontKey("textcase",r,i,a),lineposition:x.getOutsideTextFontKey("lineposition",r,i,a),shadow:x.getOutsideTextFontKey("shadow",r,i,a)}}(f,s,t):function(r,i,a,l){var u=(l||{}).onPathbar,h=i.data.data,c=h.i,w=p.castOption(r,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!w&&r._input.textfont&&(w=p.castOption(r._input,c,"textfont.color")),{color:w||y.contrast(h.color),family:x.getInsideTextFontKey("family",r,i,a,l),size:x.getInsideTextFontKey("size",r,i,a,l),weight:x.getInsideTextFontKey("weight",r,i,a,l),style:x.getInsideTextFontKey("style",r,i,a,l),variant:x.getInsideTextFontKey("variant",r,i,a,l),textcase:x.getInsideTextFontKey("textcase",r,i,a,l),lineposition:x.getInsideTextFontKey("lineposition",r,i,a,l),shadow:x.getInsideTextFontKey("shadow",r,i,a,l)}}(f,s,t,o)},x.hasTransition=function(f){return!!(f&&f.duration>0)},x.getMaxDepth=function(f){return f.maxdepth>=0?f.maxdepth:1/0},x.isHeader=function(f,s){return!(x.isLeaf(f)||f.depth===s._maxDepth-1)},x.getParent=function(f,s){return x.findEntryWithLevel(f,b(s))},x.listPath=function(f,s){var t=f.parent;if(!t)return[];var o=s?[t.data[s]]:[t];return x.listPath(t,s).concat(o)},x.getPath=function(f){return x.listPath(f,"label").join("/")+"/"},x.formatValue=M.formatPieValue,x.formatPercent=function(f,s){var t=p.formatPercent(f,0);return t==="0%"&&(t=M.formatPiePercent(f,s)),t}},5621:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(S){"use strict";S.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(S,x,e){"use strict";var p=e(3400),y=e(84920);S.exports=function(n,M){function b(f,s){return p.coerce(n,M,y,f,s)}b("sunburstcolorway",M.colorway),b("extendsunburstcolors")}},96488:function(S,x,e){"use strict";var p=e(33428),y=e(74148),n=e(67756).qy,M=e(43616),b=e(3400),f=e(72736),s=e(82744),t=s.recordMinTextSize,o=s.clearMinTextSize,r=e(37820),i=e(69656).getRotationAngle,a=r.computeTransform,l=r.transformInsideText,u=e(85676).styleOne,h=e(60100).resizeText,c=e(45716),w=e(27328),g=e(78176);function v(T,_,A,d){var C=T._context.staticPlot,k=T._fullLayout,D=!k.uniformtext.mode&&g.hasTransition(d),O=p.select(A).selectAll("g.slice"),L=_[0],R=L.trace,z=L.hierarchy,q=g.findEntryWithLevel(z,R.level),N=g.getMaxDepth(R),V=k._size,Z=R.domain,j=V.w*(Z.x[1]-Z.x[0]),H=V.h*(Z.y[1]-Z.y[0]),Y=.5*Math.min(j,H),ie=L.cx=V.l+V.w*(Z.x[1]+Z.x[0])/2,re=L.cy=V.t+V.h*(1-Z.y[0])-H/2;if(!q)return O.remove();var ne=null,ee={};D&&O.each(function(ae){ee[g.getPtId(ae)]={rpx0:ae.rpx0,rpx1:ae.rpx1,x0:ae.x0,x1:ae.x1,transform:ae.transform},!ne&&g.isEntry(ae)&&(ne=ae)});var Q=function(ae){return y.partition().size([2*Math.PI,ae.height+1])(ae)}(q).descendants(),X=q.height+1,se=0,ce=N;L.hasMultipleRoots&&g.isHierarchyRoot(q)&&(Q=Q.slice(1),X-=1,se=1,ce+=1),Q=Q.filter(function(ae){return ae.y1<=ce});var le=i(R.rotation);le&&Q.forEach(function(ae){ae.x0+=le,ae.x1+=le});var de=Math.min(X,N),be=function(ae){return(ae-se)/de*Y},_e=function(ae,pe){return[ae*Math.cos(pe),-ae*Math.sin(pe)]},ve=function(ae){return b.pathAnnulus(ae.rpx0,ae.rpx1,ae.x0,ae.x1,ie,re)},me=function(ae){return ie+m(ae)[0]*(ae.transform.rCenter||0)+(ae.transform.x||0)},ye=function(ae){return re+m(ae)[1]*(ae.transform.rCenter||0)+(ae.transform.y||0)};(O=O.data(Q,g.getPtId)).enter().append("g").classed("slice",!0),D?O.exit().transition().each(function(){var ae=p.select(this);ae.select("path.surface").transition().attrTween("d",function(pe){var De=function(Te){var Ae,Ce=g.getPtId(Te),Re=ee[Ce],Ne=ee[g.getPtId(q)];if(Ne){var ge=(Te.x1>Ne.x1?2*Math.PI:0)+le;Ae=Te.rpx1<Ne.rpx1?{x0:Te.x0,x1:Te.x1,rpx0:0,rpx1:0}:{x0:ge,x1:ge,rpx0:Te.rpx0,rpx1:Te.rpx1}}else{var Me,Ee=g.getPtId(Te.parent);O.each(function(Ke){if(g.getPtId(Ke)===Ee)return Me=Ke});var Fe,Le=Me.children;Le.forEach(function(Ke,at){if(g.getPtId(Ke)===Ce)return Fe=at});var Ue=Le.length,Ge=n(Me.x0,Me.x1);Ae={rpx0:Y,rpx1:Y,x0:Ge(Fe/Ue),x1:Ge((Fe+1)/Ue)}}return n(Re,Ae)}(pe);return function(Te){return ve(De(Te))}}),ae.select("g.slicetext").attr("opacity",0)}).remove():O.exit().remove(),O.order();var Se=null;if(D&&ne){var Ie=g.getPtId(ne);O.each(function(ae){Se===null&&g.getPtId(ae)===Ie&&(Se=ae.x1)})}var xe=O;function ue(ae){var pe=ae.parent,De=ee[g.getPtId(pe)],Te={};if(De){var Ae=pe.children,Ce=Ae.indexOf(ae),Re=Ae.length,Ne=n(De.x0,De.x1);Te.x0=Ne(Ce/Re),Te.x1=Ne(Ce/Re)}else Te.x0=Te.x1=0;return Te}D&&(xe=xe.transition().each("end",function(){var ae=p.select(this);g.setSliceCursor(ae,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),xe.each(function(ae){var pe=p.select(this),De=b.ensureSingle(pe,"path","surface",function(ge){ge.style("pointer-events",C?"none":"all")});ae.rpx0=be(ae.y0),ae.rpx1=be(ae.y1),ae.xmid=(ae.x0+ae.x1)/2,ae.pxmid=_e(ae.rpx1,ae.xmid),ae.midangle=-(ae.xmid-Math.PI/2),ae.startangle=-(ae.x0-Math.PI/2),ae.stopangle=-(ae.x1-Math.PI/2),ae.halfangle=.5*Math.min(b.angleDelta(ae.x0,ae.x1)||Math.PI,Math.PI),ae.ring=1-ae.rpx0/ae.rpx1,ae.rInscribed=function(ge){return ge.rpx0===0&&b.isFullCircle([ge.x0,ge.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(ge.halfangle)),ge.ring/2))}(ae),D?De.transition().attrTween("d",function(ge){var Me=function(Ee){var Fe,Le=ee[g.getPtId(Ee)],Ue={x0:Ee.x0,x1:Ee.x1,rpx0:Ee.rpx0,rpx1:Ee.rpx1};if(Le)Fe=Le;else if(ne)if(Ee.parent)if(Se){var Ge=(Ee.x1>Se?2*Math.PI:0)+le;Fe={x0:Ge,x1:Ge}}else Fe={rpx0:Y,rpx1:Y},b.extendFlat(Fe,ue(Ee));else Fe={rpx0:0,rpx1:0};else Fe={x0:le,x1:le};return n(Fe,Ue)}(ge);return function(Ee){return ve(Me(Ee))}}):De.attr("d",ve),pe.call(c,q,T,_,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,T,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:T._transitioning}),De.call(u,ae,R,T);var Te=b.ensureSingle(pe,"g","slicetext"),Ae=b.ensureSingle(Te,"text","",function(ge){ge.attr("data-notex",1)}),Ce=b.ensureUniformFontSize(T,g.determineTextFont(R,ae,k.font));Ae.text(x.formatSliceLabel(ae,q,R,_,k)).classed("slicetext",!0).attr("text-anchor","middle").call(M.font,Ce).call(f.convertToTspans,T);var Re=M.bBox(Ae.node());ae.transform=l(Re,ae,L),ae.transform.targetX=me(ae),ae.transform.targetY=ye(ae);var Ne=function(ge,Me){var Ee=ge.transform;return a(Ee,Me),Ee.fontSize=Ce.size,t(R.type,Ee,k),b.getTextTransform(Ee)};D?Ae.transition().attrTween("transform",function(ge){var Me=function(Ee){var Fe,Le=ee[g.getPtId(Ee)],Ue=Ee.transform;if(Le)Fe=Le;else if(Fe={rpx1:Ee.rpx1,transform:{textPosAngle:Ue.textPosAngle,scale:0,rotate:Ue.rotate,rCenter:Ue.rCenter,x:Ue.x,y:Ue.y}},ne)if(Ee.parent)if(Se){var Ge=Ee.x1>Se?2*Math.PI:0;Fe.x0=Fe.x1=Ge}else b.extendFlat(Fe,ue(Ee));else Fe.x0=Fe.x1=le;else Fe.x0=Fe.x1=le;var Ke=n(Fe.transform.textPosAngle,Ee.transform.textPosAngle),at=n(Fe.rpx1,Ee.rpx1),st=n(Fe.x0,Ee.x0),vt=n(Fe.x1,Ee.x1),xt=n(Fe.transform.scale,Ue.scale),gt=n(Fe.transform.rotate,Ue.rotate),nt=Ue.rCenter===0?3:Fe.transform.rCenter===0?1/3:1,et=n(Fe.transform.rCenter,Ue.rCenter);return function(At){var Pt=at(At),Rt=st(At),Et=vt(At),Ye=function(Ve){return et(Math.pow(Ve,nt))}(At),Xe={pxmid:_e(Pt,(Rt+Et)/2),rpx1:Pt,transform:{textPosAngle:Ke(At),rCenter:Ye,x:Ue.x,y:Ue.y}};return t(R.type,Ue,k),{transform:{targetX:me(Xe),targetY:ye(Xe),scale:xt(At),rotate:gt(At),rCenter:Ye}}}}(ge);return function(Ee){return Ne(Me(Ee),Re)}}):Ae.attr("transform",Ne(ae,Re))})}function m(T){return _=T.rpx1,A=T.transform.textPosAngle,[_*Math.sin(A),-_*Math.cos(A)];var _,A}x.plot=function(T,_,A,d){var C,k,D=T._fullLayout,O=D._sunburstlayer,L=!A,R=!D.uniformtext.mode&&g.hasTransition(A);o("sunburst",D),(C=O.selectAll("g.trace.sunburst").data(_,function(z){return z[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),C.order(),R?(d&&(k=d()),p.transition().duration(A.duration).ease(A.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()}).each(function(){O.selectAll("g.trace").each(function(z){v(T,z,this,A)})})):(C.each(function(z){v(T,z,this,A)}),D.uniformtext.mode&&h(T,D._sunburstlayer.selectAll(".trace"),"sunburst")),L&&C.exit().remove()},x.formatSliceLabel=function(T,_,A,d,C){var k=A.texttemplate,D=A.textinfo;if(!(k||D&&D!=="none"))return"";var O=C.separators,L=d[0],R=T.data.data,z=L.hierarchy,q=g.isHierarchyRoot(T),N=g.getParent(z,T),V=g.getValue(T);if(!k){var Z,j=D.split("+"),H=function(ce){return j.indexOf(ce)!==-1},Y=[];if(H("label")&&R.label&&Y.push(R.label),R.hasOwnProperty("v")&&H("value")&&Y.push(g.formatValue(R.v,O)),!q){H("current path")&&Y.push(g.getPath(T.data));var ie=0;H("percent parent")&&ie++,H("percent entry")&&ie++,H("percent root")&&ie++;var re=ie>1;if(ie){var ne,ee=function(ce){Z=g.formatPercent(ne,O),re&&(Z+=" of "+ce),Y.push(Z)};H("percent parent")&&!q&&(ne=V/g.getValue(N),ee("parent")),H("percent entry")&&(ne=V/g.getValue(_),ee("entry")),H("percent root")&&(ne=V/g.getValue(z),ee("root"))}}return H("text")&&(Z=b.castOption(A,R.i,"text"),b.isValidTextValue(Z)&&Y.push(Z)),Y.join("<br>")}var Q=b.castOption(A,R.i,"texttemplate");if(!Q)return"";var X={};R.label&&(X.label=R.label),R.hasOwnProperty("v")&&(X.value=R.v,X.valueLabel=g.formatValue(R.v,O)),X.currentPath=g.getPath(T.data),q||(X.percentParent=V/g.getValue(N),X.percentParentLabel=g.formatPercent(X.percentParent,O),X.parent=g.getPtLabel(N)),X.percentEntry=V/g.getValue(_),X.percentEntryLabel=g.formatPercent(X.percentEntry,O),X.entry=g.getPtLabel(_),X.percentRoot=V/g.getValue(z),X.percentRootLabel=g.formatPercent(X.percentRoot,O),X.root=g.getPtLabel(z),R.hasOwnProperty("color")&&(X.color=R.color);var se=b.castOption(A,R.i,"text");return(b.isValidTextValue(se)||se==="")&&(X.text=se),X.customdata=b.castOption(A,R.i,"customdata"),b.texttemplateString(Q,X,C._d3locale,X,A._meta||{})}},85676:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(3400),M=e(82744).resizeText,b=e(60404);function f(s,t,o,r){var i=t.data.data,a=!t.children,l=i.i,u=n.castOption(o,l,"marker.line.color")||y.defaultLine,h=n.castOption(o,l,"marker.line.width")||0;s.call(b,t,o,r).style("stroke-width",h).call(y.stroke,u).style("opacity",a?o.leaf.opacity:null)}S.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");M(s,t,"sunburst"),t.each(function(o){var r=p.select(this),i=o[0].trace;r.style("opacity",i.opacity),r.selectAll("path.surface").each(function(a){p.select(this).call(f,a,i,s)})})},styleOne:f}},16716:function(S,x,e){"use strict";var p=e(76308),y=e(49084),n=e(29736).axisHoverFormat,M=e(21776).Ks,b=e(45464),f=e(92880).extendFlat,s=e(67824).overrideAll;function t(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var o=S.exports=s(f({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:M(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},y("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:f({},y.zauto,{}),zmin:f({},y.zmin,{}),zmax:f({},y.zmax,{})},hoverinfo:f({},b.hoverinfo),showlegend:f({},b.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType="calc+clearAxisTypes",o.transforms=void 0},56576:function(S,x,e){"use strict";var p=e(47128);S.exports=function(y,n){n.surfacecolor?p(y,n,{vals:n.surfacecolor,containerStr:"",cLetter:"c"}):p(y,n,{vals:n.z,containerStr:"",cLetter:"c"})}},79164:function(S,x,e){"use strict";var p=e(67792).gl_surface3d,y=e(67792).ndarray,n=e(67792).ndarray_linear_interpolate.d2,M=e(70448),b=e(11240),f=e(3400).isArrayOrTypedArray,s=e(33040).parseColorScale,t=e(43080),o=e(8932).extractOpts;function r(A,d,C){this.scene=A,this.uid=C,this.surface=d,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var i=r.prototype;i.getXat=function(A,d,C,k){var D=f(this.data.x)?f(this.data.x[0])?this.data.x[d][A]:this.data.x[A]:A;return C===void 0?D:k.d2l(D,0,C)},i.getYat=function(A,d,C,k){var D=f(this.data.y)?f(this.data.y[0])?this.data.y[d][A]:this.data.y[d]:d;return C===void 0?D:k.d2l(D,0,C)},i.getZat=function(A,d,C,k){var D=this.data.z[d][A];return D===null&&this.data.connectgaps&&this.data._interpolatedZ&&(D=this.data._interpolatedZ[d][A]),C===void 0?D:k.d2l(D,0,C)},i.handlePick=function(A){if(A.object===this.surface){var d=(A.data.index[0]-1)/this.dataScaleX-1,C=(A.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(d),this.data.z[0].length-1),0),D=Math.max(Math.min(Math.round(C),this.data._ylength-1),0);A.index=[k,D],A.traceCoordinate=[this.getXat(k,D),this.getYat(k,D),this.getZat(k,D)],A.dataCoordinate=[this.getXat(k,D,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,D,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,D,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var O=0;O<3;O++)A.dataCoordinate[O]!=null&&(A.dataCoordinate[O]*=this.scene.dataScale[O]);var L=this.data.hovertext||this.data.text;return f(L)&&L[D]&&L[D][k]!==void 0?A.textLabel=L[D][k]:A.textLabel=L||"",A.data.dataCoordinate=A.dataCoordinate.slice(),this.surface.highlight(A.data),this.scene.glplot.spikes.position=A.dataCoordinate,!0}};var a=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(A,d){if(A<d)return 0;for(var C=0;Math.floor(A%d)===0;)A/=d,C++;return C}function u(A){for(var d=[],C=0;C<a.length;C++){var k=a[C];d.push(l(A,k))}return d}function h(A){for(var d=u(A),C=A,k=0;k<a.length;k++)if(d[k]>0){C=a[k];break}return C}function c(A,d){if(!(A<1||d<1)){for(var C=u(A),k=u(d),D=1,O=0;O<a.length;O++)D*=Math.pow(a[O],Math.max(C[O],k[O]));return D}}i.calcXnums=function(A){var d,C=[];for(d=1;d<A;d++){var k=this.getXat(d-1,0),D=this.getXat(d,0);C[d-1]=D!==k&&k!=null&&D!=null?Math.abs(D-k):0}var O=0;for(d=1;d<A;d++)O+=C[d-1];for(d=1;d<A;d++)C[d-1]===0?C[d-1]=1:C[d-1]=Math.round(O/C[d-1]);return C},i.calcYnums=function(A){var d,C=[];for(d=1;d<A;d++){var k=this.getYat(0,d-1),D=this.getYat(0,d);C[d-1]=D!==k&&k!=null&&D!=null?Math.abs(D-k):0}var O=0;for(d=1;d<A;d++)O+=C[d-1];for(d=1;d<A;d++)C[d-1]===0?C[d-1]=1:C[d-1]=Math.round(O/C[d-1]);return C};var w=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=w[9],v=w[13];function m(A,d,C){var k=C[8]+C[2]*d[0]+C[5]*d[1];return A[0]=(C[6]+C[0]*d[0]+C[3]*d[1])/k,A[1]=(C[7]+C[1]*d[0]+C[4]*d[1])/k,A}function T(A,d,C){return function(k,D,O,L){for(var R=[0,0],z=k.shape[0],q=k.shape[1],N=0;N<z;N++)for(var V=0;V<q;V++)O(R,[N,V],L),k.set(N,V,n(D,R[0],R[1]))}(A,d,m,C),A}function _(A,d){for(var C=!1,k=0;k<A.length;k++)if(d===A[k]){C=!0;break}C===!1&&A.push(d)}i.estimateScale=function(A,d){for(var C=1+function(D){if(D.length!==0){for(var O=1,L=0;L<D.length;L++)O=c(O,D[L]);return O}}(d===0?this.calcXnums(A):this.calcYnums(A));C<g;)C*=2;for(;C>v;)C--,C/=h(C),++C<g&&(C=v);var k=Math.round(C/A);return k>1?k:1},i.refineCoords=function(A){for(var d=this.dataScaleX,C=this.dataScaleY,k=A[0].shape[0],D=A[0].shape[1],O=0|Math.floor(A[0].shape[0]*d+1),L=0|Math.floor(A[0].shape[1]*C+1),R=1+k+1,z=1+D+1,q=y(new Float32Array(R*z),[R,z]),N=[1/d,0,0,0,1/C,0,0,0,1],V=0;V<A.length;++V){this.surface.padField(q,A[V]);var Z=y(new Float32Array(O*L),[O,L]);T(Z,q,N),A[V]=Z}},i.setContourLevels=function(){var A,d,C,k=[[],[],[]],D=[!1,!1,!1],O=!1;for(A=0;A<3;++A)if(this.showContour[A]&&(O=!0,this.contourSize[A]>0&&this.contourStart[A]!==null&&this.contourEnd[A]!==null&&this.contourEnd[A]>this.contourStart[A]))for(D[A]=!0,d=this.contourStart[A];d<this.contourEnd[A];d+=this.contourSize[A])C=d*this.scene.dataScale[A],_(k[A],C);if(O){var L=[[],[],[]];for(A=0;A<3;++A)this.showContour[A]&&(L[A]=D[A]?k[A]:this.scene.contourLevels[A]);this.surface.update({levels:L})}},i.update=function(A){var d,C,k,D,O=this.scene,L=O.fullSceneLayout,R=this.surface,z=s(A),q=O.dataScale,N=A.z[0].length,V=A._ylength,Z=O.contourLevels;this.data=A;var j=[];for(d=0;d<3;d++)for(j[d]=[],C=0;C<N;C++)j[d][C]=[];for(C=0;C<N;C++)for(k=0;k<V;k++)j[0][C][k]=this.getXat(C,k,A.xcalendar,L.xaxis),j[1][C][k]=this.getYat(C,k,A.ycalendar,L.yaxis),j[2][C][k]=this.getZat(C,k,A.zcalendar,L.zaxis);if(A.connectgaps)for(A._emptypoints=b(j[2]),M(j[2],A._emptypoints),A._interpolatedZ=[],C=0;C<N;C++)for(A._interpolatedZ[C]=[],k=0;k<V;k++)A._interpolatedZ[C][k]=j[2][C][k];for(d=0;d<3;d++)for(C=0;C<N;C++)for(k=0;k<V;k++)(D=j[d][C][k])==null?j[d][C][k]=NaN:D=j[d][C][k]*=q[d];for(d=0;d<3;d++)for(C=0;C<N;C++)for(k=0;k<V;k++)(D=j[d][C][k])!=null&&(this.minValues[d]>D&&(this.minValues[d]=D),this.maxValues[d]<D&&(this.maxValues[d]=D));for(d=0;d<3;d++)this.objectOffset[d]=.5*(this.minValues[d]+this.maxValues[d]);for(d=0;d<3;d++)for(C=0;C<N;C++)for(k=0;k<V;k++)(D=j[d][C][k])!=null&&(j[d][C][k]-=this.objectOffset[d]);var H=[y(new Float32Array(N*V),[N,V]),y(new Float32Array(N*V),[N,V]),y(new Float32Array(N*V),[N,V])];for(d=0;d<3;d++)for(C=0;C<N;C++)for(k=0;k<V;k++)H[d].set(C,k,j[d][C][k]);j=[];var Y={colormap:z,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!A.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:A.opacityscale,opacity:A.opacity},ie=o(A);if(Y.intensityBounds=[ie.min,ie.max],A.surfacecolor){var re=y(new Float32Array(N*V),[N,V]);for(C=0;C<N;C++)for(k=0;k<V;k++)re.set(C,k,A.surfacecolor[k][C]);H.push(re)}else Y.intensityBounds[0]*=q[2],Y.intensityBounds[1]*=q[2];(v<H[0].shape[0]||v<H[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(H[0].shape[0],0),this.dataScaleY=this.estimateScale(H[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(H)),A.surfacecolor&&(Y.intensity=H.pop());var ne=[!0,!0,!0],ee=["x","y","z"];for(d=0;d<3;++d){var Q=A.contours[ee[d]];ne[d]=Q.highlight,Y.showContour[d]=Q.show||Q.highlight,Y.showContour[d]&&(Y.contourProject[d]=[Q.project.x,Q.project.y,Q.project.z],Q.show?(this.showContour[d]=!0,Y.levels[d]=Z[d],R.highlightColor[d]=Y.contourColor[d]=t(Q.color),Q.usecolormap?R.highlightTint[d]=Y.contourTint[d]=0:R.highlightTint[d]=Y.contourTint[d]=1,Y.contourWidth[d]=Q.width,this.contourStart[d]=Q.start,this.contourEnd[d]=Q.end,this.contourSize[d]=Q.size):(this.showContour[d]=!1,this.contourStart[d]=null,this.contourEnd[d]=null,this.contourSize[d]=0),Q.highlight&&(Y.dynamicColor[d]=t(Q.highlightcolor),Y.dynamicWidth[d]=Q.highlightwidth))}(function(X){var se=X[0].rgb,ce=X[X.length-1].rgb;return se[0]===ce[0]&&se[1]===ce[1]&&se[2]===ce[2]&&se[3]===ce[3]})(z)&&(Y.vertexColor=!0),Y.objectOffset=this.objectOffset,Y.coords=H,R.update(Y),R.visible=A.visible,R.enableDynamic=ne,R.enableHighlight=ne,R.snapToData=!0,"lighting"in A&&(R.ambientLight=A.lighting.ambient,R.diffuseLight=A.lighting.diffuse,R.specularLight=A.lighting.specular,R.roughness=A.lighting.roughness,R.fresnel=A.lighting.fresnel),"lightposition"in A&&(R.lightPosition=[A.lightposition.x,A.lightposition.y,A.lightposition.z])},i.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},S.exports=function(A,d){var C=A.glplot.gl,k=p({gl:C}),D=new r(A,k,d.uid);return k._trace=D,D.update(d),A.glplot.add(k),D}},60192:function(S,x,e){"use strict";var p=e(24040),y=e(3400),n=e(27260),M=e(16716);function b(s,t,o,r){var i=r("opacityscale");i==="max"?t.opacityscale=[[0,.1],[1,1]]:i==="min"?t.opacityscale=[[0,1],[1,.1]]:i==="extremes"?t.opacityscale=function(a,l){for(var u=[],h=0;h<32;h++){var c=h/31,w=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,w))])}return u}():function(a){var l=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var u=0;u<a.length;u++){var h=a[u];if(h.length!==2||+h[0]<l)return!1;l=+h[0]}return!0}(i)||(t.opacityscale=void 0)}function f(s,t,o){t in s&&!(o in s)&&(s[o]=s[t])}S.exports={supplyDefaults:function(s,t,o,r){var i,a;function l(_,A){return y.coerce(s,t,M,_,A)}var u=l("x"),h=l("y"),c=l("z");if(!c||!c.length||u&&u.length<1||h&&h.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&y.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,p.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],r),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(_){l(_)});var w=l("surfacecolor"),g=["x","y","z"];for(i=0;i<3;++i){var v="contours."+g[i],m=l(v+".show"),T=l(v+".highlight");if(m||T)for(a=0;a<3;++a)l(v+".project."+g[a]);m&&(l(v+".color"),l(v+".width"),l(v+".usecolormap")),T&&(l(v+".highlightcolor"),l(v+".highlightwidth")),l(v+".start"),l(v+".end"),l(v+".size")}w||(f(s,"zmin","cmin"),f(s,"zmax","cmax"),f(s,"zauto","cauto")),n(s,t,r,l,{prefix:"",cLetter:"c"}),b(0,t,0,l),t._length=null}},opacityscaleDefaults:b}},91304:function(S,x,e){"use strict";S.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(S,x,e){"use strict";var p=e(13916),y=e(92880).extendFlat,n=e(67824).overrideAll,M=e(25376),b=e(86968).u,f=e(29736).descriptionOnlyNumbers;(S.exports=n({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:y({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:y({},M({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:f("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:y({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:y({},M({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(S,x,e){"use strict";var p=e(84888)._M,y=e(24752),n="table";x.name=n,x.plot=function(M){var b=p(M.calcdata,n)[0];b.length&&y(M,b)},x.clean=function(M,b,f,s){var t=s._has&&s._has(n),o=b._has&&b._has(n);t&&!o&&s._paperdiv.selectAll(".table").remove()}},39312:function(S,x,e){"use strict";var p=e(71688).wrap;S.exports=function(){return p({})}},23536:function(S){"use strict";S.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(S,x,e){"use strict";var p=e(23536),y=e(92880).extendFlat,n=e(38248),M=e(38116).isTypedArray,b=e(38116).isArrayOrTypedArray;function f(l){if(b(l)){for(var u=0,h=0;h<l.length;h++)u=Math.max(u,f(l[h]));return u}return l}function s(l,u){return l+u}function t(l){var u,h=l.slice(),c=1/0,w=0;for(u=0;u<h.length;u++)M(h[u])?h[u]=Array.from(h[u]):b(h[u])||(h[u]=[h[u]]),c=Math.min(c,h[u].length),w=Math.max(w,h[u].length);if(c!==w)for(u=0;u<h.length;u++){var g=w-h[u].length;g&&(h[u]=h[u].concat(o(g)))}return h}function o(l){for(var u=new Array(l),h=0;h<l;h++)u[h]="";return u}function r(l){return l.calcdata.columns.reduce(function(u,h){return h.xIndex<l.xIndex?u+h.columnWidth:u},0)}function i(l,u){return Object.keys(l).map(function(h){return y({},l[h],{auxiliaryBlocks:u})})}function a(l,u){for(var h,c={},w=0,g=0,v={firstRowIndex:null,lastRowIndex:null,rows:[]},m=0,T=0,_=0;_<l.length;_++)h=l[_],v.rows.push({rowIndex:_,rowHeight:h}),((g+=h)>=u||_===l.length-1)&&(c[w]=v,v.key=T++,v.firstRowIndex=m,v.lastRowIndex=_,v={firstRowIndex:null,lastRowIndex:null,rows:[]},w+=g,m=_+1,g=0);return c}S.exports=function(l,u){var h=t(u.cells.values),c=function(V){return V.slice(u.header.values.length,V.length)},w=t(u.header.values);w.length&&!w[0].length&&(w[0]=[""],w=t(w));var g=w.concat(c(h).map(function(){return o((w[0]||[""]).length)})),v=u.domain,m=Math.floor(l._fullLayout._size.w*(v.x[1]-v.x[0])),T=Math.floor(l._fullLayout._size.h*(v.y[1]-v.y[0])),_=u.header.values.length?g[0].map(function(){return u.header.height}):[p.emptyHeaderHeight],A=h.length?h[0].map(function(){return u.cells.height}):[],d=_.reduce(s,0),C=a(A,T-d+p.uplift),k=i(a(_,d),[]),D=i(C,k),O={},L=u._fullInput.columnorder;b(L)&&(L=Array.from(L)),L=L.concat(c(h.map(function(V,Z){return Z})));var R=g.map(function(V,Z){var j=b(u.columnwidth)?u.columnwidth[Math.min(Z,u.columnwidth.length-1)]:u.columnwidth;return n(j)?Number(j):1}),z=R.reduce(s,0);R=R.map(function(V){return V/z*m});var q=Math.max(f(u.header.line.width),f(u.cells.line.width)),N={key:u.uid+l._context.staticPlot,translateX:v.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-v.y[1]),size:l._fullLayout._size,width:m,maxLineWidth:q,height:T,columnOrder:L,groupHeight:T,rowBlocks:D,headerRowBlocks:k,scrollY:0,cells:y({},u.cells,{values:h}),headerCells:y({},u.header,{values:g}),gdColumns:g.map(function(V){return V[0]}),gdColumnsOriginalOrder:g.map(function(V){return V[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(V,Z){var j=O[V];return O[V]=(j||0)+1,{key:V+"__"+O[V],label:V,specIndex:Z,xIndex:L[Z],xScale:r,x:void 0,calcdata:void 0,columnWidth:R[Z]}})};return N.columns.forEach(function(V){V.calcdata=N,V.x=r(V)}),N}},53056:function(S,x,e){"use strict";var p=e(92880).extendFlat;x.splitToPanels=function(y){var n=[0,0],M=p({},y,{key:"header",type:"header",page:0,prevPages:n,currentRepaint:[null,null],dragHandle:!0,values:y.calcdata.headerCells.values[y.specIndex],rowBlocks:y.calcdata.headerRowBlocks,calcdata:p({},y.calcdata,{cells:y.calcdata.headerCells})});return[p({},y,{key:"cells1",type:"cells",page:0,prevPages:n,currentRepaint:[null,null],dragHandle:!1,values:y.calcdata.cells.values[y.specIndex],rowBlocks:y.calcdata.rowBlocks}),p({},y,{key:"cells2",type:"cells",page:1,prevPages:n,currentRepaint:[null,null],dragHandle:!1,values:y.calcdata.cells.values[y.specIndex],rowBlocks:y.calcdata.rowBlocks}),M]},x.splitToCells=function(y){var n=function(M){var b=M.rowBlocks[M.page],f=b?b.rows[0].rowIndex:0;return[f,b?f+b.rows.length:0]}(y);return(y.values||[]).slice(n[0],n[1]).map(function(M,b){return{keyWithinBlock:b+(typeof M=="string"&&M.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:n[0]+b,column:y,calcdata:y.calcdata,page:y.page,rowBlocks:y.rowBlocks,value:M}})}},53212:function(S,x,e){"use strict";var p=e(3400),y=e(60520),n=e(86968).Q;S.exports=function(M,b,f,s){function t(o,r){return p.coerce(M,b,y,o,r)}n(b,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),p.coerceFont(t,"header.font",s.font),function(o,r){for(var i=o.columnorder||[],a=o.header.values.length,l=i.slice(0,a),u=l.slice().sort(function(w,g){return w-g}),h=l.map(function(w){return u.indexOf(w)}),c=h.length;c<a;c++)h.push(c);r("columnorder",h)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),p.coerceFont(t,"cells.font",s.font),b._length=null}},41724:function(S,x,e){"use strict";S.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(S,x,e){"use strict";var p=e(23536),y=e(33428),n=e(3400),M=n.numberFormat,b=e(71688),f=e(43616),s=e(72736),t=e(3400).raiseToTop,o=e(3400).strTranslate,r=e(3400).cancelTransition,i=e(55992),a=e(53056),l=e(76308);function u(Y){return Math.ceil(Y.calcdata.maxLineWidth/2)}function h(Y,ie){return"clip"+Y._fullLayout._uid+"_scrollAreaBottomClip_"+ie.key}function c(Y,ie){return"clip"+Y._fullLayout._uid+"_columnBoundaryClippath_"+ie.calcdata.key+"_"+ie.specIndex}function w(Y){return[].concat.apply([],Y.map(function(ie){return ie})).map(function(ie){return ie.__data__})}function g(Y,ie,re){var ne=Y.selectAll("."+p.cn.scrollbarKit).data(b.repeat,b.keyFun);ne.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ne.each(function(ce){var le=ce.scrollbarState;le.totalHeight=function(de){var be=de.rowBlocks;return V(be,be.length-1)+(be.length?Z(be[be.length-1],1/0):1)}(ce),le.scrollableAreaHeight=ce.groupHeight-k(ce),le.currentlyVisibleHeight=Math.min(le.totalHeight,le.scrollableAreaHeight),le.ratio=le.currentlyVisibleHeight/le.totalHeight,le.barLength=Math.max(le.ratio*le.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),le.barWiggleRoom=le.currentlyVisibleHeight-le.barLength,le.wiggleRoom=Math.max(0,le.totalHeight-le.scrollableAreaHeight),le.topY=le.barWiggleRoom===0?0:ce.scrollY/le.wiggleRoom*le.barWiggleRoom,le.bottomY=le.topY+le.barLength,le.dragMultiplier=le.wiggleRoom/le.barWiggleRoom}).attr("transform",function(ce){var le=ce.width+p.scrollbarWidth/2+p.scrollbarOffset;return o(le,k(ce))});var ee=ne.selectAll("."+p.cn.scrollbar).data(b.repeat,b.keyFun);ee.enter().append("g").classed(p.cn.scrollbar,!0);var Q=ee.selectAll("."+p.cn.scrollbarSlider).data(b.repeat,b.keyFun);Q.enter().append("g").classed(p.cn.scrollbarSlider,!0),Q.attr("transform",function(ce){return o(0,ce.scrollbarState.topY||0)});var X=Q.selectAll("."+p.cn.scrollbarGlyph).data(b.repeat,b.keyFun);X.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),X.attr("y2",function(ce){return ce.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(ce){return ce.columnDragInProgress||!ce.scrollbarState.barWiggleRoom||re?0:.4}),X.transition().delay(0).duration(0),X.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var se=ee.selectAll("."+p.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);se.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ce){var le=y.event.y,de=this.getBoundingClientRect(),be=ce.scrollbarState,_e=le-de.top,ve=y.scale.linear().domain([0,be.scrollableAreaHeight]).range([0,be.totalHeight]).clamp(!0);be.topY<=_e&&_e<=be.bottomY||O(ie,Y,null,ve(_e-be.barLength/2))(ce)}).call(y.behavior.drag().origin(function(ce){return y.event.stopPropagation(),ce.scrollbarState.scrollbarScrollInProgress=!0,ce}).on("drag",O(ie,Y)).on("dragend",function(){})),se.attr("y2",function(ce){return ce.scrollbarState.scrollableAreaHeight}),ie._context.staticPlot&&(X.remove(),se.remove())}function v(Y,ie,re,ne){var ee=function(le){var de=le.selectAll("."+p.cn.columnCells).data(b.repeat,b.keyFun);return de.enter().append("g").classed(p.cn.columnCells,!0),de.exit().remove(),de}(re),Q=function(le){var de=le.selectAll("."+p.cn.columnCell).data(a.splitToCells,function(be){return be.keyWithinBlock});return de.enter().append("g").classed(p.cn.columnCell,!0),de.exit().remove(),de}(ee);(function(le){le.each(function(de,be){var _e=de.calcdata.cells.font,ve=de.column.specIndex,me={size:_(_e.size,ve,be),color:_(_e.color,ve,be),family:_(_e.family,ve,be),weight:_(_e.weight,ve,be),style:_(_e.style,ve,be),variant:_(_e.variant,ve,be),textcase:_(_e.textcase,ve,be),lineposition:_(_e.lineposition,ve,be),shadow:_(_e.shadow,ve,be)};de.rowNumber=de.key,de.align=_(de.calcdata.cells.align,ve,be),de.cellBorderWidth=_(de.calcdata.cells.line.width,ve,be),de.font=me})})(Q);var X=function(le){var de=le.selectAll("."+p.cn.cellRect).data(b.repeat,function(be){return be.keyWithinBlock});return de.enter().append("rect").classed(p.cn.cellRect,!0),de}(Q);(function(le){le.attr("width",function(de){return de.column.columnWidth}).attr("stroke-width",function(de){return de.cellBorderWidth}).each(function(de){var be=y.select(this);l.stroke(be,_(de.calcdata.cells.line.color,de.column.specIndex,de.rowNumber)),l.fill(be,_(de.calcdata.cells.fill.color,de.column.specIndex,de.rowNumber))})})(X);var se=function(le){var de=le.selectAll("."+p.cn.cellTextHolder).data(b.repeat,function(be){return be.keyWithinBlock});return de.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),de}(Q),ce=function(le){var de=le.selectAll("."+p.cn.cellText).data(b.repeat,function(be){return be.keyWithinBlock});return de.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){y.event.stopPropagation()}),de}(se);(function(le){le.each(function(de){f.font(y.select(this),de.font)})})(ce),m(ce,ie,ne,Y),N(Q)}function m(Y,ie,re,ne){Y.text(function(ee){var Q=ee.column.specIndex,X=ee.rowNumber,se=ee.value,ce=typeof se=="string",le=ce&&se.match(/<br>/i),de=!ce||le;ee.mayHaveMarkup=ce&&se.match(/[<&>]/);var be,_e=typeof(be=se)=="string"&&be.match(p.latexCheck);ee.latex=_e;var ve,me,ye=_e?"":_(ee.calcdata.cells.prefix,Q,X)||"",Se=_e?"":_(ee.calcdata.cells.suffix,Q,X)||"",Ie=_e?null:_(ee.calcdata.cells.format,Q,X)||null,xe=ye+(Ie?M(Ie)(ee.value):ee.value)+Se;if(ee.wrappingNeeded=!ee.wrapped&&!de&&!_e&&(ve=T(xe)),ee.cellHeightMayIncrease=le||_e||ee.mayHaveMarkup||(ve===void 0?T(xe):ve),ee.needsConvertToTspans=ee.mayHaveMarkup||ee.wrappingNeeded||ee.latex,ee.wrappingNeeded){var ue=(p.wrapSplitCharacter===" "?xe.replace(/<a href=/gi,"<a_href="):xe).split(p.wrapSplitCharacter),ae=p.wrapSplitCharacter===" "?ue.map(function(pe){return pe.replace(/<a_href=/gi,"<a href=")}):ue;ee.fragments=ae.map(function(pe){return{text:pe,width:null}}),ee.fragments.push({fragment:p.wrapSpacer,width:null}),me=ae.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete ee.fragments,me=xe;return me}).attr("dy",function(ee){return ee.needsConvertToTspans?0:"0.75em"}).each(function(ee){var Q=this,X=y.select(Q),se=ee.wrappingNeeded?R:z;ee.needsConvertToTspans?s.convertToTspans(X,ne,se(re,Q,ie,ne,ee)):y.select(Q.parentNode).attr("transform",function(ce){return o(q(ce),p.cellPad)}).attr("text-anchor",function(ce){return{left:"start",center:"middle",right:"end"}[ce.align]})})}function T(Y){return Y.indexOf(p.wrapSplitCharacter)!==-1}function _(Y,ie,re){if(n.isArrayOrTypedArray(Y)){var ne=Y[Math.min(ie,Y.length-1)];return n.isArrayOrTypedArray(ne)?ne[Math.min(re,ne.length-1)]:ne}return Y}function A(Y,ie,re){Y.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",o(ie.x,re))}function d(Y){return Y.type==="cells"}function C(Y){return Y.type==="header"}function k(Y){return(Y.rowBlocks.length?Y.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(ie,re){return ie+Z(re,1/0)},0)}function D(Y,ie,re){var ne=w(ie)[0];if(ne!==void 0){var ee=ne.rowBlocks,Q=ne.calcdata,X=V(ee,ee.length),se=ne.calcdata.groupHeight-k(ne),ce=Q.scrollY=Math.max(0,Math.min(X-se,Q.scrollY)),le=function(de,be,_e){for(var ve=[],me=0,ye=0;ye<de.length;ye++){for(var Se=de[ye],Ie=Se.rows,xe=0,ue=0;ue<Ie.length;ue++)xe+=Ie[ue].rowHeight;Se.allRowsHeight=xe,be<me+xe&&be+_e>me&&ve.push(ye),me+=xe}return ve}(ee,ce,se);le.length===1&&(le[0]===ee.length-1?le.unshift(le[0]-1):le.push(le[0]+1)),le[0]%2&&le.reverse(),ie.each(function(de,be){de.page=le[be],de.scrollY=ce}),ie.attr("transform",function(de){var be=V(de.rowBlocks,de.page)-de.scrollY;return o(0,be)}),Y&&(L(Y,re,ie,le,ne.prevPages,ne,0),L(Y,re,ie,le,ne.prevPages,ne,1),g(re,Y))}}function O(Y,ie,re,ne){return function(ee){var Q=ee.calcdata?ee.calcdata:ee,X=ie.filter(function(de){return Q.key===de.key}),se=re||Q.scrollbarState.dragMultiplier,ce=Q.scrollY;Q.scrollY=ne===void 0?Q.scrollY+se*y.event.dy:ne;var le=X.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(d);return D(Y,le,X),Q.scrollY===ce}}function L(Y,ie,re,ne,ee,Q,X){ne[X]!==ee[X]&&(clearTimeout(Q.currentRepaint[X]),Q.currentRepaint[X]=setTimeout(function(){var se=re.filter(function(ce,le){return le===X&&ne[le]!==ee[le]});v(Y,ie,se,re),ee[X]=ne[X]}))}function R(Y,ie,re,ne){return function(){var ee=y.select(ie.parentNode);ee.each(function(Q){var X=Q.fragments;ee.selectAll("tspan.line").each(function(me,ye){X[ye].width=this.getComputedTextLength()});var se,ce,le=X[X.length-1].width,de=X.slice(0,-1),be=[],_e=0,ve=Q.column.columnWidth-2*p.cellPad;for(Q.value="";de.length;)_e+(ce=(se=de.shift()).width+le)>ve&&(Q.value+=be.join(p.wrapSpacer)+p.lineBreaker,be=[],_e=0),be.push(se.text),_e+=ce;_e&&(Q.value+=be.join(p.wrapSpacer)),Q.wrapped=!0}),ee.selectAll("tspan.line").remove(),m(ee.select("."+p.cn.cellText),re,Y,ne),y.select(ie.parentNode.parentNode).call(N)}}function z(Y,ie,re,ne,ee){return function(){if(!ee.settledY){var Q=y.select(ie.parentNode),X=H(ee),se=ee.key-X.firstRowIndex,ce=X.rows[se].rowHeight,le=ee.cellHeightMayIncrease?ie.parentNode.getBoundingClientRect().height+2*p.cellPad:ce,de=Math.max(le,ce);de-X.rows[se].rowHeight&&(X.rows[se].rowHeight=de,Y.selectAll("."+p.cn.columnCell).call(N),D(null,Y.filter(d),0),g(re,ne,!0)),Q.attr("transform",function(){var be=this,_e=be.parentNode.getBoundingClientRect(),ve=y.select(be.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),me=be.transform.baseVal.consolidate(),ye=ve.top-_e.top+(me?me.matrix.f:p.cellPad);return o(q(ee,y.select(be.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),ye)}),ee.settledY=!0}}}function q(Y,ie){switch(Y.align){case"left":default:return p.cellPad;case"right":return Y.column.columnWidth-(ie||0)-p.cellPad;case"center":return(Y.column.columnWidth-(ie||0))/2}}function N(Y){Y.attr("transform",function(ie){var re=ie.rowBlocks[0].auxiliaryBlocks.reduce(function(ee,Q){return ee+Z(Q,1/0)},0),ne=Z(H(ie),ie.key);return o(0,ne+re)}).selectAll("."+p.cn.cellRect).attr("height",function(ie){return(re=H(ie),ne=ie.key,re.rows[ne-re.firstRowIndex]).rowHeight;var re,ne})}function V(Y,ie){for(var re=0,ne=ie-1;ne>=0;ne--)re+=j(Y[ne]);return re}function Z(Y,ie){for(var re=0,ne=0;ne<Y.rows.length&&Y.rows[ne].rowIndex<ie;ne++)re+=Y.rows[ne].rowHeight;return re}function j(Y){var ie=Y.allRowsHeight;if(ie!==void 0)return ie;for(var re=0,ne=0;ne<Y.rows.length;ne++)re+=Y.rows[ne].rowHeight;return Y.allRowsHeight=re,re}function H(Y){return Y.rowBlocks[Y.page]}S.exports=function(Y,ie){var re=!Y._context.staticPlot,ne=Y._fullLayout._paper.selectAll("."+p.cn.table).data(ie.map(function(Se){var Ie=b.unwrap(Se).trace;return i(Y,Ie)}),b.keyFun);ne.exit().remove(),ne.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ne.attr("width",function(Se){return Se.width+Se.size.l+Se.size.r}).attr("height",function(Se){return Se.height+Se.size.t+Se.size.b}).attr("transform",function(Se){return o(Se.translateX,Se.translateY)});var ee=ne.selectAll("."+p.cn.tableControlView).data(b.repeat,b.keyFun),Q=ee.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(re){var X="onwheel"in document?"wheel":"mousewheel";Q.on("mousemove",function(Se){ee.filter(function(Ie){return Se===Ie}).call(g,Y)}).on(X,function(Se){if(!Se.scrollbarState.wheeling){Se.scrollbarState.wheeling=!0;var Ie=Se.scrollY+y.event.deltaY;O(Y,ee,null,Ie)(Se)||(y.event.stopPropagation(),y.event.preventDefault()),Se.scrollbarState.wheeling=!1}}).call(g,Y,!0)}ee.attr("transform",function(Se){return o(Se.size.l,Se.size.t)});var se=ee.selectAll("."+p.cn.scrollBackground).data(b.repeat,b.keyFun);se.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),se.attr("width",function(Se){return Se.width}).attr("height",function(Se){return Se.height}),ee.each(function(Se){f.setClipUrl(y.select(this),h(Y,Se),Y)});var ce=ee.selectAll("."+p.cn.yColumn).data(function(Se){return Se.columns},b.keyFun);ce.enter().append("g").classed(p.cn.yColumn,!0),ce.exit().remove(),ce.attr("transform",function(Se){return o(Se.x,0)}),re&&ce.call(y.behavior.drag().origin(function(Se){return A(y.select(this),Se,-p.uplift),t(this),Se.calcdata.columnDragInProgress=!0,g(ee.filter(function(Ie){return Se.calcdata.key===Ie.key}),Y),Se}).on("drag",function(Se){var Ie=y.select(this),xe=function(ue){return(Se===ue?y.event.x:ue.x)+ue.columnWidth/2};Se.x=Math.max(-p.overdrag,Math.min(Se.calcdata.width+p.overdrag-Se.columnWidth,y.event.x)),w(ce).filter(function(ue){return ue.calcdata.key===Se.calcdata.key}).sort(function(ue,ae){return xe(ue)-xe(ae)}).forEach(function(ue,ae){ue.xIndex=ae,ue.x=Se===ue?ue.x:ue.xScale(ue)}),ce.filter(function(ue){return Se!==ue}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(ue){return o(ue.x,0)}),Ie.call(r).attr("transform",o(Se.x,-p.uplift))}).on("dragend",function(Se){var Ie=y.select(this),xe=Se.calcdata;Se.x=Se.xScale(Se),Se.calcdata.columnDragInProgress=!1,A(Ie,Se,0),function(ue,ae,pe){var De=ae.gdColumnsOriginalOrder;ae.gdColumns.sort(function(Te,Ae){return pe[De.indexOf(Te)]-pe[De.indexOf(Ae)]}),ae.columnorder=pe,ue.emit("plotly_restyle")}(Y,xe,xe.columns.map(function(ue){return ue.xIndex}))})),ce.each(function(Se){f.setClipUrl(y.select(this),c(Y,Se),Y)});var le=ce.selectAll("."+p.cn.columnBlock).data(a.splitToPanels,b.keyFun);le.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(Se){return Se.key}),le.style("cursor",function(Se){return Se.dragHandle?"ew-resize":Se.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var de=le.filter(C),be=le.filter(d);re&&be.call(y.behavior.drag().origin(function(Se){return y.event.stopPropagation(),Se}).on("drag",O(Y,ee,-1)).on("dragend",function(){})),v(Y,ee,de,le),v(Y,ee,be,le);var _e=ee.selectAll("."+p.cn.scrollAreaClip).data(b.repeat,b.keyFun);_e.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(Se){return h(Y,Se)});var ve=_e.selectAll("."+p.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);ve.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),ve.attr("width",function(Se){return Se.width+2*p.overdrag}).attr("height",function(Se){return Se.height+p.uplift}),ce.selectAll("."+p.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(p.cn.columnBoundary,!0);var me=ce.selectAll("."+p.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);me.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),me.attr("id",function(Se){return c(Y,Se)});var ye=me.selectAll("."+p.cn.columnBoundaryRect).data(b.repeat,b.keyFun);ye.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),ye.attr("width",function(Se){return Se.columnWidth+2*u(Se)}).attr("height",function(Se){return Se.calcdata.height+2*u(Se)+p.uplift}).attr("x",function(Se){return-u(Se)}).attr("y",function(Se){return-u(Se)}),D(null,be,ee)}},40516:function(S,x,e){"use strict";var p=e(21776).Ks,y=e(21776).Gw,n=e(49084),M=e(86968).u,b=e(74996),f=e(424),s=e(32984),t=e(92880).extendFlat,o=e(98192).c;S.exports={labels:f.labels,parents:f.parents,values:f.values,branchvalues:f.branchvalues,count:f.count,level:f.level,maxdepth:f.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:f.marker.colors,pattern:o,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:f.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:f.textinfo,texttemplate:y({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:f.hoverinfo,hovertemplate:p({},{keys:s.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:f.root,domain:M({name:"treemap",trace:!0,editType:"calc"})}},79516:function(S,x,e){"use strict";var p=e(7316);x.name="treemap",x.plot=function(y,n,M,b){p.plotBasePlot(x.name,y,n,M,b)},x.clean=function(y,n,M,b){p.cleanBasePlot(x.name,y,n,M,b)}},97840:function(S,x,e){"use strict";var p=e(3776);x.r=function(y,n){return p.calc(y,n)},x.q=function(y){return p._runCrossTraceCalc("treemap",y)}},32984:function(S){"use strict";S.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(S,x,e){"use strict";var p=e(3400),y=e(40516),n=e(76308),M=e(86968).Q,b=e(31508).handleText,f=e(78048).TEXTPAD,s=e(74174).handleMarkerDefaults,t=e(8932),o=t.hasColorscale,r=t.handleDefaults;S.exports=function(i,a,l,u){function h(A,d){return p.coerce(i,a,y,A,d)}var c=h("labels"),w=h("parents");if(c&&c.length&&w&&w.length){var g=h("values");g&&g.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.packing")==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),a.texttemplate||h("textinfo",p.isArrayOrTypedArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var m=h("pathbar.visible");b(i,a,u,h,"auto",{hasPathbar:m,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var T=a.textposition.indexOf("bottom")!==-1;s(i,a,u,h),(a._hasColorscale=o(i,"marker","colors")||(i.marker||{}).coloraxis)?r(i,a,u,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(a.marker.colors||[]).length);var _=2*a.textfont.size;h("marker.pad.t",T?_/4:_),h("marker.pad.l",_/4),h("marker.pad.r",_/4),h("marker.pad.b",T?_:_/4),h("marker.cornerradius"),a._hovered={marker:{line:{width:2,color:n.contrast(u.paper_bgcolor)}}},m&&(h("pathbar.thickness",a.pathbar.textfont.size+2*f),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),M(a,u,h),a._length=null}else a.visible=!1}},95808:function(S,x,e){"use strict";var p=e(33428),y=e(78176),n=e(82744).clearMinTextSize,M=e(60100).resizeText,b=e(52960);S.exports=function(f,s,t,o,r){var i,a,l=r.type,u=r.drawDescendants,h=f._fullLayout,c=h["_"+l+"layer"],w=!t;n(l,h),(i=c.selectAll("g.trace."+l).data(s,function(g){return g[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),i.order(),!h.uniformtext.mode&&y.hasTransition(t)?(o&&(a=o()),p.transition().duration(t.duration).ease(t.easing).each("end",function(){a&&a()}).each("interrupt",function(){a&&a()}).each(function(){c.selectAll("g.trace").each(function(g){b(f,g,this,t,u)})})):(i.each(function(g){b(f,g,this,t,u)}),h.uniformtext.mode&&M(f,c.selectAll(".trace"),l)),w&&i.exit().remove()}},27336:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(72736),b=e(13832),f=e(66192).styleOne,s=e(32984),t=e(78176),o=e(45716),r=!0;S.exports=function(i,a,l,u,h){var c=h.barDifY,w=h.width,g=h.height,v=h.viewX,m=h.viewY,T=h.pathSlice,_=h.toMoveInsideSlice,A=h.strTransform,d=h.hasTransition,C=h.handleSlicesExit,k=h.makeUpdateSliceInterpolator,D=h.makeUpdateTextInterpolator,O={},L=i._context.staticPlot,R=i._fullLayout,z=a[0],q=z.trace,N=z.hierarchy,V=w/q._entryDepth,Z=t.listPath(l.data,"id"),j=b(N.copy(),[w,g],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(j=j.filter(function(Y){var ie=Z.indexOf(Y.data.id);return ie!==-1&&(Y.x0=V*ie,Y.x1=V*(ie+1),Y.y0=c,Y.y1=c+g,Y.onPathbar=!0,!0)})).reverse(),(u=u.data(j,t.getPtId)).enter().append("g").classed("pathbar",!0),C(u,r,O,[w,g],T),u.order();var H=u;d&&(H=H.transition().each("end",function(){var Y=p.select(this);t.setSliceCursor(Y,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(Y){Y._x0=v(Y.x0),Y._x1=v(Y.x1),Y._y0=m(Y.y0),Y._y1=m(Y.y1),Y._hoverX=v(Y.x1-Math.min(w,g)/2),Y._hoverY=m(Y.y1-g/2);var ie=p.select(this),re=y.ensureSingle(ie,"path","surface",function(X){X.style("pointer-events",L?"none":"all")});d?re.transition().attrTween("d",function(X){var se=k(X,r,O,[w,g]);return function(ce){return T(se(ce))}}):re.attr("d",T),ie.call(o,l,i,a,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,i,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:i._transitioning}),re.call(f,Y,q,i,{hovered:!1}),Y._text=(t.getPtLabel(Y)||"").split("<br>").join(" ")||"";var ne=y.ensureSingle(ie,"g","slicetext"),ee=y.ensureSingle(ne,"text","",function(X){X.attr("data-notex",1)}),Q=y.ensureUniformFontSize(i,t.determineTextFont(q,Y,R.font,{onPathbar:!0}));ee.text(Y._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,Q).call(M.convertToTspans,i),Y.textBB=n.bBox(ee.node()),Y.transform=_(Y,{fontSize:Q.size,onPathbar:!0}),Y.transform.fontSize=Q.size,d?ee.transition().attrTween("transform",function(X){var se=D(X,r,O,[w,g]);return function(ce){return A(se(ce))}}):ee.attr("transform",A(Y))})}},76477:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(72736),b=e(13832),f=e(66192).styleOne,s=e(32984),t=e(78176),o=e(45716),r=e(96488).formatSliceLabel,i=!1;S.exports=function(a,l,u,h,c){var w=c.width,g=c.height,v=c.viewX,m=c.viewY,T=c.pathSlice,_=c.toMoveInsideSlice,A=c.strTransform,d=c.hasTransition,C=c.handleSlicesExit,k=c.makeUpdateSliceInterpolator,D=c.makeUpdateTextInterpolator,O=c.prevEntry,L=a._context.staticPlot,R=a._fullLayout,z=l[0].trace,q=z.textposition.indexOf("left")!==-1,N=z.textposition.indexOf("right")!==-1,V=z.textposition.indexOf("bottom")!==-1,Z=!V&&!z.marker.pad.t||V&&!z.marker.pad.b,j=b(u,[w,g],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),H=1/0,Y=-1/0;j.forEach(function(Q){var X=Q.depth;X>=z._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(H=Math.min(H,X),Y=Math.max(Y,X))}),h=h.data(j,t.getPtId),z._maxVisibleLayers=isFinite(Y)?Y-H+1:0,h.enter().append("g").classed("slice",!0),C(h,i,{},[w,g],T),h.order();var ie=null;if(d&&O){var re=t.getPtId(O);h.each(function(Q){ie===null&&t.getPtId(Q)===re&&(ie={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var ne=function(){return ie||{x0:0,x1:w,y0:0,y1:g}},ee=h;return d&&(ee=ee.transition().each("end",function(){var Q=p.select(this);t.setSliceCursor(Q,a,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),ee.each(function(Q){var X=t.isHeader(Q,z);Q._x0=v(Q.x0),Q._x1=v(Q.x1),Q._y0=m(Q.y0),Q._y1=m(Q.y1),Q._hoverX=v(Q.x1-z.marker.pad.r),Q._hoverY=m(V?Q.y1-z.marker.pad.b/2:Q.y0+z.marker.pad.t/2);var se=p.select(this),ce=y.ensureSingle(se,"path","surface",function(me){me.style("pointer-events",L?"none":"all")});d?ce.transition().attrTween("d",function(me){var ye=k(me,i,ne(),[w,g]);return function(Se){return T(ye(Se))}}):ce.attr("d",T),se.call(o,u,a,l,{styleOne:f,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,a,{isTransitioning:a._transitioning}),ce.call(f,Q,z,a,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":Q._text=X?Z?"":t.getPtLabel(Q)||"":r(Q,u,z,l,R)||"";var le=y.ensureSingle(se,"g","slicetext"),de=y.ensureSingle(le,"text","",function(me){me.attr("data-notex",1)}),be=y.ensureUniformFontSize(a,t.determineTextFont(z,Q,R.font)),_e=Q._text||" ",ve=X&&_e.indexOf("<br>")===-1;de.text(_e).classed("slicetext",!0).attr("text-anchor",N?"end":q||ve?"start":"middle").call(n.font,be).call(M.convertToTspans,a),Q.textBB=n.bBox(de.node()),Q.transform=_(Q,{fontSize:be.size,isHeader:X}),Q.transform.fontSize=be.size,d?de.transition().attrTween("transform",function(me){var ye=D(me,i,ne(),[w,g]);return function(Se){return A(ye(Se))}}):de.attr("transform",A(Q))}),ie}},83024:function(S){"use strict";S.exports=function x(e,p,y){var n;y.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),y.flipX&&(n=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-n),y.flipY&&(n=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-n);var M=e.children;if(M)for(var b=0;b<M.length;b++)x(M[b],p,y)}},31991:function(S,x,e){"use strict";S.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(S){"use strict";S.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(S,x,e){"use strict";var p=e(3400),y=e(45392);S.exports=function(n,M){function b(f,s){return p.coerce(n,M,y,f,s)}b("treemapcolorway",M.colorway),b("extendtreemapcolors")}},13832:function(S,x,e){"use strict";var p=e(74148),y=e(83024);S.exports=function(n,M,b){var f,s=b.flipX,t=b.flipY,o=b.packing==="dice-slice",r=b.pad[t?"bottom":"top"],i=b.pad[s?"right":"left"],a=b.pad[s?"left":"right"],l=b.pad[t?"top":"bottom"];o&&(f=i,i=r,r=f,f=a,a=l,l=f);var u=p.treemap().tile(function(h,c){switch(h){case"squarify":return p.treemapSquarify.ratio(c);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(i).paddingRight(a).paddingTop(r).paddingBottom(l).size(o?[M[1],M[0]]:M)(n);return(o||s||t)&&y(u,M,{swapXY:o,flipX:s,flipY:t}),u}},53264:function(S,x,e){"use strict";var p=e(95808),y=e(76477);S.exports=function(n,M,b,f){return p(n,M,b,f,{type:"treemap",drawDescendants:y})}},52960:function(S,x,e){"use strict";var p=e(33428),y=e(67756).qy,n=e(78176),M=e(3400),b=e(78048).TEXTPAD,f=e(98184).toMoveInsideBar,s=e(82744).recordMinTextSize,t=e(32984),o=e(27336);function r(i){return n.isHierarchyRoot(i)?"":n.getPtId(i)}S.exports=function(i,a,l,u,h){var c=i._fullLayout,w=a[0],g=w.trace,v=g.type==="icicle",m=w.hierarchy,T=n.findEntryWithLevel(m,g.level),_=p.select(l),A=_.selectAll("g.pathbar"),d=_.selectAll("g.slice");if(!T)return A.remove(),void d.remove();var C=n.isHierarchyRoot(T),k=!c.uniformtext.mode&&n.hasTransition(u),D=n.getMaxDepth(g),O=c._size,L=g.domain,R=O.w*(L.x[1]-L.x[0]),z=O.h*(L.y[1]-L.y[0]),q=R,N=g.pathbar.thickness,V=g.marker.line.width+t.gapWithPathbar,Z=g.pathbar.visible?g.pathbar.side.indexOf("bottom")>-1?z+V:-(N+V):0,j={x0:q,x1:q,y0:Z,y1:Z+N},H=function(Me,Ee,Fe){var Le=g.tiling.pad,Ue=function(st){return st-Le<=Ee.x0},Ge=function(st){return st+Le>=Ee.x1},Ke=function(st){return st-Le<=Ee.y0},at=function(st){return st+Le>=Ee.y1};return Me.x0===Ee.x0&&Me.x1===Ee.x1&&Me.y0===Ee.y0&&Me.y1===Ee.y1?{x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1}:{x0:Ue(Me.x0-Le)?0:Ge(Me.x0-Le)?Fe[0]:Me.x0,x1:Ue(Me.x1+Le)?0:Ge(Me.x1+Le)?Fe[0]:Me.x1,y0:Ke(Me.y0-Le)?0:at(Me.y0-Le)?Fe[1]:Me.y0,y1:Ke(Me.y1+Le)?0:at(Me.y1+Le)?Fe[1]:Me.y1}},Y=null,ie={},re={},ne=null,ee=function(Me,Ee){return Ee?ie[r(Me)]:re[r(Me)]};w.hasMultipleRoots&&C&&D++,g._maxDepth=D,g._backgroundColor=c.paper_bgcolor,g._entryDepth=T.data.depth,g._atRootLevel=C;var Q=-R/2+O.l+O.w*(L.x[1]+L.x[0])/2,X=-z/2+O.t+O.h*(1-(L.y[1]+L.y[0])/2),se=function(Me){return Q+Me},ce=function(Me){return X+Me},le=ce(0),de=se(0),be=function(Me){return de+Me},_e=function(Me){return le+Me};function ve(Me,Ee){return Me+","+Ee}var me=be(0),ye=function(Me){Me.x=Math.max(me,Me.x)},Se=g.pathbar.edgeshape,Ie=g[v?"tiling":"marker"].pad,xe=function(Me){return g.textposition.indexOf(Me)!==-1},ue=xe("top"),ae=xe("left"),pe=xe("right"),De=xe("bottom"),Te=function(Me,Ee){var Fe=Me.x0,Le=Me.x1,Ue=Me.y0,Ge=Me.y1,Ke=Me.textBB,at=ue||Ee.isHeader&&!De?"start":De?"end":"middle",st=xe("right"),vt=xe("left")||Ee.onPathbar?-1:st?1:0;if(Ee.isHeader){if((Fe+=(v?Ie:Ie.l)-b)>=(Le-=(v?Ie:Ie.r)-b)){var xt=(Fe+Le)/2;Fe=xt,Le=xt}var gt;De?Ue<(gt=Ge-(v?Ie:Ie.b))&&gt<Ge&&(Ue=gt):Ue<(gt=Ue+(v?Ie:Ie.t))&&gt<Ge&&(Ge=gt)}var nt=f(Fe,Le,Ue,Ge,Ke,{isHorizontal:!1,constrained:!0,angle:0,anchor:at,leftToRight:vt});return nt.fontSize=Ee.fontSize,nt.targetX=se(nt.targetX),nt.targetY=ce(nt.targetY),isNaN(nt.targetX)||isNaN(nt.targetY)?{}:(Fe!==Le&&Ue!==Ge&&s(g.type,nt,c),{scale:nt.scale,rotate:nt.rotate,textX:nt.textX,textY:nt.textY,anchorX:nt.anchorX,anchorY:nt.anchorY,targetX:nt.targetX,targetY:nt.targetY})},Ae=function(Me,Ee){for(var Fe,Le=0,Ue=Me;!Fe&&Le<D;)Le++,(Ue=Ue.parent)?Fe=ee(Ue,Ee):Le=D;return Fe||{}},Ce=function(Me,Ee,Fe,Le,Ue){var Ge,Ke=ee(Me,Ee);if(Ke)Ge=Ke;else if(Ee)Ge=j;else if(Y)if(Me.parent){var at=ne||Fe;at&&!Ee?Ge=H(Me,at,Le):(Ge={},M.extendFlat(Ge,Ae(Me,Ee)))}else Ge=M.extendFlat({},Me),v&&(Ue.orientation==="h"?Ue.flipX?Ge.x0=Me.x1:Ge.x1=0:Ue.flipY?Ge.y0=Me.y1:Ge.y1=0);else Ge={};return y(Ge,{x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1})},Re=function(Me,Ee,Fe,Le){var Ue=ee(Me,Ee),Ge={},Ke=function(st,vt,xt,gt){if(vt)return ie[r(m)]||j;var nt=re[g.level]||xt;return function(et){return et.data.depth-T.data.depth<D}(st)?H(st,nt,gt):{}}(Me,Ee,Fe,Le);M.extendFlat(Ge,{transform:Te({x0:Ke.x0,x1:Ke.x1,y0:Ke.y0,y1:Ke.y1,textBB:Me.textBB,_text:Me._text},{isHeader:n.isHeader(Me,g)})}),Ue?Ge=Ue:Me.parent&&M.extendFlat(Ge,Ae(Me,Ee));var at=Me.transform;return Me.x0!==Me.x1&&Me.y0!==Me.y1&&s(g.type,at,c),y(Ge,{transform:{scale:at.scale,rotate:at.rotate,textX:at.textX,textY:at.textY,anchorX:at.anchorX,anchorY:at.anchorY,targetX:at.targetX,targetY:at.targetY}})},Ne=function(Me,Ee,Fe,Le,Ue){var Ge=Le[0],Ke=Le[1];k?Me.exit().transition().each(function(){var at=p.select(this);at.select("path.surface").transition().attrTween("d",function(st){var vt=function(xt,gt,nt,et){var At,Pt=ee(xt,gt);if(gt)At=j;else{var Rt=ee(T,gt);At=Rt?H(xt,Rt,et):{}}return y(Pt,At)}(st,Ee,0,[Ge,Ke]);return function(xt){return Ue(vt(xt))}}),at.select("g.slicetext").attr("opacity",0)}).remove():Me.exit().remove()},ge=function(Me){var Ee=Me.transform;return Me.x0!==Me.x1&&Me.y0!==Me.y1&&s(g.type,Ee,c),M.getTextTransform({textX:Ee.textX,textY:Ee.textY,anchorX:Ee.anchorX,anchorY:Ee.anchorY,targetX:Ee.targetX,targetY:Ee.targetY,scale:Ee.scale,rotate:Ee.rotate})};k&&(A.each(function(Me){ie[r(Me)]={x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1},Me.transform&&(ie[r(Me)].transform={textX:Me.transform.textX,textY:Me.transform.textY,anchorX:Me.transform.anchorX,anchorY:Me.transform.anchorY,targetX:Me.transform.targetX,targetY:Me.transform.targetY,scale:Me.transform.scale,rotate:Me.transform.rotate})}),d.each(function(Me){re[r(Me)]={x0:Me.x0,x1:Me.x1,y0:Me.y0,y1:Me.y1},Me.transform&&(re[r(Me)].transform={textX:Me.transform.textX,textY:Me.transform.textY,anchorX:Me.transform.anchorX,anchorY:Me.transform.anchorY,targetX:Me.transform.targetX,targetY:Me.transform.targetY,scale:Me.transform.scale,rotate:Me.transform.rotate}),!Y&&n.isEntry(Me)&&(Y=Me)})),ne=h(i,a,T,d,{width:R,height:z,viewX:se,viewY:ce,pathSlice:function(Me){var Ee=se(Me.x0),Fe=se(Me.x1),Le=ce(Me.y0),Ue=ce(Me.y1),Ge=Fe-Ee,Ke=Ue-Le;if(!Ge||!Ke)return"";var at=g.marker.cornerradius||0,st=Math.min(at,Ge/2,Ke/2);st&&Me.data&&Me.data.data&&Me.data.data.label&&(ue&&(st=Math.min(st,Ie.t)),ae&&(st=Math.min(st,Ie.l)),pe&&(st=Math.min(st,Ie.r)),De&&(st=Math.min(st,Ie.b)));var vt=function(xt,gt){return st?"a"+ve(st,st)+" 0 0 1 "+ve(xt,gt):""};return"M"+ve(Ee,Le+st)+vt(st,-st)+"L"+ve(Fe-st,Le)+vt(st,st)+"L"+ve(Fe,Ue-st)+vt(-st,st)+"L"+ve(Ee+st,Ue)+vt(-st,-st)+"Z"},toMoveInsideSlice:Te,prevEntry:Y,makeUpdateSliceInterpolator:Ce,makeUpdateTextInterpolator:Re,handleSlicesExit:Ne,hasTransition:k,strTransform:ge}),g.pathbar.visible?o(i,a,T,A,{barDifY:Z,width:q,height:N,viewX:be,viewY:_e,pathSlice:function(Me){var Ee=be(Math.max(Math.min(Me.x0,Me.x0),0)),Fe=be(Math.min(Math.max(Me.x1,Me.x1),q)),Le=_e(Me.y0),Ue=_e(Me.y1),Ge=N/2,Ke={},at={};Ke.x=Ee,at.x=Fe,Ke.y=at.y=(Le+Ue)/2;var st={x:Ee,y:Le},vt={x:Fe,y:Le},xt={x:Fe,y:Ue},gt={x:Ee,y:Ue};return Se===">"?(st.x-=Ge,vt.x-=Ge,xt.x-=Ge,gt.x-=Ge):Se==="/"?(xt.x-=Ge,gt.x-=Ge,Ke.x-=Ge/2,at.x-=Ge/2):Se==="\\"?(st.x-=Ge,vt.x-=Ge,Ke.x-=Ge/2,at.x-=Ge/2):Se==="<"&&(Ke.x-=Ge,at.x-=Ge),ye(st),ye(gt),ye(Ke),ye(vt),ye(xt),ye(at),"M"+ve(st.x,st.y)+"L"+ve(vt.x,vt.y)+"L"+ve(at.x,at.y)+"L"+ve(xt.x,xt.y)+"L"+ve(gt.x,gt.y)+"L"+ve(Ke.x,Ke.y)+"Z"},toMoveInsideSlice:Te,makeUpdateSliceInterpolator:Ce,makeUpdateTextInterpolator:Re,handleSlicesExit:Ne,hasTransition:k,strTransform:ge}):A.remove()}},66192:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(3400),M=e(78176),b=e(82744).resizeText,f=e(60404);function s(t,o,r,i,a){var l,u,h=(a||{}).hovered,c=o.data.data,w=c.i,g=c.color,v=M.isHierarchyRoot(o),m=1;if(h)l=r._hovered.marker.line.color,u=r._hovered.marker.line.width;else if(v&&g===r.root.color)m=100,l="rgba(0,0,0,0)",u=0;else if(l=n.castOption(r,w,"marker.line.color")||y.defaultLine,u=n.castOption(r,w,"marker.line.width")||0,!r._hasColorscale&&!o.onPathbar){var T=r.marker.depthfade;if(T){var _,A=y.combine(y.addOpacity(r._backgroundColor,.75),g);if(T===!0){var d=M.getMaxDepth(r);_=isFinite(d)?M.isLeaf(o)?0:r._maxVisibleLayers-(o.data.depth-r._entryDepth):o.data.height+1}else _=o.data.depth-r._entryDepth,r._atRootLevel||_++;if(_>0)for(var C=0;C<_;C++){var k=.5*C/_;g=y.combine(y.addOpacity(A,k),g)}}}t.call(f,o,r,i,g).style("stroke-width",u).call(y.stroke,l).style("opacity",m)}S.exports={style:function(t){var o=t._fullLayout._treemaplayer.selectAll(".trace");b(t,o,"treemap"),o.each(function(r){var i=p.select(this),a=r[0].trace;i.style("opacity",a.opacity),i.selectAll("path.surface").each(function(l){p.select(this).call(s,l,a,t,{hovered:!1})})})},styleOne:s}},13988:function(S,x,e){"use strict";var p=e(63188),y=e(92880).extendFlat,n=e(29736).axisHoverFormat;S.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:y({},p.name,{}),orientation:y({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:y({},p.boxpoints,{}),jitter:y({},p.jitter,{}),pointpos:y({},p.pointpos,{}),width:y({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:p.zorder}},67064:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(62555),M=e(63800),b=e(39032).BADNUM;function f(t,o,r){var i=o.max-o.min;if(!i)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,i/1e4);var a=r.length,l=p.stdev(r,a-1,o.mean);return Math.max(function(u,h,c){return 1.059*Math.min(h,c/1.349)*Math.pow(u,-.2)}(a,l,o.q3-o.q1),i/100)}function s(t,o,r,i){var a,l=t.spanmode,u=t.span||[],h=[o.min,o.max],c=[o.min-2*i,o.max+2*i];function w(v){var m=u[v],T=r.type==="multicategory"?r.r2c(m):r.d2c(m,0,t[o.valLetter+"calendar"]);return T===b?c[v]:T}var g={type:"linear",range:a=l==="soft"?c:l==="hard"?h:[w(0),w(1)]};return y.setConvert(g),g.cleanRange(),a}S.exports=function(t,o){var r=n(t,o);if(r[0].t.empty)return r;for(var i=t._fullLayout,a=y.getFromId(t,o[o.orientation==="h"?"xaxis":"yaxis"]),l=1/0,u=-1/0,h=0,c=0,w=0;w<r.length;w++){var g=r[w],v=g.pts.map(M.extractVal),m=g.bandwidth=f(o,g,v),T=g.span=s(o,g,a,m);if(g.min===g.max&&m===0)T=g.span=[g.min,g.max],g.density=[{v:1,t:T[0]}],g.bandwidth=m,h=Math.max(h,1);else{var _=T[1]-T[0],A=Math.ceil(_/(m/3)),d=_/A;if(!isFinite(d)||!isFinite(A))return p.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var C=M.makeKDE(g,o,v);g.density=new Array(A);for(var k=0,D=T[0];D<T[1]+d/2;k++,D+=d){var O=C(D);g.density[k]={v:O,t:D},h=Math.max(h,O)}}c=Math.max(c,v.length),l=Math.min(l,T[0]),u=Math.max(u,T[1])}var L=y.findExtremes(a,[l,u],{padded:!0});if(o._extremes[a._id]=L,o.width)r[0].t.maxKDE=h;else{var R=i._violinScaleGroupStats,z=o.scalegroup,q=R[z];q?(q.maxKDE=Math.max(q.maxKDE,h),q.maxCount=Math.max(q.maxCount,c)):R[z]={maxKDE:h,maxCount:c}}return r[0].t.labels.kde=p._(t,"kde:"),r}},14348:function(S,x,e){"use strict";var p=e(96404).setPositionOffset,y=["v","h"];S.exports=function(n,M){for(var b=n.calcdata,f=M.xaxis,s=M.yaxis,t=0;t<y.length;t++){for(var o=y[t],r=o==="h"?s:f,i=[],a=0;a<b.length;a++){var l=b[a],u=l[0].t,h=l[0].trace;h.visible!==!0||h.type!=="violin"||u.empty||h.orientation!==o||h.xaxis!==f._id||h.yaxis!==s._id||i.push(a)}p("violin",n,i,r)}}},36240:function(S,x,e){"use strict";var p=e(3400),y=e(76308),n=e(90624),M=e(13988);S.exports=function(b,f,s,t){function o(_,A){return p.coerce(b,f,M,_,A)}function r(_,A){return p.coerce2(b,f,M,_,A)}if(n.handleSampleDefaults(b,f,o,t),f.visible!==!1){o("bandwidth"),o("side"),o("width")||(o("scalegroup",f.name),o("scalemode"));var i,a=o("span");Array.isArray(a)&&(i="manual"),o("spanmode",i);var l=o("line.color",(b.marker||{}).color||s),u=o("line.width"),h=o("fillcolor",y.addOpacity(f.line.color,.5));n.handlePointsDefaults(b,f,o,{prefix:""});var c=r("box.width"),w=r("box.fillcolor",h),g=r("box.line.color",l),v=r("box.line.width",u);o("box.visible",!!(c||w||g||v))||(f.box={visible:!1});var m=r("meanline.color",l),T=r("meanline.width",u);o("meanline.visible",!!(m||T))||(f.meanline={visible:!1}),o("quartilemethod"),o("zorder")}}},63800:function(S,x,e){"use strict";var p=e(3400),y=function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)};x.makeKDE=function(n,M,b){var f=b.length,s=y,t=n.bandwidth,o=1/(f*t);return function(r){for(var i=0,a=0;a<f;a++)i+=s((r-b[a])/t);return o*i}},x.getPositionOnKdePath=function(n,M,b){var f,s;M.orientation==="h"?(f="y",s="x"):(f="x",s="y");var t=p.findPointOnPath(n.path,b,s,{pathLength:n.pathLength}),o=n.posCenterPx,r=t[f];return[r,M.side==="both"?2*o-r:o]},x.getKdeValue=function(n,M,b){var f=n.pts.map(x.extractVal);return x.makeKDE(n,M,f)(b)/n.posDensityScale},x.extractVal=function(n){return n.v}},78e3:function(S,x,e){"use strict";var p=e(76308),y=e(3400),n=e(54460),M=e(27576),b=e(63800);S.exports=function(f,s,t,o,r){r||(r={});var i,a,l=r.hoverLayer,u=f.cd,h=u[0].trace,c=h.hoveron,w=c.indexOf("violins")!==-1,g=c.indexOf("kde")!==-1,v=[];if(w||g){var m=M.hoverOnBoxes(f,s,t,o);if(g&&m.length>0){var T,_,A,d,C,k=f.xa,D=f.ya;h.orientation==="h"?(C=s,T="y",A=D,_="x",d=k):(C=t,T="x",A=k,_="y",d=D);var O=u[f.index];if(C>=O.span[0]&&C<=O.span[1]){var L=y.extendFlat({},f),R=d.c2p(C,!0),z=b.getKdeValue(O,h,C),q=b.getPositionOnKdePath(O,h,R),N=A._offset,V=A._length;L[T+"0"]=q[0],L[T+"1"]=q[1],L[_+"0"]=L[_+"1"]=R,L[_+"Label"]=_+": "+n.hoverLabelText(d,C,h[_+"hoverformat"])+", "+u[0].t.labels.kde+" "+z.toFixed(3);for(var Z=0,j=0;j<m.length;j++)if(m[j].attr==="med"){Z=j;break}L.spikeDistance=m[Z].spikeDistance;var H=T+"Spike";L[H]=m[Z][H],m[Z].spikeDistance=void 0,m[Z][H]=void 0,L.hovertemplate=!1,v.push(L),(a={})[T+"1"]=y.constrain(N+q[0],N,N+V),a[T+"2"]=y.constrain(N+q[1],N,N+V),a[_+"1"]=a[_+"2"]=d._offset+R}}w&&(v=v.concat(m))}c.indexOf("points")!==-1&&(i=M.hoverOnPoints(f,s,t));var Y=l.selectAll(".violinline-"+h.uid).data(a?[0]:[]);return Y.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),Y.exit().remove(),Y.attr(a).call(p.stroke,f.color),o==="closest"?i?[i]:v:(i&&v.push(i),v)}},22869:function(S,x,e){"use strict";S.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(S,x,e){"use strict";var p=e(16560),y=e(3400).extendFlat;S.exports={violinmode:y({},p.boxmode,{}),violingap:y({},p.boxgap,{}),violingroupgap:y({},p.boxgroupgap,{})}},8939:function(S,x,e){"use strict";var p=e(3400),y=e(98228),n=e(68832);S.exports=function(M,b,f){n._supply(M,b,f,function(s,t){return p.coerce(M,b,y,s,t)},"violin")}},5140:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(18728),b=e(52340),f=e(63800);S.exports=function(s,t,o,r){var i=s._context.staticPlot,a=s._fullLayout,l=t.xaxis,u=t.yaxis;function h(c,w){var g=b(c,{xaxis:l,yaxis:u,trace:w,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(g[0],1)}y.makeTraceGroups(r,o,"trace violins").each(function(c){var w=p.select(this),g=c[0],v=g.t,m=g.trace;if(m.visible!==!0||v.empty)w.remove();else{var T=v.bPos,_=v.bdPos,A=t[v.valLetter+"axis"],d=t[v.posLetter+"axis"],C=m.side==="both",k=C||m.side==="positive",D=C||m.side==="negative",O=w.selectAll("path.violin").data(y.identity);O.enter().append("path").style("vector-effect",i?"none":"non-scaling-stroke").attr("class","violin"),O.exit().remove(),O.each(function(j){var H,Y,ie,re,ne,ee,Q,X,se=p.select(this),ce=j.density,le=ce.length,de=d.c2l(j.pos+T,!0),be=d.l2p(de);if(m.width)H=v.maxKDE/_;else{var _e=a._violinScaleGroupStats[m.scalegroup];H=m.scalemode==="count"?_e.maxKDE/_*(_e.maxCount/j.pts.length):_e.maxKDE/_}if(k){for(Q=new Array(le),ne=0;ne<le;ne++)(X=Q[ne]={})[v.posLetter]=de+ce[ne].v/H,X[v.valLetter]=A.c2l(ce[ne].t,!0);Y=h(Q,m)}if(D){for(Q=new Array(le),ee=0,ne=le-1;ee<le;ee++,ne--)(X=Q[ee]={})[v.posLetter]=de-ce[ne].v/H,X[v.valLetter]=A.c2l(ce[ne].t,!0);ie=h(Q,m)}if(C)re=Y+"L"+ie.substr(1)+"Z";else{var ve=[be,A.c2p(ce[0].t)],me=[be,A.c2p(ce[le-1].t)];m.orientation==="h"&&(ve.reverse(),me.reverse()),re=k?"M"+ve+"L"+Y.substr(1)+"L"+me:"M"+me+"L"+ie.substr(1)+"L"+ve}se.attr("d",re),j.posCenterPx=be,j.posDensityScale=H*_,j.path=se.node(),j.pathLength=j.path.getTotalLength()/(C?2:1)});var L,R,z,q=m.box,N=q.width,V=(q.line||{}).width;C?(L=_*N,R=0):k?(L=[0,_*N/2],R=V*{x:1,y:-1}[v.posLetter]):(L=[_*N/2,0],R=V*{x:-1,y:1}[v.posLetter]),M.plotBoxAndWhiskers(w,{pos:d,val:A},m,{bPos:T,bdPos:L,bPosPxOffset:R}),M.plotBoxMean(w,{pos:d,val:A},m,{bPos:T,bdPos:L,bPosPxOffset:R}),!m.box.visible&&m.meanline.visible&&(z=y.identity);var Z=w.selectAll("path.meanline").data(z||[]);Z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",i?"none":"non-scaling-stroke"),Z.exit().remove(),Z.each(function(j){var H=A.c2p(j.mean,!0),Y=f.getPositionOnKdePath(j,m,H);p.select(this).attr("d",m.orientation==="h"?"M"+H+","+Y[0]+"V"+Y[1]:"M"+Y[0]+","+H+"H"+Y[1])}),M.plotPoints(w,{x:l,y:u},m,v)}})}},95908:function(S,x,e){"use strict";var p=e(33428),y=e(76308),n=e(49224).stylePoints;S.exports=function(M){var b=p.select(M).selectAll("g.trace.violins");b.style("opacity",function(f){return f[0].trace.opacity}),b.each(function(f){var s=f[0].trace,t=p.select(this),o=s.box||{},r=o.line||{},i=s.meanline||{},a=i.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(y.stroke,s.line.color).call(y.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",r.width+"px").call(y.stroke,r.color).call(y.fill,o.fillcolor);var l={"stroke-width":a+"px","stroke-dasharray":2*a+"px,"+a+"px"};t.selectAll("path.mean").style(l).call(y.stroke,i.color),t.selectAll("path.meanline").style(l).call(y.stroke,i.color),n(t,s,M)})}},58168:function(S,x,e){"use strict";var p=e(49084),y=e(50048),n=e(16716),M=e(45464),b=e(92880).extendFlat,f=e(67824).overrideAll,s=S.exports=f(b({x:y.x,y:y.y,z:y.z,value:y.value,isomin:y.isomin,isomax:y.isomax,surface:y.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:y.slices,caps:y.caps,text:y.text,hovertext:y.hovertext,xhoverformat:y.xhoverformat,yhoverformat:y.yhoverformat,zhoverformat:y.zhoverformat,valuehoverformat:y.valuehoverformat,hovertemplate:y.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:y.colorbar,opacity:y.opacity,opacityscale:n.opacityscale,lightposition:y.lightposition,lighting:y.lighting,flatshading:y.flatshading,contour:y.contour,hoverinfo:b({},M.hoverinfo),showlegend:b({},M.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},91976:function(S,x,e){"use strict";var p=e(67792).gl_mesh3d,y=e(33040).parseColorScale,n=e(3400).isArrayOrTypedArray,M=e(43080),b=e(8932).extractOpts,f=e(52094),s=e(31460).findNearestOnAxis,t=e(31460).generateIsoMeshes;function o(i,a,l){this.scene=i,this.uid=l,this.mesh=a,this.name="",this.data=null,this.showContour=!1}var r=o.prototype;r.handlePick=function(i){if(i.object===this.mesh){var a=i.data.index,l=this.data._meshX[a],u=this.data._meshY[a],h=this.data._meshZ[a],c=this.data._Ys.length,w=this.data._Zs.length,g=s(l,this.data._Xs).id,v=s(u,this.data._Ys).id,m=s(h,this.data._Zs).id,T=i.index=m+w*v+w*c*g;i.traceCoordinate=[this.data._meshX[T],this.data._meshY[T],this.data._meshZ[T],this.data._value[T]];var _=this.data.hovertext||this.data.text;return n(_)&&_[T]!==void 0?i.textLabel=_[T]:_&&(i.textLabel=_),!0}},r.update=function(i){var a=this.scene,l=a.fullSceneLayout;function u(w,g,v,m){return g.map(function(T){return w.d2l(T,0,m)*v})}this.data=t(i);var h={positions:f(u(l.xaxis,i._meshX,a.dataScale[0],i.xcalendar),u(l.yaxis,i._meshY,a.dataScale[1],i.ycalendar),u(l.zaxis,i._meshZ,a.dataScale[2],i.zcalendar)),cells:f(i._meshI,i._meshJ,i._meshK),lightPosition:[i.lightposition.x,i.lightposition.y,i.lightposition.z],ambient:i.lighting.ambient,diffuse:i.lighting.diffuse,specular:i.lighting.specular,roughness:i.lighting.roughness,fresnel:i.lighting.fresnel,vertexNormalsEpsilon:i.lighting.vertexnormalsepsilon,faceNormalsEpsilon:i.lighting.facenormalsepsilon,opacity:i.opacity,opacityscale:i.opacityscale,contourEnable:i.contour.show,contourColor:M(i.contour.color).slice(0,3),contourWidth:i.contour.width,useFacetNormals:i.flatshading},c=b(i);h.vertexIntensity=i._meshIntensity,h.vertexIntensityBounds=[c.min,c.max],h.colormap=y(i),this.mesh.update(h)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},S.exports=function(i,a){var l=i.glplot.gl,u=p({gl:l}),h=new o(i,u,a.uid);return u._trace=h,h.update(a),i.glplot.add(u),h}},12448:function(S,x,e){"use strict";var p=e(3400),y=e(58168),n=e(70548).supplyIsoDefaults,M=e(60192).opacityscaleDefaults;S.exports=function(b,f,s,t){function o(r,i){return p.coerce(b,f,y,r,i)}n(b,f,s,t,o),M(b,f,t,o)}},67776:function(S,x,e){"use strict";S.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(S,x,e){"use strict";var p=e(20832),y=e(52904).line,n=e(45464),M=e(29736).axisHoverFormat,b=e(21776).Ks,f=e(21776).Gw,s=e(10213),t=e(92880).extendFlat,o=e(76308);function r(i){return{marker:{color:t({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}S.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:p.hovertext,hovertemplate:b({},{keys:s.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:f({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:t({},y.color,{dflt:o.defaultLine}),width:t({},y.width,{editType:"plot"}),dash:y.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,zorder:p.zorder}},73540:function(S,x,e){"use strict";var p=e(54460),y=e(1220),n=e(3400).mergeArray,M=e(4500),b=e(39032).BADNUM;function f(t){return t==="a"||t==="absolute"}function s(t){return t==="t"||t==="total"}S.exports=function(t,o){var r,i,a,l,u,h,c=p.getFromId(t,o.xaxis||"x"),w=p.getFromId(t,o.yaxis||"y");o.orientation==="h"?(r=c.makeCalcdata(o,"x"),a=w.makeCalcdata(o,"y"),l=y(o,w,"y",a),u=!!o.yperiodalignment,h="y"):(r=w.makeCalcdata(o,"y"),a=c.makeCalcdata(o,"x"),l=y(o,c,"x",a),u=!!o.xperiodalignment,h="x"),i=l.vals;for(var g,v=Math.min(i.length,r.length),m=new Array(v),T=0,_=!1,A=0;A<v;A++){var d=r[A]||0,C=!1;(r[A]!==b||s(o.measure[A])||f(o.measure[A]))&&A+1<v&&(r[A+1]!==b||s(o.measure[A+1])||f(o.measure[A+1]))&&(C=!0);var k=m[A]={i:A,p:i[A],s:d,rawS:d,cNext:C};f(o.measure[A])?(T=k.s,k.isSum=!0,k.dir="totals",k.s=T):s(o.measure[A])?(k.isSum=!0,k.dir="totals",k.s=T):(k.isSum=!1,k.dir=k.rawS<0?"decreasing":"increasing",g=k.s,k.s=T+g,T+=g),k.dir==="totals"&&(_=!0),u&&(m[A].orig_p=a[A],m[A][h+"End"]=l.ends[A],m[A][h+"Start"]=l.starts[A]),o.ids&&(k.id=String(o.ids[A])),k.v=(o.base||0)+T}return m.length&&(m[0].hasTotals=_),n(o.text,m,"tx"),n(o.hovertext,m,"htx"),M(m,o),m}},10213:function(S){"use strict";S.exports={eventDataKeys:["initial","delta","final"]}},50152:function(S,x,e){"use strict";var p=e(96376).setGroupPositions;S.exports=function(y,n){var M,b,f=y._fullLayout,s=y._fullData,t=y.calcdata,o=n.xaxis,r=n.yaxis,i=[],a=[],l=[];for(b=0;b<s.length;b++){var u=s[b];u.visible===!0&&u.xaxis===o._id&&u.yaxis===r._id&&u.type==="waterfall"&&(M=t[b],u.orientation==="h"?l.push(M):a.push(M),i.push(M))}var h={mode:f.waterfallmode,norm:f.waterfallnorm,gap:f.waterfallgap,groupgap:f.waterfallgroupgap};for(p(y,o,r,a,h),p(y,r,o,l,h),b=0;b<i.length;b++){M=i[b];for(var c=0;c<M.length;c++){var w=M[c];w.isSum===!1&&(w.s0+=c===0?0:M[c-1].s),c+1<M.length&&(M[c].nextP0=M[c+1].p0,M[c].nextS0=M[c+1].s0)}}}},24224:function(S,x,e){"use strict";var p=e(3400),y=e(20011),n=e(31508).handleText,M=e(43980),b=e(31147),f=e(65776),s=e(76308),t=e(48164),o=t.INCREASING.COLOR,r=t.DECREASING.COLOR;function i(a,l,u){a(l+".marker.color",u),a(l+".marker.line.color",s.defaultLine),a(l+".marker.line.width")}S.exports={supplyDefaults:function(a,l,u,h){function c(g,v){return p.coerce(a,l,f,g,v)}if(M(a,l,h,c)){b(a,l,h,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",l.x&&!l.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var w=c("textposition");n(a,l,h,c,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&(c("texttemplate"),l.texttemplate||c("textinfo")),i(c,"increasing",o),i(c,"decreasing",r),i(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash"))),c("zorder")}else l.visible=!1},crossTraceDefaults:function(a,l){var u,h;function c(g){return p.coerce(h._input,h,f,g)}if(l.waterfallmode==="group")for(var w=0;w<a.length;w++)u=(h=a[w])._input,y(u,h,l,c)}}},53256:function(S){"use strict";S.exports=function(x,e){return x.x="xVal"in e?e.xVal:e.x,x.y="yVal"in e?e.yVal:e.y,"initial"in e&&(x.initial=e.initial),"delta"in e&&(x.delta=e.delta),"final"in e&&(x.final=e.final),e.xa&&(x.xaxis=e.xa),e.ya&&(x.yaxis=e.ya),x}},94196:function(S,x,e){"use strict";var p=e(54460).hoverLabelText,y=e(76308).opacity,n=e(63400).hoverOnBars,M=e(48164),b=M.INCREASING.SYMBOL,f=M.DECREASING.SYMBOL;S.exports=function(s,t,o,r,i){var a=n(s,t,o,r,i);if(a){var l=a.cd,u=l[0].trace,h=u.orientation==="h",c=h?"x":"y",w=h?s.xa:s.ya,g=l[a.index],v=g.isSum?g.b+g.s:g.rawS;a.initial=g.b+g.s-v,a.delta=v,a.final=a.initial+a.delta;var m=k(Math.abs(a.delta));a.deltaLabel=v<0?"("+m+")":m,a.finalLabel=k(a.final),a.initialLabel=k(a.initial);var T=g.hi||u.hoverinfo,_=[];if(T&&T!=="none"&&T!=="skip"){var A=T==="all",d=T.split("+"),C=function(D){return A||d.indexOf(D)!==-1};g.isSum||(!C("final")||C(h?"x":"y")||_.push(a.finalLabel),C("delta")&&(v<0?_.push(a.deltaLabel+" "+f):_.push(a.deltaLabel+" "+b)),C("initial")&&_.push("Initial: "+a.initialLabel))}return _.length&&(a.extraText=_.join("<br>")),a.color=function(D,O){var L=D[O.dir].marker,R=L.color,z=L.line.color,q=L.line.width;return y(R)?R:y(z)&&q?z:void 0}(u,g),[a]}function k(D){return p(w,D,u[c+"hoverformat"])}}},95952:function(S,x,e){"use strict";S.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(S){"use strict";S.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(S,x,e){"use strict";var p=e(3400),y=e(91352);S.exports=function(n,M,b){var f=!1;function s(r,i){return p.coerce(n,M,y,r,i)}for(var t=0;t<b.length;t++){var o=b[t];if(o.visible&&o.type==="waterfall"){f=!0;break}}f&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},64488:function(S,x,e){"use strict";var p=e(33428),y=e(3400),n=e(43616),M=e(39032).BADNUM,b=e(98184),f=e(82744).clearMinTextSize;S.exports=function(s,t,o,r){var i=s._fullLayout;f("waterfall",i),b.plot(s,t,o,r,{mode:i.waterfallmode,norm:i.waterfallmode,gap:i.waterfallgap,groupgap:i.waterfallgroupgap}),function(a,l,u,h){var c=l.xaxis,w=l.yaxis;y.makeTraceGroups(h,u,"trace bars").each(function(g){var v=p.select(this),m=g[0].trace,T=y.ensureSingle(v,"g","lines");if(m.connector&&m.connector.visible){var _=m.orientation==="h",A=m.connector.mode,d=T.selectAll("g.line").data(y.identity);d.enter().append("g").classed("line",!0),d.exit().remove();var C=d.size();d.each(function(k,D){if(D===C-1||k.cNext){var O=function(q,N,V,Z){var j=[],H=[],Y=Z?N:V,ie=Z?V:N;return j[0]=Y.c2p(q.s0,!0),H[0]=ie.c2p(q.p0,!0),j[1]=Y.c2p(q.s1,!0),H[1]=ie.c2p(q.p1,!0),j[2]=Y.c2p(q.nextS0,!0),H[2]=ie.c2p(q.nextP0,!0),Z?[j,H]:[H,j]}(k,c,w,_),L=O[0],R=O[1],z="";L[0]!==M&&R[0]!==M&&L[1]!==M&&R[1]!==M&&(A==="spanning"&&!k.isSum&&D>0&&(z+=_?"M"+L[0]+","+R[1]+"V"+R[0]:"M"+L[1]+","+R[0]+"H"+L[0]),A!=="between"&&(k.isSum||D<C-1)&&(z+=_?"M"+L[1]+","+R[0]+"V"+R[1]:"M"+L[0]+","+R[1]+"H"+L[1]),L[2]!==M&&R[2]!==M&&(z+=_?"M"+L[1]+","+R[1]+"V"+R[2]:"M"+L[1]+","+R[1]+"H"+L[2])),z===""&&(z="M0,0Z"),y.ensureSingle(p.select(this),"path").attr("d",z).call(n.setClipUrl,l.layerClipId,a)}})}else T.remove()})}(s,t,o,r)}},12252:function(S,x,e){"use strict";var p=e(33428),y=e(43616),n=e(76308),M=e(13448).DESELECTDIM,b=e(60100),f=e(82744).resizeText,s=b.styleTextPoints;S.exports={style:function(t,o,r){var i=r||p.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");f(t,i,"waterfall"),i.style("opacity",function(a){return a[0].trace.opacity}),i.each(function(a){var l=p.select(this),u=a[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var c=u[h.dir].marker;p.select(this).call(n.fill,c.color).call(n.stroke,c.line.color).call(y.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!h.selected?M:1)}}),s(l,u,t),l.selectAll(".lines").each(function(){var h=u.connector.line;y.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}}},84224:function(S,x,e){"use strict";var p=e(54460),y=e(3400),n=e(73060),M=e(60468).W,b=e(39032).BADNUM;x.moduleType="transform",x.name="aggregate";var f=x.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=f.aggregations;function t(a,l,u,h){if(h.enabled){for(var c=h.target,w=y.nestedProperty(l,c),g=w.get(),v=function(_,A){var d=_.func,C=A.d2c,k=A.c2d;switch(d){case"count":return o;case"first":return r;case"last":return i;case"sum":return function(D,O){for(var L=0,R=0;R<O.length;R++){var z=C(D[O[R]]);z!==b&&(L+=z)}return k(L)};case"avg":return function(D,O){for(var L=0,R=0,z=0;z<O.length;z++){var q=C(D[O[z]]);q!==b&&(L+=q,R++)}return R?k(L/R):b};case"min":return function(D,O){for(var L=1/0,R=0;R<O.length;R++){var z=C(D[O[R]]);z!==b&&(L=Math.min(L,z))}return L===1/0?b:k(L)};case"max":return function(D,O){for(var L=-1/0,R=0;R<O.length;R++){var z=C(D[O[R]]);z!==b&&(L=Math.max(L,z))}return L===-1/0?b:k(L)};case"range":return function(D,O){for(var L=1/0,R=-1/0,z=0;z<O.length;z++){var q=C(D[O[z]]);q!==b&&(L=Math.min(L,q),R=Math.max(R,q))}return R===-1/0||L===1/0?b:k(R-L)};case"change":return function(D,O){var L=C(D[O[0]]),R=C(D[O[O.length-1]]);return L===b||R===b?b:k(R-L)};case"median":return function(D,O){for(var L=[],R=0;R<O.length;R++){var z=C(D[O[R]]);z!==b&&L.push(z)}if(!L.length)return b;L.sort(y.sorterAsc);var q=(L.length-1)/2;return k((L[Math.floor(q)]+L[Math.ceil(q)])/2)};case"mode":return function(D,O){for(var L={},R=0,z=b,q=0;q<O.length;q++){var N=C(D[O[q]]);if(N!==b){var V=L[N]=(L[N]||0)+1;V>R&&(R=V,z=N)}}return R?k(z):b};case"rms":return function(D,O){for(var L=0,R=0,z=0;z<O.length;z++){var q=C(D[O[z]]);q!==b&&(L+=q*q,R++)}return R?k(Math.sqrt(L/R)):b};case"stddev":return function(D,O){var L,R=0,z=0,q=1,N=b;for(L=0;L<O.length&&N===b;L++)N=C(D[O[L]]);if(N===b)return b;for(;L<O.length;L++){var V=C(D[O[L]]);if(V!==b){var Z=V-N;R+=Z,z+=Z*Z,q++}}var j=_.funcmode==="sample"?q-1:q;return j?Math.sqrt((z-R*R/q)/j):0}}}(h,p.getDataConversions(a,l,c,g)),m=new Array(u.length),T=0;T<u.length;T++)m[T]=v(g,u[T]);w.set(m),h.func==="count"&&y.pushUnique(l._arrayAttrs,c)}}function o(a,l){return l.length}function r(a,l){return a[l[0]]}function i(a,l){return a[l[l.length-1]]}x.supplyDefaults=function(a,l){var u,h={};function c(k,D){return y.coerce(a,h,f,k,D)}if(!c("enabled"))return h;var w=n.findArrayAttributes(l),g={};for(u=0;u<w.length;u++)g[w[u]]=1;var v=c("groups");if(!Array.isArray(v)){if(!g[v])return h.enabled=!1,h;g[v]=0}var m,T=a.aggregations||[],_=h.aggregations=new Array(T.length);function A(k,D){return y.coerce(T[u],m,s,k,D)}for(u=0;u<T.length;u++){m={_index:u};var d=A("target"),C=A("func");A("enabled")&&d&&(g[d]||C==="count"&&g[d]===void 0)?(C==="stddev"&&A("funcmode"),g[d]=0,_[u]=m):_[u]={enabled:!1,_index:u}}for(u=0;u<w.length;u++)g[w[u]]&&_.push({target:w[u],func:s.func.dflt,enabled:!0,_index:-1});return h},x.calcTransform=function(a,l,u){if(u.enabled){var h=u.groups,c=y.getTargetArray(l,{target:h});if(c){var w,g,v,m,T={},_={},A=[],d=M(l.transforms,u),C=c.length;for(l._length&&(C=Math.min(C,l._length)),w=0;w<C;w++)(v=T[g=c[w]])===void 0?(T[g]=A.length,m=[w],A.push(m),_[T[g]]=d(w)):(A[v].push(w),_[T[g]]=(_[T[g]]||[]).concat(d(w)));u._indexToPoints=_;var k=u.aggregations;for(w=0;w<k.length;w++)t(a,l,A,k[w]);typeof h=="string"&&t(a,l,A,{target:h,func:"first",enabled:!0}),l._length=A.length}}}},76744:function(S,x,e){"use strict";var p=e(3400),y=e(24040),n=e(54460),M=e(60468).W,b=e(69104),f=b.COMPARISON_OPS,s=b.INTERVAL_OPS,t=b.SET_OPS;x.moduleType="transform",x.name="filter",x.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},x.supplyDefaults=function(o){var r={};function i(u,h){return p.coerce(o,r,x.attributes,u,h)}if(i("enabled")){var a=i("target");if(p.isArrayOrTypedArray(a)&&a.length===0)return r.enabled=!1,r;i("preservegaps"),i("operation"),i("value");var l=y.getComponentMethod("calendars","handleDefaults");l(o,r,"valuecalendar",null),l(o,r,"targetcalendar",null)}return r},x.calcTransform=function(o,r,i){if(i.enabled){var a=p.getTargetArray(r,i);if(a){var l=i.target,u=a.length;r._length&&(u=Math.min(u,r._length));var h=i.targetcalendar,c=r._arrayAttrs,w=i.preservegaps;if(typeof l=="string"){var g=p.nestedProperty(r,l+"calendar").get();g&&(h=g)}var v,m,T=function(O,L,R){var z=O.operation,q=O.value,N=p.isArrayOrTypedArray(q);function V(Y){return Y.indexOf(z)!==-1}var Z,j=function(Y){return L(Y,0,O.valuecalendar)},H=function(Y){return L(Y,0,R)};switch(V(f)?Z=j(N?q[0]:q):V(s)?Z=N?[j(q[0]),j(q[1])]:[j(q),j(q)]:V(t)&&(Z=N?q.map(j):[j(q)]),z){case"=":return function(Y){return H(Y)===Z};case"!=":return function(Y){return H(Y)!==Z};case"<":return function(Y){return H(Y)<Z};case"<=":return function(Y){return H(Y)<=Z};case">":return function(Y){return H(Y)>Z};case">=":return function(Y){return H(Y)>=Z};case"[]":return function(Y){var ie=H(Y);return ie>=Z[0]&&ie<=Z[1]};case"()":return function(Y){var ie=H(Y);return ie>Z[0]&&ie<Z[1]};case"[)":return function(Y){var ie=H(Y);return ie>=Z[0]&&ie<Z[1]};case"(]":return function(Y){var ie=H(Y);return ie>Z[0]&&ie<=Z[1]};case"][":return function(Y){var ie=H(Y);return ie<=Z[0]||ie>=Z[1]};case")(":return function(Y){var ie=H(Y);return ie<Z[0]||ie>Z[1]};case"](":return function(Y){var ie=H(Y);return ie<=Z[0]||ie>Z[1]};case")[":return function(Y){var ie=H(Y);return ie<Z[0]||ie>=Z[1]};case"{}":return function(Y){return Z.indexOf(H(Y))!==-1};case"}{":return function(Y){return Z.indexOf(H(Y))===-1}}}(i,n.getDataToCoordFunc(o,r,l,a),h),_={},A={},d=0;w?(v=function(O){_[O.astr]=p.extendDeep([],O.get()),O.set(new Array(u))},m=function(O,L){var R=_[O.astr][L];O.get()[L]=R}):(v=function(O){_[O.astr]=p.extendDeep([],O.get()),O.set([])},m=function(O,L){var R=_[O.astr][L];O.get().push(R)}),D(v);for(var C=M(r.transforms,i),k=0;k<u;k++)T(a[k])?(D(m,k),A[d++]=C(k)):w&&d++;i._indexToPoints=A,r._length=d}}function D(O,L){for(var R=0;R<c.length;R++)O(p.nestedProperty(r,c[R]),L)}}},32028:function(S,x,e){"use strict";var p=e(3400),y=e(73060),n=e(7316),M=e(60468).W;function b(f,s){var t,o,r,i,a,l,u,h,c,w,g=s.transform,v=s.transformIndex,m=f.transforms[v].groups,T=M(f.transforms,g);if(!p.isArrayOrTypedArray(m)||m.length===0)return[f];var _=p.filterUnique(m),A=new Array(_.length),d=m.length,C=y.findArrayAttributes(f),k=g.styles||[],D={};for(t=0;t<k.length;t++)D[k[t].target]=k[t].value;g.styles&&(w=p.keyedContainer(g,"styles","target","value.name"));var O={},L={};for(t=0;t<_.length;t++){O[l=_[t]]=t,L[l]=0,(u=A[t]=p.extendDeepNoArrays({},f))._group=l,u.transforms[v]._indexToPoints={};var R=null;for(w&&(R=w.get(l)),u.name=R||R===""?R:p.templateString(g.nameformat,{trace:f.name,group:l}),h=u.transforms,u.transforms=[],o=0;o<h.length;o++)u.transforms[o]=p.extendDeepNoArrays({},h[o]);for(o=0;o<C.length;o++)p.nestedProperty(u,C[o]).set([])}for(r=0;r<C.length;r++){for(i=C[r],o=0,c=[];o<_.length;o++)c[o]=p.nestedProperty(A[o],i).get();for(a=p.nestedProperty(f,i).get(),o=0;o<d;o++)c[O[m[o]]].push(a[o])}for(o=0;o<d;o++)(u=A[O[m[o]]]).transforms[v]._indexToPoints[L[m[o]]]=T(o),L[m[o]]++;for(t=0;t<_.length;t++)l=_[t],u=A[t],n.clearExpandedTraceDefaultColors(u),u=p.extendDeepNoArrays(u,D[l]||{});return A}x.moduleType="transform",x.name="groupby",x.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},x.supplyDefaults=function(f,s,t){var o,r={};function i(c,w){return p.coerce(f,r,x.attributes,c,w)}if(!i("enabled"))return r;i("groups"),i("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var a=f.styles,l=r.styles=[];if(a)for(o=0;o<a.length;o++){var u=l[o]={};p.coerce(a[o],l[o],x.attributes.styles,"target");var h=p.coerce(a[o],l[o],x.attributes.styles,"value");p.isPlainObject(h)?u.value=p.extendDeep({},h):h&&delete u.value}return r},x.transform=function(f,s){var t,o,r,i=[];for(o=0;o<f.length;o++)for(t=b(f[o],s),r=0;r<t.length;r++)i.push(t[r]);return i}},60468:function(S,x){"use strict";x.W=function(e,p){for(var y,n,M=0;M<e.length&&(y=e[M])!==p;M++)y._indexToPoints&&y.enabled!==!1&&(n=y._indexToPoints);var b=n?function(f){return n[f]}:function(f){return[f]};return b}},76272:function(S,x,e){"use strict";var p=e(3400),y=e(54460),n=e(60468).W,M=e(39032).BADNUM;x.moduleType="transform",x.name="sort",x.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},x.supplyDefaults=function(b){var f={};function s(t,o){return p.coerce(b,f,x.attributes,t,o)}return s("enabled")&&(s("target"),s("order")),f},x.calcTransform=function(b,f,s){if(s.enabled){var t=p.getTargetArray(f,s);if(t){var o=s.target,r=t.length;f._length&&(r=Math.min(r,f._length));var i,a,l=f._arrayAttrs,u=function(m,T,_,A){var d,C=new Array(A),k=new Array(A);for(d=0;d<A;d++)C[d]={v:T[d],i:d};for(C.sort(function(D,O){switch(D.order){case"ascending":return function(L,R){var z=O(L.v),q=O(R.v);return z===M?1:q===M?-1:z-q};case"descending":return function(L,R){var z=O(L.v),q=O(R.v);return z===M?1:q===M?-1:q-z}}}(m,_)),d=0;d<A;d++)k[d]=C[d].i;return k}(s,t,y.getDataToCoordFunc(b,f,o,t),r),h=n(f.transforms,s),c={};for(i=0;i<l.length;i++){var w=p.nestedProperty(f,l[i]),g=w.get(),v=new Array(r);for(a=0;a<r;a++)v[a]=g[u[a]];w.set(v)}for(a=0;a<r;a++)c[a]=h(u[a]);s._indexToPoints=c,f._length=r}}}},25788:function(S,x){"use strict";x.version="2.33.0"},67792:function(S,x,e){var p=e(4168);(function(){var y={1964:function(f,s,t){f.exports={alpha_shape:t(3502),convex_hull:t(7352),delaunay_triangulate:t(7642),gl_cone3d:t(6405),gl_error3d:t(9165),gl_heatmap2d:t(2510),gl_line3d:t(5714),gl_mesh3d:t(7201),gl_plot2d:t(1850),gl_plot3d:t(4100),gl_pointcloud2d:t(4696),gl_scatter3d:t(8418),gl_select_box:t(3161),gl_spikes2d:t(4098),gl_streamtube3d:t(7815),gl_surface3d:t(9499),ndarray:t(9618),ndarray_linear_interpolate:t(4317)}},4793:function(f,s,t){"use strict";function o(ge,Me){for(var Ee=0;Ee<Me.length;Ee++){var Fe=Me[Ee];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(ge,r(Fe.key),Fe)}}function r(ge){var Me=function(Ee,Fe){if(u(Ee)!="object"||!Ee)return Ee;var Le=Ee[Symbol.toPrimitive];if(Le!==void 0){var Ue=Le.call(Ee,"string");if(u(Ue)!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ee)}(ge);return u(Me)=="symbol"?Me:Me+""}function i(){try{var ge=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i=function(){return!!ge})()}function a(ge){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},a(ge)}function l(ge,Me){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ee,Fe){return Ee.__proto__=Fe,Ee},l(ge,Me)}function u(ge){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},u(ge)}var h=t(7507),c=t(3778),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.hp=m,s.IS=50;var g=2147483647;function v(ge){if(ge>g)throw new RangeError('The value "'+ge+'" is invalid for option "size"');var Me=new Uint8Array(ge);return Object.setPrototypeOf(Me,m.prototype),Me}function m(ge,Me,Ee){if(typeof ge=="number"){if(typeof Me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(ge)}return T(ge,Me,Ee)}function T(ge,Me,Ee){if(typeof ge=="string")return function(Ue,Ge){if(typeof Ge=="string"&&Ge!==""||(Ge="utf8"),!m.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);var Ke=0|D(Ue,Ge),at=v(Ke),st=at.write(Ue,Ge);return st!==Ke&&(at=at.slice(0,st)),at}(ge,Me);if(ArrayBuffer.isView(ge))return function(Ue){if(Te(Ue,Uint8Array)){var Ge=new Uint8Array(Ue);return C(Ge.buffer,Ge.byteOffset,Ge.byteLength)}return d(Ue)}(ge);if(ge==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ge));if(Te(ge,ArrayBuffer)||ge&&Te(ge.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(ge,SharedArrayBuffer)||ge&&Te(ge.buffer,SharedArrayBuffer)))return C(ge,Me,Ee);if(typeof ge=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Fe=ge.valueOf&&ge.valueOf();if(Fe!=null&&Fe!==ge)return m.from(Fe,Me,Ee);var Le=function(Ue){if(m.isBuffer(Ue)){var Ge=0|k(Ue.length),Ke=v(Ge);return Ke.length===0||Ue.copy(Ke,0,0,Ge),Ke}return Ue.length!==void 0?typeof Ue.length!="number"||Ae(Ue.length)?v(0):d(Ue):Ue.type==="Buffer"&&Array.isArray(Ue.data)?d(Ue.data):void 0}(ge);if(Le)return Le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ge[Symbol.toPrimitive]=="function")return m.from(ge[Symbol.toPrimitive]("string"),Me,Ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(ge))}function _(ge){if(typeof ge!="number")throw new TypeError('"size" argument must be of type number');if(ge<0)throw new RangeError('The value "'+ge+'" is invalid for option "size"')}function A(ge){return _(ge),v(ge<0?0:0|k(ge))}function d(ge){for(var Me=ge.length<0?0:0|k(ge.length),Ee=v(Me),Fe=0;Fe<Me;Fe+=1)Ee[Fe]=255&ge[Fe];return Ee}function C(ge,Me,Ee){if(Me<0||ge.byteLength<Me)throw new RangeError('"offset" is outside of buffer bounds');if(ge.byteLength<Me+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');var Fe;return Fe=Me===void 0&&Ee===void 0?new Uint8Array(ge):Ee===void 0?new Uint8Array(ge,Me):new Uint8Array(ge,Me,Ee),Object.setPrototypeOf(Fe,m.prototype),Fe}function k(ge){if(ge>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|ge}function D(ge,Me){if(m.isBuffer(ge))return ge.length;if(ArrayBuffer.isView(ge)||Te(ge,ArrayBuffer))return ge.byteLength;if(typeof ge!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(ge));var Ee=ge.length,Fe=arguments.length>2&&arguments[2]===!0;if(!Fe&&Ee===0)return 0;for(var Le=!1;;)switch(Me){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":return ae(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ee;case"hex":return Ee>>>1;case"base64":return pe(ge).length;default:if(Le)return Fe?-1:ae(ge).length;Me=(""+Me).toLowerCase(),Le=!0}}function O(ge,Me,Ee){var Fe=!1;if((Me===void 0||Me<0)&&(Me=0),Me>this.length||((Ee===void 0||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0)<=(Me>>>=0))return"";for(ge||(ge="utf8");;)switch(ge){case"hex":return ee(this,Me,Ee);case"utf8":case"utf-8":return Y(this,Me,Ee);case"ascii":return re(this,Me,Ee);case"latin1":case"binary":return ne(this,Me,Ee);case"base64":return H(this,Me,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Me,Ee);default:if(Fe)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),Fe=!0}}function L(ge,Me,Ee){var Fe=ge[Me];ge[Me]=ge[Ee],ge[Ee]=Fe}function R(ge,Me,Ee,Fe,Le){if(ge.length===0)return-1;if(typeof Ee=="string"?(Fe=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Ae(Ee=+Ee)&&(Ee=Le?0:ge.length-1),Ee<0&&(Ee=ge.length+Ee),Ee>=ge.length){if(Le)return-1;Ee=ge.length-1}else if(Ee<0){if(!Le)return-1;Ee=0}if(typeof Me=="string"&&(Me=m.from(Me,Fe)),m.isBuffer(Me))return Me.length===0?-1:z(ge,Me,Ee,Fe,Le);if(typeof Me=="number")return Me&=255,typeof Uint8Array.prototype.indexOf=="function"?Le?Uint8Array.prototype.indexOf.call(ge,Me,Ee):Uint8Array.prototype.lastIndexOf.call(ge,Me,Ee):z(ge,[Me],Ee,Fe,Le);throw new TypeError("val must be string, number or Buffer")}function z(ge,Me,Ee,Fe,Le){var Ue,Ge=1,Ke=ge.length,at=Me.length;if(Fe!==void 0&&((Fe=String(Fe).toLowerCase())==="ucs2"||Fe==="ucs-2"||Fe==="utf16le"||Fe==="utf-16le")){if(ge.length<2||Me.length<2)return-1;Ge=2,Ke/=2,at/=2,Ee/=2}function st(nt,et){return Ge===1?nt[et]:nt.readUInt16BE(et*Ge)}if(Le){var vt=-1;for(Ue=Ee;Ue<Ke;Ue++)if(st(ge,Ue)===st(Me,vt===-1?0:Ue-vt)){if(vt===-1&&(vt=Ue),Ue-vt+1===at)return vt*Ge}else vt!==-1&&(Ue-=Ue-vt),vt=-1}else for(Ee+at>Ke&&(Ee=Ke-at),Ue=Ee;Ue>=0;Ue--){for(var xt=!0,gt=0;gt<at;gt++)if(st(ge,Ue+gt)!==st(Me,gt)){xt=!1;break}if(xt)return Ue}return-1}function q(ge,Me,Ee,Fe){Ee=Number(Ee)||0;var Le=ge.length-Ee;Fe?(Fe=Number(Fe))>Le&&(Fe=Le):Fe=Le;var Ue,Ge=Me.length;for(Fe>Ge/2&&(Fe=Ge/2),Ue=0;Ue<Fe;++Ue){var Ke=parseInt(Me.substr(2*Ue,2),16);if(Ae(Ke))return Ue;ge[Ee+Ue]=Ke}return Ue}function N(ge,Me,Ee,Fe){return De(ae(Me,ge.length-Ee),ge,Ee,Fe)}function V(ge,Me,Ee,Fe){return De(function(Le){for(var Ue=[],Ge=0;Ge<Le.length;++Ge)Ue.push(255&Le.charCodeAt(Ge));return Ue}(Me),ge,Ee,Fe)}function Z(ge,Me,Ee,Fe){return De(pe(Me),ge,Ee,Fe)}function j(ge,Me,Ee,Fe){return De(function(Le,Ue){for(var Ge,Ke,at,st=[],vt=0;vt<Le.length&&!((Ue-=2)<0);++vt)Ke=(Ge=Le.charCodeAt(vt))>>8,at=Ge%256,st.push(at),st.push(Ke);return st}(Me,ge.length-Ee),ge,Ee,Fe)}function H(ge,Me,Ee){return Me===0&&Ee===ge.length?h.fromByteArray(ge):h.fromByteArray(ge.slice(Me,Ee))}function Y(ge,Me,Ee){Ee=Math.min(ge.length,Ee);for(var Fe=[],Le=Me;Le<Ee;){var Ue=ge[Le],Ge=null,Ke=Ue>239?4:Ue>223?3:Ue>191?2:1;if(Le+Ke<=Ee){var at=void 0,st=void 0,vt=void 0,xt=void 0;switch(Ke){case 1:Ue<128&&(Ge=Ue);break;case 2:(192&(at=ge[Le+1]))==128&&(xt=(31&Ue)<<6|63&at)>127&&(Ge=xt);break;case 3:at=ge[Le+1],st=ge[Le+2],(192&at)==128&&(192&st)==128&&(xt=(15&Ue)<<12|(63&at)<<6|63&st)>2047&&(xt<55296||xt>57343)&&(Ge=xt);break;case 4:at=ge[Le+1],st=ge[Le+2],vt=ge[Le+3],(192&at)==128&&(192&st)==128&&(192&vt)==128&&(xt=(15&Ue)<<18|(63&at)<<12|(63&st)<<6|63&vt)>65535&&xt<1114112&&(Ge=xt)}}Ge===null?(Ge=65533,Ke=1):Ge>65535&&(Ge-=65536,Fe.push(Ge>>>10&1023|55296),Ge=56320|1023&Ge),Fe.push(Ge),Le+=Ke}return function(gt){var nt=gt.length;if(nt<=ie)return String.fromCharCode.apply(String,gt);for(var et="",At=0;At<nt;)et+=String.fromCharCode.apply(String,gt.slice(At,At+=ie));return et}(Fe)}m.TYPED_ARRAY_SUPPORT=function(){try{var ge=new Uint8Array(1),Me={foo:function(){return 42}};return Object.setPrototypeOf(Me,Uint8Array.prototype),Object.setPrototypeOf(ge,Me),ge.foo()===42}catch{return!1}}(),m.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(ge,Me,Ee){return T(ge,Me,Ee)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(ge,Me,Ee){return function(Fe,Le,Ue){return _(Fe),Fe<=0?v(Fe):Le!==void 0?typeof Ue=="string"?v(Fe).fill(Le,Ue):v(Fe).fill(Le):v(Fe)}(ge,Me,Ee)},m.allocUnsafe=function(ge){return A(ge)},m.allocUnsafeSlow=function(ge){return A(ge)},m.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==m.prototype},m.compare=function(ge,Me){if(Te(ge,Uint8Array)&&(ge=m.from(ge,ge.offset,ge.byteLength)),Te(Me,Uint8Array)&&(Me=m.from(Me,Me.offset,Me.byteLength)),!m.isBuffer(ge)||!m.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===Me)return 0;for(var Ee=ge.length,Fe=Me.length,Le=0,Ue=Math.min(Ee,Fe);Le<Ue;++Le)if(ge[Le]!==Me[Le]){Ee=ge[Le],Fe=Me[Le];break}return Ee<Fe?-1:Fe<Ee?1:0},m.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(ge,Me){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return m.alloc(0);var Ee;if(Me===void 0)for(Me=0,Ee=0;Ee<ge.length;++Ee)Me+=ge[Ee].length;var Fe=m.allocUnsafe(Me),Le=0;for(Ee=0;Ee<ge.length;++Ee){var Ue=ge[Ee];if(Te(Ue,Uint8Array))Le+Ue.length>Fe.length?(m.isBuffer(Ue)||(Ue=m.from(Ue)),Ue.copy(Fe,Le)):Uint8Array.prototype.set.call(Fe,Ue,Le);else{if(!m.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(Fe,Le)}Le+=Ue.length}return Fe},m.byteLength=D,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var ge=this.length;if(ge%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<ge;Me+=2)L(this,Me,Me+1);return this},m.prototype.swap32=function(){var ge=this.length;if(ge%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<ge;Me+=4)L(this,Me,Me+3),L(this,Me+1,Me+2);return this},m.prototype.swap64=function(){var ge=this.length;if(ge%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<ge;Me+=8)L(this,Me,Me+7),L(this,Me+1,Me+6),L(this,Me+2,Me+5),L(this,Me+3,Me+4);return this},m.prototype.toString=function(){var ge=this.length;return ge===0?"":arguments.length===0?Y(this,0,ge):O.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(ge){if(!m.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge||m.compare(this,ge)===0},m.prototype.inspect=function(){var ge="",Me=s.IS;return ge=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(ge+=" ... "),"<Buffer "+ge+">"},w&&(m.prototype[w]=m.prototype.inspect),m.prototype.compare=function(ge,Me,Ee,Fe,Le){if(Te(ge,Uint8Array)&&(ge=m.from(ge,ge.offset,ge.byteLength)),!m.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(ge));if(Me===void 0&&(Me=0),Ee===void 0&&(Ee=ge?ge.length:0),Fe===void 0&&(Fe=0),Le===void 0&&(Le=this.length),Me<0||Ee>ge.length||Fe<0||Le>this.length)throw new RangeError("out of range index");if(Fe>=Le&&Me>=Ee)return 0;if(Fe>=Le)return-1;if(Me>=Ee)return 1;if(this===ge)return 0;for(var Ue=(Le>>>=0)-(Fe>>>=0),Ge=(Ee>>>=0)-(Me>>>=0),Ke=Math.min(Ue,Ge),at=this.slice(Fe,Le),st=ge.slice(Me,Ee),vt=0;vt<Ke;++vt)if(at[vt]!==st[vt]){Ue=at[vt],Ge=st[vt];break}return Ue<Ge?-1:Ge<Ue?1:0},m.prototype.includes=function(ge,Me,Ee){return this.indexOf(ge,Me,Ee)!==-1},m.prototype.indexOf=function(ge,Me,Ee){return R(this,ge,Me,Ee,!0)},m.prototype.lastIndexOf=function(ge,Me,Ee){return R(this,ge,Me,Ee,!1)},m.prototype.write=function(ge,Me,Ee,Fe){if(Me===void 0)Fe="utf8",Ee=this.length,Me=0;else if(Ee===void 0&&typeof Me=="string")Fe=Me,Ee=this.length,Me=0;else{if(!isFinite(Me))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Me>>>=0,isFinite(Ee)?(Ee>>>=0,Fe===void 0&&(Fe="utf8")):(Fe=Ee,Ee=void 0)}var Le=this.length-Me;if((Ee===void 0||Ee>Le)&&(Ee=Le),ge.length>0&&(Ee<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");for(var Ue=!1;;)switch(Fe){case"hex":return q(this,ge,Me,Ee);case"utf8":case"utf-8":return N(this,ge,Me,Ee);case"ascii":case"latin1":case"binary":return V(this,ge,Me,Ee);case"base64":return Z(this,ge,Me,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,ge,Me,Ee);default:if(Ue)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ue=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ie=4096;function re(ge,Me,Ee){var Fe="";Ee=Math.min(ge.length,Ee);for(var Le=Me;Le<Ee;++Le)Fe+=String.fromCharCode(127&ge[Le]);return Fe}function ne(ge,Me,Ee){var Fe="";Ee=Math.min(ge.length,Ee);for(var Le=Me;Le<Ee;++Le)Fe+=String.fromCharCode(ge[Le]);return Fe}function ee(ge,Me,Ee){var Fe=ge.length;(!Me||Me<0)&&(Me=0),(!Ee||Ee<0||Ee>Fe)&&(Ee=Fe);for(var Le="",Ue=Me;Ue<Ee;++Ue)Le+=Ce[ge[Ue]];return Le}function Q(ge,Me,Ee){for(var Fe=ge.slice(Me,Ee),Le="",Ue=0;Ue<Fe.length-1;Ue+=2)Le+=String.fromCharCode(Fe[Ue]+256*Fe[Ue+1]);return Le}function X(ge,Me,Ee){if(ge%1!=0||ge<0)throw new RangeError("offset is not uint");if(ge+Me>Ee)throw new RangeError("Trying to access beyond buffer length")}function se(ge,Me,Ee,Fe,Le,Ue){if(!m.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if(Me>Le||Me<Ue)throw new RangeError('"value" argument is out of bounds');if(Ee+Fe>ge.length)throw new RangeError("Index out of range")}function ce(ge,Me,Ee,Fe,Le){Se(Me,Fe,Le,ge,Ee,7);var Ue=Number(Me&BigInt(4294967295));ge[Ee++]=Ue,Ue>>=8,ge[Ee++]=Ue,Ue>>=8,ge[Ee++]=Ue,Ue>>=8,ge[Ee++]=Ue;var Ge=Number(Me>>BigInt(32)&BigInt(4294967295));return ge[Ee++]=Ge,Ge>>=8,ge[Ee++]=Ge,Ge>>=8,ge[Ee++]=Ge,Ge>>=8,ge[Ee++]=Ge,Ee}function le(ge,Me,Ee,Fe,Le){Se(Me,Fe,Le,ge,Ee,7);var Ue=Number(Me&BigInt(4294967295));ge[Ee+7]=Ue,Ue>>=8,ge[Ee+6]=Ue,Ue>>=8,ge[Ee+5]=Ue,Ue>>=8,ge[Ee+4]=Ue;var Ge=Number(Me>>BigInt(32)&BigInt(4294967295));return ge[Ee+3]=Ge,Ge>>=8,ge[Ee+2]=Ge,Ge>>=8,ge[Ee+1]=Ge,Ge>>=8,ge[Ee]=Ge,Ee+8}function de(ge,Me,Ee,Fe,Le,Ue){if(Ee+Fe>ge.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function be(ge,Me,Ee,Fe,Le){return Me=+Me,Ee>>>=0,Le||de(ge,0,Ee,4),c.write(ge,Me,Ee,Fe,23,4),Ee+4}function _e(ge,Me,Ee,Fe,Le){return Me=+Me,Ee>>>=0,Le||de(ge,0,Ee,8),c.write(ge,Me,Ee,Fe,52,8),Ee+8}m.prototype.slice=function(ge,Me){var Ee=this.length;(ge=~~ge)<0?(ge+=Ee)<0&&(ge=0):ge>Ee&&(ge=Ee),(Me=Me===void 0?Ee:~~Me)<0?(Me+=Ee)<0&&(Me=0):Me>Ee&&(Me=Ee),Me<ge&&(Me=ge);var Fe=this.subarray(ge,Me);return Object.setPrototypeOf(Fe,m.prototype),Fe},m.prototype.readUintLE=m.prototype.readUIntLE=function(ge,Me,Ee){ge>>>=0,Me>>>=0,Ee||X(ge,Me,this.length);for(var Fe=this[ge],Le=1,Ue=0;++Ue<Me&&(Le*=256);)Fe+=this[ge+Ue]*Le;return Fe},m.prototype.readUintBE=m.prototype.readUIntBE=function(ge,Me,Ee){ge>>>=0,Me>>>=0,Ee||X(ge,Me,this.length);for(var Fe=this[ge+--Me],Le=1;Me>0&&(Le*=256);)Fe+=this[ge+--Me]*Le;return Fe},m.prototype.readUint8=m.prototype.readUInt8=function(ge,Me){return ge>>>=0,Me||X(ge,1,this.length),this[ge]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(ge,Me){return ge>>>=0,Me||X(ge,2,this.length),this[ge]|this[ge+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(ge,Me){return ge>>>=0,Me||X(ge,2,this.length),this[ge]<<8|this[ge+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(ge,Me){return ge>>>=0,Me||X(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+16777216*this[ge+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(ge,Me){return ge>>>=0,Me||X(ge,4,this.length),16777216*this[ge]+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},m.prototype.readBigUInt64LE=Re(function(ge){Ie(ge>>>=0,"offset");var Me=this[ge],Ee=this[ge+7];Me!==void 0&&Ee!==void 0||xe(ge,this.length-8);var Fe=Me+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),Le=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+Ee*Math.pow(2,24);return BigInt(Fe)+(BigInt(Le)<<BigInt(32))}),m.prototype.readBigUInt64BE=Re(function(ge){Ie(ge>>>=0,"offset");var Me=this[ge],Ee=this[ge+7];Me!==void 0&&Ee!==void 0||xe(ge,this.length-8);var Fe=Me*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],Le=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Ee;return(BigInt(Fe)<<BigInt(32))+BigInt(Le)}),m.prototype.readIntLE=function(ge,Me,Ee){ge>>>=0,Me>>>=0,Ee||X(ge,Me,this.length);for(var Fe=this[ge],Le=1,Ue=0;++Ue<Me&&(Le*=256);)Fe+=this[ge+Ue]*Le;return Fe>=(Le*=128)&&(Fe-=Math.pow(2,8*Me)),Fe},m.prototype.readIntBE=function(ge,Me,Ee){ge>>>=0,Me>>>=0,Ee||X(ge,Me,this.length);for(var Fe=Me,Le=1,Ue=this[ge+--Fe];Fe>0&&(Le*=256);)Ue+=this[ge+--Fe]*Le;return Ue>=(Le*=128)&&(Ue-=Math.pow(2,8*Me)),Ue},m.prototype.readInt8=function(ge,Me){return ge>>>=0,Me||X(ge,1,this.length),128&this[ge]?-1*(255-this[ge]+1):this[ge]},m.prototype.readInt16LE=function(ge,Me){ge>>>=0,Me||X(ge,2,this.length);var Ee=this[ge]|this[ge+1]<<8;return 32768&Ee?4294901760|Ee:Ee},m.prototype.readInt16BE=function(ge,Me){ge>>>=0,Me||X(ge,2,this.length);var Ee=this[ge+1]|this[ge]<<8;return 32768&Ee?4294901760|Ee:Ee},m.prototype.readInt32LE=function(ge,Me){return ge>>>=0,Me||X(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},m.prototype.readInt32BE=function(ge,Me){return ge>>>=0,Me||X(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},m.prototype.readBigInt64LE=Re(function(ge){Ie(ge>>>=0,"offset");var Me=this[ge],Ee=this[ge+7];Me!==void 0&&Ee!==void 0||xe(ge,this.length-8);var Fe=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(Ee<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(Me+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),m.prototype.readBigInt64BE=Re(function(ge){Ie(ge>>>=0,"offset");var Me=this[ge],Ee=this[ge+7];Me!==void 0&&Ee!==void 0||xe(ge,this.length-8);var Fe=(Me<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Ee)}),m.prototype.readFloatLE=function(ge,Me){return ge>>>=0,Me||X(ge,4,this.length),c.read(this,ge,!0,23,4)},m.prototype.readFloatBE=function(ge,Me){return ge>>>=0,Me||X(ge,4,this.length),c.read(this,ge,!1,23,4)},m.prototype.readDoubleLE=function(ge,Me){return ge>>>=0,Me||X(ge,8,this.length),c.read(this,ge,!0,52,8)},m.prototype.readDoubleBE=function(ge,Me){return ge>>>=0,Me||X(ge,8,this.length),c.read(this,ge,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(ge,Me,Ee,Fe){ge=+ge,Me>>>=0,Ee>>>=0,Fe||se(this,ge,Me,Ee,Math.pow(2,8*Ee)-1,0);var Le=1,Ue=0;for(this[Me]=255&ge;++Ue<Ee&&(Le*=256);)this[Me+Ue]=ge/Le&255;return Me+Ee},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(ge,Me,Ee,Fe){ge=+ge,Me>>>=0,Ee>>>=0,Fe||se(this,ge,Me,Ee,Math.pow(2,8*Ee)-1,0);var Le=Ee-1,Ue=1;for(this[Me+Le]=255&ge;--Le>=0&&(Ue*=256);)this[Me+Le]=ge/Ue&255;return Me+Ee},m.prototype.writeUint8=m.prototype.writeUInt8=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,1,255,0),this[Me]=255&ge,Me+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,2,65535,0),this[Me]=255&ge,this[Me+1]=ge>>>8,Me+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,2,65535,0),this[Me]=ge>>>8,this[Me+1]=255&ge,Me+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,4,4294967295,0),this[Me+3]=ge>>>24,this[Me+2]=ge>>>16,this[Me+1]=ge>>>8,this[Me]=255&ge,Me+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,4,4294967295,0),this[Me]=ge>>>24,this[Me+1]=ge>>>16,this[Me+2]=ge>>>8,this[Me+3]=255&ge,Me+4},m.prototype.writeBigUInt64LE=Re(function(ge){return ce(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Re(function(ge){return le(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(ge,Me,Ee,Fe){if(ge=+ge,Me>>>=0,!Fe){var Le=Math.pow(2,8*Ee-1);se(this,ge,Me,Ee,Le-1,-Le)}var Ue=0,Ge=1,Ke=0;for(this[Me]=255&ge;++Ue<Ee&&(Ge*=256);)ge<0&&Ke===0&&this[Me+Ue-1]!==0&&(Ke=1),this[Me+Ue]=(ge/Ge>>0)-Ke&255;return Me+Ee},m.prototype.writeIntBE=function(ge,Me,Ee,Fe){if(ge=+ge,Me>>>=0,!Fe){var Le=Math.pow(2,8*Ee-1);se(this,ge,Me,Ee,Le-1,-Le)}var Ue=Ee-1,Ge=1,Ke=0;for(this[Me+Ue]=255&ge;--Ue>=0&&(Ge*=256);)ge<0&&Ke===0&&this[Me+Ue+1]!==0&&(Ke=1),this[Me+Ue]=(ge/Ge>>0)-Ke&255;return Me+Ee},m.prototype.writeInt8=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,1,127,-128),ge<0&&(ge=255+ge+1),this[Me]=255&ge,Me+1},m.prototype.writeInt16LE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,2,32767,-32768),this[Me]=255&ge,this[Me+1]=ge>>>8,Me+2},m.prototype.writeInt16BE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,2,32767,-32768),this[Me]=ge>>>8,this[Me+1]=255&ge,Me+2},m.prototype.writeInt32LE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,4,2147483647,-2147483648),this[Me]=255&ge,this[Me+1]=ge>>>8,this[Me+2]=ge>>>16,this[Me+3]=ge>>>24,Me+4},m.prototype.writeInt32BE=function(ge,Me,Ee){return ge=+ge,Me>>>=0,Ee||se(this,ge,Me,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[Me]=ge>>>24,this[Me+1]=ge>>>16,this[Me+2]=ge>>>8,this[Me+3]=255&ge,Me+4},m.prototype.writeBigInt64LE=Re(function(ge){return ce(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Re(function(ge){return le(this,ge,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeFloatLE=function(ge,Me,Ee){return be(this,ge,Me,!0,Ee)},m.prototype.writeFloatBE=function(ge,Me,Ee){return be(this,ge,Me,!1,Ee)},m.prototype.writeDoubleLE=function(ge,Me,Ee){return _e(this,ge,Me,!0,Ee)},m.prototype.writeDoubleBE=function(ge,Me,Ee){return _e(this,ge,Me,!1,Ee)},m.prototype.copy=function(ge,Me,Ee,Fe){if(!m.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Ee||(Ee=0),Fe||Fe===0||(Fe=this.length),Me>=ge.length&&(Me=ge.length),Me||(Me=0),Fe>0&&Fe<Ee&&(Fe=Ee),Fe===Ee||ge.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Ee<0||Ee>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),ge.length-Me<Fe-Ee&&(Fe=ge.length-Me+Ee);var Le=Fe-Ee;return this===ge&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Ee,Fe):Uint8Array.prototype.set.call(ge,this.subarray(Ee,Fe),Me),Le},m.prototype.fill=function(ge,Me,Ee,Fe){if(typeof ge=="string"){if(typeof Me=="string"?(Fe=Me,Me=0,Ee=this.length):typeof Ee=="string"&&(Fe=Ee,Ee=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!m.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(ge.length===1){var Le=ge.charCodeAt(0);(Fe==="utf8"&&Le<128||Fe==="latin1")&&(ge=Le)}}else typeof ge=="number"?ge&=255:typeof ge=="boolean"&&(ge=Number(ge));if(Me<0||this.length<Me||this.length<Ee)throw new RangeError("Out of range index");if(Ee<=Me)return this;var Ue;if(Me>>>=0,Ee=Ee===void 0?this.length:Ee>>>0,ge||(ge=0),typeof ge=="number")for(Ue=Me;Ue<Ee;++Ue)this[Ue]=ge;else{var Ge=m.isBuffer(ge)?ge:m.from(ge,Fe),Ke=Ge.length;if(Ke===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(Ue=0;Ue<Ee-Me;++Ue)this[Ue+Me]=Ge[Ue%Ke]}return this};var ve={};function me(ge,Me,Ee){ve[ge]=function(Fe){function Le(){var Ke,at,st,vt;return function(xt,gt){if(!(xt instanceof gt))throw new TypeError("Cannot call a class as a function")}(this,Le),at=this,st=a(st=Le),Ke=function(xt,gt){if(gt&&(u(gt)==="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(xt)}(at,i()?Reflect.construct(st,vt||[],a(at).constructor):st.apply(at,vt)),Object.defineProperty(Ke,"message",{value:Me.apply(Ke,arguments),writable:!0,configurable:!0}),Ke.name="".concat(Ke.name," [").concat(ge,"]"),Ke.stack,delete Ke.name,Ke}return function(Ke,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function");Ke.prototype=Object.create(at&&at.prototype,{constructor:{value:Ke,writable:!0,configurable:!0}}),Object.defineProperty(Ke,"prototype",{writable:!1}),at&&l(Ke,at)}(Le,Fe),Ue=Le,(Ge=[{key:"code",get:function(){return ge},set:function(Ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ke,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ge,"]: ").concat(this.message)}}])&&o(Ue.prototype,Ge),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue;var Ue,Ge}(Ee)}function ye(ge){for(var Me="",Ee=ge.length,Fe=ge[0]==="-"?1:0;Ee>=Fe+4;Ee-=3)Me="_".concat(ge.slice(Ee-3,Ee)).concat(Me);return"".concat(ge.slice(0,Ee)).concat(Me)}function Se(ge,Me,Ee,Fe,Le,Ue){if(ge>Ee||ge<Me){var Ge,Ke=typeof Me=="bigint"?"n":"";throw Ge=Ue>3?Me===0||Me===BigInt(0)?">= 0".concat(Ke," and < 2").concat(Ke," ** ").concat(8*(Ue+1)).concat(Ke):">= -(2".concat(Ke," ** ").concat(8*(Ue+1)-1).concat(Ke,") and < 2 ** ")+"".concat(8*(Ue+1)-1).concat(Ke):">= ".concat(Me).concat(Ke," and <= ").concat(Ee).concat(Ke),new ve.ERR_OUT_OF_RANGE("value",Ge,ge)}(function(at,st,vt){Ie(st,"offset"),at[st]!==void 0&&at[st+vt]!==void 0||xe(st,at.length-(vt+1))})(Fe,Le,Ue)}function Ie(ge,Me){if(typeof ge!="number")throw new ve.ERR_INVALID_ARG_TYPE(Me,"number",ge)}function xe(ge,Me,Ee){throw Math.floor(ge)!==ge?(Ie(ge,Ee),new ve.ERR_OUT_OF_RANGE(Ee||"offset","an integer",ge)):Me<0?new ve.ERR_BUFFER_OUT_OF_BOUNDS:new ve.ERR_OUT_OF_RANGE(Ee||"offset",">= ".concat(Ee?1:0," and <= ").concat(Me),ge)}me("ERR_BUFFER_OUT_OF_BOUNDS",function(ge){return ge?"".concat(ge," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(ge,Me){return'The "'.concat(ge,'" argument must be of type number. Received type ').concat(u(Me))},TypeError),me("ERR_OUT_OF_RANGE",function(ge,Me,Ee){var Fe='The value of "'.concat(ge,'" is out of range.'),Le=Ee;return Number.isInteger(Ee)&&Math.abs(Ee)>Math.pow(2,32)?Le=ye(String(Ee)):typeof Ee=="bigint"&&(Le=String(Ee),(Ee>Math.pow(BigInt(2),BigInt(32))||Ee<-Math.pow(BigInt(2),BigInt(32)))&&(Le=ye(Le)),Le+="n"),Fe+" It must be ".concat(Me,". Received ").concat(Le)},RangeError);var ue=/[^+/0-9A-Za-z-_]/g;function ae(ge,Me){var Ee;Me=Me||1/0;for(var Fe=ge.length,Le=null,Ue=[],Ge=0;Ge<Fe;++Ge){if((Ee=ge.charCodeAt(Ge))>55295&&Ee<57344){if(!Le){if(Ee>56319){(Me-=3)>-1&&Ue.push(239,191,189);continue}if(Ge+1===Fe){(Me-=3)>-1&&Ue.push(239,191,189);continue}Le=Ee;continue}if(Ee<56320){(Me-=3)>-1&&Ue.push(239,191,189),Le=Ee;continue}Ee=65536+(Le-55296<<10|Ee-56320)}else Le&&(Me-=3)>-1&&Ue.push(239,191,189);if(Le=null,Ee<128){if((Me-=1)<0)break;Ue.push(Ee)}else if(Ee<2048){if((Me-=2)<0)break;Ue.push(Ee>>6|192,63&Ee|128)}else if(Ee<65536){if((Me-=3)<0)break;Ue.push(Ee>>12|224,Ee>>6&63|128,63&Ee|128)}else{if(!(Ee<1114112))throw new Error("Invalid code point");if((Me-=4)<0)break;Ue.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,63&Ee|128)}}return Ue}function pe(ge){return h.toByteArray(function(Me){if((Me=(Me=Me.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;Me.length%4!=0;)Me+="=";return Me}(ge))}function De(ge,Me,Ee,Fe){var Le;for(Le=0;Le<Fe&&!(Le+Ee>=Me.length||Le>=ge.length);++Le)Me[Le+Ee]=ge[Le];return Le}function Te(ge,Me){return ge instanceof Me||ge!=null&&ge.constructor!=null&&ge.constructor.name!=null&&ge.constructor.name===Me.name}function Ae(ge){return ge!=ge}var Ce=function(){for(var ge="0123456789abcdef",Me=new Array(256),Ee=0;Ee<16;++Ee)for(var Fe=16*Ee,Le=0;Le<16;++Le)Me[Fe+Le]=ge[Ee]+ge[Le];return Me}();function Re(ge){return typeof BigInt>"u"?Ne:ge}function Ne(){throw new Error("BigInt not supported")}},9216:function(f){"use strict";f.exports=r,f.exports.isMobile=r,f.exports.default=r;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,o=/android|ipad|playbook|silk/i;function r(i){i||(i={});var a=i.ua;if(a||typeof navigator>"u"||(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),typeof a!="string")return!1;var l=s.test(a)&&!t.test(a)||!!i.tablet&&o.test(a);return!l&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&a.indexOf("Macintosh")!==-1&&a.indexOf("Safari")!==-1&&(l=!0),l}},6296:function(f,s,t){"use strict";f.exports=function(u){var h=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],w=u.up||[0,1,0],g=u.distanceLimits||[0,1/0],v=u.mode||"turntable",m=o(),T=r(),_=i();return m.setDistanceLimits(g[0],g[1]),m.lookAt(0,h,c,w),T.setDistanceLimits(g[0],g[1]),T.lookAt(0,h,c,w),_.setDistanceLimits(g[0],g[1]),_.lookAt(0,h,c,w),new a({turntable:m,orbit:T,matrix:_},v)};var o=t(7261),r=t(9977),i=t(4192);function a(u,h){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=h,this._active=u[h],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=a.prototype;l.flush=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].flush(u)},l.idle=function(u){for(var h=this._controllerList,c=0;c<h.length;++c)h[c].idle(u)},l.lookAt=function(u,h,c,w){for(var g=this._controllerList,v=0;v<g.length;++v)g[v].lookAt(u,h,c,w)},l.rotate=function(u,h,c,w){for(var g=this._controllerList,v=0;v<g.length;++v)g[v].rotate(u,h,c,w)},l.pan=function(u,h,c,w){for(var g=this._controllerList,v=0;v<g.length;++v)g[v].pan(u,h,c,w)},l.translate=function(u,h,c,w){for(var g=this._controllerList,v=0;v<g.length;++v)g[v].translate(u,h,c,w)},l.setMatrix=function(u,h){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].setMatrix(u,h)},l.setDistanceLimits=function(u,h){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].setDistanceLimits(u,h)},l.setDistance=function(u,h){for(var c=this._controllerList,w=0;w<c.length;++w)c[w].setDistance(u,h)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var h=this._controllerNames.indexOf(u);if(!(h<0)){var c=this._active,w=this._controllerList[h],g=Math.max(c.lastT(),w.lastT());c.recalcMatrix(g),w.setMatrix(g,c.computedMatrix),this._active=w,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},7169:function(f,s,t){"use strict";var o=typeof WeakMap>"u"?t(1538):WeakMap,r=t(2762),i=t(8116),a=new o;f.exports=function(l){var u=a.get(l),h=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var c=r(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=i(l,[{buffer:c,type:l.FLOAT,size:2}]))._triangleBuffer=c,a.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},1085:function(f,s,t){var o=t(1371);f.exports=function(r,i,a){i=typeof i=="number"?i:1,a=a||": ";var l=r.split(/\r?\n/),u=String(l.length+i-1).length;return l.map(function(h,c){var w=c+i,g=String(w).length;return o(w,u-g)+a+h}).join(`
`)}},3952:function(f,s,t){"use strict";f.exports=function(i){var a=i.length;if(a===0)return[];if(a===1)return[0];for(var l=i[0].length,u=[i[0]],h=[0],c=1;c<a;++c)if(u.push(i[c]),r(u,l)){if(h.push(c),h.length===l+1)return h}else u.pop();return h};var o=t(3250);function r(i,a){for(var l=new Array(a+1),u=0;u<i.length;++u)l[u]=i[u];for(u=0;u<=i.length;++u){for(var h=i.length;h<=a;++h){for(var c=new Array(a),w=0;w<a;++w)c[w]=Math.pow(h+1-u,w);l[h]=c}if(o.apply(void 0,l))return!0}return!1}},5995:function(f,s,t){"use strict";f.exports=function(i,a){return o(a).filter(function(l){for(var u=new Array(l.length),h=0;h<l.length;++h)u[h]=a[l[h]];return r(u)*i<1})};var o=t(7642),r=t(6037)},3502:function(f,s,t){f.exports=function(i,a){return r(o(i,a))};var o=t(5995),r=t(9127)},6468:function(f){f.exports=function(s){return atob(s)}},2642:function(f,s,t){"use strict";f.exports=function(i,a){for(var l=a.length,u=new Array(l+1),h=0;h<l;++h){for(var c=new Array(l+1),w=0;w<=l;++w)c[w]=i[w][h];u[h]=c}for(u[l]=new Array(l+1),h=0;h<=l;++h)u[l][h]=1;var g=new Array(l+1);for(h=0;h<l;++h)g[h]=a[h];g[l]=1;var v=o(u,g),m=r(v[l+1]);m===0&&(m=1);var T=new Array(l+1);for(h=0;h<=l;++h)T[h]=r(v[h])/m;return T};var o=t(727);function r(i){for(var a=0,l=0;l<i.length;++l)a+=i[l];return a}},7507:function(f,s){"use strict";s.byteLength=function(h){var c=l(h),w=c[0],g=c[1];return 3*(w+g)/4-g},s.toByteArray=function(h){var c,w,g=l(h),v=g[0],m=g[1],T=new r(function(d,C,k){return 3*(C+k)/4-k}(0,v,m)),_=0,A=m>0?v-4:v;for(w=0;w<A;w+=4)c=o[h.charCodeAt(w)]<<18|o[h.charCodeAt(w+1)]<<12|o[h.charCodeAt(w+2)]<<6|o[h.charCodeAt(w+3)],T[_++]=c>>16&255,T[_++]=c>>8&255,T[_++]=255&c;return m===2&&(c=o[h.charCodeAt(w)]<<2|o[h.charCodeAt(w+1)]>>4,T[_++]=255&c),m===1&&(c=o[h.charCodeAt(w)]<<10|o[h.charCodeAt(w+1)]<<4|o[h.charCodeAt(w+2)]>>2,T[_++]=c>>8&255,T[_++]=255&c),T},s.fromByteArray=function(h){for(var c,w=h.length,g=w%3,v=[],m=16383,T=0,_=w-g;T<_;T+=m)v.push(u(h,T,T+m>_?_:T+m));return g===1?(c=h[w-1],v.push(t[c>>2]+t[c<<4&63]+"==")):g===2&&(c=(h[w-2]<<8)+h[w-1],v.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),v.join("")};for(var t=[],o=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)t[a]=i[a],o[i.charCodeAt(a)]=a;function l(h){var c=h.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=h.indexOf("=");return w===-1&&(w=c),[w,w===c?0:4-w%4]}function u(h,c,w){for(var g,v,m=[],T=c;T<w;T+=3)g=(h[T]<<16&16711680)+(h[T+1]<<8&65280)+(255&h[T+2]),m.push(t[(v=g)>>18&63]+t[v>>12&63]+t[v>>6&63]+t[63&v]);return m.join("")}o[45]=62,o[95]=63},3865:function(f,s,t){"use strict";var o=t(869);f.exports=function(r,i){return o(r[0].mul(i[1]).add(i[0].mul(r[1])),r[1].mul(i[1]))}},1318:function(f){"use strict";f.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},8697:function(f,s,t){"use strict";var o=t(869);f.exports=function(r,i){return o(r[0].mul(i[1]),r[1].mul(i[0]))}},7842:function(f,s,t){"use strict";var o=t(6330),r=t(1533),i=t(2651),a=t(4387),l=t(869),u=t(8697);f.exports=function h(c,w){if(o(c))return w?u(c,h(w)):[c[0].clone(),c[1].clone()];var g,v,m=0;if(r(c))g=c.clone();else if(typeof c=="string")g=a(c);else{if(c===0)return[i(0),i(1)];if(c===Math.floor(c))g=i(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),m-=256;g=i(c)}}if(o(w))g.mul(w[1]),v=w[0].clone();else if(r(w))v=w.clone();else if(typeof w=="string")v=a(w);else if(w)if(w===Math.floor(w))v=i(w);else{for(;w!==Math.floor(w);)w*=Math.pow(2,256),m+=256;v=i(w)}else v=i(1);return m>0?g=g.ushln(m):m<0&&(v=v.ushln(-m)),l(g,v)}},6330:function(f,s,t){"use strict";var o=t(1533);f.exports=function(r){return Array.isArray(r)&&r.length===2&&o(r[0])&&o(r[1])}},5716:function(f,s,t){"use strict";var o=t(6859);f.exports=function(r){return r.cmp(new o(0))}},1369:function(f,s,t){"use strict";var o=t(5716);f.exports=function(r){var i=r.length,a=r.words,l=0;if(i===1)l=a[0];else if(i===2)l=a[0]+67108864*a[1];else for(var u=0;u<i;u++)l+=a[u]*Math.pow(67108864,u);return o(r)*l}},4025:function(f,s,t){"use strict";var o=t(2361),r=t(8828).countTrailingZeros;f.exports=function(i){var a=r(o.lo(i));if(a<32)return a;var l=r(o.hi(i));return l>20?52:l+32}},1533:function(f,s,t){"use strict";t(6859),f.exports=function(o){return o&&typeof o=="object"&&!!o.words}},2651:function(f,s,t){"use strict";var o=t(6859),r=t(2361);f.exports=function(i){var a=r.exponent(i);return a<52?new o(i):new o(i*Math.pow(2,52-a)).ushln(a-52)}},869:function(f,s,t){"use strict";var o=t(2651),r=t(5716);f.exports=function(i,a){var l=r(i),u=r(a);if(l===0)return[o(0),o(1)];if(u===0)return[o(0),o(0)];u<0&&(i=i.neg(),a=a.neg());var h=i.gcd(a);return h.cmpn(1)?[i.div(h),a.div(h)]:[i,a]}},4387:function(f,s,t){"use strict";var o=t(6859);f.exports=function(r){return new o(r)}},6504:function(f,s,t){"use strict";var o=t(869);f.exports=function(r,i){return o(r[0].mul(i[0]),r[1].mul(i[1]))}},7721:function(f,s,t){"use strict";var o=t(5716);f.exports=function(r){return o(r[0])*o(r[1])}},5572:function(f,s,t){"use strict";var o=t(869);f.exports=function(r,i){return o(r[0].mul(i[1]).sub(r[1].mul(i[0])),r[1].mul(i[1]))}},946:function(f,s,t){"use strict";var o=t(1369),r=t(4025);f.exports=function(i){var a=i[0],l=i[1];if(a.cmpn(0)===0)return 0;var u=a.abs().divmod(l.abs()),h=u.div,c=o(h),w=u.mod,g=a.negative!==l.negative?-1:1;if(w.cmpn(0)===0)return g*c;if(c){var v=r(c)+4;return g*(c+(T=o(w.ushln(v).divRound(l)))*Math.pow(2,-v))}var m=l.bitLength()-w.bitLength()+53,T=o(w.ushln(m).divRound(l));return m<1023?g*T*Math.pow(2,-m):g*(T*=Math.pow(2,-1023))*Math.pow(2,1023-m)}},2478:function(f){"use strict";function s(l,u,h,c,w){for(var g=w+1;c<=w;){var v=c+w>>>1,m=l[v];(h!==void 0?h(m,u):m-u)>=0?(g=v,w=v-1):c=v+1}return g}function t(l,u,h,c,w){for(var g=w+1;c<=w;){var v=c+w>>>1,m=l[v];(h!==void 0?h(m,u):m-u)>0?(g=v,w=v-1):c=v+1}return g}function o(l,u,h,c,w){for(var g=c-1;c<=w;){var v=c+w>>>1,m=l[v];(h!==void 0?h(m,u):m-u)<0?(g=v,c=v+1):w=v-1}return g}function r(l,u,h,c,w){for(var g=c-1;c<=w;){var v=c+w>>>1,m=l[v];(h!==void 0?h(m,u):m-u)<=0?(g=v,c=v+1):w=v-1}return g}function i(l,u,h,c,w){for(;c<=w;){var g=c+w>>>1,v=l[g],m=h!==void 0?h(v,u):v-u;if(m===0)return g;m<=0?c=g+1:w=g-1}return-1}function a(l,u,h,c,w,g){return typeof h=="function"?g(l,u,h,c===void 0?0:0|c,w===void 0?l.length-1:0|w):g(l,u,void 0,h===void 0?0:0|h,c===void 0?l.length-1:0|c)}f.exports={ge:function(l,u,h,c,w){return a(l,u,h,c,w,s)},gt:function(l,u,h,c,w){return a(l,u,h,c,w,t)},lt:function(l,u,h,c,w){return a(l,u,h,c,w,o)},le:function(l,u,h,c,w){return a(l,u,h,c,w,r)},eq:function(l,u,h,c,w){return a(l,u,h,c,w,i)}}},8828:function(f,s){"use strict";function t(r){var i=32;return(r&=-r)&&i--,65535&r&&(i-=16),16711935&r&&(i-=8),252645135&r&&(i-=4),858993459&r&&(i-=2),1431655765&r&&(i-=1),i}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var i=r>>31;return(r^i)-i},s.min=function(r,i){return i^(r^i)&-(r<i)},s.max=function(r,i){return r^(r^i)&-(r<i)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var i,a;return i=(r>65535)<<4,i|=a=((r>>>=i)>255)<<3,i|=a=((r>>>=a)>15)<<2,(i|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var o=new Array(256);(function(r){for(var i=0;i<256;++i){var a=i,l=i,u=7;for(a>>>=1;a;a>>>=1)l<<=1,l|=1&a,--u;r[i]=l<<u&255}})(o),s.reverse=function(r){return o[255&r]<<24|o[r>>>8&255]<<16|o[r>>>16&255]<<8|o[r>>>24&255]},s.interleave2=function(r,i){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))<<1},s.deinterleave2=function(r,i){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>i&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,i,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},s.deinterleave3=function(r,i){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>i&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var i=r|r-1;return i+1|(~i&-~i)-1>>>t(r)+1}},6859:function(f,s,t){(function(o,r){"use strict";function i(N,V){if(!N)throw new Error(V||"Assertion failed")}function a(N,V){N.super_=V;var Z=function(){};Z.prototype=V.prototype,N.prototype=new Z,N.prototype.constructor=N}function l(N,V,Z){if(l.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(V!=="le"&&V!=="be"||(Z=V,V=10),this._init(N||0,V||10,Z||"be"))}var u;typeof o=="object"?o.exports=l:r.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(7790).Buffer}catch{}function h(N,V){var Z=N.charCodeAt(V);return Z>=65&&Z<=70?Z-55:Z>=97&&Z<=102?Z-87:Z-48&15}function c(N,V,Z){var j=h(N,Z);return Z-1>=V&&(j|=h(N,Z-1)<<4),j}function w(N,V,Z,j){for(var H=0,Y=Math.min(N.length,Z),ie=V;ie<Y;ie++){var re=N.charCodeAt(ie)-48;H*=j,H+=re>=49?re-49+10:re>=17?re-17+10:re}return H}l.isBN=function(N){return N instanceof l||N!==null&&typeof N=="object"&&N.constructor.wordSize===l.wordSize&&Array.isArray(N.words)},l.max=function(N,V){return N.cmp(V)>0?N:V},l.min=function(N,V){return N.cmp(V)<0?N:V},l.prototype._init=function(N,V,Z){if(typeof N=="number")return this._initNumber(N,V,Z);if(typeof N=="object")return this._initArray(N,V,Z);V==="hex"&&(V=16),i(V===(0|V)&&V>=2&&V<=36);var j=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<N.length&&(V===16?this._parseHex(N,j,Z):(this._parseBase(N,V,j),Z==="le"&&this._initArray(this.toArray(),V,Z)))},l.prototype._initNumber=function(N,V,Z){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(i(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),Z==="le"&&this._initArray(this.toArray(),V,Z)},l.prototype._initArray=function(N,V,Z){if(i(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var H,Y,ie=0;if(Z==="be")for(j=N.length-1,H=0;j>=0;j-=3)Y=N[j]|N[j-1]<<8|N[j-2]<<16,this.words[H]|=Y<<ie&67108863,this.words[H+1]=Y>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,H++);else if(Z==="le")for(j=0,H=0;j<N.length;j+=3)Y=N[j]|N[j+1]<<8|N[j+2]<<16,this.words[H]|=Y<<ie&67108863,this.words[H+1]=Y>>>26-ie&67108863,(ie+=24)>=26&&(ie-=26,H++);return this.strip()},l.prototype._parseHex=function(N,V,Z){this.length=Math.ceil((N.length-V)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var H,Y=0,ie=0;if(Z==="be")for(j=N.length-1;j>=V;j-=2)H=c(N,V,j)<<Y,this.words[ie]|=67108863&H,Y>=18?(Y-=18,ie+=1,this.words[ie]|=H>>>26):Y+=8;else for(j=(N.length-V)%2==0?V+1:V;j<N.length;j+=2)H=c(N,V,j)<<Y,this.words[ie]|=67108863&H,Y>=18?(Y-=18,ie+=1,this.words[ie]|=H>>>26):Y+=8;this.strip()},l.prototype._parseBase=function(N,V,Z){this.words=[0],this.length=1;for(var j=0,H=1;H<=67108863;H*=V)j++;j--,H=H/V|0;for(var Y=N.length-Z,ie=Y%j,re=Math.min(Y,Y-ie)+Z,ne=0,ee=Z;ee<re;ee+=j)ne=w(N,ee,ee+j,V),this.imuln(H),this.words[0]+ne<67108864?this.words[0]+=ne:this._iaddn(ne);if(ie!==0){var Q=1;for(ne=w(N,ee,N.length,V),ee=0;ee<ie;ee++)Q*=V;this.imuln(Q),this.words[0]+ne<67108864?this.words[0]+=ne:this._iaddn(ne)}this.strip()},l.prototype.copy=function(N){N.words=new Array(this.length);for(var V=0;V<this.length;V++)N.words[V]=this.words[V];N.length=this.length,N.negative=this.negative,N.red=this.red},l.prototype.clone=function(){var N=new l(null);return this.copy(N),N},l.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function T(N,V,Z){Z.negative=V.negative^N.negative;var j=N.length+V.length|0;Z.length=j,j=j-1|0;var H=0|N.words[0],Y=0|V.words[0],ie=H*Y,re=67108863&ie,ne=ie/67108864|0;Z.words[0]=re;for(var ee=1;ee<j;ee++){for(var Q=ne>>>26,X=67108863&ne,se=Math.min(ee,V.length-1),ce=Math.max(0,ee-N.length+1);ce<=se;ce++){var le=ee-ce|0;Q+=(ie=(H=0|N.words[le])*(Y=0|V.words[ce])+X)/67108864|0,X=67108863&ie}Z.words[ee]=0|X,ne=0|Q}return ne!==0?Z.words[ee]=0|ne:Z.length--,Z.strip()}l.prototype.toString=function(N,V){var Z;if(V=0|V||1,(N=N||10)===16||N==="hex"){Z="";for(var j=0,H=0,Y=0;Y<this.length;Y++){var ie=this.words[Y],re=(16777215&(ie<<j|H)).toString(16);Z=(H=ie>>>24-j&16777215)!=0||Y!==this.length-1?g[6-re.length]+re+Z:re+Z,(j+=2)>=26&&(j-=26,Y--)}for(H!==0&&(Z=H.toString(16)+Z);Z.length%V!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(N===(0|N)&&N>=2&&N<=36){var ne=v[N],ee=m[N];Z="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var X=Q.modn(ee).toString(N);Z=(Q=Q.idivn(ee)).isZero()?X+Z:g[ne-X.length]+X+Z}for(this.isZero()&&(Z="0"+Z);Z.length%V!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}i(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(N,V){return i(u!==void 0),this.toArrayLike(u,N,V)},l.prototype.toArray=function(N,V){return this.toArrayLike(Array,N,V)},l.prototype.toArrayLike=function(N,V,Z){var j=this.byteLength(),H=Z||Math.max(1,j);i(j<=H,"byte array longer than desired length"),i(H>0,"Requested array length <= 0"),this.strip();var Y,ie,re=V==="le",ne=new N(H),ee=this.clone();if(re){for(ie=0;!ee.isZero();ie++)Y=ee.andln(255),ee.iushrn(8),ne[ie]=Y;for(;ie<H;ie++)ne[ie]=0}else{for(ie=0;ie<H-j;ie++)ne[ie]=0;for(ie=0;!ee.isZero();ie++)Y=ee.andln(255),ee.iushrn(8),ne[H-ie-1]=Y}return ne},Math.clz32?l.prototype._countBits=function(N){return 32-Math.clz32(N)}:l.prototype._countBits=function(N){var V=N,Z=0;return V>=4096&&(Z+=13,V>>>=13),V>=64&&(Z+=7,V>>>=7),V>=8&&(Z+=4,V>>>=4),V>=2&&(Z+=2,V>>>=2),Z+V},l.prototype._zeroBits=function(N){if(N===0)return 26;var V=N,Z=0;return!(8191&V)&&(Z+=13,V>>>=13),!(127&V)&&(Z+=7,V>>>=7),!(15&V)&&(Z+=4,V>>>=4),!(3&V)&&(Z+=2,V>>>=2),!(1&V)&&Z++,Z},l.prototype.bitLength=function(){var N=this.words[this.length-1],V=this._countBits(N);return 26*(this.length-1)+V},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,V=0;V<this.length;V++){var Z=this._zeroBits(this.words[V]);if(N+=Z,Z!==26)break}return N},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},l.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var V=0;V<N.length;V++)this.words[V]=this.words[V]|N.words[V];return this.strip()},l.prototype.ior=function(N){return i((this.negative|N.negative)==0),this.iuor(N)},l.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},l.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},l.prototype.iuand=function(N){var V;V=this.length>N.length?N:this;for(var Z=0;Z<V.length;Z++)this.words[Z]=this.words[Z]&N.words[Z];return this.length=V.length,this.strip()},l.prototype.iand=function(N){return i((this.negative|N.negative)==0),this.iuand(N)},l.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},l.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},l.prototype.iuxor=function(N){var V,Z;this.length>N.length?(V=this,Z=N):(V=N,Z=this);for(var j=0;j<Z.length;j++)this.words[j]=V.words[j]^Z.words[j];if(this!==V)for(;j<V.length;j++)this.words[j]=V.words[j];return this.length=V.length,this.strip()},l.prototype.ixor=function(N){return i((this.negative|N.negative)==0),this.iuxor(N)},l.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},l.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},l.prototype.inotn=function(N){i(typeof N=="number"&&N>=0);var V=0|Math.ceil(N/26),Z=N%26;this._expand(V),Z>0&&V--;for(var j=0;j<V;j++)this.words[j]=67108863&~this.words[j];return Z>0&&(this.words[j]=~this.words[j]&67108863>>26-Z),this.strip()},l.prototype.notn=function(N){return this.clone().inotn(N)},l.prototype.setn=function(N,V){i(typeof N=="number"&&N>=0);var Z=N/26|0,j=N%26;return this._expand(Z+1),this.words[Z]=V?this.words[Z]|1<<j:this.words[Z]&~(1<<j),this.strip()},l.prototype.iadd=function(N){var V,Z,j;if(this.negative!==0&&N.negative===0)return this.negative=0,V=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,V=this.isub(N),N.negative=1,V._normSign();this.length>N.length?(Z=this,j=N):(Z=N,j=this);for(var H=0,Y=0;Y<j.length;Y++)V=(0|Z.words[Y])+(0|j.words[Y])+H,this.words[Y]=67108863&V,H=V>>>26;for(;H!==0&&Y<Z.length;Y++)V=(0|Z.words[Y])+H,this.words[Y]=67108863&V,H=V>>>26;if(this.length=Z.length,H!==0)this.words[this.length]=H,this.length++;else if(Z!==this)for(;Y<Z.length;Y++)this.words[Y]=Z.words[Y];return this},l.prototype.add=function(N){var V;return N.negative!==0&&this.negative===0?(N.negative=0,V=this.sub(N),N.negative^=1,V):N.negative===0&&this.negative!==0?(this.negative=0,V=N.sub(this),this.negative=1,V):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},l.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var V=this.iadd(N);return N.negative=1,V._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var Z,j,H=this.cmp(N);if(H===0)return this.negative=0,this.length=1,this.words[0]=0,this;H>0?(Z=this,j=N):(Z=N,j=this);for(var Y=0,ie=0;ie<j.length;ie++)Y=(V=(0|Z.words[ie])-(0|j.words[ie])+Y)>>26,this.words[ie]=67108863&V;for(;Y!==0&&ie<Z.length;ie++)Y=(V=(0|Z.words[ie])+Y)>>26,this.words[ie]=67108863&V;if(Y===0&&ie<Z.length&&Z!==this)for(;ie<Z.length;ie++)this.words[ie]=Z.words[ie];return this.length=Math.max(this.length,ie),Z!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(N){return this.clone().isub(N)};var _=function(N,V,Z){var j,H,Y,ie=N.words,re=V.words,ne=Z.words,ee=0,Q=0|ie[0],X=8191&Q,se=Q>>>13,ce=0|ie[1],le=8191&ce,de=ce>>>13,be=0|ie[2],_e=8191&be,ve=be>>>13,me=0|ie[3],ye=8191&me,Se=me>>>13,Ie=0|ie[4],xe=8191&Ie,ue=Ie>>>13,ae=0|ie[5],pe=8191&ae,De=ae>>>13,Te=0|ie[6],Ae=8191&Te,Ce=Te>>>13,Re=0|ie[7],Ne=8191&Re,ge=Re>>>13,Me=0|ie[8],Ee=8191&Me,Fe=Me>>>13,Le=0|ie[9],Ue=8191&Le,Ge=Le>>>13,Ke=0|re[0],at=8191&Ke,st=Ke>>>13,vt=0|re[1],xt=8191&vt,gt=vt>>>13,nt=0|re[2],et=8191&nt,At=nt>>>13,Pt=0|re[3],Rt=8191&Pt,Et=Pt>>>13,Ye=0|re[4],Xe=8191&Ye,Ve=Ye>>>13,Ze=0|re[5],lt=8191&Ze,it=Ze>>>13,Be=0|re[6],je=8191&Be,ot=Be>>>13,$e=0|re[7],dt=8191&$e,mt=$e>>>13,yt=0|re[8],ht=8191&yt,kt=yt>>>13,bt=0|re[9],St=8191&bt,Lt=bt>>>13;Z.negative=N.negative^V.negative,Z.length=19;var Ot=(ee+(j=Math.imul(X,at))|0)+((8191&(H=(H=Math.imul(X,st))+Math.imul(se,at)|0))<<13)|0;ee=((Y=Math.imul(se,st))+(H>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,j=Math.imul(le,at),H=(H=Math.imul(le,st))+Math.imul(de,at)|0,Y=Math.imul(de,st);var Ft=(ee+(j=j+Math.imul(X,xt)|0)|0)+((8191&(H=(H=H+Math.imul(X,gt)|0)+Math.imul(se,xt)|0))<<13)|0;ee=((Y=Y+Math.imul(se,gt)|0)+(H>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,j=Math.imul(_e,at),H=(H=Math.imul(_e,st))+Math.imul(ve,at)|0,Y=Math.imul(ve,st),j=j+Math.imul(le,xt)|0,H=(H=H+Math.imul(le,gt)|0)+Math.imul(de,xt)|0,Y=Y+Math.imul(de,gt)|0;var $t=(ee+(j=j+Math.imul(X,et)|0)|0)+((8191&(H=(H=H+Math.imul(X,At)|0)+Math.imul(se,et)|0))<<13)|0;ee=((Y=Y+Math.imul(se,At)|0)+(H>>>13)|0)+($t>>>26)|0,$t&=67108863,j=Math.imul(ye,at),H=(H=Math.imul(ye,st))+Math.imul(Se,at)|0,Y=Math.imul(Se,st),j=j+Math.imul(_e,xt)|0,H=(H=H+Math.imul(_e,gt)|0)+Math.imul(ve,xt)|0,Y=Y+Math.imul(ve,gt)|0,j=j+Math.imul(le,et)|0,H=(H=H+Math.imul(le,At)|0)+Math.imul(de,et)|0,Y=Y+Math.imul(de,At)|0;var on=(ee+(j=j+Math.imul(X,Rt)|0)|0)+((8191&(H=(H=H+Math.imul(X,Et)|0)+Math.imul(se,Rt)|0))<<13)|0;ee=((Y=Y+Math.imul(se,Et)|0)+(H>>>13)|0)+(on>>>26)|0,on&=67108863,j=Math.imul(xe,at),H=(H=Math.imul(xe,st))+Math.imul(ue,at)|0,Y=Math.imul(ue,st),j=j+Math.imul(ye,xt)|0,H=(H=H+Math.imul(ye,gt)|0)+Math.imul(Se,xt)|0,Y=Y+Math.imul(Se,gt)|0,j=j+Math.imul(_e,et)|0,H=(H=H+Math.imul(_e,At)|0)+Math.imul(ve,et)|0,Y=Y+Math.imul(ve,At)|0,j=j+Math.imul(le,Rt)|0,H=(H=H+Math.imul(le,Et)|0)+Math.imul(de,Rt)|0,Y=Y+Math.imul(de,Et)|0;var Ht=(ee+(j=j+Math.imul(X,Xe)|0)|0)+((8191&(H=(H=H+Math.imul(X,Ve)|0)+Math.imul(se,Xe)|0))<<13)|0;ee=((Y=Y+Math.imul(se,Ve)|0)+(H>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,j=Math.imul(pe,at),H=(H=Math.imul(pe,st))+Math.imul(De,at)|0,Y=Math.imul(De,st),j=j+Math.imul(xe,xt)|0,H=(H=H+Math.imul(xe,gt)|0)+Math.imul(ue,xt)|0,Y=Y+Math.imul(ue,gt)|0,j=j+Math.imul(ye,et)|0,H=(H=H+Math.imul(ye,At)|0)+Math.imul(Se,et)|0,Y=Y+Math.imul(Se,At)|0,j=j+Math.imul(_e,Rt)|0,H=(H=H+Math.imul(_e,Et)|0)+Math.imul(ve,Rt)|0,Y=Y+Math.imul(ve,Et)|0,j=j+Math.imul(le,Xe)|0,H=(H=H+Math.imul(le,Ve)|0)+Math.imul(de,Xe)|0,Y=Y+Math.imul(de,Ve)|0;var Zt=(ee+(j=j+Math.imul(X,lt)|0)|0)+((8191&(H=(H=H+Math.imul(X,it)|0)+Math.imul(se,lt)|0))<<13)|0;ee=((Y=Y+Math.imul(se,it)|0)+(H>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,j=Math.imul(Ae,at),H=(H=Math.imul(Ae,st))+Math.imul(Ce,at)|0,Y=Math.imul(Ce,st),j=j+Math.imul(pe,xt)|0,H=(H=H+Math.imul(pe,gt)|0)+Math.imul(De,xt)|0,Y=Y+Math.imul(De,gt)|0,j=j+Math.imul(xe,et)|0,H=(H=H+Math.imul(xe,At)|0)+Math.imul(ue,et)|0,Y=Y+Math.imul(ue,At)|0,j=j+Math.imul(ye,Rt)|0,H=(H=H+Math.imul(ye,Et)|0)+Math.imul(Se,Rt)|0,Y=Y+Math.imul(Se,Et)|0,j=j+Math.imul(_e,Xe)|0,H=(H=H+Math.imul(_e,Ve)|0)+Math.imul(ve,Xe)|0,Y=Y+Math.imul(ve,Ve)|0,j=j+Math.imul(le,lt)|0,H=(H=H+Math.imul(le,it)|0)+Math.imul(de,lt)|0,Y=Y+Math.imul(de,it)|0;var jt=(ee+(j=j+Math.imul(X,je)|0)|0)+((8191&(H=(H=H+Math.imul(X,ot)|0)+Math.imul(se,je)|0))<<13)|0;ee=((Y=Y+Math.imul(se,ot)|0)+(H>>>13)|0)+(jt>>>26)|0,jt&=67108863,j=Math.imul(Ne,at),H=(H=Math.imul(Ne,st))+Math.imul(ge,at)|0,Y=Math.imul(ge,st),j=j+Math.imul(Ae,xt)|0,H=(H=H+Math.imul(Ae,gt)|0)+Math.imul(Ce,xt)|0,Y=Y+Math.imul(Ce,gt)|0,j=j+Math.imul(pe,et)|0,H=(H=H+Math.imul(pe,At)|0)+Math.imul(De,et)|0,Y=Y+Math.imul(De,At)|0,j=j+Math.imul(xe,Rt)|0,H=(H=H+Math.imul(xe,Et)|0)+Math.imul(ue,Rt)|0,Y=Y+Math.imul(ue,Et)|0,j=j+Math.imul(ye,Xe)|0,H=(H=H+Math.imul(ye,Ve)|0)+Math.imul(Se,Xe)|0,Y=Y+Math.imul(Se,Ve)|0,j=j+Math.imul(_e,lt)|0,H=(H=H+Math.imul(_e,it)|0)+Math.imul(ve,lt)|0,Y=Y+Math.imul(ve,it)|0,j=j+Math.imul(le,je)|0,H=(H=H+Math.imul(le,ot)|0)+Math.imul(de,je)|0,Y=Y+Math.imul(de,ot)|0;var Ln=(ee+(j=j+Math.imul(X,dt)|0)|0)+((8191&(H=(H=H+Math.imul(X,mt)|0)+Math.imul(se,dt)|0))<<13)|0;ee=((Y=Y+Math.imul(se,mt)|0)+(H>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,j=Math.imul(Ee,at),H=(H=Math.imul(Ee,st))+Math.imul(Fe,at)|0,Y=Math.imul(Fe,st),j=j+Math.imul(Ne,xt)|0,H=(H=H+Math.imul(Ne,gt)|0)+Math.imul(ge,xt)|0,Y=Y+Math.imul(ge,gt)|0,j=j+Math.imul(Ae,et)|0,H=(H=H+Math.imul(Ae,At)|0)+Math.imul(Ce,et)|0,Y=Y+Math.imul(Ce,At)|0,j=j+Math.imul(pe,Rt)|0,H=(H=H+Math.imul(pe,Et)|0)+Math.imul(De,Rt)|0,Y=Y+Math.imul(De,Et)|0,j=j+Math.imul(xe,Xe)|0,H=(H=H+Math.imul(xe,Ve)|0)+Math.imul(ue,Xe)|0,Y=Y+Math.imul(ue,Ve)|0,j=j+Math.imul(ye,lt)|0,H=(H=H+Math.imul(ye,it)|0)+Math.imul(Se,lt)|0,Y=Y+Math.imul(Se,it)|0,j=j+Math.imul(_e,je)|0,H=(H=H+Math.imul(_e,ot)|0)+Math.imul(ve,je)|0,Y=Y+Math.imul(ve,ot)|0,j=j+Math.imul(le,dt)|0,H=(H=H+Math.imul(le,mt)|0)+Math.imul(de,dt)|0,Y=Y+Math.imul(de,mt)|0;var Tn=(ee+(j=j+Math.imul(X,ht)|0)|0)+((8191&(H=(H=H+Math.imul(X,kt)|0)+Math.imul(se,ht)|0))<<13)|0;ee=((Y=Y+Math.imul(se,kt)|0)+(H>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,j=Math.imul(Ue,at),H=(H=Math.imul(Ue,st))+Math.imul(Ge,at)|0,Y=Math.imul(Ge,st),j=j+Math.imul(Ee,xt)|0,H=(H=H+Math.imul(Ee,gt)|0)+Math.imul(Fe,xt)|0,Y=Y+Math.imul(Fe,gt)|0,j=j+Math.imul(Ne,et)|0,H=(H=H+Math.imul(Ne,At)|0)+Math.imul(ge,et)|0,Y=Y+Math.imul(ge,At)|0,j=j+Math.imul(Ae,Rt)|0,H=(H=H+Math.imul(Ae,Et)|0)+Math.imul(Ce,Rt)|0,Y=Y+Math.imul(Ce,Et)|0,j=j+Math.imul(pe,Xe)|0,H=(H=H+Math.imul(pe,Ve)|0)+Math.imul(De,Xe)|0,Y=Y+Math.imul(De,Ve)|0,j=j+Math.imul(xe,lt)|0,H=(H=H+Math.imul(xe,it)|0)+Math.imul(ue,lt)|0,Y=Y+Math.imul(ue,it)|0,j=j+Math.imul(ye,je)|0,H=(H=H+Math.imul(ye,ot)|0)+Math.imul(Se,je)|0,Y=Y+Math.imul(Se,ot)|0,j=j+Math.imul(_e,dt)|0,H=(H=H+Math.imul(_e,mt)|0)+Math.imul(ve,dt)|0,Y=Y+Math.imul(ve,mt)|0,j=j+Math.imul(le,ht)|0,H=(H=H+Math.imul(le,kt)|0)+Math.imul(de,ht)|0,Y=Y+Math.imul(de,kt)|0;var gn=(ee+(j=j+Math.imul(X,St)|0)|0)+((8191&(H=(H=H+Math.imul(X,Lt)|0)+Math.imul(se,St)|0))<<13)|0;ee=((Y=Y+Math.imul(se,Lt)|0)+(H>>>13)|0)+(gn>>>26)|0,gn&=67108863,j=Math.imul(Ue,xt),H=(H=Math.imul(Ue,gt))+Math.imul(Ge,xt)|0,Y=Math.imul(Ge,gt),j=j+Math.imul(Ee,et)|0,H=(H=H+Math.imul(Ee,At)|0)+Math.imul(Fe,et)|0,Y=Y+Math.imul(Fe,At)|0,j=j+Math.imul(Ne,Rt)|0,H=(H=H+Math.imul(Ne,Et)|0)+Math.imul(ge,Rt)|0,Y=Y+Math.imul(ge,Et)|0,j=j+Math.imul(Ae,Xe)|0,H=(H=H+Math.imul(Ae,Ve)|0)+Math.imul(Ce,Xe)|0,Y=Y+Math.imul(Ce,Ve)|0,j=j+Math.imul(pe,lt)|0,H=(H=H+Math.imul(pe,it)|0)+Math.imul(De,lt)|0,Y=Y+Math.imul(De,it)|0,j=j+Math.imul(xe,je)|0,H=(H=H+Math.imul(xe,ot)|0)+Math.imul(ue,je)|0,Y=Y+Math.imul(ue,ot)|0,j=j+Math.imul(ye,dt)|0,H=(H=H+Math.imul(ye,mt)|0)+Math.imul(Se,dt)|0,Y=Y+Math.imul(Se,mt)|0,j=j+Math.imul(_e,ht)|0,H=(H=H+Math.imul(_e,kt)|0)+Math.imul(ve,ht)|0,Y=Y+Math.imul(ve,kt)|0;var Qt=(ee+(j=j+Math.imul(le,St)|0)|0)+((8191&(H=(H=H+Math.imul(le,Lt)|0)+Math.imul(de,St)|0))<<13)|0;ee=((Y=Y+Math.imul(de,Lt)|0)+(H>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,j=Math.imul(Ue,et),H=(H=Math.imul(Ue,At))+Math.imul(Ge,et)|0,Y=Math.imul(Ge,At),j=j+Math.imul(Ee,Rt)|0,H=(H=H+Math.imul(Ee,Et)|0)+Math.imul(Fe,Rt)|0,Y=Y+Math.imul(Fe,Et)|0,j=j+Math.imul(Ne,Xe)|0,H=(H=H+Math.imul(Ne,Ve)|0)+Math.imul(ge,Xe)|0,Y=Y+Math.imul(ge,Ve)|0,j=j+Math.imul(Ae,lt)|0,H=(H=H+Math.imul(Ae,it)|0)+Math.imul(Ce,lt)|0,Y=Y+Math.imul(Ce,it)|0,j=j+Math.imul(pe,je)|0,H=(H=H+Math.imul(pe,ot)|0)+Math.imul(De,je)|0,Y=Y+Math.imul(De,ot)|0,j=j+Math.imul(xe,dt)|0,H=(H=H+Math.imul(xe,mt)|0)+Math.imul(ue,dt)|0,Y=Y+Math.imul(ue,mt)|0,j=j+Math.imul(ye,ht)|0,H=(H=H+Math.imul(ye,kt)|0)+Math.imul(Se,ht)|0,Y=Y+Math.imul(Se,kt)|0;var cn=(ee+(j=j+Math.imul(_e,St)|0)|0)+((8191&(H=(H=H+Math.imul(_e,Lt)|0)+Math.imul(ve,St)|0))<<13)|0;ee=((Y=Y+Math.imul(ve,Lt)|0)+(H>>>13)|0)+(cn>>>26)|0,cn&=67108863,j=Math.imul(Ue,Rt),H=(H=Math.imul(Ue,Et))+Math.imul(Ge,Rt)|0,Y=Math.imul(Ge,Et),j=j+Math.imul(Ee,Xe)|0,H=(H=H+Math.imul(Ee,Ve)|0)+Math.imul(Fe,Xe)|0,Y=Y+Math.imul(Fe,Ve)|0,j=j+Math.imul(Ne,lt)|0,H=(H=H+Math.imul(Ne,it)|0)+Math.imul(ge,lt)|0,Y=Y+Math.imul(ge,it)|0,j=j+Math.imul(Ae,je)|0,H=(H=H+Math.imul(Ae,ot)|0)+Math.imul(Ce,je)|0,Y=Y+Math.imul(Ce,ot)|0,j=j+Math.imul(pe,dt)|0,H=(H=H+Math.imul(pe,mt)|0)+Math.imul(De,dt)|0,Y=Y+Math.imul(De,mt)|0,j=j+Math.imul(xe,ht)|0,H=(H=H+Math.imul(xe,kt)|0)+Math.imul(ue,ht)|0,Y=Y+Math.imul(ue,kt)|0;var nn=(ee+(j=j+Math.imul(ye,St)|0)|0)+((8191&(H=(H=H+Math.imul(ye,Lt)|0)+Math.imul(Se,St)|0))<<13)|0;ee=((Y=Y+Math.imul(Se,Lt)|0)+(H>>>13)|0)+(nn>>>26)|0,nn&=67108863,j=Math.imul(Ue,Xe),H=(H=Math.imul(Ue,Ve))+Math.imul(Ge,Xe)|0,Y=Math.imul(Ge,Ve),j=j+Math.imul(Ee,lt)|0,H=(H=H+Math.imul(Ee,it)|0)+Math.imul(Fe,lt)|0,Y=Y+Math.imul(Fe,it)|0,j=j+Math.imul(Ne,je)|0,H=(H=H+Math.imul(Ne,ot)|0)+Math.imul(ge,je)|0,Y=Y+Math.imul(ge,ot)|0,j=j+Math.imul(Ae,dt)|0,H=(H=H+Math.imul(Ae,mt)|0)+Math.imul(Ce,dt)|0,Y=Y+Math.imul(Ce,mt)|0,j=j+Math.imul(pe,ht)|0,H=(H=H+Math.imul(pe,kt)|0)+Math.imul(De,ht)|0,Y=Y+Math.imul(De,kt)|0;var hn=(ee+(j=j+Math.imul(xe,St)|0)|0)+((8191&(H=(H=H+Math.imul(xe,Lt)|0)+Math.imul(ue,St)|0))<<13)|0;ee=((Y=Y+Math.imul(ue,Lt)|0)+(H>>>13)|0)+(hn>>>26)|0,hn&=67108863,j=Math.imul(Ue,lt),H=(H=Math.imul(Ue,it))+Math.imul(Ge,lt)|0,Y=Math.imul(Ge,it),j=j+Math.imul(Ee,je)|0,H=(H=H+Math.imul(Ee,ot)|0)+Math.imul(Fe,je)|0,Y=Y+Math.imul(Fe,ot)|0,j=j+Math.imul(Ne,dt)|0,H=(H=H+Math.imul(Ne,mt)|0)+Math.imul(ge,dt)|0,Y=Y+Math.imul(ge,mt)|0,j=j+Math.imul(Ae,ht)|0,H=(H=H+Math.imul(Ae,kt)|0)+Math.imul(Ce,ht)|0,Y=Y+Math.imul(Ce,kt)|0;var bn=(ee+(j=j+Math.imul(pe,St)|0)|0)+((8191&(H=(H=H+Math.imul(pe,Lt)|0)+Math.imul(De,St)|0))<<13)|0;ee=((Y=Y+Math.imul(De,Lt)|0)+(H>>>13)|0)+(bn>>>26)|0,bn&=67108863,j=Math.imul(Ue,je),H=(H=Math.imul(Ue,ot))+Math.imul(Ge,je)|0,Y=Math.imul(Ge,ot),j=j+Math.imul(Ee,dt)|0,H=(H=H+Math.imul(Ee,mt)|0)+Math.imul(Fe,dt)|0,Y=Y+Math.imul(Fe,mt)|0,j=j+Math.imul(Ne,ht)|0,H=(H=H+Math.imul(Ne,kt)|0)+Math.imul(ge,ht)|0,Y=Y+Math.imul(ge,kt)|0;var wn=(ee+(j=j+Math.imul(Ae,St)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Lt)|0)+Math.imul(Ce,St)|0))<<13)|0;ee=((Y=Y+Math.imul(Ce,Lt)|0)+(H>>>13)|0)+(wn>>>26)|0,wn&=67108863,j=Math.imul(Ue,dt),H=(H=Math.imul(Ue,mt))+Math.imul(Ge,dt)|0,Y=Math.imul(Ge,mt),j=j+Math.imul(Ee,ht)|0,H=(H=H+Math.imul(Ee,kt)|0)+Math.imul(Fe,ht)|0,Y=Y+Math.imul(Fe,kt)|0;var En=(ee+(j=j+Math.imul(Ne,St)|0)|0)+((8191&(H=(H=H+Math.imul(Ne,Lt)|0)+Math.imul(ge,St)|0))<<13)|0;ee=((Y=Y+Math.imul(ge,Lt)|0)+(H>>>13)|0)+(En>>>26)|0,En&=67108863,j=Math.imul(Ue,ht),H=(H=Math.imul(Ue,kt))+Math.imul(Ge,ht)|0,Y=Math.imul(Ge,kt);var Dn=(ee+(j=j+Math.imul(Ee,St)|0)|0)+((8191&(H=(H=H+Math.imul(Ee,Lt)|0)+Math.imul(Fe,St)|0))<<13)|0;ee=((Y=Y+Math.imul(Fe,Lt)|0)+(H>>>13)|0)+(Dn>>>26)|0,Dn&=67108863;var kn=(ee+(j=Math.imul(Ue,St))|0)+((8191&(H=(H=Math.imul(Ue,Lt))+Math.imul(Ge,St)|0))<<13)|0;return ee=((Y=Math.imul(Ge,Lt))+(H>>>13)|0)+(kn>>>26)|0,kn&=67108863,ne[0]=Ot,ne[1]=Ft,ne[2]=$t,ne[3]=on,ne[4]=Ht,ne[5]=Zt,ne[6]=jt,ne[7]=Ln,ne[8]=Tn,ne[9]=gn,ne[10]=Qt,ne[11]=cn,ne[12]=nn,ne[13]=hn,ne[14]=bn,ne[15]=wn,ne[16]=En,ne[17]=Dn,ne[18]=kn,ee!==0&&(ne[19]=ee,Z.length++),Z};function A(N,V,Z){return new d().mulp(N,V,Z)}function d(N,V){this.x=N,this.y=V}Math.imul||(_=T),l.prototype.mulTo=function(N,V){var Z,j=this.length+N.length;return Z=this.length===10&&N.length===10?_(this,N,V):j<63?T(this,N,V):j<1024?function(H,Y,ie){ie.negative=Y.negative^H.negative,ie.length=H.length+Y.length;for(var re=0,ne=0,ee=0;ee<ie.length-1;ee++){var Q=ne;ne=0;for(var X=67108863&re,se=Math.min(ee,Y.length-1),ce=Math.max(0,ee-H.length+1);ce<=se;ce++){var le=ee-ce,de=(0|H.words[le])*(0|Y.words[ce]),be=67108863&de;X=67108863&(be=be+X|0),ne+=(Q=(Q=Q+(de/67108864|0)|0)+(be>>>26)|0)>>>26,Q&=67108863}ie.words[ee]=X,re=Q,Q=ne}return re!==0?ie.words[ee]=re:ie.length--,ie.strip()}(this,N,V):A(this,N,V),Z},d.prototype.makeRBT=function(N){for(var V=new Array(N),Z=l.prototype._countBits(N)-1,j=0;j<N;j++)V[j]=this.revBin(j,Z,N);return V},d.prototype.revBin=function(N,V,Z){if(N===0||N===Z-1)return N;for(var j=0,H=0;H<V;H++)j|=(1&N)<<V-H-1,N>>=1;return j},d.prototype.permute=function(N,V,Z,j,H,Y){for(var ie=0;ie<Y;ie++)j[ie]=V[N[ie]],H[ie]=Z[N[ie]]},d.prototype.transform=function(N,V,Z,j,H,Y){this.permute(Y,N,V,Z,j,H);for(var ie=1;ie<H;ie<<=1)for(var re=ie<<1,ne=Math.cos(2*Math.PI/re),ee=Math.sin(2*Math.PI/re),Q=0;Q<H;Q+=re)for(var X=ne,se=ee,ce=0;ce<ie;ce++){var le=Z[Q+ce],de=j[Q+ce],be=Z[Q+ce+ie],_e=j[Q+ce+ie],ve=X*be-se*_e;_e=X*_e+se*be,be=ve,Z[Q+ce]=le+be,j[Q+ce]=de+_e,Z[Q+ce+ie]=le-be,j[Q+ce+ie]=de-_e,ce!==re&&(ve=ne*X-ee*se,se=ne*se+ee*X,X=ve)}},d.prototype.guessLen13b=function(N,V){var Z=1|Math.max(V,N),j=1&Z,H=0;for(Z=Z/2|0;Z;Z>>>=1)H++;return 1<<H+1+j},d.prototype.conjugate=function(N,V,Z){if(!(Z<=1))for(var j=0;j<Z/2;j++){var H=N[j];N[j]=N[Z-j-1],N[Z-j-1]=H,H=V[j],V[j]=-V[Z-j-1],V[Z-j-1]=-H}},d.prototype.normalize13b=function(N,V){for(var Z=0,j=0;j<V/2;j++){var H=8192*Math.round(N[2*j+1]/V)+Math.round(N[2*j]/V)+Z;N[j]=67108863&H,Z=H<67108864?0:H/67108864|0}return N},d.prototype.convert13b=function(N,V,Z,j){for(var H=0,Y=0;Y<V;Y++)H+=0|N[Y],Z[2*Y]=8191&H,H>>>=13,Z[2*Y+1]=8191&H,H>>>=13;for(Y=2*V;Y<j;++Y)Z[Y]=0;i(H===0),i((-8192&H)==0)},d.prototype.stub=function(N){for(var V=new Array(N),Z=0;Z<N;Z++)V[Z]=0;return V},d.prototype.mulp=function(N,V,Z){var j=2*this.guessLen13b(N.length,V.length),H=this.makeRBT(j),Y=this.stub(j),ie=new Array(j),re=new Array(j),ne=new Array(j),ee=new Array(j),Q=new Array(j),X=new Array(j),se=Z.words;se.length=j,this.convert13b(N.words,N.length,ie,j),this.convert13b(V.words,V.length,ee,j),this.transform(ie,Y,re,ne,j,H),this.transform(ee,Y,Q,X,j,H);for(var ce=0;ce<j;ce++){var le=re[ce]*Q[ce]-ne[ce]*X[ce];ne[ce]=re[ce]*X[ce]+ne[ce]*Q[ce],re[ce]=le}return this.conjugate(re,ne,j),this.transform(re,ne,se,Y,j,H),this.conjugate(se,Y,j),this.normalize13b(se,j),Z.negative=N.negative^V.negative,Z.length=N.length+V.length,Z.strip()},l.prototype.mul=function(N){var V=new l(null);return V.words=new Array(this.length+N.length),this.mulTo(N,V)},l.prototype.mulf=function(N){var V=new l(null);return V.words=new Array(this.length+N.length),A(this,N,V)},l.prototype.imul=function(N){return this.clone().mulTo(N,this)},l.prototype.imuln=function(N){i(typeof N=="number"),i(N<67108864);for(var V=0,Z=0;Z<this.length;Z++){var j=(0|this.words[Z])*N,H=(67108863&j)+(67108863&V);V>>=26,V+=j/67108864|0,V+=H>>>26,this.words[Z]=67108863&H}return V!==0&&(this.words[Z]=V,this.length++),this},l.prototype.muln=function(N){return this.clone().imuln(N)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(N){var V=function(Y){for(var ie=new Array(Y.bitLength()),re=0;re<ie.length;re++){var ne=re/26|0,ee=re%26;ie[re]=(Y.words[ne]&1<<ee)>>>ee}return ie}(N);if(V.length===0)return new l(1);for(var Z=this,j=0;j<V.length&&V[j]===0;j++,Z=Z.sqr());if(++j<V.length)for(var H=Z.sqr();j<V.length;j++,H=H.sqr())V[j]!==0&&(Z=Z.mul(H));return Z},l.prototype.iushln=function(N){i(typeof N=="number"&&N>=0);var V,Z=N%26,j=(N-Z)/26,H=67108863>>>26-Z<<26-Z;if(Z!==0){var Y=0;for(V=0;V<this.length;V++){var ie=this.words[V]&H,re=(0|this.words[V])-ie<<Z;this.words[V]=re|Y,Y=ie>>>26-Z}Y&&(this.words[V]=Y,this.length++)}if(j!==0){for(V=this.length-1;V>=0;V--)this.words[V+j]=this.words[V];for(V=0;V<j;V++)this.words[V]=0;this.length+=j}return this.strip()},l.prototype.ishln=function(N){return i(this.negative===0),this.iushln(N)},l.prototype.iushrn=function(N,V,Z){var j;i(typeof N=="number"&&N>=0),j=V?(V-V%26)/26:0;var H=N%26,Y=Math.min((N-H)/26,this.length),ie=67108863^67108863>>>H<<H,re=Z;if(j-=Y,j=Math.max(0,j),re){for(var ne=0;ne<Y;ne++)re.words[ne]=this.words[ne];re.length=Y}if(Y!==0)if(this.length>Y)for(this.length-=Y,ne=0;ne<this.length;ne++)this.words[ne]=this.words[ne+Y];else this.words[0]=0,this.length=1;var ee=0;for(ne=this.length-1;ne>=0&&(ee!==0||ne>=j);ne--){var Q=0|this.words[ne];this.words[ne]=ee<<26-H|Q>>>H,ee=Q&ie}return re&&ee!==0&&(re.words[re.length++]=ee),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(N,V,Z){return i(this.negative===0),this.iushrn(N,V,Z)},l.prototype.shln=function(N){return this.clone().ishln(N)},l.prototype.ushln=function(N){return this.clone().iushln(N)},l.prototype.shrn=function(N){return this.clone().ishrn(N)},l.prototype.ushrn=function(N){return this.clone().iushrn(N)},l.prototype.testn=function(N){i(typeof N=="number"&&N>=0);var V=N%26,Z=(N-V)/26,j=1<<V;return!(this.length<=Z||!(this.words[Z]&j))},l.prototype.imaskn=function(N){i(typeof N=="number"&&N>=0);var V=N%26,Z=(N-V)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(V!==0&&Z++,this.length=Math.min(Z,this.length),V!==0){var j=67108863^67108863>>>V<<V;this.words[this.length-1]&=j}return this.strip()},l.prototype.maskn=function(N){return this.clone().imaskn(N)},l.prototype.iaddn=function(N){return i(typeof N=="number"),i(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},l.prototype._iaddn=function(N){this.words[0]+=N;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},l.prototype.isubn=function(N){if(i(typeof N=="number"),i(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},l.prototype.addn=function(N){return this.clone().iaddn(N)},l.prototype.subn=function(N){return this.clone().isubn(N)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(N,V,Z){var j,H,Y=N.length+Z;this._expand(Y);var ie=0;for(j=0;j<N.length;j++){H=(0|this.words[j+Z])+ie;var re=(0|N.words[j])*V;ie=((H-=67108863&re)>>26)-(re/67108864|0),this.words[j+Z]=67108863&H}for(;j<this.length-Z;j++)ie=(H=(0|this.words[j+Z])+ie)>>26,this.words[j+Z]=67108863&H;if(ie===0)return this.strip();for(i(ie===-1),ie=0,j=0;j<this.length;j++)ie=(H=-(0|this.words[j])+ie)>>26,this.words[j]=67108863&H;return this.negative=1,this.strip()},l.prototype._wordDiv=function(N,V){var Z=(this.length,N.length),j=this.clone(),H=N,Y=0|H.words[H.length-1];(Z=26-this._countBits(Y))!=0&&(H=H.ushln(Z),j.iushln(Z),Y=0|H.words[H.length-1]);var ie,re=j.length-H.length;if(V!=="mod"){(ie=new l(null)).length=re+1,ie.words=new Array(ie.length);for(var ne=0;ne<ie.length;ne++)ie.words[ne]=0}var ee=j.clone()._ishlnsubmul(H,1,re);ee.negative===0&&(j=ee,ie&&(ie.words[re]=1));for(var Q=re-1;Q>=0;Q--){var X=67108864*(0|j.words[H.length+Q])+(0|j.words[H.length+Q-1]);for(X=Math.min(X/Y|0,67108863),j._ishlnsubmul(H,X,Q);j.negative!==0;)X--,j.negative=0,j._ishlnsubmul(H,1,Q),j.isZero()||(j.negative^=1);ie&&(ie.words[Q]=X)}return ie&&ie.strip(),j.strip(),V!=="div"&&Z!==0&&j.iushrn(Z),{div:ie||null,mod:j}},l.prototype.divmod=function(N,V,Z){return i(!N.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&N.negative===0?(Y=this.neg().divmod(N,V),V!=="mod"&&(j=Y.div.neg()),V!=="div"&&(H=Y.mod.neg(),Z&&H.negative!==0&&H.iadd(N)),{div:j,mod:H}):this.negative===0&&N.negative!==0?(Y=this.divmod(N.neg(),V),V!=="mod"&&(j=Y.div.neg()),{div:j,mod:Y.mod}):this.negative&N.negative?(Y=this.neg().divmod(N.neg(),V),V!=="div"&&(H=Y.mod.neg(),Z&&H.negative!==0&&H.isub(N)),{div:Y.div,mod:H}):N.length>this.length||this.cmp(N)<0?{div:new l(0),mod:this}:N.length===1?V==="div"?{div:this.divn(N.words[0]),mod:null}:V==="mod"?{div:null,mod:new l(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new l(this.modn(N.words[0]))}:this._wordDiv(N,V);var j,H,Y},l.prototype.div=function(N){return this.divmod(N,"div",!1).div},l.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},l.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},l.prototype.divRound=function(N){var V=this.divmod(N);if(V.mod.isZero())return V.div;var Z=V.div.negative!==0?V.mod.isub(N):V.mod,j=N.ushrn(1),H=N.andln(1),Y=Z.cmp(j);return Y<0||H===1&&Y===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},l.prototype.modn=function(N){i(N<=67108863);for(var V=67108864%N,Z=0,j=this.length-1;j>=0;j--)Z=(V*Z+(0|this.words[j]))%N;return Z},l.prototype.idivn=function(N){i(N<=67108863);for(var V=0,Z=this.length-1;Z>=0;Z--){var j=(0|this.words[Z])+67108864*V;this.words[Z]=j/N|0,V=j%N}return this.strip()},l.prototype.divn=function(N){return this.clone().idivn(N)},l.prototype.egcd=function(N){i(N.negative===0),i(!N.isZero());var V=this,Z=N.clone();V=V.negative!==0?V.umod(N):V.clone();for(var j=new l(1),H=new l(0),Y=new l(0),ie=new l(1),re=0;V.isEven()&&Z.isEven();)V.iushrn(1),Z.iushrn(1),++re;for(var ne=Z.clone(),ee=V.clone();!V.isZero();){for(var Q=0,X=1;!(V.words[0]&X)&&Q<26;++Q,X<<=1);if(Q>0)for(V.iushrn(Q);Q-- >0;)(j.isOdd()||H.isOdd())&&(j.iadd(ne),H.isub(ee)),j.iushrn(1),H.iushrn(1);for(var se=0,ce=1;!(Z.words[0]&ce)&&se<26;++se,ce<<=1);if(se>0)for(Z.iushrn(se);se-- >0;)(Y.isOdd()||ie.isOdd())&&(Y.iadd(ne),ie.isub(ee)),Y.iushrn(1),ie.iushrn(1);V.cmp(Z)>=0?(V.isub(Z),j.isub(Y),H.isub(ie)):(Z.isub(V),Y.isub(j),ie.isub(H))}return{a:Y,b:ie,gcd:Z.iushln(re)}},l.prototype._invmp=function(N){i(N.negative===0),i(!N.isZero());var V=this,Z=N.clone();V=V.negative!==0?V.umod(N):V.clone();for(var j,H=new l(1),Y=new l(0),ie=Z.clone();V.cmpn(1)>0&&Z.cmpn(1)>0;){for(var re=0,ne=1;!(V.words[0]&ne)&&re<26;++re,ne<<=1);if(re>0)for(V.iushrn(re);re-- >0;)H.isOdd()&&H.iadd(ie),H.iushrn(1);for(var ee=0,Q=1;!(Z.words[0]&Q)&&ee<26;++ee,Q<<=1);if(ee>0)for(Z.iushrn(ee);ee-- >0;)Y.isOdd()&&Y.iadd(ie),Y.iushrn(1);V.cmp(Z)>=0?(V.isub(Z),H.isub(Y)):(Z.isub(V),Y.isub(H))}return(j=V.cmpn(1)===0?H:Y).cmpn(0)<0&&j.iadd(N),j},l.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var V=this.clone(),Z=N.clone();V.negative=0,Z.negative=0;for(var j=0;V.isEven()&&Z.isEven();j++)V.iushrn(1),Z.iushrn(1);for(;;){for(;V.isEven();)V.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var H=V.cmp(Z);if(H<0){var Y=V;V=Z,Z=Y}else if(H===0||Z.cmpn(1)===0)break;V.isub(Z)}return Z.iushln(j)},l.prototype.invm=function(N){return this.egcd(N).a.umod(N)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(N){return this.words[0]&N},l.prototype.bincn=function(N){i(typeof N=="number");var V=N%26,Z=(N-V)/26,j=1<<V;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=j,this;for(var H=j,Y=Z;H!==0&&Y<this.length;Y++){var ie=0|this.words[Y];H=(ie+=H)>>>26,ie&=67108863,this.words[Y]=ie}return H!==0&&(this.words[Y]=H,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(N){var V,Z=N<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;if(this.strip(),this.length>1)V=1;else{Z&&(N=-N),i(N<=67108863,"Number is too big");var j=0|this.words[0];V=j===N?0:j<N?-1:1}return this.negative!==0?0|-V:V},l.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var V=this.ucmp(N);return this.negative!==0?0|-V:V},l.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var V=0,Z=this.length-1;Z>=0;Z--){var j=0|this.words[Z],H=0|N.words[Z];if(j!==H){j<H?V=-1:j>H&&(V=1);break}}return V},l.prototype.gtn=function(N){return this.cmpn(N)===1},l.prototype.gt=function(N){return this.cmp(N)===1},l.prototype.gten=function(N){return this.cmpn(N)>=0},l.prototype.gte=function(N){return this.cmp(N)>=0},l.prototype.ltn=function(N){return this.cmpn(N)===-1},l.prototype.lt=function(N){return this.cmp(N)===-1},l.prototype.lten=function(N){return this.cmpn(N)<=0},l.prototype.lte=function(N){return this.cmp(N)<=0},l.prototype.eqn=function(N){return this.cmpn(N)===0},l.prototype.eq=function(N){return this.cmp(N)===0},l.red=function(N){return new z(N)},l.prototype.toRed=function(N){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},l.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(N){return this.red=N,this},l.prototype.forceRed=function(N){return i(!this.red,"Already a number in reduction context"),this._forceRed(N)},l.prototype.redAdd=function(N){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},l.prototype.redIAdd=function(N){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},l.prototype.redSub=function(N){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},l.prototype.redISub=function(N){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},l.prototype.redShl=function(N){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},l.prototype.redMul=function(N){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},l.prototype.redIMul=function(N){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},l.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(N){return i(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var C={k256:null,p224:null,p192:null,p25519:null};function k(N,V){this.name=N,this.p=new l(V,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(N){if(typeof N=="string"){var V=l._prime(N);this.m=V.p,this.prime=V}else i(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function q(N){z.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var N=new l(null);return N.words=new Array(Math.ceil(this.n/13)),N},k.prototype.ireduce=function(N){var V,Z=N;do this.split(Z,this.tmp),V=(Z=(Z=this.imulK(Z)).iadd(this.tmp)).bitLength();while(V>this.n);var j=V<this.n?-1:Z.ucmp(this.p);return j===0?(Z.words[0]=0,Z.length=1):j>0?Z.isub(this.p):Z.strip!==void 0?Z.strip():Z._strip(),Z},k.prototype.split=function(N,V){N.iushrn(this.n,0,V)},k.prototype.imulK=function(N){return N.imul(this.k)},a(D,k),D.prototype.split=function(N,V){for(var Z=4194303,j=Math.min(N.length,9),H=0;H<j;H++)V.words[H]=N.words[H];if(V.length=j,N.length<=9)return N.words[0]=0,void(N.length=1);var Y=N.words[9];for(V.words[V.length++]=Y&Z,H=10;H<N.length;H++){var ie=0|N.words[H];N.words[H-10]=(ie&Z)<<4|Y>>>22,Y=ie}Y>>>=22,N.words[H-10]=Y,Y===0&&N.length>10?N.length-=10:N.length-=9},D.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var V=0,Z=0;Z<N.length;Z++){var j=0|N.words[Z];V+=977*j,N.words[Z]=67108863&V,V=64*j+(V/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},a(O,k),a(L,k),a(R,k),R.prototype.imulK=function(N){for(var V=0,Z=0;Z<N.length;Z++){var j=19*(0|N.words[Z])+V,H=67108863&j;j>>>=26,N.words[Z]=H,V=j}return V!==0&&(N.words[N.length++]=V),N},l._prime=function(N){if(C[N])return C[N];var V;if(N==="k256")V=new D;else if(N==="p224")V=new O;else if(N==="p192")V=new L;else{if(N!=="p25519")throw new Error("Unknown prime "+N);V=new R}return C[N]=V,V},z.prototype._verify1=function(N){i(N.negative===0,"red works only with positives"),i(N.red,"red works only with red numbers")},z.prototype._verify2=function(N,V){i((N.negative|V.negative)==0,"red works only with positives"),i(N.red&&N.red===V.red,"red works only with red numbers")},z.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},z.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},z.prototype.add=function(N,V){this._verify2(N,V);var Z=N.add(V);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z._forceRed(this)},z.prototype.iadd=function(N,V){this._verify2(N,V);var Z=N.iadd(V);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z},z.prototype.sub=function(N,V){this._verify2(N,V);var Z=N.sub(V);return Z.cmpn(0)<0&&Z.iadd(this.m),Z._forceRed(this)},z.prototype.isub=function(N,V){this._verify2(N,V);var Z=N.isub(V);return Z.cmpn(0)<0&&Z.iadd(this.m),Z},z.prototype.shl=function(N,V){return this._verify1(N),this.imod(N.ushln(V))},z.prototype.imul=function(N,V){return this._verify2(N,V),this.imod(N.imul(V))},z.prototype.mul=function(N,V){return this._verify2(N,V),this.imod(N.mul(V))},z.prototype.isqr=function(N){return this.imul(N,N.clone())},z.prototype.sqr=function(N){return this.mul(N,N)},z.prototype.sqrt=function(N){if(N.isZero())return N.clone();var V=this.m.andln(3);if(i(V%2==1),V===3){var Z=this.m.add(new l(1)).iushrn(2);return this.pow(N,Z)}for(var j=this.m.subn(1),H=0;!j.isZero()&&j.andln(1)===0;)H++,j.iushrn(1);i(!j.isZero());var Y=new l(1).toRed(this),ie=Y.redNeg(),re=this.m.subn(1).iushrn(1),ne=this.m.bitLength();for(ne=new l(2*ne*ne).toRed(this);this.pow(ne,re).cmp(ie)!==0;)ne.redIAdd(ie);for(var ee=this.pow(ne,j),Q=this.pow(N,j.addn(1).iushrn(1)),X=this.pow(N,j),se=H;X.cmp(Y)!==0;){for(var ce=X,le=0;ce.cmp(Y)!==0;le++)ce=ce.redSqr();i(le<se);var de=this.pow(ee,new l(1).iushln(se-le-1));Q=Q.redMul(de),ee=de.redSqr(),X=X.redMul(ee),se=le}return Q},z.prototype.invm=function(N){var V=N._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},z.prototype.pow=function(N,V){if(V.isZero())return new l(1).toRed(this);if(V.cmpn(1)===0)return N.clone();var Z=new Array(16);Z[0]=new l(1).toRed(this),Z[1]=N;for(var j=2;j<Z.length;j++)Z[j]=this.mul(Z[j-1],N);var H=Z[0],Y=0,ie=0,re=V.bitLength()%26;for(re===0&&(re=26),j=V.length-1;j>=0;j--){for(var ne=V.words[j],ee=re-1;ee>=0;ee--){var Q=ne>>ee&1;H!==Z[0]&&(H=this.sqr(H)),Q!==0||Y!==0?(Y<<=1,Y|=Q,(++ie==4||j===0&&ee===0)&&(H=this.mul(H,Z[Y]),ie=0,Y=0)):ie=0}re=26}return H},z.prototype.convertTo=function(N){var V=N.umod(this.m);return V===N?V.clone():V},z.prototype.convertFrom=function(N){var V=N.clone();return V.red=null,V},l.mont=function(N){return new q(N)},a(q,z),q.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},q.prototype.convertFrom=function(N){var V=this.imod(N.mul(this.rinv));return V.red=null,V},q.prototype.imul=function(N,V){if(N.isZero()||V.isZero())return N.words[0]=0,N.length=1,N;var Z=N.imul(V),j=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=Z.isub(j).iushrn(this.shift),Y=H;return H.cmp(this.m)>=0?Y=H.isub(this.m):H.cmpn(0)<0&&(Y=H.iadd(this.m)),Y._forceRed(this)},q.prototype.mul=function(N,V){if(N.isZero()||V.isZero())return new l(0)._forceRed(this);var Z=N.mul(V),j=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),H=Z.isub(j).iushrn(this.shift),Y=H;return H.cmp(this.m)>=0?Y=H.isub(this.m):H.cmpn(0)<0&&(Y=H.iadd(this.m)),Y._forceRed(this)},q.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(f=t.nmd(f),this)},6204:function(f){"use strict";f.exports=function(s){var t,o,r,i=s.length,a=0;for(t=0;t<i;++t)a+=s[t].length;var l=new Array(a),u=0;for(t=0;t<i;++t){var h=s[t],c=h.length;for(o=0;o<c;++o){var w=l[u++]=new Array(c-1),g=0;for(r=0;r<c;++r)r!==o&&(w[g++]=h[r]);if(1&o){var v=w[1];w[1]=w[0],w[0]=v}}}return l}},6867:function(f,s,t){"use strict";f.exports=function(w,g,v){switch(arguments.length){case 1:return o=[],h(m=w,m,c,!0),o;case 2:return typeof g=="function"?h(w,w,g,!0):function(T,_){return o=[],h(T,_,c,!1),o}(w,g);case 3:return h(w,g,v,!1);default:throw new Error("box-intersect: Invalid arguments")}var m};var o,r=t(1888),i=t(855),a=t(7150);function l(w,g){for(var v=0;v<w;++v)if(!(g[v]<=g[v+w]))return!0;return!1}function u(w,g,v,m){for(var T=0,_=0,A=0,d=w.length;A<d;++A){var C=w[A];if(!l(g,C)){for(var k=0;k<2*g;++k)v[T++]=C[k];m[_++]=A}}return _}function h(w,g,v,m){var T=w.length,_=g.length;if(!(T<=0||_<=0)){var A=w[0].length>>>1;if(!(A<=0)){var d,C=r.mallocDouble(2*A*T),k=r.mallocInt32(T);if((T=u(w,A,C,k))>0){if(A===1&&m)i.init(T),d=i.sweepComplete(A,v,0,T,C,k,0,T,C,k);else{var D=r.mallocDouble(2*A*_),O=r.mallocInt32(_);(_=u(g,A,D,O))>0&&(i.init(T+_),d=A===1?i.sweepBipartite(A,v,0,T,C,k,0,_,D,O):a(A,v,m,T,C,k,_,D,O),r.free(D),r.free(O))}r.free(C),r.free(k)}return d}}}function c(w,g){o.push([w,g])}},2455:function(f,s){"use strict";function t(o){return o?function(r,i,a,l,u,h,c,w,g,v,m){return u-l>g-w?function(T,_,A,d,C,k,D,O,L,R,z){for(var q=2*T,N=d,V=q*d;N<C;++N,V+=q){var Z=k[_+V],j=k[_+V+T],H=D[N];e:for(var Y=O,ie=q*O;Y<L;++Y,ie+=q){var re=R[_+ie],ne=R[_+ie+T],ee=z[Y];if(!(ne<Z||j<re)){for(var Q=_+1;Q<T;++Q){var X=k[Q+V],se=k[Q+T+V],ce=R[Q+ie],le=R[Q+T+ie];if(se<ce||le<X)continue e}var de=A(H,ee);if(de!==void 0)return de}}}}(r,i,a,l,u,h,c,w,g,v,m):function(T,_,A,d,C,k,D,O,L,R,z){for(var q=2*T,N=O,V=q*O;N<L;++N,V+=q){var Z=R[_+V],j=R[_+V+T],H=z[N];e:for(var Y=d,ie=q*d;Y<C;++Y,ie+=q){var re=k[_+ie],ne=k[_+ie+T],ee=D[Y];if(!(j<re||ne<Z)){for(var Q=_+1;Q<T;++Q){var X=k[Q+ie],se=k[Q+T+ie],ce=R[Q+V],le=R[Q+T+V];if(se<ce||le<X)continue e}var de=A(ee,H);if(de!==void 0)return de}}}}(r,i,a,l,u,h,c,w,g,v,m)}:function(r,i,a,l,u,h,c,w,g,v,m,T){return h-u>v-g?l?function(_,A,d,C,k,D,O,L,R,z,q){for(var N=2*_,V=C,Z=N*C;V<k;++V,Z+=N){var j=D[A+Z],H=D[A+Z+_],Y=O[V];e:for(var ie=L,re=N*L;ie<R;++ie,re+=N){var ne=z[A+re],ee=q[ie];if(!(ne<=j||H<ne)){for(var Q=A+1;Q<_;++Q){var X=D[Q+Z],se=D[Q+_+Z],ce=z[Q+re],le=z[Q+_+re];if(se<ce||le<X)continue e}var de=d(ee,Y);if(de!==void 0)return de}}}}(r,i,a,u,h,c,w,g,v,m,T):function(_,A,d,C,k,D,O,L,R,z,q){for(var N=2*_,V=C,Z=N*C;V<k;++V,Z+=N){var j=D[A+Z],H=D[A+Z+_],Y=O[V];e:for(var ie=L,re=N*L;ie<R;++ie,re+=N){var ne=z[A+re],ee=q[ie];if(!(ne<j||H<ne)){for(var Q=A+1;Q<_;++Q){var X=D[Q+Z],se=D[Q+_+Z],ce=z[Q+re],le=z[Q+_+re];if(se<ce||le<X)continue e}var de=d(Y,ee);if(de!==void 0)return de}}}}(r,i,a,u,h,c,w,g,v,m,T):l?function(_,A,d,C,k,D,O,L,R,z,q){for(var N=2*_,V=L,Z=N*L;V<R;++V,Z+=N){var j=z[A+Z],H=q[V];e:for(var Y=C,ie=N*C;Y<k;++Y,ie+=N){var re=D[A+ie],ne=D[A+ie+_],ee=O[Y];if(!(j<=re||ne<j)){for(var Q=A+1;Q<_;++Q){var X=D[Q+ie],se=D[Q+_+ie],ce=z[Q+Z],le=z[Q+_+Z];if(se<ce||le<X)continue e}var de=d(H,ee);if(de!==void 0)return de}}}}(r,i,a,u,h,c,w,g,v,m,T):function(_,A,d,C,k,D,O,L,R,z,q){for(var N=2*_,V=L,Z=N*L;V<R;++V,Z+=N){var j=z[A+Z],H=q[V];e:for(var Y=C,ie=N*C;Y<k;++Y,ie+=N){var re=D[A+ie],ne=D[A+ie+_],ee=O[Y];if(!(j<re||ne<j)){for(var Q=A+1;Q<_;++Q){var X=D[Q+ie],se=D[Q+_+ie],ce=z[Q+Z],le=z[Q+_+Z];if(se<ce||le<X)continue e}var de=d(ee,H);if(de!==void 0)return de}}}}(r,i,a,u,h,c,w,g,v,m,T)}}s.partial=t(!1),s.full=t(!0)},7150:function(f,s,t){"use strict";f.exports=function(N,V,Z,j,H,Y,ie,re,ne){(function(Fe,Le){var Ue=8*r.log2(Le+1)*(Fe+1)|0,Ge=r.nextPow2(k*Ue);O.length<Ge&&(o.free(O),O=o.mallocInt32(Ge));var Ke=r.nextPow2(D*Ue);L.length<Ke&&(o.free(L),L=o.mallocDouble(Ke))})(N,j+ie);var ee,Q=0,X=2*N;for(R(Q++,0,0,j,0,ie,Z?16:0,-1/0,1/0),Z||R(Q++,0,0,ie,0,j,1,-1/0,1/0);Q>0;){var se=(Q-=1)*k,ce=O[se],le=O[se+1],de=O[se+2],be=O[se+3],_e=O[se+4],ve=O[se+5],me=Q*D,ye=L[me],Se=L[me+1],Ie=1&ve,xe=!!(16&ve),ue=H,ae=Y,pe=re,De=ne;if(Ie&&(ue=re,ae=ne,pe=H,De=Y),!(2&ve&&le>=(de=_(N,ce,le,de,ue,ae,Se))||4&ve&&(le=A(N,ce,le,de,ue,ae,ye))>=de)){var Te=de-le,Ae=_e-be;if(xe){if(N*Te*(Te+Ae)<v){if((ee=u.scanComplete(N,ce,V,le,de,ue,ae,be,_e,pe,De))!==void 0)return ee;continue}}else{if(N*Math.min(Te,Ae)<w){if((ee=a(N,ce,V,Ie,le,de,ue,ae,be,_e,pe,De))!==void 0)return ee;continue}if(N*Te*Ae<g){if((ee=u.scanBipartite(N,ce,V,Ie,le,de,ue,ae,be,_e,pe,De))!==void 0)return ee;continue}}var Ce=m(N,ce,le,de,ue,ae,ye,Se);if(le<Ce)if(N*(Ce-le)<w){if((ee=l(N,ce+1,V,le,Ce,ue,ae,be,_e,pe,De))!==void 0)return ee}else if(ce===N-2){if((ee=Ie?u.sweepBipartite(N,V,be,_e,pe,De,le,Ce,ue,ae):u.sweepBipartite(N,V,le,Ce,ue,ae,be,_e,pe,De))!==void 0)return ee}else R(Q++,ce+1,le,Ce,be,_e,Ie,-1/0,1/0),R(Q++,ce+1,be,_e,le,Ce,1^Ie,-1/0,1/0);if(Ce<de){var Re=h(N,ce,be,_e,pe,De),Ne=pe[X*Re+ce],ge=T(N,ce,Re,_e,pe,De,Ne);if(ge<_e&&R(Q++,ce,Ce,de,ge,_e,(4|Ie)+(xe?16:0),Ne,Se),be<Re&&R(Q++,ce,Ce,de,be,Re,(2|Ie)+(xe?16:0),ye,Ne),Re+1===ge){if((ee=xe?q(N,ce,V,Ce,de,ue,ae,Re,pe,De[Re]):z(N,ce,V,Ie,Ce,de,ue,ae,Re,pe,De[Re]))!==void 0)return ee}else if(Re<ge){var Me;if(xe){if(Ce<(Me=d(N,ce,Ce,de,ue,ae,Ne))){var Ee=T(N,ce,Ce,Me,ue,ae,Ne);if(ce===N-2){if(Ce<Ee&&(ee=u.sweepComplete(N,V,Ce,Ee,ue,ae,Re,ge,pe,De))!==void 0||Ee<Me&&(ee=u.sweepBipartite(N,V,Ee,Me,ue,ae,Re,ge,pe,De))!==void 0)return ee}else Ce<Ee&&R(Q++,ce+1,Ce,Ee,Re,ge,16,-1/0,1/0),Ee<Me&&(R(Q++,ce+1,Ee,Me,Re,ge,0,-1/0,1/0),R(Q++,ce+1,Re,ge,Ee,Me,1,-1/0,1/0))}}else Ce<(Me=Ie?C(N,ce,Ce,de,ue,ae,Ne):d(N,ce,Ce,de,ue,ae,Ne))&&(ce===N-2?ee=Ie?u.sweepBipartite(N,V,Re,ge,pe,De,Ce,Me,ue,ae):u.sweepBipartite(N,V,Ce,Me,ue,ae,Re,ge,pe,De):(R(Q++,ce+1,Ce,Me,Re,ge,Ie,-1/0,1/0),R(Q++,ce+1,Re,ge,Ce,Me,1^Ie,-1/0,1/0)))}}}}};var o=t(1888),r=t(8828),i=t(2455),a=i.partial,l=i.full,u=t(855),h=t(3545),c=t(8105),w=128,g=1<<22,v=1<<22,m=c("!(lo>=p0)&&!(p1>=hi)"),T=c("lo===p0"),_=c("lo<p0"),A=c("hi<=p0"),d=c("lo<=p0&&p0<=hi"),C=c("lo<p0&&p0<=hi"),k=6,D=2,O=o.mallocInt32(1024),L=o.mallocDouble(1024);function R(N,V,Z,j,H,Y,ie,re,ne){var ee=k*N;O[ee]=V,O[ee+1]=Z,O[ee+2]=j,O[ee+3]=H,O[ee+4]=Y,O[ee+5]=ie;var Q=D*N;L[Q]=re,L[Q+1]=ne}function z(N,V,Z,j,H,Y,ie,re,ne,ee,Q){var X=2*N,se=ne*X,ce=ee[se+V];e:for(var le=H,de=H*X;le<Y;++le,de+=X){var be=ie[de+V],_e=ie[de+V+N];if(!(ce<be||_e<ce||j&&ce===be)){for(var ve,me=re[le],ye=V+1;ye<N;++ye){be=ie[de+ye],_e=ie[de+ye+N];var Se=ee[se+ye],Ie=ee[se+ye+N];if(_e<Se||Ie<be)continue e}if((ve=j?Z(Q,me):Z(me,Q))!==void 0)return ve}}}function q(N,V,Z,j,H,Y,ie,re,ne,ee){var Q=2*N,X=re*Q,se=ne[X+V];e:for(var ce=j,le=j*Q;ce<H;++ce,le+=Q){var de=ie[ce];if(de!==ee){var be=Y[le+V],_e=Y[le+V+N];if(!(se<be||_e<se)){for(var ve=V+1;ve<N;++ve){be=Y[le+ve],_e=Y[le+ve+N];var me=ne[X+ve],ye=ne[X+ve+N];if(_e<me||ye<be)continue e}var Se=Z(de,ee);if(Se!==void 0)return Se}}}}},3545:function(f,s,t){"use strict";f.exports=function(a,l,u,h,c,w){if(h<=u+1)return u;for(var g=u,v=h,m=h+u>>>1,T=2*a,_=m,A=c[T*m+l];g<v;){if(v-g<r){i(a,l,g,v,c,w),A=c[T*m+l];break}var d=v-g,C=Math.random()*d+g|0,k=c[T*C+l],D=Math.random()*d+g|0,O=c[T*D+l],L=Math.random()*d+g|0,R=c[T*L+l];k<=O?R>=O?(_=D,A=O):k>=R?(_=C,A=k):(_=L,A=R):O>=R?(_=D,A=O):R>=k?(_=C,A=k):(_=L,A=R);for(var z=T*(v-1),q=T*_,N=0;N<T;++N,++z,++q){var V=c[z];c[z]=c[q],c[q]=V}var Z=w[v-1];for(w[v-1]=w[_],w[_]=Z,z=T*(v-1),q=T*(_=o(a,l,g,v-1,c,w,A)),N=0;N<T;++N,++z,++q)V=c[z],c[z]=c[q],c[q]=V;if(Z=w[v-1],w[v-1]=w[_],w[_]=Z,m<_){for(v=_-1;g<v&&c[T*(v-1)+l]===A;)v-=1;v+=1}else{if(!(_<m))break;for(g=_+1;g<v&&c[T*g+l]===A;)g+=1}}return o(a,l,u,m,c,w,c[T*m+l])};var o=t(8105)("lo<p0"),r=8;function i(a,l,u,h,c,w){for(var g=2*a,v=g*(u+1)+l,m=u+1;m<h;++m,v+=g)for(var T=c[v],_=m,A=g*(m-1);_>u&&c[A+l]>T;--_,A-=g){for(var d=A,C=A+g,k=0;k<g;++k,++d,++C){var D=c[d];c[d]=c[C],c[C]=D}var O=w[_];w[_]=w[_-1],w[_-1]=O}}},8105:function(f){"use strict";f.exports=function(t){return s[t]};var s={"lo===p0":function(t,o,r,i,a,l,u){for(var h=2*t,c=h*r,w=c,g=r,v=o,m=r;i>m;++m,c+=h)if(a[c+v]===u)if(g===m)g+=1,w+=h;else{for(var T=0;h>T;++T){var _=a[c+T];a[c+T]=a[w],a[w++]=_}var A=l[m];l[m]=l[g],l[g++]=A}return g},"lo<p0":function(t,o,r,i,a,l,u){for(var h=2*t,c=h*r,w=c,g=r,v=o,m=r;i>m;++m,c+=h)if(a[c+v]<u)if(g===m)g+=1,w+=h;else{for(var T=0;h>T;++T){var _=a[c+T];a[c+T]=a[w],a[w++]=_}var A=l[m];l[m]=l[g],l[g++]=A}return g},"lo<=p0":function(t,o,r,i,a,l,u){for(var h=2*t,c=h*r,w=c,g=r,v=t+o,m=r;i>m;++m,c+=h)if(a[c+v]<=u)if(g===m)g+=1,w+=h;else{for(var T=0;h>T;++T){var _=a[c+T];a[c+T]=a[w],a[w++]=_}var A=l[m];l[m]=l[g],l[g++]=A}return g},"hi<=p0":function(t,o,r,i,a,l,u){for(var h=2*t,c=h*r,w=c,g=r,v=t+o,m=r;i>m;++m,c+=h)if(a[c+v]<=u)if(g===m)g+=1,w+=h;else{for(var T=0;h>T;++T){var _=a[c+T];a[c+T]=a[w],a[w++]=_}var A=l[m];l[m]=l[g],l[g++]=A}return g},"lo<p0&&p0<=hi":function(t,o,r,i,a,l,u){for(var h=2*t,c=h*r,w=c,g=r,v=o,m=t+o,T=r;i>T;++T,c+=h){var _=a[c+v],A=a[c+m];if(_<u&&u<=A)if(g===T)g+=1,w+=h;else{for(var d=0;h>d;++d){var C=a[c+d];a[c+d]=a[w],a[w++]=C}var k=l[T];l[T]=l[g],l[g++]=k}}return g},"lo<=p0&&p0<=hi":function(t,o,r,i,a,l,u){for(var h=2*t,c=h*r,w=c,g=r,v=o,m=t+o,T=r;i>T;++T,c+=h){var _=a[c+v],A=a[c+m];if(_<=u&&u<=A)if(g===T)g+=1,w+=h;else{for(var d=0;h>d;++d){var C=a[c+d];a[c+d]=a[w],a[w++]=C}var k=l[T];l[T]=l[g],l[g++]=k}}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,o,r,i,a,l,u,h){for(var c=2*t,w=c*r,g=w,v=r,m=o,T=t+o,_=r;i>_;++_,w+=c){var A=a[w+m],d=a[w+T];if(!(A>=u||h>=d))if(v===_)v+=1,g+=c;else{for(var C=0;c>C;++C){var k=a[w+C];a[w+C]=a[g],a[g++]=k}var D=l[_];l[_]=l[v],l[v++]=D}}return v}}},1811:function(f){"use strict";f.exports=function(c,w){w<=4*s?t(0,w-1,c):h(0,w-1,c)};var s=32;function t(c,w,g){for(var v=2*(c+1),m=c+1;m<=w;++m){for(var T=g[v++],_=g[v++],A=m,d=v-2;A-- >c;){var C=g[d-2],k=g[d-1];if(C<T||C===T&&k<_)break;g[d]=C,g[d+1]=k,d-=2}g[d]=T,g[d+1]=_}}function o(c,w,g){w*=2;var v=g[c*=2],m=g[c+1];g[c]=g[w],g[c+1]=g[w+1],g[w]=v,g[w+1]=m}function r(c,w,g){w*=2,g[c*=2]=g[w],g[c+1]=g[w+1]}function i(c,w,g,v){w*=2,g*=2;var m=v[c*=2],T=v[c+1];v[c]=v[w],v[c+1]=v[w+1],v[w]=v[g],v[w+1]=v[g+1],v[g]=m,v[g+1]=T}function a(c,w,g,v,m){w*=2,m[c*=2]=m[w],m[w]=g,m[c+1]=m[w+1],m[w+1]=v}function l(c,w,g){w*=2;var v=g[c*=2],m=g[w];return!(v<m)&&(v!==m||g[c+1]>g[w+1])}function u(c,w,g,v){var m=v[c*=2];return m<w||m===w&&v[c+1]<g}function h(c,w,g){var v=(w-c+1)/6|0,m=c+v,T=w-v,_=c+w>>1,A=_-v,d=_+v,C=m,k=A,D=_,O=d,L=T,R=c+1,z=w-1,q=0;l(C,k,g)&&(q=C,C=k,k=q),l(O,L,g)&&(q=O,O=L,L=q),l(C,D,g)&&(q=C,C=D,D=q),l(k,D,g)&&(q=k,k=D,D=q),l(C,O,g)&&(q=C,C=O,O=q),l(D,O,g)&&(q=D,D=O,O=q),l(k,L,g)&&(q=k,k=L,L=q),l(k,D,g)&&(q=k,k=D,D=q),l(O,L,g)&&(q=O,O=L,L=q);for(var N=g[2*k],V=g[2*k+1],Z=g[2*O],j=g[2*O+1],H=2*C,Y=2*D,ie=2*L,re=2*m,ne=2*_,ee=2*T,Q=0;Q<2;++Q){var X=g[H+Q],se=g[Y+Q],ce=g[ie+Q];g[re+Q]=X,g[ne+Q]=se,g[ee+Q]=ce}r(A,c,g),r(d,w,g);for(var le=R;le<=z;++le)if(u(le,N,V,g))le!==R&&o(le,R,g),++R;else if(!u(le,Z,j,g))for(;;){if(u(z,Z,j,g)){u(z,N,V,g)?(i(le,R,z,g),++R,--z):(o(le,z,g),--z);break}if(--z<le)break}a(c,R-1,N,V,g),a(w,z+1,Z,j,g),R-2-c<=s?t(c,R-2,g):h(c,R-2,g),w-(z+2)<=s?t(z+2,w,g):h(z+2,w,g),z-R<=s?t(R,z,g):h(R,z,g)}},855:function(f,s,t){"use strict";f.exports={init:function(A){var d=r.nextPow2(A);u.length<d&&(o.free(u),u=o.mallocInt32(d)),h.length<d&&(o.free(h),h=o.mallocInt32(d)),c.length<d&&(o.free(c),c=o.mallocInt32(d)),w.length<d&&(o.free(w),w=o.mallocInt32(d)),g.length<d&&(o.free(g),g=o.mallocInt32(d)),v.length<d&&(o.free(v),v=o.mallocInt32(d));var C=8*d;m.length<C&&(o.free(m),m=o.mallocDouble(C))},sweepBipartite:function(A,d,C,k,D,O,L,R,z,q){for(var N=0,V=2*A,Z=A-1,j=V-1,H=C;H<k;++H){var Y=O[H],ie=V*H;m[N++]=D[ie+Z],m[N++]=-(Y+1),m[N++]=D[ie+j],m[N++]=Y}for(H=L;H<R;++H){Y=q[H]+a;var re=V*H;m[N++]=z[re+Z],m[N++]=-Y,m[N++]=z[re+j],m[N++]=Y}var ne=N>>>1;i(m,ne);var ee=0,Q=0;for(H=0;H<ne;++H){var X=0|m[2*H+1];if(X>=a)T(c,w,Q--,X=X-a|0);else if(X>=0)T(u,h,ee--,X);else if(X<=-a){X=-X-a|0;for(var se=0;se<ee;++se)if((ce=d(u[se],X))!==void 0)return ce;_(c,w,Q++,X)}else{for(X=-X-1|0,se=0;se<Q;++se){var ce;if((ce=d(X,c[se]))!==void 0)return ce}_(u,h,ee++,X)}}},sweepComplete:function(A,d,C,k,D,O,L,R,z,q){for(var N=0,V=2*A,Z=A-1,j=V-1,H=C;H<k;++H){var Y=O[H]+1<<1,ie=V*H;m[N++]=D[ie+Z],m[N++]=-Y,m[N++]=D[ie+j],m[N++]=Y}for(H=L;H<R;++H){Y=q[H]+1<<1;var re=V*H;m[N++]=z[re+Z],m[N++]=1|-Y,m[N++]=z[re+j],m[N++]=1|Y}var ne=N>>>1;i(m,ne);var ee=0,Q=0,X=0;for(H=0;H<ne;++H){var se=0|m[2*H+1],ce=1&se;if(H<ne-1&&se>>1==m[2*H+3]>>1&&(ce=2,H+=1),se<0){for(var le=-(se>>1)-1,de=0;de<X;++de)if((be=d(g[de],le))!==void 0)return be;if(ce!==0){for(de=0;de<ee;++de)if((be=d(u[de],le))!==void 0)return be}if(ce!==1)for(de=0;de<Q;++de){var be;if((be=d(c[de],le))!==void 0)return be}ce===0?_(u,h,ee++,le):ce===1?_(c,w,Q++,le):ce===2&&_(g,v,X++,le)}else le=(se>>1)-1,ce===0?T(u,h,ee--,le):ce===1?T(c,w,Q--,le):ce===2&&T(g,v,X--,le)}},scanBipartite:function(A,d,C,k,D,O,L,R,z,q,N,V){var Z=0,j=2*A,H=d,Y=d+A,ie=1,re=1;k?re=a:ie=a;for(var ne=D;ne<O;++ne){var ee=ne+ie,Q=j*ne;m[Z++]=L[Q+H],m[Z++]=-ee,m[Z++]=L[Q+Y],m[Z++]=ee}for(ne=z;ne<q;++ne){ee=ne+re;var X=j*ne;m[Z++]=N[X+H],m[Z++]=-ee}var se=Z>>>1;i(m,se);var ce=0;for(ne=0;ne<se;++ne){var le=0|m[2*ne+1];if(le<0){var de=!1;if((ee=-le)>=a?(de=!k,ee-=a):(de=!!k,ee-=1),de)_(u,h,ce++,ee);else{var be=V[ee],_e=j*ee,ve=N[_e+d+1],me=N[_e+d+1+A];e:for(var ye=0;ye<ce;++ye){var Se=u[ye],Ie=j*Se;if(!(me<L[Ie+d+1]||L[Ie+d+1+A]<ve)){for(var xe=d+2;xe<A;++xe)if(N[_e+xe+A]<L[Ie+xe]||L[Ie+xe+A]<N[_e+xe])continue e;var ue,ae=R[Se];if((ue=k?C(be,ae):C(ae,be))!==void 0)return ue}}}}else T(u,h,ce--,le-ie)}},scanComplete:function(A,d,C,k,D,O,L,R,z,q,N){for(var V=0,Z=2*A,j=d,H=d+A,Y=k;Y<D;++Y){var ie=Y+a,re=Z*Y;m[V++]=O[re+j],m[V++]=-ie,m[V++]=O[re+H],m[V++]=ie}for(Y=R;Y<z;++Y){ie=Y+1;var ne=Z*Y;m[V++]=q[ne+j],m[V++]=-ie}var ee=V>>>1;i(m,ee);var Q=0;for(Y=0;Y<ee;++Y){var X=0|m[2*Y+1];if(X<0)if((ie=-X)>=a)u[Q++]=ie-a;else{var se=N[ie-=1],ce=Z*ie,le=q[ce+d+1],de=q[ce+d+1+A];e:for(var be=0;be<Q;++be){var _e=u[be],ve=L[_e];if(ve===se)break;var me=Z*_e;if(!(de<O[me+d+1]||O[me+d+1+A]<le)){for(var ye=d+2;ye<A;++ye)if(q[ce+ye+A]<O[me+ye]||O[me+ye+A]<q[ce+ye])continue e;var Se=C(ve,se);if(Se!==void 0)return Se}}}else{for(ie=X-a,be=Q-1;be>=0;--be)if(u[be]===ie){for(ye=be+1;ye<Q;++ye)u[ye-1]=u[ye];break}--Q}}}};var o=t(1888),r=t(8828),i=t(1811),a=1<<28,l=1024,u=o.mallocInt32(l),h=o.mallocInt32(l),c=o.mallocInt32(l),w=o.mallocInt32(l),g=o.mallocInt32(l),v=o.mallocInt32(l),m=o.mallocDouble(8192);function T(A,d,C,k){var D=d[k],O=A[C-1];A[D]=O,d[O]=D}function _(A,d,C,k){A[C]=k,d[k]=C}},2538:function(f,s,t){"use strict";var o=t(8902),r=t(5542),i=t(2272),a=t(5023);function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,w){return c[0]-w[0]||c[1]-w[1]}function h(c,w,g){return w in c?c[w]:g}f.exports=function(c,w,g){Array.isArray(w)?(g=g||{},w=w||[]):(g=w||{},w=[]);var v=!!h(g,"delaunay",!0),m=!!h(g,"interior",!0),T=!!h(g,"exterior",!0),_=!!h(g,"infinity",!1);if(!m&&!T||c.length===0)return[];var A=o(c,w);if(v||m!==T||_){for(var d=r(c.length,function(D){return D.map(l).sort(u)}(w)),C=0;C<A.length;++C){var k=A[C];d.addTriangle(k[0],k[1],k[2])}return v&&i(c,d),T?m?_?a(d,0,_):d.cells():a(d,1,_):a(d,-1)}return A}},2272:function(f,s,t){"use strict";var o=t(2646)[4];function r(i,a,l,u,h,c){var w=a.opposite(u,h);if(!(w<0)){if(h<u){var g=u;u=h,h=g,g=c,c=w,w=g}a.isConstraint(u,h)||o(i[u],i[h],i[c],i[w])<0&&l.push(u,h)}}t(2478),f.exports=function(i,a){for(var l=[],u=i.length,h=a.stars,c=0;c<u;++c)for(var w=h[c],g=1;g<w.length;g+=2)if(!((_=w[g])<c||a.isConstraint(c,_))){for(var v=w[g-1],m=-1,T=1;T<w.length;T+=2)if(w[T-1]===_){m=w[T];break}m<0||o(i[c],i[_],i[v],i[m])<0&&l.push(c,_)}for(;l.length>0;){for(var _=l.pop(),A=(v=-1,m=-1,w=h[c=l.pop()],1);A<w.length;A+=2){var d=w[A-1],C=w[A];d===_?m=C:C===_&&(v=d)}v<0||m<0||o(i[c],i[_],i[v],i[m])>=0||(a.flip(c,_),r(i,a,l,v,c,m),r(i,a,l,c,m,v),r(i,a,l,m,_,v),r(i,a,l,_,v,m))}}},5023:function(f,s,t){"use strict";var o,r=t(2478);function i(l,u,h,c,w,g,v){this.cells=l,this.neighbor=u,this.flags=c,this.constraint=h,this.active=w,this.next=g,this.boundary=v}function a(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}f.exports=function(l,u,h){var c=function(L,R){for(var z=L.cells(),q=z.length,N=0;N<q;++N){var V=(X=z[N])[0],Z=X[1],j=X[2];Z<j?Z<V&&(X[0]=Z,X[1]=j,X[2]=V):j<V&&(X[0]=j,X[1]=V,X[2]=Z)}z.sort(a);var H=new Array(q);for(N=0;N<H.length;++N)H[N]=0;var Y=[],ie=[],re=new Array(3*q),ne=new Array(3*q),ee=null;R&&(ee=[]);var Q=new i(z,re,ne,H,Y,ie,ee);for(N=0;N<q;++N)for(var X=z[N],se=0;se<3;++se){V=X[se],Z=X[(se+1)%3];var ce=re[3*N+se]=Q.locate(Z,V,L.opposite(Z,V)),le=ne[3*N+se]=L.isConstraint(V,Z);ce<0&&(le?ie.push(N):(Y.push(N),H[N]=1),R&&ee.push([Z,V,-1]))}return Q}(l,h);if(u===0)return h?c.cells.concat(c.boundary):c.cells;for(var w=1,g=c.active,v=c.next,m=c.flags,T=c.cells,_=c.constraint,A=c.neighbor;g.length>0||v.length>0;){for(;g.length>0;){var d=g.pop();if(m[d]!==-w){m[d]=w,T[d];for(var C=0;C<3;++C){var k=A[3*d+C];k>=0&&m[k]===0&&(_[3*d+C]?v.push(k):(g.push(k),m[k]=w))}}}var D=v;v=g,g=D,v.length=0,w=-w}var O=function(L,R,z){for(var q=0,N=0;N<L.length;++N)R[N]===z&&(L[q++]=L[N]);return L.length=q,L}(T,m,u);return h?O.concat(c.boundary):O},i.prototype.locate=(o=[0,0,0],function(l,u,h){var c=l,w=u,g=h;return u<h?u<l&&(c=u,w=h,g=l):h<l&&(c=h,w=l,g=u),c<0?-1:(o[0]=c,o[1]=w,o[2]=g,r.eq(this.cells,o,a))})},8902:function(f,s,t){"use strict";var o=t(2478),r=t(3250)[3];function i(v,m,T,_,A){this.a=v,this.b=m,this.idx=T,this.lowerIds=_,this.upperIds=A}function a(v,m,T,_){this.a=v,this.b=m,this.type=T,this.idx=_}function l(v,m){var T=v.a[0]-m.a[0]||v.a[1]-m.a[1]||v.type-m.type;return T||(v.type!==0&&(T=r(v.a,v.b,m.b))?T:v.idx-m.idx)}function u(v,m){return r(v.a,v.b,m)}function h(v,m,T,_,A){for(var d=o.lt(m,_,u),C=o.gt(m,_,u),k=d;k<C;++k){for(var D=m[k],O=D.lowerIds,L=O.length;L>1&&r(T[O[L-2]],T[O[L-1]],_)>0;)v.push([O[L-1],O[L-2],A]),L-=1;O.length=L,O.push(A);var R=D.upperIds;for(L=R.length;L>1&&r(T[R[L-2]],T[R[L-1]],_)<0;)v.push([R[L-2],R[L-1],A]),L-=1;R.length=L,R.push(A)}}function c(v,m){var T;return(T=v.a[0]<m.a[0]?r(v.a,v.b,m.a):r(m.b,m.a,v.a))?T:(T=m.b[0]<v.b[0]?r(v.a,v.b,m.b):r(m.b,m.a,v.b))||v.idx-m.idx}function w(v,m,T){var _=o.le(v,T,c),A=v[_],d=A.upperIds,C=d[d.length-1];A.upperIds=[C],v.splice(_+1,0,new i(T.a,T.b,T.idx,[C],d))}function g(v,m,T){var _=T.a;T.a=T.b,T.b=_;var A=o.eq(v,T,c),d=v[A];v[A-1].upperIds=d.upperIds,v.splice(A,1)}f.exports=function(v,m){for(var T=v.length,_=m.length,A=[],d=0;d<T;++d)A.push(new a(v[d],null,0,d));for(d=0;d<_;++d){var C=m[d],k=v[C[0]],D=v[C[1]];k[0]<D[0]?A.push(new a(k,D,2,d),new a(D,k,1,d)):k[0]>D[0]&&A.push(new a(D,k,2,d),new a(k,D,1,d))}A.sort(l);for(var O=A[0].a[0]-(1+Math.abs(A[0].a[0]))*Math.pow(2,-52),L=[new i([O,1],[O,0],-1,[],[],[],[])],R=[],z=(d=0,A.length);d<z;++d){var q=A[d],N=q.type;N===0?h(R,L,v,q.a,q.idx):N===2?w(L,0,q):g(L,0,q)}return R}},5542:function(f,s,t){"use strict";var o=t(2478);function r(l,u){this.stars=l,this.edges=u}f.exports=function(l,u){for(var h=new Array(l),c=0;c<l;++c)h[c]=[];return new r(h,u)};var i=r.prototype;function a(l,u,h){for(var c=1,w=l.length;c<w;c+=2)if(l[c-1]===u&&l[c]===h)return l[c-1]=l[w-2],l[c]=l[w-1],void(l.length=w-2)}i.isConstraint=function(){var l=[0,0];function u(h,c){return h[0]-c[0]||h[1]-c[1]}return function(h,c){return l[0]=Math.min(h,c),l[1]=Math.max(h,c),o.eq(this.edges,l,u)>=0}}(),i.removeTriangle=function(l,u,h){var c=this.stars;a(c[l],u,h),a(c[u],h,l),a(c[h],l,u)},i.addTriangle=function(l,u,h){var c=this.stars;c[l].push(u,h),c[u].push(h,l),c[h].push(l,u)},i.opposite=function(l,u){for(var h=this.stars[u],c=1,w=h.length;c<w;c+=2)if(h[c]===l)return h[c-1];return-1},i.flip=function(l,u){var h=this.opposite(l,u),c=this.opposite(u,l);this.removeTriangle(l,u,h),this.removeTriangle(u,l,c),this.addTriangle(l,c,h),this.addTriangle(u,h,c)},i.edges=function(){for(var l=this.stars,u=[],h=0,c=l.length;h<c;++h)for(var w=l[h],g=0,v=w.length;g<v;g+=2)u.push([w[g],w[g+1]]);return u},i.cells=function(){for(var l=this.stars,u=[],h=0,c=l.length;h<c;++h)for(var w=l[h],g=0,v=w.length;g<v;g+=2){var m=w[g],T=w[g+1];h<Math.min(m,T)&&u.push([h,m,T])}return u}},2419:function(f){"use strict";f.exports=function(s){for(var t=1,o=1;o<s.length;++o)for(var r=0;r<o;++r)if(s[o]<s[r])t=-t;else if(s[r]===s[o])return 0;return t}},3628:function(f,s,t){"use strict";var o=t(1338),r=t(727);function i(u,h){for(var c=0,w=u.length,g=0;g<w;++g)c+=u[g]*h[g];return c}function a(u){var h=u.length;if(h===0)return[];u[0].length;var c=o([u.length+1,u.length+1],1),w=o([u.length+1],1);c[h][h]=0;for(var g=0;g<h;++g){for(var v=0;v<=g;++v)c[v][g]=c[g][v]=2*i(u[g],u[v]);w[g]=i(u[g],u[g])}var m=r(c,w),T=0,_=m[h+1];for(g=0;g<_.length;++g)T+=_[g];var A=new Array(h);for(g=0;g<h;++g){_=m[g];var d=0;for(v=0;v<_.length;++v)d+=_[v];A[g]=d/T}return A}function l(u){if(u.length===0)return[];for(var h=u[0].length,c=o([h]),w=a(u),g=0;g<u.length;++g)for(var v=0;v<h;++v)c[v]+=u[g][v]*w[g];return c}l.barycenetric=a,f.exports=l},6037:function(f,s,t){f.exports=function(r){for(var i=o(r),a=0,l=0;l<r.length;++l)for(var u=r[l],h=0;h<i.length;++h)a+=Math.pow(u[h]-i[h],2);return Math.sqrt(a/r.length)};var o=t(3628)},332:function(f,s,t){"use strict";f.exports=function(C,k,D){var O;if(D){O=k;for(var L=new Array(k.length),R=0;R<k.length;++R){var z=k[R];L[R]=[z[0],z[1],D[R]]}k=L}for(var q=function(N,V,Z){var j=m(N,[],v(N));return A(V,j,Z),!!j}(C,k,!!D);d(C,k,!!D);)q=!0;if(D&&q)for(O.length=0,D.length=0,R=0;R<k.length;++R)z=k[R],O.push([z[0],z[1]]),D.push(z[2]);return q};var o=t(1755),r=t(6867),i=t(1125),a=t(7842),l=t(1318),u=t(946),h=t(5838),c=t(1278),w=t(3637);function g(C){var k=u(C);return[c(k,-1/0),c(k,1/0)]}function v(C){for(var k=new Array(C.length),D=0;D<C.length;++D){var O=C[D];k[D]=[c(O[0],-1/0),c(O[1],-1/0),c(O[0],1/0),c(O[1],1/0)]}return k}function m(C,k,D){for(var O=k.length,L=new o(O),R=[],z=0;z<k.length;++z){var q=k[z],N=g(q[0]),V=g(q[1]);R.push([c(N[0],-1/0),c(V[0],-1/0),c(N[1],1/0),c(V[1],1/0)])}r(R,function(ie,re){L.link(ie,re)});var Z=!0,j=new Array(O);for(z=0;z<O;++z)(Y=L.find(z))!==z&&(Z=!1,C[Y]=[Math.min(C[z][0],C[Y][0]),Math.min(C[z][1],C[Y][1])]);if(Z)return null;var H=0;for(z=0;z<O;++z){var Y;(Y=L.find(z))===z?(j[z]=H,C[H++]=C[z]):j[z]=-1}for(C.length=H,z=0;z<O;++z)j[z]<0&&(j[z]=j[L.find(z)]);return j}function T(C,k){return C[0]-k[0]||C[1]-k[1]}function _(C,k){return C[0]-k[0]||C[1]-k[1]||(C[2]<k[2]?-1:C[2]>k[2]?1:0)}function A(C,k,D){if(C.length!==0){if(k)for(var O=0;O<C.length;++O){var L=k[(z=C[O])[0]],R=k[z[1]];z[0]=Math.min(L,R),z[1]=Math.max(L,R)}else for(O=0;O<C.length;++O){var z;L=(z=C[O])[0],R=z[1],z[0]=Math.min(L,R),z[1]=Math.max(L,R)}D?C.sort(_):C.sort(T);var q=1;for(O=1;O<C.length;++O){var N=C[O-1],V=C[O];(V[0]!==N[0]||V[1]!==N[1]||D&&V[2]!==N[2])&&(C[q++]=V)}C.length=q}}function d(C,k,D){var O=function(N,V){for(var Z=new Array(V.length),j=0;j<V.length;++j){var H=V[j],Y=N[H[0]],ie=N[H[1]];Z[j]=[c(Math.min(Y[0],ie[0]),-1/0),c(Math.min(Y[1],ie[1]),-1/0),c(Math.max(Y[0],ie[0]),1/0),c(Math.max(Y[1],ie[1]),1/0)]}return Z}(C,k),L=function(N,V,Z){var j=[];return r(Z,function(H,Y){var ie=V[H],re=V[Y];if(ie[0]!==re[0]&&ie[0]!==re[1]&&ie[1]!==re[0]&&ie[1]!==re[1]){var ne=N[ie[0]],ee=N[ie[1]],Q=N[re[0]],X=N[re[1]];i(ne,ee,Q,X)&&j.push([H,Y])}}),j}(C,k,O),R=function(N,V,Z,j){var H=[];return r(Z,j,function(Y,ie){var re=V[Y];if(re[0]!==ie&&re[1]!==ie){var ne=N[ie],ee=N[re[0]],Q=N[re[1]];i(ee,Q,ne,ne)&&H.push([Y,ie])}}),H}(C,k,O,v(C)),z=function(N,V,Z,j,H){var Y,ie,re=N.map(function(ue){return[a(ue[0]),a(ue[1])]});for(Y=0;Y<Z.length;++Y){var ne=Z[Y];ie=ne[0];var ee=ne[1],Q=V[ie],X=V[ee],se=w(h(N[Q[0]]),h(N[Q[1]]),h(N[X[0]]),h(N[X[1]]));if(se){var ce=N.length;N.push([u(se[0]),u(se[1])]),re.push(se),j.push([ie,ce],[ee,ce])}}for(j.sort(function(ue,ae){if(ue[0]!==ae[0])return ue[0]-ae[0];var pe=re[ue[1]],De=re[ae[1]];return l(pe[0],De[0])||l(pe[1],De[1])}),Y=j.length-1;Y>=0;--Y){var le=V[ie=(Ie=j[Y])[0]],de=le[0],be=le[1],_e=N[de],ve=N[be];if((_e[0]-ve[0]||_e[1]-ve[1])<0){var me=de;de=be,be=me}le[0]=de;var ye,Se=le[1]=Ie[1];for(H&&(ye=le[2]);Y>0&&j[Y-1][0]===ie;){var Ie,xe=(Ie=j[--Y])[1];H?V.push([Se,xe,ye]):V.push([Se,xe]),Se=xe}H?V.push([Se,be,ye]):V.push([Se,be])}return re}(C,k,L,R,D),q=m(C,z);return A(k,q,D),!!q||L.length>0||R.length>0}},3637:function(f,s,t){"use strict";f.exports=function(w,g,v,m){var T=l(g,w),_=l(m,v),A=c(T,_);if(a(A)===0)return null;var d=c(_,l(w,v)),C=r(d,A),k=h(T,C);return u(w,k)};var o=t(6504),r=t(8697),i=t(5572),a=t(7721),l=t(544),u=t(2653),h=t(8987);function c(w,g){return i(o(w[0],g[1]),o(w[1],g[0]))}},3642:function(f){f.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(f,s,t){"use strict";var o=t(3642),r=t(395);function i(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function a(u){for(var h,c="#",w=0;w<3;++w)c+=("00"+(h=(h=u[w]).toString(16))).substr(h.length);return c}function l(u){return"rgba("+u.join(",")+")"}f.exports=function(u){var h,c,w,g,v,m,T,_,A,d;if(u||(u={}),_=(u.nshades||72)-1,T=u.format||"hex",(m=u.colormap)||(m="jet"),typeof m=="string"){if(m=m.toLowerCase(),!o[m])throw Error(m+" not a supported colorscale");v=o[m]}else{if(!Array.isArray(m))throw Error("unsupported colormap option",m);v=m.slice()}if(v.length>_+1)throw new Error(m+" map requires nshades to be at least size "+v.length);A=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],h=v.map(function(L){return Math.round(L.index*_)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var C=v.map(function(L,R){var z=v[R].index,q=v[R].rgb.slice();return q.length===4&&q[3]>=0&&q[3]<=1||(q[3]=A[0]+(A[1]-A[0])*z),q}),k=[];for(d=0;d<h.length-1;++d){g=h[d+1]-h[d],c=C[d],w=C[d+1];for(var D=0;D<g;D++){var O=D/g;k.push([Math.round(r(c[0],w[0],O)),Math.round(r(c[1],w[1],O)),Math.round(r(c[2],w[2],O)),r(c[3],w[3],O)])}}return k.push(v[v.length-1].rgb.concat(A[1])),T==="hex"?k=k.map(a):T==="rgbaString"?k=k.map(l):T==="float"&&(k=k.map(i)),k}},3140:function(f,s,t){"use strict";f.exports=function(h,c,w,g){var v=o(c,w,g);if(v===0){var m=r(o(h,c,w)),T=r(o(h,c,g));if(m===T){if(m===0){var _=u(h,c,w);return _===u(h,c,g)?0:_?1:-1}return 0}return T===0?m>0||u(h,c,g)?-1:1:m===0?T>0||u(h,c,w)?1:-1:r(T-m)}var A=o(h,c,w);return A>0?v>0&&o(h,c,g)>0?1:-1:A<0?v>0||o(h,c,g)>0?1:-1:o(h,c,g)>0||u(h,c,w)?1:-1};var o=t(3250),r=t(8572),i=t(9362),a=t(5382),l=t(8210);function u(h,c,w){var g=i(h[0],-c[0]),v=i(h[1],-c[1]),m=i(w[0],-c[0]),T=i(w[1],-c[1]),_=l(a(g,m),a(v,T));return _[_.length-1]>=0}},8572:function(f){"use strict";f.exports=function(s){return s<0?-1:s>0?1:0}},8507:function(f){f.exports=function(o,r){var i=o.length,a=o.length-r.length;if(a)return a;switch(i){case 0:return 0;case 1:return o[0]-r[0];case 2:return o[0]+o[1]-r[0]-r[1]||s(o[0],o[1])-s(r[0],r[1]);case 3:var l=o[0]+o[1],u=r[0]+r[1];if(a=l+o[2]-(u+r[2]))return a;var h=s(o[0],o[1]),c=s(r[0],r[1]);return s(h,o[2])-s(c,r[2])||s(h+o[2],l)-s(c+r[2],u);case 4:var w=o[0],g=o[1],v=o[2],m=o[3],T=r[0],_=r[1],A=r[2],d=r[3];return w+g+v+m-(T+_+A+d)||s(w,g,v,m)-s(T,_,A,d,T)||s(w+g,w+v,w+m,g+v,g+m,v+m)-s(T+_,T+A,T+d,_+A,_+d,A+d)||s(w+g+v,w+g+m,w+v+m,g+v+m)-s(T+_+A,T+_+d,T+A+d,_+A+d);default:for(var C=o.slice().sort(t),k=r.slice().sort(t),D=0;D<i;++D)if(a=C[D]-k[D])return a;return 0}};var s=Math.min;function t(o,r){return o-r}},3788:function(f,s,t){"use strict";var o=t(8507),r=t(2419);f.exports=function(i,a){return o(i,a)||r(i)-r(a)}},7352:function(f,s,t){"use strict";var o=t(5721),r=t(4750),i=t(2690);f.exports=function(a){var l=a.length;if(l===0)return[];if(l===1)return[[0]];var u=a[0].length;return u===0?[]:u===1?o(a):u===2?r(a):i(a,u)}},5721:function(f){"use strict";f.exports=function(s){for(var t=0,o=0,r=1;r<s.length;++r)s[r][0]<s[t][0]&&(t=r),s[r][0]>s[o][0]&&(o=r);return t<o?[[t],[o]]:t>o?[[o],[t]]:[[t]]}},4750:function(f,s,t){"use strict";f.exports=function(r){var i=o(r),a=i.length;if(a<=2)return[];for(var l=new Array(a),u=i[a-1],h=0;h<a;++h){var c=i[h];l[h]=[u,c],u=c}return l};var o=t(3090)},2690:function(f,s,t){"use strict";f.exports=function(i,a){try{return o(i,!0)}catch{var l=r(i);if(l.length<=a)return[];var u=function(c,w){for(var g=c.length,v=new Array(g),m=0;m<w.length;++m)v[m]=c[w[m]];var T=w.length;for(m=0;m<g;++m)w.indexOf(m)<0&&(v[T++]=c[m]);return v}(i,l);return function(c,w){for(var g=c.length,v=w.length,m=0;m<g;++m)for(var T=c[m],_=0;_<T.length;++_){var A=T[_];if(A<v)T[_]=w[A];else{A-=v;for(var d=0;d<v;++d)A>=w[d]&&(A+=1);T[_]=A}}return c}(o(u,!0),l)}};var o=t(8954),r=t(3952)},4769:function(f){"use strict";f.exports=function(s,t,o,r,i,a){var l=i-1,u=i*i,h=l*l,c=(1+2*i)*h,w=i*h,g=u*(3-2*i),v=u*l;if(s.length){a||(a=new Array(s.length));for(var m=s.length-1;m>=0;--m)a[m]=c*s[m]+w*t[m]+g*o[m]+v*r[m];return a}return c*s+w*t+g*o+v*r},f.exports.derivative=function(s,t,o,r,i,a){var l=6*i*i-6*i,u=3*i*i-4*i+1,h=-6*i*i+6*i,c=3*i*i-2*i;if(s.length){a||(a=new Array(s.length));for(var w=s.length-1;w>=0;--w)a[w]=l*s[w]+u*t[w]+h*o[w]+c*r[w];return a}return l*s+u*t+h*o[w]+c*r}},7642:function(f,s,t){"use strict";var o=t(8954),r=t(1682);function i(l,u){this.point=l,this.index=u}function a(l,u){for(var h=l.point,c=u.point,w=h.length,g=0;g<w;++g){var v=c[g]-h[g];if(v)return v}return 0}f.exports=function(l,u){var h=l.length;if(h===0)return[];var c=l[0].length;if(c<1)return[];if(c===1)return function(z,q,N){if(z===1)return N?[[-1,0]]:[];var V=q.map(function(ie,re){return[ie[0],re]});V.sort(function(ie,re){return ie[0]-re[0]});for(var Z=new Array(z-1),j=1;j<z;++j){var H=V[j-1],Y=V[j];Z[j-1]=[H[1],Y[1]]}return N&&Z.push([-1,Z[0][1]],[Z[z-1][1],-1]),Z}(h,l,u);for(var w=new Array(h),g=1,v=0;v<h;++v){for(var m=l[v],T=new Array(c+1),_=0,A=0;A<c;++A){var d=m[A];T[A]=d,_+=d*d}T[c]=_,w[v]=new i(T,v),g=Math.max(_,g)}r(w,a),h=w.length;var C=new Array(h+c+1),k=new Array(h+c+1),D=(c+1)*(c+1)*g,O=new Array(c+1);for(v=0;v<=c;++v)O[v]=0;for(O[c]=D,C[0]=O.slice(),k[0]=-1,v=0;v<=c;++v)(T=O.slice())[v]=1,C[v+1]=T,k[v+1]=-1;for(v=0;v<h;++v){var L=w[v];C[v+c+1]=L.point,k[v+c+1]=L.index}var R=o(C,!1);if(R=u?R.filter(function(z){for(var q=0,N=0;N<=c;++N){var V=k[z[N]];if(V<0&&++q>=2)return!1;z[N]=V}return!0}):R.filter(function(z){for(var q=0;q<=c;++q){var N=k[z[q]];if(N<0)return!1;z[q]=N}return!0}),1&c)for(v=0;v<R.length;++v)T=(L=R[v])[0],L[0]=L[1],L[1]=T;return R}},2361:function(f){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),o=new Uint32Array(t.buffer);t[0]=1,s=!0,o[1]===1072693248?(f.exports=function(i){return t[0]=i,[o[0],o[1]]},f.exports.pack=function(i,a){return o[0]=i,o[1]=a,t[0]},f.exports.lo=function(i){return t[0]=i,o[0]},f.exports.hi=function(i){return t[0]=i,o[1]}):o[0]===1072693248?(f.exports=function(i){return t[0]=i,[o[1],o[0]]},f.exports.pack=function(i,a){return o[1]=i,o[0]=a,t[0]},f.exports.lo=function(i){return t[0]=i,o[1]},f.exports.hi=function(i){return t[0]=i,o[0]}):s=!1}if(!s){var r=new Buffer(8);f.exports=function(i){return r.writeDoubleLE(i,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},f.exports.pack=function(i,a){return r.writeUInt32LE(i,0,!0),r.writeUInt32LE(a,4,!0),r.readDoubleLE(0,!0)},f.exports.lo=function(i){return r.writeDoubleLE(i,0,!0),r.readUInt32LE(0,!0)},f.exports.hi=function(i){return r.writeDoubleLE(i,0,!0),r.readUInt32LE(4,!0)}}f.exports.sign=function(i){return f.exports.hi(i)>>>31},f.exports.exponent=function(i){return(f.exports.hi(i)<<1>>>21)-1023},f.exports.fraction=function(i){var a=f.exports.lo(i),l=f.exports.hi(i),u=1048575&l;return 2146435072&l&&(u+=1048576),[a,u]},f.exports.denormalized=function(i){return!(2146435072&f.exports.hi(i))}},1338:function(f){"use strict";function s(t,o,r){var i=0|t[r];if(i<=0)return[];var a,l=new Array(i);if(r===t.length-1)for(a=0;a<i;++a)l[a]=o;else for(a=0;a<i;++a)l[a]=s(t,o,r+1);return l}f.exports=function(t,o){switch(o===void 0&&(o=0),typeof t){case"number":if(t>0)return function(r,i){var a,l;for(a=new Array(r),l=0;l<r;++l)a[l]=i;return a}(0|t,o);break;case"object":if(typeof t.length=="number")return s(t,o,0)}return[]}},3134:function(f,s,t){"use strict";f.exports=function(r,i){var a=r.length;if(typeof i!="number"){i=0;for(var l=0;l<a;++l){var u=r[l];i=Math.max(i,u[0],u[1])}i=1+(0|i)}i|=0;var h=new Array(i);for(l=0;l<i;++l)h[l]=[];for(l=0;l<a;++l)h[(u=r[l])[0]].push(u[1]),h[u[1]].push(u[0]);for(var c=0;c<i;++c)o(h[c],function(w,g){return w-g});return h};var o=t(1682)},5033:function(f){"use strict";f.exports=function(s,t,o){var r=t||0,i=o||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[r*s[12]+s[8],r*s[13]+s[9],r*s[14]+s[10],r*s[15]+s[11]],[i*s[12]-s[8],i*s[13]-s[9],i*s[14]-s[10],i*s[15]-s[11]]]}},9215:function(f,s,t){"use strict";f.exports=function(h,c,w){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return typeof h=="number"?new a(g=u(h),g,0):new a(h,u(h.length),0);case 2:var g;if(typeof c=="number")return new a(h,g=u(h.length),+c);w=0;case 3:if(h.length!==c.length)throw new Error("state and velocity lengths must match");return new a(h,c,w)}};var o=t(4769),r=t(2478);function i(h,c,w){return Math.min(c,Math.max(h,w))}function a(h,c,w){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var g=0;g<this.dimension;++g)this.bounds[0][g]=-1/0,this.bounds[1][g]=1/0;this._state=h.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[w],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var l=a.prototype;function u(h){for(var c=new Array(h),w=0;w<h;++w)c[w]=0;return c}l.flush=function(h){var c=r.gt(this._time,h)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},l.curve=function(h){var c=this._time,w=c.length,g=r.le(c,h),v=this._scratch[0],m=this._state,T=this._velocity,_=this.dimension,A=this.bounds;if(g<0)for(var d=_-1,C=0;C<_;++C,--d)v[C]=m[d];else if(g>=w-1){d=m.length-1;var k=h-c[w-1];for(C=0;C<_;++C,--d)v[C]=m[d]+k*T[d]}else{d=_*(g+1)-1;var D=c[g],O=c[g+1]-D||1,L=this._scratch[1],R=this._scratch[2],z=this._scratch[3],q=this._scratch[4],N=!0;for(C=0;C<_;++C,--d)L[C]=m[d],z[C]=T[d]*O,R[C]=m[d+_],q[C]=T[d+_]*O,N=N&&L[C]===R[C]&&z[C]===q[C]&&z[C]===0;if(N)for(C=0;C<_;++C)v[C]=L[C];else o(L,z,R,q,(h-D)/O,v)}var V=A[0],Z=A[1];for(C=0;C<_;++C)v[C]=i(V[C],Z[C],v[C]);return v},l.dcurve=function(h){var c=this._time,w=c.length,g=r.le(c,h),v=this._scratch[0],m=this._state,T=this._velocity,_=this.dimension;if(g>=w-1)for(var A=m.length-1,d=(c[w-1],0);d<_;++d,--A)v[d]=T[A];else{A=_*(g+1)-1;var C=c[g],k=c[g+1]-C||1,D=this._scratch[1],O=this._scratch[2],L=this._scratch[3],R=this._scratch[4],z=!0;for(d=0;d<_;++d,--A)D[d]=m[A],L[d]=T[A]*k,O[d]=m[A+_],R[d]=T[A+_]*k,z=z&&D[d]===O[d]&&L[d]===R[d]&&L[d]===0;if(z)for(d=0;d<_;++d)v[d]=0;else for(o.derivative(D,L,O,R,(h-C)/k,v),d=0;d<_;++d)v[d]/=k}return v},l.lastT=function(){var h=this._time;return h[h.length-1]},l.stable=function(){for(var h=this._velocity,c=h.length,w=this.dimension-1;w>=0;--w)if(h[--c])return!1;return!0},l.jump=function(h){var c=this.lastT(),w=this.dimension;if(!(h<c||arguments.length!==w+1)){var g=this._state,v=this._velocity,m=g.length-this.dimension,T=this.bounds,_=T[0],A=T[1];this._time.push(c,h);for(var d=0;d<2;++d)for(var C=0;C<w;++C)g.push(g[m++]),v.push(0);for(this._time.push(h),C=w;C>0;--C)g.push(i(_[C-1],A[C-1],arguments[C])),v.push(0)}},l.push=function(h){var c=this.lastT(),w=this.dimension;if(!(h<c||arguments.length!==w+1)){var g=this._state,v=this._velocity,m=g.length-this.dimension,T=h-c,_=this.bounds,A=_[0],d=_[1],C=T>1e-6?1/T:0;this._time.push(h);for(var k=w;k>0;--k){var D=i(A[k-1],d[k-1],arguments[k]);g.push(D),v.push((D-g[m++])*C)}}},l.set=function(h){var c=this.dimension;if(!(h<this.lastT()||arguments.length!==c+1)){var w=this._state,g=this._velocity,v=this.bounds,m=v[0],T=v[1];this._time.push(h);for(var _=c;_>0;--_)w.push(i(m[_-1],T[_-1],arguments[_])),g.push(0)}},l.move=function(h){var c=this.lastT(),w=this.dimension;if(!(h<=c||arguments.length!==w+1)){var g=this._state,v=this._velocity,m=g.length-this.dimension,T=this.bounds,_=T[0],A=T[1],d=h-c,C=d>1e-6?1/d:0;this._time.push(h);for(var k=w;k>0;--k){var D=arguments[k];g.push(i(_[k-1],A[k-1],g[m++]+D)),v.push(D*C)}}},l.idle=function(h){var c=this.lastT();if(!(h<c)){var w=this.dimension,g=this._state,v=this._velocity,m=g.length-w,T=this.bounds,_=T[0],A=T[1],d=h-c;this._time.push(h);for(var C=w-1;C>=0;--C)g.push(i(_[C],A[C],g[m]+d*v[m])),v.push(0),m+=1}}},3840:function(f){"use strict";function s(m,T,_,A,d,C){this._color=m,this.key=T,this.value=_,this.left=A,this.right=d,this._count=C}function t(m){return new s(m._color,m.key,m.value,m.left,m.right,m._count)}function o(m,T){return new s(m,T.key,T.value,T.left,T.right,T._count)}function r(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function i(m,T){this._compare=m,this.root=T}f.exports=function(m){return new i(m||v,null)};var a=i.prototype;function l(m,T){var _;return T.left&&(_=l(m,T.left))?_:(_=m(T.key,T.value))||(T.right?l(m,T.right):void 0)}function u(m,T,_,A){if(T(m,A.key)<=0){var d;if(A.left&&(d=u(m,T,_,A.left))||(d=_(A.key,A.value)))return d}if(A.right)return u(m,T,_,A.right)}function h(m,T,_,A,d){var C,k=_(m,d.key),D=_(T,d.key);if(k<=0&&(d.left&&(C=h(m,T,_,A,d.left))||D>0&&(C=A(d.key,d.value))))return C;if(D>0&&d.right)return h(m,T,_,A,d.right)}function c(m,T){this.tree=m,this._stack=T}Object.defineProperty(a,"keys",{get:function(){var m=[];return this.forEach(function(T,_){m.push(T)}),m}}),Object.defineProperty(a,"values",{get:function(){var m=[];return this.forEach(function(T,_){m.push(_)}),m}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(m,T){for(var _=this._compare,A=this.root,d=[],C=[];A;){var k=_(m,A.key);d.push(A),C.push(k),A=k<=0?A.left:A.right}d.push(new s(0,m,T,null,null,1));for(var D=d.length-2;D>=0;--D)A=d[D],C[D]<=0?d[D]=new s(A._color,A.key,A.value,d[D+1],A.right,A._count+1):d[D]=new s(A._color,A.key,A.value,A.left,d[D+1],A._count+1);for(D=d.length-1;D>1;--D){var O=d[D-1];if(A=d[D],O._color===1||A._color===1)break;var L=d[D-2];if(L.left===O)if(O.left===A){if(!(R=L.right)||R._color!==0){L._color=0,L.left=O.right,O._color=1,O.right=L,d[D-2]=O,d[D-1]=A,r(L),r(O),D>=3&&((z=d[D-3]).left===L?z.left=O:z.right=O);break}O._color=1,L.right=o(1,R),L._color=0,D-=1}else{if(!(R=L.right)||R._color!==0){O.right=A.left,L._color=0,L.left=A.right,A._color=1,A.left=O,A.right=L,d[D-2]=A,d[D-1]=O,r(L),r(O),r(A),D>=3&&((z=d[D-3]).left===L?z.left=A:z.right=A);break}O._color=1,L.right=o(1,R),L._color=0,D-=1}else if(O.right===A){if(!(R=L.left)||R._color!==0){L._color=0,L.right=O.left,O._color=1,O.left=L,d[D-2]=O,d[D-1]=A,r(L),r(O),D>=3&&((z=d[D-3]).right===L?z.right=O:z.left=O);break}O._color=1,L.left=o(1,R),L._color=0,D-=1}else{var R;if(!(R=L.left)||R._color!==0){var z;O.left=A.right,L._color=0,L.right=A.left,A._color=1,A.right=O,A.left=L,d[D-2]=A,d[D-1]=O,r(L),r(O),r(A),D>=3&&((z=d[D-3]).right===L?z.right=A:z.left=A);break}O._color=1,L.left=o(1,R),L._color=0,D-=1}}return d[0]._color=1,new i(_,d[0])},a.forEach=function(m,T,_){if(this.root)switch(arguments.length){case 1:return l(m,this.root);case 2:return u(T,this._compare,m,this.root);case 3:return this._compare(T,_)>=0?void 0:h(T,_,this._compare,m,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var m=[],T=this.root;T;)m.push(T),T=T.left;return new c(this,m)}}),Object.defineProperty(a,"end",{get:function(){for(var m=[],T=this.root;T;)m.push(T),T=T.right;return new c(this,m)}}),a.at=function(m){if(m<0)return new c(this,[]);for(var T=this.root,_=[];;){if(_.push(T),T.left){if(m<T.left._count){T=T.left;continue}m-=T.left._count}if(!m)return new c(this,_);if(m-=1,!T.right||m>=T.right._count)break;T=T.right}return new c(this,[])},a.ge=function(m){for(var T=this._compare,_=this.root,A=[],d=0;_;){var C=T(m,_.key);A.push(_),C<=0&&(d=A.length),_=C<=0?_.left:_.right}return A.length=d,new c(this,A)},a.gt=function(m){for(var T=this._compare,_=this.root,A=[],d=0;_;){var C=T(m,_.key);A.push(_),C<0&&(d=A.length),_=C<0?_.left:_.right}return A.length=d,new c(this,A)},a.lt=function(m){for(var T=this._compare,_=this.root,A=[],d=0;_;){var C=T(m,_.key);A.push(_),C>0&&(d=A.length),_=C<=0?_.left:_.right}return A.length=d,new c(this,A)},a.le=function(m){for(var T=this._compare,_=this.root,A=[],d=0;_;){var C=T(m,_.key);A.push(_),C>=0&&(d=A.length),_=C<0?_.left:_.right}return A.length=d,new c(this,A)},a.find=function(m){for(var T=this._compare,_=this.root,A=[];_;){var d=T(m,_.key);if(A.push(_),d===0)return new c(this,A);_=d<=0?_.left:_.right}return new c(this,[])},a.remove=function(m){var T=this.find(m);return T?T.remove():this},a.get=function(m){for(var T=this._compare,_=this.root;_;){var A=T(m,_.key);if(A===0)return _.value;_=A<=0?_.left:_.right}};var w=c.prototype;function g(m,T){m.key=T.key,m.value=T.value,m.left=T.left,m.right=T.right,m._color=T._color,m._count=T._count}function v(m,T){return m<T?-1:m>T?1:0}Object.defineProperty(w,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(w,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),w.clone=function(){return new c(this.tree,this._stack.slice())},w.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var T=new Array(m.length),_=m[m.length-1];T[T.length-1]=new s(_._color,_.key,_.value,_.left,_.right,_._count);for(var A=m.length-2;A>=0;--A)(_=m[A]).left===m[A+1]?T[A]=new s(_._color,_.key,_.value,T[A+1],_.right,_._count):T[A]=new s(_._color,_.key,_.value,_.left,T[A+1],_._count);if((_=T[T.length-1]).left&&_.right){var d=T.length;for(_=_.left;_.right;)T.push(_),_=_.right;var C=T[d-1];for(T.push(new s(_._color,C.key,C.value,_.left,_.right,_._count)),T[d-1].key=_.key,T[d-1].value=_.value,A=T.length-2;A>=d;--A)_=T[A],T[A]=new s(_._color,_.key,_.value,_.left,T[A+1],_._count);T[d-1].left=T[d]}if((_=T[T.length-1])._color===0){var k=T[T.length-2];for(k.left===_?k.left=null:k.right===_&&(k.right=null),T.pop(),A=0;A<T.length;++A)T[A]._count--;return new i(this.tree._compare,T[0])}if(_.left||_.right){for(_.left?g(_,_.left):_.right&&g(_,_.right),_._color=1,A=0;A<T.length-1;++A)T[A]._count--;return new i(this.tree._compare,T[0])}if(T.length===1)return new i(this.tree._compare,null);for(A=0;A<T.length;++A)T[A]._count--;var D=T[T.length-2];return function(O){for(var L,R,z,q,N=O.length-1;N>=0;--N){if(L=O[N],N===0)return void(L._color=1);if((R=O[N-1]).left===L){if((z=R.right).right&&z.right._color===0)return q=(z=R.right=t(z)).right=t(z.right),R.right=z.left,z.left=R,z.right=q,z._color=R._color,L._color=1,R._color=1,q._color=1,r(R),r(z),N>1&&((V=O[N-2]).left===R?V.left=z:V.right=z),void(O[N-1]=z);if(z.left&&z.left._color===0)return q=(z=R.right=t(z)).left=t(z.left),R.right=q.left,z.left=q.right,q.left=R,q.right=z,q._color=R._color,R._color=1,z._color=1,L._color=1,r(R),r(z),r(q),N>1&&((V=O[N-2]).left===R?V.left=q:V.right=q),void(O[N-1]=q);if(z._color===1){if(R._color===0)return R._color=1,void(R.right=o(0,z));R.right=o(0,z);continue}z=t(z),R.right=z.left,z.left=R,z._color=R._color,R._color=0,r(R),r(z),N>1&&((V=O[N-2]).left===R?V.left=z:V.right=z),O[N-1]=z,O[N]=R,N+1<O.length?O[N+1]=L:O.push(L),N+=2}else{if((z=R.left).left&&z.left._color===0)return q=(z=R.left=t(z)).left=t(z.left),R.left=z.right,z.right=R,z.left=q,z._color=R._color,L._color=1,R._color=1,q._color=1,r(R),r(z),N>1&&((V=O[N-2]).right===R?V.right=z:V.left=z),void(O[N-1]=z);if(z.right&&z.right._color===0)return q=(z=R.left=t(z)).right=t(z.right),R.left=q.right,z.right=q.left,q.right=R,q.left=z,q._color=R._color,R._color=1,z._color=1,L._color=1,r(R),r(z),r(q),N>1&&((V=O[N-2]).right===R?V.right=q:V.left=q),void(O[N-1]=q);if(z._color===1){if(R._color===0)return R._color=1,void(R.left=o(0,z));R.left=o(0,z);continue}var V;z=t(z),R.left=z.right,z.right=R,z._color=R._color,R._color=0,r(R),r(z),N>1&&((V=O[N-2]).right===R?V.right=z:V.left=z),O[N-1]=z,O[N]=R,N+1<O.length?O[N+1]=L:O.push(L),N+=2}}}(T),D.left===_?D.left=null:D.right=null,new i(this.tree._compare,T[0])},Object.defineProperty(w,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(w,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(w,"index",{get:function(){var m=0,T=this._stack;if(T.length===0){var _=this.tree.root;return _?_._count:0}T[T.length-1].left&&(m=T[T.length-1].left._count);for(var A=T.length-2;A>=0;--A)T[A+1]===T[A].right&&(++m,T[A].left&&(m+=T[A].left._count));return m},enumerable:!0}),w.next=function(){var m=this._stack;if(m.length!==0){var T=m[m.length-1];if(T.right)for(T=T.right;T;)m.push(T),T=T.left;else for(m.pop();m.length>0&&m[m.length-1].right===T;)T=m[m.length-1],m.pop()}},Object.defineProperty(w,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var T=m.length-1;T>0;--T)if(m[T-1].left===m[T])return!0;return!1}}),w.update=function(m){var T=this._stack;if(T.length===0)throw new Error("Can't update empty node!");var _=new Array(T.length),A=T[T.length-1];_[_.length-1]=new s(A._color,A.key,m,A.left,A.right,A._count);for(var d=T.length-2;d>=0;--d)(A=T[d]).left===T[d+1]?_[d]=new s(A._color,A.key,A.value,_[d+1],A.right,A._count):_[d]=new s(A._color,A.key,A.value,A.left,_[d+1],A._count);return new i(this.tree._compare,_[0])},w.prev=function(){var m=this._stack;if(m.length!==0){var T=m[m.length-1];if(T.left)for(T=T.left;T;)m.push(T),T=T.right;else for(m.pop();m.length>0&&m[m.length-1].left===T;)T=m[m.length-1],m.pop()}},Object.defineProperty(w,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var T=m.length-1;T>0;--T)if(m[T-1].right===m[T])return!0;return!1}})},3837:function(f,s,t){"use strict";f.exports=function(L,R){var z=new v(L);return z.update(R),z};var o=t(4935),r=t(501),i=t(5304),a=t(6429),l=t(6444),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=ArrayBuffer,c=DataView;function w(L){return Array.isArray(L)||function(R){return h.isView(R)&&!(R instanceof c)}(L)}function g(L,R){return L[0]=R[0],L[1]=R[1],L[2]=R[2],L}function v(L){this.gl=L,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=i(L)}var m=v.prototype;function T(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}m.update=function(L){function R(X,se,ce){if(ce in L){var le,de=L[ce],be=this[ce];(X?w(de)&&w(de[0]):w(de))?this[ce]=le=[se(de[0]),se(de[1]),se(de[2])]:this[ce]=le=[se(de),se(de),se(de)];for(var _e=0;_e<3;++_e)if(le[_e]!==be[_e])return!0}return!1}L=L||{};var z,q=R.bind(this,!1,Number),N=R.bind(this,!1,Boolean),V=R.bind(this,!1,String),Z=R.bind(this,!0,function(X){if(w(X)){if(X.length===3)return[+X[0],+X[1],+X[2],1];if(X.length===4)return[+X[0],+X[1],+X[2],+X[3]]}return[0,0,0,1]}),j=!1,H=!1;if("bounds"in L)for(var Y=L.bounds,ie=0;ie<2;++ie)for(var re=0;re<3;++re)Y[ie][re]!==this.bounds[ie][re]&&(H=!0),this.bounds[ie][re]=Y[ie][re];if("ticks"in L)for(z=L.ticks,j=!0,this.autoTicks=!1,ie=0;ie<3;++ie)this.tickSpacing[ie]=0;else q("tickSpacing")&&(this.autoTicks=!0,H=!0);if(this._firstInit&&("ticks"in L||"tickSpacing"in L||(this.autoTicks=!0),H=!0,j=!0,this._firstInit=!1),H&&this.autoTicks&&(z=l.create(this.bounds,this.tickSpacing),j=!0),j){for(ie=0;ie<3;++ie)z[ie].sort(function(X,se){return X.x-se.x});l.equal(z,this.ticks)?j=!1:this.ticks=z}N("tickEnable"),V("tickFont")&&(j=!0),V("tickFontStyle")&&(j=!0),V("tickFontWeight")&&(j=!0),V("tickFontVariant")&&(j=!0),q("tickSize"),q("tickAngle"),q("tickPad"),Z("tickColor");var ne=V("labels");V("labelFont")&&(ne=!0),V("labelFontStyle")&&(ne=!0),V("labelFontWeight")&&(ne=!0),V("labelFontVariant")&&(ne=!0),N("labelEnable"),q("labelSize"),q("labelPad"),Z("labelColor"),N("lineEnable"),N("lineMirror"),q("lineWidth"),Z("lineColor"),N("lineTickEnable"),N("lineTickMirror"),q("lineTickLength"),q("lineTickWidth"),Z("lineTickColor"),N("gridEnable"),q("gridWidth"),Z("gridColor"),N("zeroEnable"),Z("zeroLineColor"),q("zeroLineWidth"),N("backgroundEnable"),Z("backgroundColor");var ee=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],Q=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(ne||j)&&this._text.update(this.bounds,this.labels,ee,this.ticks,Q):this._text=o(this.gl,this.bounds,this.labels,ee,this.ticks,Q),this._lines&&j&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var _=[new T,new T,new T];function A(L,R,z,q,N){for(var V=L.primalOffset,Z=L.primalMinor,j=L.mirrorOffset,H=L.mirrorMinor,Y=q[R],ie=0;ie<3;++ie)if(R!==ie){var re=V,ne=j,ee=Z,Q=H;Y&1<<ie&&(re=j,ne=V,ee=H,Q=Z),re[ie]=z[0][ie],ne[ie]=z[1][ie],N[ie]>0?(ee[ie]=-1,Q[ie]=0):(ee[ie]=0,Q[ie]=1)}}var d=[0,0,0],C={model:u,view:u,projection:u,_ortho:!1};m.isOpaque=function(){return!0},m.isTransparent=function(){return!1},m.drawTransparent=function(L){};var k=[0,0,0],D=[0,0,0],O=[0,0,0];m.draw=function(L){L=L||C;for(var R=this.gl,z=L.model||u,q=L.view||u,N=L.projection||u,V=this.bounds,Z=L._ortho||!1,j=a(z,q,N,V,Z),H=j.cubeEdges,Y=j.axis,ie=q[12],re=q[13],ne=q[14],ee=q[15],Q=(Z?2:1)*this.pixelRatio*(N[3]*ie+N[7]*re+N[11]*ne+N[15]*ee)/R.drawingBufferHeight,X=0;X<3;++X)this.lastCubeProps.cubeEdges[X]=H[X],this.lastCubeProps.axis[X]=Y[X];var se=_;for(X=0;X<3;++X)A(_[X],X,this.bounds,H,Y);R=this.gl;var ce,le,de,be=d;for(X=0;X<3;++X)this.backgroundEnable[X]?be[X]=Y[X]:be[X]=0;for(this._background.draw(z,q,N,V,be,this.backgroundColor),this._lines.bind(z,q,N,this),X=0;X<3;++X){var _e=[0,0,0];Y[X]>0?_e[X]=V[1][X]:_e[X]=V[0][X];for(var ve=0;ve<2;++ve){var me=(X+1+ve)%3,ye=(X+1+(1^ve))%3;this.gridEnable[me]&&this._lines.drawGrid(me,ye,this.bounds,_e,this.gridColor[me],this.gridWidth[me]*this.pixelRatio)}for(ve=0;ve<2;++ve)me=(X+1+ve)%3,ye=(X+1+(1^ve))%3,this.zeroEnable[ye]&&Math.min(V[0][ye],V[1][ye])<=0&&Math.max(V[0][ye],V[1][ye])>=0&&this._lines.drawZero(me,ye,this.bounds,_e,this.zeroLineColor[ye],this.zeroLineWidth[ye]*this.pixelRatio)}for(X=0;X<3;++X){this.lineEnable[X]&&this._lines.drawAxisLine(X,this.bounds,se[X].primalOffset,this.lineColor[X],this.lineWidth[X]*this.pixelRatio),this.lineMirror[X]&&this._lines.drawAxisLine(X,this.bounds,se[X].mirrorOffset,this.lineColor[X],this.lineWidth[X]*this.pixelRatio);var Se=g(k,se[X].primalMinor),Ie=g(D,se[X].mirrorMinor),xe=this.lineTickLength;for(ve=0;ve<3;++ve){var ue=Q/z[5*ve];Se[ve]*=xe[ve]*ue,Ie[ve]*=xe[ve]*ue}this.lineTickEnable[X]&&this._lines.drawAxisTicks(X,se[X].primalOffset,Se,this.lineTickColor[X],this.lineTickWidth[X]*this.pixelRatio),this.lineTickMirror[X]&&this._lines.drawAxisTicks(X,se[X].mirrorOffset,Ie,this.lineTickColor[X],this.lineTickWidth[X]*this.pixelRatio)}function ae(Re){(de=[0,0,0])[Re]=1}function pe(Re,Ne,ge){var Me=(Re+1)%3,Ee=(Re+2)%3,Fe=Ne[Me],Le=Ne[Ee],Ue=ge[Me],Ge=ge[Ee];Fe>0&&Ge>0||Fe>0&&Ge<0||Fe<0&&Ge>0||Fe<0&&Ge<0?ae(Me):(Le>0&&Ue>0||Le>0&&Ue<0||Le<0&&Ue>0||Le<0&&Ue<0)&&ae(Ee)}for(this._lines.unbind(),this._text.bind(z,q,N,this.pixelRatio),X=0;X<3;++X){var De=se[X].primalMinor,Te=se[X].mirrorMinor,Ae=g(O,se[X].primalOffset);for(ve=0;ve<3;++ve)this.lineTickEnable[X]&&(Ae[ve]+=Q*De[ve]*Math.max(this.lineTickLength[ve],0)/z[5*ve]);var Ce=[0,0,0];if(Ce[X]=1,this.tickEnable[X]){for(this.tickAngle[X]===-3600?(this.tickAngle[X]=0,this.tickAlign[X]="auto"):this.tickAlign[X]=-1,le=1,(ce=[this.tickAlign[X],.5,le])[0]==="auto"?ce[0]=0:ce[0]=parseInt(""+ce[0]),de=[0,0,0],pe(X,De,Te),ve=0;ve<3;++ve)Ae[ve]+=Q*De[ve]*this.tickPad[ve]/z[5*ve];this._text.drawTicks(X,this.tickSize[X],this.tickAngle[X],Ae,this.tickColor[X],Ce,de,ce)}if(this.labelEnable[X]){for(le=0,de=[0,0,0],this.labels[X].length>4&&(ae(X),le=1),(ce=[this.labelAlign[X],.5,le])[0]==="auto"?ce[0]=0:ce[0]=parseInt(""+ce[0]),ve=0;ve<3;++ve)Ae[ve]+=Q*De[ve]*this.labelPad[ve]/z[5*ve];Ae[X]+=.5*(V[0][X]+V[1][X]),this._text.drawLabel(X,this.labelSize[X],this.labelAngle[X],Ae,this.labelColor[X],[0,0,0],de,ce)}}this._text.unbind()},m.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},5304:function(f,s,t){"use strict";f.exports=function(u){for(var h=[],c=[],w=0,g=0;g<3;++g)for(var v=(g+1)%3,m=(g+2)%3,T=[0,0,0],_=[0,0,0],A=-1;A<=1;A+=2){c.push(w,w+2,w+1,w+1,w+2,w+3),T[g]=A,_[g]=A;for(var d=-1;d<=1;d+=2){T[v]=d;for(var C=-1;C<=1;C+=2)T[m]=C,h.push(T[0],T[1],T[2],_[0],_[1],_[2]),w+=1}var k=v;v=m,m=k}var D=o(u,new Float32Array(h)),O=o(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),L=r(u,[{buffer:D,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:D,type:u.FLOAT,size:3,offset:12,stride:24}],O),R=i(u);return R.attributes.position.location=0,R.attributes.normal.location=1,new a(u,D,L,R)};var o=t(2762),r=t(8116),i=t(1879).bg;function a(u,h,c,w){this.gl=u,this.buffer=h,this.vao=c,this.shader=w}var l=a.prototype;l.draw=function(u,h,c,w,g,v){for(var m=!1,T=0;T<3;++T)m=m||g[T];if(m){var _=this.gl;_.enable(_.POLYGON_OFFSET_FILL),_.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:h,projection:c,bounds:w,enable:g,colors:v},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),_.disable(_.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6429:function(f,s,t){"use strict";f.exports=function(d,C,k,D,O){r(l,C,d),r(l,k,l);for(var L=0,R=0;R<2;++R){c[2]=D[R][2];for(var z=0;z<2;++z){c[1]=D[z][1];for(var q=0;q<2;++q)c[0]=D[q][0],g(u[L],c,l),L+=1}}var N=-1;for(R=0;R<8;++R){for(var V=u[R][3],Z=0;Z<3;++Z)h[R][Z]=u[R][Z]/V;O&&(h[R][2]*=-1),V<0&&(N<0||h[R][2]<h[N][2])&&(N=R)}if(N<0){N=0;for(var j=0;j<3;++j){for(var H=(j+2)%3,Y=(j+1)%3,ie=-1,re=-1,ne=0;ne<2;++ne){var ee=(X=ne<<j)+(ne<<H)+(1-ne<<Y),Q=X+(1-ne<<H)+(ne<<Y);a(h[X],h[ee],h[Q],w)<0||(ne?ie=1:re=1)}if(ie<0||re<0)re>ie&&(N|=1<<j);else{for(ne=0;ne<2;++ne){ee=(X=ne<<j)+(ne<<H)+(1-ne<<Y),Q=X+(1-ne<<H)+(ne<<Y);var X,se=m([u[X],u[ee],u[Q],u[X+(1<<H)+(1<<Y)]]);ne?ie=se:re=se}re>ie&&(N|=1<<j)}}}var ce=7^N,le=-1;for(R=0;R<8;++R)R!==N&&R!==ce&&(le<0||h[le][1]>h[R][1])&&(le=R);var de=-1;for(R=0;R<3;++R)(_e=le^1<<R)!==N&&_e!==ce&&(de<0&&(de=_e),(Y=h[_e])[0]<h[de][0]&&(de=_e));var be=-1;for(R=0;R<3;++R){var _e;(_e=le^1<<R)!==N&&_e!==ce&&_e!==de&&(be<0&&(be=_e),(Y=h[_e])[0]>h[be][0]&&(be=_e))}var ve=T;ve[0]=ve[1]=ve[2]=0,ve[o.log2(de^le)]=le&de,ve[o.log2(le^be)]=le&be;var me=7^be;me===N||me===ce?(me=7^de,ve[o.log2(be^me)]=me&be):ve[o.log2(de^me)]=me&de;var ye=_,Se=N;for(j=0;j<3;++j)ye[j]=Se&1<<j?-1:1;return A};var o=t(8828),r=t(6760),i=t(5202),a=t(3250),l=new Array(16),u=new Array(8),h=new Array(8),c=new Array(3),w=[0,0,0];function g(d,C,k){for(var D=0;D<4;++D){d[D]=k[12+D];for(var O=0;O<3;++O)d[D]+=C[O]*k[4*O+D]}}(function(){for(var d=0;d<8;++d)u[d]=[1,1,1,1],h[d]=[1,1,1]})();var v=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function m(d){for(var C=0;C<v.length;++C)if((d=i.positive(d,v[C])).length<3)return 0;var k=d[0],D=k[0]/k[3],O=k[1]/k[3],L=0;for(C=1;C+1<d.length;++C){var R=d[C],z=d[C+1],q=R[0]/R[3]-D,N=R[1]/R[3]-O,V=z[0]/z[3]-D,Z=z[1]/z[3]-O;L+=Math.abs(q*Z-N*V)}return L}var T=[1,1,1],_=[0,0,0],A={cubeEdges:T,axis:_}},501:function(f,s,t){"use strict";f.exports=function(T,_,A){var d=[],C=[0,0,0],k=[0,0,0],D=[0,0,0],O=[0,0,0];d.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var L=0;L<3;++L){for(var R=d.length/3|0,z=0;z<A[L].length;++z){var q=+A[L][z].x;d.push(q,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1)}var N=d.length/3|0;C[L]=R,k[L]=N-R,R=d.length/3|0;for(var V=0;V<A[L].length;++V)q=+A[L][V].x,d.push(q,0,1,q,1,1,q,0,-1,q,0,-1,q,1,1,q,1,-1);N=d.length/3|0,D[L]=R,O[L]=N-R}var Z=o(T,new Float32Array(d)),j=r(T,[{buffer:Z,type:T.FLOAT,size:3,stride:0,offset:0}]),H=i(T);return H.attributes.position.location=0,new v(T,Z,j,H,k,C,O,D)};var o=t(2762),r=t(8116),i=t(1879).n,a=[0,0,0],l=[0,0,0],u=[0,0,0],h=[0,0,0],c=[1,1];function w(T){return T[0]=T[1]=T[2]=0,T}function g(T,_){return T[0]=_[0],T[1]=_[1],T[2]=_[2],T}function v(T,_,A,d,C,k,D,O){this.gl=T,this.vertBuffer=_,this.vao=A,this.shader=d,this.tickCount=C,this.tickOffset=k,this.gridCount=D,this.gridOffset=O}var m=v.prototype;m.bind=function(T,_,A){this.shader.bind(),this.shader.uniforms.model=T,this.shader.uniforms.view=_,this.shader.uniforms.projection=A,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},m.unbind=function(){this.vao.unbind()},m.drawAxisLine=function(T,_,A,d,C){var k=w(l);this.shader.uniforms.majorAxis=l,k[T]=_[1][T]-_[0][T],this.shader.uniforms.minorAxis=k;var D,O=g(h,A);O[T]+=_[0][T],this.shader.uniforms.offset=O,this.shader.uniforms.lineWidth=C,this.shader.uniforms.color=d,(D=w(u))[(T+2)%3]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,6),(D=w(u))[(T+1)%3]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(T,_,A,d,C){if(this.tickCount[T]){var k=w(a);k[T]=1,this.shader.uniforms.majorAxis=k,this.shader.uniforms.offset=_,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=d,this.shader.uniforms.lineWidth=C;var D=w(u);D[T]=1,this.shader.uniforms.screenAxis=D,this.vao.draw(this.gl.TRIANGLES,this.tickCount[T],this.tickOffset[T])}},m.drawGrid=function(T,_,A,d,C,k){if(this.gridCount[T]){var D=w(l);D[_]=A[1][_]-A[0][_],this.shader.uniforms.minorAxis=D;var O=g(h,d);O[_]+=A[0][_],this.shader.uniforms.offset=O;var L=w(a);L[T]=1,this.shader.uniforms.majorAxis=L;var R=w(u);R[T]=1,this.shader.uniforms.screenAxis=R,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=C,this.vao.draw(this.gl.TRIANGLES,this.gridCount[T],this.gridOffset[T])}},m.drawZero=function(T,_,A,d,C,k){var D=w(l);this.shader.uniforms.majorAxis=D,D[T]=A[1][T]-A[0][T],this.shader.uniforms.minorAxis=D;var O=g(h,d);O[T]+=A[0][T],this.shader.uniforms.offset=O;var L=w(u);L[_]=1,this.shader.uniforms.screenAxis=L,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=C,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1879:function(f,s,t){"use strict";var o=t(3236),r=t(9405),i=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),a=o([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.n=function(w){return r(w,i,a,null,[{name:"position",type:"vec3"}])};var l=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),u=o([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.Q=function(w){return r(w,l,u,null,[{name:"position",type:"vec3"}])};var h=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),c=o([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(w){return r(w,h,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(f,s,t){"use strict";f.exports=function(g,v,m,T,_,A){var d=o(g),C=r(g,[{buffer:d,size:3}]),k=a(g);k.attributes.position.location=0;var D=new h(g,k,d,C);return D.update(v,m,T,_,A),D};var o=t(2762),r=t(8116),i=t(4359),a=t(1879).Q,l=window||p.global||{},u=l.__TEXT_CACHE||{};function h(g,v,m,T){this.gl=g,this.shader=v,this.buffer=m,this.vao=T,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var c=h.prototype,w=[0,0];c.bind=function(g,v,m,T){this.vao.bind(),this.shader.bind();var _=this.shader.uniforms;_.model=g,_.view=v,_.projection=m,_.pixelScale=T,w[0]=this.gl.drawingBufferWidth,w[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=w},c.unbind=function(){this.vao.unbind()},c.update=function(g,v,m,T,_){var A=[];function d(N,V,Z,j,H,Y){var ie=[Z.style,Z.weight,Z.variant,Z.family].join("_"),re=u[ie];re||(re=u[ie]={});var ne=re[V];ne||(ne=re[V]=function(_e,ve){try{return i(_e,ve)}catch(me){return console.warn('error vectorizing text:"'+_e+'" error:',me),{cells:[],positions:[]}}}(V,{triangles:!0,font:Z.family,fontStyle:Z.style,fontWeight:Z.weight,fontVariant:Z.variant,textAlign:"center",textBaseline:"middle",lineSpacing:H,styletags:Y}));for(var ee=(j||12)/12,Q=ne.positions,X=ne.cells,se=0,ce=X.length;se<ce;++se)for(var le=X[se],de=2;de>=0;--de){var be=Q[le[de]];A.push(ee*be[0],-ee*be[1],N)}}for(var C=[0,0,0],k=[0,0,0],D=[0,0,0],O=[0,0,0],L={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},R=0;R<3;++R){D[R]=A.length/3|0,d(.5*(g[0][R]+g[1][R]),v[R],m[R],12,1.25,L),O[R]=(A.length/3|0)-D[R],C[R]=A.length/3|0;for(var z=0;z<T[R].length;++z)if(T[R][z].text){var q={family:T[R][z].font||_[R].family,style:_[R].fontStyle||_[R].style,weight:_[R].fontWeight||_[R].weight,variant:_[R].fontVariant||_[R].variant};d(T[R][z].x,T[R][z].text,q,T[R][z].fontSize||12,1.25,L)}k[R]=(A.length/3|0)-C[R]}this.buffer.update(A),this.tickOffset=C,this.tickCount=k,this.labelOffset=D,this.labelCount=O},c.drawTicks=function(g,v,m,T,_,A,d,C){this.tickCount[g]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=_,this.shader.uniforms.angle=m,this.shader.uniforms.scale=v,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=d,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},c.drawLabel=function(g,v,m,T,_,A,d,C){this.labelCount[g]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=_,this.shader.uniforms.angle=m,this.shader.uniforms.scale=v,this.shader.uniforms.offset=T,this.shader.uniforms.alignDir=d,this.shader.uniforms.alignOpt=C,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},6444:function(f,s){"use strict";function t(o,r){var i=o+"",a=i.indexOf("."),l=0;a>=0&&(l=i.length-a-1);var u=Math.pow(10,l),h=Math.round(o*r*u),c=h+"";if(c.indexOf("e")>=0)return c;var w=h/u,g=h%u;h<0?(w=0|-Math.ceil(w),g=0|-g):(w=0|Math.floor(w),g|=0);var v=""+w;if(h<0&&(v="-"+v),l){for(var m=""+g;m.length<l;)m="0"+m;return v+"."+m}return v}s.create=function(o,r){for(var i=[],a=0;a<3;++a){for(var l=[],u=(o[0][a],o[1][a],0);u*r[a]<=o[1][a];++u)l.push({x:u*r[a],text:t(r[a],u)});for(u=-1;u*r[a]>=o[0][a];--u)l.push({x:u*r[a],text:t(r[a],u)});i.push(l)}return i},s.equal=function(o,r){for(var i=0;i<3;++i){if(o[i].length!==r[i].length)return!1;for(var a=0;a<o[i].length;++a){var l=o[i][a],u=r[i][a];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},5445:function(f,s,t){"use strict";f.exports=function(A,d,C,k,D){var O=d.model||h,L=d.view||h,R=d.projection||h,z=d._ortho||!1,q=A.bounds,N=(D=D||i(O,L,R,q,z)).axis;a(c,L,O),a(c,R,c);for(var V=T,Z=0;Z<3;++Z)V[Z].lo=1/0,V[Z].hi=-1/0,V[Z].pixelsPerDataUnit=1/0;var j=o(l(c,c));l(c,c);for(var H=0;H<3;++H){var Y=(H+1)%3,ie=(H+2)%3,re=_;e:for(Z=0;Z<2;++Z){var ne=[];if(N[H]<0!=!!Z){re[H]=q[Z][H];for(var ee=0;ee<2;++ee){re[Y]=q[ee^Z][Y];for(var Q=0;Q<2;++Q)re[ie]=q[Q^ee^Z][ie],ne.push(re.slice())}var X=z?5:4;for(ee=X;ee===X;++ee){if(ne.length===0)continue e;ne=r.positive(ne,j[ee])}for(ee=0;ee<ne.length;++ee){ie=ne[ee];var se=m(_,c,ie,C,k);for(Q=0;Q<3;++Q)V[Q].lo=Math.min(V[Q].lo,ie[Q]),V[Q].hi=Math.max(V[Q].hi,ie[Q]),Q!==H&&(V[Q].pixelsPerDataUnit=Math.min(V[Q].pixelsPerDataUnit,Math.abs(se[Q])))}}}}return V};var o=t(5033),r=t(5202),i=t(6429),a=t(6760),l=t(5665),u=t(5352),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function w(A,d,C){this.lo=A,this.hi=d,this.pixelsPerDataUnit=C}var g=[0,0,0,1],v=[0,0,0,1];function m(A,d,C,k,D){for(var O=0;O<3;++O){for(var L=g,R=v,z=0;z<3;++z)R[z]=L[z]=C[z];R[3]=L[3]=1,R[O]+=1,u(R,R,d),R[3]<0&&(A[O]=1/0),L[O]-=1,u(L,L,d),L[3]<0&&(A[O]=1/0);var q=(L[0]/L[3]-R[0]/R[3])*k,N=(L[1]/L[3]-R[1]/R[3])*D;A[O]=.25*Math.sqrt(q*q+N*N)}return A}var T=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],_=[0,0,0]},2762:function(f,s,t){"use strict";var o=t(1888),r=t(5298),i=t(9618),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(w,g,v,m,T){this.gl=w,this.type=g,this.handle=v,this.length=m,this.usage=T}var u=l.prototype;function h(w,g,v,m,T,_){var A=T.length*T.BYTES_PER_ELEMENT;if(_<0)return w.bufferData(g,T,m),A;if(A+_>v)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return w.bufferSubData(g,_,T),v}function c(w,g){for(var v=o.malloc(w.length,g),m=w.length,T=0;T<m;++T)v[T]=w[T];return v}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(w,g){if(typeof g!="number"&&(g=-1),this.bind(),typeof w=="object"&&w.shape!==void 0){var v=w.dtype;if(a.indexOf(v)<0&&(v="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(v=gl.getExtension("OES_element_index_uint")&&v!=="uint16"?"uint32":"uint16"),v===w.dtype&&function(A,d){for(var C=1,k=d.length-1;k>=0;--k){if(d[k]!==C)return!1;C*=A[k]}return!0}(w.shape,w.stride))w.offset===0&&w.data.length===w.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,w.data,g):this.length=h(this.gl,this.type,this.length,this.usage,w.data.subarray(w.offset,w.shape[0]),g);else{var m=o.malloc(w.size,v),T=i(m,w.shape);r.assign(T,w),this.length=h(this.gl,this.type,this.length,this.usage,g<0?m:m.subarray(0,w.size),g),o.free(m)}}else if(Array.isArray(w)){var _;_=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(w,"uint16"):c(w,"float32"),this.length=h(this.gl,this.type,this.length,this.usage,g<0?_:_.subarray(0,w.length),g),o.free(_)}else if(typeof w=="object"&&typeof w.length=="number")this.length=h(this.gl,this.type,this.length,this.usage,w,g);else{if(typeof w!="number"&&w!==void 0)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(w|=0)<=0&&(w=1),this.gl.bufferData(this.type,0|w,this.usage),this.length=w}},f.exports=function(w,g,v,m){if(v=v||w.ARRAY_BUFFER,m=m||w.DYNAMIC_DRAW,v!==w.ARRAY_BUFFER&&v!==w.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(m!==w.DYNAMIC_DRAW&&m!==w.STATIC_DRAW&&m!==w.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var T=w.createBuffer(),_=new l(w,v,T,0,m);return _.update(g),_}},6405:function(f,s,t){"use strict";var o=t(2931);f.exports=function(i,a){var l=i.positions,u=i.vectors,h={positions:[],vertexIntensity:[],vertexIntensityBounds:i.vertexIntensityBounds,vectors:[],cells:[],coneOffset:i.coneOffset,colormap:i.colormap};if(i.positions.length===0)return a&&(a[0]=[0,0,0],a[1]=[0,0,0]),h;for(var c=0,w=1/0,g=-1/0,v=1/0,m=-1/0,T=1/0,_=-1/0,A=null,d=null,C=[],k=1/0,D=!1,O=i.coneSizemode==="raw",L=0;L<l.length;L++){var R=l[L];w=Math.min(R[0],w),g=Math.max(R[0],g),v=Math.min(R[1],v),m=Math.max(R[1],m),T=Math.min(R[2],T),_=Math.max(R[2],_);var z=u[L];if(o.length(z)>c&&(c=o.length(z)),L&&!O){var q=2*o.distance(A,R)/(o.length(d)+o.length(z));q?(k=Math.min(k,q),D=!1):D=!0}D||(A=R,d=z),C.push(z)}var N=[w,v,T],V=[g,m,_];a&&(a[0]=N,a[1]=V),c===0&&(c=1);var Z=1/c;isFinite(k)||(k=1),h.vectorScale=k;var j=i.coneSize||(O?1:.5);i.absoluteConeSize&&(j=i.absoluteConeSize*Z),h.coneScale=j,L=0;for(var H=0;L<l.length;L++)for(var Y=(R=l[L])[0],ie=R[1],re=R[2],ne=C[L],ee=o.length(ne)*Z,Q=0;Q<8;Q++){h.positions.push([Y,ie,re,H++]),h.positions.push([Y,ie,re,H++]),h.positions.push([Y,ie,re,H++]),h.positions.push([Y,ie,re,H++]),h.positions.push([Y,ie,re,H++]),h.positions.push([Y,ie,re,H++]),h.vectors.push(ne),h.vectors.push(ne),h.vectors.push(ne),h.vectors.push(ne),h.vectors.push(ne),h.vectors.push(ne),h.vertexIntensity.push(ee,ee,ee),h.vertexIntensity.push(ee,ee,ee);var X=h.positions.length;h.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return h};var r=t(614);f.exports.createMesh=t(9060),f.exports.createConeMesh=function(i,a){return f.exports.createMesh(i,a,{shaders:r,traceType:"cone"})}},9060:function(f,s,t){"use strict";var o=t(9405),r=t(2762),i=t(8116),a=t(7766),l=t(6760),u=t(7608),h=t(9618),c=t(6729),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(m,T,_,A,d,C,k,D,O,L,R){this.gl=m,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=_,this.pickShader=A,this.trianglePositions=d,this.triangleVectors=C,this.triangleColors=D,this.triangleUVs=O,this.triangleIds=k,this.triangleVAO=L,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=R,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var v=g.prototype;v.isOpaque=function(){return this.opacity>=1},v.isTransparent=function(){return this.opacity<1},v.pickSlots=1,v.setPickBase=function(m){this.pickId=m},v.update=function(m){m=m||{};var T=this.gl;this.dirty=!0,"lightPosition"in m&&(this.lightPosition=m.lightPosition),"opacity"in m&&(this.opacity=m.opacity),"ambient"in m&&(this.ambientLight=m.ambient),"diffuse"in m&&(this.diffuseLight=m.diffuse),"specular"in m&&(this.specularLight=m.specular),"roughness"in m&&(this.roughness=m.roughness),"fresnel"in m&&(this.fresnel=m.fresnel),m.tubeScale!==void 0&&(this.tubeScale=m.tubeScale),m.vectorScale!==void 0&&(this.vectorScale=m.vectorScale),m.coneScale!==void 0&&(this.coneScale=m.coneScale),m.coneOffset!==void 0&&(this.coneOffset=m.coneOffset),m.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(function(se){for(var ce=c({colormap:se,nshades:256,format:"rgba"}),le=new Uint8Array(1024),de=0;de<256;++de){for(var be=ce[de],_e=0;_e<3;++_e)le[4*de+_e]=be[_e];le[4*de+3]=255*be[3]}return h(le,[256,256,4],[4,0,1])}(m.colormap)),this.texture.generateMipmap());var _=m.cells,A=m.positions,d=m.vectors;if(A&&_&&d){var C=[],k=[],D=[],O=[],L=[];this.cells=_,this.positions=A,this.vectors=d;var R=m.meshColor||[1,1,1,1],z=m.vertexIntensity,q=1/0,N=-1/0;if(z)if(m.vertexIntensityBounds)q=+m.vertexIntensityBounds[0],N=+m.vertexIntensityBounds[1];else for(var V=0;V<z.length;++V){var Z=z[V];q=Math.min(q,Z),N=Math.max(N,Z)}else for(V=0;V<A.length;++V)Z=A[V][2],q=Math.min(q,Z),N=Math.max(N,Z);for(this.intensity=z||function(se){for(var ce=se.length,le=new Array(ce),de=0;de<ce;++de)le[de]=se[de][2];return le}(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=0;V<A.length;++V)for(var j=A[V],H=0;H<3;++H)!isNaN(j[H])&&isFinite(j[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],j[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],j[H]));var Y=0;e:for(V=0;V<_.length;++V){var ie=_[V];if(ie.length===3){for(H=0;H<3;++H){j=A[ne=ie[H]];for(var re=0;re<3;++re)if(isNaN(j[re])||!isFinite(j[re]))continue e}for(H=0;H<3;++H){var ne;j=A[ne=ie[2-H]],C.push(j[0],j[1],j[2],j[3]);var ee=d[ne];k.push(ee[0],ee[1],ee[2],ee[3]||0);var Q,X=R;X.length===3?D.push(X[0],X[1],X[2],1):D.push(X[0],X[1],X[2],X[3]),Q=z?[(z[ne]-q)/(N-q),0]:[(j[2]-q)/(N-q),0],O.push(Q[0],Q[1]),L.push(V)}Y+=1}}this.triangleCount=Y,this.trianglePositions.update(C),this.triangleVectors.update(k),this.triangleColors.update(D),this.triangleUVs.update(O),this.triangleIds.update(new Uint32Array(L))}},v.drawTransparent=v.draw=function(m){m=m||{};for(var T=this.gl,_=m.model||w,A=m.view||w,d=m.projection||w,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)C[0][k]=Math.max(C[0][k],this.clipBounds[0][k]),C[1][k]=Math.min(C[1][k],this.clipBounds[1][k]);var D={model:_,view:A,projection:d,inverseModel:w.slice(),clipBounds:C,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};D.inverseModel=u(D.inverseModel,D.model),T.disable(T.CULL_FACE),this.texture.bind(0);var O=new Array(16);for(l(O,D.view,D.model),l(O,D.projection,O),u(O,O),k=0;k<3;++k)D.eyePosition[k]=O[12+k]/O[15];var L=O[15];for(k=0;k<3;++k)L+=this.lightPosition[k]*O[4*k+3];for(k=0;k<3;++k){for(var R=O[12+k],z=0;z<3;++z)R+=O[4*z+k]*this.lightPosition[z];D.lightPosition[k]=R/L}if(this.triangleCount>0){var q=this.triShader;q.bind(),q.uniforms=D,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},v.drawPick=function(m){m=m||{};for(var T=this.gl,_=m.model||w,A=m.view||w,d=m.projection||w,C=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)C[0][k]=Math.max(C[0][k],this.clipBounds[0][k]),C[1][k]=Math.min(C[1][k],this.clipBounds[1][k]);this._model=[].slice.call(_),this._view=[].slice.call(A),this._projection=[].slice.call(d),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var D={model:_,view:A,projection:d,clipBounds:C,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},O=this.pickShader;O.bind(),O.uniforms=D,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},v.pick=function(m){if(!m||m.id!==this.pickId)return null;var T=m.value[0]+256*m.value[1]+65536*m.value[2],_=this.cells[T],A=this.positions[_[1]].slice(0,3),d={position:A,dataCoordinate:A,index:Math.floor(_[1]/48)};return this.traceType==="cone"?d.index=Math.floor(_[1]/48):this.traceType==="streamtube"&&(d.intensity=this.intensity[_[1]],d.velocity=this.vectors[_[1]].slice(0,3),d.divergence=this.vectors[_[1]][3],d.index=T),d},v.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},f.exports=function(m,T,_){var A=_.shaders;arguments.length===1&&(m=(T=m).gl);var d=function(N,V){var Z=o(N,V.meshShader.vertex,V.meshShader.fragment,null,V.meshShader.attributes);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.vector.location=4,Z}(m,A),C=function(N,V){var Z=o(N,V.pickShader.vertex,V.pickShader.fragment,null,V.pickShader.attributes);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.vector.location=4,Z}(m,A),k=a(m,h(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=m.LINEAR_MIPMAP_LINEAR,k.magFilter=m.LINEAR;var D=r(m),O=r(m),L=r(m),R=r(m),z=r(m),q=new g(m,k,d,C,D,O,z,L,R,i(m,[{buffer:D,type:m.FLOAT,size:4},{buffer:z,type:m.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:L,type:m.FLOAT,size:4},{buffer:R,type:m.FLOAT,size:2},{buffer:O,type:m.FLOAT,size:4}]),_.traceType||"cone");return q.update(T),q}},614:function(f,s,t){var o=t(3236),r=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),i=o([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),a=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(f){f.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(f,s,t){var o=t(737);f.exports=function(r){return o[r]}},9165:function(f,s,t){"use strict";f.exports=function(g){var v=g.gl,m=o(v),T=r(v,[{buffer:m,type:v.FLOAT,size:3,offset:0,stride:40},{buffer:m,type:v.FLOAT,size:4,offset:12,stride:40},{buffer:m,type:v.FLOAT,size:3,offset:28,stride:40}]),_=i(v);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.offset.location=2;var A=new l(v,m,T,_);return A.update(g),A};var o=t(2762),r=t(8116),i=t(3436),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(g,v,m,T){this.gl=g,this.shader=T,this.buffer=v,this.vao=m,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function h(g,v){for(var m=0;m<3;++m)g[0][m]=Math.min(g[0][m],v[m]),g[1][m]=Math.max(g[1][m],v[m])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(g){var v=this.gl,m=this.shader.uniforms;this.shader.bind();var T=m.view=g.view||a,_=m.projection=g.projection||a;m.model=g.model||a,m.clipBounds=this.clipBounds,m.opacity=this.opacity;var A=T[12],d=T[13],C=T[14],k=T[15],D=(g._ortho?2:1)*this.pixelRatio*(_[3]*A+_[7]*d+_[11]*C+_[15]*k)/v.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)v.lineWidth(this.lineWidth[O]*this.pixelRatio),m.capSize=this.capSize[O]*D,this.lineCount[O]&&v.drawArrays(v.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};var c=function(){for(var g=new Array(3),v=0;v<3;++v){for(var m=[],T=1;T<=2;++T)for(var _=-1;_<=1;_+=2){var A=[0,0,0];A[(T+v)%3]=_,m.push(A)}g[v]=m}return g}();function w(g,v,m,T){for(var _=c[T],A=0;A<_.length;++A){var d=_[A];g.push(v[0],v[1],v[2],m[0],m[1],m[2],m[3],d[0],d[1],d[2])}return _.length}u.update=function(g){"lineWidth"in(g=g||{})&&(this.lineWidth=g.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in g&&(this.capSize=g.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var v=g.color||[[0,0,0],[0,0,0],[0,0,0]],m=g.position,T=g.error;if(Array.isArray(v[0])||(v=[v,v,v]),m&&T){var _=[],A=m.length,d=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var C=0;C<3;++C){this.lineOffset[C]=d;e:for(var k=0;k<A;++k){for(var D=m[k],O=0;O<3;++O)if(isNaN(D[O])||!isFinite(D[O]))continue e;var L,R=T[k],z=v[C];Array.isArray(z[0])&&(z=v[k]),z.length===3?z=[z[0],z[1],z[2],1]:z.length===4&&(z=[z[0],z[1],z[2],z[3]],!this.hasAlpha&&z[3]<1&&(this.hasAlpha=!0)),!isNaN(R[0][C])&&!isNaN(R[1][C])&&(R[0][C]<0&&((L=D.slice())[C]+=R[0][C],_.push(D[0],D[1],D[2],z[0],z[1],z[2],z[3],0,0,0,L[0],L[1],L[2],z[0],z[1],z[2],z[3],0,0,0),h(this.bounds,L),d+=2+w(_,L,z,C)),R[1][C]>0&&((L=D.slice())[C]+=R[1][C],_.push(D[0],D[1],D[2],z[0],z[1],z[2],z[3],0,0,0,L[0],L[1],L[2],z[0],z[1],z[2],z[3],0,0,0),h(this.bounds,L),d+=2+w(_,L,z,C)))}this.lineCount[C]=d-this.lineOffset[C]}this.buffer.update(_)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},3436:function(f,s,t){"use strict";var o=t(3236),r=t(9405),i=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),a=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);f.exports=function(l){return r(l,i,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(f,s,t){"use strict";var o=t(7766);f.exports=function(A,d,C,k){r||(r=A.FRAMEBUFFER_UNSUPPORTED,i=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var D=A.getExtension("WEBGL_draw_buffers");if(!u&&D&&function(V,Z){var j=V.getParameter(Z.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(j+1);for(var H=0;H<=j;++H){for(var Y=new Array(j),ie=0;ie<H;++ie)Y[ie]=V.COLOR_ATTACHMENT0+ie;for(ie=H;ie<j;++ie)Y[ie]=V.NONE;u[H]=Y}}(A,D),Array.isArray(d)&&(k=C,C=0|d[1],d=0|d[0]),typeof d!="number")throw new Error("gl-fbo: Missing shape parameter");var O=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(d<0||d>O||C<0||C>O)throw new Error("gl-fbo: Parameters are too large for FBO");var L=1;if("color"in(k=k||{})){if((L=Math.max(0|k.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(L>1){if(!D)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(L>A.getParameter(D.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+L+" draw buffers")}}var R=A.UNSIGNED_BYTE,z=A.getExtension("OES_texture_float");if(k.float&&L>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");R=A.FLOAT}else k.preferFloat&&L>0&&z&&(R=A.FLOAT);var q=!0;"depth"in k&&(q=!!k.depth);var N=!1;return"stencil"in k&&(N=!!k.stencil),new m(A,d,C,R,L,q,N,D)};var r,i,a,l,u=null;function h(A){return[A.getParameter(A.FRAMEBUFFER_BINDING),A.getParameter(A.RENDERBUFFER_BINDING),A.getParameter(A.TEXTURE_BINDING_2D)]}function c(A,d){A.bindFramebuffer(A.FRAMEBUFFER,d[0]),A.bindRenderbuffer(A.RENDERBUFFER,d[1]),A.bindTexture(A.TEXTURE_2D,d[2])}function w(A){switch(A){case r:throw new Error("gl-fbo: Framebuffer unsupported");case i:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(A,d,C,k,D,O){if(!k)return null;var L=o(A,d,C,D,k);return L.magFilter=A.NEAREST,L.minFilter=A.NEAREST,L.mipSamples=1,L.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,O,A.TEXTURE_2D,L.handle,0),L}function v(A,d,C,k,D){var O=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,O),A.renderbufferStorage(A.RENDERBUFFER,k,d,C),A.framebufferRenderbuffer(A.FRAMEBUFFER,D,A.RENDERBUFFER,O),O}function m(A,d,C,k,D,O,L,R){this.gl=A,this._shape=[0|d,0|C],this._destroyed=!1,this._ext=R,this.color=new Array(D);for(var z=0;z<D;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=k,this._useDepth=O,this._useStencil=L;var q=this,N=[0|d,0|C];Object.defineProperties(N,{0:{get:function(){return q._shape[0]},set:function(V){return q.width=V}},1:{get:function(){return q._shape[1]},set:function(V){return q.height=V}}}),this._shapeVector=N,function(V){var Z=h(V.gl),j=V.gl,H=V.handle=j.createFramebuffer(),Y=V._shape[0],ie=V._shape[1],re=V.color.length,ne=V._ext,ee=V._useStencil,Q=V._useDepth,X=V._colorType;j.bindFramebuffer(j.FRAMEBUFFER,H);for(var se=0;se<re;++se)V.color[se]=g(j,Y,ie,X,j.RGBA,j.COLOR_ATTACHMENT0+se);re===0?(V._color_rb=v(j,Y,ie,j.RGBA4,j.COLOR_ATTACHMENT0),ne&&ne.drawBuffersWEBGL(u[0])):re>1&&ne.drawBuffersWEBGL(u[re]);var ce=j.getExtension("WEBGL_depth_texture");ce?ee?V.depth=g(j,Y,ie,ce.UNSIGNED_INT_24_8_WEBGL,j.DEPTH_STENCIL,j.DEPTH_STENCIL_ATTACHMENT):Q&&(V.depth=g(j,Y,ie,j.UNSIGNED_SHORT,j.DEPTH_COMPONENT,j.DEPTH_ATTACHMENT)):Q&&ee?V._depth_rb=v(j,Y,ie,j.DEPTH_STENCIL,j.DEPTH_STENCIL_ATTACHMENT):Q?V._depth_rb=v(j,Y,ie,j.DEPTH_COMPONENT16,j.DEPTH_ATTACHMENT):ee&&(V._depth_rb=v(j,Y,ie,j.STENCIL_INDEX,j.STENCIL_ATTACHMENT));var le=j.checkFramebufferStatus(j.FRAMEBUFFER);if(le!==j.FRAMEBUFFER_COMPLETE){for(V._destroyed=!0,j.bindFramebuffer(j.FRAMEBUFFER,null),j.deleteFramebuffer(V.handle),V.handle=null,V.depth&&(V.depth.dispose(),V.depth=null),V._depth_rb&&(j.deleteRenderbuffer(V._depth_rb),V._depth_rb=null),se=0;se<V.color.length;++se)V.color[se].dispose(),V.color[se]=null;V._color_rb&&(j.deleteRenderbuffer(V._color_rb),V._color_rb=null),c(j,Z),w(le)}c(j,Z)}(this)}var T=m.prototype;function _(A,d,C){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(A._shape[0]!==d||A._shape[1]!==C){var k=A.gl,D=k.getParameter(k.MAX_RENDERBUFFER_SIZE);if(d<0||d>D||C<0||C>D)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=d,A._shape[1]=C;for(var O=h(k),L=0;L<A.color.length;++L)A.color[L].shape=A._shape;A._color_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._color_rb),k.renderbufferStorage(k.RENDERBUFFER,k.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&k.renderbufferStorage(k.RENDERBUFFER,k.STENCIL_INDEX,A._shape[0],A._shape[1])),k.bindFramebuffer(k.FRAMEBUFFER,A.handle);var R=k.checkFramebufferStatus(k.FRAMEBUFFER);R!==k.FRAMEBUFFER_COMPLETE&&(A.dispose(),c(k,O),w(R)),c(k,O)}}Object.defineProperties(T,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[0|A,0|A]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var d=0|A[0],C=0|A[1];return _(this,d,C),[d,C]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return _(this,A|=0,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A|=0,_(this,this._shape[0],A),A},enumerable:!1}}),T.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},T.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var d=0;d<this.color.length;++d)this.color[d].dispose(),this.color[d]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},2992:function(f,s,t){var o=t(3387).sprintf,r=t(5171),i=t(1848),a=t(1085);f.exports=function(l,u,h){"use strict";var c=i(u)||"of unknown name (see npm glsl-shader-name)",w="unknown type";h!==void 0&&(w=h===r.FRAGMENT_SHADER?"fragment":"vertex");for(var g=o(`Error compiling %s shader %s:
`,w,c),v=o("%s%s",g,l),m=l.split(`
`),T={},_=0;_<m.length;_++){var A=m[_];if(A!==""&&A!=="\0"){var d=parseInt(A.split(":")[2]);if(isNaN(d))throw new Error(o("Could not parse error: %s",A));T[d]=A}}var C=a(u).split(`
`);for(_=0;_<C.length;_++)if((T[_+3]||T[_+2]||T[_+1])&&(g+=C[_]+`
`,T[_+1])){var k=T[_+1];k=k.substr(k.split(":",3).join(":").length+1).trim(),g+=o(`^^^ %s

`,k)}return{long:g.trim(),short:v.trim()}}},2510:function(f,s,t){"use strict";f.exports=function(v,m){var T=v.gl,_=new h(v,a(T,u.vertex,u.fragment),a(T,u.pickVertex,u.pickFragment),l(T),l(T),l(T),l(T));return _.update(m),v.addObject(_),_};var o=t(2478),r=t(7762),i=t(1888),a=t(9405),l=t(2762),u=t(6768);function h(v,m,T,_,A,d,C){this.plot=v,this.shader=m,this.pickShader=T,this.positionBuffer=_,this.weightBuffer=A,this.colorBuffer=d,this.idBuffer=C,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,w=h.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];w.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var v=this.plot,m=this.shader,T=this.bounds,_=this.numVertices;if(!(_<=0)){var A=v.gl,d=v.dataBox,C=T[2]-T[0],k=T[3]-T[1],D=d[2]-d[0],O=d[3]-d[1];c[0]=2*C/D,c[4]=2*k/O,c[6]=2*(T[0]-d[0])/D-1,c[7]=2*(T[1]-d[1])/O-1,m.bind();var L=m.uniforms;L.viewTransform=c,L.shape=this.shape;var R=m.attributes;this.positionBuffer.bind(),R.position.pointer(),this.weightBuffer.bind(),R.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),R.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,_)}}),w.drawPick=function(){var v=[1,0,0,0,1,0,0,0,1],m=[0,0,0,0];return function(T){var _=this.plot,A=this.pickShader,d=this.bounds,C=this.numVertices;if(!(C<=0)){var k=_.gl,D=_.dataBox,O=d[2]-d[0],L=d[3]-d[1],R=D[2]-D[0],z=D[3]-D[1];v[0]=2*O/R,v[4]=2*L/z,v[6]=2*(d[0]-D[0])/R-1,v[7]=2*(d[1]-D[1])/z-1;for(var q=0;q<4;++q)m[q]=T>>8*q&255;this.pickOffset=T,A.bind();var N=A.uniforms;N.viewTransform=v,N.pickOffset=m,N.shape=this.shape;var V=A.attributes;return this.positionBuffer.bind(),V.position.pointer(),this.weightBuffer.bind(),V.weight.pointer(k.UNSIGNED_BYTE,!1),this.idBuffer.bind(),V.pickId.pointer(k.UNSIGNED_BYTE,!1),k.drawArrays(k.TRIANGLES,0,C),T+this.shape[0]*this.shape[1]}}}(),w.pick=function(v,m,T){var _=this.pickOffset,A=this.shape[0]*this.shape[1];if(T<_||T>=_+A)return null;var d=T-_,C=this.xData,k=this.yData;return{object:this,pointId:d,dataCoord:[C[d%this.shape[0]],k[d/this.shape[0]|0]]}},w.update=function(v){var m=(v=v||{}).shape||[0,0],T=v.x||r(m[0]),_=v.y||r(m[1]),A=v.z||new Float32Array(m[0]*m[1]),d=v.zsmooth!==!1;this.xData=T,this.yData=_;var C,k,D,O,L=v.colorLevels||[0],R=v.colorValues||[0,0,0,1],z=L.length,q=this.bounds;d?(C=q[0]=T[0],k=q[1]=_[0],D=q[2]=T[T.length-1],O=q[3]=_[_.length-1]):(C=q[0]=T[0]+(T[1]-T[0])/2,k=q[1]=_[0]+(_[1]-_[0])/2,D=q[2]=T[T.length-1]+(T[T.length-1]-T[T.length-2])/2,O=q[3]=_[_.length-1]+(_[_.length-1]-_[_.length-2])/2);var N=1/(D-C),V=1/(O-k),Z=m[0],j=m[1];this.shape=[Z,j];var H=(d?(Z-1)*(j-1):Z*j)*(g.length>>>1);this.numVertices=H;for(var Y=i.mallocUint8(4*H),ie=i.mallocFloat32(2*H),re=i.mallocUint8(2*H),ne=i.mallocUint32(H),ee=0,Q=d?Z-1:Z,X=d?j-1:j,se=0;se<X;++se){var ce,le;d?(ce=V*(_[se]-k),le=V*(_[se+1]-k)):(ce=se<j-1?V*(_[se]-(_[se+1]-_[se])/2-k):V*(_[se]-(_[se]-_[se-1])/2-k),le=se<j-1?V*(_[se]+(_[se+1]-_[se])/2-k):V*(_[se]+(_[se]-_[se-1])/2-k));for(var de=0;de<Q;++de){var be,_e;d?(be=N*(T[de]-C),_e=N*(T[de+1]-C)):(be=de<Z-1?N*(T[de]-(T[de+1]-T[de])/2-C):N*(T[de]-(T[de]-T[de-1])/2-C),_e=de<Z-1?N*(T[de]+(T[de+1]-T[de])/2-C):N*(T[de]+(T[de]-T[de-1])/2-C));for(var ve=0;ve<g.length;ve+=2){var me,ye,Se,Ie,xe=g[ve],ue=g[ve+1],ae=A[d?(se+ue)*Z+(de+xe):se*Z+de],pe=o.le(L,ae);if(pe<0)me=R[0],ye=R[1],Se=R[2],Ie=R[3];else if(pe===z-1)me=R[4*z-4],ye=R[4*z-3],Se=R[4*z-2],Ie=R[4*z-1];else{var De=(ae-L[pe])/(L[pe+1]-L[pe]),Te=1-De,Ae=4*pe,Ce=4*(pe+1);me=Te*R[Ae]+De*R[Ce],ye=Te*R[Ae+1]+De*R[Ce+1],Se=Te*R[Ae+2]+De*R[Ce+2],Ie=Te*R[Ae+3]+De*R[Ce+3]}Y[4*ee]=255*me,Y[4*ee+1]=255*ye,Y[4*ee+2]=255*Se,Y[4*ee+3]=255*Ie,ie[2*ee]=.5*be+.5*_e,ie[2*ee+1]=.5*ce+.5*le,re[2*ee]=xe,re[2*ee+1]=ue,ne[ee]=se*Z+de,ee+=1}}}this.positionBuffer.update(ie),this.weightBuffer.update(re),this.colorBuffer.update(Y),this.idBuffer.update(ne),i.free(ie),i.free(Y),i.free(re),i.free(ne)},w.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},6768:function(f,s,t){"use strict";var o=t(3236);f.exports={fragment:o([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:o([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(f,s,t){var o=t(3236),r=t(9405),i=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),a=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(h){return r(h,i,a,null,u)},s.createPickShader=function(h){return r(h,i,l,null,u)}},5714:function(f,s,t){"use strict";f.exports=function(C){var k=C.gl||C.scene&&C.scene.gl,D=w(k);D.attributes.position.location=0,D.attributes.nextPosition.location=1,D.attributes.arcLength.location=2,D.attributes.lineWidth.location=3,D.attributes.color.location=4;var O=g(k);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var L=o(k),R=r(k,[{buffer:L,size:3,offset:0,stride:48},{buffer:L,size:3,offset:12,stride:48},{buffer:L,size:1,offset:24,stride:48},{buffer:L,size:1,offset:28,stride:48},{buffer:L,size:4,offset:32,stride:48}]),z=h(new Array(1024),[256,1,4]),q=0;q<1024;++q)z.data[q]=255;var N=i(k,z);N.wrap=k.REPEAT;var V=new A(k,D,O,L,R,N);return V.update(C),V};var o=t(2762),r=t(8116),i=t(7766),a=new Uint8Array(4),l=new Float32Array(a.buffer),u=t(2478),h=t(9618),c=t(7319),w=c.createShader,g=c.createPickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function m(C,k){for(var D=0,O=0;O<3;++O){var L=C[O]-k[O];D+=L*L}return Math.sqrt(D)}function T(C){for(var k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],D=0;D<3;++D)k[0][D]=Math.max(C[0][D],k[0][D]),k[1][D]=Math.min(C[1][D],k[1][D]);return k}function _(C,k,D,O){this.arcLength=C,this.position=k,this.index=D,this.dataCoordinate=O}function A(C,k,D,O,L,R){this.gl=C,this.shader=k,this.pickShader=D,this.buffer=O,this.vao=L,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=R,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var d=A.prototype;d.isTransparent=function(){return this.hasAlpha},d.isOpaque=function(){return!this.hasAlpha},d.pickSlots=1,d.setPickBase=function(C){this.pickId=C},d.drawTransparent=d.draw=function(C){if(this.vertexCount){var k=this.gl,D=this.shader,O=this.vao;D.bind(),D.uniforms={model:C.model||v,view:C.view||v,projection:C.projection||v,clipBounds:T(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(k.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},d.drawPick=function(C){if(this.vertexCount){var k=this.gl,D=this.pickShader,O=this.vao;D.bind(),D.uniforms={model:C.model||v,view:C.view||v,projection:C.projection||v,pickId:this.pickId,clipBounds:T(this.clipBounds),screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(k.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},d.update=function(C){var k,D;this.dirty=!0;var O=!!C.connectGaps;"dashScale"in C&&(this.dashScale=C.dashScale),this.hasAlpha=!1,"opacity"in C&&(this.opacity=+C.opacity,this.opacity<1&&(this.hasAlpha=!0));var L=[],R=[],z=[],q=0,N=0,V=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Z=C.position||C.positions;if(Z){var j=C.color||C.colors||[0,0,0,1],H=C.lineWidth||1,Y=!1;e:for(k=1;k<Z.length;++k){var ie,re,ne,ee=Z[k-1],Q=Z[k];for(R.push(q),z.push(ee.slice()),D=0;D<3;++D){if(isNaN(ee[D])||isNaN(Q[D])||!isFinite(ee[D])||!isFinite(Q[D])){if(!O&&L.length>0){for(var X=0;X<24;++X)L.push(L[L.length-12]);N+=2,Y=!0}continue e}V[0][D]=Math.min(V[0][D],ee[D],Q[D]),V[1][D]=Math.max(V[1][D],ee[D],Q[D])}Array.isArray(j[0])?(ie=j.length>k-1?j[k-1]:j.length>0?j[j.length-1]:[0,0,0,1],re=j.length>k?j[k]:j.length>0?j[j.length-1]:[0,0,0,1]):ie=re=j,ie.length===3&&(ie=[ie[0],ie[1],ie[2],1]),re.length===3&&(re=[re[0],re[1],re[2],1]),!this.hasAlpha&&ie[3]<1&&(this.hasAlpha=!0),ne=Array.isArray(H)?H.length>k-1?H[k-1]:H.length>0?H[H.length-1]:[0,0,0,1]:H;var se=q;if(q+=m(ee,Q),Y){for(D=0;D<2;++D)L.push(ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],se,ne,ie[0],ie[1],ie[2],ie[3]);N+=2,Y=!1}L.push(ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],se,ne,ie[0],ie[1],ie[2],ie[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],se,-ne,ie[0],ie[1],ie[2],ie[3],Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],q,-ne,re[0],re[1],re[2],re[3],Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],q,ne,re[0],re[1],re[2],re[3]),N+=4}}if(this.buffer.update(L),R.push(q),z.push(Z[Z.length-1].slice()),this.bounds=V,this.vertexCount=N,this.points=z,this.arcLength=R,"dashes"in C){var ce=C.dashes.slice();for(ce.unshift(0),k=1;k<ce.length;++k)ce[k]=ce[k-1]+ce[k];var le=h(new Array(1024),[256,1,4]);for(k=0;k<256;++k){for(D=0;D<4;++D)le.set(k,0,D,0);1&u.le(ce,ce[ce.length-1]*k/255)?le.set(k,0,0,0):le.set(k,0,0,255)}this.texture.setPixels(le)}},d.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},d.pick=function(C){if(!C||C.id!==this.pickId)return null;var k=function(Z,j,H,Y){return a[0]=0,a[1]=H,a[2]=j,a[3]=Z,l[0]}(C.value[0],C.value[1],C.value[2]),D=u.le(this.arcLength,k);if(D<0)return null;if(D===this.arcLength.length-1)return new _(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),D);for(var O=this.points[D],L=this.points[Math.min(D+1,this.points.length-1)],R=(k-this.arcLength[D])/(this.arcLength[D+1]-this.arcLength[D]),z=1-R,q=[0,0,0],N=0;N<3;++N)q[N]=z*O[N]+R*L[N];var V=Math.min(R<.5?D:D+1,this.points.length-1);return new _(k,q,V,this.points[V])}},1903:function(f){f.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},6864:function(f){f.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9921:function(f){f.exports=function(s){var t=s[0],o=s[1],r=s[2],i=s[3],a=s[4],l=s[5],u=s[6],h=s[7],c=s[8],w=s[9],g=s[10],v=s[11],m=s[12],T=s[13],_=s[14],A=s[15];return(t*l-o*a)*(g*A-v*_)-(t*u-r*a)*(w*A-v*T)+(t*h-i*a)*(w*_-g*T)+(o*u-r*l)*(c*A-v*m)-(o*h-i*l)*(c*_-g*m)+(r*h-i*u)*(c*T-w*m)}},7399:function(f){f.exports=function(s,t){var o=t[0],r=t[1],i=t[2],a=t[3],l=o+o,u=r+r,h=i+i,c=o*l,w=r*l,g=r*u,v=i*l,m=i*u,T=i*h,_=a*l,A=a*u,d=a*h;return s[0]=1-g-T,s[1]=w+d,s[2]=v-A,s[3]=0,s[4]=w-d,s[5]=1-c-T,s[6]=m+_,s[7]=0,s[8]=v+A,s[9]=m-_,s[10]=1-c-g,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},6743:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=t[3],u=r+r,h=i+i,c=a+a,w=r*u,g=r*h,v=r*c,m=i*h,T=i*c,_=a*c,A=l*u,d=l*h,C=l*c;return s[0]=1-(m+_),s[1]=g+C,s[2]=v-d,s[3]=0,s[4]=g-C,s[5]=1-(w+_),s[6]=T+A,s[7]=0,s[8]=v+d,s[9]=T-A,s[10]=1-(w+m),s[11]=0,s[12]=o[0],s[13]=o[1],s[14]=o[2],s[15]=1,s}},7894:function(f){f.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7608:function(f){f.exports=function(s,t){var o=t[0],r=t[1],i=t[2],a=t[3],l=t[4],u=t[5],h=t[6],c=t[7],w=t[8],g=t[9],v=t[10],m=t[11],T=t[12],_=t[13],A=t[14],d=t[15],C=o*u-r*l,k=o*h-i*l,D=o*c-a*l,O=r*h-i*u,L=r*c-a*u,R=i*c-a*h,z=w*_-g*T,q=w*A-v*T,N=w*d-m*T,V=g*A-v*_,Z=g*d-m*_,j=v*d-m*A,H=C*j-k*Z+D*V+O*N-L*q+R*z;return H?(H=1/H,s[0]=(u*j-h*Z+c*V)*H,s[1]=(i*Z-r*j-a*V)*H,s[2]=(_*R-A*L+d*O)*H,s[3]=(v*L-g*R-m*O)*H,s[4]=(h*N-l*j-c*q)*H,s[5]=(o*j-i*N+a*q)*H,s[6]=(A*D-T*R-d*k)*H,s[7]=(w*R-v*D+m*k)*H,s[8]=(l*Z-u*N+c*z)*H,s[9]=(r*N-o*Z-a*z)*H,s[10]=(T*L-_*D+d*C)*H,s[11]=(g*D-w*L-m*C)*H,s[12]=(u*q-l*V-h*z)*H,s[13]=(o*V-r*q+i*z)*H,s[14]=(_*k-T*O-A*C)*H,s[15]=(w*O-g*k+v*C)*H,s):null}},6582:function(f,s,t){var o=t(7894);f.exports=function(r,i,a,l){var u,h,c,w,g,v,m,T,_,A,d=i[0],C=i[1],k=i[2],D=l[0],O=l[1],L=l[2],R=a[0],z=a[1],q=a[2];return Math.abs(d-R)<1e-6&&Math.abs(C-z)<1e-6&&Math.abs(k-q)<1e-6?o(r):(m=d-R,T=C-z,_=k-q,u=O*(_*=A=1/Math.sqrt(m*m+T*T+_*_))-L*(T*=A),h=L*(m*=A)-D*_,c=D*T-O*m,(A=Math.sqrt(u*u+h*h+c*c))?(u*=A=1/A,h*=A,c*=A):(u=0,h=0,c=0),w=T*c-_*h,g=_*u-m*c,v=m*h-T*u,(A=Math.sqrt(w*w+g*g+v*v))?(w*=A=1/A,g*=A,v*=A):(w=0,g=0,v=0),r[0]=u,r[1]=w,r[2]=m,r[3]=0,r[4]=h,r[5]=g,r[6]=T,r[7]=0,r[8]=c,r[9]=v,r[10]=_,r[11]=0,r[12]=-(u*d+h*C+c*k),r[13]=-(w*d+g*C+v*k),r[14]=-(m*d+T*C+_*k),r[15]=1,r)}},6760:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=t[3],u=t[4],h=t[5],c=t[6],w=t[7],g=t[8],v=t[9],m=t[10],T=t[11],_=t[12],A=t[13],d=t[14],C=t[15],k=o[0],D=o[1],O=o[2],L=o[3];return s[0]=k*r+D*u+O*g+L*_,s[1]=k*i+D*h+O*v+L*A,s[2]=k*a+D*c+O*m+L*d,s[3]=k*l+D*w+O*T+L*C,k=o[4],D=o[5],O=o[6],L=o[7],s[4]=k*r+D*u+O*g+L*_,s[5]=k*i+D*h+O*v+L*A,s[6]=k*a+D*c+O*m+L*d,s[7]=k*l+D*w+O*T+L*C,k=o[8],D=o[9],O=o[10],L=o[11],s[8]=k*r+D*u+O*g+L*_,s[9]=k*i+D*h+O*v+L*A,s[10]=k*a+D*c+O*m+L*d,s[11]=k*l+D*w+O*T+L*C,k=o[12],D=o[13],O=o[14],L=o[15],s[12]=k*r+D*u+O*g+L*_,s[13]=k*i+D*h+O*v+L*A,s[14]=k*a+D*c+O*m+L*d,s[15]=k*l+D*w+O*T+L*C,s}},4040:function(f){f.exports=function(s,t,o,r,i,a,l){var u=1/(t-o),h=1/(r-i),c=1/(a-l);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*h,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+o)*u,s[13]=(i+r)*h,s[14]=(l+a)*c,s[15]=1,s}},4772:function(f){f.exports=function(s,t,o,r,i){var a=1/Math.tan(t/2),l=1/(r-i);return s[0]=a/o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=a,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(i+r)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*i*r*l,s[15]=0,s}},6079:function(f){f.exports=function(s,t,o,r){var i,a,l,u,h,c,w,g,v,m,T,_,A,d,C,k,D,O,L,R,z,q,N,V,Z=r[0],j=r[1],H=r[2],Y=Math.sqrt(Z*Z+j*j+H*H);return Math.abs(Y)<1e-6?null:(Z*=Y=1/Y,j*=Y,H*=Y,i=Math.sin(o),l=1-(a=Math.cos(o)),u=t[0],h=t[1],c=t[2],w=t[3],g=t[4],v=t[5],m=t[6],T=t[7],_=t[8],A=t[9],d=t[10],C=t[11],k=Z*Z*l+a,D=j*Z*l+H*i,O=H*Z*l-j*i,L=Z*j*l-H*i,R=j*j*l+a,z=H*j*l+Z*i,q=Z*H*l+j*i,N=j*H*l-Z*i,V=H*H*l+a,s[0]=u*k+g*D+_*O,s[1]=h*k+v*D+A*O,s[2]=c*k+m*D+d*O,s[3]=w*k+T*D+C*O,s[4]=u*L+g*R+_*z,s[5]=h*L+v*R+A*z,s[6]=c*L+m*R+d*z,s[7]=w*L+T*R+C*z,s[8]=u*q+g*N+_*V,s[9]=h*q+v*N+A*V,s[10]=c*q+m*N+d*V,s[11]=w*q+T*N+C*V,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},5567:function(f){f.exports=function(s,t,o){var r=Math.sin(o),i=Math.cos(o),a=t[4],l=t[5],u=t[6],h=t[7],c=t[8],w=t[9],g=t[10],v=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=a*i+c*r,s[5]=l*i+w*r,s[6]=u*i+g*r,s[7]=h*i+v*r,s[8]=c*i-a*r,s[9]=w*i-l*r,s[10]=g*i-u*r,s[11]=v*i-h*r,s}},2408:function(f){f.exports=function(s,t,o){var r=Math.sin(o),i=Math.cos(o),a=t[0],l=t[1],u=t[2],h=t[3],c=t[8],w=t[9],g=t[10],v=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=a*i-c*r,s[1]=l*i-w*r,s[2]=u*i-g*r,s[3]=h*i-v*r,s[8]=a*r+c*i,s[9]=l*r+w*i,s[10]=u*r+g*i,s[11]=h*r+v*i,s}},7089:function(f){f.exports=function(s,t,o){var r=Math.sin(o),i=Math.cos(o),a=t[0],l=t[1],u=t[2],h=t[3],c=t[4],w=t[5],g=t[6],v=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=a*i+c*r,s[1]=l*i+w*r,s[2]=u*i+g*r,s[3]=h*i+v*r,s[4]=c*i-a*r,s[5]=w*i-l*r,s[6]=g*i-u*r,s[7]=v*i-h*r,s}},2504:function(f){f.exports=function(s,t,o){var r=o[0],i=o[1],a=o[2];return s[0]=t[0]*r,s[1]=t[1]*r,s[2]=t[2]*r,s[3]=t[3]*r,s[4]=t[4]*i,s[5]=t[5]*i,s[6]=t[6]*i,s[7]=t[7]*i,s[8]=t[8]*a,s[9]=t[9]*a,s[10]=t[10]*a,s[11]=t[11]*a,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},7656:function(f){f.exports=function(s,t,o){var r,i,a,l,u,h,c,w,g,v,m,T,_=o[0],A=o[1],d=o[2];return t===s?(s[12]=t[0]*_+t[4]*A+t[8]*d+t[12],s[13]=t[1]*_+t[5]*A+t[9]*d+t[13],s[14]=t[2]*_+t[6]*A+t[10]*d+t[14],s[15]=t[3]*_+t[7]*A+t[11]*d+t[15]):(r=t[0],i=t[1],a=t[2],l=t[3],u=t[4],h=t[5],c=t[6],w=t[7],g=t[8],v=t[9],m=t[10],T=t[11],s[0]=r,s[1]=i,s[2]=a,s[3]=l,s[4]=u,s[5]=h,s[6]=c,s[7]=w,s[8]=g,s[9]=v,s[10]=m,s[11]=T,s[12]=r*_+u*A+g*d+t[12],s[13]=i*_+h*A+v*d+t[13],s[14]=a*_+c*A+m*d+t[14],s[15]=l*_+w*A+T*d+t[15]),s}},5665:function(f){f.exports=function(s,t){if(s===t){var o=t[1],r=t[2],i=t[3],a=t[6],l=t[7],u=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=o,s[6]=t[9],s[7]=t[13],s[8]=r,s[9]=a,s[11]=t[14],s[12]=i,s[13]=l,s[14]=u}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},7626:function(f,s,t){"use strict";var o=t(2642),r=t(9346);function i(u,h){for(var c=[0,0,0,0],w=0;w<4;++w)for(var g=0;g<4;++g)c[g]+=u[4*w+g]*h[w];return c}function a(u,h,c,w,g){for(var v=i(w,i(c,i(h,[u[0],u[1],u[2],1]))),m=0;m<3;++m)v[m]/=v[3];return[.5*g[0]*(1+v[0]),.5*g[1]*(1-v[1])]}function l(u,h){for(var c=[0,0,0],w=0;w<u.length;++w)for(var g=u[w],v=h[w],m=0;m<3;++m)c[m]+=v*g[m];return c}f.exports=function(u,h,c,w,g,v){if(u.length===1)return[0,u[0].slice()];for(var m=new Array(u.length),T=0;T<u.length;++T)m[T]=a(u[T],c,w,g,v);var _=0,A=1/0;for(T=0;T<m.length;++T){for(var d=0,C=0;C<2;++C)d+=Math.pow(m[T][C]-h[C],2);d<A&&(A=d,_=T)}var k=function(O,L){if(O.length===2){for(var R=0,z=0,q=0;q<2;++q)R+=Math.pow(L[q]-O[0][q],2),z+=Math.pow(L[q]-O[1][q],2);return(R=Math.sqrt(R))+(z=Math.sqrt(z))<1e-6?[1,0]:[z/(R+z),R/(z+R)]}if(O.length===3){var N=[0,0];return r(O[0],O[1],O[2],L,N),o(O,N)}return[]}(m,h),D=0;for(T=0;T<3;++T){if(k[T]<-.001||k[T]>1.0001)return null;D+=k[T]}return Math.abs(D-1)>.001?null:[_,l(u,k),k]}},840:function(f,s,t){var o=t(3236),r=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),i=o([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),a=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),h=o([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),w=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),g=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),v=o([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),m=o([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:r,fragment:i,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:g,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:v,fragment:m,attributes:[{name:"position",type:"vec3"}]}},7201:function(f,s,t){"use strict";var o=t(9405),r=t(2762),i=t(8116),a=t(7766),l=t(8406),u=t(6760),h=t(7608),c=t(9618),w=t(6729),g=t(7765),v=t(1888),m=t(840),T=t(7626),_=m.meshShader,A=m.wireShader,d=m.pointShader,C=m.pickShader,k=m.pointPickShader,D=m.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function L(j,H,Y,ie,re,ne,ee,Q,X,se,ce,le,de,be,_e,ve,me,ye,Se,Ie,xe,ue,ae,pe,De,Te,Ae){this.gl=j,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=H,this.dirty=!0,this.triShader=Y,this.lineShader=ie,this.pointShader=re,this.pickShader=ne,this.pointPickShader=ee,this.contourShader=Q,this.trianglePositions=X,this.triangleColors=ce,this.triangleNormals=de,this.triangleUVs=le,this.triangleIds=se,this.triangleVAO=be,this.triangleCount=0,this.lineWidth=1,this.edgePositions=_e,this.edgeColors=me,this.edgeUVs=ye,this.edgeIds=ve,this.edgeVAO=Se,this.edgeCount=0,this.pointPositions=Ie,this.pointColors=ue,this.pointUVs=ae,this.pointSizes=pe,this.pointIds=xe,this.pointVAO=De,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Te,this.contourVAO=Ae,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var R=L.prototype;function z(j,H){if(!H||!H.length)return 1;for(var Y=0;Y<H.length;++Y){if(H.length<2)return 1;if(H[Y][0]===j)return H[Y][1];if(H[Y][0]>j&&Y>0){var ie=(H[Y][0]-j)/(H[Y][0]-H[Y-1][0]);return H[Y][1]*(1-ie)+ie*H[Y-1][1]}}return 1}function q(j){var H=o(j,d.vertex,d.fragment);return H.attributes.position.location=0,H.attributes.color.location=2,H.attributes.uv.location=3,H.attributes.pointSize.location=4,H}function N(j){var H=o(j,C.vertex,C.fragment);return H.attributes.position.location=0,H.attributes.id.location=1,H}function V(j){var H=o(j,k.vertex,k.fragment);return H.attributes.position.location=0,H.attributes.id.location=1,H.attributes.pointSize.location=4,H}function Z(j){var H=o(j,D.vertex,D.fragment);return H.attributes.position.location=0,H}R.isOpaque=function(){return!this.hasAlpha},R.isTransparent=function(){return this.hasAlpha},R.pickSlots=1,R.setPickBase=function(j){this.pickId=j},R.highlight=function(j){if(j&&this.contourEnable){for(var H=g(this.cells,this.intensity,j.intensity),Y=H.cells,ie=H.vertexIds,re=H.vertexWeights,ne=Y.length,ee=v.mallocFloat32(6*ne),Q=0,X=0;X<ne;++X)for(var se=Y[X],ce=0;ce<2;++ce){var le=se[0];se.length===2&&(le=se[ce]);for(var de=ie[le][0],be=ie[le][1],_e=re[le],ve=1-_e,me=this.positions[de],ye=this.positions[be],Se=0;Se<3;++Se)ee[Q++]=_e*me[Se]+ve*ye[Se]}this.contourCount=Q/3|0,this.contourPositions.update(ee.subarray(0,Q)),v.free(ee)}else this.contourCount=0},R.update=function(j){j=j||{};var H=this.gl;this.dirty=!0,"contourEnable"in j&&(this.contourEnable=j.contourEnable),"contourColor"in j&&(this.contourColor=j.contourColor),"lineWidth"in j&&(this.lineWidth=j.lineWidth),"lightPosition"in j&&(this.lightPosition=j.lightPosition),this.hasAlpha=!1,"opacity"in j&&(this.opacity=j.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in j&&(this.opacityscale=j.opacityscale,this.hasAlpha=!0),"ambient"in j&&(this.ambientLight=j.ambient),"diffuse"in j&&(this.diffuseLight=j.diffuse),"specular"in j&&(this.specularLight=j.specular),"roughness"in j&&(this.roughness=j.roughness),"fresnel"in j&&(this.fresnel=j.fresnel),j.texture?(this.texture.dispose(),this.texture=a(H,j.texture)):j.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=H.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=H.LINEAR,this.texture.setPixels(function(Pt,Rt){for(var Et=w({colormap:Pt,nshades:256,format:"rgba"}),Ye=new Uint8Array(1024),Xe=0;Xe<256;++Xe){for(var Ve=Et[Xe],Ze=0;Ze<3;++Ze)Ye[4*Xe+Ze]=Ve[Ze];Ye[4*Xe+3]=Rt?255*z(Xe/255,Rt):255*Ve[3]}return c(Ye,[256,256,4],[4,0,1])}(j.colormap,this.opacityscale)),this.texture.generateMipmap());var Y=j.cells,ie=j.positions;if(ie&&Y){var re=[],ne=[],ee=[],Q=[],X=[],se=[],ce=[],le=[],de=[],be=[],_e=[],ve=[],me=[],ye=[];this.cells=Y,this.positions=ie;var Se=j.vertexNormals,Ie=j.cellNormals,xe=j.vertexNormalsEpsilon===void 0?1e-6:j.vertexNormalsEpsilon,ue=j.faceNormalsEpsilon===void 0?1e-6:j.faceNormalsEpsilon;j.useFacetNormals&&!Ie&&(Ie=l.faceNormals(Y,ie,ue)),Ie||Se||(Se=l.vertexNormals(Y,ie,xe));var ae=j.vertexColors,pe=j.cellColors,De=j.meshColor||[1,1,1,1],Te=j.vertexUVs,Ae=j.vertexIntensity,Ce=j.cellUVs,Re=j.cellIntensity,Ne=1/0,ge=-1/0;if(!Te&&!Ce)if(Ae)if(j.vertexIntensityBounds)Ne=+j.vertexIntensityBounds[0],ge=+j.vertexIntensityBounds[1];else for(var Me=0;Me<Ae.length;++Me){var Ee=Ae[Me];Ne=Math.min(Ne,Ee),ge=Math.max(ge,Ee)}else if(Re)if(j.cellIntensityBounds)Ne=+j.cellIntensityBounds[0],ge=+j.cellIntensityBounds[1];else for(Me=0;Me<Re.length;++Me)Ee=Re[Me],Ne=Math.min(Ne,Ee),ge=Math.max(ge,Ee);else for(Me=0;Me<ie.length;++Me)Ee=ie[Me][2],Ne=Math.min(Ne,Ee),ge=Math.max(ge,Ee);this.intensity=Ae||Re||function(Pt){for(var Rt=Pt.length,Et=new Array(Rt),Ye=0;Ye<Rt;++Ye)Et[Ye]=Pt[Ye][2];return Et}(ie),this.pickVertex=!(Re||pe);var Fe=j.pointSizes,Le=j.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Me=0;Me<ie.length;++Me)for(var Ue=ie[Me],Ge=0;Ge<3;++Ge)!isNaN(Ue[Ge])&&isFinite(Ue[Ge])&&(this.bounds[0][Ge]=Math.min(this.bounds[0][Ge],Ue[Ge]),this.bounds[1][Ge]=Math.max(this.bounds[1][Ge],Ue[Ge]));var Ke=0,at=0,st=0;e:for(Me=0;Me<Y.length;++Me){var vt=Y[Me];switch(vt.length){case 1:for(Ue=ie[gt=vt[0]],Ge=0;Ge<3;++Ge)if(isNaN(Ue[Ge])||!isFinite(Ue[Ge]))continue e;be.push(Ue[0],Ue[1],Ue[2]),nt=ae?ae[gt]:pe?pe[Me]:De,this.opacityscale&&Ae?ne.push(nt[0],nt[1],nt[2],this.opacity*z((Ae[gt]-Ne)/(ge-Ne),this.opacityscale)):nt.length===3?_e.push(nt[0],nt[1],nt[2],this.opacity):(_e.push(nt[0],nt[1],nt[2],nt[3]*this.opacity),nt[3]<1&&(this.hasAlpha=!0)),et=Te?Te[gt]:Ae?[(Ae[gt]-Ne)/(ge-Ne),0]:Ce?Ce[Me]:Re?[(Re[Me]-Ne)/(ge-Ne),0]:[(Ue[2]-Ne)/(ge-Ne),0],ve.push(et[0],et[1]),Fe?me.push(Fe[gt]):me.push(Le),ye.push(Me),st+=1;break;case 2:for(Ge=0;Ge<2;++Ge){Ue=ie[gt=vt[Ge]];for(var xt=0;xt<3;++xt)if(isNaN(Ue[xt])||!isFinite(Ue[xt]))continue e}for(Ge=0;Ge<2;++Ge)Ue=ie[gt=vt[Ge]],se.push(Ue[0],Ue[1],Ue[2]),nt=ae?ae[gt]:pe?pe[Me]:De,this.opacityscale&&Ae?ne.push(nt[0],nt[1],nt[2],this.opacity*z((Ae[gt]-Ne)/(ge-Ne),this.opacityscale)):nt.length===3?ce.push(nt[0],nt[1],nt[2],this.opacity):(ce.push(nt[0],nt[1],nt[2],nt[3]*this.opacity),nt[3]<1&&(this.hasAlpha=!0)),et=Te?Te[gt]:Ae?[(Ae[gt]-Ne)/(ge-Ne),0]:Ce?Ce[Me]:Re?[(Re[Me]-Ne)/(ge-Ne),0]:[(Ue[2]-Ne)/(ge-Ne),0],le.push(et[0],et[1]),de.push(Me);at+=1;break;case 3:for(Ge=0;Ge<3;++Ge)for(Ue=ie[gt=vt[Ge]],xt=0;xt<3;++xt)if(isNaN(Ue[xt])||!isFinite(Ue[xt]))continue e;for(Ge=0;Ge<3;++Ge){var gt,nt,et,At;Ue=ie[gt=vt[2-Ge]],re.push(Ue[0],Ue[1],Ue[2]),(nt=ae?ae[gt]:pe?pe[Me]:De)?this.opacityscale&&Ae?ne.push(nt[0],nt[1],nt[2],this.opacity*z((Ae[gt]-Ne)/(ge-Ne),this.opacityscale)):nt.length===3?ne.push(nt[0],nt[1],nt[2],this.opacity):(ne.push(nt[0],nt[1],nt[2],nt[3]*this.opacity),nt[3]<1&&(this.hasAlpha=!0)):ne.push(.5,.5,.5,1),et=Te?Te[gt]:Ae?[(Ae[gt]-Ne)/(ge-Ne),0]:Ce?Ce[Me]:Re?[(Re[Me]-Ne)/(ge-Ne),0]:[(Ue[2]-Ne)/(ge-Ne),0],Q.push(et[0],et[1]),At=Se?Se[gt]:Ie[Me],ee.push(At[0],At[1],At[2]),X.push(Me)}Ke+=1}}this.pointCount=st,this.edgeCount=at,this.triangleCount=Ke,this.pointPositions.update(be),this.pointColors.update(_e),this.pointUVs.update(ve),this.pointSizes.update(me),this.pointIds.update(new Uint32Array(ye)),this.edgePositions.update(se),this.edgeColors.update(ce),this.edgeUVs.update(le),this.edgeIds.update(new Uint32Array(de)),this.trianglePositions.update(re),this.triangleColors.update(ne),this.triangleUVs.update(Q),this.triangleNormals.update(ee),this.triangleIds.update(new Uint32Array(X))}},R.drawTransparent=R.draw=function(j){j=j||{};for(var H=this.gl,Y=j.model||O,ie=j.view||O,re=j.projection||O,ne=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)ne[0][ee]=Math.max(ne[0][ee],this.clipBounds[0][ee]),ne[1][ee]=Math.min(ne[1][ee],this.clipBounds[1][ee]);var Q={model:Y,view:ie,projection:re,inverseModel:O.slice(),clipBounds:ne,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};Q.inverseModel=h(Q.inverseModel,Q.model),H.disable(H.CULL_FACE),this.texture.bind(0);var X=new Array(16);for(u(X,Q.view,Q.model),u(X,Q.projection,X),h(X,X),ee=0;ee<3;++ee)Q.eyePosition[ee]=X[12+ee]/X[15];var se,ce=X[15];for(ee=0;ee<3;++ee)ce+=this.lightPosition[ee]*X[4*ee+3];for(ee=0;ee<3;++ee){for(var le=X[12+ee],de=0;de<3;++de)le+=X[4*de+ee]*this.lightPosition[de];Q.lightPosition[ee]=le/ce}this.triangleCount>0&&((se=this.triShader).bind(),se.uniforms=Q,this.triangleVAO.bind(),H.drawArrays(H.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((se=this.lineShader).bind(),se.uniforms=Q,this.edgeVAO.bind(),H.lineWidth(this.lineWidth*this.pixelRatio),H.drawArrays(H.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((se=this.pointShader).bind(),se.uniforms=Q,this.pointVAO.bind(),H.drawArrays(H.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((se=this.contourShader).bind(),se.uniforms=Q,this.contourVAO.bind(),H.drawArrays(H.LINES,0,this.contourCount),this.contourVAO.unbind())},R.drawPick=function(j){j=j||{};for(var H=this.gl,Y=j.model||O,ie=j.view||O,re=j.projection||O,ne=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],ee=0;ee<3;++ee)ne[0][ee]=Math.max(ne[0][ee],this.clipBounds[0][ee]),ne[1][ee]=Math.min(ne[1][ee],this.clipBounds[1][ee]);this._model=[].slice.call(Y),this._view=[].slice.call(ie),this._projection=[].slice.call(re),this._resolution=[H.drawingBufferWidth,H.drawingBufferHeight];var Q,X={model:Y,view:ie,projection:re,clipBounds:ne,pickId:this.pickId/255};(Q=this.pickShader).bind(),Q.uniforms=X,this.triangleCount>0&&(this.triangleVAO.bind(),H.drawArrays(H.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),H.lineWidth(this.lineWidth*this.pixelRatio),H.drawArrays(H.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((Q=this.pointPickShader).bind(),Q.uniforms=X,this.pointVAO.bind(),H.drawArrays(H.POINTS,0,this.pointCount),this.pointVAO.unbind())},R.pick=function(j){if(!j||j.id!==this.pickId)return null;for(var H=j.value[0]+256*j.value[1]+65536*j.value[2],Y=this.cells[H],ie=this.positions,re=new Array(Y.length),ne=0;ne<Y.length;++ne)re[ne]=ie[Y[ne]];var ee=j.coord[0],Q=j.coord[1];if(!this.pickVertex){var X=this.positions[Y[0]],se=this.positions[Y[1]],ce=this.positions[Y[2]],le=[(X[0]+se[0]+ce[0])/3,(X[1]+se[1]+ce[1])/3,(X[2]+se[2]+ce[2])/3];return{_cellCenter:!0,position:[ee,Q],index:H,cell:Y,cellId:H,intensity:this.intensity[H],dataCoordinate:le}}var de=T(re,[ee*this.pixelRatio,this._resolution[1]-Q*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!de)return null;var be=de[2],_e=0;for(ne=0;ne<Y.length;++ne)_e+=be[ne]*this.intensity[Y[ne]];return{position:de[1],index:Y[de[0]],cell:Y,cellId:H,intensity:_e,dataCoordinate:this.positions[Y[de[0]]]}},R.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},f.exports=function(j,H){if(arguments.length===1&&(j=(H=j).gl),!(j.getExtension("OES_standard_derivatives")||j.getExtension("MOZ_OES_standard_derivatives")||j.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var Y=function(Re){var Ne=o(Re,_.vertex,_.fragment);return Ne.attributes.position.location=0,Ne.attributes.color.location=2,Ne.attributes.uv.location=3,Ne.attributes.normal.location=4,Ne}(j),ie=function(Re){var Ne=o(Re,A.vertex,A.fragment);return Ne.attributes.position.location=0,Ne.attributes.color.location=2,Ne.attributes.uv.location=3,Ne}(j),re=q(j),ne=N(j),ee=V(j),Q=Z(j),X=a(j,c(new Uint8Array([255,255,255,255]),[1,1,4]));X.generateMipmap(),X.minFilter=j.LINEAR_MIPMAP_LINEAR,X.magFilter=j.LINEAR;var se=r(j),ce=r(j),le=r(j),de=r(j),be=r(j),_e=i(j,[{buffer:se,type:j.FLOAT,size:3},{buffer:be,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ce,type:j.FLOAT,size:4},{buffer:le,type:j.FLOAT,size:2},{buffer:de,type:j.FLOAT,size:3}]),ve=r(j),me=r(j),ye=r(j),Se=r(j),Ie=i(j,[{buffer:ve,type:j.FLOAT,size:3},{buffer:Se,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:j.FLOAT,size:4},{buffer:ye,type:j.FLOAT,size:2}]),xe=r(j),ue=r(j),ae=r(j),pe=r(j),De=r(j),Te=i(j,[{buffer:xe,type:j.FLOAT,size:3},{buffer:De,type:j.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:j.FLOAT,size:4},{buffer:ae,type:j.FLOAT,size:2},{buffer:pe,type:j.FLOAT,size:1}]),Ae=r(j),Ce=new L(j,X,Y,ie,re,ne,ee,Q,se,be,ce,le,de,_e,ve,Se,me,ye,Ie,xe,De,ue,ae,pe,Te,Ae,i(j,[{buffer:Ae,type:j.FLOAT,size:3}]));return Ce.update(H),Ce}},8120:function(f,s,t){"use strict";f.exports=function(c){var w=c.gl;return new a(c,o(w,[0,0,0,1,1,0,1,1]),r(w,i.boxVert,i.lineFrag))};var o=t(2762),r=t(9405),i=t(3603);function a(c,w,g){this.plot=c,this.vbo=w,this.shader=g}var l,u,h=a.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawBox=(l=[0,0],u=[0,0],function(c,w,g,v,m){var T=this.plot,_=this.shader,A=T.gl;l[0]=c,l[1]=w,u[0]=g,u[1]=v,_.uniforms.lo=l,_.uniforms.hi=u,_.uniforms.color=m,A.drawArrays(A.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1913:function(f,s,t){"use strict";f.exports=function(T){var _=T.gl;return new l(T,o(_),r(_,a.gridVert,a.gridFrag),r(_,a.tickVert,a.gridFrag))};var o=t(2762),r=t(9405),i=t(2478),a=t(3603);function l(T,_,A,d){this.plot=T,this.vbo=_,this.shader=A,this.tickShader=d,this.ticks=[[],[]]}function u(T,_){return T-_}var h,c,w,g,v,m=l.prototype;m.draw=(h=[0,0],c=[0,0],w=[0,0],function(){for(var T=this.plot,_=this.vbo,A=this.shader,d=this.ticks,C=T.gl,k=T._tickBounds,D=T.dataBox,O=T.viewBox,L=T.gridLineWidth,R=T.gridLineColor,z=T.gridLineEnable,q=T.pixelRatio,N=0;N<2;++N){var V=k[N],Z=k[N+2]-V,j=.5*(D[N+2]+D[N]),H=D[N+2]-D[N];c[N]=2*Z/H,h[N]=2*(V-j)/H}A.bind(),_.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=h,A.uniforms.dataScale=c;var Y=0;for(N=0;N<2;++N){w[0]=w[1]=0,w[N]=1,A.uniforms.dataAxis=w,A.uniforms.lineWidth=L[N]/(O[N+2]-O[N])*q,A.uniforms.color=R[N];var ie=6*d[N].length;z[N]&&ie&&C.drawArrays(C.TRIANGLES,Y,ie),Y+=ie}}),m.drawTickMarks=function(){var T=[0,0],_=[0,0],A=[1,0],d=[0,1],C=[0,0],k=[0,0];return function(){for(var D=this.plot,O=this.vbo,L=this.tickShader,R=this.ticks,z=D.gl,q=D._tickBounds,N=D.dataBox,V=D.viewBox,Z=D.pixelRatio,j=D.screenBox,H=j[2]-j[0],Y=j[3]-j[1],ie=V[2]-V[0],re=V[3]-V[1],ne=0;ne<2;++ne){var ee=q[ne],Q=q[ne+2]-ee,X=.5*(N[ne+2]+N[ne]),se=N[ne+2]-N[ne];_[ne]=2*Q/se,T[ne]=2*(ee-X)/se}_[0]*=ie/H,T[0]*=ie/H,_[1]*=re/Y,T[1]*=re/Y,L.bind(),O.bind(),L.attributes.dataCoord.pointer();var ce=L.uniforms;ce.dataShift=T,ce.dataScale=_;var le=D.tickMarkLength,de=D.tickMarkWidth,be=D.tickMarkColor,_e=6*R[0].length,ve=Math.min(i.ge(R[0],(N[0]-q[0])/(q[2]-q[0]),u),R[0].length),me=Math.min(i.gt(R[0],(N[2]-q[0])/(q[2]-q[0]),u),R[0].length),ye=0+6*ve,Se=6*Math.max(0,me-ve),Ie=Math.min(i.ge(R[1],(N[1]-q[1])/(q[3]-q[1]),u),R[1].length),xe=Math.min(i.gt(R[1],(N[3]-q[1])/(q[3]-q[1]),u),R[1].length),ue=_e+6*Ie,ae=6*Math.max(0,xe-Ie);C[0]=2*(V[0]-le[1])/H-1,C[1]=(V[3]+V[1])/Y-1,k[0]=le[1]*Z/H,k[1]=de[1]*Z/Y,ae&&(ce.color=be[1],ce.tickScale=k,ce.dataAxis=d,ce.screenOffset=C,z.drawArrays(z.TRIANGLES,ue,ae)),C[0]=(V[2]+V[0])/H-1,C[1]=2*(V[1]-le[0])/Y-1,k[0]=de[0]*Z/H,k[1]=le[0]*Z/Y,Se&&(ce.color=be[0],ce.tickScale=k,ce.dataAxis=A,ce.screenOffset=C,z.drawArrays(z.TRIANGLES,ye,Se)),C[0]=2*(V[2]+le[3])/H-1,C[1]=(V[3]+V[1])/Y-1,k[0]=le[3]*Z/H,k[1]=de[3]*Z/Y,ae&&(ce.color=be[3],ce.tickScale=k,ce.dataAxis=d,ce.screenOffset=C,z.drawArrays(z.TRIANGLES,ue,ae)),C[0]=(V[2]+V[0])/H-1,C[1]=2*(V[3]+le[2])/Y-1,k[0]=de[2]*Z/H,k[1]=le[2]*Z/Y,Se&&(ce.color=be[2],ce.tickScale=k,ce.dataAxis=A,ce.screenOffset=C,z.drawArrays(z.TRIANGLES,ye,Se))}}(),m.update=(g=[1,1,-1,-1,1,-1],v=[1,-1,1,1,-1,-1],function(T){for(var _=T.ticks,A=T.bounds,d=new Float32Array(18*(_[0].length+_[1].length)),C=(this.plot.zeroLineEnable,0),k=[[],[]],D=0;D<2;++D)for(var O=k[D],L=_[D],R=A[D],z=A[D+2],q=0;q<L.length;++q){var N=(L[q].x-R)/(z-R);O.push(N);for(var V=0;V<6;++V)d[C++]=N,d[C++]=g[V],d[C++]=v[V]}this.ticks=k,this.vbo.update(d)}),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},4747:function(f,s,t){"use strict";f.exports=function(c){var w=c.gl;return new a(c,o(w,[-1,-1,-1,1,1,-1,1,1]),r(w,i.lineVert,i.lineFrag))};var o=t(2762),r=t(9405),i=t(3603);function a(c,w,g){this.plot=c,this.vbo=w,this.shader=g}var l,u,h=a.prototype;h.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},h.drawLine=(l=[0,0],u=[0,0],function(c,w,g,v,m,T){var _=this.plot,A=this.shader,d=_.gl;l[0]=c,l[1]=w,u[0]=g,u[1]=v,A.uniforms.start=l,A.uniforms.end=u,A.uniforms.width=m*_.pixelRatio,A.uniforms.color=T,d.drawArrays(d.TRIANGLE_STRIP,0,4)}),h.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3603:function(f,s,t){"use strict";var o=t(3236),r=o([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);f.exports={lineVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:r,textVert:o([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:r,gridVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:r,boxVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:o([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(f,s,t){"use strict";f.exports=function(_){var A=_.gl;return new u(_,o(A),r(A,l.textVert,l.textFrag))};var o=t(2762),r=t(9405),i=t(529),a=t(2478),l=t(3603);function u(_,A,d){this.plot=_,this.vbo=A,this.shader=d,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var h,c,w,g,v,m,T=u.prototype;T.drawTicks=(h=[0,0],c=[0,0],w=[0,0],function(_){var A=this.plot,d=this.shader,C=this.tickX[_],k=this.tickOffset[_],D=A.gl,O=A.viewBox,L=A.dataBox,R=A.screenBox,z=A.pixelRatio,q=A.tickEnable,N=A.tickPad,V=A.tickColor,Z=A.tickAngle,j=A.labelEnable,H=A.labelPad,Y=A.labelColor,ie=A.labelAngle,re=this.labelOffset[_],ne=this.labelCount[_],ee=a.lt(C,L[_]),Q=a.le(C,L[_+2]);h[0]=h[1]=0,h[_]=1,c[_]=(O[2+_]+O[_])/(R[2+_]-R[_])-1;var X=2/R[2+(1^_)]-R[1^_];c[1^_]=X*O[1^_]-1,q[_]&&(c[1^_]-=X*z*N[_],ee<Q&&k[Q]>k[ee]&&(d.uniforms.dataAxis=h,d.uniforms.screenOffset=c,d.uniforms.color=V[_],d.uniforms.angle=Z[_],D.drawArrays(D.TRIANGLES,k[ee],k[Q]-k[ee]))),j[_]&&ne&&(c[1^_]-=X*z*H[_],d.uniforms.dataAxis=w,d.uniforms.screenOffset=c,d.uniforms.color=Y[_],d.uniforms.angle=ie[_],D.drawArrays(D.TRIANGLES,re,ne)),c[1^_]=X*O[2+(1^_)]-1,q[_+2]&&(c[1^_]+=X*z*N[_+2],ee<Q&&k[Q]>k[ee]&&(d.uniforms.dataAxis=h,d.uniforms.screenOffset=c,d.uniforms.color=V[_+2],d.uniforms.angle=Z[_+2],D.drawArrays(D.TRIANGLES,k[ee],k[Q]-k[ee]))),j[_+2]&&ne&&(c[1^_]+=X*z*H[_+2],d.uniforms.dataAxis=w,d.uniforms.screenOffset=c,d.uniforms.color=Y[_+2],d.uniforms.angle=ie[_+2],D.drawArrays(D.TRIANGLES,re,ne))}),T.drawTitle=function(){var _=[0,0],A=[0,0];return function(){var d=this.plot,C=this.shader,k=d.gl,D=d.screenBox,O=d.titleCenter,L=d.titleAngle,R=d.titleColor,z=d.pixelRatio;if(this.titleCount){for(var q=0;q<2;++q)A[q]=2*(O[q]*z-D[q])/(D[2+q]-D[q])-1;C.bind(),C.uniforms.dataAxis=_,C.uniforms.screenOffset=A,C.uniforms.angle=L,C.uniforms.color=R,k.drawArrays(k.TRIANGLES,this.titleOffset,this.titleCount)}}}(),T.bind=(g=[0,0],v=[0,0],m=[0,0],function(){var _=this.plot,A=this.shader,d=_._tickBounds,C=_.dataBox,k=_.screenBox,D=_.viewBox;A.bind();for(var O=0;O<2;++O){var L=d[O],R=d[O+2]-L,z=.5*(C[O+2]+C[O]),q=C[O+2]-C[O],N=D[O],V=D[O+2]-N,Z=k[O],j=k[O+2]-Z;v[O]=2*R/q*V/j,g[O]=2*(L-z)/q*V/j}m[1]=2*_.pixelRatio/(k[3]-k[1]),m[0]=m[1]*(k[3]-k[1])/(k[2]-k[0]),A.uniforms.dataScale=v,A.uniforms.dataShift=g,A.uniforms.textScale=m,this.vbo.bind(),A.attributes.textCoordinate.pointer()}),T.update=function(_){var A,d,C,k,D,O=[],L=_.ticks,R=_.bounds;for(D=0;D<2;++D){var z=[Math.floor(O.length/3)],q=[-1/0],N=L[D];for(A=0;A<N.length;++A){var V=N[A],Z=V.x,j=V.text,H=V.font||"sans-serif",Y=V.fontStyle||"normal",ie=V.fontWeight||"normal",re=V.fontVariant||"normal";k=V.fontSize||12;for(var ne=1/(R[D+2]-R[D]),ee=R[D],Q=j.split(`
`),X=0;X<Q.length;X++)for(C=i(H,Q[X],{fontStyle:Y,fontWeight:ie,fontVariant:re}).data,d=0;d<C.length;d+=2)O.push(C[d]*k,-C[d+1]*k-X*k*1.2,(Z-ee)*ne);z.push(Math.floor(O.length/3)),q.push(Z)}this.tickOffset[D]=z,this.tickX[D]=q}for(D=0;D<2;++D){for(this.labelOffset[D]=Math.floor(O.length/3),C=i(_.labelFont[D],_.labels[D],{fontStyle:_.labelFontStyle[D],fontWeight:_.labelFontWeight[D],fontVariant:_.labelFontVariant[D],textAlign:"center"}).data,k=_.labelSize[D],A=0;A<C.length;A+=2)O.push(C[A]*k,-C[A+1]*k,0);this.labelCount[D]=Math.floor(O.length/3)-this.labelOffset[D]}for(this.titleOffset=Math.floor(O.length/3),C=i(_.titleFont,_.title,{fontStyle:_.titleFontStyle,fontWeight:_.titleFontWeight,fontVariant:_.titleFontVariant}).data,k=_.titleSize,A=0;A<C.length;A+=2)O.push(C[A]*k,-C[A+1]*k,0);this.titleCount=Math.floor(O.length/3)-this.titleOffset,this.vbo.update(O)},T.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},1850:function(f,s,t){"use strict";f.exports=function(g){var v=g.gl,m=new u(v,o(v,[v.drawingBufferWidth,v.drawingBufferHeight]));return m.grid=r(m),m.text=i(m),m.line=a(m),m.box=l(m),m.update(g),m};var o=t(3589),r=t(1913),i=t(2142),a=t(4747),l=t(8120);function u(g,v){this.gl=g,this.pickBuffer=v,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var h=u.prototype;function c(g){for(var v=g.slice(),m=0;m<v.length;++m)v[m]=v[m].slice();return v}function w(g,v){return g.x-v.x}h.setDirty=function(){this.dirty=this.pickDirty=!0},h.setOverlayDirty=function(){this.dirty=!0},h.nextDepthValue=function(){return this._depthCounter++/65536},h.draw=function(){var g=this.gl,v=this.screenBox,m=this.viewBox,T=this.dataBox,_=this.pixelRatio,A=this.grid,d=this.line,C=this.text,k=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,g.bindFramebuffer(g.FRAMEBUFFER,null),g.enable(g.SCISSOR_TEST),g.disable(g.DEPTH_TEST),g.depthFunc(g.LESS),g.depthMask(!1),g.enable(g.BLEND),g.blendEquation(g.FUNC_ADD,g.FUNC_ADD),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),this.borderColor){g.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]);var D=this.borderColor;g.clearColor(D[0]*D[3],D[1]*D[3],D[2]*D[3],D[3]),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}g.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),g.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]);var O=this.backgroundColor;g.clearColor(O[0]*O[3],O[1]*O[3],O[2]*O[3],O[3]),g.clear(g.COLOR_BUFFER_BIT),A.draw();var L=this.zeroLineEnable,R=this.zeroLineColor,z=this.zeroLineWidth;if(L[0]||L[1]){d.bind();for(var q=0;q<2;++q)if(L[q]&&T[q]<=0&&T[q+2]>=0){var N=v[q]-T[q]*(v[q+2]-v[q])/(T[q+2]-T[q]);q===0?d.drawLine(N,v[1],N,v[3],z[q],R[q]):d.drawLine(v[0],N,v[2],N,z[q],R[q])}}for(q=0;q<k.length;++q)k[q].draw();g.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]),g.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),this.grid.drawTickMarks(),d.bind();var V=this.borderLineEnable,Z=this.borderLineWidth,j=this.borderLineColor;for(V[1]&&d.drawLine(m[0],m[1]-.5*Z[1]*_,m[0],m[3]+.5*Z[3]*_,Z[1],j[1]),V[0]&&d.drawLine(m[0]-.5*Z[0]*_,m[1],m[2]+.5*Z[2]*_,m[1],Z[0],j[0]),V[3]&&d.drawLine(m[2],m[1]-.5*Z[1]*_,m[2],m[3]+.5*Z[3]*_,Z[3],j[3]),V[2]&&d.drawLine(m[0]-.5*Z[0]*_,m[3],m[2]+.5*Z[2]*_,m[3],Z[2],j[2]),C.bind(),q=0;q<2;++q)C.drawTicks(q);this.titleEnable&&C.drawTitle();var H=this.overlays;for(q=0;q<H.length;++q)H[q].draw();g.disable(g.SCISSOR_TEST),g.disable(g.BLEND),g.depthMask(!0)}},h.drawPick=function(){if(!this.static){var g=this.pickBuffer;this.gl,this._pickTimeout=null,g.begin();for(var v=1,m=this.objects,T=0;T<m.length;++T)v=m[T].drawPick(v);g.end()}},h.pick=function(g,v){if(!this.static){var m=this.pixelRatio,T=this.pickPixelRatio,_=this.viewBox,A=0|Math.round((g-_[0]/m)*T),d=0|Math.round((v-_[1]/m)*T),C=this.pickBuffer.query(A,d,this.pickRadius);if(!C)return null;for(var k=C.id+(C.value[0]<<8)+(C.value[1]<<16)+(C.value[2]<<24),D=this.objects,O=0;O<D.length;++O){var L=D[O].pick(A,d,k);if(L)return L}return null}},h.setScreenBox=function(g){var v=this.screenBox,m=this.pixelRatio;v[0]=0|Math.round(g[0]*m),v[1]=0|Math.round(g[1]*m),v[2]=0|Math.round(g[2]*m),v[3]=0|Math.round(g[3]*m),this.setDirty()},h.setDataBox=function(g){var v=this.dataBox;(v[0]!==g[0]||v[1]!==g[1]||v[2]!==g[2]||v[3]!==g[3])&&(v[0]=g[0],v[1]=g[1],v[2]=g[2],v[3]=g[3],this.setDirty())},h.setViewBox=function(g){var v=this.pixelRatio,m=this.viewBox;m[0]=0|Math.round(g[0]*v),m[1]=0|Math.round(g[1]*v),m[2]=0|Math.round(g[2]*v),m[3]=0|Math.round(g[3]*v);var T=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*T),0|Math.round((g[3]-g[1])*T)],this.setDirty()},h.update=function(g){g=g||{};var v=this.gl;this.pixelRatio=g.pixelRatio||1;var m=this.pixelRatio;this.pickPixelRatio=Math.max(m,1),this.setScreenBox(g.screenBox||[0,0,v.drawingBufferWidth/m,v.drawingBufferHeight/m]),this.screenBox,this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/m,.125*(this.screenBox[3]-this.screenBox[1])/m,.875*(this.screenBox[2]-this.screenBox[0])/m,.875*(this.screenBox[3]-this.screenBox[1])/m]);var T=this.viewBox,_=(T[2]-T[0])/(T[3]-T[1]);this.setDataBox(g.dataBox||[-10,-10/_,10,10/_]),this.borderColor=g.borderColor!==!1&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(T[0]+T[2])/m,(T[3]+120)/m]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=g.ticks||[[],[]],d=this._tickBounds;d[0]=d[1]=1/0,d[2]=d[3]=-1/0;for(var C=0;C<2;++C){var k=A[C].slice(0);k.length!==0&&(k.sort(w),d[C]=Math.min(d[C],k[0].x),d[C+2]=Math.max(d[C+2],k[k.length-1].x))}this.grid.update({bounds:d,ticks:A}),this.text.update({bounds:d,ticks:A,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],labelFontStyle:g.labelFontStyle||["normal","normal"],labelFontWeight:g.labelFontWeight||["normal","normal"],labelFontVariant:g.labelFontVariant||["normal","normal"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif",titleFontStyle:g.titleFontStyle||"normal",titleFontWeight:g.titleFontWeight||"normal",titleFontVariant:g.titleFontVariant||"normal"}),this.static=!!g.static,this.setDirty()},h.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},h.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},h.removeObject=function(g){for(var v=this.objects,m=0;m<v.length;++m)if(v[m]===g){v.splice(m,1),this.setDirty();break}},h.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},h.removeOverlay=function(g){for(var v=this.overlays,m=0;m<v.length;++m)if(v[m]===g){v.splice(m,1),this.setOverlayDirty();break}}},4437:function(f,s,t){"use strict";f.exports=function(h,c){h=h||document.body;var w=[.01,1/0];"distanceLimits"in(c=c||{})&&(w[0]=c.distanceLimits[0],w[1]=c.distanceLimits[1]),"zoomMin"in c&&(w[0]=c.zoomMin),"zoomMax"in c&&(w[1]=c.zoomMax);var g=r({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:w}),v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=0,T=h.clientWidth,_=h.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:g,element:h,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:g.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var d=o(),C=this.delay,k=d-2*C;g.idle(d-C),g.recalcMatrix(k),g.flush(d-(100+2*C));for(var D=!0,O=g.computedMatrix,L=0;L<16;++L)D=D&&v[L]===O[L],v[L]=O[L];var R=h.clientWidth===T&&h.clientHeight===_;return T=h.clientWidth,_=h.clientHeight,D?!R:(m=Math.exp(g.computedRadius[0]),!0)},lookAt:function(d,C,k){g.lookAt(g.lastT(),d,C,k)},rotate:function(d,C,k){g.rotate(g.lastT(),d,C,k)},pan:function(d,C,k){g.pan(g.lastT(),d,C,k)},translate:function(d,C,k){g.translate(g.lastT(),d,C,k)}};return Object.defineProperties(A,{matrix:{get:function(){return g.computedMatrix},set:function(d){return g.setMatrix(g.lastT(),d),g.computedMatrix},enumerable:!0},mode:{get:function(){return g.getMode()},set:function(d){var C=g.computedUp.slice(),k=g.computedEye.slice(),D=g.computedCenter.slice();if(g.setMode(d),d==="turntable"){var O=o();g._active.lookAt(O,k,D,C),g._active.lookAt(O+500,k,D,[0,0,1]),g._active.flush(O)}return g.getMode()},enumerable:!0},center:{get:function(){return g.computedCenter},set:function(d){return g.lookAt(g.lastT(),null,d),g.computedCenter},enumerable:!0},eye:{get:function(){return g.computedEye},set:function(d){return g.lookAt(g.lastT(),d),g.computedEye},enumerable:!0},up:{get:function(){return g.computedUp},set:function(d){return g.lookAt(g.lastT(),null,null,d),g.computedUp},enumerable:!0},distance:{get:function(){return m},set:function(d){return g.setDistance(g.lastT(),d),d},enumerable:!0},distanceLimits:{get:function(){return g.getDistanceLimits(w)},set:function(d){return g.setDistanceLimits(d),d},enumerable:!0}}),h.addEventListener("contextmenu",function(d){return d.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){function d(C,k,D,O){var L=A.keyBindingMode;if(L!==!1){var R=L==="rotate",z=L==="pan",q=L==="zoom",N=!!O.control,V=!!O.alt,Z=!!O.shift,j=!!(1&C),H=!!(2&C),Y=!!(4&C),ie=1/h.clientHeight,re=ie*(k-A._lastX),ne=ie*(D-A._lastY),ee=A.flipX?1:-1,Q=A.flipY?1:-1,X=Math.PI*A.rotateSpeed,se=o();if(A._lastX!==-1&&A._lastY!==-1&&((R&&j&&!N&&!V&&!Z||j&&!N&&!V&&Z)&&g.rotate(se,ee*X*re,-Q*X*ne,0),(z&&j&&!N&&!V&&!Z||H||j&&N&&!V&&!Z)&&g.pan(se,-A.translateSpeed*re*m,A.translateSpeed*ne*m,0),q&&j&&!N&&!V&&!Z||Y||j&&!N&&V&&!Z)){var ce=-A.zoomSpeed*ne/window.innerHeight*(se-g.lastT())*100;g.pan(se,0,0,m*(Math.exp(ce)-1))}return A._lastX=k,A._lastY=D,A._lastMods=O,!0}}A.mouseListener=i(h,d),h.addEventListener("touchstart",function(C){var k=l(C.changedTouches[0],h);d(0,k[0],k[1],A._lastMods),d(1,k[0],k[1],A._lastMods)},!!u&&{passive:!0}),h.addEventListener("touchmove",function(C){var k=l(C.changedTouches[0],h);d(1,k[0],k[1],A._lastMods),C.preventDefault()},!!u&&{passive:!1}),h.addEventListener("touchend",function(C){d(0,A._lastX,A._lastY,A._lastMods)},!!u&&{passive:!0}),A.wheelListener=a(h,function(C,k){if(A.keyBindingMode!==!1&&A.enableWheel){var D=A.flipX?1:-1,O=A.flipY?1:-1,L=o();if(Math.abs(C)>Math.abs(k))g.rotate(L,0,0,-C*D*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var R=-A.zoomSpeed*O*k/window.innerHeight*(L-g.lastT())/20;g.pan(L,0,0,m*(Math.exp(R)-1))}}},!0)},A.enableMouseListeners(),A};var o=t(3025),r=t(6296),i=t(351),a=t(8512),l=t(24),u=t(7520)},799:function(f,s,t){var o=t(3236),r=t(9405),i=o([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),a=o([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);f.exports=function(l){return r(l,i,a,null,[{name:"position",type:"vec2"}])}},4100:function(f,s,t){"use strict";var o=t(4437),r=t(3837),i=t(5445),a=t(4449),l=t(3589),u=t(2260),h=t(7169),c=t(351),w=t(4772),g=t(4040),v=t(799),m=t(9216)({tablet:!0,featureDetect:!0});function T(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function _(d){var C=Math.round(Math.log(Math.abs(d))/Math.log(10));if(C<0){var k=Math.round(Math.pow(10,-C));return Math.ceil(d*k)/k}return C>0?(k=Math.round(Math.pow(10,C)),Math.ceil(d/k)*k):Math.ceil(d)}function A(d){return typeof d!="boolean"||d}f.exports={createScene:function(d){(d=d||{}).camera=d.camera||{};var C=d.canvas;C||(C=document.createElement("canvas"),d.container?d.container.appendChild(C):document.body.appendChild(C));var k=d.gl;if(k||(d.glOptions&&(m=!!d.glOptions.preserveDrawingBuffer),k=function(Se,Ie){var xe=null;try{(xe=Se.getContext("webgl",Ie))||(xe=Se.getContext("experimental-webgl",Ie))}catch{return null}return xe}(C,d.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!k)throw new Error("webgl not supported");var D=d.bounds||[[-10,-10,-10],[10,10,10]],O=new T,L=u(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!m}),R=v(k),z=d.cameraObject&&d.cameraObject._ortho===!0||d.camera.projection&&d.camera.projection.type==="orthographic"||!1,q={eye:d.camera.eye||[2,0,0],center:d.camera.center||[0,0,0],up:d.camera.up||[0,1,0],zoomMin:d.camera.zoomMax||.1,zoomMax:d.camera.zoomMin||100,mode:d.camera.mode||"turntable",_ortho:z},N=d.axes||{},V=r(k,N);V.enable=!N.disable;var Z=d.spikes||{},j=a(k,Z),H=[],Y=[],ie=[],re=[],ne=!0,ee=!0,Q={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},X=(ee=!0,[k.drawingBufferWidth,k.drawingBufferHeight]),se=d.cameraObject||o(C,q),ce={gl:k,contextLost:!1,pixelRatio:d.pixelRatio||1,canvas:C,selection:O,camera:se,axes:V,axesPixels:null,spikes:j,bounds:D,objects:H,shape:X,aspect:d.aspectRatio||[1,1,1],pickRadius:d.pickRadius||10,zNear:d.zNear||.01,zFar:d.zFar||1e3,fovy:d.fovy||Math.PI/4,clearColor:d.clearColor||[0,0,0,0],autoResize:A(d.autoResize),autoBounds:A(d.autoBounds),autoScale:!!d.autoScale,autoCenter:A(d.autoCenter),clipToBounds:A(d.clipToBounds),snapToData:!!d.snapToData,onselect:d.onselect||null,onrender:d.onrender||null,onclick:d.onclick||null,cameraParams:Q,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Se){this.aspect[0]=Se.x,this.aspect[1]=Se.y,this.aspect[2]=Se.z,ee=!0},setBounds:function(Se,Ie){this.bounds[0][Se]=Ie.min,this.bounds[1][Se]=Ie.max},setClearColor:function(Se){this.clearColor=Se},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},le=[k.drawingBufferWidth/ce.pixelRatio|0,k.drawingBufferHeight/ce.pixelRatio|0];function de(){if(!ce._stopped&&ce.autoResize){var Se=C.parentNode,Ie=1,xe=1;Se&&Se!==document.body?(Ie=Se.clientWidth,xe=Se.clientHeight):(Ie=window.innerWidth,xe=window.innerHeight);var ue=0|Math.ceil(Ie*ce.pixelRatio),ae=0|Math.ceil(xe*ce.pixelRatio);if(ue!==C.width||ae!==C.height){C.width=ue,C.height=ae;var pe=C.style;pe.position=pe.position||"absolute",pe.left="0px",pe.top="0px",pe.width=Ie+"px",pe.height=xe+"px",ne=!0}}}function be(){for(var Se=H.length,Ie=re.length,xe=0;xe<Ie;++xe)ie[xe]=0;e:for(xe=0;xe<Se;++xe){var ue=H[xe],ae=ue.pickSlots;if(ae){for(var pe=0;pe<Ie;++pe)if(ie[pe]+ae<255){Y[xe]=pe,ue.setPickBase(ie[pe]+1),ie[pe]+=ae;continue e}var De=l(k,X);Y[xe]=Ie,re.push(De),ie.push(ae),ue.setPickBase(1),Ie+=1}else Y[xe]=-1}for(;Ie>0&&ie[Ie-1]===0;)ie.pop(),re.pop().dispose()}function _e(){if(ce.contextLost)return!0;k.isContextLost()&&(ce.contextLost=!0,ce.mouseListener.enabled=!1,ce.selection.object=null,ce.oncontextloss&&ce.oncontextloss())}ce.autoResize&&de(),window.addEventListener("resize",de),ce.update=function(Se){ce._stopped||(Se=Se||{},ne=!0,ee=!0)},ce.add=function(Se){ce._stopped||(Se.axes=V,H.push(Se),Y.push(-1),ne=!0,ee=!0,be())},ce.remove=function(Se){if(!ce._stopped){var Ie=H.indexOf(Se);Ie<0||(H.splice(Ie,1),Y.pop(),ne=!0,ee=!0,be())}},ce.dispose=function(){if(!ce._stopped&&(ce._stopped=!0,window.removeEventListener("resize",de),C.removeEventListener("webglcontextlost",_e),ce.mouseListener.enabled=!1,!ce.contextLost)){V.dispose(),j.dispose();for(var Se=0;Se<H.length;++Se)H[Se].dispose();for(L.dispose(),Se=0;Se<re.length;++Se)re[Se].dispose();R.dispose(),k=null,V=null,j=null,H=[]}},ce._mouseRotating=!1,ce._prevButtons=0,ce.enableMouseListeners=function(){ce.mouseListener=c(C,function(Se,Ie,xe){if(!ce._stopped){var ue=re.length,ae=H.length,pe=O.object;O.distance=1/0,O.mouse[0]=Ie,O.mouse[1]=xe,O.object=null,O.screen=null,O.dataCoordinate=O.dataPosition=null;var De=!1;if(Se&&ce._prevButtons)ce._mouseRotating=!0;else{ce._mouseRotating&&(ee=!0),ce._mouseRotating=!1;for(var Te=0;Te<ue;++Te){var Ae=re[Te].query(Ie,le[1]-xe-1,ce.pickRadius);if(Ae){if(Ae.distance>O.distance)continue;for(var Ce=0;Ce<ae;++Ce){var Re=H[Ce];if(Y[Ce]===Te){var Ne=Re.pick(Ae);Ne&&(O.buttons=Se,O.screen=Ae.coord,O.distance=Ae.distance,O.object=Re,O.index=Ne.distance,O.dataPosition=Ne.position,O.dataCoordinate=Ne.dataCoordinate,O.data=Ne,De=!0)}}}}}pe&&pe!==O.object&&(pe.highlight&&pe.highlight(null),ne=!0),O.object&&(O.object.highlight&&O.object.highlight(O.data),ne=!0),(De=De||O.object!==pe)&&ce.onselect&&ce.onselect(O),1&Se&&!(1&ce._prevButtons)&&ce.onclick&&ce.onclick(O),ce._prevButtons=Se}})},C.addEventListener("webglcontextlost",_e);var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],me=[ve[0].slice(),ve[1].slice()];function ye(){if(!_e()){de();var Se=ce.camera.tick();Q.view=ce.camera.matrix,ne=ne||Se,ee=ee||Se,V.pixelRatio=ce.pixelRatio,j.pixelRatio=ce.pixelRatio;var Ie=H.length,xe=ve[0],ue=ve[1];xe[0]=xe[1]=xe[2]=1/0,ue[0]=ue[1]=ue[2]=-1/0;for(var ae=0;ae<Ie;++ae){(Le=H[ae]).pixelRatio=ce.pixelRatio,Le.axes=ce.axes,ne=ne||!!Le.dirty,ee=ee||!!Le.dirty;var pe=Le.bounds;if(pe)for(var De=pe[0],Te=pe[1],Ae=0;Ae<3;++Ae)xe[Ae]=Math.min(xe[Ae],De[Ae]),ue[Ae]=Math.max(ue[Ae],Te[Ae])}var Ce=ce.bounds;if(ce.autoBounds)for(Ae=0;Ae<3;++Ae){if(ue[Ae]<xe[Ae])xe[Ae]=-1,ue[Ae]=1;else{xe[Ae]===ue[Ae]&&(xe[Ae]-=1,ue[Ae]+=1);var Re=.05*(ue[Ae]-xe[Ae]);xe[Ae]=xe[Ae]-Re,ue[Ae]=ue[Ae]+Re}Ce[0][Ae]=xe[Ae],Ce[1][Ae]=ue[Ae]}var Ne=!1;for(Ae=0;Ae<3;++Ae)Ne=Ne||me[0][Ae]!==Ce[0][Ae]||me[1][Ae]!==Ce[1][Ae],me[0][Ae]=Ce[0][Ae],me[1][Ae]=Ce[1][Ae];if(ee=ee||Ne,ne=ne||Ne){if(Ne){var ge=[0,0,0];for(ae=0;ae<3;++ae)ge[ae]=_((Ce[1][ae]-Ce[0][ae])/10);V.autoTicks?V.update({bounds:Ce,tickSpacing:ge}):V.update({bounds:Ce})}var Me=k.drawingBufferWidth,Ee=k.drawingBufferHeight;for(X[0]=Me,X[1]=Ee,le[0]=0|Math.max(Me/ce.pixelRatio,1),le[1]=0|Math.max(Ee/ce.pixelRatio,1),function(Ue,Ge){var Ke=Ue.bounds,at=Ue.cameraParams,st=at.projection,vt=at.model,xt=Ue.gl.drawingBufferWidth,gt=Ue.gl.drawingBufferHeight,nt=Ue.zNear,et=Ue.zFar,At=Ue.fovy,Pt=xt/gt;Ge?(g(st,-Pt,Pt,-1,1,nt,et),at._ortho=!0):(w(st,At,Pt,nt,et),at._ortho=!1);for(var Rt=0;Rt<16;++Rt)vt[Rt]=0;vt[15]=1;var Et=0;for(Rt=0;Rt<3;++Rt)Et=Math.max(Et,Ke[1][Rt]-Ke[0][Rt]);for(Rt=0;Rt<3;++Rt)Ue.autoScale?vt[5*Rt]=Ue.aspect[Rt]/(Ke[1][Rt]-Ke[0][Rt]):vt[5*Rt]=1/Et,Ue.autoCenter&&(vt[12+Rt]=.5*-vt[5*Rt]*(Ke[0][Rt]+Ke[1][Rt]))}(ce,z),ae=0;ae<Ie;++ae)(Le=H[ae]).axesBounds=Ce,ce.clipToBounds&&(Le.clipBounds=Ce);O.object&&(ce.snapToData?j.position=O.dataCoordinate:j.position=O.dataPosition,j.bounds=Ce),ee&&(ee=!1,function(){if(!_e()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ue=H.length,Ge=re.length,Ke=0;Ke<Ge;++Ke){var at=re[Ke];at.shape=le,at.begin();for(var st=0;st<Ue;++st)if(Y[st]===Ke){var vt=H[st];vt.drawPick&&(vt.pixelRatio=1,vt.drawPick(Q))}at.end()}}}()),ce.axesPixels=i(ce.axes,Q,Me,Ee),ce.onrender&&ce.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Me,Ee),ce.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Fe=!1;for(V.enable&&(Fe=Fe||V.isTransparent(),V.draw(Q)),j.axes=V,O.object&&j.draw(Q),k.disable(k.CULL_FACE),ae=0;ae<Ie;++ae)(Le=H[ae]).axes=V,Le.pixelRatio=ce.pixelRatio,Le.isOpaque&&Le.isOpaque()&&Le.draw(Q),Le.isTransparent&&Le.isTransparent()&&(Fe=!0);if(Fe){for(L.shape=X,L.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),V.enable&&V.isTransparent()&&V.drawTransparent(Q),ae=0;ae<Ie;++ae)(Le=H[ae]).isOpaque&&Le.isOpaque()&&Le.draw(Q);for(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),V.isTransparent()&&V.drawTransparent(Q),ae=0;ae<Ie;++ae){var Le;(Le=H[ae]).isTransparent&&Le.isTransparent()&&Le.drawTransparent(Q)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),R.bind(),L.color[0].bind(0),R.uniforms.accumBuffer=0,h(k),k.disable(k.BLEND)}for(ne=!1,ae=0;ae<Ie;++ae)H[ae].dirty=!1}}}return ce.enableMouseListeners(),function Se(){ce._stopped||ce.contextLost||(ye(),requestAnimationFrame(Se))}(),ce.redraw=function(){ce._stopped||(ne=!0,ye())},ce},createCamera:o}},6640:function(f,s,t){var o=t(3236);s.pointVertex=o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=o([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=o([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(f,s,t){"use strict";var o=t(9405),r=t(2762),i=t(1888),a=t(6640);function l(w,g,v,m,T){this.plot=w,this.offsetBuffer=g,this.pickBuffer=v,this.shader=m,this.pickShader=T,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}f.exports=function(w,g){var v=w.gl,m=new l(w,r(v),r(v),o(v,a.pointVertex,a.pointFragment),o(v,a.pickVertex,a.pickFragment));return m.update(g),w.addObject(m),m};var u,h,c=l.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(w){var g;function v(k,D){return k in w?w[k]:D}w=w||{},this.sizeMin=v("sizeMin",.5),this.sizeMax=v("sizeMax",20),this.color=v("color",[1,0,0,1]).slice(),this.areaRatio=v("areaRatio",1),this.borderColor=v("borderColor",[0,0,0,1]).slice(),this.blend=v("blend",!1);var m=w.positions.length>>>1,T=w.positions instanceof Float32Array,_=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=m,A=w.positions,d=T?A:i.mallocFloat32(A.length),C=_?w.idToIndex:i.mallocInt32(m);if(T||d.set(A),!_)for(d.set(A),g=0;g<m;g++)C[g]=g;this.points=A,this.offsetBuffer.update(d),this.pickBuffer.update(C),T||i.free(d),_||i.free(C),this.pointCount=m,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0],function(w){var g=w!==void 0,v=g?this.pickShader:this.shader,m=this.plot.gl,T=this.plot.dataBox;if(this.pointCount===0)return w;var _=T[2]-T[0],A=T[3]-T[1],d=function(O,L){var R,z=0,q=O.length>>>1;for(R=0;R<q;R++){var N=O[2*R],V=O[2*R+1];N>=L[0]&&N<=L[2]&&V>=L[1]&&V<=L[3]&&z++}return z}(this.points,T),C=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(d,.33333)));u[0]=2/_,u[4]=2/A,u[6]=-2*T[0]/_-1,u[7]=-2*T[1]/A-1,this.offsetBuffer.bind(),v.bind(),v.attributes.position.pointer(),v.uniforms.matrix=u,v.uniforms.color=this.color,v.uniforms.borderColor=this.borderColor,v.uniforms.pointCloud=C<5,v.uniforms.pointSize=C,v.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(h[0]=255&w,h[1]=w>>8&255,h[2]=w>>16&255,h[3]=w>>24&255,this.pickBuffer.bind(),v.attributes.pickId.pointer(m.UNSIGNED_BYTE),v.uniforms.pickOffset=h,this.pickOffset=w);var k=m.getParameter(m.BLEND),D=m.getParameter(m.DITHER);return k&&!this.blend&&m.disable(m.BLEND),D&&m.disable(m.DITHER),m.drawArrays(m.POINTS,0,this.pointCount),k&&!this.blend&&m.enable(m.BLEND),D&&m.enable(m.DITHER),w+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(w,g,v){var m=this.pickOffset,T=this.pointCount;if(v<m||v>=m+T)return null;var _=v-m,A=this.points;return{object:this,pointId:_,dataCoord:[A[2*_],A[2*_+1]]}}},783:function(f){f.exports=function(s,t,o,r){var i,a,l,u,h,c=t[0],w=t[1],g=t[2],v=t[3],m=o[0],T=o[1],_=o[2],A=o[3];return(a=c*m+w*T+g*_+v*A)<0&&(a=-a,m=-m,T=-T,_=-_,A=-A),1-a>1e-6?(i=Math.acos(a),l=Math.sin(i),u=Math.sin((1-r)*i)/l,h=Math.sin(r*i)/l):(u=1-r,h=r),s[0]=u*c+h*m,s[1]=u*w+h*T,s[2]=u*g+h*_,s[3]=u*v+h*A,s}},5964:function(f){"use strict";f.exports=function(s){return s||s===0?s.toString():""}},9366:function(f,s,t){"use strict";var o=t(4359);f.exports=function(i,a,l){var u=[a.style,a.weight,a.variant,a.family].join("_"),h=r[u];if(h||(h=r[u]={}),i in h)return h[i];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:a.family,fontStyle:a.style,fontWeight:a.weight,fontVariant:a.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},w=o(i,c);c.triangles=!1;var g,v,m=o(i,c);if(l&&l!==1){for(g=0;g<w.positions.length;++g)for(v=0;v<w.positions[g].length;++v)w.positions[g][v]/=l;for(g=0;g<m.positions.length;++g)for(v=0;v<m.positions[g].length;++v)m.positions[g][v]/=l}var T=[[1/0,1/0],[-1/0,-1/0]],_=m.positions.length;for(g=0;g<_;++g){var A=m.positions[g];for(v=0;v<2;++v)T[0][v]=Math.min(T[0][v],A[v]),T[1][v]=Math.max(T[1][v],A[v])}return h[i]=[w,m,T]};var r={}},1283:function(f,s,t){var o=t(9405),r=t(3236),i=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),a=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:i,fragment:u,attributes:c},g={vertex:a,fragment:u,attributes:c},v={vertex:l,fragment:u,attributes:c},m={vertex:i,fragment:h,attributes:c},T={vertex:a,fragment:h,attributes:c},_={vertex:l,fragment:h,attributes:c};function A(d,C){var k=o(d,C),D=k.attributes;return D.position.location=0,D.color.location=1,D.glyph.location=2,D.id.location=3,k}s.createPerspective=function(d){return A(d,w)},s.createOrtho=function(d){return A(d,g)},s.createProject=function(d){return A(d,v)},s.createPickPerspective=function(d){return A(d,m)},s.createPickOrtho=function(d){return A(d,T)},s.createPickProject=function(d){return A(d,_)}},8418:function(f,s,t){"use strict";var o=t(5219),r=t(2762),i=t(8116),a=t(1888),l=t(6760),u=t(1283),h=t(9366),c=t(5964),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],g=ArrayBuffer,v=DataView;function m(ne){return Array.isArray(ne)||function(ee){return g.isView(ee)&&!(ee instanceof v)}(ne)}function T(ne,ee){var Q=ne[0],X=ne[1],se=ne[2],ce=ne[3];return ne[0]=ee[0]*Q+ee[4]*X+ee[8]*se+ee[12]*ce,ne[1]=ee[1]*Q+ee[5]*X+ee[9]*se+ee[13]*ce,ne[2]=ee[2]*Q+ee[6]*X+ee[10]*se+ee[14]*ce,ne[3]=ee[3]*Q+ee[7]*X+ee[11]*se+ee[15]*ce,ne}function _(ne,ee,Q,X){return T(X,X),T(X,X),T(X,X)}function A(ne,ee){this.index=ne,this.dataCoordinate=this.position=ee}function d(ne){return ne===!0||ne>1?1:ne}function C(ne,ee,Q,X,se,ce,le,de,be,_e,ve,me){this.gl=ne,this.pixelRatio=1,this.shader=ee,this.orthoShader=Q,this.projectShader=X,this.pointBuffer=se,this.colorBuffer=ce,this.glyphBuffer=le,this.idBuffer=de,this.vao=be,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=_e,this.pickOrthoShader=ve,this.pickProjectShader=me,this.points=[],this._selectResult=new A(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}f.exports=function(ne){var ee=ne.gl,Q=u.createPerspective(ee),X=u.createOrtho(ee),se=u.createProject(ee),ce=u.createPickPerspective(ee),le=u.createPickOrtho(ee),de=u.createPickProject(ee),be=r(ee),_e=r(ee),ve=r(ee),me=r(ee),ye=new C(ee,Q,X,se,be,_e,ve,me,i(ee,[{buffer:be,size:3,type:ee.FLOAT},{buffer:_e,size:4,type:ee.FLOAT},{buffer:ve,size:2,type:ee.FLOAT},{buffer:me,size:4,type:ee.UNSIGNED_BYTE,normalized:!0}]),ce,le,de);return ye.update(ne),ye};var k=C.prototype;k.pickSlots=1,k.setPickBase=function(ne){this.pickId=ne},k.isTransparent=function(){if(this.hasAlpha)return!0;for(var ne=0;ne<3;++ne)if(this.axesProject[ne]&&this.projectHasAlpha)return!0;return!1},k.isOpaque=function(){if(!this.hasAlpha)return!0;for(var ne=0;ne<3;++ne)if(this.axesProject[ne]&&!this.projectHasAlpha)return!0;return!1};var D=[0,0],O=[0,0,0],L=[0,0,0],R=[0,0,0,1],z=[0,0,0,1],q=w.slice(),N=[0,0,0],V=[[0,0,0],[0,0,0]];function Z(ne){return ne[0]=ne[1]=ne[2]=0,ne}function j(ne,ee){return ne[0]=ee[0],ne[1]=ee[1],ne[2]=ee[2],ne[3]=1,ne}function H(ne,ee,Q,X){return ne[0]=ee[0],ne[1]=ee[1],ne[2]=ee[2],ne[Q]=X,ne}var Y=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function ie(ne,ee,Q,X,se,ce,le){var de=Q.gl;if((ce===Q.projectHasAlpha||le)&&function(_e,ve,me,ye){var Se,Ie=ve.axesProject,xe=ve.gl,ue=_e.uniforms,ae=me.model||w,pe=me.view||w,De=me.projection||w,Te=ve.axesBounds,Ae=function(vt){for(var xt=V,gt=0;gt<2;++gt)for(var nt=0;nt<3;++nt)xt[gt][nt]=Math.max(Math.min(vt[gt][nt],1e8),-1e8);return xt}(ve.clipBounds);Se=ve.axes&&ve.axes.lastCubeProps?ve.axes.lastCubeProps.axis:[1,1,1],D[0]=2/xe.drawingBufferWidth,D[1]=2/xe.drawingBufferHeight,_e.bind(),ue.view=pe,ue.projection=De,ue.screenSize=D,ue.highlightId=ve.highlightId,ue.highlightScale=ve.highlightScale,ue.clipBounds=Ae,ue.pickGroup=ve.pickId/255,ue.pixelRatio=ye;for(var Ce=0;Ce<3;++Ce)if(Ie[Ce]){ue.scale=ve.projectScale[Ce],ue.opacity=ve.projectOpacity[Ce];for(var Re=q,Ne=0;Ne<16;++Ne)Re[Ne]=0;for(Ne=0;Ne<4;++Ne)Re[5*Ne]=1;Re[5*Ce]=0,Se[Ce]<0?Re[12+Ce]=Te[0][Ce]:Re[12+Ce]=Te[1][Ce],l(Re,ae,Re),ue.model=Re;var ge=(Ce+1)%3,Me=(Ce+2)%3,Ee=Z(O),Fe=Z(L);Ee[ge]=1,Fe[Me]=1;var Le=_(0,0,0,j(R,Ee)),Ue=_(0,0,0,j(z,Fe));if(Math.abs(Le[1])>Math.abs(Ue[1])){var Ge=Le;Le=Ue,Ue=Ge,Ge=Ee,Ee=Fe,Fe=Ge;var Ke=ge;ge=Me,Me=Ke}Le[0]<0&&(Ee[ge]=-1),Ue[1]>0&&(Fe[Me]=-1);var at=0,st=0;for(Ne=0;Ne<4;++Ne)at+=Math.pow(ae[4*ge+Ne],2),st+=Math.pow(ae[4*Me+Ne],2);Ee[ge]/=Math.sqrt(at),Fe[Me]/=Math.sqrt(st),ue.axes[0]=Ee,ue.axes[1]=Fe,ue.fragClipBounds[0]=H(N,Ae[0],Ce,-1e8),ue.fragClipBounds[1]=H(N,Ae[1],Ce,1e8),ve.vao.bind(),ve.vao.draw(xe.TRIANGLES,ve.vertexCount),ve.lineWidth>0&&(xe.lineWidth(ve.lineWidth*ye),ve.vao.draw(xe.LINES,ve.lineVertexCount,ve.vertexCount)),ve.vao.unbind()}}(ee,Q,X,se),ce===Q.hasAlpha||le){ne.bind();var be=ne.uniforms;be.model=X.model||w,be.view=X.view||w,be.projection=X.projection||w,D[0]=2/de.drawingBufferWidth,D[1]=2/de.drawingBufferHeight,be.screenSize=D,be.highlightId=Q.highlightId,be.highlightScale=Q.highlightScale,be.fragClipBounds=Y,be.clipBounds=Q.axes.bounds,be.opacity=Q.opacity,be.pickGroup=Q.pickId/255,be.pixelRatio=se,Q.vao.bind(),Q.vao.draw(de.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(de.lineWidth(Q.lineWidth*se),Q.vao.draw(de.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}function re(ne,ee,Q,X){var se;se=m(ne)?ee<ne.length?ne[ee]:void 0:ne,se=c(se);var ce=!0;o(se)&&(se="\u25BC",ce=!1),Q||(Q={});var le=Q.family;m(le)&&(le=le[ee]),le||(le="normal");var de=Q.weight;m(de)&&(de=de[ee]),de||(de="normal");var be=Q.style;m(be)&&(be=be[ee]),be||(be="normal");var _e=Q.variant;m(_e)&&(_e=_e[ee]),_e||(_e="normal");var ve=h(se,{family:le,weight:de,style:be,variant:_e},X);return{mesh:(ve=h(se,Q,X))[0],lines:ve[1],bounds:ve[2],visible:ce}}k.draw=function(ne){ie(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,ne,this.pixelRatio,!1,!1)},k.drawTransparent=function(ne){ie(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,ne,this.pixelRatio,!0,!1)},k.drawPick=function(ne){ie(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,ne,1,!0,!0)},k.pick=function(ne){if(!ne||ne.id!==this.pickId)return null;var ee=ne.value[2]+(ne.value[1]<<8)+(ne.value[0]<<16);if(ee>=this.pointCount||ee<0)return null;var Q=this.points[ee],X=this._selectResult;X.index=ee;for(var se=0;se<3;++se)X.position[se]=X.dataCoordinate[se]=Q[se];return X},k.highlight=function(ne){if(ne){var ee=ne.index,Q=255&ee,X=ee>>8&255,se=ee>>16&255;this.highlightId=[Q/255,X/255,se/255,0]}else this.highlightId=[1,1,1,1]},k.update=function(ne){if("perspective"in(ne=ne||{})&&(this.useOrtho=!ne.perspective),"orthographic"in ne&&(this.useOrtho=!!ne.orthographic),"lineWidth"in ne&&(this.lineWidth=ne.lineWidth),"project"in ne)if(m(ne.project))this.axesProject=ne.project;else{var ee=!!ne.project;this.axesProject=[ee,ee,ee]}if("projectScale"in ne)if(m(ne.projectScale))this.projectScale=ne.projectScale.slice();else{var Q=+ne.projectScale;this.projectScale=[Q,Q,Q]}if(this.projectHasAlpha=!1,"projectOpacity"in ne){m(ne.projectOpacity)?this.projectOpacity=ne.projectOpacity.slice():(Q=+ne.projectOpacity,this.projectOpacity=[Q,Q,Q]);for(var X=0;X<3;++X)this.projectOpacity[X]=d(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in ne&&(this.opacity=d(ne.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var se,ce,le=ne.position,de={family:ne.font||"normal",style:ne.fontStyle||"normal",weight:ne.fontWeight||"normal",variant:ne.fontVariant||"normal"},be=ne.alignment||[0,0];if(be.length===2)se=be[0],ce=be[1];else for(se=[],ce=[],X=0;X<be.length;++X)se[X]=be[X][0],ce[X]=be[X][1];var _e=[1/0,1/0,1/0],ve=[-1/0,-1/0,-1/0],me=ne.glyph,ye=ne.color,Se=ne.size,Ie=ne.angle,xe=ne.lineColor,ue=-1,ae=0,pe=0,De=0;if(le.length){De=le.length;e:for(X=0;X<De;++X){for(var Te=le[X],Ae=0;Ae<3;++Ae)if(isNaN(Te[Ae])||!isFinite(Te[Ae]))continue e;var Ce=(xt=re(me,X,de,this.pixelRatio)).mesh,Re=xt.lines,Ne=xt.bounds;ae+=3*Ce.cells.length,pe+=2*Re.edges.length}}var ge=ae+pe,Me=a.mallocFloat(3*ge),Ee=a.mallocFloat(4*ge),Fe=a.mallocFloat(2*ge),Le=a.mallocUint32(ge);if(ge>0){var Ue=0,Ge=ae,Ke=[0,0,0,1],at=[0,0,0,1],st=m(ye)&&m(ye[0]),vt=m(xe)&&m(xe[0]);e:for(X=0;X<De;++X){for(ue+=1,Te=le[X],Ae=0;Ae<3;++Ae){if(isNaN(Te[Ae])||!isFinite(Te[Ae]))continue e;ve[Ae]=Math.max(ve[Ae],Te[Ae]),_e[Ae]=Math.min(_e[Ae],Te[Ae])}Ce=(xt=re(me,X,de,this.pixelRatio)).mesh,Re=xt.lines,Ne=xt.bounds;var xt,gt=xt.visible;if(gt)if(m(ye)){if((nt=st?X<ye.length?ye[X]:[0,0,0,0]:ye).length===3){for(Ae=0;Ae<3;++Ae)Ke[Ae]=nt[Ae];Ke[3]=1}else if(nt.length===4){for(Ae=0;Ae<4;++Ae)Ke[Ae]=nt[Ae];!this.hasAlpha&&nt[3]<1&&(this.hasAlpha=!0)}}else Ke[0]=Ke[1]=Ke[2]=0,Ke[3]=1;else Ke=[1,1,1,0];if(gt)if(m(xe)){var nt;if((nt=vt?X<xe.length?xe[X]:[0,0,0,0]:xe).length===3){for(Ae=0;Ae<3;++Ae)at[Ae]=nt[Ae];at[Ae]=1}else if(nt.length===4){for(Ae=0;Ae<4;++Ae)at[Ae]=nt[Ae];!this.hasAlpha&&nt[3]<1&&(this.hasAlpha=!0)}}else at[0]=at[1]=at[2]=0,at[3]=1;else at=[1,1,1,0];var et=.5;gt?m(Se)?et=X<Se.length?+Se[X]:12:Se?et=+Se:this.useOrtho&&(et=12):et=0;var At=0;m(Ie)?At=X<Ie.length?+Ie[X]:0:Ie&&(At=+Ie);var Pt=Math.cos(At),Rt=Math.sin(At);for(Te=le[X],Ae=0;Ae<3;++Ae)ve[Ae]=Math.max(ve[Ae],Te[Ae]),_e[Ae]=Math.min(_e[Ae],Te[Ae]);var Et=se,Ye=ce;Et=0,m(se)?Et=X<se.length?se[X]:0:se&&(Et=se),Ye=0,m(ce)?Ye=X<ce.length?ce[X]:0:ce&&(Ye=ce);var Xe=[Et*=Et>0?1-Ne[0][0]:Et<0?1+Ne[1][0]:1,Ye*=Ye>0?1-Ne[0][1]:Ye<0?1+Ne[1][1]:1],Ve=Ce.cells||[],Ze=Ce.positions||[];for(Ae=0;Ae<Ve.length;++Ae)for(var lt=Ve[Ae],it=0;it<3;++it){for(var Be=0;Be<3;++Be)Me[3*Ue+Be]=Te[Be];for(Be=0;Be<4;++Be)Ee[4*Ue+Be]=Ke[Be];Le[Ue]=ue;var je=Ze[lt[it]];Fe[2*Ue]=et*(Pt*je[0]-Rt*je[1]+Xe[0]),Fe[2*Ue+1]=et*(Rt*je[0]+Pt*je[1]+Xe[1]),Ue+=1}for(Ve=Re.edges,Ze=Re.positions,Ae=0;Ae<Ve.length;++Ae)for(lt=Ve[Ae],it=0;it<2;++it){for(Be=0;Be<3;++Be)Me[3*Ge+Be]=Te[Be];for(Be=0;Be<4;++Be)Ee[4*Ge+Be]=at[Be];Le[Ge]=ue,je=Ze[lt[it]],Fe[2*Ge]=et*(Pt*je[0]-Rt*je[1]+Xe[0]),Fe[2*Ge+1]=et*(Rt*je[0]+Pt*je[1]+Xe[1]),Ge+=1}}}this.bounds=[_e,ve],this.points=le,this.pointCount=le.length,this.vertexCount=ae,this.lineVertexCount=pe,this.pointBuffer.update(Me),this.colorBuffer.update(Ee),this.glyphBuffer.update(Fe),this.idBuffer.update(Le),a.free(Me),a.free(Ee),a.free(Fe),a.free(Le)},k.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},4298:function(f,s,t){"use strict";var o=t(3236);s.boxVertex=o([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=o([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(f,s,t){"use strict";var o=t(9405),r=t(2762),i=t(4298);function a(u,h,c){this.plot=u,this.boxBuffer=h,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}f.exports=function(u,h){var c=u.gl,w=new a(u,r(c,[0,0,0,1,1,0,1,1]),o(c,i.boxVertex,i.boxFragment));return w.update(h),u.addOverlay(w),w};var l=a.prototype;l.draw=function(){if(this.enabled){var u=this.plot,h=this.selectBox,c=this.borderWidth,w=(this.innerFill,this.innerColor),g=(this.outerFill,this.outerColor),v=this.borderColor,m=u.box,T=u.screenBox,_=u.dataBox,A=u.viewBox,d=u.pixelRatio,C=(h[0]-_[0])*(A[2]-A[0])/(_[2]-_[0])+A[0],k=(h[1]-_[1])*(A[3]-A[1])/(_[3]-_[1])+A[1],D=(h[2]-_[0])*(A[2]-A[0])/(_[2]-_[0])+A[0],O=(h[3]-_[1])*(A[3]-A[1])/(_[3]-_[1])+A[1];if(C=Math.max(C,A[0]),k=Math.max(k,A[1]),D=Math.min(D,A[2]),O=Math.min(O,A[3]),!(D<C||O<k)){m.bind();var L=T[2]-T[0],R=T[3]-T[1];if(this.outerFill&&(m.drawBox(0,0,L,k,g),m.drawBox(0,k,C,O,g),m.drawBox(0,O,L,R,g),m.drawBox(D,k,L,O,g)),this.innerFill&&m.drawBox(C,k,D,O,w),c>0){var z=c*d;m.drawBox(C-z,k-z,D+z,k+z,v),m.drawBox(C-z,O-z,D+z,O+z,v),m.drawBox(C-z,k-z,C+z,O+z,v),m.drawBox(D-z,k-z,D+z,O+z,v)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},3589:function(f,s,t){"use strict";f.exports=function(c,w){var g=w[0],v=w[1];return new u(c,o(c,g,v,{}),r.mallocUint8(g*v*4))};var o=t(2260),r=t(1888),i=t(9618),a=t(8828).nextPow2;function l(c,w,g,v,m){this.coord=[c,w],this.id=g,this.value=v,this.distance=m}function u(c,w,g){this.gl=c,this.fbo=w,this.buffer=g,this._readTimeout=null;var v=this;this._readCallback=function(){v.gl&&(w.bind(),c.readPixels(0,0,w.shape[0],w.shape[1],c.RGBA,c.UNSIGNED_BYTE,v.buffer),v._readTimeout=null)}}var h=u.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var w=this.fbo.shape[0],g=this.fbo.shape[1];if(g*w*4>this.buffer.length){r.free(this.buffer);for(var v=this.buffer=r.mallocUint8(a(g*w*4)),m=0;m<g*w*4;++m)v[m]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,w,g){if(!this.gl)return null;var v=this.fbo.shape.slice();c|=0,w|=0,typeof g!="number"&&(g=1);var m=0|Math.min(Math.max(c-g,0),v[0]),T=0|Math.min(Math.max(c+g,0),v[0]),_=0|Math.min(Math.max(w-g,0),v[1]),A=0|Math.min(Math.max(w+g,0),v[1]);if(T<=m||A<=_)return null;var d=[T-m,A-_],C=i(this.buffer,[d[0],d[1],4],[4,4*v[0],1],4*(m+v[0]*_)),k=function(L,R,z){for(var q=1e8,N=-1,V=-1,Z=L.shape[0],j=L.shape[1],H=0;H<Z;H++)for(var Y=0;Y<j;Y++){var ie=L.get(H,Y,0),re=L.get(H,Y,1),ne=L.get(H,Y,2),ee=L.get(H,Y,3);if(ie<255||re<255||ne<255||ee<255){var Q=R-H,X=z-Y,se=Q*Q+X*X;se<q&&(q=se,N=H,V=Y)}}return[N,V,q]}(C.hi(d[0],d[1],1),g,g),D=k[0],O=k[1];return D<0||Math.pow(this.radius,2)<k[2]?null:new l(D+m|0,O+_|0,C.get(D,O,0),[C.get(D,O,1),C.get(D,O,2),C.get(D,O,3)],Math.sqrt(k[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},9405:function(f,s,t){"use strict";var o=t(3327),r=t(8731),i=t(216),a=t(5091),l=t(2145),u=t(8866);function h(g){this.gl=g,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=h.prototype;function w(g,v){return g.name<v.name?-1:1}c.bind=function(){var g;this.program||this._relink();var v=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),m=this.gl.lastAttribCount;if(v>m)for(g=m;g<v;g++)this.gl.enableVertexAttribArray(g);else if(m>v)for(g=v;g<m;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=v,this.gl.useProgram(this.program)},c.dispose=function(){for(var g=this.gl.lastAttribCount,v=0;v<g;v++)this.gl.disableVertexAttribArray(v);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(g,v,m,T){if(!v||arguments.length===1){var _=g;g=_.vertex,v=_.fragment,m=_.uniforms,T=_.attributes}var A=this,d=A.gl,C=A._vref;A._vref=a.shader(d,d.VERTEX_SHADER,g),C&&C.dispose(),A.vertShader=A._vref.shader;var k=this._fref;if(A._fref=a.shader(d,d.FRAGMENT_SHADER,v),k&&k.dispose(),A.fragShader=A._fref.shader,!m||!T){var D=d.createProgram();if(d.attachShader(D,A.fragShader),d.attachShader(D,A.vertShader),d.linkProgram(D),!d.getProgramParameter(D,d.LINK_STATUS)){var O=d.getProgramInfoLog(D);throw new u(O,"Error linking program:"+O)}m=m||l.uniforms(d,D),T=T||l.attributes(d,D),d.deleteProgram(D)}(T=T.slice()).sort(w);var L,R=[],z=[],q=[];for(L=0;L<T.length;++L){var N=T[L];if(N.type.indexOf("mat")>=0){for(var V=0|N.type.charAt(N.type.length-1),Z=new Array(V),j=0;j<V;++j)Z[j]=q.length,z.push(N.name+"["+j+"]"),typeof N.location=="number"?q.push(N.location+j):Array.isArray(N.location)&&N.location.length===V&&typeof N.location[j]=="number"?q.push(0|N.location[j]):q.push(-1);R.push({name:N.name,type:N.type,locations:Z})}else R.push({name:N.name,type:N.type,locations:[q.length]}),z.push(N.name),typeof N.location=="number"?q.push(0|N.location):q.push(-1)}var H=0;for(L=0;L<q.length;++L)if(q[L]<0){for(;q.indexOf(H)>=0;)H+=1;q[L]=H}var Y=new Array(m.length);function ie(){A.program=a.program(d,A._vref,A._fref,z,q);for(var re=0;re<m.length;++re)Y[re]=d.getUniformLocation(A.program,m[re].name)}ie(),A._relink=ie,A.types={uniforms:i(m),attributes:i(T)},A.attributes=r(d,A,R,q),Object.defineProperty(A,"uniforms",o(d,A,m,Y))},f.exports=function(g,v,m,T,_){var A=new h(g);return A.update(v,m,T,_),A}},8866:function(f){function s(t,o,r){this.shortMessage=o||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(o||t||"")+(r?`
`+r:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,f.exports=s},8731:function(f,s,t){"use strict";f.exports=function(h,c,w,g){for(var v={},m=0,T=w.length;m<T;++m){var _=w[m],A=_.name,d=_.type,C=_.locations;switch(d){case"bool":case"int":case"float":l(h,c,C[0],g,1,v,A);break;default:if(d.indexOf("vec")>=0){if((k=d.charCodeAt(d.length-1)-48)<2||k>4)throw new o("","Invalid data type for attribute "+A+": "+d);l(h,c,C[0],g,k,v,A)}else{if(!(d.indexOf("mat")>=0))throw new o("","Unknown data type for attribute "+A+": "+d);var k;if((k=d.charCodeAt(d.length-1)-48)<2||k>4)throw new o("","Invalid data type for attribute "+A+": "+d);u(h,c,C,g,k,v,A)}}}return v};var o=t(8866);function r(h,c,w,g,v,m){this._gl=h,this._wrapper=c,this._index=w,this._locations=g,this._dimension=v,this._constFunc=m}var i=r.prototype;i.pointer=function(h,c,w,g){var v=this,m=v._gl,T=v._locations[v._index];m.vertexAttribPointer(T,v._dimension,h||m.FLOAT,!!c,w||0,g||0),m.enableVertexAttribArray(T)},i.set=function(h,c,w,g){return this._constFunc(this._locations[this._index],h,c,w,g)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=0|h,this._wrapper.program=null),0|h}});var a=[function(h,c,w){return w.length===void 0?h.vertexAttrib1f(c,w):h.vertexAttrib1fv(c,w)},function(h,c,w,g){return w.length===void 0?h.vertexAttrib2f(c,w,g):h.vertexAttrib2fv(c,w)},function(h,c,w,g,v){return w.length===void 0?h.vertexAttrib3f(c,w,g,v):h.vertexAttrib3fv(c,w)},function(h,c,w,g,v,m){return w.length===void 0?h.vertexAttrib4f(c,w,g,v,m):h.vertexAttrib4fv(c,w)}];function l(h,c,w,g,v,m,T){var _=a[v],A=new r(h,c,w,g,v,_);Object.defineProperty(m,T,{set:function(d){return h.disableVertexAttribArray(g[w]),_(h,g[w],d),d},get:function(){return A},enumerable:!0})}function u(h,c,w,g,v,m,T){for(var _=new Array(v),A=new Array(v),d=0;d<v;++d)l(h,c,w[d],g,v,_,d),A[d]=_[d];Object.defineProperty(_,"location",{set:function(D){if(Array.isArray(D))for(var O=0;O<v;++O)A[O].location=D[O];else for(O=0;O<v;++O)A[O].location=D+O;return D},get:function(){for(var D=new Array(v),O=0;O<v;++O)D[O]=g[w[O]];return D},enumerable:!0}),_.pointer=function(D,O,L,R){D=D||h.FLOAT,O=!!O,L=L||v*v,R=R||0;for(var z=0;z<v;++z){var q=g[w[z]];h.vertexAttribPointer(q,v,D,O,L,R+z*v),h.enableVertexAttribArray(q)}};var C=new Array(v),k=h["vertexAttrib"+v+"fv"];Object.defineProperty(m,T,{set:function(D){for(var O=0;O<v;++O){var L=g[w[O]];if(h.disableVertexAttribArray(L),Array.isArray(D[0]))k.call(h,L,D[O]);else{for(var R=0;R<v;++R)C[R]=D[v*O+R];k.call(h,L,C)}}return D},get:function(){return _},enumerable:!0})}},3327:function(f,s,t){"use strict";var o=t(216),r=t(8866);function i(l){return function(){return l}}function a(l,u){for(var h=new Array(l),c=0;c<l;++c)h[c]=u;return h}f.exports=function(l,u,h,c){function w(_){return function(A){for(var d=g("",_),C=0;C<d.length;++C){var k=d[C],D=k[0],O=k[1];if(c[O]){var L=A;if(typeof D=="string"&&(D.indexOf(".")===0||D.indexOf("[")===0)){var R=D;if(D.indexOf(".")===0&&(R=D.slice(1)),R.indexOf("]")===R.length-1){var z=R.indexOf("["),q=R.slice(0,z),N=R.slice(z+1,R.length-1);L=q?A[q][N]:A[N]}else L=A[R]}var V,Z=h[O].type;switch(Z){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(c[O],L);break;case"float":l.uniform1f(c[O],L);break;default:var j=Z.indexOf("vec");if(!(0<=j&&j<=1&&Z.length===4+j)){if(Z.indexOf("mat")===0&&Z.length===4){if((V=Z.charCodeAt(Z.length-1)-48)<2||V>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+Z);l["uniformMatrix"+V+"fv"](c[O],!1,L);break}throw new r("","Unknown uniform data type for "+name+": "+Z)}if((V=Z.charCodeAt(Z.length-1)-48)<2||V>4)throw new r("","Invalid data type");switch(Z.charAt(0)){case"b":case"i":l["uniform"+V+"iv"](c[O],L);break;case"v":l["uniform"+V+"fv"](c[O],L);break;default:throw new r("","Unrecognized data type for vector "+name+": "+Z)}}}}}}function g(_,A){if(typeof A!="object")return[[_,A]];var d=[];for(var C in A){var k=A[C],D=_;parseInt(C)+""===C?D+="["+C+"]":D+="."+C,typeof k=="object"?d.push.apply(d,g(D,k)):d.push([D,k])}return d}function v(_,A,d){if(typeof d=="object"){var C=m(d);Object.defineProperty(_,A,{get:i(C),set:w(d),enumerable:!0,configurable:!1})}else c[d]?Object.defineProperty(_,A,{get:(k=d,function(D,O,L){return D.getUniform(O.program,L[k])}),set:w(d),enumerable:!0,configurable:!1}):_[A]=function(D){switch(D){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var O=D.indexOf("vec");if(0<=O&&O<=1&&D.length===4+O){if((L=D.charCodeAt(D.length-1)-48)<2||L>4)throw new r("","Invalid data type");return D.charAt(0)==="b"?a(L,!1):a(L,0)}if(D.indexOf("mat")===0&&D.length===4){var L;if((L=D.charCodeAt(D.length-1)-48)<2||L>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+D);return a(L*L,0)}throw new r("","Unknown uniform data type for "+name+": "+D)}}(h[d].type);var k}function m(_){var A;if(Array.isArray(_)){A=new Array(_.length);for(var d=0;d<_.length;++d)v(A,d,_[d])}else for(var C in A={},_)v(A,C,_[C]);return A}var T=o(h,!0);return{get:i(m(T)),set:w(T),enumerable:!0,configurable:!0}}},216:function(f){"use strict";f.exports=function(s,t){for(var o={},r=0;r<s.length;++r)for(var i=s[r].name.split("."),a=o,l=0;l<i.length;++l){var u=i[l].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var h=1;h<u.length;++h){var c=parseInt(u[h]);h<u.length-1||l<i.length-1?(c in a||(h<u.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=t?r:s[r].type}}else l<i.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):a[u[0]]=t?r:s[r].type}return o}},2145:function(f,s){"use strict";s.uniforms=function(i,a){for(var l=i.getProgramParameter(a,i.ACTIVE_UNIFORMS),u=[],h=0;h<l;++h){var c=i.getActiveUniform(a,h);if(c){var w=r(i,c.type);if(c.size>1)for(var g=0;g<c.size;++g)u.push({name:c.name.replace("[0]","["+g+"]"),type:w});else u.push({name:c.name,type:w})}}return u},s.attributes=function(i,a){for(var l=i.getProgramParameter(a,i.ACTIVE_ATTRIBUTES),u=[],h=0;h<l;++h){var c=i.getActiveAttrib(a,h);c&&u.push({name:c.name,type:r(i,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null;function r(i,a){if(!o){var l=Object.keys(t);o={};for(var u=0;u<l.length;++u){var h=l[u];o[i[h]]=t[h]}}return o[a]}},5091:function(f,s,t){"use strict";s.shader=function(w,g,v){return c(w).getShaderReference(g,v)},s.program=function(w,g,v,m,T){return c(w).getProgram(g,v,m,T)};var o=t(8866),r=t(2992),i=new(typeof WeakMap>"u"?t(606):WeakMap),a=0;function l(w,g,v,m,T,_,A){this.id=w,this.src=g,this.type=v,this.shader=m,this.count=_,this.programs=[],this.cache=A}function u(w){this.gl=w,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(--this.count==0){for(var w=this.cache,g=w.gl,v=this.programs,m=0,T=v.length;m<T;++m){var _=w.programs[v[m]];_&&(delete w.programs[m],g.deleteProgram(_))}g.deleteShader(this.shader),delete w.shaders[this.type===g.FRAGMENT_SHADER|0][this.src]}};var h=u.prototype;function c(w){var g=i.get(w);return g||(g=new u(w),i.set(w,g)),g}h.getShaderReference=function(w,g){var v=this.gl,m=this.shaders[w===v.FRAGMENT_SHADER|0],T=m[g];if(T&&v.isShader(T.shader))T.count+=1;else{var _=function(A,d,C){var k=A.createShader(d);if(A.shaderSource(k,C),A.compileShader(k),!A.getShaderParameter(k,A.COMPILE_STATUS)){var D=A.getShaderInfoLog(k);try{var O=r(D,C,d)}catch(L){throw console.warn("Failed to format compiler error: "+L),new o(D,`Error compiling shader:
`+D)}throw new o(D,O.short,O.long)}return k}(v,w,g);T=m[g]=new l(a++,g,w,_,[],1,this)}return T},h.getProgram=function(w,g,v,m){var T=[w.id,g.id,v.join(":"),m.join(":")].join("@"),_=this.programs[T];return _&&this.gl.isProgram(_)||(this.programs[T]=_=function(A,d,C,k,D){var O=A.createProgram();A.attachShader(O,d),A.attachShader(O,C);for(var L=0;L<k.length;++L)A.bindAttribLocation(O,D[L],k[L]);if(A.linkProgram(O),!A.getProgramParameter(O,A.LINK_STATUS)){var R=A.getProgramInfoLog(O);throw new o(R,"Error linking program: "+R)}return O}(this.gl,w.shader,g.shader,v,m),w.programs.push(T),g.programs.push(T)),_}},4098:function(f){"use strict";function s(o){this.plot=o,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}f.exports=function(o,r){var i=new s(o);return i.update(r),o.addOverlay(i),i};var t=s.prototype;t.update=function(o){o=o||{},this.enable=(o.enable||[!0,!0,!1,!1]).slice(),this.width=(o.width||[1,1,1,1]).slice(),this.color=(o.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(o.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var o=this.enable,r=this.width,i=this.color,a=this.center,l=this.plot,u=l.line,h=l.dataBox,c=l.viewBox;if(u.bind(),h[0]<=a[0]&&a[0]<=h[2]&&h[1]<=a[1]&&a[1]<=h[3]){var w=c[0]+(a[0]-h[0])/(h[2]-h[0])*(c[2]-c[0]),g=c[1]+(a[1]-h[1])/(h[3]-h[1])*(c[3]-c[1]);o[0]&&u.drawLine(w,g,c[0],g,r[0],i[0]),o[1]&&u.drawLine(w,g,w,c[1],r[1],i[1]),o[2]&&u.drawLine(w,g,c[2],g,r[2],i[2]),o[3]&&u.drawLine(w,g,w,c[3],r[3],i[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},1493:function(f,s,t){"use strict";var o=t(3236),r=t(9405),i=o([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),a=o([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);f.exports=function(l){return r(l,i,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(f,s,t){"use strict";var o=t(2762),r=t(8116),i=t(1493);f.exports=function(g,v){var m=[];function T(k,D,O,L,R,z){var q=[k,D,O,0,0,0,1];q[L+3]=1,q[L]=R,m.push.apply(m,q),q[6]=-1,m.push.apply(m,q),q[L]=z,m.push.apply(m,q),m.push.apply(m,q),q[6]=1,m.push.apply(m,q),q[L]=R,m.push.apply(m,q)}T(0,0,0,0,0,1),T(0,0,0,1,0,1),T(0,0,0,2,0,1),T(1,0,0,1,-1,1),T(1,0,0,2,-1,1),T(0,1,0,0,-1,1),T(0,1,0,2,-1,1),T(0,0,1,0,-1,1),T(0,0,1,1,-1,1);var _=o(g,m),A=r(g,[{type:g.FLOAT,buffer:_,size:3,offset:0,stride:28},{type:g.FLOAT,buffer:_,size:3,offset:12,stride:28},{type:g.FLOAT,buffer:_,size:1,offset:24,stride:28}]),d=i(g);d.attributes.position.location=0,d.attributes.color.location=1,d.attributes.weight.location=2;var C=new l(g,_,A,d);return C.update(v),C};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(g,v,m,T){this.gl=g,this.buffer=v,this.vao=m,this.shader=T,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,h=[0,0,0],c=[0,0,0],w=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(g){},u.draw=function(g){var v=this.gl,m=this.vao,T=this.shader;m.bind(),T.bind();var _,A=g.model||a,d=g.view||a,C=g.projection||a;this.axes&&(_=this.axes.lastCubeProps.axis);for(var k=h,D=c,O=0;O<3;++O)_&&_[O]<0?(k[O]=this.bounds[0][O],D[O]=this.bounds[1][O]):(k[O]=this.bounds[1][O],D[O]=this.bounds[0][O]);for(w[0]=v.drawingBufferWidth,w[1]=v.drawingBufferHeight,T.uniforms.model=A,T.uniforms.view=d,T.uniforms.projection=C,T.uniforms.coordinates=[this.position,k,D],T.uniforms.colors=this.colors,T.uniforms.screenShape=w,O=0;O<3;++O)T.uniforms.lineWidth=this.lineWidth[O]*this.pixelRatio,this.enabled[O]&&(m.draw(v.TRIANGLES,6,6*O),this.drawSides[O]&&m.draw(v.TRIANGLES,12,18+12*O));m.unbind()},u.update=function(g){g&&("bounds"in g&&(this.bounds=g.bounds),"position"in g&&(this.position=g.position),"lineWidth"in g&&(this.lineWidth=g.lineWidth),"colors"in g&&(this.colors=g.colors),"enabled"in g&&(this.enabled=g.enabled),"drawSides"in g&&(this.drawSides=g.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},6740:function(f,s,t){var o=t(3236),r=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),i=o([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),a=o([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=o([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:i,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:a,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(f,s,t){"use strict";var o=t(2931),r=t(9970),i=["xyz","xzy","yxz","yzx","zxy","zyx"],a=function(w,g){var v,m=w.length;for(v=0;v<m;v++){var T=w[v];if(T===g)return v;if(T>g)return v-1}return v},l=function(w,g,v){return w<g?g:w>v?v:w},u=function(w){var g=1/0;w.sort(function(_,A){return _-A});for(var v=w.length,m=1;m<v;m++){var T=Math.abs(w[m]-w[m-1]);T<g&&(g=T)}return g};f.exports=function(w,g){var v=w.startingPositions,m=w.maxLength||1e3,T=w.tubeSize||1,_=w.absoluteTubeSize,A=w.gridFill||"+x+y+z",d={};A.indexOf("-x")!==-1&&(d.reversedX=!0),A.indexOf("-y")!==-1&&(d.reversedY=!0),A.indexOf("-z")!==-1&&(d.reversedZ=!0),d.filled=i.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var C=w.getVelocity||function(ye){return function(Se,Ie,xe){var ue=Ie.vectors,ae=Ie.meshgrid,pe=Se[0],De=Se[1],Te=Se[2],Ae=ae[0].length,Ce=ae[1].length,Re=ae[2].length,Ne=a(ae[0],pe),ge=a(ae[1],De),Me=a(ae[2],Te),Ee=Ne+1,Fe=ge+1,Le=Me+1;if(Ne=l(Ne,0,Ae-1),Ee=l(Ee,0,Ae-1),ge=l(ge,0,Ce-1),Fe=l(Fe,0,Ce-1),Me=l(Me,0,Re-1),Le=l(Le,0,Re-1),Ne<0||ge<0||Me<0||Ee>Ae-1||Fe>Ce-1||Le>Re-1)return o.create();var Ue,Ge,Ke,at,st,vt,xt=ae[0][Ne],gt=ae[0][Ee],nt=ae[1][ge],et=ae[1][Fe],At=ae[2][Me],Pt=(pe-xt)/(gt-xt),Rt=(De-nt)/(et-nt),Et=(Te-At)/(ae[2][Le]-At);switch(isFinite(Pt)||(Pt=.5),isFinite(Rt)||(Rt=.5),isFinite(Et)||(Et=.5),xe.reversedX&&(Ne=Ae-1-Ne,Ee=Ae-1-Ee),xe.reversedY&&(ge=Ce-1-ge,Fe=Ce-1-Fe),xe.reversedZ&&(Me=Re-1-Me,Le=Re-1-Le),xe.filled){case 5:st=Me,vt=Le,Ke=ge*Re,at=Fe*Re,Ue=Ne*Re*Ce,Ge=Ee*Re*Ce;break;case 4:st=Me,vt=Le,Ue=Ne*Re,Ge=Ee*Re,Ke=ge*Re*Ae,at=Fe*Re*Ae;break;case 3:Ke=ge,at=Fe,st=Me*Ce,vt=Le*Ce,Ue=Ne*Ce*Re,Ge=Ee*Ce*Re;break;case 2:Ke=ge,at=Fe,Ue=Ne*Ce,Ge=Ee*Ce,st=Me*Ce*Ae,vt=Le*Ce*Ae;break;case 1:Ue=Ne,Ge=Ee,st=Me*Ae,vt=Le*Ae,Ke=ge*Ae*Re,at=Fe*Ae*Re;break;default:Ue=Ne,Ge=Ee,Ke=ge*Ae,at=Fe*Ae,st=Me*Ae*Ce,vt=Le*Ae*Ce}var Ye=ue[Ue+Ke+st],Xe=ue[Ue+Ke+vt],Ve=ue[Ue+at+st],Ze=ue[Ue+at+vt],lt=ue[Ge+Ke+st],it=ue[Ge+Ke+vt],Be=ue[Ge+at+st],je=ue[Ge+at+vt],ot=o.create(),$e=o.create(),dt=o.create(),mt=o.create();o.lerp(ot,Ye,lt,Pt),o.lerp($e,Xe,it,Pt),o.lerp(dt,Ve,Be,Pt),o.lerp(mt,Ze,je,Pt);var yt=o.create(),ht=o.create();o.lerp(yt,ot,dt,Rt),o.lerp(ht,$e,mt,Rt);var kt=o.create();return o.lerp(kt,yt,ht,Et),kt}(ye,w,d)},k=w.getDivergence||function(ye,Se){var Ie=o.create(),xe=1e-4;o.add(Ie,ye,[xe,0,0]);var ue=C(Ie);o.subtract(ue,ue,Se),o.scale(ue,ue,1/xe),o.add(Ie,ye,[0,xe,0]);var ae=C(Ie);o.subtract(ae,ae,Se),o.scale(ae,ae,1/xe),o.add(Ie,ye,[0,0,xe]);var pe=C(Ie);return o.subtract(pe,pe,Se),o.scale(pe,pe,1/xe),o.add(Ie,ue,ae),o.add(Ie,Ie,pe),Ie},D=[],O=g[0][0],L=g[0][1],R=g[0][2],z=g[1][0],q=g[1][1],N=g[1][2],V=function(ye){var Se=ye[0],Ie=ye[1],xe=ye[2];return!(Se<O||Se>z||Ie<L||Ie>q||xe<R||xe>N)},Z=10*o.distance(g[0],g[1])/m,j=Z*Z,H=1,Y=0,ie=v.length;ie>1&&(H=function(ye){for(var Se=[],Ie=[],xe=[],ue={},ae={},pe={},De=ye.length,Te=0;Te<De;Te++){var Ae=ye[Te],Ce=Ae[0],Re=Ae[1],Ne=Ae[2];ue[Ce]||(Se.push(Ce),ue[Ce]=!0),ae[Re]||(Ie.push(Re),ae[Re]=!0),pe[Ne]||(xe.push(Ne),pe[Ne]=!0)}var ge=u(Se),Me=u(Ie),Ee=u(xe),Fe=Math.min(ge,Me,Ee);return isFinite(Fe)?Fe:1}(v));for(var re=0;re<ie;re++){var ne=o.create();o.copy(ne,v[re]);var ee=[ne],Q=[],X=C(ne),se=ne;Q.push(X);var ce=[],le=k(ne,X),de=o.length(le);isFinite(de)&&de>Y&&(Y=de),ce.push(de),D.push({points:ee,velocities:Q,divergences:ce});for(var be=0;be<100*m&&ee.length<m&&V(ne);){be++;var _e=o.clone(X),ve=o.squaredLength(_e);if(ve===0)break;ve>j&&o.scale(_e,_e,Z/Math.sqrt(ve)),o.add(_e,_e,ne),X=C(_e),o.squaredDistance(se,_e)-j>-1e-4*j&&(ee.push(_e),se=_e,Q.push(X),le=k(_e,X),de=o.length(le),isFinite(de)&&de>Y&&(Y=de),ce.push(de)),ne=_e}}var me=function(ye,Se,Ie,xe){for(var ue=0,ae=0;ae<ye.length;ae++)for(var pe=ye[ae].velocities,De=0;De<pe.length;De++)ue=Math.max(ue,o.length(pe[De]));var Te=ye.map(function(Ue){return function(Ge,Ke,at,st){for(var vt=Ge.points,xt=Ge.velocities,gt=Ge.divergences,nt=[],et=[],At=[],Pt=[],Rt=[],Et=[],Ye=0,Xe=0,Ve=r.create(),Ze=r.create(),lt=0;lt<vt.length;lt++){var it=vt[lt],Be=xt[lt],je=gt[lt];Ke===0&&(je=.05*at),Xe=o.length(Be)/st,Ve=r.create(),o.copy(Ve,Be),Ve[3]=je;for(var ot=0;ot<8;ot++)Rt[ot]=[it[0],it[1],it[2],ot];if(Pt.length>0)for(ot=0;ot<8;ot++){var $e=(ot+1)%8;nt.push(Pt[ot],Rt[ot],Rt[$e],Rt[$e],Pt[$e],Pt[ot]),At.push(Ze,Ve,Ve,Ve,Ze,Ze),Et.push(Ye,Xe,Xe,Xe,Ye,Ye);var dt=nt.length;et.push([dt-6,dt-5,dt-4],[dt-3,dt-2,dt-1])}var mt=Pt;Pt=Rt,Rt=mt;var yt=Ze;Ze=Ve,Ve=yt;var ht=Ye;Ye=Xe,Xe=ht}return{positions:nt,cells:et,vectors:At,vertexIntensity:Et}}(Ue,Ie,xe,ue)}),Ae=[],Ce=[],Re=[],Ne=[];for(ae=0;ae<Te.length;ae++){var ge=Te[ae],Me=Ae.length;for(Ae=Ae.concat(ge.positions),Re=Re.concat(ge.vectors),Ne=Ne.concat(ge.vertexIntensity),De=0;De<ge.cells.length;De++){var Ee=ge.cells[De],Fe=[];Ce.push(Fe);for(var Le=0;Le<Ee.length;Le++)Fe.push(Ee[Le]+Me)}}return{positions:Ae,cells:Ce,vectors:Re,vertexIntensity:Ne,colormap:Se}}(D,w.colormap,Y,H);return _?me.tubeScale=_:(Y===0&&(Y=1),me.tubeScale=.5*T*H/Y),me};var h=t(6740),c=t(6405).createMesh;f.exports.createTubeMesh=function(w,g){return c(w,g,{shaders:h,traceType:"streamtube"})}},990:function(f,s,t){var o=t(9405),r=t(3236),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),a=r([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(h){var c=o(h,i,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(h){var c=o(h,i,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(h){var c=o(h,l,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(h){var c=o(h,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},9499:function(f,s,t){"use strict";f.exports=function(le){var de=le.gl,be=d(de),_e=k(de),ve=C(de),me=D(de),ye=r(de),Se=i(de,[{buffer:ye,size:4,stride:O,offset:0},{buffer:ye,size:3,stride:O,offset:16},{buffer:ye,size:3,stride:O,offset:28}]),Ie=r(de),xe=i(de,[{buffer:Ie,size:4,stride:20,offset:0},{buffer:Ie,size:1,stride:20,offset:16}]),ue=r(de),ae=i(de,[{buffer:ue,size:2,type:de.FLOAT}]),pe=a(de,1,N,de.RGBA,de.UNSIGNED_BYTE);pe.minFilter=de.LINEAR,pe.magFilter=de.LINEAR;var De=new V(de,[0,0],[[0,0,0],[0,0,0]],be,_e,ye,Se,pe,ve,me,Ie,xe,ue,ae,[0,0,0]),Te={levels:[[],[],[]]};for(var Ae in le)Te[Ae]=le[Ae];return Te.colormap=Te.colormap||"jet",De.update(Te),De};var o=t(8828),r=t(2762),i=t(8116),a=t(7766),l=t(1888),u=t(6729),h=t(5298),c=t(9994),w=t(9618),g=t(3711),v=t(6760),m=t(7608),T=t(2478),_=t(6199),A=t(990),d=A.createShader,C=A.createContourShader,k=A.createPickShader,D=A.createPickContourShader,O=40,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],R=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],z=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function q(le,de,be,_e,ve){this.position=le,this.index=de,this.uv=be,this.level=_e,this.dataCoordinate=ve}(function(){for(var le=0;le<3;++le){var de=z[le],be=(le+2)%3;de[(le+1)%3+0]=1,de[be+3]=1,de[le+6]=1}})();var N=256;function V(le,de,be,_e,ve,me,ye,Se,Ie,xe,ue,ae,pe,De,Te){this.gl=le,this.shape=de,this.bounds=be,this.objectOffset=Te,this.intensityBounds=[],this._shader=_e,this._pickShader=ve,this._coordinateBuffer=me,this._vao=ye,this._colorMap=Se,this._contourShader=Ie,this._contourPickShader=xe,this._contourBuffer=ue,this._contourVAO=ae,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new q([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=pe,this._dynamicVAO=De,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(l.mallocFloat(1024),[0,0]),w(l.mallocFloat(1024),[0,0]),w(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var Z=V.prototype;Z.genColormap=function(le,de){var be=!1,_e=c([u({colormap:le,nshades:N,format:"rgba"}).map(function(ve,me){var ye=de?function(Se,Ie){if(!Ie||!Ie.length)return 1;for(var xe=0;xe<Ie.length;++xe){if(Ie.length<2)return 1;if(Ie[xe][0]===Se)return Ie[xe][1];if(Ie[xe][0]>Se&&xe>0){var ue=(Ie[xe][0]-Se)/(Ie[xe][0]-Ie[xe-1][0]);return Ie[xe][1]*(1-ue)+ue*Ie[xe-1][1]}}return 1}(me/255,de):ve[3];return ye<1&&(be=!0),[ve[0],ve[1],ve[2],255*ye]})]);return h.divseq(_e,255),this.hasAlphaScale=be,_e},Z.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},Z.isOpaque=function(){return!this.isTransparent()},Z.pickSlots=1,Z.setPickBase=function(le){this.pickId=le};var j=[0,0,0],H={showSurface:!1,showContour:!1,projections:[L.slice(),L.slice(),L.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function Y(le,de){var be,_e,ve,me=de.axes&&de.axes.lastCubeProps.axis||j,ye=de.showSurface,Se=de.showContour;for(be=0;be<3;++be)for(ye=ye||de.surfaceProject[be],_e=0;_e<3;++_e)Se=Se||de.contourProject[be][_e];for(be=0;be<3;++be){var Ie=H.projections[be];for(_e=0;_e<16;++_e)Ie[_e]=0;for(_e=0;_e<4;++_e)Ie[5*_e]=1;Ie[5*be]=0,Ie[12+be]=de.axesBounds[+(me[be]>0)][be],v(Ie,le.model,Ie);var xe=H.clipBounds[be];for(ve=0;ve<2;++ve)for(_e=0;_e<3;++_e)xe[ve][_e]=le.clipBounds[ve][_e];xe[0][be]=-1e8,xe[1][be]=1e8}return H.showSurface=ye,H.showContour=Se,H}var ie={model:L,view:L,projection:L,inverseModel:L.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},re=L.slice(),ne=[1,0,0,0,1,0,0,0,1];function ee(le,de){le=le||{};var be=this.gl;be.disable(be.CULL_FACE),this._colorMap.bind(0);var _e=ie;_e.model=le.model||L,_e.view=le.view||L,_e.projection=le.projection||L,_e.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],_e.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],_e.objectOffset=this.objectOffset,_e.contourColor=this.contourColor[0],_e.inverseModel=m(_e.inverseModel,_e.model);for(var ve=0;ve<2;++ve)for(var me=_e.clipBounds[ve],ye=0;ye<3;++ye)me[ye]=Math.min(Math.max(this.clipBounds[ve][ye],-1e8),1e8);_e.kambient=this.ambientLight,_e.kdiffuse=this.diffuseLight,_e.kspecular=this.specularLight,_e.roughness=this.roughness,_e.fresnel=this.fresnel,_e.opacity=this.opacity,_e.height=0,_e.permutation=ne,_e.vertexColor=this.vertexColor;var Se=re;for(v(Se,_e.view,_e.model),v(Se,_e.projection,Se),m(Se,Se),ve=0;ve<3;++ve)_e.eyePosition[ve]=Se[12+ve]/Se[15];var Ie=Se[15];for(ve=0;ve<3;++ve)Ie+=this.lightPosition[ve]*Se[4*ve+3];for(ve=0;ve<3;++ve){var xe=Se[12+ve];for(ye=0;ye<3;++ye)xe+=Se[4*ye+ve]*this.lightPosition[ye];_e.lightPosition[ve]=xe/Ie}var ue=Y(_e,this);if(ue.showSurface){for(this._shader.bind(),this._shader.uniforms=_e,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(be.TRIANGLES,this._vertexCount),ve=0;ve<3;++ve)this.surfaceProject[ve]&&this.vertexCount&&(this._shader.uniforms.model=ue.projections[ve],this._shader.uniforms.clipBounds=ue.clipBounds[ve],this._vao.draw(be.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ue.showContour){var ae=this._contourShader;_e.kambient=1,_e.kdiffuse=0,_e.kspecular=0,_e.opacity=1,ae.bind(),ae.uniforms=_e;var pe=this._contourVAO;for(pe.bind(),ve=0;ve<3;++ve)for(ae.uniforms.permutation=z[ve],be.lineWidth(this.contourWidth[ve]*this.pixelRatio),ye=0;ye<this.contourLevels[ve].length;++ye)ye===this.highlightLevel[ve]?(ae.uniforms.contourColor=this.highlightColor[ve],ae.uniforms.contourTint=this.highlightTint[ve]):ye!==0&&ye-1!==this.highlightLevel[ve]||(ae.uniforms.contourColor=this.contourColor[ve],ae.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][ye]&&(ae.uniforms.height=this.contourLevels[ve][ye],pe.draw(be.LINES,this._contourCounts[ve][ye],this._contourOffsets[ve][ye]));for(ve=0;ve<3;++ve)for(ae.uniforms.model=ue.projections[ve],ae.uniforms.clipBounds=ue.clipBounds[ve],ye=0;ye<3;++ye)if(this.contourProject[ve][ye]){ae.uniforms.permutation=z[ye],be.lineWidth(this.contourWidth[ye]*this.pixelRatio);for(var De=0;De<this.contourLevels[ye].length;++De)De===this.highlightLevel[ye]?(ae.uniforms.contourColor=this.highlightColor[ye],ae.uniforms.contourTint=this.highlightTint[ye]):De!==0&&De-1!==this.highlightLevel[ye]||(ae.uniforms.contourColor=this.contourColor[ye],ae.uniforms.contourTint=this.contourTint[ye]),this._contourCounts[ye][De]&&(ae.uniforms.height=this.contourLevels[ye][De],pe.draw(be.LINES,this._contourCounts[ye][De],this._contourOffsets[ye][De]))}for(pe.unbind(),(pe=this._dynamicVAO).bind(),ve=0;ve<3;++ve)if(this._dynamicCounts[ve]!==0)for(ae.uniforms.model=_e.model,ae.uniforms.clipBounds=_e.clipBounds,ae.uniforms.permutation=z[ve],be.lineWidth(this.dynamicWidth[ve]*this.pixelRatio),ae.uniforms.contourColor=this.dynamicColor[ve],ae.uniforms.contourTint=this.dynamicTint[ve],ae.uniforms.height=this.dynamicLevel[ve],pe.draw(be.LINES,this._dynamicCounts[ve],this._dynamicOffsets[ve]),ye=0;ye<3;++ye)this.contourProject[ye][ve]&&(ae.uniforms.model=ue.projections[ye],ae.uniforms.clipBounds=ue.clipBounds[ye],pe.draw(be.LINES,this._dynamicCounts[ve],this._dynamicOffsets[ve]));pe.unbind()}}Z.draw=function(le){return ee.call(this,le,!1)},Z.drawTransparent=function(le){return ee.call(this,le,!0)};var Q={model:L,view:L,projection:L,inverseModel:L,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function X(le,de){return Array.isArray(le)?[de(le[0]),de(le[1]),de(le[2])]:[de(le),de(le),de(le)]}function se(le){return Array.isArray(le)?le.length===3?[le[0],le[1],le[2],1]:[le[0],le[1],le[2],le[3]]:[0,0,0,1]}function ce(le){if(Array.isArray(le)){if(Array.isArray(le))return[se(le[0]),se(le[1]),se(le[2])];var de=se(le);return[de.slice(),de.slice(),de.slice()]}}Z.drawPick=function(le){le=le||{};var de=this.gl;de.disable(de.CULL_FACE);var be=Q;be.model=le.model||L,be.view=le.view||L,be.projection=le.projection||L,be.shape=this._field[2].shape,be.pickId=this.pickId/255,be.lowerBound=this.bounds[0],be.upperBound=this.bounds[1],be.objectOffset=this.objectOffset,be.permutation=ne;for(var _e=0;_e<2;++_e)for(var ve=be.clipBounds[_e],me=0;me<3;++me)ve[me]=Math.min(Math.max(this.clipBounds[_e][me],-1e8),1e8);var ye=Y(be,this);if(ye.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=be,this._vao.bind(),this._vao.draw(de.TRIANGLES,this._vertexCount),_e=0;_e<3;++_e)this.surfaceProject[_e]&&(this._pickShader.uniforms.model=ye.projections[_e],this._pickShader.uniforms.clipBounds=ye.clipBounds[_e],this._vao.draw(de.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ye.showContour){var Se=this._contourPickShader;Se.bind(),Se.uniforms=be;var Ie=this._contourVAO;for(Ie.bind(),me=0;me<3;++me)for(de.lineWidth(this.contourWidth[me]*this.pixelRatio),Se.uniforms.permutation=z[me],_e=0;_e<this.contourLevels[me].length;++_e)this._contourCounts[me][_e]&&(Se.uniforms.height=this.contourLevels[me][_e],Ie.draw(de.LINES,this._contourCounts[me][_e],this._contourOffsets[me][_e]));for(_e=0;_e<3;++_e)for(Se.uniforms.model=ye.projections[_e],Se.uniforms.clipBounds=ye.clipBounds[_e],me=0;me<3;++me)if(this.contourProject[_e][me]){Se.uniforms.permutation=z[me],de.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var xe=0;xe<this.contourLevels[me].length;++xe)this._contourCounts[me][xe]&&(Se.uniforms.height=this.contourLevels[me][xe],Ie.draw(de.LINES,this._contourCounts[me][xe],this._contourOffsets[me][xe]))}Ie.unbind()}},Z.pick=function(le){if(!le||le.id!==this.pickId)return null;var de=this._field[2].shape,be=this._pickResult,_e=de[0]*(le.value[0]+(le.value[2]>>4)/16)/255,ve=Math.floor(_e),me=_e-ve,ye=de[1]*(le.value[1]+(15&le.value[2])/16)/255,Se=Math.floor(ye),Ie=ye-Se;ve+=1,Se+=1;var xe=be.position;xe[0]=xe[1]=xe[2]=0;for(var ue=0;ue<2;++ue)for(var ae=ue?me:1-me,pe=0;pe<2;++pe)for(var De=ve+ue,Te=Se+pe,Ae=ae*(pe?Ie:1-Ie),Ce=0;Ce<3;++Ce)xe[Ce]+=this._field[Ce].get(De,Te)*Ae;for(var Re=this._pickResult.level,Ne=0;Ne<3;++Ne)if(Re[Ne]=T.le(this.contourLevels[Ne],xe[Ne]),Re[Ne]<0)this.contourLevels[Ne].length>0&&(Re[Ne]=0);else if(Re[Ne]<this.contourLevels[Ne].length-1){var ge=this.contourLevels[Ne][Re[Ne]],Me=this.contourLevels[Ne][Re[Ne]+1];Math.abs(ge-xe[Ne])>Math.abs(Me-xe[Ne])&&(Re[Ne]+=1)}for(be.index[0]=me<.5?ve:ve+1,be.index[1]=Ie<.5?Se:Se+1,be.uv[0]=_e/de[0],be.uv[1]=ye/de[1],Ce=0;Ce<3;++Ce)be.dataCoordinate[Ce]=this._field[Ce].get(be.index[0],be.index[1]);return be},Z.padField=function(le,de){var be=de.shape.slice(),_e=le.shape.slice();h.assign(le.lo(1,1).hi(be[0],be[1]),de),h.assign(le.lo(1).hi(be[0],1),de.hi(be[0],1)),h.assign(le.lo(1,_e[1]-1).hi(be[0],1),de.lo(0,be[1]-1).hi(be[0],1)),h.assign(le.lo(0,1).hi(1,be[1]),de.hi(1)),h.assign(le.lo(_e[0]-1,1).hi(1,be[1]),de.lo(be[0]-1)),le.set(0,0,de.get(0,0)),le.set(0,_e[1]-1,de.get(0,be[1]-1)),le.set(_e[0]-1,0,de.get(be[0]-1,0)),le.set(_e[0]-1,_e[1]-1,de.get(be[0]-1,be[1]-1))},Z.update=function(le){le=le||{},this.objectOffset=le.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in le&&(this.contourWidth=X(le.contourWidth,Number)),"showContour"in le&&(this.showContour=X(le.showContour,Boolean)),"showSurface"in le&&(this.showSurface=!!le.showSurface),"contourTint"in le&&(this.contourTint=X(le.contourTint,Boolean)),"contourColor"in le&&(this.contourColor=ce(le.contourColor)),"contourProject"in le&&(this.contourProject=X(le.contourProject,function(cn){return X(cn,Boolean)})),"surfaceProject"in le&&(this.surfaceProject=le.surfaceProject),"dynamicColor"in le&&(this.dynamicColor=ce(le.dynamicColor)),"dynamicTint"in le&&(this.dynamicTint=X(le.dynamicTint,Number)),"dynamicWidth"in le&&(this.dynamicWidth=X(le.dynamicWidth,Number)),"opacity"in le&&(this.opacity=le.opacity),"opacityscale"in le&&(this.opacityscale=le.opacityscale),"colorBounds"in le&&(this.colorBounds=le.colorBounds),"vertexColor"in le&&(this.vertexColor=le.vertexColor?1:0),"colormap"in le&&this._colorMap.setPixels(this.genColormap(le.colormap,this.opacityscale));var de=le.field||le.coords&&le.coords[2]||null,be=!1;if(de||(de=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in le||"coords"in le){var _e=(de.shape[0]+2)*(de.shape[1]+2);_e>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(o.nextPow2(_e))),this._field[2]=w(this._field[2].data,[de.shape[0]+2,de.shape[1]+2]),this.padField(this._field[2],de),this.shape=de.shape.slice();for(var ve=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(l.freeFloat(this._field[me].data),this._field[me].data=l.mallocFloat(this._field[2].size)),this._field[me]=w(this._field[me].data,[ve[0]+2,ve[1]+2]);if(le.coords){var ye=le.coords;if(!Array.isArray(ye)||ye.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Se=ye[me];for(pe=0;pe<2;++pe)if(Se.shape[pe]!==ve[pe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Se)}}else if(le.ticks){var Ie=le.ticks;if(!Array.isArray(Ie)||Ie.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var xe=Ie[me];if((Array.isArray(xe)||xe.length)&&(xe=w(xe)),xe.shape[0]!==ve[me])throw new Error("gl-surface: invalid tick length");var ue=w(xe.data,ve);ue.stride[me]=xe.stride[0],ue.stride[1^me]=0,this.padField(this._field[me],ue)}}else{for(me=0;me<2;++me){var ae=[0,0];ae[me]=1,this._field[me]=w(this._field[me].data,[ve[0]+2,ve[1]+2],ae,0)}this._field[0].set(0,0,0);for(var pe=0;pe<ve[0];++pe)this._field[0].set(pe+1,0,pe);for(this._field[0].set(ve[0]+1,0,ve[0]-1),this._field[1].set(0,0,0),pe=0;pe<ve[1];++pe)this._field[1].set(0,pe+1,pe);this._field[1].set(0,ve[1]+1,ve[1]-1)}var De=this._field,Te=w(l.mallocFloat(3*De[2].size*2),[3,ve[0]+2,ve[1]+2,2]);for(me=0;me<3;++me)_(Te.pick(me),De[me],"mirror");var Ae=w(l.mallocFloat(3*De[2].size),[ve[0]+2,ve[1]+2,3]);for(me=0;me<ve[0]+2;++me)for(pe=0;pe<ve[1]+2;++pe){var Ce=Te.get(0,me,pe,0),Re=Te.get(0,me,pe,1),Ne=Te.get(1,me,pe,0),ge=Te.get(1,me,pe,1),Me=Te.get(2,me,pe,0),Ee=Te.get(2,me,pe,1),Fe=Ne*Ee-ge*Me,Le=Me*Re-Ee*Ce,Ue=Ce*ge-Re*Ne,Ge=Math.sqrt(Fe*Fe+Le*Le+Ue*Ue);Ge<1e-8?(Ge=Math.max(Math.abs(Fe),Math.abs(Le),Math.abs(Ue)))<1e-8?(Ue=1,Le=Fe=0,Ge=1):Ge=1/Ge:Ge=1/Math.sqrt(Ge),Ae.set(me,pe,0,Fe*Ge),Ae.set(me,pe,1,Le*Ge),Ae.set(me,pe,2,Ue*Ge)}l.free(Te.data);var Ke=[1/0,1/0,1/0],at=[-1/0,-1/0,-1/0],st=1/0,vt=-1/0,xt=(ve[0]-1)*(ve[1]-1)*6,gt=l.mallocFloat(o.nextPow2(10*xt)),nt=0,et=0;for(me=0;me<ve[0]-1;++me)e:for(pe=0;pe<ve[1]-1;++pe){for(var At=0;At<2;++At)for(var Pt=0;Pt<2;++Pt)for(var Rt=0;Rt<3;++Rt){var Et=this._field[Rt].get(1+me+At,1+pe+Pt);if(isNaN(Et)||!isFinite(Et))continue e}for(Rt=0;Rt<6;++Rt){var Ye=me+R[Rt][0],Xe=pe+R[Rt][1],Ve=this._field[0].get(Ye+1,Xe+1),Ze=this._field[1].get(Ye+1,Xe+1);Et=this._field[2].get(Ye+1,Xe+1),Fe=Ae.get(Ye+1,Xe+1,0),Le=Ae.get(Ye+1,Xe+1,1),Ue=Ae.get(Ye+1,Xe+1,2),le.intensity&&(lt=le.intensity.get(Ye,Xe));var lt=le.intensity?le.intensity.get(Ye,Xe):Et+this.objectOffset[2];gt[nt++]=Ye,gt[nt++]=Xe,gt[nt++]=Ve,gt[nt++]=Ze,gt[nt++]=Et,gt[nt++]=0,gt[nt++]=lt,gt[nt++]=Fe,gt[nt++]=Le,gt[nt++]=Ue,Ke[0]=Math.min(Ke[0],Ve+this.objectOffset[0]),Ke[1]=Math.min(Ke[1],Ze+this.objectOffset[1]),Ke[2]=Math.min(Ke[2],Et+this.objectOffset[2]),st=Math.min(st,lt),at[0]=Math.max(at[0],Ve+this.objectOffset[0]),at[1]=Math.max(at[1],Ze+this.objectOffset[1]),at[2]=Math.max(at[2],Et+this.objectOffset[2]),vt=Math.max(vt,lt),et+=1}}for(le.intensityBounds&&(st=+le.intensityBounds[0],vt=+le.intensityBounds[1]),me=6;me<nt;me+=10)gt[me]=(gt[me]-st)/(vt-st);this._vertexCount=et,this._coordinateBuffer.update(gt.subarray(0,nt)),l.freeFloat(gt),l.free(Ae.data),this.bounds=[Ke,at],this.intensity=le.intensity||this._field[2],this.intensityBounds[0]===st&&this.intensityBounds[1]===vt||(be=!0),this.intensityBounds=[st,vt]}if("levels"in le){var it=le.levels;for(it=Array.isArray(it[0])?it.slice():[[],[],it],me=0;me<3;++me)it[me]=it[me].slice(),it[me].sort(function(cn,nn){return cn-nn});for(me=0;me<3;++me)for(pe=0;pe<it[me].length;++pe)it[me][pe]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(it[me].length!==this.contourLevels[me].length){be=!0;break}for(pe=0;pe<it[me].length;++pe)if(it[me][pe]!==this.contourLevels[me][pe]){be=!0;break e}}this.contourLevels=it}if(be){De=this._field,ve=this.shape;for(var Be=[],je=0;je<3;++je){var ot=this.contourLevels[je],$e=[],dt=[],mt=[0,0,0];for(me=0;me<ot.length;++me){var yt=g(this._field[je],ot[me]);$e.push(Be.length/5|0),et=0;e:for(pe=0;pe<yt.cells.length;++pe){var ht=yt.cells[pe];for(Rt=0;Rt<2;++Rt){var kt=yt.positions[ht[Rt]],bt=kt[0],St=0|Math.floor(bt),Lt=bt-St,Ot=kt[1],Ft=0|Math.floor(Ot),$t=Ot-Ft,on=!1;t:for(var Ht=0;Ht<3;++Ht){mt[Ht]=0;var Zt=(je+Ht+1)%3;for(At=0;At<2;++At){var jt=At?Lt:1-Lt;for(Ye=0|Math.min(Math.max(St+At,0),ve[0]),Pt=0;Pt<2;++Pt){var Ln=Pt?$t:1-$t;if(Xe=0|Math.min(Math.max(Ft+Pt,0),ve[1]),Et=Ht<2?this._field[Zt].get(Ye,Xe):(this.intensity.get(Ye,Xe)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Et)||isNaN(Et)){on=!0;break t}var Tn=jt*Ln;mt[Ht]+=Tn*Et}}}if(on){if(Rt>0){for(var gn=0;gn<5;++gn)Be.pop();et-=1}continue e}Be.push(mt[0],mt[1],kt[0],kt[1],mt[2]),et+=1}}dt.push(et)}this._contourOffsets[je]=$e,this._contourCounts[je]=dt}var Qt=l.mallocFloat(Be.length);for(me=0;me<Be.length;++me)Qt[me]=Be[me];this._contourBuffer.update(Qt),l.freeFloat(Qt)}},Z.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var le=0;le<3;++le)l.freeFloat(this._field[le].data)},Z.highlight=function(le){var de,be;if(!le)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(de=0;de<3;++de)this.enableHighlight[de]?this.highlightLevel[de]=le.level[de]:this.highlightLevel[de]=-1;for(be=this.snapToData?le.dataCoordinate:le.position,de=0;de<3;++de)be[de]-=this.objectOffset[de];if(this.enableDynamic[0]&&be[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&be[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&be[2]!==this.dynamicLevel[2]){for(var _e=0,ve=this.shape,me=l.mallocFloat(12*ve[0]*ve[1]),ye=0;ye<3;++ye)if(this.enableDynamic[ye]){this.dynamicLevel[ye]=be[ye];var Se=(ye+1)%3,Ie=(ye+2)%3,xe=this._field[ye],ue=this._field[Se],ae=this._field[Ie],pe=g(xe,be[ye]),De=pe.cells,Te=pe.positions;for(this._dynamicOffsets[ye]=_e,de=0;de<De.length;++de)for(var Ae=De[de],Ce=0;Ce<2;++Ce){var Re=Te[Ae[Ce]],Ne=+Re[0],ge=0|Ne,Me=0|Math.min(ge+1,ve[0]),Ee=Ne-ge,Fe=1-Ee,Le=+Re[1],Ue=0|Le,Ge=0|Math.min(Ue+1,ve[1]),Ke=Le-Ue,at=1-Ke,st=Fe*at,vt=Fe*Ke,xt=Ee*at,gt=Ee*Ke,nt=st*ue.get(ge,Ue)+vt*ue.get(ge,Ge)+xt*ue.get(Me,Ue)+gt*ue.get(Me,Ge),et=st*ae.get(ge,Ue)+vt*ae.get(ge,Ge)+xt*ae.get(Me,Ue)+gt*ae.get(Me,Ge);if(isNaN(nt)||isNaN(et)){Ce&&(_e-=1);break}me[2*_e+0]=nt,me[2*_e+1]=et,_e+=1}this._dynamicCounts[ye]=_e-this._dynamicOffsets[ye]}else this.dynamicLevel[ye]=NaN,this._dynamicCounts[ye]=0;this._dynamicBuffer.update(me.subarray(0,2*_e)),l.freeFloat(me)}}},7766:function(f,s,t){"use strict";var o=t(9618),r=t(5298),i=t(1888);f.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||function(k){a=[k.LINEAR,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_NEAREST],l=[k.NEAREST,k.LINEAR,k.NEAREST_MIPMAP_NEAREST,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_LINEAR],u=[k.REPEAT,k.CLAMP_TO_EDGE,k.MIRRORED_REPEAT]}(A),typeof arguments[1]=="number")return _(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return _(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var d=arguments[1],C=h(d)?d:d.raw;if(C)return function(k,D,O,L,R,z){var q=T(k);return k.texImage2D(k.TEXTURE_2D,0,R,R,z,D),new g(k,q,O,L,R,z)}(A,C,0|d.width,0|d.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(d.shape&&d.data&&d.stride)return function(k,D){var O=D.dtype,L=D.shape.slice(),R=k.getParameter(k.MAX_TEXTURE_SIZE);if(L[0]<0||L[0]>R||L[1]<0||L[1]>R)throw new Error("gl-texture2d: Invalid texture size");var z=m(L,D.stride.slice()),q=0;O==="float32"?q=k.FLOAT:O==="float64"?(q=k.FLOAT,z=!1,O="float32"):O==="uint8"?q=k.UNSIGNED_BYTE:(q=k.UNSIGNED_BYTE,z=!1,O="uint8");var N,V,Z=0;if(L.length===2)Z=k.LUMINANCE,L=[L[0],L[1],1],D=o(D.data,L,[D.stride[0],D.stride[1],1],D.offset);else{if(L.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(L[2]===1)Z=k.ALPHA;else if(L[2]===2)Z=k.LUMINANCE_ALPHA;else if(L[2]===3)Z=k.RGB;else{if(L[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Z=k.RGBA}}q!==k.FLOAT||k.getExtension("OES_texture_float")||(q=k.UNSIGNED_BYTE,z=!1);var j=D.size;if(z)N=D.offset===0&&D.data.length===j?D.data:D.data.subarray(D.offset,D.offset+j);else{var H=[L[2],L[2]*L[0],1];V=i.malloc(j,O);var Y=o(V,L,H,0);O!=="float32"&&O!=="float64"||q!==k.UNSIGNED_BYTE?r.assign(Y,D):c(Y,D),N=V.subarray(0,j)}var ie=T(k);return k.texImage2D(k.TEXTURE_2D,0,Z,L[0],L[1],0,Z,q,N),z||i.free(V),new g(k,ie,L[0],L[1],Z,q)}(A,d)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,l=null,u=null;function h(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var c=function(A,d){r.muls(A,d,255)};function w(A,d,C){var k=A.gl,D=k.getParameter(k.MAX_TEXTURE_SIZE);if(d<0||d>D||C<0||C>D)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[d,C],A.bind(),k.texImage2D(k.TEXTURE_2D,0,A.format,d,C,0,A.format,A.type,null),A._mipLevels=[0],A}function g(A,d,C,k,D,O){this.gl=A,this.handle=d,this.format=D,this.type=O,this._shape=[C,k],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var L=this,R=[this._wrapS,this._wrapT];Object.defineProperties(R,[{get:function(){return L._wrapS},set:function(q){return L.wrapS=q}},{get:function(){return L._wrapT},set:function(q){return L.wrapT=q}}]),this._wrapVector=R;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return L._shape[0]},set:function(q){return L.width=q}},{get:function(){return L._shape[1]},set:function(q){return L.height=q}}]),this._shapeVector=z}var v=g.prototype;function m(A,d){return A.length===3?d[2]===1&&d[1]===A[0]*A[2]&&d[0]===A[2]:d[0]===1&&d[1]===A[0]}function T(A){var d=A.createTexture();return A.bindTexture(A.TEXTURE_2D,d),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),d}function _(A,d,C,k,D){var O=A.getParameter(A.MAX_TEXTURE_SIZE);if(d<0||d>O||C<0||C>O)throw new Error("gl-texture2d: Invalid texture shape");if(D===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var L=T(A);return A.texImage2D(A.TEXTURE_2D,0,k,d,C,0,k,D,null),new g(A,L,d,C,k,D)}Object.defineProperties(v,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var d=this.gl;if(this.type===d.FLOAT&&a.indexOf(A)>=0&&(d.getExtension("OES_texture_float_linear")||(A=d.NEAREST)),l.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var d=this.gl;if(this.type===d.FLOAT&&a.indexOf(A)>=0&&(d.getExtension("OES_texture_float_linear")||(A=d.NEAREST)),l.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var d=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),d!==this._anisoSamples){var C=this.gl.getExtension("EXT_texture_filter_anisotropic");C&&this.gl.texParameterf(this.gl.TEXTURE_2D,C.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),u.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),A.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var d=0;d<2;++d)if(u.indexOf(A[d])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var C=this.gl;return this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,this._wrapS),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(A.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return w(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return w(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return A|=0,w(this,this._shape[0],A),A}}}),v.bind=function(A){var d=this.gl;return A!==void 0&&d.activeTexture(d.TEXTURE0+(0|A)),d.bindTexture(d.TEXTURE_2D,this.handle),A!==void 0?0|A:d.getParameter(d.ACTIVE_TEXTURE)-d.TEXTURE0},v.dispose=function(){this.gl.deleteTexture(this.handle)},v.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),d=0;A>0;++d,A>>>=1)this._mipLevels.indexOf(d)<0&&this._mipLevels.push(d)},v.setPixels=function(A,d,C,k){var D=this.gl;this.bind(),Array.isArray(d)?(k=C,C=0|d[1],d=0|d[0]):(d=d||0,C=C||0),k=k||0;var O=h(A)?A:A.raw;if(O)this._mipLevels.indexOf(k)<0?(D.texImage2D(D.TEXTURE_2D,0,this.format,this.format,this.type,O),this._mipLevels.push(k)):D.texSubImage2D(D.TEXTURE_2D,k,d,C,this.format,this.type,O);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||d+A.shape[1]>this._shape[1]>>>k||C+A.shape[0]>this._shape[0]>>>k||d<0||C<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(L,R,z,q,N,V,Z,j){var H=j.dtype,Y=j.shape.slice();if(Y.length<2||Y.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var ie=0,re=0,ne=m(Y,j.stride.slice());if(H==="float32"?ie=L.FLOAT:H==="float64"?(ie=L.FLOAT,ne=!1,H="float32"):H==="uint8"?ie=L.UNSIGNED_BYTE:(ie=L.UNSIGNED_BYTE,ne=!1,H="uint8"),Y.length===2)re=L.LUMINANCE,Y=[Y[0],Y[1],1],j=o(j.data,Y,[j.stride[0],j.stride[1],1],j.offset);else{if(Y.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(Y[2]===1)re=L.ALPHA;else if(Y[2]===2)re=L.LUMINANCE_ALPHA;else if(Y[2]===3)re=L.RGB;else{if(Y[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");re=L.RGBA}Y[2]}if(re!==L.LUMINANCE&&re!==L.ALPHA||N!==L.LUMINANCE&&N!==L.ALPHA||(re=N),re!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var ee=j.size,Q=Z.indexOf(q)<0;if(Q&&Z.push(q),ie===V&&ne)j.offset===0&&j.data.length===ee?Q?L.texImage2D(L.TEXTURE_2D,q,N,Y[0],Y[1],0,N,V,j.data):L.texSubImage2D(L.TEXTURE_2D,q,R,z,Y[0],Y[1],N,V,j.data):Q?L.texImage2D(L.TEXTURE_2D,q,N,Y[0],Y[1],0,N,V,j.data.subarray(j.offset,j.offset+ee)):L.texSubImage2D(L.TEXTURE_2D,q,R,z,Y[0],Y[1],N,V,j.data.subarray(j.offset,j.offset+ee));else{var X;X=V===L.FLOAT?i.mallocFloat32(ee):i.mallocUint8(ee);var se=o(X,Y,[Y[2],Y[2]*Y[0],1]);ie===L.FLOAT&&V===L.UNSIGNED_BYTE?c(se,j):r.assign(se,j),Q?L.texImage2D(L.TEXTURE_2D,q,N,Y[0],Y[1],0,N,V,X.subarray(0,ee)):L.texSubImage2D(L.TEXTURE_2D,q,R,z,Y[0],Y[1],N,V,X.subarray(0,ee)),V===L.FLOAT?i.freeFloat32(X):i.freeUint8(X)}})(D,d,C,k,this.format,this.type,this._mipLevels,A)}}},1433:function(f){"use strict";f.exports=function(s,t,o){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var r=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(o){if(o.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<o.length;++i){var a=o[i];if(a.buffer){var l=a.buffer,u=a.size||4,h=a.type||s.FLOAT,c=!!a.normalized,w=a.stride||0,g=a.offset||0;l.bind(),s.enableVertexAttribArray(i),s.vertexAttribPointer(i,u,h,c,w,g)}else{if(typeof a=="number")s.vertexAttrib1f(i,a);else if(a.length===1)s.vertexAttrib1f(i,a[0]);else if(a.length===2)s.vertexAttrib2f(i,a[0],a[1]);else if(a.length===3)s.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(a.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}s.disableVertexAttribArray(i)}}for(;i<r;++i)s.disableVertexAttribArray(i)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),i=0;i<r;++i)s.disableVertexAttribArray(i)}},870:function(f,s,t){"use strict";var o=t(1433);function r(i){this.gl=i,this._elements=null,this._attributes=null,this._elementsType=i.UNSIGNED_SHORT}r.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},r.prototype.update=function(i,a,l){this._elements=a,this._attributes=i,this._elementsType=l||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(i,a,l){l=l||0;var u=this.gl;this._elements?u.drawElements(i,a,this._elementsType,l):u.drawArrays(i,l,a)},f.exports=function(i){return new r(i)}},7518:function(f,s,t){"use strict";var o=t(1433);function r(a,l,u,h,c,w){this.location=a,this.dimension=l,this.a=u,this.b=h,this.c=c,this.d=w}function i(a,l,u){this.gl=a,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=a.UNSIGNED_SHORT}r.prototype.bind=function(a){switch(this.dimension){case 1:a.vertexAttrib1f(this.location,this.a);break;case 2:a.vertexAttrib2f(this.location,this.a,this.b);break;case 3:a.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:a.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var a=0;a<this._attribs.length;++a)this._attribs[a].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(a,l,u){if(this.bind(),o(this.gl,l,a),this.unbind(),this._attribs.length=0,a)for(var h=0;h<a.length;++h){var c=a[h];typeof c=="number"?this._attribs.push(new r(h,1,c)):Array.isArray(c)&&this._attribs.push(new r(h,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(a,l,u){u=u||0;var h=this.gl;this._useElements?h.drawElements(a,l,this._elementsType,u):h.drawArrays(a,u,l)},f.exports=function(a,l){return new i(a,l,l.createVertexArrayOES())}},8116:function(f,s,t){"use strict";var o=t(7518),r=t(870);function i(a){this.bindVertexArrayOES=a.bindVertexArray.bind(a),this.createVertexArrayOES=a.createVertexArray.bind(a),this.deleteVertexArrayOES=a.deleteVertexArray.bind(a)}f.exports=function(a,l,u,h){var c,w=a.createVertexArray?new i(a):a.getExtension("OES_vertex_array_object");return(c=w?o(a,w):r(a)).update(l,u,h),c}},5632:function(f){f.exports=function(s,t,o){return s[0]=t[0]+o[0],s[1]=t[1]+o[1],s[2]=t[2]+o[2],s}},8192:function(f,s,t){f.exports=function(a,l){var u=o(a[0],a[1],a[2]),h=o(l[0],l[1],l[2]);r(u,u),r(h,h);var c=i(u,h);return c>1?0:Math.acos(c)};var o=t(2825),r=t(3536),i=t(244)},9226:function(f){f.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},3126:function(f){f.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},3990:function(f){f.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},1091:function(f){f.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},5911:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=o[0],u=o[1],h=o[2];return s[0]=i*h-a*u,s[1]=a*l-r*h,s[2]=r*u-i*l,s}},5455:function(f,s,t){f.exports=t(7056)},7056:function(f){f.exports=function(s,t){var o=t[0]-s[0],r=t[1]-s[1],i=t[2]-s[2];return Math.sqrt(o*o+r*r+i*i)}},4008:function(f,s,t){f.exports=t(6690)},6690:function(f){f.exports=function(s,t,o){return s[0]=t[0]/o[0],s[1]=t[1]/o[1],s[2]=t[2]/o[2],s}},244:function(f){f.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},2613:function(f){f.exports=1e-6},9922:function(f,s,t){f.exports=function(r,i){var a=r[0],l=r[1],u=r[2],h=i[0],c=i[1],w=i[2];return Math.abs(a-h)<=o*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(l-c)<=o*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(u-w)<=o*Math.max(1,Math.abs(u),Math.abs(w))};var o=t(2613)},9265:function(f){f.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},2681:function(f){f.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},5137:function(f,s,t){f.exports=function(r,i,a,l,u,h){var c,w;for(i||(i=3),a||(a=0),w=l?Math.min(l*i+a,r.length):r.length,c=a;c<w;c+=i)o[0]=r[c],o[1]=r[c+1],o[2]=r[c+2],u(o,o,h),r[c]=o[0],r[c+1]=o[1],r[c+2]=o[2];return r};var o=t(1091)()},2825:function(f){f.exports=function(s,t,o){var r=new Float32Array(3);return r[0]=s,r[1]=t,r[2]=o,r}},2931:function(f,s,t){f.exports={EPSILON:t(2613),create:t(1091),clone:t(3126),angle:t(8192),fromValues:t(2825),copy:t(3990),set:t(1463),equals:t(9922),exactEquals:t(9265),add:t(5632),subtract:t(6843),sub:t(2229),multiply:t(5847),mul:t(4505),divide:t(6690),div:t(4008),min:t(8107),max:t(7417),floor:t(2681),ceil:t(9226),round:t(2447),scale:t(6621),scaleAndAdd:t(8489),distance:t(7056),dist:t(5455),squaredDistance:t(2953),sqrDist:t(6141),length:t(1387),len:t(868),squaredLength:t(3066),sqrLen:t(5486),negate:t(5093),inverse:t(811),normalize:t(3536),dot:t(244),cross:t(5911),lerp:t(6658),random:t(7636),transformMat4:t(5673),transformMat3:t(492),transformQuat:t(264),rotateX:t(6894),rotateY:t(109),rotateZ:t(8692),forEach:t(5137)}},811:function(f){f.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},868:function(f,s,t){f.exports=t(1387)},1387:function(f){f.exports=function(s){var t=s[0],o=s[1],r=s[2];return Math.sqrt(t*t+o*o+r*r)}},6658:function(f){f.exports=function(s,t,o,r){var i=t[0],a=t[1],l=t[2];return s[0]=i+r*(o[0]-i),s[1]=a+r*(o[1]-a),s[2]=l+r*(o[2]-l),s}},7417:function(f){f.exports=function(s,t,o){return s[0]=Math.max(t[0],o[0]),s[1]=Math.max(t[1],o[1]),s[2]=Math.max(t[2],o[2]),s}},8107:function(f){f.exports=function(s,t,o){return s[0]=Math.min(t[0],o[0]),s[1]=Math.min(t[1],o[1]),s[2]=Math.min(t[2],o[2]),s}},4505:function(f,s,t){f.exports=t(5847)},5847:function(f){f.exports=function(s,t,o){return s[0]=t[0]*o[0],s[1]=t[1]*o[1],s[2]=t[2]*o[2],s}},5093:function(f){f.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},3536:function(f){f.exports=function(s,t){var o=t[0],r=t[1],i=t[2],a=o*o+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),s[0]=t[0]*a,s[1]=t[1]*a,s[2]=t[2]*a),s}},7636:function(f){f.exports=function(s,t){t=t||1;var o=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return s[0]=Math.cos(o)*i,s[1]=Math.sin(o)*i,s[2]=r*t,s}},6894:function(f){f.exports=function(s,t,o,r){var i=o[1],a=o[2],l=t[1]-i,u=t[2]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=t[0],s[1]=i+l*c-u*h,s[2]=a+l*h+u*c,s}},109:function(f){f.exports=function(s,t,o,r){var i=o[0],a=o[2],l=t[0]-i,u=t[2]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=i+u*h+l*c,s[1]=t[1],s[2]=a+u*c-l*h,s}},8692:function(f){f.exports=function(s,t,o,r){var i=o[0],a=o[1],l=t[0]-i,u=t[1]-a,h=Math.sin(r),c=Math.cos(r);return s[0]=i+l*c-u*h,s[1]=a+l*h+u*c,s[2]=t[2],s}},2447:function(f){f.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},6621:function(f){f.exports=function(s,t,o){return s[0]=t[0]*o,s[1]=t[1]*o,s[2]=t[2]*o,s}},8489:function(f){f.exports=function(s,t,o,r){return s[0]=t[0]+o[0]*r,s[1]=t[1]+o[1]*r,s[2]=t[2]+o[2]*r,s}},1463:function(f){f.exports=function(s,t,o,r){return s[0]=t,s[1]=o,s[2]=r,s}},6141:function(f,s,t){f.exports=t(2953)},5486:function(f,s,t){f.exports=t(3066)},2953:function(f){f.exports=function(s,t){var o=t[0]-s[0],r=t[1]-s[1],i=t[2]-s[2];return o*o+r*r+i*i}},3066:function(f){f.exports=function(s){var t=s[0],o=s[1],r=s[2];return t*t+o*o+r*r}},2229:function(f,s,t){f.exports=t(6843)},6843:function(f){f.exports=function(s,t,o){return s[0]=t[0]-o[0],s[1]=t[1]-o[1],s[2]=t[2]-o[2],s}},492:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2];return s[0]=r*o[0]+i*o[3]+a*o[6],s[1]=r*o[1]+i*o[4]+a*o[7],s[2]=r*o[2]+i*o[5]+a*o[8],s}},5673:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=o[3]*r+o[7]*i+o[11]*a+o[15];return l=l||1,s[0]=(o[0]*r+o[4]*i+o[8]*a+o[12])/l,s[1]=(o[1]*r+o[5]*i+o[9]*a+o[13])/l,s[2]=(o[2]*r+o[6]*i+o[10]*a+o[14])/l,s}},264:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=o[0],u=o[1],h=o[2],c=o[3],w=c*r+u*a-h*i,g=c*i+h*r-l*a,v=c*a+l*i-u*r,m=-l*r-u*i-h*a;return s[0]=w*c+m*-l+g*-h-v*-u,s[1]=g*c+m*-u+v*-l-w*-h,s[2]=v*c+m*-h+w*-u-g*-l,s}},4361:function(f){f.exports=function(s,t,o){return s[0]=t[0]+o[0],s[1]=t[1]+o[1],s[2]=t[2]+o[2],s[3]=t[3]+o[3],s}},2335:function(f){f.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},2933:function(f){f.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},7536:function(f){f.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},4691:function(f){f.exports=function(s,t){var o=t[0]-s[0],r=t[1]-s[1],i=t[2]-s[2],a=t[3]-s[3];return Math.sqrt(o*o+r*r+i*i+a*a)}},1373:function(f){f.exports=function(s,t,o){return s[0]=t[0]/o[0],s[1]=t[1]/o[1],s[2]=t[2]/o[2],s[3]=t[3]/o[3],s}},3750:function(f){f.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},3390:function(f){f.exports=function(s,t,o,r){var i=new Float32Array(4);return i[0]=s,i[1]=t,i[2]=o,i[3]=r,i}},9970:function(f,s,t){f.exports={create:t(7536),clone:t(2335),fromValues:t(3390),copy:t(2933),set:t(4578),add:t(4361),subtract:t(6860),multiply:t(3576),divide:t(1373),min:t(2334),max:t(160),scale:t(9288),scaleAndAdd:t(4844),distance:t(4691),squaredDistance:t(7960),length:t(6808),squaredLength:t(483),negate:t(1498),inverse:t(4494),normalize:t(5177),dot:t(3750),lerp:t(2573),random:t(9131),transformMat4:t(5352),transformQuat:t(4041)}},4494:function(f){f.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},6808:function(f){f.exports=function(s){var t=s[0],o=s[1],r=s[2],i=s[3];return Math.sqrt(t*t+o*o+r*r+i*i)}},2573:function(f){f.exports=function(s,t,o,r){var i=t[0],a=t[1],l=t[2],u=t[3];return s[0]=i+r*(o[0]-i),s[1]=a+r*(o[1]-a),s[2]=l+r*(o[2]-l),s[3]=u+r*(o[3]-u),s}},160:function(f){f.exports=function(s,t,o){return s[0]=Math.max(t[0],o[0]),s[1]=Math.max(t[1],o[1]),s[2]=Math.max(t[2],o[2]),s[3]=Math.max(t[3],o[3]),s}},2334:function(f){f.exports=function(s,t,o){return s[0]=Math.min(t[0],o[0]),s[1]=Math.min(t[1],o[1]),s[2]=Math.min(t[2],o[2]),s[3]=Math.min(t[3],o[3]),s}},3576:function(f){f.exports=function(s,t,o){return s[0]=t[0]*o[0],s[1]=t[1]*o[1],s[2]=t[2]*o[2],s[3]=t[3]*o[3],s}},1498:function(f){f.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},5177:function(f){f.exports=function(s,t){var o=t[0],r=t[1],i=t[2],a=t[3],l=o*o+r*r+i*i+a*a;return l>0&&(l=1/Math.sqrt(l),s[0]=o*l,s[1]=r*l,s[2]=i*l,s[3]=a*l),s}},9131:function(f,s,t){var o=t(5177),r=t(9288);f.exports=function(i,a){return a=a||1,i[0]=Math.random(),i[1]=Math.random(),i[2]=Math.random(),i[3]=Math.random(),o(i,i),r(i,i,a),i}},9288:function(f){f.exports=function(s,t,o){return s[0]=t[0]*o,s[1]=t[1]*o,s[2]=t[2]*o,s[3]=t[3]*o,s}},4844:function(f){f.exports=function(s,t,o,r){return s[0]=t[0]+o[0]*r,s[1]=t[1]+o[1]*r,s[2]=t[2]+o[2]*r,s[3]=t[3]+o[3]*r,s}},4578:function(f){f.exports=function(s,t,o,r,i){return s[0]=t,s[1]=o,s[2]=r,s[3]=i,s}},7960:function(f){f.exports=function(s,t){var o=t[0]-s[0],r=t[1]-s[1],i=t[2]-s[2],a=t[3]-s[3];return o*o+r*r+i*i+a*a}},483:function(f){f.exports=function(s){var t=s[0],o=s[1],r=s[2],i=s[3];return t*t+o*o+r*r+i*i}},6860:function(f){f.exports=function(s,t,o){return s[0]=t[0]-o[0],s[1]=t[1]-o[1],s[2]=t[2]-o[2],s[3]=t[3]-o[3],s}},5352:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=t[3];return s[0]=o[0]*r+o[4]*i+o[8]*a+o[12]*l,s[1]=o[1]*r+o[5]*i+o[9]*a+o[13]*l,s[2]=o[2]*r+o[6]*i+o[10]*a+o[14]*l,s[3]=o[3]*r+o[7]*i+o[11]*a+o[15]*l,s}},4041:function(f){f.exports=function(s,t,o){var r=t[0],i=t[1],a=t[2],l=o[0],u=o[1],h=o[2],c=o[3],w=c*r+u*a-h*i,g=c*i+h*r-l*a,v=c*a+l*i-u*r,m=-l*r-u*i-h*a;return s[0]=w*c+m*-l+g*-h-v*-u,s[1]=g*c+m*-u+v*-l-w*-h,s[2]=v*c+m*-h+w*-u-g*-l,s[3]=t[3],s}},1848:function(f,s,t){var o=t(4905),r=t(6468);f.exports=function(i){for(var a=Array.isArray(i)?i:o(i),l=0;l<a.length;l++){var u=a[l];if(u.type==="preprocessor"){var h=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var c=h[1],w=h[2];return(c?r(w):w).trim()}}}}},5874:function(f,s,t){f.exports=function(L){var R,z,q,N=0,V=0,Z=u,j=[],H=[],Y=1,ie=0,re=0,ne=!1,ee=!1,Q="",X=i,se=o;(L=L||{}).version==="300 es"&&(X=l,se=a);var ce={},le={};for(N=0;N<X.length;N++)ce[X[N]]=!0;for(N=0;N<se.length;N++)le[se[N]]=!0;return function(pe){return H=[],pe!==null?function(De){var Te;for(N=0,De.toString&&(De=De.toString()),Q+=De.replace(/\r\n/g,`
`),q=Q.length;R=Q[N],N<q;){switch(Te=N,Z){case c:N=me();break;case w:case g:N=ve();break;case v:N=ye();break;case m:N=xe();break;case D:N=Ie();break;case T:N=ue();break;case h:N=ae();break;case C:N=_e();break;case u:N=be()}Te!==N&&(Q[Te]===`
`?(ie=0,++Y):++ie)}return V+=N,Q=Q.slice(N),H}(pe):(j.length&&de(j.join("")),Z=k,de("(eof)"),H)};function de(pe){pe.length&&H.push({type:O[Z],data:pe,position:re,line:Y,column:ie})}function be(){return j=j.length?[]:j,z==="/"&&R==="*"?(re=V+N-1,Z=c,z=R,N+1):z==="/"&&R==="/"?(re=V+N-1,Z=w,z=R,N+1):R==="#"?(Z=g,re=V+N,N):/\s/.test(R)?(Z=C,re=V+N,N):(ne=/\d/.test(R),ee=/[^\w_]/.test(R),re=V+N,Z=ne?m:ee?v:h,N)}function _e(){return/[^\s]/g.test(R)?(de(j.join("")),Z=u,N):(j.push(R),z=R,N+1)}function ve(){return R!=="\r"&&R!==`
`||z==="\\"?(j.push(R),z=R,N+1):(de(j.join("")),Z=u,N)}function me(){return R==="/"&&z==="*"?(j.push(R),de(j.join("")),Z=u,N+1):(j.push(R),z=R,N+1)}function ye(){if(z==="."&&/\d/.test(R))return Z=T,N;if(z==="/"&&R==="*")return Z=c,N;if(z==="/"&&R==="/")return Z=w,N;if(R==="."&&j.length){for(;Se(j););return Z=T,N}if(R===";"||R===")"||R==="("){if(j.length)for(;Se(j););return de(R),Z=u,N+1}var pe=j.length===2&&R!=="=";if(/[\w_\d\s]/.test(R)||pe){for(;Se(j););return Z=u,N}return j.push(R),z=R,N+1}function Se(pe){for(var De,Te,Ae=0;;){if(De=r.indexOf(pe.slice(0,pe.length+Ae).join("")),Te=r[De],De===-1){if(Ae--+pe.length>0)continue;Te=pe.slice(0,1).join("")}return de(Te),re+=Te.length,(j=j.slice(Te.length)).length}}function Ie(){return/[^a-fA-F0-9]/.test(R)?(de(j.join("")),Z=u,N):(j.push(R),z=R,N+1)}function xe(){return R==="."||/[eE]/.test(R)?(j.push(R),Z=T,z=R,N+1):R==="x"&&j.length===1&&j[0]==="0"?(Z=D,j.push(R),z=R,N+1):/[^\d]/.test(R)?(de(j.join("")),Z=u,N):(j.push(R),z=R,N+1)}function ue(){return R==="f"&&(j.push(R),z=R,N+=1),/[eE]/.test(R)?(j.push(R),z=R,N+1):(R!=="-"&&R!=="+"||!/[eE]/.test(z))&&/[^\d]/.test(R)?(de(j.join("")),Z=u,N):(j.push(R),z=R,N+1)}function ae(){if(/[^\d\w_]/.test(R)){var pe=j.join("");return Z=le[pe]?d:ce[pe]?A:_,de(j.join("")),Z=u,N}return j.push(R),z=R,N+1}};var o=t(620),r=t(7827),i=t(6852),a=t(7932),l=t(3508),u=999,h=9999,c=0,w=1,g=2,v=3,m=4,T=5,_=6,A=7,d=8,C=9,k=10,D=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3508:function(f,s,t){var o=t(6852);o=o.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),f.exports=o.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(f){f.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(f,s,t){var o=t(620);f.exports=o.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(f){f.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(f){f.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(f,s,t){var o=t(5874);f.exports=function(r,i){var a=o(i),l=[];return(l=l.concat(a(r))).concat(a(null))}},3236:function(f){f.exports=function(s){typeof s=="string"&&(s=[s]);for(var t=[].slice.call(arguments,1),o=[],r=0;r<s.length-1;r++)o.push(s[r],t[r]||"");return o.push(s[r]),o.join("")}},7520:function(f,s,t){"use strict";var o=t(9507);f.exports=o&&function(){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{r=!1}return r}()},3778:function(f,s){s.read=function(t,o,r,i,a){var l,u,h=8*a-i-1,c=(1<<h)-1,w=c>>1,g=-7,v=r?a-1:0,m=r?-1:1,T=t[o+v];for(v+=m,l=T&(1<<-g)-1,T>>=-g,g+=h;g>0;l=256*l+t[o+v],v+=m,g-=8);for(u=l&(1<<-g)-1,l>>=-g,g+=i;g>0;u=256*u+t[o+v],v+=m,g-=8);if(l===0)l=1-w;else{if(l===c)return u?NaN:1/0*(T?-1:1);u+=Math.pow(2,i),l-=w}return(T?-1:1)*u*Math.pow(2,l-i)},s.write=function(t,o,r,i,a,l){var u,h,c,w=8*l-a-1,g=(1<<w)-1,v=g>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:l-1,_=i?1:-1,A=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,u=g):(u=Math.floor(Math.log(o)/Math.LN2),o*(c=Math.pow(2,-u))<1&&(u--,c*=2),(o+=u+v>=1?m/c:m*Math.pow(2,1-v))*c>=2&&(u++,c/=2),u+v>=g?(h=0,u=g):u+v>=1?(h=(o*c-1)*Math.pow(2,a),u+=v):(h=o*Math.pow(2,v-1)*Math.pow(2,a),u=0));a>=8;t[r+T]=255&h,T+=_,h/=256,a-=8);for(u=u<<a|h,w+=a;w>0;t[r+T]=255&u,T+=_,u/=256,w-=8);t[r+T-_]|=128*A}},8954:function(f,s,t){"use strict";f.exports=function(w,g){var v=w.length;if(v===0)throw new Error("Must have at least d+1 points");var m=w[0].length;if(v<=m)throw new Error("Must input at least d+1 points");var T=w.slice(0,m+1),_=o.apply(void 0,T);if(_===0)throw new Error("Input not in general position");for(var A=new Array(m+1),d=0;d<=m;++d)A[d]=d;_<0&&(A[0]=1,A[1]=0);var C=new i(A,new Array(m+1),!1),k=C.adjacent,D=new Array(m+2);for(d=0;d<=m;++d){for(var O=A.slice(),L=0;L<=m;++L)L===d&&(O[L]=-1);var R=O[0];O[0]=O[1],O[1]=R;var z=new i(O,new Array(m+1),!0);k[d]=z,D[d]=z}for(D[m+1]=C,d=0;d<=m;++d){O=k[d].vertices;var q=k[d].adjacent;for(L=0;L<=m;++L){var N=O[L];if(N<0)q[L]=C;else for(var V=0;V<=m;++V)k[V].vertices.indexOf(N)<0&&(q[L]=k[V])}}var Z=new h(m,T,D),j=!!g;for(d=m+1;d<v;++d)Z.insert(w[d],j);return Z.boundary()};var o=t(3250),r=t(6803).Fw;function i(w,g,v){this.vertices=w,this.adjacent=g,this.boundary=v,this.lastVisited=-1}function a(w,g,v){this.vertices=w,this.cell=g,this.index=v}function l(w,g){return r(w.vertices,g.vertices)}i.prototype.flip=function(){var w=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=w;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};var u=[];function h(w,g,v){this.dimension=w,this.vertices=g,this.simplices=v,this.interior=v.filter(function(A){return!A.boundary}),this.tuple=new Array(w+1);for(var m=0;m<=w;++m)this.tuple[m]=this.vertices[m];var T,_=u[w];_||(_=u[w]=((T=o[w+1])||(T=o),function(A){return function(){var d=this.tuple;return A.apply(this,d)}}(T))),this.orient=_}var c=h.prototype;c.handleBoundaryDegeneracy=function(w,g){var v=this.dimension,m=this.vertices.length-1,T=this.tuple,_=this.vertices,A=[w];for(w.lastVisited=-m;A.length>0;)for(var d=(w=A.pop()).adjacent,C=0;C<=v;++C){var k=d[C];if(k.boundary&&!(k.lastVisited<=-m)){for(var D=k.vertices,O=0;O<=v;++O){var L=D[O];T[O]=L<0?g:_[L]}var R=this.orient();if(R>0)return k;k.lastVisited=-m,R===0&&A.push(k)}}return null},c.walk=function(w,g){var v=this.vertices.length-1,m=this.dimension,T=this.vertices,_=this.tuple,A=g?this.interior.length*Math.random()|0:this.interior.length-1,d=this.interior[A];e:for(;!d.boundary;){for(var C=d.vertices,k=d.adjacent,D=0;D<=m;++D)_[D]=T[C[D]];for(d.lastVisited=v,D=0;D<=m;++D){var O=k[D];if(!(O.lastVisited>=v)){var L=_[D];_[D]=w;var R=this.orient();if(_[D]=L,R<0){d=O;continue e}O.boundary?O.lastVisited=-v:O.lastVisited=v}}return}return d},c.addPeaks=function(w,g){var v=this.vertices.length-1,m=this.dimension,T=this.vertices,_=this.tuple,A=this.interior,d=this.simplices,C=[g];g.lastVisited=v,g.vertices[g.vertices.indexOf(-1)]=v,g.boundary=!1,A.push(g);for(var k=[];C.length>0;){var D=(g=C.pop()).vertices,O=g.adjacent,L=D.indexOf(v);if(!(L<0)){for(var R=0;R<=m;++R)if(R!==L){var z=O[R];if(z.boundary&&!(z.lastVisited>=v)){var q=z.vertices;if(z.lastVisited!==-v){for(var N=0,V=0;V<=m;++V)q[V]<0?(N=V,_[V]=w):_[V]=T[q[V]];if(this.orient()>0){q[N]=v,z.boundary=!1,A.push(z),C.push(z),z.lastVisited=v;continue}z.lastVisited=-v}var Z=z.adjacent,j=D.slice(),H=O.slice(),Y=new i(j,H,!0);d.push(Y);var ie=Z.indexOf(g);if(!(ie<0))for(Z[ie]=Y,H[L]=z,j[R]=-1,H[R]=g,O[R]=Y,Y.flip(),V=0;V<=m;++V){var re=j[V];if(!(re<0||re===v)){for(var ne=new Array(m-1),ee=0,Q=0;Q<=m;++Q){var X=j[Q];X<0||Q===V||(ne[ee++]=X)}k.push(new a(ne,Y,V))}}}}}}for(k.sort(l),R=0;R+1<k.length;R+=2){var se=k[R],ce=k[R+1],le=se.index,de=ce.index;le<0||de<0||(se.cell.adjacent[se.index]=ce.cell,ce.cell.adjacent[ce.index]=se.cell)}},c.insert=function(w,g){var v=this.vertices;v.push(w);var m=this.walk(w,g);if(m){for(var T=this.dimension,_=this.tuple,A=0;A<=T;++A){var d=m.vertices[A];_[A]=d<0?w:v[d]}var C=this.orient(_);C<0||(C!==0||(m=this.handleBoundaryDegeneracy(m,w)))&&this.addPeaks(w,m)}},c.boundary=function(){for(var w=this.dimension,g=[],v=this.simplices,m=v.length,T=0;T<m;++T){var _=v[T];if(_.boundary){for(var A=new Array(w),d=_.vertices,C=0,k=0,D=0;D<=w;++D)d[D]>=0?A[C++]=d[D]:k=1&D;if(k===(1&w)){var O=A[0];A[0]=A[1],A[1]=O}g.push(A)}}return g}},3352:function(f,s,t){"use strict";var o=t(2478);function r(C,k,D,O,L){this.mid=C,this.left=k,this.right=D,this.leftPoints=O,this.rightPoints=L,this.count=(k?k.count:0)+(D?D.count:0)+O.length}f.exports=function(C){return C&&C.length!==0?new A(_(C)):new A(null)};var i=r.prototype;function a(C,k){C.mid=k.mid,C.left=k.left,C.right=k.right,C.leftPoints=k.leftPoints,C.rightPoints=k.rightPoints,C.count=k.count}function l(C,k){var D=_(k);C.mid=D.mid,C.left=D.left,C.right=D.right,C.leftPoints=D.leftPoints,C.rightPoints=D.rightPoints,C.count=D.count}function u(C,k){var D=C.intervals([]);D.push(k),l(C,D)}function h(C,k){var D=C.intervals([]),O=D.indexOf(k);return O<0?0:(D.splice(O,1),l(C,D),1)}function c(C,k,D){for(var O=0;O<C.length&&C[O][0]<=k;++O){var L=D(C[O]);if(L)return L}}function w(C,k,D){for(var O=C.length-1;O>=0&&C[O][1]>=k;--O){var L=D(C[O]);if(L)return L}}function g(C,k){for(var D=0;D<C.length;++D){var O=k(C[D]);if(O)return O}}function v(C,k){return C-k}function m(C,k){return C[0]-k[0]||C[1]-k[1]}function T(C,k){return C[1]-k[1]||C[0]-k[0]}function _(C){if(C.length===0)return null;for(var k=[],D=0;D<C.length;++D)k.push(C[D][0],C[D][1]);k.sort(v);var O=k[k.length>>1],L=[],R=[],z=[];for(D=0;D<C.length;++D){var q=C[D];q[1]<O?L.push(q):O<q[0]?R.push(q):z.push(q)}var N=z,V=z.slice();return N.sort(m),V.sort(T),new r(O,_(L),_(R),N,V)}function A(C){this.root=C}i.intervals=function(C){return C.push.apply(C,this.leftPoints),this.left&&this.left.intervals(C),this.right&&this.right.intervals(C),C},i.insert=function(C){var k=this.count-this.leftPoints.length;if(this.count+=1,C[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?u(this,C):this.left.insert(C):this.left=_([C]);else if(C[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?u(this,C):this.right.insert(C):this.right=_([C]);else{var D=o.ge(this.leftPoints,C,m),O=o.ge(this.rightPoints,C,T);this.leftPoints.splice(D,0,C),this.rightPoints.splice(O,0,C)}},i.remove=function(C){var k=this.count-this.leftPoints;if(C[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(k-1)?h(this,C):(R=this.left.remove(C))===2?(this.left=null,this.count-=1,1):(R===1&&(this.count-=1),R):0;if(C[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(k-1)?h(this,C):(R=this.right.remove(C))===2?(this.right=null,this.count-=1,1):(R===1&&(this.count-=1),R):0;if(this.count===1)return this.leftPoints[0]===C?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===C){if(this.left&&this.right){for(var D=this,O=this.left;O.right;)D=O,O=O.right;if(D===this)O.right=this.right;else{var L=this.left,R=this.right;D.count-=O.count,D.right=O.left,O.left=L,O.right=R}a(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?a(this,this.left):a(this,this.right);return 1}for(L=o.ge(this.leftPoints,C,m);L<this.leftPoints.length&&this.leftPoints[L][0]===C[0];++L)if(this.leftPoints[L]===C){for(this.count-=1,this.leftPoints.splice(L,1),R=o.ge(this.rightPoints,C,T);R<this.rightPoints.length&&this.rightPoints[R][1]===C[1];++R)if(this.rightPoints[R]===C)return this.rightPoints.splice(R,1),1}return 0},i.queryPoint=function(C,k){return C<this.mid?this.left&&(D=this.left.queryPoint(C,k))?D:c(this.leftPoints,C,k):C>this.mid?this.right&&(D=this.right.queryPoint(C,k))?D:w(this.rightPoints,C,k):g(this.leftPoints,k);var D},i.queryInterval=function(C,k,D){var O;return C<this.mid&&this.left&&(O=this.left.queryInterval(C,k,D))||k>this.mid&&this.right&&(O=this.right.queryInterval(C,k,D))?O:k<this.mid?c(this.leftPoints,k,D):C>this.mid?w(this.rightPoints,C,D):g(this.leftPoints,D)};var d=A.prototype;d.insert=function(C){this.root?this.root.insert(C):this.root=new r(C[0],null,null,[C],[C])},d.remove=function(C){if(this.root){var k=this.root.remove(C);return k===2&&(this.root=null),k!==0}return!1},d.queryPoint=function(C,k){if(this.root)return this.root.queryPoint(C,k)},d.queryInterval=function(C,k,D){if(C<=k&&this.root)return this.root.queryInterval(C,k,D)},Object.defineProperty(d,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(d,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},7762:function(f){"use strict";f.exports=function(s){for(var t=new Array(s),o=0;o<s;++o)t[o]=o;return t}},9507:function(f){f.exports=!0},7163:function(f){function s(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}f.exports=function(t){return t!=null&&(s(t)||function(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&s(o.slice(0,0))}(t)||!!t._isBuffer)}},5219:function(f){"use strict";f.exports=function(s){for(var t,o=s.length,r=0;r<o;r++)if(((t=s.charCodeAt(r))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(f){f.exports=function(s,t,o){return s*(1-o)+t*o}},2652:function(f,s,t){var o=t(4335),r=t(6864),i=t(1903),a=t(9921),l=t(7608),u=t(5665),h={length:t(1387),normalize:t(3536),dot:t(244),cross:t(5911)},c=r(),w=r(),g=[0,0,0,0],v=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];function T(_,A,d,C,k){_[0]=A[0]*C+d[0]*k,_[1]=A[1]*C+d[1]*k,_[2]=A[2]*C+d[2]*k}f.exports=function(_,A,d,C,k,D){if(A||(A=[0,0,0]),d||(d=[0,0,0]),C||(C=[0,0,0]),k||(k=[0,0,0,1]),D||(D=[0,0,0,1]),!o(c,_)||(i(w,c),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(a(w)<1e-8)))return!1;var O,L,R,z,q,N,V,Z=c[3],j=c[7],H=c[11],Y=c[12],ie=c[13],re=c[14],ne=c[15];if(Z!==0||j!==0||H!==0){if(g[0]=Z,g[1]=j,g[2]=H,g[3]=ne,!l(w,w))return!1;u(w,w),O=k,R=w,z=(L=g)[0],q=L[1],N=L[2],V=L[3],O[0]=R[0]*z+R[4]*q+R[8]*N+R[12]*V,O[1]=R[1]*z+R[5]*q+R[9]*N+R[13]*V,O[2]=R[2]*z+R[6]*q+R[10]*N+R[14]*V,O[3]=R[3]*z+R[7]*q+R[11]*N+R[15]*V}else k[0]=k[1]=k[2]=0,k[3]=1;if(A[0]=Y,A[1]=ie,A[2]=re,function(Q,X){Q[0][0]=X[0],Q[0][1]=X[1],Q[0][2]=X[2],Q[1][0]=X[4],Q[1][1]=X[5],Q[1][2]=X[6],Q[2][0]=X[8],Q[2][1]=X[9],Q[2][2]=X[10]}(v,c),d[0]=h.length(v[0]),h.normalize(v[0],v[0]),C[0]=h.dot(v[0],v[1]),T(v[1],v[1],v[0],1,-C[0]),d[1]=h.length(v[1]),h.normalize(v[1],v[1]),C[0]/=d[1],C[1]=h.dot(v[0],v[2]),T(v[2],v[2],v[0],1,-C[1]),C[2]=h.dot(v[1],v[2]),T(v[2],v[2],v[1],1,-C[2]),d[2]=h.length(v[2]),h.normalize(v[2],v[2]),C[1]/=d[2],C[2]/=d[2],h.cross(m,v[1],v[2]),h.dot(v[0],m)<0)for(var ee=0;ee<3;ee++)d[ee]*=-1,v[ee][0]*=-1,v[ee][1]*=-1,v[ee][2]*=-1;return D[0]=.5*Math.sqrt(Math.max(1+v[0][0]-v[1][1]-v[2][2],0)),D[1]=.5*Math.sqrt(Math.max(1-v[0][0]+v[1][1]-v[2][2],0)),D[2]=.5*Math.sqrt(Math.max(1-v[0][0]-v[1][1]+v[2][2],0)),D[3]=.5*Math.sqrt(Math.max(1+v[0][0]+v[1][1]+v[2][2],0)),v[2][1]>v[1][2]&&(D[0]=-D[0]),v[0][2]>v[2][0]&&(D[1]=-D[1]),v[1][0]>v[0][1]&&(D[2]=-D[2]),!0}},4335:function(f){f.exports=function(s,t){var o=t[15];if(o===0)return!1;for(var r=1/o,i=0;i<16;i++)s[i]=t[i]*r;return!0}},7442:function(f,s,t){var o=t(6658),r=t(7182),i=t(2652),a=t(9921),l=t(8648),u=w(),h=w(),c=w();function w(){return{translate:g(),scale:g(1),skew:g(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function g(v){return[v||0,v||0,v||0]}f.exports=function(v,m,T,_){if(a(m)===0||a(T)===0)return!1;var A=i(m,u.translate,u.scale,u.skew,u.perspective,u.quaternion),d=i(T,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!A||!d||(o(c.translate,u.translate,h.translate,_),o(c.skew,u.skew,h.skew,_),o(c.scale,u.scale,h.scale,_),o(c.perspective,u.perspective,h.perspective,_),l(c.quaternion,u.quaternion,h.quaternion,_),r(v,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},7182:function(f,s,t){var o={identity:t(7894),translate:t(7656),multiply:t(6760),create:t(6864),scale:t(2504),fromRotationTranslation:t(6743)},r=(o.create(),o.create());f.exports=function(i,a,l,u,h,c){return o.identity(i),o.fromRotationTranslation(i,c,a),i[3]=h[0],i[7]=h[1],i[11]=h[2],i[15]=h[3],o.identity(r),u[2]!==0&&(r[9]=u[2],o.multiply(i,i,r)),u[1]!==0&&(r[9]=0,r[8]=u[1],o.multiply(i,i,r)),u[0]!==0&&(r[8]=0,r[4]=u[0],o.multiply(i,i,r)),o.scale(i,i,l),i}},4192:function(f,s,t){"use strict";var o=t(2478),r=t(7442),i=t(7608),a=t(5567),l=t(2408),u=t(7089),h=t(6582),c=t(7656),w=(t(2504),t(3536)),g=[0,0,0];function v(_){this._components=_.slice(),this._time=[0],this.prevMatrix=_.slice(),this.nextMatrix=_.slice(),this.computedMatrix=_.slice(),this.computedInverse=_.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}f.exports=function(_){return new v((_=_||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var m=v.prototype;m.recalcMatrix=function(_){var A=this._time,d=o.le(A,_),C=this.computedMatrix;if(!(d<0)){var k=this._components;if(d===A.length-1)for(var D=16*d,O=0;O<16;++O)C[O]=k[D++];else{var L=A[d+1]-A[d],R=(D=16*d,this.prevMatrix),z=!0;for(O=0;O<16;++O)R[O]=k[D++];var q=this.nextMatrix;for(O=0;O<16;++O)q[O]=k[D++],z=z&&R[O]===q[O];if(L<1e-6||z)for(O=0;O<16;++O)C[O]=R[O];else r(C,R,q,(_-A[d])/L)}var N=this.computedUp;N[0]=C[1],N[1]=C[5],N[2]=C[9],w(N,N);var V=this.computedInverse;i(V,C);var Z=this.computedEye,j=V[15];Z[0]=V[12]/j,Z[1]=V[13]/j,Z[2]=V[14]/j;var H=this.computedCenter,Y=Math.exp(this.computedRadius[0]);for(O=0;O<3;++O)H[O]=Z[O]-C[2+4*O]*Y}},m.idle=function(_){if(!(_<this.lastT())){for(var A=this._components,d=A.length-16,C=0;C<16;++C)A.push(A[d++]);this._time.push(_)}},m.flush=function(_){var A=o.gt(this._time,_)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(_,A,d,C){this.recalcMatrix(_),A=A||this.computedEye,d=d||g,C=C||this.computedUp,this.setMatrix(_,h(this.computedMatrix,A,d,C));for(var k=0,D=0;D<3;++D)k+=Math.pow(d[D]-A[D],2);k=Math.log(Math.sqrt(k)),this.computedRadius[0]=k},m.rotate=function(_,A,d,C){this.recalcMatrix(_);var k=this.computedInverse;A&&l(k,k,A),d&&a(k,k,d),C&&u(k,k,C),this.setMatrix(_,i(this.computedMatrix,k))};var T=[0,0,0];m.pan=function(_,A,d,C){T[0]=-(A||0),T[1]=-(d||0),T[2]=-(C||0),this.recalcMatrix(_);var k=this.computedInverse;c(k,k,T),this.setMatrix(_,i(k,k))},m.translate=function(_,A,d,C){T[0]=A||0,T[1]=d||0,T[2]=C||0,this.recalcMatrix(_);var k=this.computedMatrix;c(k,k,T),this.setMatrix(_,k)},m.setMatrix=function(_,A){if(!(_<this.lastT())){this._time.push(_);for(var d=0;d<16;++d)this._components.push(A[d])}},m.setDistance=function(_,A){this.computedRadius[0]=A},m.setDistanceLimits=function(_,A){var d=this._limits;d[0]=_,d[1]=A},m.getDistanceLimits=function(_){var A=this._limits;return _?(_[0]=A[0],_[1]=A[1],_):A}},3090:function(f,s,t){"use strict";f.exports=function(r){var i=r.length;if(i<3){for(var a=new Array(i),l=0;l<i;++l)a[l]=l;return i===2&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:a}var u=new Array(i);for(l=0;l<i;++l)u[l]=l;u.sort(function(A,d){return r[A][0]-r[d][0]||r[A][1]-r[d][1]});var h=[u[0],u[1]],c=[u[0],u[1]];for(l=2;l<i;++l){for(var w=u[l],g=r[w],v=h.length;v>1&&o(r[h[v-2]],r[h[v-1]],g)<=0;)v-=1,h.pop();for(h.push(w),v=c.length;v>1&&o(r[c[v-2]],r[c[v-1]],g)>=0;)v-=1,c.pop();c.push(w)}a=new Array(c.length+h.length-2);for(var m=0,T=(l=0,h.length);l<T;++l)a[m++]=h[l];for(var _=c.length-2;_>0;--_)a[m++]=c[_];return a};var o=t(3250)[3]},351:function(f,s,t){"use strict";f.exports=function(r,i){i||(i=r,r=window);var a=0,l=0,u=0,h={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function w(D){var O=!1;return"altKey"in D&&(O=O||D.altKey!==h.alt,h.alt=!!D.altKey),"shiftKey"in D&&(O=O||D.shiftKey!==h.shift,h.shift=!!D.shiftKey),"ctrlKey"in D&&(O=O||D.ctrlKey!==h.control,h.control=!!D.ctrlKey),"metaKey"in D&&(O=O||D.metaKey!==h.meta,h.meta=!!D.metaKey),O}function g(D,O){var L=o.x(O),R=o.y(O);"buttons"in O&&(D=0|O.buttons),(D!==a||L!==l||R!==u||w(O))&&(a=0|D,l=L||0,u=R||0,i&&i(a,l,u,h))}function v(D){g(0,D)}function m(){(a||l||u||h.shift||h.alt||h.meta||h.control)&&(l=u=0,a=0,h.shift=h.alt=h.control=h.meta=!1,i&&i(0,0,0,h))}function T(D){w(D)&&i&&i(a,l,u,h)}function _(D){o.buttons(D)===0?g(0,D):g(a,D)}function A(D){g(a|o.buttons(D),D)}function d(D){g(a&~o.buttons(D),D)}function C(){c||(c=!0,r.addEventListener("mousemove",_),r.addEventListener("mousedown",A),r.addEventListener("mouseup",d),r.addEventListener("mouseleave",v),r.addEventListener("mouseenter",v),r.addEventListener("mouseout",v),r.addEventListener("mouseover",v),r.addEventListener("blur",m),r.addEventListener("keyup",T),r.addEventListener("keydown",T),r.addEventListener("keypress",T),r!==window&&(window.addEventListener("blur",m),window.addEventListener("keyup",T),window.addEventListener("keydown",T),window.addEventListener("keypress",T)))}C();var k={element:r};return Object.defineProperties(k,{enabled:{get:function(){return c},set:function(D){D?C():c&&(c=!1,r.removeEventListener("mousemove",_),r.removeEventListener("mousedown",A),r.removeEventListener("mouseup",d),r.removeEventListener("mouseleave",v),r.removeEventListener("mouseenter",v),r.removeEventListener("mouseout",v),r.removeEventListener("mouseover",v),r.removeEventListener("blur",m),r.removeEventListener("keyup",T),r.removeEventListener("keydown",T),r.removeEventListener("keypress",T),r!==window&&(window.removeEventListener("blur",m),window.removeEventListener("keyup",T),window.removeEventListener("keydown",T),window.removeEventListener("keypress",T)))},enumerable:!0},buttons:{get:function(){return a},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),k};var o=t(4687)},24:function(f){var s={left:0,top:0};f.exports=function(t,o,r){o=o||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var i,a=t.clientX||0,l=t.clientY||0,u=(i=o)===window||i===document||i===document.body?s:i.getBoundingClientRect();return r[0]=a-u.left,r[1]=l-u.top,r}},4687:function(f,s){"use strict";function t(o){return o.target||o.srcElement||window}s.buttons=function(o){if(typeof o=="object"){if("buttons"in o)return o.buttons;if("which"in o){if((r=o.which)===2)return 4;if(r===3)return 2;if(r>0)return 1<<r-1}else if("button"in o){var r;if((r=o.button)===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0},s.element=t,s.x=function(o){if(typeof o=="object"){if("offsetX"in o)return o.offsetX;var r=t(o).getBoundingClientRect();return o.clientX-r.left}return 0},s.y=function(o){if(typeof o=="object"){if("offsetY"in o)return o.offsetY;var r=t(o).getBoundingClientRect();return o.clientY-r.top}return 0}},8512:function(f,s,t){"use strict";var o=t(665);f.exports=function(r,i,a){typeof r=="function"&&(a=!!i,i=r,r=window);var l=o("ex",r),u=function(h){a&&h.preventDefault();var c=h.deltaX||0,w=h.deltaY||0,g=h.deltaZ||0,v=1;switch(h.deltaMode){case 1:v=l;break;case 2:v=window.innerHeight}if(w*=v,g*=v,(c*=v)||w||g)return i(c,w,g,h)};return r.addEventListener("wheel",u),u}},2640:function(f,s,t){"use strict";var o=t(1888);f.exports=function(i){function a(g){throw new Error("ndarray-extract-contour: "+g)}typeof i!="object"&&a("Must specify arguments");var l=i.order;Array.isArray(l)||a("Must specify order");var u=i.arrayArguments||1;u<1&&a("Must have at least one array argument"),(i.scalarArguments||0)<0&&a("Scalar arg count must be > 0"),typeof i.vertex!="function"&&a("Must specify vertex creation function"),typeof i.cell!="function"&&a("Must specify cell creation function"),typeof i.phase!="function"&&a("Must specify phase function");for(var h=i.getters||[],c=new Array(u),w=0;w<u;++w)h.indexOf(w)>=0?c[w]=!0:c[w]=!1;return function(g,v,m,T,_,A){var d=[A,_].join(",");return(0,r[d])(g,v,m,o.mallocUint32,o.freeUint32)}(i.vertex,i.cell,i.phase,0,l,c)};var r={"false,0,1":function(i,a,l,u,h){return function(c,w,g,v){var m,T=0|c.shape[0],_=0|c.shape[1],A=c.data,d=0|c.offset,C=0|c.stride[0],k=0|c.stride[1],D=d,O=0|-C,L=0,R=0|-k,z=0,q=-C-k|0,N=0,V=0|C,Z=k-C*T|0,j=0,H=0,Y=0,ie=2*T|0,re=u(ie),ne=u(ie),ee=0,Q=0,X=-1,se=-1,ce=0,le=0|-T,de=0|T,be=0,_e=-T-1|0,ve=T-1|0,me=0,ye=0,Se=0;for(j=0;j<T;++j)re[ee++]=l(A[D],w,g,v),D+=V;if(D+=Z,_>0){if(H=1,re[ee++]=l(A[D],w,g,v),D+=V,T>0)for(j=1,m=A[D],Q=re[ee]=l(m,w,g,v),ce=re[ee+X],be=re[ee+le],me=re[ee+_e],Q===ce&&Q===be&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,ce,be,me,w,g,v),ye=ne[ee]=Y++),ee+=1,D+=V,j=2;j<T;++j)m=A[D],Q=re[ee]=l(m,w,g,v),ce=re[ee+X],be=re[ee+le],me=re[ee+_e],Q===ce&&Q===be&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,ce,be,me,w,g,v),ye=ne[ee]=Y++,me!==ce&&a(ne[ee+X],ye,N,L,me,ce,w,g,v)),ee+=1,D+=V;for(D+=Z,ee=0,Se=X,X=se,se=Se,Se=le,le=de,de=Se,Se=_e,_e=ve,ve=Se,H=2;H<_;++H){if(re[ee++]=l(A[D],w,g,v),D+=V,T>0)for(j=1,m=A[D],Q=re[ee]=l(m,w,g,v),ce=re[ee+X],be=re[ee+le],me=re[ee+_e],Q===ce&&Q===be&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,ce,be,me,w,g,v),ye=ne[ee]=Y++,me!==be&&a(ne[ee+le],ye,z,N,be,me,w,g,v)),ee+=1,D+=V,j=2;j<T;++j)m=A[D],Q=re[ee]=l(m,w,g,v),ce=re[ee+X],be=re[ee+le],me=re[ee+_e],Q===ce&&Q===be&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,ce,be,me,w,g,v),ye=ne[ee]=Y++,me!==be&&a(ne[ee+le],ye,z,N,be,me,w,g,v),me!==ce&&a(ne[ee+X],ye,N,L,me,ce,w,g,v)),ee+=1,D+=V;1&H&&(ee=0),Se=X,X=se,se=Se,Se=le,le=de,de=Se,Se=_e,_e=ve,ve=Se,D+=Z}}h(ne),h(re)}},"false,1,0":function(i,a,l,u,h){return function(c,w,g,v){var m,T=0|c.shape[0],_=0|c.shape[1],A=c.data,d=0|c.offset,C=0|c.stride[0],k=0|c.stride[1],D=d,O=0|-C,L=0,R=0|-k,z=0,q=-C-k|0,N=0,V=0|k,Z=C-k*_|0,j=0,H=0,Y=0,ie=2*_|0,re=u(ie),ne=u(ie),ee=0,Q=0,X=-1,se=-1,ce=0,le=0|-_,de=0|_,be=0,_e=-_-1|0,ve=_-1|0,me=0,ye=0,Se=0;for(H=0;H<_;++H)re[ee++]=l(A[D],w,g,v),D+=V;if(D+=Z,T>0){if(j=1,re[ee++]=l(A[D],w,g,v),D+=V,_>0)for(H=1,m=A[D],Q=re[ee]=l(m,w,g,v),be=re[ee+le],ce=re[ee+X],me=re[ee+_e],Q===be&&Q===ce&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,be,ce,me,w,g,v),ye=ne[ee]=Y++),ee+=1,D+=V,H=2;H<_;++H)m=A[D],Q=re[ee]=l(m,w,g,v),be=re[ee+le],ce=re[ee+X],me=re[ee+_e],Q===be&&Q===ce&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,be,ce,me,w,g,v),ye=ne[ee]=Y++,me!==ce&&a(ne[ee+X],ye,z,N,ce,me,w,g,v)),ee+=1,D+=V;for(D+=Z,ee=0,Se=le,le=de,de=Se,Se=X,X=se,se=Se,Se=_e,_e=ve,ve=Se,j=2;j<T;++j){if(re[ee++]=l(A[D],w,g,v),D+=V,_>0)for(H=1,m=A[D],Q=re[ee]=l(m,w,g,v),be=re[ee+le],ce=re[ee+X],me=re[ee+_e],Q===be&&Q===ce&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,be,ce,me,w,g,v),ye=ne[ee]=Y++,me!==be&&a(ne[ee+le],ye,N,L,me,be,w,g,v)),ee+=1,D+=V,H=2;H<_;++H)m=A[D],Q=re[ee]=l(m,w,g,v),be=re[ee+le],ce=re[ee+X],me=re[ee+_e],Q===be&&Q===ce&&Q===me||(L=A[D+O],z=A[D+R],N=A[D+q],i(j,H,m,L,z,N,Q,be,ce,me,w,g,v),ye=ne[ee]=Y++,me!==ce&&a(ne[ee+X],ye,z,N,ce,me,w,g,v),me!==be&&a(ne[ee+le],ye,N,L,me,be,w,g,v)),ee+=1,D+=V;1&j&&(ee=0),Se=le,le=de,de=Se,Se=X,X=se,se=Se,Se=_e,_e=ve,ve=Se,D+=Z}}h(ne),h(re)}}}},6199:function(f,s,t){"use strict";var o=t(1338),r={zero:function(T,_,A,d){var C=T[0];d|=0;var k=0,D=A[0];for(k=0;k<C;++k)_[d]=0,d+=D},fdTemplate1:function(T,_,A,d,C,k,D){var O=T[0],L=A[0],R=-1*L,z=L;d|=0,D|=0;var q=0,N=L,V=k[0];for(q=0;q<O;++q)C[D]=.5*(_[d+R]-_[d+z]),d+=N,D+=V},fdTemplate2:function(T,_,A,d,C,k,D,O,L,R){var z=T[0],q=T[1],N=A[0],V=A[1],Z=k[0],j=k[1],H=L[0],Y=L[1],ie=-1*N,re=N,ne=-1*V,ee=V;d|=0,D|=0,R|=0;var Q=0,X=0,se=V,ce=N-q*V,le=j,de=Z-q*j,be=Y,_e=H-q*Y;for(X=0;X<z;++X){for(Q=0;Q<q;++Q)C[D]=.5*(_[d+ie]-_[d+re]),O[R]=.5*(_[d+ne]-_[d+ee]),d+=se,D+=le,R+=be;d+=ce,D+=de,R+=_e}}},i={cdiff:function(T){var _={};return function(A,d,C){var k=A.dtype,D=A.order,O=d.dtype,L=d.order,R=C.dtype,z=C.order,q=[k,D.join(),O,L.join(),R,z.join()].join(),N=_[q];return N||(_[q]=N=T([k,D,O,L,R,z])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,d.data,d.stride,0|d.offset,C.data,C.stride,0|C.offset)}},zero:function(T){var _={};return function(A){var d=A.dtype,C=A.order,k=[d,C.join()].join(),D=_[k];return D||(_[k]=D=T([d,C])),D(A.shape.slice(0),A.data,A.stride,0|A.offset)}},fdTemplate1:function(T){var _={};return function(A,d){var C=A.dtype,k=A.order,D=d.dtype,O=d.order,L=[C,k.join(),D,O.join()].join(),R=_[L];return R||(_[L]=R=T([C,k,D,O])),R(A.shape.slice(0),A.data,A.stride,0|A.offset,d.data,d.stride,0|d.offset)}},fdTemplate2:function(T){var _={};return function(A,d,C){var k=A.dtype,D=A.order,O=d.dtype,L=d.order,R=C.dtype,z=C.order,q=[k,D.join(),O,L.join(),R,z.join()].join(),N=_[q];return N||(_[q]=N=T([k,D,O,L,R,z])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,d.data,d.stride,0|d.offset,C.data,C.stride,0|C.offset)}}};function a(T){return(0,i[T.funcName])(l.bind(void 0,T))}function l(T){return r[T.funcName]}function u(T){return a({funcName:T.funcName})}var h={},c={},w=u({funcName:"cdiff"}),g=u({funcName:"zero"});function v(T){return T in h?h[T]:h[T]=u({funcName:"fdTemplate"+T})}function m(T,_,A,d){return function(C,k){var D=k.shape.slice();return D[0]>2&&D[1]>2&&d(k.pick(-1,-1).lo(1,1).hi(D[0]-2,D[1]-2),C.pick(-1,-1,0).lo(1,1).hi(D[0]-2,D[1]-2),C.pick(-1,-1,1).lo(1,1).hi(D[0]-2,D[1]-2)),D[1]>2&&(A(k.pick(0,-1).lo(1).hi(D[1]-2),C.pick(0,-1,1).lo(1).hi(D[1]-2)),_(C.pick(0,-1,0).lo(1).hi(D[1]-2))),D[1]>2&&(A(k.pick(D[0]-1,-1).lo(1).hi(D[1]-2),C.pick(D[0]-1,-1,1).lo(1).hi(D[1]-2)),_(C.pick(D[0]-1,-1,0).lo(1).hi(D[1]-2))),D[0]>2&&(A(k.pick(-1,0).lo(1).hi(D[0]-2),C.pick(-1,0,0).lo(1).hi(D[0]-2)),_(C.pick(-1,0,1).lo(1).hi(D[0]-2))),D[0]>2&&(A(k.pick(-1,D[1]-1).lo(1).hi(D[0]-2),C.pick(-1,D[1]-1,0).lo(1).hi(D[0]-2)),_(C.pick(-1,D[1]-1,1).lo(1).hi(D[0]-2))),C.set(0,0,0,0),C.set(0,0,1,0),C.set(D[0]-1,0,0,0),C.set(D[0]-1,0,1,0),C.set(0,D[1]-1,0,0),C.set(0,D[1]-1,1,0),C.set(D[0]-1,D[1]-1,0,0),C.set(D[0]-1,D[1]-1,1,0),C}}f.exports=function(T,_,A){return Array.isArray(A)||(A=o(_.dimension,typeof A=="string"?A:"clamp")),_.size===0?T:_.dimension===0?(T.set(0),T):function(d){var C=d.join();if(L=c[C])return L;for(var k=d.length,D=[w,g],O=1;O<=k;++O)D.push(v(O));var L=m.apply(void 0,D);return c[C]=L,L}(A)(T,_)}},4317:function(f){"use strict";function s(i,a){var l=Math.floor(a),u=a-l,h=0<=l&&l<i.shape[0],c=0<=l+1&&l+1<i.shape[0];return(1-u)*(h?+i.get(l):0)+u*(c?+i.get(l+1):0)}function t(i,a,l){var u=Math.floor(a),h=a-u,c=0<=u&&u<i.shape[0],w=0<=u+1&&u+1<i.shape[0],g=Math.floor(l),v=l-g,m=0<=g&&g<i.shape[1],T=0<=g+1&&g+1<i.shape[1],_=c&&m?i.get(u,g):0,A=c&&T?i.get(u,g+1):0;return(1-v)*((1-h)*_+h*(w&&m?i.get(u+1,g):0))+v*((1-h)*A+h*(w&&T?i.get(u+1,g+1):0))}function o(i,a,l,u){var h=Math.floor(a),c=a-h,w=0<=h&&h<i.shape[0],g=0<=h+1&&h+1<i.shape[0],v=Math.floor(l),m=l-v,T=0<=v&&v<i.shape[1],_=0<=v+1&&v+1<i.shape[1],A=Math.floor(u),d=u-A,C=0<=A&&A<i.shape[2],k=0<=A+1&&A+1<i.shape[2],D=w&&T&&C?i.get(h,v,A):0,O=w&&_&&C?i.get(h,v+1,A):0,L=g&&T&&C?i.get(h+1,v,A):0,R=g&&_&&C?i.get(h+1,v+1,A):0,z=w&&T&&k?i.get(h,v,A+1):0,q=w&&_&&k?i.get(h,v+1,A+1):0;return(1-d)*((1-m)*((1-c)*D+c*L)+m*((1-c)*O+c*R))+d*((1-m)*((1-c)*z+c*(g&&T&&k?i.get(h+1,v,A+1):0))+m*((1-c)*q+c*(g&&_&&k?i.get(h+1,v+1,A+1):0)))}function r(i){var a,l,u=0|i.shape.length,h=new Array(u),c=new Array(u),w=new Array(u),g=new Array(u);for(a=0;a<u;++a)l=+arguments[a+1],h[a]=Math.floor(l),c[a]=l-h[a],w[a]=0<=h[a]&&h[a]<i.shape[a],g[a]=0<=h[a]+1&&h[a]+1<i.shape[a];var v,m,T,_=0;e:for(a=0;a<1<<u;++a){for(m=1,T=i.offset,v=0;v<u;++v)if(a&1<<v){if(!g[v])continue e;m*=c[v],T+=i.stride[v]*(h[v]+1)}else{if(!w[v])continue e;m*=1-c[v],T+=i.stride[v]*h[v]}_+=m*i.data[T]}return _}f.exports=function(i,a,l,u){switch(i.shape.length){case 0:return 0;case 1:return s(i,a);case 2:return t(i,a,l);case 3:return o(i,a,l,u);default:return r.apply(void 0,arguments)}},f.exports.d1=s,f.exports.d2=t,f.exports.d3=o},5298:function(f,s){"use strict";var t={"float64,2,1,0":function(){return function(l,u,h,c,w){var g=l[0],v=l[1],m=l[2],T=h[0],_=h[1],A=h[2];c|=0;var d=0,C=0,k=0,D=A,O=_-m*A,L=T-v*_;for(k=0;k<g;++k){for(C=0;C<v;++C){for(d=0;d<m;++d)u[c]/=w,c+=D;c+=O}c+=L}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,h,c,w,g,v,m){for(var T=l[0],_=l[1],A=l[2],d=h[0],C=h[1],k=h[2],D=g[0],O=g[1],L=g[2],R=c|=0,z=v|=0,q=0|l[0];q>0;){q<64?(T=q,q=0):(T=64,q-=64);for(var N=0|l[1];N>0;){N<64?(_=N,N=0):(_=64,N-=64),c=R+q*d+N*C,v=z+q*D+N*O;var V=0,Z=0,j=0,H=k,Y=d-A*k,ie=C-T*d,re=L,ne=D-A*L,ee=O-T*D;for(j=0;j<_;++j){for(Z=0;Z<T;++Z){for(V=0;V<A;++V)u[c]=w[v]*m,c+=H,v+=re;c+=Y,v+=ne}c+=ie,v+=ee}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,h,c,w,g,v){var m=l[0],T=l[1],_=h[0],A=h[1],d=g[0],C=g[1];c|=0,v|=0;var k=0,D=0,O=A,L=_-T*A,R=C,z=d-T*C;for(D=0;D<m;++D){for(k=0;k<T;++k)u[c]=w[v],c+=O,v+=R;c+=L,v+=z}}},"float32,1,0,float32,0,1":function(){return function(l,u,h,c,w,g,v){for(var m=l[0],T=l[1],_=h[0],A=h[1],d=g[0],C=g[1],k=c|=0,D=v|=0,O=0|l[1];O>0;){O<64?(T=O,O=0):(T=64,O-=64);for(var L=0|l[0];L>0;){L<64?(m=L,L=0):(m=64,L-=64),c=k+O*A+L*_,v=D+O*C+L*d;var R=0,z=0,q=A,N=_-T*A,V=C,Z=d-T*C;for(z=0;z<m;++z){for(R=0;R<T;++R)u[c]=w[v],c+=q,v+=V;c+=N,v+=Z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,h,c,w,g,v){for(var m=l[0],T=l[1],_=l[2],A=h[0],d=h[1],C=h[2],k=g[0],D=g[1],O=g[2],L=c|=0,R=v|=0,z=0|l[2];z>0;){z<64?(_=z,z=0):(_=64,z-=64);for(var q=0|l[0];q>0;){q<64?(m=q,q=0):(m=64,q-=64);for(var N=0|l[1];N>0;){N<64?(T=N,N=0):(T=64,N-=64),c=L+z*C+q*A+N*d,v=R+z*O+q*k+N*D;var V=0,Z=0,j=0,H=C,Y=A-_*C,ie=d-m*A,re=O,ne=k-_*O,ee=D-m*k;for(j=0;j<T;++j){for(Z=0;Z<m;++Z){for(V=0;V<_;++V)u[c]=w[v],c+=H,v+=re;c+=Y,v+=ne}c+=ie,v+=ee}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,h,c,w,g,v){var m=l[0],T=l[1],_=l[2],A=h[0],d=h[1],C=h[2],k=g[0],D=g[1],O=g[2];c|=0,v|=0;var L=0,R=0,z=0,q=C,N=A-_*C,V=d-m*A,Z=O,j=k-_*O,H=D-m*k;for(z=0;z<T;++z){for(R=0;R<m;++R){for(L=0;L<_;++L)u[c]=w[v],c+=q,v+=Z;c+=N,v+=j}c+=V,v+=H}}}},o=function(l,u){var h=u.join(",");return(0,t[h])()},r={mul:function(l){var u={};return function(h,c,w){var g=h.dtype,v=h.order,m=c.dtype,T=c.order,_=w.dtype,A=w.order,d=[g,v.join(),m,T.join(),_,A.join()].join(),C=u[d];return C||(u[d]=C=l([g,v,m,T,_,A])),C(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,w.data,w.stride,0|w.offset)}},muls:function(l){var u={};return function(h,c,w){var g=h.dtype,v=h.order,m=c.dtype,T=c.order,_=[g,v.join(),m,T.join()].join(),A=u[_];return A||(u[_]=A=l([g,v,m,T])),A(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,w)}},mulseq:function(l){var u={};return function(h,c){var w=h.dtype,g=h.order,v=[w,g.join()].join(),m=u[v];return m||(u[v]=m=l([w,g])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},div:function(l){var u={};return function(h,c,w){var g=h.dtype,v=h.order,m=c.dtype,T=c.order,_=w.dtype,A=w.order,d=[g,v.join(),m,T.join(),_,A.join()].join(),C=u[d];return C||(u[d]=C=l([g,v,m,T,_,A])),C(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,w.data,w.stride,0|w.offset)}},divs:function(l){var u={};return function(h,c,w){var g=h.dtype,v=h.order,m=c.dtype,T=c.order,_=[g,v.join(),m,T.join()].join(),A=u[_];return A||(u[_]=A=l([g,v,m,T])),A(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset,w)}},divseq:function(l){var u={};return function(h,c){var w=h.dtype,g=h.order,v=[w,g.join()].join(),m=u[v];return m||(u[v]=m=l([w,g])),m(h.shape.slice(0),h.data,h.stride,0|h.offset,c)}},assign:function(l){var u={};return function(h,c){var w=h.dtype,g=h.order,v=c.dtype,m=c.order,T=[w,g.join(),v,m.join()].join(),_=u[T];return _||(u[T]=_=l([w,g,v,m])),_(h.shape.slice(0),h.data,h.stride,0|h.offset,c.data,c.stride,0|c.offset)}}};function i(l){return u={funcName:l.funcName},(0,r[u.funcName])(o.bind(void 0,u));var u}var a={mul:"*",div:"/"};(function(){for(var l in a)s[l]=i({funcName:l}),s[l+"s"]=i({funcName:l+"s"}),s[l+"seq"]=i({funcName:l+"seq"})})(),s.assign=i({funcName:"assign"})},9994:function(f,s,t){"use strict";var o=t(9618),r=t(8277);f.exports=function(i,a){for(var l=[],u=i,h=1;Array.isArray(u);)l.push(u.length),h*=u.length,u=u[0];return l.length===0?o():(a||(a=o(new Float64Array(h),l)),r(a,i),a)}},8277:function(f){"use strict";f.exports=function(s){var t={};return function(o,r){var i=o.dtype,a=o.order,l=[i,a.join()].join(),u=t[l];return u||(t[l]=u=s([i,a])),u(o.shape.slice(0),o.data,o.stride,0|o.offset,r)}}((function(){return function(s,t,o,r,i){var a=s[0],l=s[1],u=s[2],h=o[0],c=o[1],w=o[2],g=[0,0,0];r|=0;var v=0,m=0,T=0,_=w,A=c-u*w,d=h-l*c;for(T=0;T<a;++T){for(m=0;m<l;++m){for(v=0;v<u;++v){var C,k=i;for(C=0;C<g.length-1;++C)k=k[g[C]];t[r]=k[g[g.length-1]],r+=_,++g[2]}r+=A,g[2]-=u,++g[1]}r+=d,g[1]-=l,++g[0]}}}).bind(void 0,{funcName:"convert"}))},7640:function(f,s,t){"use strict";var o=t(1888);function r(u){return u==="uint32"?[o.mallocUint32,o.freeUint32]:null}var i={"uint32,1,0":function(u,h){return function(c,w,g,v,m,T,_,A,d,C,k){var D,O,L,R,z,q,N,V,Z=c*m+v,j=u(A);for(D=c+1;D<=w;++D){for(O=D,L=Z+=m,z=0,q=Z,R=0;R<A;++R)j[z++]=g[q],q+=d;e:for(;O-- >c;){z=0,q=L-m;t:for(R=0;R<A;++R){if((N=g[q])<(V=j[z]))break e;if(N>V)break t;q+=C,z+=k}for(z=L,q=L-m,R=0;R<A;++R)g[z]=g[q],z+=d,q+=d;L-=m}for(z=L,q=0,R=0;R<A;++R)g[z]=j[q++],z+=d}h(j)}}},a={"uint32,1,0":function(u,h,c){return function w(g,v,m,T,_,A,d,C,k,D,O){var L,R,z,q,N,V,Z,j,H,Y,ie,re,ne,ee,Q,X,se,ce,le,de,be,_e,ve,me,ye,Se=(v-g+1)/6|0,Ie=g+Se,xe=v-Se,ue=g+v>>1,ae=ue-Se,pe=ue+Se,De=Ie,Te=ae,Ae=ue,Ce=pe,Re=xe,Ne=g+1,ge=v-1,Me=!0,Ee=0,Fe=0,Le=0,Ue=C,Ge=h(Ue),Ke=h(Ue);ie=_*De,re=_*Te,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=De,De=Te,Te=R;break e}if(Le<0)break e;ye+=D}ie=_*Ce,re=_*Re,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=Ce,Ce=Re,Re=R;break e}if(Le<0)break e;ye+=D}ie=_*De,re=_*Ae,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=De,De=Ae,Ae=R;break e}if(Le<0)break e;ye+=D}ie=_*Te,re=_*Ae,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=Te,Te=Ae,Ae=R;break e}if(Le<0)break e;ye+=D}ie=_*De,re=_*Ce,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=De,De=Ce,Ce=R;break e}if(Le<0)break e;ye+=D}ie=_*Ae,re=_*Ce,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=Ae,Ae=Ce,Ce=R;break e}if(Le<0)break e;ye+=D}ie=_*Te,re=_*Re,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=Te,Te=Re,Re=R;break e}if(Le<0)break e;ye+=D}ie=_*Te,re=_*Ae,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=Te,Te=Ae,Ae=R;break e}if(Le<0)break e;ye+=D}ie=_*Ce,re=_*Re,ye=T;e:for(Y=0;Y<C;++Y){if(j=re+ye,(Le=m[Z=ie+ye]-m[j])>0){R=Ce,Ce=Re,Re=R;break e}if(Le<0)break e;ye+=D}for(ie=_*De,re=_*Te,ne=_*Ae,ee=_*Ce,Q=_*Re,X=_*Ie,se=_*ue,ce=_*xe,me=0,ye=T,Y=0;Y<C;++Y)Z=ie+ye,j=re+ye,H=ne+ye,le=ee+ye,de=Q+ye,be=X+ye,_e=se+ye,ve=ce+ye,Ge[me]=m[j],Ke[me]=m[le],Me=Me&&Ge[me]===Ke[me],z=m[Z],q=m[H],N=m[de],m[be]=z,m[_e]=q,m[ve]=N,++me,ye+=k;for(ie=_*ae,re=_*g,ye=T,Y=0;Y<C;++Y)j=re+ye,m[Z=ie+ye]=m[j],ye+=k;for(ie=_*pe,re=_*v,ye=T,Y=0;Y<C;++Y)j=re+ye,m[Z=ie+ye]=m[j],ye+=k;if(Me)for(V=Ne;V<=ge;++V){for(Z=T+V*_,me=0,Y=0;Y<C&&(Le=m[Z]-Ge[me])==0;++Y)me+=O,Z+=D;if(Le!==0)if(Le<0){if(V!==Ne)for(ie=_*V,re=_*Ne,ye=T,Y=0;Y<C;++Y)j=re+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=L,ye+=k;++Ne}else for(;;){for(Z=T+ge*_,me=0,Y=0;Y<C&&(Le=m[Z]-Ge[me])==0;++Y)me+=O,Z+=D;if(!(Le>0)){if(Le<0){for(ie=_*V,re=_*Ne,ne=_*ge,ye=T,Y=0;Y<C;++Y)j=re+ye,H=ne+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=m[H],m[H]=L,ye+=k;++Ne,--ge;break}for(ie=_*V,re=_*ge,ye=T,Y=0;Y<C;++Y)j=re+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=L,ye+=k;--ge;break}ge--}}else for(V=Ne;V<=ge;++V){for(Z=T+V*_,me=0,Y=0;Y<C&&(Ee=m[Z]-Ge[me])==0;++Y)me+=O,Z+=D;if(Ee<0){if(V!==Ne)for(ie=_*V,re=_*Ne,ye=T,Y=0;Y<C;++Y)j=re+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=L,ye+=k;++Ne}else{for(Z=T+V*_,me=0,Y=0;Y<C&&(Fe=m[Z]-Ke[me])==0;++Y)me+=O,Z+=D;if(Fe>0)for(;;){for(Z=T+ge*_,me=0,Y=0;Y<C&&(Le=m[Z]-Ke[me])==0;++Y)me+=O,Z+=D;if(!(Le>0)){for(Z=T+ge*_,me=0,Y=0;Y<C&&(Le=m[Z]-Ge[me])==0;++Y)me+=O,Z+=D;if(Le<0){for(ie=_*V,re=_*Ne,ne=_*ge,ye=T,Y=0;Y<C;++Y)j=re+ye,H=ne+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=m[H],m[H]=L,ye+=k;++Ne,--ge}else{for(ie=_*V,re=_*ge,ye=T,Y=0;Y<C;++Y)j=re+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=L,ye+=k;--ge}break}if(--ge<V)break}}}for(ie=_*g,re=_*(Ne-1),me=0,ye=T,Y=0;Y<C;++Y)j=re+ye,m[Z=ie+ye]=m[j],m[j]=Ge[me],++me,ye+=k;for(ie=_*v,re=_*(ge+1),me=0,ye=T,Y=0;Y<C;++Y)j=re+ye,m[Z=ie+ye]=m[j],m[j]=Ke[me],++me,ye+=k;if(Ne-2-g<=32?u(g,Ne-2,m,T,_,A,d,C,k,D,O):w(g,Ne-2,m,T,_,A,d,C,k,D,O),v-(ge+2)<=32?u(ge+2,v,m,T,_,A,d,C,k,D,O):w(ge+2,v,m,T,_,A,d,C,k,D,O),Me)return c(Ge),void c(Ke);if(Ne<Ie&&ge>xe){e:for(;;){for(Z=T+Ne*_,me=0,ye=T,Y=0;Y<C;++Y){if(m[Z]!==Ge[me])break e;++me,Z+=k}++Ne}e:for(;;){for(Z=T+ge*_,me=0,ye=T,Y=0;Y<C;++Y){if(m[Z]!==Ke[me])break e;++me,Z+=k}--ge}for(V=Ne;V<=ge;++V){for(Z=T+V*_,me=0,Y=0;Y<C&&(Ee=m[Z]-Ge[me])==0;++Y)me+=O,Z+=D;if(Ee===0){if(V!==Ne)for(ie=_*V,re=_*Ne,ye=T,Y=0;Y<C;++Y)j=re+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=L,ye+=k;++Ne}else{for(Z=T+V*_,me=0,Y=0;Y<C&&(Fe=m[Z]-Ke[me])==0;++Y)me+=O,Z+=D;if(Fe===0)for(;;){for(Z=T+ge*_,me=0,Y=0;Y<C&&(Le=m[Z]-Ke[me])==0;++Y)me+=O,Z+=D;if(Le!==0){for(Z=T+ge*_,me=0,Y=0;Y<C&&(Le=m[Z]-Ge[me])==0;++Y)me+=O,Z+=D;if(Le<0){for(ie=_*V,re=_*Ne,ne=_*ge,ye=T,Y=0;Y<C;++Y)j=re+ye,H=ne+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=m[H],m[H]=L,ye+=k;++Ne,--ge}else{for(ie=_*V,re=_*ge,ye=T,Y=0;Y<C;++Y)j=re+ye,L=m[Z=ie+ye],m[Z]=m[j],m[j]=L,ye+=k;--ge}break}if(--ge<V)break}}}}c(Ge),c(Ke),ge-Ne<=32?u(Ne,ge,m,T,_,A,d,C,k,D,O):w(Ne,ge,m,T,_,A,d,C,k,D,O)}}},l={"uint32,1,0":function(u,h){return function(c){var w=c.data,g=0|c.offset,v=c.shape,m=c.stride,T=0|m[0],_=0|v[0],A=0|m[1],d=0|v[1],C=A,k=A;_<=32?u(0,_-1,w,g,T,A,_,d,C,k,1):h(0,_-1,w,g,T,A,_,d,C,k,1)}}};f.exports=function(u,h){var c=[h,u].join(","),w=l[c],g=function(m,T){var _=r(T),A=[T,m].join(","),d=i[A];return _?d(_[0],_[1]):d()}(u,h),v=function(m,T,_){var A=r(T),d=[T,m].join(","),C=a[d];return m.length>1&&A?C(_,A[0],A[1]):C(_)}(u,h,g);return w(g,v)}},446:function(f,s,t){"use strict";var o=t(7640),r={};f.exports=function(i){var a=i.order,l=i.dtype,u=[a,l].join(":"),h=r[u];return h||(r[u]=h=o(a,l)),h(i),i}},9618:function(f,s,t){var o=t(7163),r=typeof Float64Array<"u";function i(c,w){return c[0]-w[0]}function a(){var c,w=this.stride,g=new Array(w.length);for(c=0;c<g.length;++c)g[c]=[Math.abs(w[c]),c];g.sort(i);var v=new Array(g.length);for(c=0;c<v.length;++c)v[c]=g[c][1];return v}var l={T:function(c){function w(v){this.data=v}var g=w.prototype;return g.dtype=c,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new w(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(v){return new w(v)}},0:function(c,w){function g(m,T){this.data=m,this.offset=T}var v=g.prototype;return v.dtype=c,v.index=function(){return this.offset},v.dimension=0,v.size=1,v.shape=v.stride=v.order=[],v.lo=v.hi=v.transpose=v.step=function(){return new g(this.data,this.offset)},v.pick=function(){return w(this.data)},v.valueOf=v.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},v.set=function(m){return c==="generic"?this.data.set(this.offset,m):this.data[this.offset]=m},function(m,T,_,A){return new g(m,A)}},1:function(c,w,g){function v(T,_,A,d){this.data=T,this.shape=[_],this.stride=[A],this.offset=0|d}var m=v.prototype;return m.dtype=c,m.dimension=1,Object.defineProperty(m,"size",{get:function(){return this.shape[0]}}),m.order=[0],m.set=function(T,_){return c==="generic"?this.data.set(this.offset+this.stride[0]*T,_):this.data[this.offset+this.stride[0]*T]=_},m.get=function(T){return c==="generic"?this.data.get(this.offset+this.stride[0]*T):this.data[this.offset+this.stride[0]*T]},m.index=function(T){return this.offset+this.stride[0]*T},m.hi=function(T){return new v(this.data,typeof T!="number"||T<0?this.shape[0]:0|T,this.stride[0],this.offset)},m.lo=function(T){var _=this.offset,A=0,d=this.shape[0],C=this.stride[0];return typeof T=="number"&&T>=0&&(_+=C*(A=0|T),d-=A),new v(this.data,d,C,_)},m.step=function(T){var _=this.shape[0],A=this.stride[0],d=this.offset,C=0,k=Math.ceil;return typeof T=="number"&&((C=0|T)<0?(d+=A*(_-1),_=k(-_/C)):_=k(_/C),A*=C),new v(this.data,_,A,d)},m.transpose=function(T){T=T===void 0?0:0|T;var _=this.shape,A=this.stride;return new v(this.data,_[T],A[T],this.offset)},m.pick=function(T){var _=[],A=[],d=this.offset;return typeof T=="number"&&T>=0?d=d+this.stride[0]*T|0:(_.push(this.shape[0]),A.push(this.stride[0])),(0,w[_.length+1])(this.data,_,A,d)},function(T,_,A,d){return new v(T,_[0],A[0],d)}},2:function(c,w,g){function v(T,_,A,d,C,k){this.data=T,this.shape=[_,A],this.stride=[d,C],this.offset=0|k}var m=v.prototype;return m.dtype=c,m.dimension=2,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(m,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),m.set=function(T,_,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*_,A):this.data[this.offset+this.stride[0]*T+this.stride[1]*_]=A},m.get=function(T,_){return c==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*_):this.data[this.offset+this.stride[0]*T+this.stride[1]*_]},m.index=function(T,_){return this.offset+this.stride[0]*T+this.stride[1]*_},m.hi=function(T,_){return new v(this.data,typeof T!="number"||T<0?this.shape[0]:0|T,typeof _!="number"||_<0?this.shape[1]:0|_,this.stride[0],this.stride[1],this.offset)},m.lo=function(T,_){var A=this.offset,d=0,C=this.shape[0],k=this.shape[1],D=this.stride[0],O=this.stride[1];return typeof T=="number"&&T>=0&&(A+=D*(d=0|T),C-=d),typeof _=="number"&&_>=0&&(A+=O*(d=0|_),k-=d),new v(this.data,C,k,D,O,A)},m.step=function(T,_){var A=this.shape[0],d=this.shape[1],C=this.stride[0],k=this.stride[1],D=this.offset,O=0,L=Math.ceil;return typeof T=="number"&&((O=0|T)<0?(D+=C*(A-1),A=L(-A/O)):A=L(A/O),C*=O),typeof _=="number"&&((O=0|_)<0?(D+=k*(d-1),d=L(-d/O)):d=L(d/O),k*=O),new v(this.data,A,d,C,k,D)},m.transpose=function(T,_){T=T===void 0?0:0|T,_=_===void 0?1:0|_;var A=this.shape,d=this.stride;return new v(this.data,A[T],A[_],d[T],d[_],this.offset)},m.pick=function(T,_){var A=[],d=[],C=this.offset;return typeof T=="number"&&T>=0?C=C+this.stride[0]*T|0:(A.push(this.shape[0]),d.push(this.stride[0])),typeof _=="number"&&_>=0?C=C+this.stride[1]*_|0:(A.push(this.shape[1]),d.push(this.stride[1])),(0,w[A.length+1])(this.data,A,d,C)},function(T,_,A,d){return new v(T,_[0],_[1],A[0],A[1],d)}},3:function(c,w,g){function v(T,_,A,d,C,k,D,O){this.data=T,this.shape=[_,A,d],this.stride=[C,k,D],this.offset=0|O}var m=v.prototype;return m.dtype=c,m.dimension=3,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(m,"order",{get:function(){var T=Math.abs(this.stride[0]),_=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return T>_?_>A?[2,1,0]:T>A?[1,2,0]:[1,0,2]:T>A?[2,0,1]:A>_?[0,1,2]:[0,2,1]}}),m.set=function(T,_,A,d){return c==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A,d):this.data[this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A]=d},m.get=function(T,_,A){return c==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A):this.data[this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A]},m.index=function(T,_,A){return this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A},m.hi=function(T,_,A){return new v(this.data,typeof T!="number"||T<0?this.shape[0]:0|T,typeof _!="number"||_<0?this.shape[1]:0|_,typeof A!="number"||A<0?this.shape[2]:0|A,this.stride[0],this.stride[1],this.stride[2],this.offset)},m.lo=function(T,_,A){var d=this.offset,C=0,k=this.shape[0],D=this.shape[1],O=this.shape[2],L=this.stride[0],R=this.stride[1],z=this.stride[2];return typeof T=="number"&&T>=0&&(d+=L*(C=0|T),k-=C),typeof _=="number"&&_>=0&&(d+=R*(C=0|_),D-=C),typeof A=="number"&&A>=0&&(d+=z*(C=0|A),O-=C),new v(this.data,k,D,O,L,R,z,d)},m.step=function(T,_,A){var d=this.shape[0],C=this.shape[1],k=this.shape[2],D=this.stride[0],O=this.stride[1],L=this.stride[2],R=this.offset,z=0,q=Math.ceil;return typeof T=="number"&&((z=0|T)<0?(R+=D*(d-1),d=q(-d/z)):d=q(d/z),D*=z),typeof _=="number"&&((z=0|_)<0?(R+=O*(C-1),C=q(-C/z)):C=q(C/z),O*=z),typeof A=="number"&&((z=0|A)<0?(R+=L*(k-1),k=q(-k/z)):k=q(k/z),L*=z),new v(this.data,d,C,k,D,O,L,R)},m.transpose=function(T,_,A){T=T===void 0?0:0|T,_=_===void 0?1:0|_,A=A===void 0?2:0|A;var d=this.shape,C=this.stride;return new v(this.data,d[T],d[_],d[A],C[T],C[_],C[A],this.offset)},m.pick=function(T,_,A){var d=[],C=[],k=this.offset;return typeof T=="number"&&T>=0?k=k+this.stride[0]*T|0:(d.push(this.shape[0]),C.push(this.stride[0])),typeof _=="number"&&_>=0?k=k+this.stride[1]*_|0:(d.push(this.shape[1]),C.push(this.stride[1])),typeof A=="number"&&A>=0?k=k+this.stride[2]*A|0:(d.push(this.shape[2]),C.push(this.stride[2])),(0,w[d.length+1])(this.data,d,C,k)},function(T,_,A,d){return new v(T,_[0],_[1],_[2],A[0],A[1],A[2],d)}},4:function(c,w,g){function v(T,_,A,d,C,k,D,O,L,R){this.data=T,this.shape=[_,A,d,C],this.stride=[k,D,O,L],this.offset=0|R}var m=v.prototype;return m.dtype=c,m.dimension=4,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(m,"order",{get:g}),m.set=function(T,_,A,d,C){return c==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d,C):this.data[this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d]=C},m.get=function(T,_,A,d){return c==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d):this.data[this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d]},m.index=function(T,_,A,d){return this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d},m.hi=function(T,_,A,d){return new v(this.data,typeof T!="number"||T<0?this.shape[0]:0|T,typeof _!="number"||_<0?this.shape[1]:0|_,typeof A!="number"||A<0?this.shape[2]:0|A,typeof d!="number"||d<0?this.shape[3]:0|d,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},m.lo=function(T,_,A,d){var C=this.offset,k=0,D=this.shape[0],O=this.shape[1],L=this.shape[2],R=this.shape[3],z=this.stride[0],q=this.stride[1],N=this.stride[2],V=this.stride[3];return typeof T=="number"&&T>=0&&(C+=z*(k=0|T),D-=k),typeof _=="number"&&_>=0&&(C+=q*(k=0|_),O-=k),typeof A=="number"&&A>=0&&(C+=N*(k=0|A),L-=k),typeof d=="number"&&d>=0&&(C+=V*(k=0|d),R-=k),new v(this.data,D,O,L,R,z,q,N,V,C)},m.step=function(T,_,A,d){var C=this.shape[0],k=this.shape[1],D=this.shape[2],O=this.shape[3],L=this.stride[0],R=this.stride[1],z=this.stride[2],q=this.stride[3],N=this.offset,V=0,Z=Math.ceil;return typeof T=="number"&&((V=0|T)<0?(N+=L*(C-1),C=Z(-C/V)):C=Z(C/V),L*=V),typeof _=="number"&&((V=0|_)<0?(N+=R*(k-1),k=Z(-k/V)):k=Z(k/V),R*=V),typeof A=="number"&&((V=0|A)<0?(N+=z*(D-1),D=Z(-D/V)):D=Z(D/V),z*=V),typeof d=="number"&&((V=0|d)<0?(N+=q*(O-1),O=Z(-O/V)):O=Z(O/V),q*=V),new v(this.data,C,k,D,O,L,R,z,q,N)},m.transpose=function(T,_,A,d){T=T===void 0?0:0|T,_=_===void 0?1:0|_,A=A===void 0?2:0|A,d=d===void 0?3:0|d;var C=this.shape,k=this.stride;return new v(this.data,C[T],C[_],C[A],C[d],k[T],k[_],k[A],k[d],this.offset)},m.pick=function(T,_,A,d){var C=[],k=[],D=this.offset;return typeof T=="number"&&T>=0?D=D+this.stride[0]*T|0:(C.push(this.shape[0]),k.push(this.stride[0])),typeof _=="number"&&_>=0?D=D+this.stride[1]*_|0:(C.push(this.shape[1]),k.push(this.stride[1])),typeof A=="number"&&A>=0?D=D+this.stride[2]*A|0:(C.push(this.shape[2]),k.push(this.stride[2])),typeof d=="number"&&d>=0?D=D+this.stride[3]*d|0:(C.push(this.shape[3]),k.push(this.stride[3])),(0,w[C.length+1])(this.data,C,k,D)},function(T,_,A,d){return new v(T,_[0],_[1],_[2],_[3],A[0],A[1],A[2],A[3],d)}},5:function(c,w,g){function v(T,_,A,d,C,k,D,O,L,R,z,q){this.data=T,this.shape=[_,A,d,C,k],this.stride=[D,O,L,R,z],this.offset=0|q}var m=v.prototype;return m.dtype=c,m.dimension=5,Object.defineProperty(m,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(m,"order",{get:g}),m.set=function(T,_,A,d,C,k){return c==="generic"?this.data.set(this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d+this.stride[4]*C,k):this.data[this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d+this.stride[4]*C]=k},m.get=function(T,_,A,d,C){return c==="generic"?this.data.get(this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d+this.stride[4]*C):this.data[this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d+this.stride[4]*C]},m.index=function(T,_,A,d,C){return this.offset+this.stride[0]*T+this.stride[1]*_+this.stride[2]*A+this.stride[3]*d+this.stride[4]*C},m.hi=function(T,_,A,d,C){return new v(this.data,typeof T!="number"||T<0?this.shape[0]:0|T,typeof _!="number"||_<0?this.shape[1]:0|_,typeof A!="number"||A<0?this.shape[2]:0|A,typeof d!="number"||d<0?this.shape[3]:0|d,typeof C!="number"||C<0?this.shape[4]:0|C,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},m.lo=function(T,_,A,d,C){var k=this.offset,D=0,O=this.shape[0],L=this.shape[1],R=this.shape[2],z=this.shape[3],q=this.shape[4],N=this.stride[0],V=this.stride[1],Z=this.stride[2],j=this.stride[3],H=this.stride[4];return typeof T=="number"&&T>=0&&(k+=N*(D=0|T),O-=D),typeof _=="number"&&_>=0&&(k+=V*(D=0|_),L-=D),typeof A=="number"&&A>=0&&(k+=Z*(D=0|A),R-=D),typeof d=="number"&&d>=0&&(k+=j*(D=0|d),z-=D),typeof C=="number"&&C>=0&&(k+=H*(D=0|C),q-=D),new v(this.data,O,L,R,z,q,N,V,Z,j,H,k)},m.step=function(T,_,A,d,C){var k=this.shape[0],D=this.shape[1],O=this.shape[2],L=this.shape[3],R=this.shape[4],z=this.stride[0],q=this.stride[1],N=this.stride[2],V=this.stride[3],Z=this.stride[4],j=this.offset,H=0,Y=Math.ceil;return typeof T=="number"&&((H=0|T)<0?(j+=z*(k-1),k=Y(-k/H)):k=Y(k/H),z*=H),typeof _=="number"&&((H=0|_)<0?(j+=q*(D-1),D=Y(-D/H)):D=Y(D/H),q*=H),typeof A=="number"&&((H=0|A)<0?(j+=N*(O-1),O=Y(-O/H)):O=Y(O/H),N*=H),typeof d=="number"&&((H=0|d)<0?(j+=V*(L-1),L=Y(-L/H)):L=Y(L/H),V*=H),typeof C=="number"&&((H=0|C)<0?(j+=Z*(R-1),R=Y(-R/H)):R=Y(R/H),Z*=H),new v(this.data,k,D,O,L,R,z,q,N,V,Z,j)},m.transpose=function(T,_,A,d,C){T=T===void 0?0:0|T,_=_===void 0?1:0|_,A=A===void 0?2:0|A,d=d===void 0?3:0|d,C=C===void 0?4:0|C;var k=this.shape,D=this.stride;return new v(this.data,k[T],k[_],k[A],k[d],k[C],D[T],D[_],D[A],D[d],D[C],this.offset)},m.pick=function(T,_,A,d,C){var k=[],D=[],O=this.offset;return typeof T=="number"&&T>=0?O=O+this.stride[0]*T|0:(k.push(this.shape[0]),D.push(this.stride[0])),typeof _=="number"&&_>=0?O=O+this.stride[1]*_|0:(k.push(this.shape[1]),D.push(this.stride[1])),typeof A=="number"&&A>=0?O=O+this.stride[2]*A|0:(k.push(this.shape[2]),D.push(this.stride[2])),typeof d=="number"&&d>=0?O=O+this.stride[3]*d|0:(k.push(this.shape[3]),D.push(this.stride[3])),typeof C=="number"&&C>=0?O=O+this.stride[4]*C|0:(k.push(this.shape[4]),D.push(this.stride[4])),(0,w[k.length+1])(this.data,k,D,O)},function(T,_,A,d){return new v(T,_[0],_[1],_[2],_[3],_[4],A[0],A[1],A[2],A[3],A[4],d)}}};function u(c,w){var g=w===-1?"T":String(w),v=l[g];return w===-1?v(c):w===0?v(c,h[c][0]):v(c,h[c],a)}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};f.exports=function(c,w,g,v){if(c===void 0)return(0,h.array[0])([]);typeof c=="number"&&(c=[c]),w===void 0&&(w=[c.length]);var m=w.length;if(g===void 0){g=new Array(m);for(var T=m-1,_=1;T>=0;--T)g[T]=_,_*=w[T]}if(v===void 0)for(v=0,T=0;T<m;++T)g[T]<0&&(v-=(w[T]-1)*g[T]);for(var A=function(C){if(o(C))return"buffer";if(r)switch(Object.prototype.toString.call(C)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(C)?"array":"generic"}(c),d=h[A];d.length<=m+1;)d.push(u(A,d.length-1));return(0,d[m+1])(c,w,g,v)}},1278:function(f,s,t){"use strict";var o=t(2361),r=Math.pow(2,-1074),i=-1>>>0;f.exports=function(a,l){if(isNaN(a)||isNaN(l))return NaN;if(a===l)return a;if(a===0)return l<0?-r:r;var u=o.hi(a),h=o.lo(a);return l>a==a>0?h===i?(u+=1,h=0):h+=1:h===0?(h=i,u-=1):h-=1,o.pack(h,u)}},8406:function(f,s){s.vertexNormals=function(t,o,r){for(var i=o.length,a=new Array(i),l=r===void 0?1e-6:r,u=0;u<i;++u)a[u]=[0,0,0];for(u=0;u<t.length;++u)for(var h=t[u],c=0,w=h[h.length-1],g=h[0],v=0;v<h.length;++v){c=w,w=g,g=h[(v+1)%h.length];for(var m=o[c],T=o[w],_=o[g],A=new Array(3),d=0,C=new Array(3),k=0,D=0;D<3;++D)A[D]=m[D]-T[D],d+=A[D]*A[D],C[D]=_[D]-T[D],k+=C[D]*C[D];if(d*k>l){var O=a[w],L=1/Math.sqrt(d*k);for(D=0;D<3;++D){var R=(D+1)%3,z=(D+2)%3;O[D]+=L*(C[R]*A[z]-C[z]*A[R])}}}for(u=0;u<i;++u){O=a[u];var q=0;for(D=0;D<3;++D)q+=O[D]*O[D];if(q>l)for(L=1/Math.sqrt(q),D=0;D<3;++D)O[D]*=L;else for(D=0;D<3;++D)O[D]=0}return a},s.faceNormals=function(t,o,r){for(var i=t.length,a=new Array(i),l=r===void 0?1e-6:r,u=0;u<i;++u){for(var h=t[u],c=new Array(3),w=0;w<3;++w)c[w]=o[h[w]];var g=new Array(3),v=new Array(3);for(w=0;w<3;++w)g[w]=c[1][w]-c[0][w],v[w]=c[2][w]-c[0][w];var m=new Array(3),T=0;for(w=0;w<3;++w){var _=(w+1)%3,A=(w+2)%3;m[w]=g[_]*v[A]-g[A]*v[_],T+=m[w]*m[w]}for(T=T>l?1/Math.sqrt(T):0,w=0;w<3;++w)m[w]*=T;a[u]=m}return a}},4081:function(f){"use strict";f.exports=function(s,t,o,r,i,a,l,u,h,c){var w=t+a+c;if(g>0){var g=Math.sqrt(w+1);s[0]=.5*(l-h)/g,s[1]=.5*(u-r)/g,s[2]=.5*(o-a)/g,s[3]=.5*g}else{var v=Math.max(t,a,c);g=Math.sqrt(2*v-w+1),t>=v?(s[0]=.5*g,s[1]=.5*(i+o)/g,s[2]=.5*(u+r)/g,s[3]=.5*(l-h)/g):a>=v?(s[0]=.5*(o+i)/g,s[1]=.5*g,s[2]=.5*(h+l)/g,s[3]=.5*(u-r)/g):(s[0]=.5*(r+u)/g,s[1]=.5*(l+h)/g,s[2]=.5*g,s[3]=.5*(o-i)/g)}return s}},9977:function(f,s,t){"use strict";f.exports=function(v){var m=(v=v||{}).center||[0,0,0],T=v.rotation||[0,0,0,1],_=v.radius||1;m=[].slice.call(m,0,3),c(T=[].slice.call(T,0,4),T);var A=new w(T,m,Math.log(_));return A.setDistanceLimits(v.zoomMin,v.zoomMax),("eye"in v||"up"in v)&&A.lookAt(0,v.eye,v.center,v.up),A};var o=t(9215),r=t(6582),i=t(7399),a=t(7608),l=t(4081);function u(v,m,T){return Math.sqrt(Math.pow(v,2)+Math.pow(m,2)+Math.pow(T,2))}function h(v,m,T,_){return Math.sqrt(Math.pow(v,2)+Math.pow(m,2)+Math.pow(T,2)+Math.pow(_,2))}function c(v,m){var T=m[0],_=m[1],A=m[2],d=m[3],C=h(T,_,A,d);C>1e-6?(v[0]=T/C,v[1]=_/C,v[2]=A/C,v[3]=d/C):(v[0]=v[1]=v[2]=0,v[3]=1)}function w(v,m,T){this.radius=o([T]),this.center=o(m),this.rotation=o(v),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=w.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(v){this.radius.curve(v),this.center.curve(v),this.rotation.curve(v);var m=this.computedRotation;c(m,m);var T=this.computedMatrix;i(T,m);var _=this.computedCenter,A=this.computedEye,d=this.computedUp,C=Math.exp(this.computedRadius[0]);A[0]=_[0]+C*T[2],A[1]=_[1]+C*T[6],A[2]=_[2]+C*T[10],d[0]=T[1],d[1]=T[5],d[2]=T[9];for(var k=0;k<3;++k){for(var D=0,O=0;O<3;++O)D+=T[k+4*O]*A[O];T[12+k]=-D}},g.getMatrix=function(v,m){this.recalcMatrix(v);var T=this.computedMatrix;if(m){for(var _=0;_<16;++_)m[_]=T[_];return m}return T},g.idle=function(v){this.center.idle(v),this.radius.idle(v),this.rotation.idle(v)},g.flush=function(v){this.center.flush(v),this.radius.flush(v),this.rotation.flush(v)},g.pan=function(v,m,T,_){m=m||0,T=T||0,_=_||0,this.recalcMatrix(v);var A=this.computedMatrix,d=A[1],C=A[5],k=A[9],D=u(d,C,k);d/=D,C/=D,k/=D;var O=A[0],L=A[4],R=A[8],z=O*d+L*C+R*k,q=u(O-=d*z,L-=C*z,R-=k*z);O/=q,L/=q,R/=q;var N=A[2],V=A[6],Z=A[10],j=N*d+V*C+Z*k,H=N*O+V*L+Z*R,Y=u(N-=j*d+H*O,V-=j*C+H*L,Z-=j*k+H*R);N/=Y,V/=Y,Z/=Y;var ie=O*m+d*T,re=L*m+C*T,ne=R*m+k*T;this.center.move(v,ie,re,ne);var ee=Math.exp(this.computedRadius[0]);ee=Math.max(1e-4,ee+_),this.radius.set(v,Math.log(ee))},g.rotate=function(v,m,T,_){this.recalcMatrix(v),m=m||0,T=T||0;var A=this.computedMatrix,d=A[0],C=A[4],k=A[8],D=A[1],O=A[5],L=A[9],R=A[2],z=A[6],q=A[10],N=m*d+T*D,V=m*C+T*O,Z=m*k+T*L,j=-(z*Z-q*V),H=-(q*N-R*Z),Y=-(R*V-z*N),ie=Math.sqrt(Math.max(0,1-Math.pow(j,2)-Math.pow(H,2)-Math.pow(Y,2))),re=h(j,H,Y,ie);re>1e-6?(j/=re,H/=re,Y/=re,ie/=re):(j=H=Y=0,ie=1);var ne=this.computedRotation,ee=ne[0],Q=ne[1],X=ne[2],se=ne[3],ce=ee*ie+se*j+Q*Y-X*H,le=Q*ie+se*H+X*j-ee*Y,de=X*ie+se*Y+ee*H-Q*j,be=se*ie-ee*j-Q*H-X*Y;if(_){j=R,H=z,Y=q;var _e=Math.sin(_)/u(j,H,Y);j*=_e,H*=_e,Y*=_e,be=be*(ie=Math.cos(m))-(ce=ce*ie+be*j+le*Y-de*H)*j-(le=le*ie+be*H+de*j-ce*Y)*H-(de=de*ie+be*Y+ce*H-le*j)*Y}var ve=h(ce,le,de,be);ve>1e-6?(ce/=ve,le/=ve,de/=ve,be/=ve):(ce=le=de=0,be=1),this.rotation.set(v,ce,le,de,be)},g.lookAt=function(v,m,T,_){this.recalcMatrix(v),T=T||this.computedCenter,m=m||this.computedEye,_=_||this.computedUp;var A=this.computedMatrix;r(A,m,T,_);var d=this.computedRotation;l(d,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),c(d,d),this.rotation.set(v,d[0],d[1],d[2],d[3]);for(var C=0,k=0;k<3;++k)C+=Math.pow(T[k]-m[k],2);this.radius.set(v,.5*Math.log(Math.max(C,1e-6))),this.center.set(v,T[0],T[1],T[2])},g.translate=function(v,m,T,_){this.center.move(v,m||0,T||0,_||0)},g.setMatrix=function(v,m){var T=this.computedRotation;l(T,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),c(T,T),this.rotation.set(v,T[0],T[1],T[2],T[3]);var _=this.computedMatrix;a(_,m);var A=_[15];if(Math.abs(A)>1e-6){var d=_[12]/A,C=_[13]/A,k=_[14]/A;this.recalcMatrix(v);var D=Math.exp(this.computedRadius[0]);this.center.set(v,d-_[2]*D,C-_[6]*D,k-_[10]*D),this.radius.idle(v)}else this.center.idle(v),this.radius.idle(v)},g.setDistance=function(v,m){m>0&&this.radius.set(v,Math.log(m))},g.setDistanceLimits=function(v,m){v=v>0?Math.log(v):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=m},g.getDistanceLimits=function(v){var m=this.radius.bounds;return v?(v[0]=Math.exp(m[0][0]),v[1]=Math.exp(m[1][0]),v):[Math.exp(m[0][0]),Math.exp(m[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(v){var m=this.lastT(),T=v.center;T&&this.center.set(m,T[0],T[1],T[2]);var _=v.rotation;_&&this.rotation.set(m,_[0],_[1],_[2],_[3]);var A=v.distance;A&&A>0&&this.radius.set(m,Math.log(A)),this.setDistanceLimits(v.zoomMin,v.zoomMax)}},1371:function(f,s,t){"use strict";var o=t(3233);f.exports=function(r,i,a){return o(a=a!==void 0?a+"":" ",i)+r}},3202:function(f){f.exports=function(s,t){t||(t=[0,""]),s=String(s);var o=parseFloat(s,10);return t[0]=o,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(f,s,t){"use strict";f.exports=function(r,i){for(var a=0|i.length,l=r.length,u=[new Array(a),new Array(a)],h=0;h<a;++h)u[0][h]=[],u[1][h]=[];for(h=0;h<l;++h){var c=r[h];u[0][c[0]].push(c),u[1][c[1]].push(c)}var w=[];for(h=0;h<a;++h)u[0][h].length+u[1][h].length===0&&w.push([h]);function g(C,k){var D=u[k][C[k]];D.splice(D.indexOf(C),1)}function v(C,k,D){for(var O,L,R,z=0;z<2;++z)if(u[z][k].length>0){O=u[z][k][0],R=z;break}L=O[1^R];for(var q=0;q<2;++q)for(var N=u[q][k],V=0;V<N.length;++V){var Z=N[V],j=Z[1^q];o(i[C],i[k],i[L],i[j])>0&&(O=Z,L=j,R=q)}return D||O&&g(O,R),L}function m(C,k){var D=u[k][C][0],O=[C];g(D,k);for(var L=D[1^k];;){for(;L!==C;)O.push(L),L=v(O[O.length-2],L,!1);if(u[0][C].length+u[1][C].length===0)break;var R=O[O.length-1],z=C,q=O[1],N=v(R,z,!0);if(o(i[R],i[z],i[q],i[N])<0)break;O.push(C),L=v(R,z)}return O}function T(C,k){return k[1]===k[k.length-1]}for(h=0;h<a;++h)for(var _=0;_<2;++_){for(var A=[];u[_][h].length>0;){u[0][h].length;var d=m(h,_);T(0,d)?A.push.apply(A,d):(A.length>0&&w.push(A),A=d)}A.length>0&&w.push(A)}return w};var o=t(3140)},5609:function(f,s,t){"use strict";f.exports=function(r,i){for(var a=o(r,i.length),l=new Array(i.length),u=new Array(i.length),h=[],c=0;c<i.length;++c){var w=a[c].length;u[c]=w,l[c]=!0,w<=1&&h.push(c)}for(;h.length>0;){l[_=h.pop()]=!1;var g=a[_];for(c=0;c<g.length;++c){var v=g[c];--u[v]==0&&h.push(v)}}var m=new Array(i.length),T=[];for(c=0;c<i.length;++c)if(l[c]){var _=T.length;m[c]=_,T.push(i[c])}else m[c]=-1;var A=[];for(c=0;c<r.length;++c){var d=r[c];l[d[0]]&&l[d[1]]&&A.push([m[d[0]],m[d[1]]])}return[A,T]};var o=t(3134)},2095:function(f,s,t){"use strict";f.exports=function(w,g){var v=h(w,g);w=v[0];for(var m=(g=v[1]).length,T=(w.length,o(w,g.length)),_=0;_<m;++_)if(T[_].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var A=r(w,g),d=(A=A.filter(function(Se){for(var Ie=Se.length,xe=[0],ue=0;ue<Ie;++ue){var ae=g[Se[ue]],pe=g[Se[(ue+1)%Ie]],De=a(-ae[0],ae[1]),Te=a(-ae[0],pe[1]),Ae=a(pe[0],ae[1]),Ce=a(pe[0],pe[1]);xe=l(xe,l(l(De,Te),l(Ae,Ce)))}return xe[xe.length-1]>0})).length,C=new Array(d),k=new Array(d);for(_=0;_<d;++_){C[_]=_;var D=new Array(d),O=A[_].map(function(Se){return g[Se]}),L=i([O]),R=0;e:for(var z=0;z<d;++z)if(D[z]=0,_!==z){for(var q=(me=A[z]).length,N=0;N<q;++N){var V=L(g[me[N]]);if(V!==0){V<0&&(D[z]=1,R+=1);continue e}}D[z]=1,R+=1}k[_]=[R,_,D]}for(k.sort(function(Se,Ie){return Ie[0]-Se[0]}),_=0;_<d;++_){var Z=(D=k[_])[1],j=D[2];for(z=0;z<d;++z)j[z]&&(C[z]=Z)}var H=function(Se){for(var Ie=new Array(Se),xe=0;xe<Se;++xe)Ie[xe]=[];return Ie}(d);for(_=0;_<d;++_)H[_].push(C[_]),H[C[_]].push(_);var Y={},ie=c(m,!1);for(_=0;_<d;++_)for(q=(me=A[_]).length,z=0;z<q;++z){var re=me[z],ne=me[(z+1)%q],ee=Math.min(re,ne)+":"+Math.max(re,ne);if(ee in Y){var Q=Y[ee];H[Q].push(_),H[_].push(Q),ie[re]=ie[ne]=!0}else Y[ee]=_}function X(Se){for(var Ie=Se.length,xe=0;xe<Ie;++xe)if(!ie[Se[xe]])return!1;return!0}var se=[],ce=c(d,-1);for(_=0;_<d;++_)C[_]!==_||X(A[_])?ce[_]=-1:(se.push(_),ce[_]=0);for(v=[];se.length>0;){var le=se.pop(),de=H[le];u(de,function(Se,Ie){return Se-Ie});var be,_e=de.length,ve=ce[le];for(ve===0&&(be=[me=A[le]]),_=0;_<_e;++_){var me,ye=de[_];ce[ye]>=0||(ce[ye]=1^ve,se.push(ye),ve===0&&(X(me=A[ye])||(me.reverse(),be.push(me))))}ve===0&&v.push(be)}return v};var o=t(3134),r=t(3088),i=t(5085),a=t(5250),l=t(8210),u=t(1682),h=t(5609);function c(w,g){for(var v=new Array(w),m=0;m<w;++m)v[m]=g;return v}},5085:function(f,s,t){f.exports=function(c){for(var w=c.length,g=[],v=[],m=0;m<w;++m)for(var T=c[m],_=T.length,A=_-1,d=0;d<_;A=d++){var C=T[A],k=T[d];C[0]===k[0]?v.push([C,k]):g.push([C,k])}if(g.length===0)return v.length===0?h:(D=u(v),function(R){return D(R[0],R[1])?0:1});var D,O=r(g),L=function(R,z){return function(q){var N=a.le(z,q[0]);if(N<0)return 1;var V=R[N];if(!V){if(!(N>0&&z[N]===q[0]))return 1;V=R[N-1]}for(var Z=1;V;){var j=V.key,H=o(q,j[0],j[1]);if(j[0][0]<j[1][0])if(H<0)V=V.left;else{if(!(H>0))return 0;Z=-1,V=V.right}else if(H>0)V=V.left;else{if(!(H<0))return 0;Z=1,V=V.right}}return Z}}(O.slabs,O.coordinates);return v.length===0?L:function(R,z){return function(q){return R(q[0],q[1])?0:z(q)}}(u(v),L)};var o=t(3250)[3],r=t(4209),i=t(3352),a=t(2478);function l(){return!0}function u(c){for(var w={},g=0;g<c.length;++g){var v=c[g],m=v[0][0],T=v[0][1],_=v[1][1],A=[Math.min(T,_),Math.max(T,_)];m in w?w[m].push(A):w[m]=[A]}var d={},C=Object.keys(w);for(g=0;g<C.length;++g){var k=w[C[g]];d[C[g]]=i(k)}return function(D){return function(O,L){var R=D[O];return!!R&&!!R.queryPoint(L,l)}}(d)}function h(c){return 1}},9346:function(f){"use strict";var s=new Float64Array(4),t=new Float64Array(4),o=new Float64Array(4);f.exports=function(r,i,a,l,u){s.length<l.length&&(s=new Float64Array(l.length),t=new Float64Array(l.length),o=new Float64Array(l.length));for(var h=0;h<l.length;++h)s[h]=r[h]-l[h],t[h]=i[h]-r[h],o[h]=a[h]-r[h];var c=0,w=0,g=0,v=0,m=0,T=0;for(h=0;h<l.length;++h){var _=t[h],A=o[h],d=s[h];c+=_*_,w+=_*A,g+=A*A,v+=d*_,m+=d*A,T+=d*d}var C,k,D,O,L,R=Math.abs(c*g-w*w),z=w*m-g*v,q=w*v-c*m;if(z+q<=R)if(z<0)q<0&&v<0?(q=0,-v>=c?(z=1,C=c+2*v+T):C=v*(z=-v/c)+T):(z=0,m>=0?(q=0,C=T):-m>=g?(q=1,C=g+2*m+T):C=m*(q=-m/g)+T);else if(q<0)q=0,v>=0?(z=0,C=T):-v>=c?(z=1,C=c+2*v+T):C=v*(z=-v/c)+T;else{var N=1/R;C=(z*=N)*(c*z+w*(q*=N)+2*v)+q*(w*z+g*q+2*m)+T}else z<0?(D=g+m)>(k=w+v)?(O=D-k)>=(L=c-2*w+g)?(z=1,q=0,C=c+2*v+T):C=(z=O/L)*(c*z+w*(q=1-z)+2*v)+q*(w*z+g*q+2*m)+T:(z=0,D<=0?(q=1,C=g+2*m+T):m>=0?(q=0,C=T):C=m*(q=-m/g)+T):q<0?(D=c+v)>(k=w+m)?(O=D-k)>=(L=c-2*w+g)?(q=1,z=0,C=g+2*m+T):C=(z=1-(q=O/L))*(c*z+w*q+2*v)+q*(w*z+g*q+2*m)+T:(q=0,D<=0?(z=1,C=c+2*v+T):v>=0?(z=0,C=T):C=v*(z=-v/c)+T):(O=g+m-w-v)<=0?(z=0,q=1,C=g+2*m+T):O>=(L=c-2*w+g)?(z=1,q=0,C=c+2*v+T):C=(z=O/L)*(c*z+w*(q=1-z)+2*v)+q*(w*z+g*q+2*m)+T;var V=1-z-q;for(h=0;h<l.length;++h)u[h]=V*r[h]+z*i[h]+q*a[h];return C<0?0:C}},8648:function(f,s,t){f.exports=t(783)},2653:function(f,s,t){"use strict";var o=t(3865);f.exports=function(r,i){for(var a=r.length,l=new Array(a),u=0;u<a;++u)l[u]=o(r[u],i[u]);return l}},5838:function(f,s,t){"use strict";f.exports=function(r){for(var i=new Array(r.length),a=0;a<r.length;++a)i[a]=o(r[a]);return i};var o=t(7842)},8987:function(f,s,t){"use strict";var o=t(7842),r=t(6504);f.exports=function(i,a){for(var l=o(a),u=i.length,h=new Array(u),c=0;c<u;++c)h[c]=r(i[c],l);return h}},544:function(f,s,t){"use strict";var o=t(5572);f.exports=function(r,i){for(var a=r.length,l=new Array(a),u=0;u<a;++u)l[u]=o(r[u],i[u]);return l}},5771:function(f,s,t){"use strict";var o=t(8507),r=t(3788),i=t(2419);f.exports=function(a){a.sort(r);for(var l=a.length,u=0,h=0;h<l;++h){var c=a[h],w=i(c);if(w!==0){if(u>0){var g=a[u-1];if(o(c,g)===0&&i(g)!==w){u-=1;continue}}a[u++]=c}}return a.length=u,a}},3233:function(f){"use strict";var s,t="";f.exports=function(o,r){if(typeof o!="string")throw new TypeError("expected a string");if(r===1)return o;if(r===2)return o+o;var i=o.length*r;if(s!==o||s===void 0)s=o,t="";else if(t.length>=i)return t.substr(0,i);for(;i>t.length&&r>1;)1&r&&(t+=o),r>>=1,o+=o;return t=(t+=o).substr(0,i)}},3025:function(f,s,t){f.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(f){"use strict";f.exports=function(s){for(var t=s.length,o=s[s.length-1],r=t,i=t-2;i>=0;--i){var a=o;(h=(u=s[i])-((o=a+u)-a))&&(s[--r]=o,o=h)}var l=0;for(i=r;i<t;++i){var u,h;(h=(u=o)-((o=(a=s[i])+u)-a))&&(s[l++]=h)}return s[l++]=o,s.length=l,s}},2962:function(f,s,t){"use strict";var o=t(5250),r=t(8210),i=t(3012),a=t(7004);function l(m,T,_,A){return function(d){return A(m(_(d[0][0],d[1][1]),_(-d[0][1],d[1][0])))}}function u(m,T,_,A){return function(d){return A(m(T(m(_(d[1][1],d[2][2]),_(-d[1][2],d[2][1])),d[0][0]),m(T(m(_(d[1][0],d[2][2]),_(-d[1][2],d[2][0])),-d[0][1]),T(m(_(d[1][0],d[2][1]),_(-d[1][1],d[2][0])),d[0][2]))))}}function h(m,T,_,A){return function(d){return A(m(m(T(m(T(m(_(d[2][2],d[3][3]),_(-d[2][3],d[3][2])),d[1][1]),m(T(m(_(d[2][1],d[3][3]),_(-d[2][3],d[3][1])),-d[1][2]),T(m(_(d[2][1],d[3][2]),_(-d[2][2],d[3][1])),d[1][3]))),d[0][0]),T(m(T(m(_(d[2][2],d[3][3]),_(-d[2][3],d[3][2])),d[1][0]),m(T(m(_(d[2][0],d[3][3]),_(-d[2][3],d[3][0])),-d[1][2]),T(m(_(d[2][0],d[3][2]),_(-d[2][2],d[3][0])),d[1][3]))),-d[0][1])),m(T(m(T(m(_(d[2][1],d[3][3]),_(-d[2][3],d[3][1])),d[1][0]),m(T(m(_(d[2][0],d[3][3]),_(-d[2][3],d[3][0])),-d[1][1]),T(m(_(d[2][0],d[3][1]),_(-d[2][1],d[3][0])),d[1][3]))),d[0][2]),T(m(T(m(_(d[2][1],d[3][2]),_(-d[2][2],d[3][1])),d[1][0]),m(T(m(_(d[2][0],d[3][2]),_(-d[2][2],d[3][0])),-d[1][1]),T(m(_(d[2][0],d[3][1]),_(-d[2][1],d[3][0])),d[1][2]))),-d[0][3]))))}}function c(m,T,_,A){return function(d){return A(m(m(T(m(m(T(m(T(m(_(d[3][3],d[4][4]),_(-d[3][4],d[4][3])),d[2][2]),m(T(m(_(d[3][2],d[4][4]),_(-d[3][4],d[4][2])),-d[2][3]),T(m(_(d[3][2],d[4][3]),_(-d[3][3],d[4][2])),d[2][4]))),d[1][1]),T(m(T(m(_(d[3][3],d[4][4]),_(-d[3][4],d[4][3])),d[2][1]),m(T(m(_(d[3][1],d[4][4]),_(-d[3][4],d[4][1])),-d[2][3]),T(m(_(d[3][1],d[4][3]),_(-d[3][3],d[4][1])),d[2][4]))),-d[1][2])),m(T(m(T(m(_(d[3][2],d[4][4]),_(-d[3][4],d[4][2])),d[2][1]),m(T(m(_(d[3][1],d[4][4]),_(-d[3][4],d[4][1])),-d[2][2]),T(m(_(d[3][1],d[4][2]),_(-d[3][2],d[4][1])),d[2][4]))),d[1][3]),T(m(T(m(_(d[3][2],d[4][3]),_(-d[3][3],d[4][2])),d[2][1]),m(T(m(_(d[3][1],d[4][3]),_(-d[3][3],d[4][1])),-d[2][2]),T(m(_(d[3][1],d[4][2]),_(-d[3][2],d[4][1])),d[2][3]))),-d[1][4]))),d[0][0]),T(m(m(T(m(T(m(_(d[3][3],d[4][4]),_(-d[3][4],d[4][3])),d[2][2]),m(T(m(_(d[3][2],d[4][4]),_(-d[3][4],d[4][2])),-d[2][3]),T(m(_(d[3][2],d[4][3]),_(-d[3][3],d[4][2])),d[2][4]))),d[1][0]),T(m(T(m(_(d[3][3],d[4][4]),_(-d[3][4],d[4][3])),d[2][0]),m(T(m(_(d[3][0],d[4][4]),_(-d[3][4],d[4][0])),-d[2][3]),T(m(_(d[3][0],d[4][3]),_(-d[3][3],d[4][0])),d[2][4]))),-d[1][2])),m(T(m(T(m(_(d[3][2],d[4][4]),_(-d[3][4],d[4][2])),d[2][0]),m(T(m(_(d[3][0],d[4][4]),_(-d[3][4],d[4][0])),-d[2][2]),T(m(_(d[3][0],d[4][2]),_(-d[3][2],d[4][0])),d[2][4]))),d[1][3]),T(m(T(m(_(d[3][2],d[4][3]),_(-d[3][3],d[4][2])),d[2][0]),m(T(m(_(d[3][0],d[4][3]),_(-d[3][3],d[4][0])),-d[2][2]),T(m(_(d[3][0],d[4][2]),_(-d[3][2],d[4][0])),d[2][3]))),-d[1][4]))),-d[0][1])),m(T(m(m(T(m(T(m(_(d[3][3],d[4][4]),_(-d[3][4],d[4][3])),d[2][1]),m(T(m(_(d[3][1],d[4][4]),_(-d[3][4],d[4][1])),-d[2][3]),T(m(_(d[3][1],d[4][3]),_(-d[3][3],d[4][1])),d[2][4]))),d[1][0]),T(m(T(m(_(d[3][3],d[4][4]),_(-d[3][4],d[4][3])),d[2][0]),m(T(m(_(d[3][0],d[4][4]),_(-d[3][4],d[4][0])),-d[2][3]),T(m(_(d[3][0],d[4][3]),_(-d[3][3],d[4][0])),d[2][4]))),-d[1][1])),m(T(m(T(m(_(d[3][1],d[4][4]),_(-d[3][4],d[4][1])),d[2][0]),m(T(m(_(d[3][0],d[4][4]),_(-d[3][4],d[4][0])),-d[2][1]),T(m(_(d[3][0],d[4][1]),_(-d[3][1],d[4][0])),d[2][4]))),d[1][3]),T(m(T(m(_(d[3][1],d[4][3]),_(-d[3][3],d[4][1])),d[2][0]),m(T(m(_(d[3][0],d[4][3]),_(-d[3][3],d[4][0])),-d[2][1]),T(m(_(d[3][0],d[4][1]),_(-d[3][1],d[4][0])),d[2][3]))),-d[1][4]))),d[0][2]),m(T(m(m(T(m(T(m(_(d[3][2],d[4][4]),_(-d[3][4],d[4][2])),d[2][1]),m(T(m(_(d[3][1],d[4][4]),_(-d[3][4],d[4][1])),-d[2][2]),T(m(_(d[3][1],d[4][2]),_(-d[3][2],d[4][1])),d[2][4]))),d[1][0]),T(m(T(m(_(d[3][2],d[4][4]),_(-d[3][4],d[4][2])),d[2][0]),m(T(m(_(d[3][0],d[4][4]),_(-d[3][4],d[4][0])),-d[2][2]),T(m(_(d[3][0],d[4][2]),_(-d[3][2],d[4][0])),d[2][4]))),-d[1][1])),m(T(m(T(m(_(d[3][1],d[4][4]),_(-d[3][4],d[4][1])),d[2][0]),m(T(m(_(d[3][0],d[4][4]),_(-d[3][4],d[4][0])),-d[2][1]),T(m(_(d[3][0],d[4][1]),_(-d[3][1],d[4][0])),d[2][4]))),d[1][2]),T(m(T(m(_(d[3][1],d[4][2]),_(-d[3][2],d[4][1])),d[2][0]),m(T(m(_(d[3][0],d[4][2]),_(-d[3][2],d[4][0])),-d[2][1]),T(m(_(d[3][0],d[4][1]),_(-d[3][1],d[4][0])),d[2][2]))),-d[1][4]))),-d[0][3]),T(m(m(T(m(T(m(_(d[3][2],d[4][3]),_(-d[3][3],d[4][2])),d[2][1]),m(T(m(_(d[3][1],d[4][3]),_(-d[3][3],d[4][1])),-d[2][2]),T(m(_(d[3][1],d[4][2]),_(-d[3][2],d[4][1])),d[2][3]))),d[1][0]),T(m(T(m(_(d[3][2],d[4][3]),_(-d[3][3],d[4][2])),d[2][0]),m(T(m(_(d[3][0],d[4][3]),_(-d[3][3],d[4][0])),-d[2][2]),T(m(_(d[3][0],d[4][2]),_(-d[3][2],d[4][0])),d[2][3]))),-d[1][1])),m(T(m(T(m(_(d[3][1],d[4][3]),_(-d[3][3],d[4][1])),d[2][0]),m(T(m(_(d[3][0],d[4][3]),_(-d[3][3],d[4][0])),-d[2][1]),T(m(_(d[3][0],d[4][1]),_(-d[3][1],d[4][0])),d[2][3]))),d[1][2]),T(m(T(m(_(d[3][1],d[4][2]),_(-d[3][2],d[4][1])),d[2][0]),m(T(m(_(d[3][0],d[4][2]),_(-d[3][2],d[4][0])),-d[2][1]),T(m(_(d[3][0],d[4][1]),_(-d[3][1],d[4][0])),d[2][2]))),-d[1][3]))),d[0][4])))))}}function w(m){return(m===2?l:m===3?u:m===4?h:m===5?c:void 0)(r,i,o,a)}var g=[function(){return[0]},function(m){return[m[0][0]]}];function v(m,T,_,A,d,C,k,D){return function(O){switch(O.length){case 0:return m(O);case 1:return T(O);case 2:return _(O);case 3:return A(O);case 4:return d(O);case 5:return C(O)}var L=k[O.length];return L||(L=k[O.length]=D(O.length)),L(O)}}(function(){for(;g.length<6;)g.push(w(g.length));f.exports=v.apply(void 0,g.concat([g,w]));for(var m=0;m<g.length;++m)f.exports[m]=g[m]})()},1944:function(f,s,t){"use strict";var o=t(5250),r=t(8210);f.exports=function(i,a){for(var l=o(i[0],a[0]),u=1;u<i.length;++u)l=r(l,o(i[u],a[u]));return l}},2646:function(f,s,t){"use strict";var o=t(5250),r=t(8210),i=t(8545),a=t(3012);function l(T){return(T===3?u:T===4?h:T===5?c:w)(r,i,o,a)}function u(T,_,A,d){return function(C,k,D){var O=A(C[0],C[0]),L=d(O,k[0]),R=d(O,D[0]),z=A(k[0],k[0]),q=d(z,C[0]),N=d(z,D[0]),V=A(D[0],D[0]),Z=d(V,C[0]),j=d(V,k[0]),H=T(_(j,N),_(q,L)),Y=_(Z,R),ie=_(H,Y);return ie[ie.length-1]}}function h(T,_,A,d){return function(C,k,D,O){var L=T(A(C[0],C[0]),A(C[1],C[1])),R=d(L,k[0]),z=d(L,D[0]),q=d(L,O[0]),N=T(A(k[0],k[0]),A(k[1],k[1])),V=d(N,C[0]),Z=d(N,D[0]),j=d(N,O[0]),H=T(A(D[0],D[0]),A(D[1],D[1])),Y=d(H,C[0]),ie=d(H,k[0]),re=d(H,O[0]),ne=T(A(O[0],O[0]),A(O[1],O[1])),ee=d(ne,C[0]),Q=d(ne,k[0]),X=d(ne,D[0]),se=T(T(d(_(X,re),k[1]),T(d(_(Q,j),-D[1]),d(_(ie,Z),O[1]))),T(d(_(Q,j),C[1]),T(d(_(ee,q),-k[1]),d(_(V,R),O[1])))),ce=T(T(d(_(X,re),C[1]),T(d(_(ee,q),-D[1]),d(_(Y,z),O[1]))),T(d(_(ie,Z),C[1]),T(d(_(Y,z),-k[1]),d(_(V,R),D[1])))),le=_(se,ce);return le[le.length-1]}}function c(T,_,A,d){return function(C,k,D,O,L){var R=T(A(C[0],C[0]),T(A(C[1],C[1]),A(C[2],C[2]))),z=d(R,k[0]),q=d(R,D[0]),N=d(R,O[0]),V=d(R,L[0]),Z=T(A(k[0],k[0]),T(A(k[1],k[1]),A(k[2],k[2]))),j=d(Z,C[0]),H=d(Z,D[0]),Y=d(Z,O[0]),ie=d(Z,L[0]),re=T(A(D[0],D[0]),T(A(D[1],D[1]),A(D[2],D[2]))),ne=d(re,C[0]),ee=d(re,k[0]),Q=d(re,O[0]),X=d(re,L[0]),se=T(A(O[0],O[0]),T(A(O[1],O[1]),A(O[2],O[2]))),ce=d(se,C[0]),le=d(se,k[0]),de=d(se,D[0]),be=d(se,L[0]),_e=T(A(L[0],L[0]),T(A(L[1],L[1]),A(L[2],L[2]))),ve=d(_e,C[0]),me=d(_e,k[0]),ye=d(_e,D[0]),Se=d(_e,O[0]),Ie=T(T(T(d(T(d(_(Se,be),D[1]),T(d(_(ye,X),-O[1]),d(_(de,Q),L[1]))),k[2]),T(d(T(d(_(Se,be),k[1]),T(d(_(me,ie),-O[1]),d(_(le,Y),L[1]))),-D[2]),d(T(d(_(ye,X),k[1]),T(d(_(me,ie),-D[1]),d(_(ee,H),L[1]))),O[2]))),T(d(T(d(_(de,Q),k[1]),T(d(_(le,Y),-D[1]),d(_(ee,H),O[1]))),-L[2]),T(d(T(d(_(Se,be),k[1]),T(d(_(me,ie),-O[1]),d(_(le,Y),L[1]))),C[2]),d(T(d(_(Se,be),C[1]),T(d(_(ve,V),-O[1]),d(_(ce,N),L[1]))),-k[2])))),T(T(d(T(d(_(me,ie),C[1]),T(d(_(ve,V),-k[1]),d(_(j,z),L[1]))),O[2]),T(d(T(d(_(le,Y),C[1]),T(d(_(ce,N),-k[1]),d(_(j,z),O[1]))),-L[2]),d(T(d(_(de,Q),k[1]),T(d(_(le,Y),-D[1]),d(_(ee,H),O[1]))),C[2]))),T(d(T(d(_(de,Q),C[1]),T(d(_(ce,N),-D[1]),d(_(ne,q),O[1]))),-k[2]),T(d(T(d(_(le,Y),C[1]),T(d(_(ce,N),-k[1]),d(_(j,z),O[1]))),D[2]),d(T(d(_(ee,H),C[1]),T(d(_(ne,q),-k[1]),d(_(j,z),D[1]))),-O[2]))))),xe=T(T(T(d(T(d(_(Se,be),D[1]),T(d(_(ye,X),-O[1]),d(_(de,Q),L[1]))),C[2]),d(T(d(_(Se,be),C[1]),T(d(_(ve,V),-O[1]),d(_(ce,N),L[1]))),-D[2])),T(d(T(d(_(ye,X),C[1]),T(d(_(ve,V),-D[1]),d(_(ne,q),L[1]))),O[2]),d(T(d(_(de,Q),C[1]),T(d(_(ce,N),-D[1]),d(_(ne,q),O[1]))),-L[2]))),T(T(d(T(d(_(ye,X),k[1]),T(d(_(me,ie),-D[1]),d(_(ee,H),L[1]))),C[2]),d(T(d(_(ye,X),C[1]),T(d(_(ve,V),-D[1]),d(_(ne,q),L[1]))),-k[2])),T(d(T(d(_(me,ie),C[1]),T(d(_(ve,V),-k[1]),d(_(j,z),L[1]))),D[2]),d(T(d(_(ee,H),C[1]),T(d(_(ne,q),-k[1]),d(_(j,z),D[1]))),-L[2])))),ue=_(Ie,xe);return ue[ue.length-1]}}function w(T,_,A,d){return function(C,k,D,O,L,R){var z=T(T(A(C[0],C[0]),A(C[1],C[1])),T(A(C[2],C[2]),A(C[3],C[3]))),q=d(z,k[0]),N=d(z,D[0]),V=d(z,O[0]),Z=d(z,L[0]),j=d(z,R[0]),H=T(T(A(k[0],k[0]),A(k[1],k[1])),T(A(k[2],k[2]),A(k[3],k[3]))),Y=d(H,C[0]),ie=d(H,D[0]),re=d(H,O[0]),ne=d(H,L[0]),ee=d(H,R[0]),Q=T(T(A(D[0],D[0]),A(D[1],D[1])),T(A(D[2],D[2]),A(D[3],D[3]))),X=d(Q,C[0]),se=d(Q,k[0]),ce=d(Q,O[0]),le=d(Q,L[0]),de=d(Q,R[0]),be=T(T(A(O[0],O[0]),A(O[1],O[1])),T(A(O[2],O[2]),A(O[3],O[3]))),_e=d(be,C[0]),ve=d(be,k[0]),me=d(be,D[0]),ye=d(be,L[0]),Se=d(be,R[0]),Ie=T(T(A(L[0],L[0]),A(L[1],L[1])),T(A(L[2],L[2]),A(L[3],L[3]))),xe=d(Ie,C[0]),ue=d(Ie,k[0]),ae=d(Ie,D[0]),pe=d(Ie,O[0]),De=d(Ie,R[0]),Te=T(T(A(R[0],R[0]),A(R[1],R[1])),T(A(R[2],R[2]),A(R[3],R[3]))),Ae=d(Te,C[0]),Ce=d(Te,k[0]),Re=d(Te,D[0]),Ne=d(Te,O[0]),ge=d(Te,L[0]),Me=T(T(T(d(T(T(d(T(d(_(ge,De),O[1]),T(d(_(Ne,Se),-L[1]),d(_(pe,ye),R[1]))),D[2]),d(T(d(_(ge,De),D[1]),T(d(_(Re,de),-L[1]),d(_(ae,le),R[1]))),-O[2])),T(d(T(d(_(Ne,Se),D[1]),T(d(_(Re,de),-O[1]),d(_(me,ce),R[1]))),L[2]),d(T(d(_(pe,ye),D[1]),T(d(_(ae,le),-O[1]),d(_(me,ce),L[1]))),-R[2]))),k[3]),T(d(T(T(d(T(d(_(ge,De),O[1]),T(d(_(Ne,Se),-L[1]),d(_(pe,ye),R[1]))),k[2]),d(T(d(_(ge,De),k[1]),T(d(_(Ce,ee),-L[1]),d(_(ue,ne),R[1]))),-O[2])),T(d(T(d(_(Ne,Se),k[1]),T(d(_(Ce,ee),-O[1]),d(_(ve,re),R[1]))),L[2]),d(T(d(_(pe,ye),k[1]),T(d(_(ue,ne),-O[1]),d(_(ve,re),L[1]))),-R[2]))),-D[3]),d(T(T(d(T(d(_(ge,De),D[1]),T(d(_(Re,de),-L[1]),d(_(ae,le),R[1]))),k[2]),d(T(d(_(ge,De),k[1]),T(d(_(Ce,ee),-L[1]),d(_(ue,ne),R[1]))),-D[2])),T(d(T(d(_(Re,de),k[1]),T(d(_(Ce,ee),-D[1]),d(_(se,ie),R[1]))),L[2]),d(T(d(_(ae,le),k[1]),T(d(_(ue,ne),-D[1]),d(_(se,ie),L[1]))),-R[2]))),O[3]))),T(T(d(T(T(d(T(d(_(Ne,Se),D[1]),T(d(_(Re,de),-O[1]),d(_(me,ce),R[1]))),k[2]),d(T(d(_(Ne,Se),k[1]),T(d(_(Ce,ee),-O[1]),d(_(ve,re),R[1]))),-D[2])),T(d(T(d(_(Re,de),k[1]),T(d(_(Ce,ee),-D[1]),d(_(se,ie),R[1]))),O[2]),d(T(d(_(me,ce),k[1]),T(d(_(ve,re),-D[1]),d(_(se,ie),O[1]))),-R[2]))),-L[3]),d(T(T(d(T(d(_(pe,ye),D[1]),T(d(_(ae,le),-O[1]),d(_(me,ce),L[1]))),k[2]),d(T(d(_(pe,ye),k[1]),T(d(_(ue,ne),-O[1]),d(_(ve,re),L[1]))),-D[2])),T(d(T(d(_(ae,le),k[1]),T(d(_(ue,ne),-D[1]),d(_(se,ie),L[1]))),O[2]),d(T(d(_(me,ce),k[1]),T(d(_(ve,re),-D[1]),d(_(se,ie),O[1]))),-L[2]))),R[3])),T(d(T(T(d(T(d(_(ge,De),O[1]),T(d(_(Ne,Se),-L[1]),d(_(pe,ye),R[1]))),k[2]),d(T(d(_(ge,De),k[1]),T(d(_(Ce,ee),-L[1]),d(_(ue,ne),R[1]))),-O[2])),T(d(T(d(_(Ne,Se),k[1]),T(d(_(Ce,ee),-O[1]),d(_(ve,re),R[1]))),L[2]),d(T(d(_(pe,ye),k[1]),T(d(_(ue,ne),-O[1]),d(_(ve,re),L[1]))),-R[2]))),C[3]),d(T(T(d(T(d(_(ge,De),O[1]),T(d(_(Ne,Se),-L[1]),d(_(pe,ye),R[1]))),C[2]),d(T(d(_(ge,De),C[1]),T(d(_(Ae,j),-L[1]),d(_(xe,Z),R[1]))),-O[2])),T(d(T(d(_(Ne,Se),C[1]),T(d(_(Ae,j),-O[1]),d(_(_e,V),R[1]))),L[2]),d(T(d(_(pe,ye),C[1]),T(d(_(xe,Z),-O[1]),d(_(_e,V),L[1]))),-R[2]))),-k[3])))),T(T(T(d(T(T(d(T(d(_(ge,De),k[1]),T(d(_(Ce,ee),-L[1]),d(_(ue,ne),R[1]))),C[2]),d(T(d(_(ge,De),C[1]),T(d(_(Ae,j),-L[1]),d(_(xe,Z),R[1]))),-k[2])),T(d(T(d(_(Ce,ee),C[1]),T(d(_(Ae,j),-k[1]),d(_(Y,q),R[1]))),L[2]),d(T(d(_(ue,ne),C[1]),T(d(_(xe,Z),-k[1]),d(_(Y,q),L[1]))),-R[2]))),O[3]),d(T(T(d(T(d(_(Ne,Se),k[1]),T(d(_(Ce,ee),-O[1]),d(_(ve,re),R[1]))),C[2]),d(T(d(_(Ne,Se),C[1]),T(d(_(Ae,j),-O[1]),d(_(_e,V),R[1]))),-k[2])),T(d(T(d(_(Ce,ee),C[1]),T(d(_(Ae,j),-k[1]),d(_(Y,q),R[1]))),O[2]),d(T(d(_(ve,re),C[1]),T(d(_(_e,V),-k[1]),d(_(Y,q),O[1]))),-R[2]))),-L[3])),T(d(T(T(d(T(d(_(pe,ye),k[1]),T(d(_(ue,ne),-O[1]),d(_(ve,re),L[1]))),C[2]),d(T(d(_(pe,ye),C[1]),T(d(_(xe,Z),-O[1]),d(_(_e,V),L[1]))),-k[2])),T(d(T(d(_(ue,ne),C[1]),T(d(_(xe,Z),-k[1]),d(_(Y,q),L[1]))),O[2]),d(T(d(_(ve,re),C[1]),T(d(_(_e,V),-k[1]),d(_(Y,q),O[1]))),-L[2]))),R[3]),d(T(T(d(T(d(_(Ne,Se),D[1]),T(d(_(Re,de),-O[1]),d(_(me,ce),R[1]))),k[2]),d(T(d(_(Ne,Se),k[1]),T(d(_(Ce,ee),-O[1]),d(_(ve,re),R[1]))),-D[2])),T(d(T(d(_(Re,de),k[1]),T(d(_(Ce,ee),-D[1]),d(_(se,ie),R[1]))),O[2]),d(T(d(_(me,ce),k[1]),T(d(_(ve,re),-D[1]),d(_(se,ie),O[1]))),-R[2]))),C[3]))),T(T(d(T(T(d(T(d(_(Ne,Se),D[1]),T(d(_(Re,de),-O[1]),d(_(me,ce),R[1]))),C[2]),d(T(d(_(Ne,Se),C[1]),T(d(_(Ae,j),-O[1]),d(_(_e,V),R[1]))),-D[2])),T(d(T(d(_(Re,de),C[1]),T(d(_(Ae,j),-D[1]),d(_(X,N),R[1]))),O[2]),d(T(d(_(me,ce),C[1]),T(d(_(_e,V),-D[1]),d(_(X,N),O[1]))),-R[2]))),-k[3]),d(T(T(d(T(d(_(Ne,Se),k[1]),T(d(_(Ce,ee),-O[1]),d(_(ve,re),R[1]))),C[2]),d(T(d(_(Ne,Se),C[1]),T(d(_(Ae,j),-O[1]),d(_(_e,V),R[1]))),-k[2])),T(d(T(d(_(Ce,ee),C[1]),T(d(_(Ae,j),-k[1]),d(_(Y,q),R[1]))),O[2]),d(T(d(_(ve,re),C[1]),T(d(_(_e,V),-k[1]),d(_(Y,q),O[1]))),-R[2]))),D[3])),T(d(T(T(d(T(d(_(Re,de),k[1]),T(d(_(Ce,ee),-D[1]),d(_(se,ie),R[1]))),C[2]),d(T(d(_(Re,de),C[1]),T(d(_(Ae,j),-D[1]),d(_(X,N),R[1]))),-k[2])),T(d(T(d(_(Ce,ee),C[1]),T(d(_(Ae,j),-k[1]),d(_(Y,q),R[1]))),D[2]),d(T(d(_(se,ie),C[1]),T(d(_(X,N),-k[1]),d(_(Y,q),D[1]))),-R[2]))),-O[3]),d(T(T(d(T(d(_(me,ce),k[1]),T(d(_(ve,re),-D[1]),d(_(se,ie),O[1]))),C[2]),d(T(d(_(me,ce),C[1]),T(d(_(_e,V),-D[1]),d(_(X,N),O[1]))),-k[2])),T(d(T(d(_(ve,re),C[1]),T(d(_(_e,V),-k[1]),d(_(Y,q),O[1]))),D[2]),d(T(d(_(se,ie),C[1]),T(d(_(X,N),-k[1]),d(_(Y,q),D[1]))),-O[2]))),R[3]))))),Ee=T(T(T(d(T(T(d(T(d(_(ge,De),O[1]),T(d(_(Ne,Se),-L[1]),d(_(pe,ye),R[1]))),D[2]),d(T(d(_(ge,De),D[1]),T(d(_(Re,de),-L[1]),d(_(ae,le),R[1]))),-O[2])),T(d(T(d(_(Ne,Se),D[1]),T(d(_(Re,de),-O[1]),d(_(me,ce),R[1]))),L[2]),d(T(d(_(pe,ye),D[1]),T(d(_(ae,le),-O[1]),d(_(me,ce),L[1]))),-R[2]))),C[3]),T(d(T(T(d(T(d(_(ge,De),O[1]),T(d(_(Ne,Se),-L[1]),d(_(pe,ye),R[1]))),C[2]),d(T(d(_(ge,De),C[1]),T(d(_(Ae,j),-L[1]),d(_(xe,Z),R[1]))),-O[2])),T(d(T(d(_(Ne,Se),C[1]),T(d(_(Ae,j),-O[1]),d(_(_e,V),R[1]))),L[2]),d(T(d(_(pe,ye),C[1]),T(d(_(xe,Z),-O[1]),d(_(_e,V),L[1]))),-R[2]))),-D[3]),d(T(T(d(T(d(_(ge,De),D[1]),T(d(_(Re,de),-L[1]),d(_(ae,le),R[1]))),C[2]),d(T(d(_(ge,De),C[1]),T(d(_(Ae,j),-L[1]),d(_(xe,Z),R[1]))),-D[2])),T(d(T(d(_(Re,de),C[1]),T(d(_(Ae,j),-D[1]),d(_(X,N),R[1]))),L[2]),d(T(d(_(ae,le),C[1]),T(d(_(xe,Z),-D[1]),d(_(X,N),L[1]))),-R[2]))),O[3]))),T(T(d(T(T(d(T(d(_(Ne,Se),D[1]),T(d(_(Re,de),-O[1]),d(_(me,ce),R[1]))),C[2]),d(T(d(_(Ne,Se),C[1]),T(d(_(Ae,j),-O[1]),d(_(_e,V),R[1]))),-D[2])),T(d(T(d(_(Re,de),C[1]),T(d(_(Ae,j),-D[1]),d(_(X,N),R[1]))),O[2]),d(T(d(_(me,ce),C[1]),T(d(_(_e,V),-D[1]),d(_(X,N),O[1]))),-R[2]))),-L[3]),d(T(T(d(T(d(_(pe,ye),D[1]),T(d(_(ae,le),-O[1]),d(_(me,ce),L[1]))),C[2]),d(T(d(_(pe,ye),C[1]),T(d(_(xe,Z),-O[1]),d(_(_e,V),L[1]))),-D[2])),T(d(T(d(_(ae,le),C[1]),T(d(_(xe,Z),-D[1]),d(_(X,N),L[1]))),O[2]),d(T(d(_(me,ce),C[1]),T(d(_(_e,V),-D[1]),d(_(X,N),O[1]))),-L[2]))),R[3])),T(d(T(T(d(T(d(_(ge,De),D[1]),T(d(_(Re,de),-L[1]),d(_(ae,le),R[1]))),k[2]),d(T(d(_(ge,De),k[1]),T(d(_(Ce,ee),-L[1]),d(_(ue,ne),R[1]))),-D[2])),T(d(T(d(_(Re,de),k[1]),T(d(_(Ce,ee),-D[1]),d(_(se,ie),R[1]))),L[2]),d(T(d(_(ae,le),k[1]),T(d(_(ue,ne),-D[1]),d(_(se,ie),L[1]))),-R[2]))),C[3]),d(T(T(d(T(d(_(ge,De),D[1]),T(d(_(Re,de),-L[1]),d(_(ae,le),R[1]))),C[2]),d(T(d(_(ge,De),C[1]),T(d(_(Ae,j),-L[1]),d(_(xe,Z),R[1]))),-D[2])),T(d(T(d(_(Re,de),C[1]),T(d(_(Ae,j),-D[1]),d(_(X,N),R[1]))),L[2]),d(T(d(_(ae,le),C[1]),T(d(_(xe,Z),-D[1]),d(_(X,N),L[1]))),-R[2]))),-k[3])))),T(T(T(d(T(T(d(T(d(_(ge,De),k[1]),T(d(_(Ce,ee),-L[1]),d(_(ue,ne),R[1]))),C[2]),d(T(d(_(ge,De),C[1]),T(d(_(Ae,j),-L[1]),d(_(xe,Z),R[1]))),-k[2])),T(d(T(d(_(Ce,ee),C[1]),T(d(_(Ae,j),-k[1]),d(_(Y,q),R[1]))),L[2]),d(T(d(_(ue,ne),C[1]),T(d(_(xe,Z),-k[1]),d(_(Y,q),L[1]))),-R[2]))),D[3]),d(T(T(d(T(d(_(Re,de),k[1]),T(d(_(Ce,ee),-D[1]),d(_(se,ie),R[1]))),C[2]),d(T(d(_(Re,de),C[1]),T(d(_(Ae,j),-D[1]),d(_(X,N),R[1]))),-k[2])),T(d(T(d(_(Ce,ee),C[1]),T(d(_(Ae,j),-k[1]),d(_(Y,q),R[1]))),D[2]),d(T(d(_(se,ie),C[1]),T(d(_(X,N),-k[1]),d(_(Y,q),D[1]))),-R[2]))),-L[3])),T(d(T(T(d(T(d(_(ae,le),k[1]),T(d(_(ue,ne),-D[1]),d(_(se,ie),L[1]))),C[2]),d(T(d(_(ae,le),C[1]),T(d(_(xe,Z),-D[1]),d(_(X,N),L[1]))),-k[2])),T(d(T(d(_(ue,ne),C[1]),T(d(_(xe,Z),-k[1]),d(_(Y,q),L[1]))),D[2]),d(T(d(_(se,ie),C[1]),T(d(_(X,N),-k[1]),d(_(Y,q),D[1]))),-L[2]))),R[3]),d(T(T(d(T(d(_(pe,ye),D[1]),T(d(_(ae,le),-O[1]),d(_(me,ce),L[1]))),k[2]),d(T(d(_(pe,ye),k[1]),T(d(_(ue,ne),-O[1]),d(_(ve,re),L[1]))),-D[2])),T(d(T(d(_(ae,le),k[1]),T(d(_(ue,ne),-D[1]),d(_(se,ie),L[1]))),O[2]),d(T(d(_(me,ce),k[1]),T(d(_(ve,re),-D[1]),d(_(se,ie),O[1]))),-L[2]))),C[3]))),T(T(d(T(T(d(T(d(_(pe,ye),D[1]),T(d(_(ae,le),-O[1]),d(_(me,ce),L[1]))),C[2]),d(T(d(_(pe,ye),C[1]),T(d(_(xe,Z),-O[1]),d(_(_e,V),L[1]))),-D[2])),T(d(T(d(_(ae,le),C[1]),T(d(_(xe,Z),-D[1]),d(_(X,N),L[1]))),O[2]),d(T(d(_(me,ce),C[1]),T(d(_(_e,V),-D[1]),d(_(X,N),O[1]))),-L[2]))),-k[3]),d(T(T(d(T(d(_(pe,ye),k[1]),T(d(_(ue,ne),-O[1]),d(_(ve,re),L[1]))),C[2]),d(T(d(_(pe,ye),C[1]),T(d(_(xe,Z),-O[1]),d(_(_e,V),L[1]))),-k[2])),T(d(T(d(_(ue,ne),C[1]),T(d(_(xe,Z),-k[1]),d(_(Y,q),L[1]))),O[2]),d(T(d(_(ve,re),C[1]),T(d(_(_e,V),-k[1]),d(_(Y,q),O[1]))),-L[2]))),D[3])),T(d(T(T(d(T(d(_(ae,le),k[1]),T(d(_(ue,ne),-D[1]),d(_(se,ie),L[1]))),C[2]),d(T(d(_(ae,le),C[1]),T(d(_(xe,Z),-D[1]),d(_(X,N),L[1]))),-k[2])),T(d(T(d(_(ue,ne),C[1]),T(d(_(xe,Z),-k[1]),d(_(Y,q),L[1]))),D[2]),d(T(d(_(se,ie),C[1]),T(d(_(X,N),-k[1]),d(_(Y,q),D[1]))),-L[2]))),-O[3]),d(T(T(d(T(d(_(me,ce),k[1]),T(d(_(ve,re),-D[1]),d(_(se,ie),O[1]))),C[2]),d(T(d(_(me,ce),C[1]),T(d(_(_e,V),-D[1]),d(_(X,N),O[1]))),-k[2])),T(d(T(d(_(ve,re),C[1]),T(d(_(_e,V),-k[1]),d(_(Y,q),O[1]))),D[2]),d(T(d(_(se,ie),C[1]),T(d(_(X,N),-k[1]),d(_(Y,q),D[1]))),-O[2]))),L[3]))))),Fe=_(Me,Ee);return Fe[Fe.length-1]}}var g=[function(){return 0},function(){return 0},function(){return 0}];function v(T){var _=g[T.length];return _||(_=g[T.length]=l(T.length)),_.apply(void 0,T)}function m(T,_,A,d,C,k,D,O){return function(L,R,z,q,N,V){switch(arguments.length){case 0:case 1:return 0;case 2:return d(L,R);case 3:return C(L,R,z);case 4:return k(L,R,z,q);case 5:return D(L,R,z,q,N);case 6:return O(L,R,z,q,N,V)}for(var Z=new Array(arguments.length),j=0;j<arguments.length;++j)Z[j]=arguments[j];return T(Z)}}(function(){for(;g.length<=6;)g.push(l(g.length));f.exports=m.apply(void 0,[v].concat(g));for(var T=0;T<=6;++T)f.exports[T]=g[T]})()},727:function(f,s,t){"use strict";var o=t(2962);function r(g){return(g===2?i:g===3?a:g===4?l:g===5?u:h)(g<6?o[g]:o)}function i(g){return function(v,m){return[g([[+m[0],+v[0][1]],[+m[1],+v[1][1]]]),g([[+v[0][0],+m[0]],[+v[1][0],+m[1]]]),g(v)]}}function a(g){return function(v,m){return[g([[+m[0],+v[0][1],+v[0][2]],[+m[1],+v[1][1],+v[1][2]],[+m[2],+v[2][1],+v[2][2]]]),g([[+v[0][0],+m[0],+v[0][2]],[+v[1][0],+m[1],+v[1][2]],[+v[2][0],+m[2],+v[2][2]]]),g([[+v[0][0],+v[0][1],+m[0]],[+v[1][0],+v[1][1],+m[1]],[+v[2][0],+v[2][1],+m[2]]]),g(v)]}}function l(g){return function(v,m){return[g([[+m[0],+v[0][1],+v[0][2],+v[0][3]],[+m[1],+v[1][1],+v[1][2],+v[1][3]],[+m[2],+v[2][1],+v[2][2],+v[2][3]],[+m[3],+v[3][1],+v[3][2],+v[3][3]]]),g([[+v[0][0],+m[0],+v[0][2],+v[0][3]],[+v[1][0],+m[1],+v[1][2],+v[1][3]],[+v[2][0],+m[2],+v[2][2],+v[2][3]],[+v[3][0],+m[3],+v[3][2],+v[3][3]]]),g([[+v[0][0],+v[0][1],+m[0],+v[0][3]],[+v[1][0],+v[1][1],+m[1],+v[1][3]],[+v[2][0],+v[2][1],+m[2],+v[2][3]],[+v[3][0],+v[3][1],+m[3],+v[3][3]]]),g([[+v[0][0],+v[0][1],+v[0][2],+m[0]],[+v[1][0],+v[1][1],+v[1][2],+m[1]],[+v[2][0],+v[2][1],+v[2][2],+m[2]],[+v[3][0],+v[3][1],+v[3][2],+m[3]]]),g(v)]}}function u(g){return function(v,m){return[g([[+m[0],+v[0][1],+v[0][2],+v[0][3],+v[0][4]],[+m[1],+v[1][1],+v[1][2],+v[1][3],+v[1][4]],[+m[2],+v[2][1],+v[2][2],+v[2][3],+v[2][4]],[+m[3],+v[3][1],+v[3][2],+v[3][3],+v[3][4]],[+m[4],+v[4][1],+v[4][2],+v[4][3],+v[4][4]]]),g([[+v[0][0],+m[0],+v[0][2],+v[0][3],+v[0][4]],[+v[1][0],+m[1],+v[1][2],+v[1][3],+v[1][4]],[+v[2][0],+m[2],+v[2][2],+v[2][3],+v[2][4]],[+v[3][0],+m[3],+v[3][2],+v[3][3],+v[3][4]],[+v[4][0],+m[4],+v[4][2],+v[4][3],+v[4][4]]]),g([[+v[0][0],+v[0][1],+m[0],+v[0][3],+v[0][4]],[+v[1][0],+v[1][1],+m[1],+v[1][3],+v[1][4]],[+v[2][0],+v[2][1],+m[2],+v[2][3],+v[2][4]],[+v[3][0],+v[3][1],+m[3],+v[3][3],+v[3][4]],[+v[4][0],+v[4][1],+m[4],+v[4][3],+v[4][4]]]),g([[+v[0][0],+v[0][1],+v[0][2],+m[0],+v[0][4]],[+v[1][0],+v[1][1],+v[1][2],+m[1],+v[1][4]],[+v[2][0],+v[2][1],+v[2][2],+m[2],+v[2][4]],[+v[3][0],+v[3][1],+v[3][2],+m[3],+v[3][4]],[+v[4][0],+v[4][1],+v[4][2],+m[4],+v[4][4]]]),g([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+m[0]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+m[1]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+m[2]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+m[3]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+m[4]]]),g(v)]}}function h(g){return function(v,m){return[g([[+m[0],+v[0][1],+v[0][2],+v[0][3],+v[0][4],+v[0][5]],[+m[1],+v[1][1],+v[1][2],+v[1][3],+v[1][4],+v[1][5]],[+m[2],+v[2][1],+v[2][2],+v[2][3],+v[2][4],+v[2][5]],[+m[3],+v[3][1],+v[3][2],+v[3][3],+v[3][4],+v[3][5]],[+m[4],+v[4][1],+v[4][2],+v[4][3],+v[4][4],+v[4][5]],[+m[5],+v[5][1],+v[5][2],+v[5][3],+v[5][4],+v[5][5]]]),g([[+v[0][0],+m[0],+v[0][2],+v[0][3],+v[0][4],+v[0][5]],[+v[1][0],+m[1],+v[1][2],+v[1][3],+v[1][4],+v[1][5]],[+v[2][0],+m[2],+v[2][2],+v[2][3],+v[2][4],+v[2][5]],[+v[3][0],+m[3],+v[3][2],+v[3][3],+v[3][4],+v[3][5]],[+v[4][0],+m[4],+v[4][2],+v[4][3],+v[4][4],+v[4][5]],[+v[5][0],+m[5],+v[5][2],+v[5][3],+v[5][4],+v[5][5]]]),g([[+v[0][0],+v[0][1],+m[0],+v[0][3],+v[0][4],+v[0][5]],[+v[1][0],+v[1][1],+m[1],+v[1][3],+v[1][4],+v[1][5]],[+v[2][0],+v[2][1],+m[2],+v[2][3],+v[2][4],+v[2][5]],[+v[3][0],+v[3][1],+m[3],+v[3][3],+v[3][4],+v[3][5]],[+v[4][0],+v[4][1],+m[4],+v[4][3],+v[4][4],+v[4][5]],[+v[5][0],+v[5][1],+m[5],+v[5][3],+v[5][4],+v[5][5]]]),g([[+v[0][0],+v[0][1],+v[0][2],+m[0],+v[0][4],+v[0][5]],[+v[1][0],+v[1][1],+v[1][2],+m[1],+v[1][4],+v[1][5]],[+v[2][0],+v[2][1],+v[2][2],+m[2],+v[2][4],+v[2][5]],[+v[3][0],+v[3][1],+v[3][2],+m[3],+v[3][4],+v[3][5]],[+v[4][0],+v[4][1],+v[4][2],+m[4],+v[4][4],+v[4][5]],[+v[5][0],+v[5][1],+v[5][2],+m[5],+v[5][4],+v[5][5]]]),g([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+m[0],+v[0][5]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+m[1],+v[1][5]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+m[2],+v[2][5]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+m[3],+v[3][5]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+m[4],+v[4][5]],[+v[5][0],+v[5][1],+v[5][2],+v[5][3],+m[5],+v[5][5]]]),g([[+v[0][0],+v[0][1],+v[0][2],+v[0][3],+v[0][4],+m[0]],[+v[1][0],+v[1][1],+v[1][2],+v[1][3],+v[1][4],+m[1]],[+v[2][0],+v[2][1],+v[2][2],+v[2][3],+v[2][4],+m[2]],[+v[3][0],+v[3][1],+v[3][2],+v[3][3],+v[3][4],+m[3]],[+v[4][0],+v[4][1],+v[4][2],+v[4][3],+v[4][4],+m[4]],[+v[5][0],+v[5][1],+v[5][2],+v[5][3],+v[5][4],+m[5]]]),g(v)]}}var c=[function(){return[[0]]},function(g,v){return[[v[0]],[g[0][0]]]}];function w(g,v,m,T,_,A,d,C){return function(k,D){switch(k.length){case 0:return g(k,D);case 1:return v(k,D);case 2:return m(k,D);case 3:return T(k,D);case 4:return _(k,D);case 5:return A(k,D)}var O=d[k.length];return O||(O=d[k.length]=C(k.length)),O(k,D)}}(function(){for(;c.length<6;)c.push(r(c.length));f.exports=w.apply(void 0,c.concat([c,r]));for(var g=0;g<6;++g)f.exports[g]=c[g]})()},3250:function(f,s,t){"use strict";var o=t(5250),r=t(8210),i=t(3012),a=t(8545);function l(_,A,d,C){return function(k,D,O){var L=_(_(A(D[1],O[0]),A(-O[1],D[0])),_(A(k[1],D[0]),A(-D[1],k[0]))),R=_(A(k[1],O[0]),A(-O[1],k[0])),z=C(L,R);return z[z.length-1]}}function u(_,A,d,C){return function(k,D,O,L){var R=_(_(d(_(A(O[1],L[0]),A(-L[1],O[0])),D[2]),_(d(_(A(D[1],L[0]),A(-L[1],D[0])),-O[2]),d(_(A(D[1],O[0]),A(-O[1],D[0])),L[2]))),_(d(_(A(D[1],L[0]),A(-L[1],D[0])),k[2]),_(d(_(A(k[1],L[0]),A(-L[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),L[2])))),z=_(_(d(_(A(O[1],L[0]),A(-L[1],O[0])),k[2]),_(d(_(A(k[1],L[0]),A(-L[1],k[0])),-O[2]),d(_(A(k[1],O[0]),A(-O[1],k[0])),L[2]))),_(d(_(A(D[1],O[0]),A(-O[1],D[0])),k[2]),_(d(_(A(k[1],O[0]),A(-O[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),O[2])))),q=C(R,z);return q[q.length-1]}}function h(_,A,d,C){return function(k,D,O,L,R){var z=_(_(_(d(_(d(_(A(L[1],R[0]),A(-R[1],L[0])),O[2]),_(d(_(A(O[1],R[0]),A(-R[1],O[0])),-L[2]),d(_(A(O[1],L[0]),A(-L[1],O[0])),R[2]))),D[3]),_(d(_(d(_(A(L[1],R[0]),A(-R[1],L[0])),D[2]),_(d(_(A(D[1],R[0]),A(-R[1],D[0])),-L[2]),d(_(A(D[1],L[0]),A(-L[1],D[0])),R[2]))),-O[3]),d(_(d(_(A(O[1],R[0]),A(-R[1],O[0])),D[2]),_(d(_(A(D[1],R[0]),A(-R[1],D[0])),-O[2]),d(_(A(D[1],O[0]),A(-O[1],D[0])),R[2]))),L[3]))),_(d(_(d(_(A(O[1],L[0]),A(-L[1],O[0])),D[2]),_(d(_(A(D[1],L[0]),A(-L[1],D[0])),-O[2]),d(_(A(D[1],O[0]),A(-O[1],D[0])),L[2]))),-R[3]),_(d(_(d(_(A(L[1],R[0]),A(-R[1],L[0])),D[2]),_(d(_(A(D[1],R[0]),A(-R[1],D[0])),-L[2]),d(_(A(D[1],L[0]),A(-L[1],D[0])),R[2]))),k[3]),d(_(d(_(A(L[1],R[0]),A(-R[1],L[0])),k[2]),_(d(_(A(k[1],R[0]),A(-R[1],k[0])),-L[2]),d(_(A(k[1],L[0]),A(-L[1],k[0])),R[2]))),-D[3])))),_(_(d(_(d(_(A(D[1],R[0]),A(-R[1],D[0])),k[2]),_(d(_(A(k[1],R[0]),A(-R[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),R[2]))),L[3]),_(d(_(d(_(A(D[1],L[0]),A(-L[1],D[0])),k[2]),_(d(_(A(k[1],L[0]),A(-L[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),L[2]))),-R[3]),d(_(d(_(A(O[1],L[0]),A(-L[1],O[0])),D[2]),_(d(_(A(D[1],L[0]),A(-L[1],D[0])),-O[2]),d(_(A(D[1],O[0]),A(-O[1],D[0])),L[2]))),k[3]))),_(d(_(d(_(A(O[1],L[0]),A(-L[1],O[0])),k[2]),_(d(_(A(k[1],L[0]),A(-L[1],k[0])),-O[2]),d(_(A(k[1],O[0]),A(-O[1],k[0])),L[2]))),-D[3]),_(d(_(d(_(A(D[1],L[0]),A(-L[1],D[0])),k[2]),_(d(_(A(k[1],L[0]),A(-L[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),L[2]))),O[3]),d(_(d(_(A(D[1],O[0]),A(-O[1],D[0])),k[2]),_(d(_(A(k[1],O[0]),A(-O[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),O[2]))),-L[3]))))),q=_(_(_(d(_(d(_(A(L[1],R[0]),A(-R[1],L[0])),O[2]),_(d(_(A(O[1],R[0]),A(-R[1],O[0])),-L[2]),d(_(A(O[1],L[0]),A(-L[1],O[0])),R[2]))),k[3]),d(_(d(_(A(L[1],R[0]),A(-R[1],L[0])),k[2]),_(d(_(A(k[1],R[0]),A(-R[1],k[0])),-L[2]),d(_(A(k[1],L[0]),A(-L[1],k[0])),R[2]))),-O[3])),_(d(_(d(_(A(O[1],R[0]),A(-R[1],O[0])),k[2]),_(d(_(A(k[1],R[0]),A(-R[1],k[0])),-O[2]),d(_(A(k[1],O[0]),A(-O[1],k[0])),R[2]))),L[3]),d(_(d(_(A(O[1],L[0]),A(-L[1],O[0])),k[2]),_(d(_(A(k[1],L[0]),A(-L[1],k[0])),-O[2]),d(_(A(k[1],O[0]),A(-O[1],k[0])),L[2]))),-R[3]))),_(_(d(_(d(_(A(O[1],R[0]),A(-R[1],O[0])),D[2]),_(d(_(A(D[1],R[0]),A(-R[1],D[0])),-O[2]),d(_(A(D[1],O[0]),A(-O[1],D[0])),R[2]))),k[3]),d(_(d(_(A(O[1],R[0]),A(-R[1],O[0])),k[2]),_(d(_(A(k[1],R[0]),A(-R[1],k[0])),-O[2]),d(_(A(k[1],O[0]),A(-O[1],k[0])),R[2]))),-D[3])),_(d(_(d(_(A(D[1],R[0]),A(-R[1],D[0])),k[2]),_(d(_(A(k[1],R[0]),A(-R[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),R[2]))),O[3]),d(_(d(_(A(D[1],O[0]),A(-O[1],D[0])),k[2]),_(d(_(A(k[1],O[0]),A(-O[1],k[0])),-D[2]),d(_(A(k[1],D[0]),A(-D[1],k[0])),O[2]))),-R[3])))),N=C(z,q);return N[N.length-1]}}function c(_){return(_===3?l:_===4?u:h)(r,o,i,a)}var w=c(3),g=c(4),v=[function(){return 0},function(){return 0},function(_,A){return A[0]-_[0]},function(_,A,d){var C,k=(_[1]-d[1])*(A[0]-d[0]),D=(_[0]-d[0])*(A[1]-d[1]),O=k-D;if(k>0){if(D<=0)return O;C=k+D}else{if(!(k<0)||D>=0)return O;C=-(k+D)}var L=33306690738754716e-32*C;return O>=L||O<=-L?O:w(_,A,d)},function(_,A,d,C){var k=_[0]-C[0],D=A[0]-C[0],O=d[0]-C[0],L=_[1]-C[1],R=A[1]-C[1],z=d[1]-C[1],q=_[2]-C[2],N=A[2]-C[2],V=d[2]-C[2],Z=D*z,j=O*R,H=O*L,Y=k*z,ie=k*R,re=D*L,ne=q*(Z-j)+N*(H-Y)+V*(ie-re),ee=7771561172376103e-31*((Math.abs(Z)+Math.abs(j))*Math.abs(q)+(Math.abs(H)+Math.abs(Y))*Math.abs(N)+(Math.abs(ie)+Math.abs(re))*Math.abs(V));return ne>ee||-ne>ee?ne:g(_,A,d,C)}];function m(_){var A=v[_.length];return A||(A=v[_.length]=c(_.length)),A.apply(void 0,_)}function T(_,A,d,C,k,D,O){return function(L,R,z,q,N){switch(arguments.length){case 0:case 1:return 0;case 2:return C(L,R);case 3:return k(L,R,z);case 4:return D(L,R,z,q);case 5:return O(L,R,z,q,N)}for(var V=new Array(arguments.length),Z=0;Z<arguments.length;++Z)V[Z]=arguments[Z];return _(V)}}(function(){for(;v.length<=5;)v.push(c(v.length));f.exports=T.apply(void 0,[m].concat(v));for(var _=0;_<=5;++_)f.exports[_]=v[_]})()},5382:function(f,s,t){"use strict";var o=t(8210),r=t(3012);f.exports=function(i,a){if(i.length===1)return r(a,i[0]);if(a.length===1)return r(i,a[0]);if(i.length===0||a.length===0)return[0];var l=[0];if(i.length<a.length)for(var u=0;u<i.length;++u)l=o(l,r(a,i[u]));else for(u=0;u<a.length;++u)l=o(l,r(i,a[u]));return l}},3012:function(f,s,t){"use strict";var o=t(5250),r=t(9362);f.exports=function(i,a){var l=i.length;if(l===1){var u=o(i[0],a);return u[0]?u:[u[1]]}var h=new Array(2*l),c=[.1,.1],w=[.1,.1],g=0;o(i[0],a,c),c[0]&&(h[g++]=c[0]);for(var v=1;v<l;++v){o(i[v],a,w);var m=c[1];r(m,w[0],c),c[0]&&(h[g++]=c[0]);var T=w[1],_=c[1],A=T+_,d=_-(A-T);c[1]=A,d&&(h[g++]=d)}return c[1]&&(h[g++]=c[1]),g===0&&(h[g++]=0),h.length=g,h}},1125:function(f,s,t){"use strict";f.exports=function(r,i,a,l){var u=o(r,a,l),h=o(i,a,l);if(u>0&&h>0||u<0&&h<0)return!1;var c=o(a,r,i),w=o(l,r,i);return!(c>0&&w>0||c<0&&w<0)&&(u!==0||h!==0||c!==0||w!==0||function(g,v,m,T){for(var _=0;_<2;++_){var A=g[_],d=v[_],C=Math.min(A,d),k=Math.max(A,d),D=m[_],O=T[_],L=Math.min(D,O);if(Math.max(D,O)<C||k<L)return!1}return!0}(r,i,a,l))};var o=t(3250)[3]},8545:function(f){"use strict";f.exports=function(s,t){var o=0|s.length,r=0|t.length;if(o===1&&r===1)return function(L,R){var z=L+R,q=z-L,N=L-(z-q)+(R-q);return N?[N,z]:[z]}(s[0],-t[0]);var i,a,l=new Array(o+r),u=0,h=0,c=0,w=Math.abs,g=s[h],v=w(g),m=-t[c],T=w(m);v<T?(a=g,(h+=1)<o&&(v=w(g=s[h]))):(a=m,(c+=1)<r&&(T=w(m=-t[c]))),h<o&&v<T||c>=r?(i=g,(h+=1)<o&&(v=w(g=s[h]))):(i=m,(c+=1)<r&&(T=w(m=-t[c])));for(var _,A,d=i+a,C=d-i,k=a-C,D=k,O=d;h<o&&c<r;)v<T?(i=g,(h+=1)<o&&(v=w(g=s[h]))):(i=m,(c+=1)<r&&(T=w(m=-t[c]))),(k=(a=D)-(C=(d=i+a)-i))&&(l[u++]=k),D=O-((_=O+d)-(A=_-O))+(d-A),O=_;for(;h<o;)(k=(a=D)-(C=(d=(i=g)+a)-i))&&(l[u++]=k),D=O-((_=O+d)-(A=_-O))+(d-A),O=_,(h+=1)<o&&(g=s[h]);for(;c<r;)(k=(a=D)-(C=(d=(i=m)+a)-i))&&(l[u++]=k),D=O-((_=O+d)-(A=_-O))+(d-A),O=_,(c+=1)<r&&(m=-t[c]);return D&&(l[u++]=D),O&&(l[u++]=O),u||(l[u++]=0),l.length=u,l}},8210:function(f){"use strict";f.exports=function(s,t){var o=0|s.length,r=0|t.length;if(o===1&&r===1)return function(L,R){var z=L+R,q=z-L,N=L-(z-q)+(R-q);return N?[N,z]:[z]}(s[0],t[0]);var i,a,l=new Array(o+r),u=0,h=0,c=0,w=Math.abs,g=s[h],v=w(g),m=t[c],T=w(m);v<T?(a=g,(h+=1)<o&&(v=w(g=s[h]))):(a=m,(c+=1)<r&&(T=w(m=t[c]))),h<o&&v<T||c>=r?(i=g,(h+=1)<o&&(v=w(g=s[h]))):(i=m,(c+=1)<r&&(T=w(m=t[c])));for(var _,A,d=i+a,C=d-i,k=a-C,D=k,O=d;h<o&&c<r;)v<T?(i=g,(h+=1)<o&&(v=w(g=s[h]))):(i=m,(c+=1)<r&&(T=w(m=t[c]))),(k=(a=D)-(C=(d=i+a)-i))&&(l[u++]=k),D=O-((_=O+d)-(A=_-O))+(d-A),O=_;for(;h<o;)(k=(a=D)-(C=(d=(i=g)+a)-i))&&(l[u++]=k),D=O-((_=O+d)-(A=_-O))+(d-A),O=_,(h+=1)<o&&(g=s[h]);for(;c<r;)(k=(a=D)-(C=(d=(i=m)+a)-i))&&(l[u++]=k),D=O-((_=O+d)-(A=_-O))+(d-A),O=_,(c+=1)<r&&(m=t[c]);return D&&(l[u++]=D),O&&(l[u++]=O),u||(l[u++]=0),l.length=u,l}},9127:function(f,s,t){"use strict";f.exports=function(i){return r(o(i))};var o=t(6204),r=t(5771)},7765:function(f,s,t){"use strict";f.exports=function(l,u,h,c){if(h=h||0,c===void 0&&(c=function(d){for(var C=d.length,k=0,D=0;D<C;++D)k=0|Math.max(k,d[D].length);return k-1}(l)),l.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var w=function(d,C){for(var k=d.length,D=r.mallocUint8(k),O=0;O<k;++O)D[O]=d[O]<C|0;return D}(u,+h),g=function(d,C){for(var k=d.length,D=C*(C+1)/2*k|0,O=r.mallocUint32(2*D),L=0,R=0;R<k;++R)for(var z=d[R],q=(C=z.length,0);q<C;++q)for(var N=0;N<q;++N){var V=z[N],Z=z[q];O[L++]=0|Math.min(V,Z),O[L++]=0|Math.max(V,Z)}i(o(O,[L/2|0,2]));var j=2;for(R=2;R<L;R+=2)O[R-2]===O[R]&&O[R-1]===O[R+1]||(O[j++]=O[R],O[j++]=O[R+1]);return o(O,[j/2|0,2])}(l,c),v=function(d,C,k,D){for(var O=d.data,L=d.shape[0],R=r.mallocDouble(L),z=0,q=0;q<L;++q){var N=O[2*q],V=O[2*q+1];if(k[N]!==k[V]){var Z=C[N],j=C[V];O[2*z]=N,O[2*z+1]=V,R[z++]=(j-D)/(j-Z)}}return d.shape[0]=z,o(R,[z])}(g,u,w,+h),m=function(d,C){var k=r.mallocInt32(2*C),D=d.shape[0],O=d.data;k[0]=0;for(var L=0,R=0;R<D;++R){var z=O[2*R];if(z!==L){for(k[2*L+1]=R;++L<z;)k[2*L]=R,k[2*L+1]=R;k[2*L]=R}}for(k[2*L+1]=D;++L<C;)k[2*L]=k[2*L+1]=D;return k}(g,0|u.length),T=a(c)(l,g.data,m,w),_=function(d){for(var C=0|d.shape[0],k=d.data,D=new Array(C),O=0;O<C;++O)D[O]=[k[2*O],k[2*O+1]];return D}(g),A=[].slice.call(v.data,0,v.shape[0]);return r.free(w),r.free(g.data),r.free(v.data),r.free(m),{cells:T,vertexIds:_,vertexWeights:A}};var o=t(9618),r=t(1888),i=t(446),a=t(1570)},1570:function(f){"use strict";f.exports=function(t){return s[t]()};var s=[function(){return function(t,o,r,i){for(var a=t.length,l=0;l<a;++l)t[l].length;return[]}},function(){function t(o,r,i,a){for(var l=0|Math.min(i,a),u=0|Math.max(i,a),h=o[2*l],c=o[2*l+1];h<c;){var w=h+c>>1,g=r[2*w+1];if(g===u)return w;u<g?c=w:h=w+1}return h}return function(o,r,i,a){for(var l=o.length,u=[],h=0;h<l;++h){var c=o[h];if(c.length===2){var w=(a[c[0]]<<0)+(a[c[1]]<<1);if(w===0||w===3)continue;switch(w){case 0:case 3:break;case 1:u.push([t(i,r,c[0],c[1])]);break;case 2:u.push([t(i,r,c[1],c[0])])}}}return u}},function(){function t(o,r,i,a){for(var l=0|Math.min(i,a),u=0|Math.max(i,a),h=o[2*l],c=o[2*l+1];h<c;){var w=h+c>>1,g=r[2*w+1];if(g===u)return w;u<g?c=w:h=w+1}return h}return function(o,r,i,a){for(var l=o.length,u=[],h=0;h<l;++h){var c=o[h],w=c.length;if(w===3){if((g=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(i,r,c[0],c[2]),t(i,r,c[0],c[1])]);break;case 2:u.push([t(i,r,c[1],c[0]),t(i,r,c[1],c[2])]);break;case 3:u.push([t(i,r,c[0],c[2]),t(i,r,c[1],c[2])]);break;case 4:u.push([t(i,r,c[2],c[1]),t(i,r,c[2],c[0])]);break;case 5:u.push([t(i,r,c[2],c[1]),t(i,r,c[0],c[1])]);break;case 6:u.push([t(i,r,c[1],c[0]),t(i,r,c[2],c[0])])}}else if(w===2){var g;if((g=(a[c[0]]<<0)+(a[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(i,r,c[0],c[1])]);break;case 2:u.push([t(i,r,c[1],c[0])])}}}return u}},function(){function t(o,r,i,a){for(var l=0|Math.min(i,a),u=0|Math.max(i,a),h=o[2*l],c=o[2*l+1];h<c;){var w=h+c>>1,g=r[2*w+1];if(g===u)return w;u<g?c=w:h=w+1}return h}return function(o,r,i,a){for(var l=o.length,u=[],h=0;h<l;++h){var c=o[h],w=c.length;if(w===4){if((g=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2)+(a[c[3]]<<3))==0||g===15)continue;switch(g){case 0:case 15:break;case 1:u.push([t(i,r,c[0],c[1]),t(i,r,c[0],c[2]),t(i,r,c[0],c[3])]);break;case 2:u.push([t(i,r,c[1],c[2]),t(i,r,c[1],c[0]),t(i,r,c[1],c[3])]);break;case 3:u.push([t(i,r,c[1],c[2]),t(i,r,c[0],c[2]),t(i,r,c[0],c[3])],[t(i,r,c[1],c[3]),t(i,r,c[1],c[2]),t(i,r,c[0],c[3])]);break;case 4:u.push([t(i,r,c[2],c[0]),t(i,r,c[2],c[1]),t(i,r,c[2],c[3])]);break;case 5:u.push([t(i,r,c[0],c[1]),t(i,r,c[2],c[1]),t(i,r,c[0],c[3])],[t(i,r,c[2],c[1]),t(i,r,c[2],c[3]),t(i,r,c[0],c[3])]);break;case 6:u.push([t(i,r,c[2],c[0]),t(i,r,c[1],c[0]),t(i,r,c[1],c[3])],[t(i,r,c[2],c[3]),t(i,r,c[2],c[0]),t(i,r,c[1],c[3])]);break;case 7:u.push([t(i,r,c[0],c[3]),t(i,r,c[1],c[3]),t(i,r,c[2],c[3])]);break;case 8:u.push([t(i,r,c[3],c[1]),t(i,r,c[3],c[0]),t(i,r,c[3],c[2])]);break;case 9:u.push([t(i,r,c[3],c[1]),t(i,r,c[0],c[1]),t(i,r,c[0],c[2])],[t(i,r,c[3],c[2]),t(i,r,c[3],c[1]),t(i,r,c[0],c[2])]);break;case 10:u.push([t(i,r,c[1],c[0]),t(i,r,c[3],c[0]),t(i,r,c[1],c[2])],[t(i,r,c[3],c[0]),t(i,r,c[3],c[2]),t(i,r,c[1],c[2])]);break;case 11:u.push([t(i,r,c[1],c[2]),t(i,r,c[0],c[2]),t(i,r,c[3],c[2])]);break;case 12:u.push([t(i,r,c[3],c[0]),t(i,r,c[2],c[0]),t(i,r,c[2],c[1])],[t(i,r,c[3],c[1]),t(i,r,c[3],c[0]),t(i,r,c[2],c[1])]);break;case 13:u.push([t(i,r,c[0],c[1]),t(i,r,c[2],c[1]),t(i,r,c[3],c[1])]);break;case 14:u.push([t(i,r,c[2],c[0]),t(i,r,c[1],c[0]),t(i,r,c[3],c[0])])}}else if(w===3){if((g=(a[c[0]]<<0)+(a[c[1]]<<1)+(a[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(i,r,c[0],c[2]),t(i,r,c[0],c[1])]);break;case 2:u.push([t(i,r,c[1],c[0]),t(i,r,c[1],c[2])]);break;case 3:u.push([t(i,r,c[0],c[2]),t(i,r,c[1],c[2])]);break;case 4:u.push([t(i,r,c[2],c[1]),t(i,r,c[2],c[0])]);break;case 5:u.push([t(i,r,c[2],c[1]),t(i,r,c[0],c[1])]);break;case 6:u.push([t(i,r,c[1],c[0]),t(i,r,c[2],c[0])])}}else if(w===2){var g;if((g=(a[c[0]]<<0)+(a[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(i,r,c[0],c[1])]);break;case 2:u.push([t(i,r,c[1],c[0])])}}}return u}}]},6803:function(f,s,t){"use strict";t(8828),t(1755);function o(r,i){var a=r.length,l=r.length-i.length,u=Math.min;if(l)return l;switch(a){case 0:return 0;case 1:return r[0]-i[0];case 2:return(w=r[0]+r[1]-i[0]-i[1])||u(r[0],r[1])-u(i[0],i[1]);case 3:var h=r[0]+r[1],c=i[0]+i[1];if(w=h+r[2]-(c+i[2]))return w;var w,g=u(r[0],r[1]),v=u(i[0],i[1]);return(w=u(g,r[2])-u(v,i[2]))||u(g+r[2],h)-u(v+i[2],c);default:var m=r.slice(0);m.sort();var T=i.slice(0);T.sort();for(var _=0;_<a;++_)if(l=m[_]-T[_])return l;return 0}}s.Fw=o},3105:function(f,s){"use strict";function t(r){var i=32;return(r&=-r)&&i--,65535&r&&(i-=16),16711935&r&&(i-=8),252645135&r&&(i-=4),858993459&r&&(i-=2),1431655765&r&&(i-=1),i}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var i=r>>31;return(r^i)-i},s.min=function(r,i){return i^(r^i)&-(r<i)},s.max=function(r,i){return r^(r^i)&-(r<i)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var i,a;return i=(r>65535)<<4,i|=a=((r>>>=i)>255)<<3,i|=a=((r>>>=a)>15)<<2,(i|=a=((r>>>=a)>3)<<1)|(r>>>=a)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var o=new Array(256);(function(r){for(var i=0;i<256;++i){var a=i,l=i,u=7;for(a>>>=1;a;a>>>=1)l<<=1,l|=1&a,--u;r[i]=l<<u&255}})(o),s.reverse=function(r){return o[255&r]<<24|o[r>>>8&255]<<16|o[r>>>16&255]<<8|o[r>>>24&255]},s.interleave2=function(r,i){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i&=65535)|i<<8))|i<<4))|i<<2))|i<<1))<<1},s.deinterleave2=function(r,i){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>i&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,i,a){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<1)|(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<2},s.deinterleave3=function(r,i){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>i&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var i=r|r-1;return i+1|(~i&-~i)-1>>>t(r)+1}},2014:function(f,s,t){"use strict";var o=t(3105),r=t(4623);function i(g,v){var m=g.length,T=g.length-v.length,_=Math.min;if(T)return T;switch(m){case 0:return 0;case 1:return g[0]-v[0];case 2:return(C=g[0]+g[1]-v[0]-v[1])||_(g[0],g[1])-_(v[0],v[1]);case 3:var A=g[0]+g[1],d=v[0]+v[1];if(C=A+g[2]-(d+v[2]))return C;var C,k=_(g[0],g[1]),D=_(v[0],v[1]);return(C=_(k,g[2])-_(D,v[2]))||_(k+g[2],A)-_(D+v[2],d);default:var O=g.slice(0);O.sort();var L=v.slice(0);L.sort();for(var R=0;R<m;++R)if(T=O[R]-L[R])return T;return 0}}function a(g,v){return i(g[0],v[0])}function l(g,v){if(v){for(var m=g.length,T=new Array(m),_=0;_<m;++_)T[_]=[g[_],v[_]];for(T.sort(a),_=0;_<m;++_)g[_]=T[_][0],v[_]=T[_][1];return g}return g.sort(i),g}function u(g){if(g.length===0)return[];for(var v=1,m=g.length,T=1;T<m;++T){var _=g[T];if(i(_,g[T-1])){if(T===v){v++;continue}g[v++]=_}}return g.length=v,g}function h(g,v){for(var m=0,T=g.length-1,_=-1;m<=T;){var A=m+T>>1,d=i(g[A],v);d<=0?(d===0&&(_=A),m=A+1):d>0&&(T=A-1)}return _}function c(g,v){for(var m=new Array(g.length),T=0,_=m.length;T<_;++T)m[T]=[];for(var A=[],d=(T=0,v.length);T<d;++T)for(var C=v[T],k=C.length,D=1,O=1<<k;D<O;++D){A.length=o.popCount(D);for(var L=0,R=0;R<k;++R)D&1<<R&&(A[L++]=C[R]);var z=h(g,A);if(!(z<0))for(;m[z++].push(T),!(z>=g.length||i(g[z],A)!==0););}return m}function w(g,v){if(v<0)return[];for(var m=[],T=(1<<v+1)-1,_=0;_<g.length;++_)for(var A=g[_],d=T;d<1<<A.length;d=o.nextCombination(d)){for(var C=new Array(v+1),k=0,D=0;D<A.length;++D)d&1<<D&&(C[k++]=A[D]);m.push(C)}return l(m)}s.dimension=function(g){for(var v=0,m=Math.max,T=0,_=g.length;T<_;++T)v=m(v,g[T].length);return v-1},s.countVertices=function(g){for(var v=-1,m=Math.max,T=0,_=g.length;T<_;++T)for(var A=g[T],d=0,C=A.length;d<C;++d)v=m(v,A[d]);return v+1},s.cloneCells=function(g){for(var v=new Array(g.length),m=0,T=g.length;m<T;++m)v[m]=g[m].slice(0);return v},s.compareCells=i,s.normalize=l,s.unique=u,s.findCell=h,s.incidence=c,s.dual=function(g,v){if(!v)return c(u(w(g,0)),g);for(var m=new Array(v),T=0;T<v;++T)m[T]=[];T=0;for(var _=g.length;T<_;++T)for(var A=g[T],d=0,C=A.length;d<C;++d)m[A[d]].push(T);return m},s.explode=function(g){for(var v=[],m=0,T=g.length;m<T;++m)for(var _=g[m],A=0|_.length,d=1,C=1<<A;d<C;++d){for(var k=[],D=0;D<A;++D)d>>>D&1&&k.push(_[D]);v.push(k)}return l(v)},s.skeleton=w,s.boundary=function(g){for(var v=[],m=0,T=g.length;m<T;++m)for(var _=g[m],A=0,d=_.length;A<d;++A){for(var C=new Array(_.length-1),k=0,D=0;k<d;++k)k!==A&&(C[D++]=_[k]);v.push(C)}return l(v)},s.connectedComponents=function(g,v){return v?function(m,T){for(var _=new r(T),A=0;A<m.length;++A)for(var d=m[A],C=0;C<d.length;++C)for(var k=C+1;k<d.length;++k)_.link(d[C],d[k]);var D=[],O=_.ranks;for(A=0;A<O.length;++A)O[A]=-1;for(A=0;A<m.length;++A){var L=_.find(m[A][0]);O[L]<0?(O[L]=D.length,D.push([m[A].slice(0)])):D[O[L]].push(m[A].slice(0))}return D}(g,v):function(m){for(var T=u(l(w(m,0))),_=new r(T.length),A=0;A<m.length;++A)for(var d=m[A],C=0;C<d.length;++C)for(var k=h(T,[d[C]]),D=C+1;D<d.length;++D)_.link(k,h(T,[d[D]]));var O=[],L=_.ranks;for(A=0;A<L.length;++A)L[A]=-1;for(A=0;A<m.length;++A){var R=_.find(h(T,[m[A][0]]));L[R]<0?(L[R]=O.length,O.push([m[A].slice(0)])):O[L[R]].push(m[A].slice(0))}return O}(g)}},4623:function(f){"use strict";function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var o=0;o<t;++o)this.roots[o]=o,this.ranks[o]=0}f.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var o=this.roots;o[t]!==t;){var r=o[t];o[t]=o[r],t=r}return t},s.prototype.link=function(t,o){var r=this.find(t),i=this.find(o);if(r!==i){var a=this.ranks,l=this.roots,u=a[r],h=a[i];u<h?l[r]=i:h<u?l[i]=r:(l[i]=r,++a[r])}}},5878:function(f,s,t){"use strict";f.exports=function(i,a,l){for(var u=a.length,h=i.length,c=new Array(u),w=new Array(u),g=new Array(u),v=new Array(u),m=0;m<u;++m)c[m]=w[m]=-1,g[m]=1/0,v[m]=!1;for(m=0;m<h;++m){var T=i[m];if(T.length!==2)throw new Error("Input must be a graph");var _=T[1],A=T[0];w[A]!==-1?w[A]=-2:w[A]=_,c[_]!==-1?c[_]=-2:c[_]=A}function d(re){if(v[re])return 1/0;var ne,ee,Q,X=c[re],se=w[re];return X<0||se<0?1/0:(ne=a[re],ee=a[X],Q=a[se],Math.abs(o(ne,ee,Q))/Math.sqrt(Math.pow(ee[0]-Q[0],2)+Math.pow(ee[1]-Q[1],2)))}function C(re,ne){var ee=N[re],Q=N[ne];N[re]=Q,N[ne]=ee,V[ee]=ne,V[Q]=re}function k(re){return g[N[re]]}function D(re){return 1&re?re-1>>1:(re>>1)-1}function O(re){for(var ne=k(re);;){var ee=ne,Q=2*re+1,X=2*(re+1),se=re;if(Q<Z){var ce=k(Q);ce<ee&&(se=Q,ee=ce)}if(X<Z&&k(X)<ee&&(se=X),se===re)return re;C(re,se),re=se}}function L(re){for(var ne=k(re);re>0;){var ee=D(re);if(!(ee>=0&&ne<k(ee)))return re;C(re,ee),re=ee}}function R(){if(Z>0){var re=N[0];return C(0,Z-1),Z-=1,O(0),re}return-1}function z(re,ne){var ee=N[re];return g[ee]===ne?re:(g[ee]=-1/0,L(re),R(),g[ee]=ne,L((Z+=1)-1))}function q(re){if(!v[re]){v[re]=!0;var ne=c[re],ee=w[re];c[ee]>=0&&(c[ee]=ne),w[ne]>=0&&(w[ne]=ee),V[ne]>=0&&z(V[ne],d(ne)),V[ee]>=0&&z(V[ee],d(ee))}}var N=[],V=new Array(u);for(m=0;m<u;++m)(g[m]=d(m))<1/0?(V[m]=N.length,N.push(m)):V[m]=-1;var Z=N.length;for(m=Z>>1;m>=0;--m)O(m);for(;;){var j=R();if(j<0||g[j]>l)break;q(j)}var H=[];for(m=0;m<u;++m)v[m]||(V[m]=H.length,H.push(a[m].slice()));function Y(re,ne){if(re[ne]<0)return ne;var ee=ne,Q=ne;do{var X=re[Q];if(!v[Q]||X<0||X===Q||(X=re[Q=X],!v[Q]||X<0||X===Q))break;Q=X,ee=re[ee]}while(ee!==Q);for(var se=ne;se!==Q;se=re[se])re[se]=Q;return Q}H.length;var ie=[];return i.forEach(function(re){var ne=Y(c,re[0]),ee=Y(w,re[1]);if(ne>=0&&ee>=0&&ne!==ee){var Q=V[ne],X=V[ee];Q!==X&&ie.push([Q,X])}}),r.unique(r.normalize(ie)),{positions:H,edges:ie}};var o=t(3250),r=t(2014)},1303:function(f,s,t){"use strict";f.exports=function(i,a){var l,u,h,c;if(a[0][0]<a[1][0])l=a[0],u=a[1];else{if(!(a[0][0]>a[1][0]))return r(a,i);l=a[1],u=a[0]}if(i[0][0]<i[1][0])h=i[0],c=i[1];else{if(!(i[0][0]>i[1][0]))return-r(i,a);h=i[1],c=i[0]}var w=o(l,u,c),g=o(l,u,h);if(w<0){if(g<=0)return w}else if(w>0){if(g>=0)return w}else if(g)return g;if(w=o(c,h,u),g=o(c,h,l),w<0){if(g<=0)return w}else if(w>0){if(g>=0)return w}else if(g)return g;return u[0]-c[0]};var o=t(3250);function r(i,a){var l,u,h,c;if(a[0][0]<a[1][0])l=a[0],u=a[1];else{if(!(a[0][0]>a[1][0])){var w=Math.min(i[0][1],i[1][1]),g=Math.max(i[0][1],i[1][1]),v=Math.min(a[0][1],a[1][1]),m=Math.max(a[0][1],a[1][1]);return g<v?g-v:w>m?w-m:g-m}l=a[1],u=a[0]}i[0][1]<i[1][1]?(h=i[0],c=i[1]):(h=i[1],c=i[0]);var T=o(u,l,h);return T||(T=o(u,l,c))||c-u}},4209:function(f,s,t){"use strict";f.exports=function(g){for(var v=g.length,m=2*v,T=new Array(m),_=0;_<v;++_){var A=g[_],d=A[0][0]<A[1][0];T[2*_]=new w(A[0][0],A,d,_),T[2*_+1]=new w(A[1][0],A,!d,_)}T.sort(function(q,N){var V=q.x-N.x;return V||(V=q.create-N.create)||Math.min(q.segment[0][1],q.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});var C=r(a),k=[],D=[],O=[];for(_=0;_<m;){for(var L=T[_].x,R=[];_<m;){var z=T[_];if(z.x!==L)break;_+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(R.push(new c(z.segment[0][1],z.index,!0,!0)),R.push(new c(z.segment[1][1],z.index,!1,!1))):(R.push(new c(z.segment[1][1],z.index,!0,!1)),R.push(new c(z.segment[0][1],z.index,!1,!0)))):C=z.create?C.insert(z.segment,z.index):C.remove(z.segment)}k.push(C.root),D.push(L),O.push(R)}return new l(k,D,O)};var o=t(2478),r=t(3840),i=t(3250),a=t(1303);function l(g,v,m){this.slabs=g,this.coordinates=v,this.horizontal=m}function u(g,v){return g.y-v}function h(g,v){for(var m=null;g;){var T,_,A=g.key;A[0][0]<A[1][0]?(T=A[0],_=A[1]):(T=A[1],_=A[0]);var d=i(T,_,v);if(d<0)g=g.left;else if(d>0)if(v[0]!==A[1][0])m=g,g=g.right;else{if(C=h(g.right,v))return C;g=g.left}else{if(v[0]!==A[1][0])return g;var C;if(C=h(g.right,v))return C;g=g.left}}return m}function c(g,v,m,T){this.y=g,this.index=v,this.start=m,this.closed=T}function w(g,v,m,T){this.x=g,this.segment=v,this.create=m,this.index=T}l.prototype.castUp=function(g){var v=o.le(this.coordinates,g[0]);if(v<0)return-1;this.slabs[v];var m=h(this.slabs[v],g),T=-1;if(m&&(T=m.value),this.coordinates[v]===g[0]){var _=null;if(m&&(_=m.key),v>0){var A=h(this.slabs[v-1],g);A&&(_?a(A.key,_)>0&&(_=A.key,T=A.value):(T=A.value,_=A.key))}var d=this.horizontal[v];if(d.length>0){var C=o.ge(d,g[1],u);if(C<d.length){var k=d[C];if(g[1]===k.y){if(k.closed)return k.index;for(;C<d.length-1&&d[C+1].y===g[1];)if((k=d[C+=1]).closed)return k.index;if(k.y===g[1]&&!k.start){if((C+=1)>=d.length)return T;k=d[C]}}if(k.start)if(_){var D=i(_[0],_[1],[g[0],k.y]);_[0][0]>_[1][0]&&(D=-D),D>0&&(T=k.index)}else T=k.index;else k.y!==g[1]&&(T=k.index)}}}return T}},5202:function(f,s,t){"use strict";var o=t(1944),r=t(8210);function i(l,u){var h=r(o(l,u),[u[u.length-1]]);return h[h.length-1]}function a(l,u,h,c){var w=-u/(c-u);w<0?w=0:w>1&&(w=1);for(var g=1-w,v=l.length,m=new Array(v),T=0;T<v;++T)m[T]=w*l[T]+g*h[T];return m}f.exports=function(l,u){for(var h=[],c=[],w=i(l[l.length-1],u),g=l[l.length-1],v=l[0],m=0;m<l.length;++m,g=v){var T=i(v=l[m],u);if(w<0&&T>0||w>0&&T<0){var _=a(g,T,v,w);h.push(_),c.push(_.slice())}T<0?c.push(v.slice()):T>0?h.push(v.slice()):(h.push(v.slice()),c.push(v.slice())),w=T}return{positive:h,negative:c}},f.exports.positive=function(l,u){for(var h=[],c=i(l[l.length-1],u),w=l[l.length-1],g=l[0],v=0;v<l.length;++v,w=g){var m=i(g=l[v],u);(c<0&&m>0||c>0&&m<0)&&h.push(a(w,m,g,c)),m>=0&&h.push(g.slice()),c=m}return h},f.exports.negative=function(l,u){for(var h=[],c=i(l[l.length-1],u),w=l[l.length-1],g=l[0],v=0;v<l.length;++v,w=g){var m=i(g=l[v],u);(c<0&&m>0||c>0&&m<0)&&h.push(a(w,m,g,c)),m<=0&&h.push(g.slice()),c=m}return h}},3387:function(f,s,t){var o;(function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(u){return function(h,c){var w,g,v,m,T,_,A,d,C,k=1,D=h.length,O="";for(g=0;g<D;g++)if(typeof h[g]=="string")O+=h[g];else if(typeof h[g]=="object"){if((m=h[g]).keys)for(w=c[k],v=0;v<m.keys.length;v++){if(w==null)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[v],m.keys[v-1]));w=w[m.keys[v]]}else w=m.param_no?c[m.param_no]:c[k++];if(r.not_type.test(m.type)&&r.not_primitive.test(m.type)&&w instanceof Function&&(w=w()),r.numeric_arg.test(m.type)&&typeof w!="number"&&isNaN(w))throw new TypeError(i("[sprintf] expecting number but found %T",w));switch(r.number.test(m.type)&&(d=w>=0),m.type){case"b":w=parseInt(w,10).toString(2);break;case"c":w=String.fromCharCode(parseInt(w,10));break;case"d":case"i":w=parseInt(w,10);break;case"j":w=JSON.stringify(w,null,m.width?parseInt(m.width):0);break;case"e":w=m.precision?parseFloat(w).toExponential(m.precision):parseFloat(w).toExponential();break;case"f":w=m.precision?parseFloat(w).toFixed(m.precision):parseFloat(w);break;case"g":w=m.precision?String(Number(w.toPrecision(m.precision))):parseFloat(w);break;case"o":w=(parseInt(w,10)>>>0).toString(8);break;case"s":w=String(w),w=m.precision?w.substring(0,m.precision):w;break;case"t":w=String(!!w),w=m.precision?w.substring(0,m.precision):w;break;case"T":w=Object.prototype.toString.call(w).slice(8,-1).toLowerCase(),w=m.precision?w.substring(0,m.precision):w;break;case"u":w=parseInt(w,10)>>>0;break;case"v":w=w.valueOf(),w=m.precision?w.substring(0,m.precision):w;break;case"x":w=(parseInt(w,10)>>>0).toString(16);break;case"X":w=(parseInt(w,10)>>>0).toString(16).toUpperCase()}r.json.test(m.type)?O+=w:(!r.number.test(m.type)||d&&!m.sign?C="":(C=d?"+":"-",w=w.toString().replace(r.sign,"")),_=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",A=m.width-(C+w).length,T=m.width&&A>0?_.repeat(A):"",O+=m.align?C+w+T:_==="0"?C+T+w:T+C+w)}return O}(function(h){if(l[h])return l[h];for(var c,w=h,g=[],v=0;w;){if((c=r.text.exec(w))!==null)g.push(c[0]);else if((c=r.modulo.exec(w))!==null)g.push("%");else{if((c=r.placeholder.exec(w))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){v|=1;var m=[],T=c[2],_=[];if((_=r.key.exec(T))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(m.push(_[1]);(T=T.substring(_[0].length))!=="";)if((_=r.key_access.exec(T))!==null)m.push(_[1]);else{if((_=r.index_access.exec(T))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");m.push(_[1])}c[2]=m}else v|=2;if(v===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");g.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}w=w.substring(c[0].length)}return l[h]=g}(u),arguments)}function a(u,h){return i.apply(null,[u].concat(h||[]))}var l=Object.create(null);s.sprintf=i,s.vsprintf=a,typeof window<"u"&&(window.sprintf=i,window.vsprintf=a,(o=(function(){return{sprintf:i,vsprintf:a}}).call(s,t,s,f))===void 0||(f.exports=o))})()},3711:function(f,s,t){"use strict";f.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(l.dimension===1)return function(w,g){for(var v=r(w,g),m=v.length,T=new Array(m),_=new Array(m),A=0;A<m;++A)T[A]=[v[A]],_[A]=[A];return{positions:T,cells:_}}(l,u);var h=l.order.join()+"-"+l.dtype,c=a[h];return u=+u||0,c||(c=a[h]=function(w,g){var v=w.length+"d",m=i[v];if(m)return m(o,w,g)}(l.order,l.dtype)),c(l,u)};var o=t(2640),r=t(781),i={"2d":function(l,u,h){var c=l({order:u,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(w,g,v,m){return w>m|0},vertex:function(w,g,v,m,T,_,A,d,C,k,D,O,L){var R=(A<<0)+(d<<1)+(C<<2)+(k<<3)|0;if(R!==0&&R!==15)switch(R){case 0:case 15:D.push([w-.5,g-.5]);break;case 1:D.push([w-.25-.25*(m+v-2*L)/(v-m),g-.25-.25*(T+v-2*L)/(v-T)]);break;case 2:D.push([w-.75-.25*(-m-v+2*L)/(m-v),g-.25-.25*(_+m-2*L)/(m-_)]);break;case 3:D.push([w-.5,g-.5-.5*(T+v+_+m-4*L)/(v-T+m-_)]);break;case 4:D.push([w-.25-.25*(_+T-2*L)/(T-_),g-.75-.25*(-T-v+2*L)/(T-v)]);break;case 5:D.push([w-.5-.5*(m+v+_+T-4*L)/(v-m+T-_),g-.5]);break;case 6:D.push([w-.5-.25*(-m-v+_+T)/(m-v+T-_),g-.5-.25*(-T-v+_+m)/(T-v+m-_)]);break;case 7:D.push([w-.75-.25*(_+T-2*L)/(T-_),g-.75-.25*(_+m-2*L)/(m-_)]);break;case 8:D.push([w-.75-.25*(-_-T+2*L)/(_-T),g-.75-.25*(-_-m+2*L)/(_-m)]);break;case 9:D.push([w-.5-.25*(m+v+-_-T)/(v-m+_-T),g-.5-.25*(T+v+-_-m)/(v-T+_-m)]);break;case 10:D.push([w-.5-.5*(-m-v-_-T+4*L)/(m-v+_-T),g-.5]);break;case 11:D.push([w-.25-.25*(-_-T+2*L)/(_-T),g-.75-.25*(T+v-2*L)/(v-T)]);break;case 12:D.push([w-.5,g-.5-.5*(-T-v-_-m+4*L)/(T-v+_-m)]);break;case 13:D.push([w-.75-.25*(m+v-2*L)/(v-m),g-.25-.25*(-_-m+2*L)/(_-m)]);break;case 14:D.push([w-.25-.25*(-m-v+2*L)/(m-v),g-.25-.25*(-T-v+2*L)/(T-v)])}},cell:function(w,g,v,m,T,_,A,d,C){T?d.push([w,g]):d.push([g,w])}});return function(w,g){var v=[],m=[];return c(w,v,m,g),{positions:v,cells:m}}}},a={}},529:function(f,s,t){"use strict";f.exports=function a(l,u,h){var c=(h=h||{}).fontStyle||"normal",w=h.fontWeight||"normal",g=h.fontVariant||"normal",v=[c,w,g,l].join("_"),m=i[v];m||(m=i[v]={" ":{data:new Float32Array(0),shape:.2}});var T=m[u];if(!T)if(u.length<=1||!/\d/.test(u))T=m[u]=function(q){for(var N=q.cells,V=q.positions,Z=new Float32Array(6*N.length),j=0,H=0,Y=0;Y<N.length;++Y)for(var ie=N[Y],re=0;re<3;++re){var ne=V[ie[re]];Z[j++]=ne[0],Z[j++]=ne[1]+1.4,H=Math.max(ne[0],H)}return{data:Z,shape:H}}(o(u,{triangles:!0,font:l,fontStyle:c,fontWeight:w,fontVariant:g,textAlign:h.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=u.split(/(\d|\s)/),A=new Array(_.length),d=0,C=0,k=0;k<_.length;++k)A[k]=a(l,_[k]),d+=A[k].data.length,C+=A[k].shape,k>0&&(C+=.02);var D=new Float32Array(d),O=0,L=-.5*C;for(k=0;k<A.length;++k){for(var R=A[k].data,z=0;z<R.length;z+=2)D[O++]=R[z]+L,D[O++]=R[z+1];L+=A[k].shape+.02}T=m[u]={data:D,shape:C}}return T};var o=t(4359),r=window||p.global||{},i=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},665:function(f,s,t){"use strict";var o=t(3202);f.exports=a;var r=96;function i(l,u){var h=o(getComputedStyle(l).getPropertyValue(u));return h[0]*a(h[1],l)}function a(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(h,c){var w=document.createElement("div");w.style["font-size"]="128"+h,c.appendChild(w);var g=i(w,"font-size")/128;return c.removeChild(w),g}(l,u);case"em":return i(u,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},7261:function(f,s,t){"use strict";f.exports=function(T){var _=(T=T||{}).center||[0,0,0],A=T.up||[0,1,0],d=T.right||w(A),C=T.radius||1,k=T.theta||0,D=T.phi||0;if(_=[].slice.call(_,0,3),A=[].slice.call(A,0,3),l(A,A),d=[].slice.call(d,0,3),l(d,d),"eye"in T){var O=T.eye,L=[O[0]-_[0],O[1]-_[1],O[2]-_[2]];a(d,L,A),h(d[0],d[1],d[2])<1e-6?d=w(A):l(d,d),C=h(L[0],L[1],L[2]);var R=u(A,L)/C,z=u(d,L)/C;D=Math.acos(R),k=Math.acos(z)}return C=Math.log(C),new g(T.zoomMin,T.zoomMax,_,A,d,C,k,D)};var o=t(9215),r=t(7608),i=t(6079),a=t(5911),l=t(3536),u=t(244);function h(T,_,A){return Math.sqrt(Math.pow(T,2)+Math.pow(_,2)+Math.pow(A,2))}function c(T){return Math.min(1,Math.max(-1,T))}function w(T){var _=Math.abs(T[0]),A=Math.abs(T[1]),d=Math.abs(T[2]),C=[0,0,0];_>Math.max(A,d)?C[2]=1:A>Math.max(_,d)?C[0]=1:C[1]=1;for(var k=0,D=0,O=0;O<3;++O)k+=T[O]*T[O],D+=C[O]*T[O];for(O=0;O<3;++O)C[O]-=D/k*T[O];return l(C,C),C}function g(T,_,A,d,C,k,D,O){this.center=o(A),this.up=o(d),this.right=o(C),this.radius=o([k]),this.angle=o([D,O]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(T,_),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var L=0;L<16;++L)this.computedMatrix[L]=.5;this.recalcMatrix(0)}var v=g.prototype;v.setDistanceLimits=function(T,_){T=T>0?Math.log(T):-1/0,_=_>0?Math.log(_):1/0,_=Math.max(_,T),this.radius.bounds[0][0]=T,this.radius.bounds[1][0]=_},v.getDistanceLimits=function(T){var _=this.radius.bounds[0];return T?(T[0]=Math.exp(_[0][0]),T[1]=Math.exp(_[1][0]),T):[Math.exp(_[0][0]),Math.exp(_[1][0])]},v.recalcMatrix=function(T){this.center.curve(T),this.up.curve(T),this.right.curve(T),this.radius.curve(T),this.angle.curve(T);for(var _=this.computedUp,A=this.computedRight,d=0,C=0,k=0;k<3;++k)C+=_[k]*A[k],d+=_[k]*_[k];var D=Math.sqrt(d),O=0;for(k=0;k<3;++k)A[k]-=_[k]*C/d,O+=A[k]*A[k],_[k]/=D;var L=Math.sqrt(O);for(k=0;k<3;++k)A[k]/=L;var R=this.computedToward;a(R,_,A),l(R,R);var z=Math.exp(this.computedRadius[0]),q=this.computedAngle[0],N=this.computedAngle[1],V=Math.cos(q),Z=Math.sin(q),j=Math.cos(N),H=Math.sin(N),Y=this.computedCenter,ie=V*j,re=Z*j,ne=H,ee=-V*H,Q=-Z*H,X=j,se=this.computedEye,ce=this.computedMatrix;for(k=0;k<3;++k){var le=ie*A[k]+re*R[k]+ne*_[k];ce[4*k+1]=ee*A[k]+Q*R[k]+X*_[k],ce[4*k+2]=le,ce[4*k+3]=0}var de=ce[1],be=ce[5],_e=ce[9],ve=ce[2],me=ce[6],ye=ce[10],Se=be*ye-_e*me,Ie=_e*ve-de*ye,xe=de*me-be*ve,ue=h(Se,Ie,xe);for(Se/=ue,Ie/=ue,xe/=ue,ce[0]=Se,ce[4]=Ie,ce[8]=xe,k=0;k<3;++k)se[k]=Y[k]+ce[2+4*k]*z;for(k=0;k<3;++k){O=0;for(var ae=0;ae<3;++ae)O+=ce[k+4*ae]*se[ae];ce[12+k]=-O}ce[15]=1},v.getMatrix=function(T,_){this.recalcMatrix(T);var A=this.computedMatrix;if(_){for(var d=0;d<16;++d)_[d]=A[d];return _}return A};var m=[0,0,0];v.rotate=function(T,_,A,d){if(this.angle.move(T,_,A),d){this.recalcMatrix(T);var C=this.computedMatrix;m[0]=C[2],m[1]=C[6],m[2]=C[10];for(var k=this.computedUp,D=this.computedRight,O=this.computedToward,L=0;L<3;++L)C[4*L]=k[L],C[4*L+1]=D[L],C[4*L+2]=O[L];for(i(C,C,d,m),L=0;L<3;++L)k[L]=C[4*L],D[L]=C[4*L+1];this.up.set(T,k[0],k[1],k[2]),this.right.set(T,D[0],D[1],D[2])}},v.pan=function(T,_,A,d){_=_||0,A=A||0,d=d||0,this.recalcMatrix(T);var C=this.computedMatrix,k=(Math.exp(this.computedRadius[0]),C[1]),D=C[5],O=C[9],L=h(k,D,O);k/=L,D/=L,O/=L;var R=C[0],z=C[4],q=C[8],N=R*k+z*D+q*O,V=h(R-=k*N,z-=D*N,q-=O*N),Z=(R/=V)*_+k*A,j=(z/=V)*_+D*A,H=(q/=V)*_+O*A;this.center.move(T,Z,j,H);var Y=Math.exp(this.computedRadius[0]);Y=Math.max(1e-4,Y+d),this.radius.set(T,Math.log(Y))},v.translate=function(T,_,A,d){this.center.move(T,_||0,A||0,d||0)},v.setMatrix=function(T,_,A,d){var C=1;typeof A=="number"&&(C=0|A),(C<0||C>3)&&(C=1);var k=(C+2)%3;_||(this.recalcMatrix(T),_=this.computedMatrix);var D=_[C],O=_[C+4],L=_[C+8];if(d){var R=Math.abs(D),z=Math.abs(O),q=Math.abs(L),N=Math.max(R,z,q);R===N?(D=D<0?-1:1,O=L=0):q===N?(L=L<0?-1:1,D=O=0):(O=O<0?-1:1,D=L=0)}else{var V=h(D,O,L);D/=V,O/=V,L/=V}var Z,j,H=_[k],Y=_[k+4],ie=_[k+8],re=H*D+Y*O+ie*L,ne=h(H-=D*re,Y-=O*re,ie-=L*re),ee=O*(ie/=ne)-L*(Y/=ne),Q=L*(H/=ne)-D*ie,X=D*Y-O*H,se=h(ee,Q,X);if(ee/=se,Q/=se,X/=se,this.center.jump(T,Ae,Ce,Re),this.radius.idle(T),this.up.jump(T,D,O,L),this.right.jump(T,H,Y,ie),C===2){var ce=_[1],le=_[5],de=_[9],be=ce*H+le*Y+de*ie,_e=ce*ee+le*Q+de*X;Z=Se<0?-Math.PI/2:Math.PI/2,j=Math.atan2(_e,be)}else{var ve=_[2],me=_[6],ye=_[10],Se=ve*D+me*O+ye*L,Ie=ve*H+me*Y+ye*ie,xe=ve*ee+me*Q+ye*X;Z=Math.asin(c(Se)),j=Math.atan2(xe,Ie)}this.angle.jump(T,j,Z),this.recalcMatrix(T);var ue=_[2],ae=_[6],pe=_[10],De=this.computedMatrix;r(De,_);var Te=De[15],Ae=De[12]/Te,Ce=De[13]/Te,Re=De[14]/Te,Ne=Math.exp(this.computedRadius[0]);this.center.jump(T,Ae-ue*Ne,Ce-ae*Ne,Re-pe*Ne)},v.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},v.idle=function(T){this.center.idle(T),this.up.idle(T),this.right.idle(T),this.radius.idle(T),this.angle.idle(T)},v.flush=function(T){this.center.flush(T),this.up.flush(T),this.right.flush(T),this.radius.flush(T),this.angle.flush(T)},v.setDistance=function(T,_){_>0&&this.radius.set(T,Math.log(_))},v.lookAt=function(T,_,A,d){this.recalcMatrix(T),_=_||this.computedEye,A=A||this.computedCenter;var C=(d=d||this.computedUp)[0],k=d[1],D=d[2],O=h(C,k,D);if(!(O<1e-6)){C/=O,k/=O,D/=O;var L=_[0]-A[0],R=_[1]-A[1],z=_[2]-A[2],q=h(L,R,z);if(!(q<1e-6)){L/=q,R/=q,z/=q;var N=this.computedRight,V=N[0],Z=N[1],j=N[2],H=C*V+k*Z+D*j,Y=h(V-=H*C,Z-=H*k,j-=H*D);if(!(Y<.01&&(Y=h(V=k*z-D*R,Z=D*L-C*z,j=C*R-k*L))<1e-6)){V/=Y,Z/=Y,j/=Y,this.up.set(T,C,k,D),this.right.set(T,V,Z,j),this.center.set(T,A[0],A[1],A[2]),this.radius.set(T,Math.log(q));var ie=k*j-D*Z,re=D*V-C*j,ne=C*Z-k*V,ee=h(ie,re,ne),Q=C*L+k*R+D*z,X=V*L+Z*R+j*z,se=(ie/=ee)*L+(re/=ee)*R+(ne/=ee)*z,ce=Math.asin(c(Q)),le=Math.atan2(se,X),de=this.angle._state,be=de[de.length-1],_e=de[de.length-2];be%=2*Math.PI;var ve=Math.abs(be+2*Math.PI-le),me=Math.abs(be-le),ye=Math.abs(be-2*Math.PI-le);ve<me&&(be+=2*Math.PI),ye<me&&(be-=2*Math.PI),this.angle.jump(this.angle.lastT(),be,_e),this.angle.set(T,le,ce)}}}}},5250:function(f){"use strict";f.exports=function(t,o,r){var i=t*o,a=s*t,l=a-(a-t),u=t-l,h=s*o,c=h-(h-o),w=o-c,g=u*w-(i-l*c-u*c-l*w);return r?(r[0]=g,r[1]=i,r):[g,i]};var s=+(Math.pow(2,27)+1)},9362:function(f){"use strict";f.exports=function(s,t,o){var r=s+t,i=r-s,a=t-i,l=s-(r-i);return o?(o[0]=l+a,o[1]=r,o):[l+a,r]}},1888:function(f,s,t){"use strict";var o=t(8828),r=t(1338),i=t(4793).hp;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var a=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",h=t.g.__TYPEDARRAY_POOL;h.UINT8C||(h.UINT8C=r([32,0])),h.BIGUINT64||(h.BIGUINT64=r([32,0])),h.BIGINT64||(h.BIGINT64=r([32,0])),h.BUFFER||(h.BUFFER=r([32,0]));var c=h.DATA,w=h.BUFFER;function g(N){if(N){var V=N.length||N.byteLength,Z=o.log2(V);c[Z].push(N)}}function v(N){N=o.nextPow2(N);var V=o.log2(N),Z=c[V];return Z.length>0?Z.pop():new ArrayBuffer(N)}function m(N){return new Uint8Array(v(N),0,N)}function T(N){return new Uint16Array(v(2*N),0,N)}function _(N){return new Uint32Array(v(4*N),0,N)}function A(N){return new Int8Array(v(N),0,N)}function d(N){return new Int16Array(v(2*N),0,N)}function C(N){return new Int32Array(v(4*N),0,N)}function k(N){return new Float32Array(v(4*N),0,N)}function D(N){return new Float64Array(v(8*N),0,N)}function O(N){return a?new Uint8ClampedArray(v(N),0,N):m(N)}function L(N){return l?new BigUint64Array(v(8*N),0,N):null}function R(N){return u?new BigInt64Array(v(8*N),0,N):null}function z(N){return new DataView(v(N),0,N)}function q(N){N=o.nextPow2(N);var V=o.log2(N),Z=w[V];return Z.length>0?Z.pop():new i(N)}s.free=function(N){if(i.isBuffer(N))w[o.log2(N.length)].push(N);else{if(Object.prototype.toString.call(N)!=="[object ArrayBuffer]"&&(N=N.buffer),!N)return;var V=N.length||N.byteLength,Z=0|o.log2(V);c[Z].push(N)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(N){g(N.buffer)},s.freeArrayBuffer=g,s.freeBuffer=function(N){w[o.log2(N.length)].push(N)},s.malloc=function(N,V){if(V===void 0||V==="arraybuffer")return v(N);switch(V){case"uint8":return m(N);case"uint16":return T(N);case"uint32":return _(N);case"int8":return A(N);case"int16":return d(N);case"int32":return C(N);case"float":case"float32":return k(N);case"double":case"float64":return D(N);case"uint8_clamped":return O(N);case"bigint64":return R(N);case"biguint64":return L(N);case"buffer":return q(N);case"data":case"dataview":return z(N);default:return null}return null},s.mallocArrayBuffer=v,s.mallocUint8=m,s.mallocUint16=T,s.mallocUint32=_,s.mallocInt8=A,s.mallocInt16=d,s.mallocInt32=C,s.mallocFloat32=s.mallocFloat=k,s.mallocFloat64=s.mallocDouble=D,s.mallocUint8Clamped=O,s.mallocBigUint64=L,s.mallocBigInt64=R,s.mallocDataView=z,s.mallocBuffer=q,s.clearCache=function(){for(var N=0;N<32;++N)h.UINT8[N].length=0,h.UINT16[N].length=0,h.UINT32[N].length=0,h.INT8[N].length=0,h.INT16[N].length=0,h.INT32[N].length=0,h.FLOAT[N].length=0,h.DOUBLE[N].length=0,h.BIGUINT64[N].length=0,h.BIGINT64[N].length=0,h.UINT8C[N].length=0,c[N].length=0,w[N].length=0}},1755:function(f){"use strict";function s(o){this.roots=new Array(o),this.ranks=new Array(o);for(var r=0;r<o;++r)this.roots[r]=r,this.ranks[r]=0}f.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var o=this.roots.length;return this.roots.push(o),this.ranks.push(0),o},t.find=function(o){for(var r=o,i=this.roots;i[o]!==o;)o=i[o];for(;i[r]!==o;){var a=i[r];i[r]=o,r=a}return o},t.link=function(o,r){var i=this.find(o),a=this.find(r);if(i!==a){var l=this.ranks,u=this.roots,h=l[i],c=l[a];h<c?u[i]=a:c<h?u[a]=i:(u[a]=i,++l[i])}}},1682:function(f){"use strict";f.exports=function(s,t,o){return s.length===0?s:t?(o||s.sort(t),function(r,i){for(var a=1,l=r.length,u=r[0],h=r[0],c=1;c<l;++c)if(h=u,i(u=r[c],h)){if(c===a){a++;continue}r[a++]=u}return r.length=a,r}(s,t)):(o||s.sort(),function(r){for(var i=1,a=r.length,l=r[0],u=r[0],h=1;h<a;++h,u=l)if(u=l,(l=r[h])!==u){if(h===i){i++;continue}r[i++]=l}return r.length=i,r}(s))}},4359:function(f,s,t){"use strict";f.exports=function(a,l){return typeof l=="object"&&l!==null||(l={}),o(a,l.canvas||r,l.context||i,l)};var o=t(7718),r=null,i=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,i=r.getContext("2d"))},7718:function(f,s,t){f.exports=function(L,R,z,q){var N=64,V=1.25,Z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return q&&(q.size&&q.size>0&&(N=q.size),q.lineSpacing&&q.lineSpacing>0&&(V=q.lineSpacing),q.styletags&&q.styletags.breaklines&&(Z.breaklines=!!q.styletags.breaklines),q.styletags&&q.styletags.bolds&&(Z.bolds=!!q.styletags.bolds),q.styletags&&q.styletags.italics&&(Z.italics=!!q.styletags.italics),q.styletags&&q.styletags.subscripts&&(Z.subscripts=!!q.styletags.subscripts),q.styletags&&q.styletags.superscripts&&(Z.superscripts=!!q.styletags.superscripts)),z.font=[q.fontStyle,q.fontVariant,q.fontWeight,N+"px",q.font].filter(function(j){return j}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr",O(function(j,H,Y,ie,re,ne){Y=Y.replace(/\n/g,""),Y=ne.breaklines===!0?Y.replace(/\<br\>/g,`
`):Y.replace(/\<br\>/g," ");var ee="",Q=[];for(le=0;le<Y.length;++le)Q[le]=ee;ne.bolds===!0&&(Q=C(h,c,Y,Q)),ne.italics===!0&&(Q=C(w,g,Y,Q)),ne.superscripts===!0&&(Q=C(v,T,Y,Q)),ne.subscripts===!0&&(Q=C(_,d,Y,Q));var X=[],se="";for(le=0;le<Y.length;++le)Q[le]!==null&&(se+=Y[le],X.push(Q[le]));var ce,le,de,be,_e,ve=se.split(`
`),me=ve.length,ye=Math.round(re*ie),Se=ie,Ie=2*ie,xe=0,ue=me*ye+Ie;j.height<ue&&(j.height=ue),H.fillStyle="#000",H.fillRect(0,0,j.width,j.height),H.fillStyle="#fff";var ae=0,pe="";function De(){if(pe!==""){var Ee=H.measureText(pe).width;H.fillText(pe,Se+de,Ie+be),de+=Ee}}function Te(){return Math.round(_e)+"px "}function Ae(Ee,Fe){var Le=""+H.font;if(ne.subscripts===!0){var Ue=Ee.indexOf(A),Ge=Fe.indexOf(A),Ke=Ue>-1?parseInt(Ee[1+Ue]):0,at=Ge>-1?parseInt(Fe[1+Ge]):0;Ke!==at&&(Le=Le.replace(Te(),"?px "),_e*=Math.pow(.75,at-Ke),Le=Le.replace("?px ",Te())),be+=.25*ye*(at-Ke)}if(ne.superscripts===!0){var st=Ee.indexOf(m),vt=Fe.indexOf(m),xt=st>-1?parseInt(Ee[1+st]):0,gt=vt>-1?parseInt(Fe[1+vt]):0;xt!==gt&&(Le=Le.replace(Te(),"?px "),_e*=Math.pow(.75,gt-xt),Le=Le.replace("?px ",Te())),be-=.25*ye*(gt-xt)}if(ne.bolds===!0){var nt=Ee.indexOf(c)>-1,et=Fe.indexOf(c)>-1;!nt&&et&&(Le=At?Le.replace("italic ","italic bold "):"bold "+Le),nt&&!et&&(Le=Le.replace("bold ",""))}if(ne.italics===!0){var At=Ee.indexOf(g)>-1,Pt=Fe.indexOf(g)>-1;!At&&Pt&&(Le="italic "+Le),At&&!Pt&&(Le=Le.replace("italic ",""))}H.font=Le}for(ce=0;ce<me;++ce){var Ce=ve[ce]+`
`;for(de=0,be=ce*ye,_e=ie,pe="",le=0;le<Ce.length;++le){var Re=le+ae<X.length?X[le+ae]:X[X.length-1];ee===Re?pe+=Ce[le]:(De(),pe=Ce[le],Re!==void 0&&(Ae(ee,Re),ee=Re))}De(),ae+=Ce.length;var Ne=0|Math.round(de+2*Se);xe<Ne&&(xe=Ne)}var ge=xe,Me=Ie+ye*me;return r(H.getImageData(0,0,ge,Me).data,[Me,ge,4]).pick(-1,-1,0).transpose(1,0)}(R,z,L,N,V,Z),q,N)},f.exports.processPixels=O;var o=t(3711),r=t(9618),i=t(5878),a=t(332),l=t(2538),u=t(2095),h="b",c="b|",w="i",g="i|",v="sup",m="+",T="+1",_="sub",A="-",d="-1";function C(L,R,z,q){for(var N="<"+L+">",V="</"+L+">",Z=N.length,j=V.length,H=R[0]===m||R[0]===A,Y=0,ie=-j;Y>-1&&(Y=z.indexOf(N,Y))!==-1&&(ie=z.indexOf(V,Y+Z))!==-1&&!(ie<=Y);){for(var re=Y;re<ie+j;++re)if(re<Y+Z||re>=ie)q[re]=null,z=z.substr(0,re)+" "+z.substr(re+1);else if(q[re]!==null){var ne=q[re].indexOf(R[0]);ne===-1?q[re]+=R:H&&(q[re]=q[re].substr(0,ne+1)+(1+parseInt(q[re][ne+1]))+q[re].substr(ne+2))}var ee=Y+Z,Q=z.substr(ee,ie-ee).indexOf(N);Y=Q!==-1?Q:ie+j}return q}function k(L,R){var z=o(L,128);return R?i(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function D(L,R,z,q){var N=k(L,q),V=function(ce,le,de){for(var be=le.textAlign||"start",_e=le.textBaseline||"alphabetic",ve=[1<<30,1<<30],me=[0,0],ye=ce.length,Se=0;Se<ye;++Se)for(var Ie=ce[Se],xe=0;xe<2;++xe)ve[xe]=0|Math.min(ve[xe],Ie[xe]),me[xe]=0|Math.max(me[xe],Ie[xe]);var ue=0;switch(be){case"center":ue=-.5*(ve[0]+me[0]);break;case"right":case"end":ue=-me[0];break;case"left":case"start":ue=-ve[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+be+"'")}var ae=0;switch(_e){case"hanging":case"top":ae=-ve[1];break;case"middle":ae=-.5*(ve[1]+me[1]);break;case"alphabetic":case"ideographic":ae=-3*de;break;case"bottom":ae=-me[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+_e+"'")}var pe=1/de;return"lineHeight"in le?pe*=+le.lineHeight:"width"in le?pe=le.width/(me[0]-ve[0]):"height"in le&&(pe=le.height/(me[1]-ve[1])),ce.map(function(De){return[pe*(De[0]+ue),pe*(De[1]+ae)]})}(N.positions,R,z),Z=N.edges,j=R.orientation==="ccw";if(a(V,Z),R.polygons||R.polygon||R.polyline){for(var H=u(Z,V),Y=new Array(H.length),ie=0;ie<H.length;++ie){for(var re=H[ie],ne=new Array(re.length),ee=0;ee<re.length;++ee){for(var Q=re[ee],X=new Array(Q.length),se=0;se<Q.length;++se)X[se]=V[Q[se]].slice();j&&X.reverse(),ne[ee]=X}Y[ie]=ne}return Y}return R.triangles||R.triangulate||R.triangle?{cells:l(V,Z,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:Z,positions:V}}function O(L,R,z){try{return D(L,R,z,!0)}catch{}try{return D(L,R,z,!1)}catch{}return R.polygons||R.polyline||R.polygon?[]:R.triangles||R.triangulate||R.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},1538:function(f){(function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=_);var s=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var o=new t,r=Object.freeze({});if(o.set(r,1),o.get(r)===1)return void(f.exports=WeakMap);s=!0}}var i=Object.getOwnPropertyNames,a=Object.defineProperty,l=Object.isExtensible,u="weakmap:",h=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),w=new Uint8Array(c);crypto.getRandomValues(w),h=u+"rand:"+Array.prototype.map.call(w,function(D){return(D%36).toString(36)}).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(D){return i(D).filter(A)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(D){return g(D).filter(A)}})}(function(){var D=Object.freeze;a(Object,"freeze",{value:function(R){return d(R),D(R)}});var O=Object.seal;a(Object,"seal",{value:function(R){return d(R),O(R)}});var L=Object.preventExtensions;a(Object,"preventExtensions",{value:function(R){return d(R),L(R)}})})();var v=!1,m=0,T=function(){this instanceof T||k();var D=[],O=[],L=m++;return Object.create(T.prototype,{get___:{value:C(function(R,z){var q,N=d(R);return N?L in N?N[L]:z:(q=D.indexOf(R))>=0?O[q]:z})},has___:{value:C(function(R){var z=d(R);return z?L in z:D.indexOf(R)>=0})},set___:{value:C(function(R,z){var q,N=d(R);return N?N[L]=z:(q=D.indexOf(R))>=0?O[q]=z:(q=D.length,O[q]=z,D[q]=R),this})},delete___:{value:C(function(R){var z,q,N=d(R);return N?L in N&&delete N[L]:!((z=D.indexOf(R))<0||(q=D.length-1,D[z]=void 0,O[z]=O[q],D[z]=D[q],D.length=q,O.length=q,0))})}})};T.prototype=Object.create(Object.prototype,{get:{value:function(D,O){return this.get___(D,O)},writable:!0,configurable:!0},has:{value:function(D){return this.has___(D)},writable:!0,configurable:!0},set:{value:function(D,O){return this.set___(D,O)},writable:!0,configurable:!0},delete:{value:function(D){return this.delete___(D)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function D(){this instanceof T||k();var O,L=new t,R=void 0,z=!1;return O=s?function(q,N){return L.set(q,N),L.has(q)||(R||(R=new T),R.set(q,N)),this}:function(q,N){if(z)try{L.set(q,N)}catch{R||(R=new T),R.set___(q,N)}else L.set(q,N);return this},Object.create(T.prototype,{get___:{value:C(function(q,N){return R?L.has(q)?L.get(q):R.get___(q,N):L.get(q,N)})},has___:{value:C(function(q){return L.has(q)||!!R&&R.has___(q)})},set___:{value:C(O)},delete___:{value:C(function(q){var N=!!L.delete(q);return R&&R.delete___(q)||N})},permitHostObjects___:{value:C(function(q){if(q!==_)throw new Error("bogus call to permitHostObjects___");z=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),D.prototype=T.prototype,f.exports=D,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),f.exports=T)}function _(D){D.permitHostObjects___&&D.permitHostObjects___(_)}function A(D){return!(D.substr(0,8)==u&&D.substr(D.length-3)==="___")}function d(D){if(D!==Object(D))throw new TypeError("Not an object: "+D);var O=D[h];if(O&&O.key===D)return O;if(l(D)){O={key:D};try{return a(D,h,{value:O,writable:!1,enumerable:!1,configurable:!1}),O}catch{return}}}function C(D){return D.prototype=null,Object.freeze(D)}function k(){v||typeof console>"u"||(v=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},236:function(f,s,t){var o=t(8284);f.exports=function(){var r={};return function(i){if((typeof i!="object"||i===null)&&typeof i!="function")throw new Error("Weakmap-shim: Key must be object");var a=i.valueOf(r);return a&&a.identity===r?a:o(i,r)}}},8284:function(f){f.exports=function(s,t){var o={identity:t},r=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(i){return i!==t?r.apply(this,arguments):o},writable:!0}),o}},606:function(f,s,t){var o=t(236);f.exports=function(){var r=o();return{get:function(i,a){var l=r(i);return l.hasOwnProperty("value")?l.value:a},set:function(i,a){return r(i).value=a,this},has:function(i){return"value"in r(i)},delete:function(i){return delete r(i).value}}}},3349:function(f){"use strict";f.exports=function(s){var t={};return function(o,r,i){var a=o.dtype,l=o.order,u=[a,l.join()].join(),h=t[u];return h||(t[u]=h=s([a,l])),h(o.shape.slice(0),o.data,o.stride,0|o.offset,r,i)}}((function(){return function(s,t,o,r,i,a){var l=s[0],u=o[0],h=[0],c=u;r|=0;var w=0,g=u;for(w=0;w<l;++w){var v=t[r]-a,m=t[r+c]-a;v>=0!=m>=0&&i.push(h[0]+.5+.5*(v+m)/(v-m)),r+=g,++h[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},781:function(f,s,t){"use strict";f.exports=function(r,i){var a=[];return i=+i||0,o(r.hi(r.shape[0]-1),a,i),a};var o=t(3349)},7790:function(){}},n={};function M(f){var s=n[f];if(s!==void 0)return s.exports;var t=n[f]={id:f,loaded:!1,exports:{}};return y[f].call(t.exports,t,t.exports,M),t.loaded=!0,t.exports}M.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),M.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f};var b=M(1964);S.exports=b})()},33576:function(S,x,e){"use strict";function p(ue,ae){for(var pe=0;pe<ae.length;pe++){var De=ae[pe];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ue,(Te=function(Ae,Ce){if(b(Ae)!=="object"||Ae===null)return Ae;var Re=Ae[Symbol.toPrimitive];if(Re!==void 0){var Ne=Re.call(Ae,"string");if(b(Ne)!=="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ae)}(De.key),b(Te)==="symbol"?Te:String(Te)),De)}var Te}function y(ue){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},y(ue)}function n(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function M(ue,ae){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pe,De){return pe.__proto__=De,pe},M(ue,ae)}function b(ue){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ae){return typeof ae}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},b(ue)}var f=e(59968),s=e(35984),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;x.Buffer=i,x.SlowBuffer=function(ue){return+ue!=ue&&(ue=0),i.alloc(+ue)},x.INSPECT_MAX_BYTES=50;var o=2147483647;function r(ue){if(ue>o)throw new RangeError('The value "'+ue+'" is invalid for option "size"');var ae=new Uint8Array(ue);return Object.setPrototypeOf(ae,i.prototype),ae}function i(ue,ae,pe){if(typeof ue=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(ue)}return a(ue,ae,pe)}function a(ue,ae,pe){if(typeof ue=="string")return function(Ae,Ce){if(typeof Ce=="string"&&Ce!==""||(Ce="utf8"),!i.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);var Re=0|g(Ae,Ce),Ne=r(Re),ge=Ne.write(Ae,Ce);return ge!==Re&&(Ne=Ne.slice(0,ge)),Ne}(ue,ae);if(ArrayBuffer.isView(ue))return function(Ae){if(me(Ae,Uint8Array)){var Ce=new Uint8Array(Ae);return c(Ce.buffer,Ce.byteOffset,Ce.byteLength)}return h(Ae)}(ue);if(ue==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ue));if(me(ue,ArrayBuffer)||ue&&me(ue.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(ue,SharedArrayBuffer)||ue&&me(ue.buffer,SharedArrayBuffer)))return c(ue,ae,pe);if(typeof ue=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var De=ue.valueOf&&ue.valueOf();if(De!=null&&De!==ue)return i.from(De,ae,pe);var Te=function(Ae){if(i.isBuffer(Ae)){var Ce=0|w(Ae.length),Re=r(Ce);return Re.length===0||Ae.copy(Re,0,0,Ce),Re}return Ae.length!==void 0?typeof Ae.length!="number"||ye(Ae.length)?r(0):h(Ae):Ae.type==="Buffer"&&Array.isArray(Ae.data)?h(Ae.data):void 0}(ue);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ue[Symbol.toPrimitive]=="function")return i.from(ue[Symbol.toPrimitive]("string"),ae,pe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(ue))}function l(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be of type number');if(ue<0)throw new RangeError('The value "'+ue+'" is invalid for option "size"')}function u(ue){return l(ue),r(ue<0?0:0|w(ue))}function h(ue){for(var ae=ue.length<0?0:0|w(ue.length),pe=r(ae),De=0;De<ae;De+=1)pe[De]=255&ue[De];return pe}function c(ue,ae,pe){if(ae<0||ue.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<ae+(pe||0))throw new RangeError('"length" is outside of buffer bounds');var De;return De=ae===void 0&&pe===void 0?new Uint8Array(ue):pe===void 0?new Uint8Array(ue,ae):new Uint8Array(ue,ae,pe),Object.setPrototypeOf(De,i.prototype),De}function w(ue){if(ue>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|ue}function g(ue,ae){if(i.isBuffer(ue))return ue.length;if(ArrayBuffer.isView(ue)||me(ue,ArrayBuffer))return ue.byteLength;if(typeof ue!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(ue));var pe=ue.length,De=arguments.length>2&&arguments[2]===!0;if(!De&&pe===0)return 0;for(var Te=!1;;)switch(ae){case"ascii":case"latin1":case"binary":return pe;case"utf8":case"utf-8":return be(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*pe;case"hex":return pe>>>1;case"base64":return _e(ue).length;default:if(Te)return De?-1:be(ue).length;ae=(""+ae).toLowerCase(),Te=!0}}function v(ue,ae,pe){var De=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((pe===void 0||pe>this.length)&&(pe=this.length),pe<=0)||(pe>>>=0)<=(ae>>>=0))return"";for(ue||(ue="utf8");;)switch(ue){case"hex":return N(this,ae,pe);case"utf8":case"utf-8":return L(this,ae,pe);case"ascii":return z(this,ae,pe);case"latin1":case"binary":return q(this,ae,pe);case"base64":return O(this,ae,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,ae,pe);default:if(De)throw new TypeError("Unknown encoding: "+ue);ue=(ue+"").toLowerCase(),De=!0}}function m(ue,ae,pe){var De=ue[ae];ue[ae]=ue[pe],ue[pe]=De}function T(ue,ae,pe,De,Te){if(ue.length===0)return-1;if(typeof pe=="string"?(De=pe,pe=0):pe>2147483647?pe=2147483647:pe<-2147483648&&(pe=-2147483648),ye(pe=+pe)&&(pe=Te?0:ue.length-1),pe<0&&(pe=ue.length+pe),pe>=ue.length){if(Te)return-1;pe=ue.length-1}else if(pe<0){if(!Te)return-1;pe=0}if(typeof ae=="string"&&(ae=i.from(ae,De)),i.isBuffer(ae))return ae.length===0?-1:_(ue,ae,pe,De,Te);if(typeof ae=="number")return ae&=255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(ue,ae,pe):Uint8Array.prototype.lastIndexOf.call(ue,ae,pe):_(ue,[ae],pe,De,Te);throw new TypeError("val must be string, number or Buffer")}function _(ue,ae,pe,De,Te){var Ae,Ce=1,Re=ue.length,Ne=ae.length;if(De!==void 0&&((De=String(De).toLowerCase())==="ucs2"||De==="ucs-2"||De==="utf16le"||De==="utf-16le")){if(ue.length<2||ae.length<2)return-1;Ce=2,Re/=2,Ne/=2,pe/=2}function ge(Le,Ue){return Ce===1?Le[Ue]:Le.readUInt16BE(Ue*Ce)}if(Te){var Me=-1;for(Ae=pe;Ae<Re;Ae++)if(ge(ue,Ae)===ge(ae,Me===-1?0:Ae-Me)){if(Me===-1&&(Me=Ae),Ae-Me+1===Ne)return Me*Ce}else Me!==-1&&(Ae-=Ae-Me),Me=-1}else for(pe+Ne>Re&&(pe=Re-Ne),Ae=pe;Ae>=0;Ae--){for(var Ee=!0,Fe=0;Fe<Ne;Fe++)if(ge(ue,Ae+Fe)!==ge(ae,Fe)){Ee=!1;break}if(Ee)return Ae}return-1}function A(ue,ae,pe,De){pe=Number(pe)||0;var Te=ue.length-pe;De?(De=Number(De))>Te&&(De=Te):De=Te;var Ae,Ce=ae.length;for(De>Ce/2&&(De=Ce/2),Ae=0;Ae<De;++Ae){var Re=parseInt(ae.substr(2*Ae,2),16);if(ye(Re))return Ae;ue[pe+Ae]=Re}return Ae}function d(ue,ae,pe,De){return ve(be(ae,ue.length-pe),ue,pe,De)}function C(ue,ae,pe,De){return ve(function(Te){for(var Ae=[],Ce=0;Ce<Te.length;++Ce)Ae.push(255&Te.charCodeAt(Ce));return Ae}(ae),ue,pe,De)}function k(ue,ae,pe,De){return ve(_e(ae),ue,pe,De)}function D(ue,ae,pe,De){return ve(function(Te,Ae){for(var Ce,Re,Ne,ge=[],Me=0;Me<Te.length&&!((Ae-=2)<0);++Me)Re=(Ce=Te.charCodeAt(Me))>>8,Ne=Ce%256,ge.push(Ne),ge.push(Re);return ge}(ae,ue.length-pe),ue,pe,De)}function O(ue,ae,pe){return ae===0&&pe===ue.length?f.fromByteArray(ue):f.fromByteArray(ue.slice(ae,pe))}function L(ue,ae,pe){pe=Math.min(ue.length,pe);for(var De=[],Te=ae;Te<pe;){var Ae=ue[Te],Ce=null,Re=Ae>239?4:Ae>223?3:Ae>191?2:1;if(Te+Re<=pe){var Ne=void 0,ge=void 0,Me=void 0,Ee=void 0;switch(Re){case 1:Ae<128&&(Ce=Ae);break;case 2:(192&(Ne=ue[Te+1]))==128&&(Ee=(31&Ae)<<6|63&Ne)>127&&(Ce=Ee);break;case 3:Ne=ue[Te+1],ge=ue[Te+2],(192&Ne)==128&&(192&ge)==128&&(Ee=(15&Ae)<<12|(63&Ne)<<6|63&ge)>2047&&(Ee<55296||Ee>57343)&&(Ce=Ee);break;case 4:Ne=ue[Te+1],ge=ue[Te+2],Me=ue[Te+3],(192&Ne)==128&&(192&ge)==128&&(192&Me)==128&&(Ee=(15&Ae)<<18|(63&Ne)<<12|(63&ge)<<6|63&Me)>65535&&Ee<1114112&&(Ce=Ee)}}Ce===null?(Ce=65533,Re=1):Ce>65535&&(Ce-=65536,De.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),De.push(Ce),Te+=Re}return function(Fe){var Le=Fe.length;if(Le<=R)return String.fromCharCode.apply(String,Fe);for(var Ue="",Ge=0;Ge<Le;)Ue+=String.fromCharCode.apply(String,Fe.slice(Ge,Ge+=R));return Ue}(De)}x.kMaxLength=o,i.TYPED_ARRAY_SUPPORT=function(){try{var ue=new Uint8Array(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,Uint8Array.prototype),Object.setPrototypeOf(ue,ae),ue.foo()===42}catch{return!1}}(),i.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(ue,ae,pe){return a(ue,ae,pe)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(ue,ae,pe){return function(De,Te,Ae){return l(De),De<=0?r(De):Te!==void 0?typeof Ae=="string"?r(De).fill(Te,Ae):r(De).fill(Te):r(De)}(ue,ae,pe)},i.allocUnsafe=function(ue){return u(ue)},i.allocUnsafeSlow=function(ue){return u(ue)},i.isBuffer=function(ue){return ue!=null&&ue._isBuffer===!0&&ue!==i.prototype},i.compare=function(ue,ae){if(me(ue,Uint8Array)&&(ue=i.from(ue,ue.offset,ue.byteLength)),me(ae,Uint8Array)&&(ae=i.from(ae,ae.offset,ae.byteLength)),!i.isBuffer(ue)||!i.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ue===ae)return 0;for(var pe=ue.length,De=ae.length,Te=0,Ae=Math.min(pe,De);Te<Ae;++Te)if(ue[Te]!==ae[Te]){pe=ue[Te],De=ae[Te];break}return pe<De?-1:De<pe?1:0},i.isEncoding=function(ue){switch(String(ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(ue,ae){if(!Array.isArray(ue))throw new TypeError('"list" argument must be an Array of Buffers');if(ue.length===0)return i.alloc(0);var pe;if(ae===void 0)for(ae=0,pe=0;pe<ue.length;++pe)ae+=ue[pe].length;var De=i.allocUnsafe(ae),Te=0;for(pe=0;pe<ue.length;++pe){var Ae=ue[pe];if(me(Ae,Uint8Array))Te+Ae.length>De.length?(i.isBuffer(Ae)||(Ae=i.from(Ae)),Ae.copy(De,Te)):Uint8Array.prototype.set.call(De,Ae,Te);else{if(!i.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(De,Te)}Te+=Ae.length}return De},i.byteLength=g,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var ue=this.length;if(ue%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<ue;ae+=2)m(this,ae,ae+1);return this},i.prototype.swap32=function(){var ue=this.length;if(ue%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<ue;ae+=4)m(this,ae,ae+3),m(this,ae+1,ae+2);return this},i.prototype.swap64=function(){var ue=this.length;if(ue%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<ue;ae+=8)m(this,ae,ae+7),m(this,ae+1,ae+6),m(this,ae+2,ae+5),m(this,ae+3,ae+4);return this},i.prototype.toString=function(){var ue=this.length;return ue===0?"":arguments.length===0?L(this,0,ue):v.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(ue){if(!i.isBuffer(ue))throw new TypeError("Argument must be a Buffer");return this===ue||i.compare(this,ue)===0},i.prototype.inspect=function(){var ue="",ae=x.INSPECT_MAX_BYTES;return ue=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(ue+=" ... "),"<Buffer "+ue+">"},t&&(i.prototype[t]=i.prototype.inspect),i.prototype.compare=function(ue,ae,pe,De,Te){if(me(ue,Uint8Array)&&(ue=i.from(ue,ue.offset,ue.byteLength)),!i.isBuffer(ue))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(ue));if(ae===void 0&&(ae=0),pe===void 0&&(pe=ue?ue.length:0),De===void 0&&(De=0),Te===void 0&&(Te=this.length),ae<0||pe>ue.length||De<0||Te>this.length)throw new RangeError("out of range index");if(De>=Te&&ae>=pe)return 0;if(De>=Te)return-1;if(ae>=pe)return 1;if(this===ue)return 0;for(var Ae=(Te>>>=0)-(De>>>=0),Ce=(pe>>>=0)-(ae>>>=0),Re=Math.min(Ae,Ce),Ne=this.slice(De,Te),ge=ue.slice(ae,pe),Me=0;Me<Re;++Me)if(Ne[Me]!==ge[Me]){Ae=Ne[Me],Ce=ge[Me];break}return Ae<Ce?-1:Ce<Ae?1:0},i.prototype.includes=function(ue,ae,pe){return this.indexOf(ue,ae,pe)!==-1},i.prototype.indexOf=function(ue,ae,pe){return T(this,ue,ae,pe,!0)},i.prototype.lastIndexOf=function(ue,ae,pe){return T(this,ue,ae,pe,!1)},i.prototype.write=function(ue,ae,pe,De){if(ae===void 0)De="utf8",pe=this.length,ae=0;else if(pe===void 0&&typeof ae=="string")De=ae,pe=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae>>>=0,isFinite(pe)?(pe>>>=0,De===void 0&&(De="utf8")):(De=pe,pe=void 0)}var Te=this.length-ae;if((pe===void 0||pe>Te)&&(pe=Te),ue.length>0&&(pe<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");for(var Ae=!1;;)switch(De){case"hex":return A(this,ue,ae,pe);case"utf8":case"utf-8":return d(this,ue,ae,pe);case"ascii":case"latin1":case"binary":return C(this,ue,ae,pe);case"base64":return k(this,ue,ae,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,ue,ae,pe);default:if(Ae)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),Ae=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function z(ue,ae,pe){var De="";pe=Math.min(ue.length,pe);for(var Te=ae;Te<pe;++Te)De+=String.fromCharCode(127&ue[Te]);return De}function q(ue,ae,pe){var De="";pe=Math.min(ue.length,pe);for(var Te=ae;Te<pe;++Te)De+=String.fromCharCode(ue[Te]);return De}function N(ue,ae,pe){var De=ue.length;(!ae||ae<0)&&(ae=0),(!pe||pe<0||pe>De)&&(pe=De);for(var Te="",Ae=ae;Ae<pe;++Ae)Te+=Se[ue[Ae]];return Te}function V(ue,ae,pe){for(var De=ue.slice(ae,pe),Te="",Ae=0;Ae<De.length-1;Ae+=2)Te+=String.fromCharCode(De[Ae]+256*De[Ae+1]);return Te}function Z(ue,ae,pe){if(ue%1!=0||ue<0)throw new RangeError("offset is not uint");if(ue+ae>pe)throw new RangeError("Trying to access beyond buffer length")}function j(ue,ae,pe,De,Te,Ae){if(!i.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>Te||ae<Ae)throw new RangeError('"value" argument is out of bounds');if(pe+De>ue.length)throw new RangeError("Index out of range")}function H(ue,ae,pe,De,Te){se(ae,De,Te,ue,pe,7);var Ae=Number(ae&BigInt(4294967295));ue[pe++]=Ae,Ae>>=8,ue[pe++]=Ae,Ae>>=8,ue[pe++]=Ae,Ae>>=8,ue[pe++]=Ae;var Ce=Number(ae>>BigInt(32)&BigInt(4294967295));return ue[pe++]=Ce,Ce>>=8,ue[pe++]=Ce,Ce>>=8,ue[pe++]=Ce,Ce>>=8,ue[pe++]=Ce,pe}function Y(ue,ae,pe,De,Te){se(ae,De,Te,ue,pe,7);var Ae=Number(ae&BigInt(4294967295));ue[pe+7]=Ae,Ae>>=8,ue[pe+6]=Ae,Ae>>=8,ue[pe+5]=Ae,Ae>>=8,ue[pe+4]=Ae;var Ce=Number(ae>>BigInt(32)&BigInt(4294967295));return ue[pe+3]=Ce,Ce>>=8,ue[pe+2]=Ce,Ce>>=8,ue[pe+1]=Ce,Ce>>=8,ue[pe]=Ce,pe+8}function ie(ue,ae,pe,De,Te,Ae){if(pe+De>ue.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("Index out of range")}function re(ue,ae,pe,De,Te){return ae=+ae,pe>>>=0,Te||ie(ue,0,pe,4),s.write(ue,ae,pe,De,23,4),pe+4}function ne(ue,ae,pe,De,Te){return ae=+ae,pe>>>=0,Te||ie(ue,0,pe,8),s.write(ue,ae,pe,De,52,8),pe+8}i.prototype.slice=function(ue,ae){var pe=this.length;(ue=~~ue)<0?(ue+=pe)<0&&(ue=0):ue>pe&&(ue=pe),(ae=ae===void 0?pe:~~ae)<0?(ae+=pe)<0&&(ae=0):ae>pe&&(ae=pe),ae<ue&&(ae=ue);var De=this.subarray(ue,ae);return Object.setPrototypeOf(De,i.prototype),De},i.prototype.readUintLE=i.prototype.readUIntLE=function(ue,ae,pe){ue>>>=0,ae>>>=0,pe||Z(ue,ae,this.length);for(var De=this[ue],Te=1,Ae=0;++Ae<ae&&(Te*=256);)De+=this[ue+Ae]*Te;return De},i.prototype.readUintBE=i.prototype.readUIntBE=function(ue,ae,pe){ue>>>=0,ae>>>=0,pe||Z(ue,ae,this.length);for(var De=this[ue+--ae],Te=1;ae>0&&(Te*=256);)De+=this[ue+--ae]*Te;return De},i.prototype.readUint8=i.prototype.readUInt8=function(ue,ae){return ue>>>=0,ae||Z(ue,1,this.length),this[ue]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(ue,ae){return ue>>>=0,ae||Z(ue,2,this.length),this[ue]|this[ue+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(ue,ae){return ue>>>=0,ae||Z(ue,2,this.length),this[ue]<<8|this[ue+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(ue,ae){return ue>>>=0,ae||Z(ue,4,this.length),(this[ue]|this[ue+1]<<8|this[ue+2]<<16)+16777216*this[ue+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(ue,ae){return ue>>>=0,ae||Z(ue,4,this.length),16777216*this[ue]+(this[ue+1]<<16|this[ue+2]<<8|this[ue+3])},i.prototype.readBigUInt64LE=Ie(function(ue){ce(ue>>>=0,"offset");var ae=this[ue],pe=this[ue+7];ae!==void 0&&pe!==void 0||le(ue,this.length-8);var De=ae+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24),Te=this[++ue]+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+pe*Math.pow(2,24);return BigInt(De)+(BigInt(Te)<<BigInt(32))}),i.prototype.readBigUInt64BE=Ie(function(ue){ce(ue>>>=0,"offset");var ae=this[ue],pe=this[ue+7];ae!==void 0&&pe!==void 0||le(ue,this.length-8);var De=ae*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue],Te=this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+pe;return(BigInt(De)<<BigInt(32))+BigInt(Te)}),i.prototype.readIntLE=function(ue,ae,pe){ue>>>=0,ae>>>=0,pe||Z(ue,ae,this.length);for(var De=this[ue],Te=1,Ae=0;++Ae<ae&&(Te*=256);)De+=this[ue+Ae]*Te;return De>=(Te*=128)&&(De-=Math.pow(2,8*ae)),De},i.prototype.readIntBE=function(ue,ae,pe){ue>>>=0,ae>>>=0,pe||Z(ue,ae,this.length);for(var De=ae,Te=1,Ae=this[ue+--De];De>0&&(Te*=256);)Ae+=this[ue+--De]*Te;return Ae>=(Te*=128)&&(Ae-=Math.pow(2,8*ae)),Ae},i.prototype.readInt8=function(ue,ae){return ue>>>=0,ae||Z(ue,1,this.length),128&this[ue]?-1*(255-this[ue]+1):this[ue]},i.prototype.readInt16LE=function(ue,ae){ue>>>=0,ae||Z(ue,2,this.length);var pe=this[ue]|this[ue+1]<<8;return 32768&pe?4294901760|pe:pe},i.prototype.readInt16BE=function(ue,ae){ue>>>=0,ae||Z(ue,2,this.length);var pe=this[ue+1]|this[ue]<<8;return 32768&pe?4294901760|pe:pe},i.prototype.readInt32LE=function(ue,ae){return ue>>>=0,ae||Z(ue,4,this.length),this[ue]|this[ue+1]<<8|this[ue+2]<<16|this[ue+3]<<24},i.prototype.readInt32BE=function(ue,ae){return ue>>>=0,ae||Z(ue,4,this.length),this[ue]<<24|this[ue+1]<<16|this[ue+2]<<8|this[ue+3]},i.prototype.readBigInt64LE=Ie(function(ue){ce(ue>>>=0,"offset");var ae=this[ue],pe=this[ue+7];ae!==void 0&&pe!==void 0||le(ue,this.length-8);var De=this[ue+4]+this[ue+5]*Math.pow(2,8)+this[ue+6]*Math.pow(2,16)+(pe<<24);return(BigInt(De)<<BigInt(32))+BigInt(ae+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24))}),i.prototype.readBigInt64BE=Ie(function(ue){ce(ue>>>=0,"offset");var ae=this[ue],pe=this[ue+7];ae!==void 0&&pe!==void 0||le(ue,this.length-8);var De=(ae<<24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue];return(BigInt(De)<<BigInt(32))+BigInt(this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+pe)}),i.prototype.readFloatLE=function(ue,ae){return ue>>>=0,ae||Z(ue,4,this.length),s.read(this,ue,!0,23,4)},i.prototype.readFloatBE=function(ue,ae){return ue>>>=0,ae||Z(ue,4,this.length),s.read(this,ue,!1,23,4)},i.prototype.readDoubleLE=function(ue,ae){return ue>>>=0,ae||Z(ue,8,this.length),s.read(this,ue,!0,52,8)},i.prototype.readDoubleBE=function(ue,ae){return ue>>>=0,ae||Z(ue,8,this.length),s.read(this,ue,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(ue,ae,pe,De){ue=+ue,ae>>>=0,pe>>>=0,De||j(this,ue,ae,pe,Math.pow(2,8*pe)-1,0);var Te=1,Ae=0;for(this[ae]=255&ue;++Ae<pe&&(Te*=256);)this[ae+Ae]=ue/Te&255;return ae+pe},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(ue,ae,pe,De){ue=+ue,ae>>>=0,pe>>>=0,De||j(this,ue,ae,pe,Math.pow(2,8*pe)-1,0);var Te=pe-1,Ae=1;for(this[ae+Te]=255&ue;--Te>=0&&(Ae*=256);)this[ae+Te]=ue/Ae&255;return ae+pe},i.prototype.writeUint8=i.prototype.writeUInt8=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,1,255,0),this[ae]=255&ue,ae+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,2,65535,0),this[ae]=255&ue,this[ae+1]=ue>>>8,ae+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,2,65535,0),this[ae]=ue>>>8,this[ae+1]=255&ue,ae+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,4,4294967295,0),this[ae+3]=ue>>>24,this[ae+2]=ue>>>16,this[ae+1]=ue>>>8,this[ae]=255&ue,ae+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,4,4294967295,0),this[ae]=ue>>>24,this[ae+1]=ue>>>16,this[ae+2]=ue>>>8,this[ae+3]=255&ue,ae+4},i.prototype.writeBigUInt64LE=Ie(function(ue){return H(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=Ie(function(ue){return Y(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(ue,ae,pe,De){if(ue=+ue,ae>>>=0,!De){var Te=Math.pow(2,8*pe-1);j(this,ue,ae,pe,Te-1,-Te)}var Ae=0,Ce=1,Re=0;for(this[ae]=255&ue;++Ae<pe&&(Ce*=256);)ue<0&&Re===0&&this[ae+Ae-1]!==0&&(Re=1),this[ae+Ae]=(ue/Ce>>0)-Re&255;return ae+pe},i.prototype.writeIntBE=function(ue,ae,pe,De){if(ue=+ue,ae>>>=0,!De){var Te=Math.pow(2,8*pe-1);j(this,ue,ae,pe,Te-1,-Te)}var Ae=pe-1,Ce=1,Re=0;for(this[ae+Ae]=255&ue;--Ae>=0&&(Ce*=256);)ue<0&&Re===0&&this[ae+Ae+1]!==0&&(Re=1),this[ae+Ae]=(ue/Ce>>0)-Re&255;return ae+pe},i.prototype.writeInt8=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,1,127,-128),ue<0&&(ue=255+ue+1),this[ae]=255&ue,ae+1},i.prototype.writeInt16LE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,2,32767,-32768),this[ae]=255&ue,this[ae+1]=ue>>>8,ae+2},i.prototype.writeInt16BE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,2,32767,-32768),this[ae]=ue>>>8,this[ae+1]=255&ue,ae+2},i.prototype.writeInt32LE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,4,2147483647,-2147483648),this[ae]=255&ue,this[ae+1]=ue>>>8,this[ae+2]=ue>>>16,this[ae+3]=ue>>>24,ae+4},i.prototype.writeInt32BE=function(ue,ae,pe){return ue=+ue,ae>>>=0,pe||j(this,ue,ae,4,2147483647,-2147483648),ue<0&&(ue=4294967295+ue+1),this[ae]=ue>>>24,this[ae+1]=ue>>>16,this[ae+2]=ue>>>8,this[ae+3]=255&ue,ae+4},i.prototype.writeBigInt64LE=Ie(function(ue){return H(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=Ie(function(ue){return Y(this,ue,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeFloatLE=function(ue,ae,pe){return re(this,ue,ae,!0,pe)},i.prototype.writeFloatBE=function(ue,ae,pe){return re(this,ue,ae,!1,pe)},i.prototype.writeDoubleLE=function(ue,ae,pe){return ne(this,ue,ae,!0,pe)},i.prototype.writeDoubleBE=function(ue,ae,pe){return ne(this,ue,ae,!1,pe)},i.prototype.copy=function(ue,ae,pe,De){if(!i.isBuffer(ue))throw new TypeError("argument should be a Buffer");if(pe||(pe=0),De||De===0||(De=this.length),ae>=ue.length&&(ae=ue.length),ae||(ae=0),De>0&&De<pe&&(De=pe),De===pe||ue.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(pe<0||pe>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),ue.length-ae<De-pe&&(De=ue.length-ae+pe);var Te=De-pe;return this===ue&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,pe,De):Uint8Array.prototype.set.call(ue,this.subarray(pe,De),ae),Te},i.prototype.fill=function(ue,ae,pe,De){if(typeof ue=="string"){if(typeof ae=="string"?(De=ae,ae=0,pe=this.length):typeof pe=="string"&&(De=pe,pe=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!i.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(ue.length===1){var Te=ue.charCodeAt(0);(De==="utf8"&&Te<128||De==="latin1")&&(ue=Te)}}else typeof ue=="number"?ue&=255:typeof ue=="boolean"&&(ue=Number(ue));if(ae<0||this.length<ae||this.length<pe)throw new RangeError("Out of range index");if(pe<=ae)return this;var Ae;if(ae>>>=0,pe=pe===void 0?this.length:pe>>>0,ue||(ue=0),typeof ue=="number")for(Ae=ae;Ae<pe;++Ae)this[Ae]=ue;else{var Ce=i.isBuffer(ue)?ue:i.from(ue,De),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+ue+'" is invalid for argument "value"');for(Ae=0;Ae<pe-ae;++Ae)this[Ae+ae]=Ce[Ae%Re]}return this};var ee={};function Q(ue,ae,pe){ee[ue]=function(De){function Te(){var Re;return function(Ne,ge){if(!(Ne instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,Te),Re=function(Ne,ge,Me){return ge=y(ge),function(Ee,Fe){if(Fe&&(b(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(Ee)}(Ne,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(ge,Me||[],y(Ne).constructor):ge.apply(Ne,Me))}(this,Te),Object.defineProperty(n(Re),"message",{value:ae.apply(n(Re),arguments),writable:!0,configurable:!0}),Re.name="".concat(Re.name," [").concat(ue,"]"),Re.stack,delete Re.name,Re}var Ae,Ce;return function(Re,Ne){if(typeof Ne!="function"&&Ne!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),Ne&&M(Re,Ne)}(Te,De),Ae=Te,(Ce=[{key:"code",get:function(){return ue},set:function(Re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Re,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ue,"]: ").concat(this.message)}}])&&p(Ae.prototype,Ce),Object.defineProperty(Ae,"prototype",{writable:!1}),Te}(pe)}function X(ue){for(var ae="",pe=ue.length,De=ue[0]==="-"?1:0;pe>=De+4;pe-=3)ae="_".concat(ue.slice(pe-3,pe)).concat(ae);return"".concat(ue.slice(0,pe)).concat(ae)}function se(ue,ae,pe,De,Te,Ae){if(ue>pe||ue<ae){var Ce,Re=typeof ae=="bigint"?"n":"";throw Ce=Ae>3?ae===0||ae===BigInt(0)?">= 0".concat(Re," and < 2").concat(Re," ** ").concat(8*(Ae+1)).concat(Re):">= -(2".concat(Re," ** ").concat(8*(Ae+1)-1).concat(Re,") and < 2 ** ")+"".concat(8*(Ae+1)-1).concat(Re):">= ".concat(ae).concat(Re," and <= ").concat(pe).concat(Re),new ee.ERR_OUT_OF_RANGE("value",Ce,ue)}(function(Ne,ge,Me){ce(ge,"offset"),Ne[ge]!==void 0&&Ne[ge+Me]!==void 0||le(ge,Ne.length-(Me+1))})(De,Te,Ae)}function ce(ue,ae){if(typeof ue!="number")throw new ee.ERR_INVALID_ARG_TYPE(ae,"number",ue)}function le(ue,ae,pe){throw Math.floor(ue)!==ue?(ce(ue,pe),new ee.ERR_OUT_OF_RANGE(pe||"offset","an integer",ue)):ae<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE(pe||"offset",">= ".concat(pe?1:0," and <= ").concat(ae),ue)}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(ue){return ue?"".concat(ue," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(ue,ae){return'The "'.concat(ue,'" argument must be of type number. Received type ').concat(b(ae))},TypeError),Q("ERR_OUT_OF_RANGE",function(ue,ae,pe){var De='The value of "'.concat(ue,'" is out of range.'),Te=pe;return Number.isInteger(pe)&&Math.abs(pe)>Math.pow(2,32)?Te=X(String(pe)):typeof pe=="bigint"&&(Te=String(pe),(pe>Math.pow(BigInt(2),BigInt(32))||pe<-Math.pow(BigInt(2),BigInt(32)))&&(Te=X(Te)),Te+="n"),De+" It must be ".concat(ae,". Received ").concat(Te)},RangeError);var de=/[^+/0-9A-Za-z-_]/g;function be(ue,ae){var pe;ae=ae||1/0;for(var De=ue.length,Te=null,Ae=[],Ce=0;Ce<De;++Ce){if((pe=ue.charCodeAt(Ce))>55295&&pe<57344){if(!Te){if(pe>56319){(ae-=3)>-1&&Ae.push(239,191,189);continue}if(Ce+1===De){(ae-=3)>-1&&Ae.push(239,191,189);continue}Te=pe;continue}if(pe<56320){(ae-=3)>-1&&Ae.push(239,191,189),Te=pe;continue}pe=65536+(Te-55296<<10|pe-56320)}else Te&&(ae-=3)>-1&&Ae.push(239,191,189);if(Te=null,pe<128){if((ae-=1)<0)break;Ae.push(pe)}else if(pe<2048){if((ae-=2)<0)break;Ae.push(pe>>6|192,63&pe|128)}else if(pe<65536){if((ae-=3)<0)break;Ae.push(pe>>12|224,pe>>6&63|128,63&pe|128)}else{if(!(pe<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;Ae.push(pe>>18|240,pe>>12&63|128,pe>>6&63|128,63&pe|128)}}return Ae}function _e(ue){return f.toByteArray(function(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(de,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(ue))}function ve(ue,ae,pe,De){var Te;for(Te=0;Te<De&&!(Te+pe>=ae.length||Te>=ue.length);++Te)ae[Te+pe]=ue[Te];return Te}function me(ue,ae){return ue instanceof ae||ue!=null&&ue.constructor!=null&&ue.constructor.name!=null&&ue.constructor.name===ae.name}function ye(ue){return ue!=ue}var Se=function(){for(var ue="0123456789abcdef",ae=new Array(256),pe=0;pe<16;++pe)for(var De=16*pe,Te=0;Te<16;++Te)ae[De+Te]=ue[pe]+ue[Te];return ae}();function Ie(ue){return typeof BigInt>"u"?xe:ue}function xe(){throw new Error("BigInt not supported")}},25928:function(S){"use strict";S.exports=y,S.exports.isMobile=y,S.exports.default=y;var x=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function y(n){n||(n={});var M=n.ua;if(M||typeof navigator>"u"||(M=navigator.userAgent),M&&M.headers&&typeof M.headers["user-agent"]=="string"&&(M=M.headers["user-agent"]),typeof M!="string")return!1;var b=x.test(M)&&!e.test(M)||!!n.tablet&&p.test(M);return!b&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&M.indexOf("Macintosh")!==-1&&M.indexOf("Safari")!==-1&&(b=!0),b}},48932:function(S,x,e){"use strict";e.r(x),e.d(x,{sankeyCenter:function(){return r},sankeyCircular:function(){return O},sankeyJustify:function(){return o},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var p=e(84706),y=e(34712),n=e(10132),M=e(6688),b=e.n(M);function f(ve){return ve.target.depth}function s(ve){return ve.depth}function t(ve,me){return me-1-ve.height}function o(ve,me){return ve.sourceLinks.length?ve.depth:me-1}function r(ve){return ve.targetLinks.length?ve.depth:ve.sourceLinks.length?(0,p.SY)(ve.sourceLinks,f)-1:0}function i(ve){return function(){return ve}}var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve};function l(ve,me){return h(ve.source,me.source)||ve.index-me.index}function u(ve,me){return h(ve.target,me.target)||ve.index-me.index}function h(ve,me){return ve.partOfCycle===me.partOfCycle?ve.y0-me.y0:ve.circularLinkType==="top"||me.circularLinkType==="bottom"?-1:1}function c(ve){return ve.value}function w(ve){return(ve.y0+ve.y1)/2}function g(ve){return w(ve.source)}function v(ve){return w(ve.target)}function m(ve){return ve.index}function T(ve){return ve.nodes}function _(ve){return ve.links}function A(ve,me){var ye=ve.get(me);if(!ye)throw new Error("missing: "+me);return ye}function d(ve,me){return me(ve)}var C=25,k=10,D=.3;function O(){var ve,me,ye=0,Se=0,Ie=1,xe=1,ue=24,ae=m,pe=o,De=T,Te=_,Ae=32,Ce=2,Re=null;function Ne(){var Me={nodes:De.apply(null,arguments),links:Te.apply(null,arguments)};(function(Fe){Fe.nodes.forEach(function(Ue,Ge){Ue.index=Ge,Ue.sourceLinks=[],Ue.targetLinks=[]});var Le=(0,y.kH)(Fe.nodes,ae);Fe.links.forEach(function(Ue,Ge){Ue.index=Ge;var Ke=Ue.source,at=Ue.target;(Ke===void 0?"undefined":a(Ke))!=="object"&&(Ke=Ue.source=A(Le,Ke)),(at===void 0?"undefined":a(at))!=="object"&&(at=Ue.target=A(Le,at)),Ke.sourceLinks.push(Ue),at.targetLinks.push(Ue)})})(Me),function(Fe,Le,Ue){var Ge=0;if(Ue===null){for(var Ke=[],at=0;at<Fe.links.length;at++){var st=Fe.links[at],vt=st.source.index,xt=st.target.index;Ke[vt]||(Ke[vt]=[]),Ke[xt]||(Ke[xt]=[]),Ke[vt].indexOf(xt)===-1&&Ke[vt].push(xt)}var gt=b()(Ke);gt.sort(function(At,Pt){return At.length-Pt.length});var nt={};for(at=0;at<gt.length;at++){var et=gt[at].slice(-2);nt[et[0]]||(nt[et[0]]={}),nt[et[0]][et[1]]=!0}Fe.links.forEach(function(At){var Pt=At.target.index,Rt=At.source.index;Pt===Rt||nt[Rt]&&nt[Rt][Pt]?(At.circular=!0,At.circularLinkID=Ge,Ge+=1):At.circular=!1})}else Fe.links.forEach(function(At){At.source[Ue]<At.target[Ue]?At.circular=!1:(At.circular=!0,At.circularLinkID=Ge,Ge+=1)})}(Me,0,Re),function(Fe){Fe.nodes.forEach(function(Le){Le.partOfCycle=!1,Le.value=Math.max((0,p.oh)(Le.sourceLinks,c),(0,p.oh)(Le.targetLinks,c)),Le.sourceLinks.forEach(function(Ue){Ue.circular&&(Le.partOfCycle=!0,Le.circularLinkType=Ue.circularLinkType)}),Le.targetLinks.forEach(function(Ue){Ue.circular&&(Le.partOfCycle=!0,Le.circularLinkType=Ue.circularLinkType)})})}(Me),function(Fe){var Le,Ue,Ge;for(Le=Fe.nodes,Ue=[],Ge=0;Le.length;++Ge,Le=Ue,Ue=[])Le.forEach(function(Ke){Ke.depth=Ge,Ke.sourceLinks.forEach(function(at){Ue.indexOf(at.target)<0&&!at.circular&&Ue.push(at.target)})});for(Le=Fe.nodes,Ue=[],Ge=0;Le.length;++Ge,Le=Ue,Ue=[])Le.forEach(function(Ke){Ke.height=Ge,Ke.targetLinks.forEach(function(at){Ue.indexOf(at.source)<0&&!at.circular&&Ue.push(at.source)})});Fe.nodes.forEach(function(Ke){Ke.column=Math.floor(pe.call(null,Ke,Ge))})}(Me),L(Me,ae),function(Fe,Le,Ue){var Ge=(0,y.UJ)().key(function(xt){return xt.column}).sortKeys(p.XE).entries(Fe.nodes).map(function(xt){return xt.values});(function(xt){if(me){var gt=1/0;Ge.forEach(function(Pt){var Rt=xe*me/(Pt.length+1);gt=Rt<gt?Rt:gt}),ve=gt}var nt=(0,p.SY)(Ge,function(Pt){return(xe-Se-(Pt.length-1)*ve)/(0,p.oh)(Pt,c)});nt*=D,Fe.links.forEach(function(Pt){Pt.width=Pt.value*nt});var et=function(Pt){var Rt=0,Et=0,Ye=0,Xe=0,Ve=(0,p.kv)(Pt.nodes,function(Ze){return Ze.column});return Pt.links.forEach(function(Ze){Ze.circular&&(Ze.circularLinkType=="top"?Rt+=Ze.width:Et+=Ze.width,Ze.target.column==0&&(Xe+=Ze.width),Ze.source.column==Ve&&(Ye+=Ze.width))}),{top:Rt=Rt>0?Rt+C+k:Rt,bottom:Et=Et>0?Et+C+k:Et,left:Xe=Xe>0?Xe+C+k:Xe,right:Ye=Ye>0?Ye+C+k:Ye}}(Fe),At=function(Pt,Rt){var Et=(0,p.kv)(Pt.nodes,function(lt){return lt.column}),Ye=Ie-ye,Xe=xe-Se,Ve=Ye/(Ye+Rt.right+Rt.left),Ze=Xe/(Xe+Rt.top+Rt.bottom);return ye=ye*Ve+Rt.left,Ie=Rt.right==0?Ie:Ie*Ve,Se=Se*Ze+Rt.top,xe*=Ze,Pt.nodes.forEach(function(lt){lt.x0=ye+lt.column*((Ie-ye-ue)/Et),lt.x1=lt.x0+ue}),Ze}(Fe,et);nt*=At,Fe.links.forEach(function(Pt){Pt.width=Pt.value*nt}),Ge.forEach(function(Pt){var Rt=Pt.length;Pt.forEach(function(Et,Ye){Et.depth==Ge.length-1&&Rt==1||Et.depth==0&&Rt==1?(Et.y0=xe/2-Et.value*nt,Et.y1=Et.y0+Et.value*nt):Et.partOfCycle?z(Et,xt)==0?(Et.y0=xe/2+Ye,Et.y1=Et.y0+Et.value*nt):Et.circularLinkType=="top"?(Et.y0=Se+Ye,Et.y1=Et.y0+Et.value*nt):(Et.y0=xe-Et.value*nt-Ye,Et.y1=Et.y0+Et.value*nt):et.top==0||et.bottom==0?(Et.y0=(xe-Se)/Rt*Ye,Et.y1=Et.y0+Et.value*nt):(Et.y0=(xe-Se)/2-Rt/2+Ye,Et.y1=Et.y0+Et.value*nt)})})})(Ue),vt();for(var Ke=1,at=Le;at>0;--at)st(Ke*=.99,Ue),vt();function st(xt,gt){var nt=Ge.length;Ge.forEach(function(et){var At=et.length,Pt=et[0].depth;et.forEach(function(Rt){var Et;if((Rt.sourceLinks.length||Rt.targetLinks.length)&&!(Rt.partOfCycle&&z(Rt,gt)>0))if(Pt==0&&At==1)Et=Rt.y1-Rt.y0,Rt.y0=xe/2-Et/2,Rt.y1=xe/2+Et/2;else if(Pt==nt-1&&At==1)Et=Rt.y1-Rt.y0,Rt.y0=xe/2-Et/2,Rt.y1=xe/2+Et/2;else{var Ye=(0,p.mo)(Rt.sourceLinks,v),Xe=(0,p.mo)(Rt.targetLinks,g),Ve=((Ye&&Xe?(Ye+Xe)/2:Ye||Xe)-w(Rt))*xt;Rt.y0+=Ve,Rt.y1+=Ve}})})}function vt(){Ge.forEach(function(xt){var gt,nt,et,At=Se,Pt=xt.length;for(xt.sort(h),et=0;et<Pt;++et)(nt=At-(gt=xt[et]).y0)>0&&(gt.y0+=nt,gt.y1+=nt),At=gt.y1+ve;if((nt=At-ve-xe)>0)for(At=gt.y0-=nt,gt.y1-=nt,et=Pt-2;et>=0;--et)(nt=(gt=xt[et]).y1+ve-At)>0&&(gt.y0-=nt,gt.y1-=nt),At=gt.y0})}}(Me,Ae,ae),ge(Me);for(var Ee=0;Ee<4;Ee++)ce(Me,xe,ae),le(Me,0,ae),X(Me,Se,xe,ae),ce(Me,xe,ae),le(Me,0,ae);return function(Fe,Le,Ue){var Ge=Fe.nodes,Ke=Fe.links,at=!1,st=!1;if(Ke.forEach(function(gt){gt.circularLinkType=="top"?at=!0:gt.circularLinkType=="bottom"&&(st=!0)}),at==0||st==0){var vt=(0,p.SY)(Ge,function(gt){return gt.y0}),xt=(Ue-Le)/((0,p.kv)(Ge,function(gt){return gt.y1})-vt);Ge.forEach(function(gt){var nt=(gt.y1-gt.y0)*xt;gt.y0=(gt.y0-vt)*xt,gt.y1=gt.y0+nt}),Ke.forEach(function(gt){gt.y0=(gt.y0-vt)*xt,gt.y1=(gt.y1-vt)*xt,gt.width=gt.width*xt})}}(Me,Se,xe),V(Me,Ce,xe,ae),Me}function ge(Me){Me.nodes.forEach(function(Ee){Ee.sourceLinks.sort(u),Ee.targetLinks.sort(l)}),Me.nodes.forEach(function(Ee){var Fe=Ee.y0,Le=Fe,Ue=Ee.y1,Ge=Ue;Ee.sourceLinks.forEach(function(Ke){Ke.circular?(Ke.y0=Ue-Ke.width/2,Ue-=Ke.width):(Ke.y0=Fe+Ke.width/2,Fe+=Ke.width)}),Ee.targetLinks.forEach(function(Ke){Ke.circular?(Ke.y1=Ge-Ke.width/2,Ge-=Ke.width):(Ke.y1=Le+Ke.width/2,Le+=Ke.width)})})}return Ne.nodeId=function(Me){return arguments.length?(ae=typeof Me=="function"?Me:i(Me),Ne):ae},Ne.nodeAlign=function(Me){return arguments.length?(pe=typeof Me=="function"?Me:i(Me),Ne):pe},Ne.nodeWidth=function(Me){return arguments.length?(ue=+Me,Ne):ue},Ne.nodePadding=function(Me){return arguments.length?(ve=+Me,Ne):ve},Ne.nodes=function(Me){return arguments.length?(De=typeof Me=="function"?Me:i(Me),Ne):De},Ne.links=function(Me){return arguments.length?(Te=typeof Me=="function"?Me:i(Me),Ne):Te},Ne.size=function(Me){return arguments.length?(ye=Se=0,Ie=+Me[0],xe=+Me[1],Ne):[Ie-ye,xe-Se]},Ne.extent=function(Me){return arguments.length?(ye=+Me[0][0],Ie=+Me[1][0],Se=+Me[0][1],xe=+Me[1][1],Ne):[[ye,Se],[Ie,xe]]},Ne.iterations=function(Me){return arguments.length?(Ae=+Me,Ne):Ae},Ne.circularLinkGap=function(Me){return arguments.length?(Ce=+Me,Ne):Ce},Ne.nodePaddingRatio=function(Me){return arguments.length?(me=+Me,Ne):me},Ne.sortNodes=function(Me){return arguments.length?(Re=Me,Ne):Re},Ne.update=function(Me){return L(Me,ae),ge(Me),Me.links.forEach(function(Ee){Ee.circular&&(Ee.circularLinkType=Ee.y0+Ee.y1<xe?"top":"bottom",Ee.source.circularLinkType=Ee.circularLinkType,Ee.target.circularLinkType=Ee.circularLinkType)}),ce(Me,xe,ae,!1),le(Me,0,ae),V(Me,Ce,xe,ae),Me},Ne}function L(ve,me){var ye=0,Se=0;ve.links.forEach(function(Ie){Ie.circular&&(Ie.source.circularLinkType||Ie.target.circularLinkType?Ie.circularLinkType=Ie.source.circularLinkType?Ie.source.circularLinkType:Ie.target.circularLinkType:Ie.circularLinkType=ye<Se?"top":"bottom",Ie.circularLinkType=="top"?ye+=1:Se+=1,ve.nodes.forEach(function(xe){d(xe,me)!=d(Ie.source,me)&&d(xe,me)!=d(Ie.target,me)||(xe.circularLinkType=Ie.circularLinkType)}))}),ve.links.forEach(function(Ie){Ie.circular&&(Ie.source.circularLinkType==Ie.target.circularLinkType&&(Ie.circularLinkType=Ie.source.circularLinkType),_e(Ie,me)&&(Ie.circularLinkType=Ie.source.circularLinkType))})}function R(ve){var me=Math.abs(ve.y1-ve.y0),ye=Math.abs(ve.target.x0-ve.source.x1);return Math.atan(ye/me)}function z(ve,me){var ye=0;ve.sourceLinks.forEach(function(Ie){ye=Ie.circular&&!_e(Ie,me)?ye+1:ye});var Se=0;return ve.targetLinks.forEach(function(Ie){Se=Ie.circular&&!_e(Ie,me)?Se+1:Se}),ye+Se}function q(ve){var me=ve.source.sourceLinks,ye=0;me.forEach(function(xe){ye=xe.circular?ye+1:ye});var Se=ve.target.targetLinks,Ie=0;return Se.forEach(function(xe){Ie=xe.circular?Ie+1:Ie}),!(ye>1||Ie>1)}function N(ve,me,ye){return ve.sort(Z),ve.forEach(function(Se,Ie){var xe,ue,ae=0;if(_e(Se,ye)&&q(Se))Se.circularPathData.verticalBuffer=ae+Se.width/2;else{for(var pe=0;pe<Ie;pe++)if(xe=ve[Ie],ue=ve[pe],!(xe.source.column<ue.target.column||xe.target.column>ue.source.column)){var De=ve[pe].circularPathData.verticalBuffer+ve[pe].width/2+me;ae=De>ae?De:ae}Se.circularPathData.verticalBuffer=ae+Se.width/2}}),ve}function V(ve,me,ye,Se){var Ie=(0,p.SY)(ve.links,function(xe){return xe.source.y0});ve.links.forEach(function(xe){xe.circular&&(xe.circularPathData={})}),N(ve.links.filter(function(xe){return xe.circularLinkType=="top"}),me,Se),N(ve.links.filter(function(xe){return xe.circularLinkType=="bottom"}),me,Se),ve.links.forEach(function(xe){if(xe.circular){if(xe.circularPathData.arcRadius=xe.width+k,xe.circularPathData.leftNodeBuffer=5,xe.circularPathData.rightNodeBuffer=5,xe.circularPathData.sourceWidth=xe.source.x1-xe.source.x0,xe.circularPathData.sourceX=xe.source.x0+xe.circularPathData.sourceWidth,xe.circularPathData.targetX=xe.target.x0,xe.circularPathData.sourceY=xe.y0,xe.circularPathData.targetY=xe.y1,_e(xe,Se)&&q(xe))xe.circularPathData.leftSmallArcRadius=k+xe.width/2,xe.circularPathData.leftLargeArcRadius=k+xe.width/2,xe.circularPathData.rightSmallArcRadius=k+xe.width/2,xe.circularPathData.rightLargeArcRadius=k+xe.width/2,xe.circularLinkType=="bottom"?(xe.circularPathData.verticalFullExtent=xe.source.y1+C+xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.rightLargeArcRadius):(xe.circularPathData.verticalFullExtent=xe.source.y0-C-xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.rightLargeArcRadius);else{var ue=xe.source.column,ae=xe.circularLinkType,pe=ve.links.filter(function(Ae){return Ae.source.column==ue&&Ae.circularLinkType==ae});xe.circularLinkType=="bottom"?pe.sort(H):pe.sort(j);var De=0;pe.forEach(function(Ae,Ce){Ae.circularLinkID==xe.circularLinkID&&(xe.circularPathData.leftSmallArcRadius=k+xe.width/2+De,xe.circularPathData.leftLargeArcRadius=k+xe.width/2+Ce*me+De),De+=Ae.width}),ue=xe.target.column,pe=ve.links.filter(function(Ae){return Ae.target.column==ue&&Ae.circularLinkType==ae}),xe.circularLinkType=="bottom"?pe.sort(ie):pe.sort(Y),De=0,pe.forEach(function(Ae,Ce){Ae.circularLinkID==xe.circularLinkID&&(xe.circularPathData.rightSmallArcRadius=k+xe.width/2+De,xe.circularPathData.rightLargeArcRadius=k+xe.width/2+Ce*me+De),De+=Ae.width}),xe.circularLinkType=="bottom"?(xe.circularPathData.verticalFullExtent=Math.max(ye,xe.source.y1,xe.target.y1)+C+xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent-xe.circularPathData.rightLargeArcRadius):(xe.circularPathData.verticalFullExtent=Ie-C-xe.circularPathData.verticalBuffer,xe.circularPathData.verticalLeftInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.leftLargeArcRadius,xe.circularPathData.verticalRightInnerExtent=xe.circularPathData.verticalFullExtent+xe.circularPathData.rightLargeArcRadius)}xe.circularPathData.leftInnerExtent=xe.circularPathData.sourceX+xe.circularPathData.leftNodeBuffer,xe.circularPathData.rightInnerExtent=xe.circularPathData.targetX-xe.circularPathData.rightNodeBuffer,xe.circularPathData.leftFullExtent=xe.circularPathData.sourceX+xe.circularPathData.leftLargeArcRadius+xe.circularPathData.leftNodeBuffer,xe.circularPathData.rightFullExtent=xe.circularPathData.targetX-xe.circularPathData.rightLargeArcRadius-xe.circularPathData.rightNodeBuffer}if(xe.circular)xe.path=function(Ae){return Ae.circularLinkType=="top"?"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:"M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY}(xe);else{var Te=(0,n.ak)().source(function(Ae){return[Ae.source.x0+(Ae.source.x1-Ae.source.x0),Ae.y0]}).target(function(Ae){return[Ae.target.x0,Ae.y1]});xe.path=Te(xe)}})}function Z(ve,me){return re(ve)==re(me)?ve.circularLinkType=="bottom"?H(ve,me):j(ve,me):re(me)-re(ve)}function j(ve,me){return ve.y0-me.y0}function H(ve,me){return me.y0-ve.y0}function Y(ve,me){return ve.y1-me.y1}function ie(ve,me){return me.y1-ve.y1}function re(ve){return ve.target.column-ve.source.column}function ne(ve){return ve.target.x0-ve.source.x1}function ee(ve,me){var ye=R(ve),Se=ne(me)/Math.tan(ye);return be(ve)=="up"?ve.y1+Se:ve.y1-Se}function Q(ve,me){var ye=R(ve),Se=ne(me)/Math.tan(ye);return be(ve)=="up"?ve.y1-Se:ve.y1+Se}function X(ve,me,ye,Se){ve.links.forEach(function(Ie){if(!Ie.circular&&Ie.target.column-Ie.source.column>1){var xe=Ie.source.column+1,ue=Ie.target.column-1,ae=1,pe=ue-xe+1;for(ae=1;xe<=ue;xe++,ae++)ve.nodes.forEach(function(De){if(De.column==xe){var Te,Ae=ae/(pe+1),Ce=Math.pow(1-Ae,3),Re=3*Ae*Math.pow(1-Ae,2),Ne=3*Math.pow(Ae,2)*(1-Ae),ge=Math.pow(Ae,3),Me=Ce*Ie.y0+Re*Ie.y0+Ne*Ie.y1+ge*Ie.y1,Ee=Me-Ie.width/2,Fe=Me+Ie.width/2;Ee>De.y0&&Ee<De.y1?(Te=De.y1-Ee+10,Te=De.circularLinkType=="bottom"?Te:-Te,De=se(De,Te,me,ye),ve.nodes.forEach(function(Le){var Ue,Ge;d(Le,Se)!=d(De,Se)&&Le.column==De.column&&(Ge=Le,(Ue=De).y0>Ge.y0&&Ue.y0<Ge.y1||Ue.y1>Ge.y0&&Ue.y1<Ge.y1||Ue.y0<Ge.y0&&Ue.y1>Ge.y1)&&se(Le,Te,me,ye)})):(Fe>De.y0&&Fe<De.y1||Ee<De.y0&&Fe>De.y1)&&(Te=Fe-De.y0+10,De=se(De,Te,me,ye),ve.nodes.forEach(function(Le){d(Le,Se)!=d(De,Se)&&Le.column==De.column&&Le.y0<De.y1&&Le.y1>De.y1&&se(Le,Te,me,ye)}))}})}})}function se(ve,me,ye,Se){return ve.y0+me>=ye&&ve.y1+me<=Se&&(ve.y0=ve.y0+me,ve.y1=ve.y1+me,ve.targetLinks.forEach(function(Ie){Ie.y1=Ie.y1+me}),ve.sourceLinks.forEach(function(Ie){Ie.y0=Ie.y0+me})),ve}function ce(ve,me,ye,Se){ve.nodes.forEach(function(Ie){Se&&Ie.y+(Ie.y1-Ie.y0)>me&&(Ie.y=Ie.y-(Ie.y+(Ie.y1-Ie.y0)-me));var xe=ve.links.filter(function(pe){return d(pe.source,ye)==d(Ie,ye)}),ue=xe.length;ue>1&&xe.sort(function(pe,De){if(!pe.circular&&!De.circular){if(pe.target.column==De.target.column||!de(pe,De))return pe.y1-De.y1;if(pe.target.column>De.target.column){var Te=Q(De,pe);return pe.y1-Te}if(De.target.column>pe.target.column)return Q(pe,De)-De.y1}return pe.circular&&!De.circular?pe.circularLinkType=="top"?-1:1:De.circular&&!pe.circular?De.circularLinkType=="top"?1:-1:pe.circular&&De.circular?pe.circularLinkType===De.circularLinkType&&pe.circularLinkType=="top"?pe.target.column===De.target.column?pe.target.y1-De.target.y1:De.target.column-pe.target.column:pe.circularLinkType===De.circularLinkType&&pe.circularLinkType=="bottom"?pe.target.column===De.target.column?De.target.y1-pe.target.y1:pe.target.column-De.target.column:pe.circularLinkType=="top"?-1:1:void 0});var ae=Ie.y0;xe.forEach(function(pe){pe.y0=ae+pe.width/2,ae+=pe.width}),xe.forEach(function(pe,De){if(pe.circularLinkType=="bottom"){for(var Te=De+1,Ae=0;Te<ue;Te++)Ae+=xe[Te].width;pe.y0=Ie.y1-Ae-pe.width/2}})})}function le(ve,me,ye){ve.nodes.forEach(function(Se){var Ie=ve.links.filter(function(ae){return d(ae.target,ye)==d(Se,ye)}),xe=Ie.length;xe>1&&Ie.sort(function(ae,pe){if(!ae.circular&&!pe.circular){if(ae.source.column==pe.source.column||!de(ae,pe))return ae.y0-pe.y0;if(pe.source.column<ae.source.column){var De=ee(pe,ae);return ae.y0-De}if(ae.source.column<pe.source.column)return ee(ae,pe)-pe.y0}return ae.circular&&!pe.circular?ae.circularLinkType=="top"?-1:1:pe.circular&&!ae.circular?pe.circularLinkType=="top"?1:-1:ae.circular&&pe.circular?ae.circularLinkType===pe.circularLinkType&&ae.circularLinkType=="top"?ae.source.column===pe.source.column?ae.source.y1-pe.source.y1:ae.source.column-pe.source.column:ae.circularLinkType===pe.circularLinkType&&ae.circularLinkType=="bottom"?ae.source.column===pe.source.column?ae.source.y1-pe.source.y1:pe.source.column-ae.source.column:ae.circularLinkType=="top"?-1:1:void 0});var ue=Se.y0;Ie.forEach(function(ae){ae.y1=ue+ae.width/2,ue+=ae.width}),Ie.forEach(function(ae,pe){if(ae.circularLinkType=="bottom"){for(var De=pe+1,Te=0;De<xe;De++)Te+=Ie[De].width;ae.y1=Se.y1-Te-ae.width/2}})})}function de(ve,me){return be(ve)==be(me)}function be(ve){return ve.y0-ve.y1>0?"up":"down"}function _e(ve,me){return d(ve.source,me)==d(ve.target,me)}},26800:function(S,x,e){"use strict";e.r(x),e.d(x,{sankey:function(){return m},sankeyCenter:function(){return s},sankeyJustify:function(){return f},sankeyLeft:function(){return M},sankeyLinkHorizontal:function(){return d},sankeyRight:function(){return b}});var p=e(84706),y=e(34712);function n(C){return C.target.depth}function M(C){return C.depth}function b(C,k){return k-1-C.height}function f(C,k){return C.sourceLinks.length?C.depth:k-1}function s(C){return C.targetLinks.length?C.depth:C.sourceLinks.length?(0,p.SY)(C.sourceLinks,n)-1:0}function t(C){return function(){return C}}function o(C,k){return i(C.source,k.source)||C.index-k.index}function r(C,k){return i(C.target,k.target)||C.index-k.index}function i(C,k){return C.y0-k.y0}function a(C){return C.value}function l(C){return(C.y0+C.y1)/2}function u(C){return l(C.source)*C.value}function h(C){return l(C.target)*C.value}function c(C){return C.index}function w(C){return C.nodes}function g(C){return C.links}function v(C,k){var D=C.get(k);if(!D)throw new Error("missing: "+k);return D}function m(){var C=0,k=0,D=1,O=1,L=24,R=8,z=c,q=f,N=w,V=g,Z=32;function j(){var Y={nodes:N.apply(null,arguments),links:V.apply(null,arguments)};return function(ie){ie.nodes.forEach(function(ne,ee){ne.index=ee,ne.sourceLinks=[],ne.targetLinks=[]});var re=(0,y.kH)(ie.nodes,z);ie.links.forEach(function(ne,ee){ne.index=ee;var Q=ne.source,X=ne.target;typeof Q!="object"&&(Q=ne.source=v(re,Q)),typeof X!="object"&&(X=ne.target=v(re,X)),Q.sourceLinks.push(ne),X.targetLinks.push(ne)})}(Y),function(ie){ie.nodes.forEach(function(re){re.value=Math.max((0,p.oh)(re.sourceLinks,a),(0,p.oh)(re.targetLinks,a))})}(Y),function(ie){var re,ne,ee;for(re=ie.nodes,ne=[],ee=0;re.length;++ee,re=ne,ne=[])re.forEach(function(X){X.depth=ee,X.sourceLinks.forEach(function(se){ne.indexOf(se.target)<0&&ne.push(se.target)})});for(re=ie.nodes,ne=[],ee=0;re.length;++ee,re=ne,ne=[])re.forEach(function(X){X.height=ee,X.targetLinks.forEach(function(se){ne.indexOf(se.source)<0&&ne.push(se.source)})});var Q=(D-C-L)/(ee-1);ie.nodes.forEach(function(X){X.x1=(X.x0=C+Math.max(0,Math.min(ee-1,Math.floor(q.call(null,X,ee))))*Q)+L})}(Y),function(ie){var re=(0,y.UJ)().key(function(ce){return ce.x0}).sortKeys(p.XE).entries(ie.nodes).map(function(ce){return ce.values});(function(){var ce=(0,p.kv)(re,function(be){return be.length}),le=.6666666666666666*(O-k)/(ce-1);R>le&&(R=le);var de=(0,p.SY)(re,function(be){return(O-k-(be.length-1)*R)/(0,p.oh)(be,a)});re.forEach(function(be){be.forEach(function(_e,ve){_e.y1=(_e.y0=ve)+_e.value*de})}),ie.links.forEach(function(be){be.width=be.value*de})})(),se();for(var ne=1,ee=Z;ee>0;--ee)X(ne*=.99),se(),Q(ne),se();function Q(ce){re.forEach(function(le){le.forEach(function(de){if(de.targetLinks.length){var be=((0,p.oh)(de.targetLinks,u)/(0,p.oh)(de.targetLinks,a)-l(de))*ce;de.y0+=be,de.y1+=be}})})}function X(ce){re.slice().reverse().forEach(function(le){le.forEach(function(de){if(de.sourceLinks.length){var be=((0,p.oh)(de.sourceLinks,h)/(0,p.oh)(de.sourceLinks,a)-l(de))*ce;de.y0+=be,de.y1+=be}})})}function se(){re.forEach(function(ce){var le,de,be,_e=k,ve=ce.length;for(ce.sort(i),be=0;be<ve;++be)(de=_e-(le=ce[be]).y0)>0&&(le.y0+=de,le.y1+=de),_e=le.y1+R;if((de=_e-R-O)>0)for(_e=le.y0-=de,le.y1-=de,be=ve-2;be>=0;--be)(de=(le=ce[be]).y1+R-_e)>0&&(le.y0-=de,le.y1-=de),_e=le.y0})}}(Y),H(Y),Y}function H(Y){Y.nodes.forEach(function(ie){ie.sourceLinks.sort(r),ie.targetLinks.sort(o)}),Y.nodes.forEach(function(ie){var re=ie.y0,ne=re;ie.sourceLinks.forEach(function(ee){ee.y0=re+ee.width/2,re+=ee.width}),ie.targetLinks.forEach(function(ee){ee.y1=ne+ee.width/2,ne+=ee.width})})}return j.update=function(Y){return H(Y),Y},j.nodeId=function(Y){return arguments.length?(z=typeof Y=="function"?Y:t(Y),j):z},j.nodeAlign=function(Y){return arguments.length?(q=typeof Y=="function"?Y:t(Y),j):q},j.nodeWidth=function(Y){return arguments.length?(L=+Y,j):L},j.nodePadding=function(Y){return arguments.length?(R=+Y,j):R},j.nodes=function(Y){return arguments.length?(N=typeof Y=="function"?Y:t(Y),j):N},j.links=function(Y){return arguments.length?(V=typeof Y=="function"?Y:t(Y),j):V},j.size=function(Y){return arguments.length?(C=k=0,D=+Y[0],O=+Y[1],j):[D-C,O-k]},j.extent=function(Y){return arguments.length?(C=+Y[0][0],D=+Y[1][0],k=+Y[0][1],O=+Y[1][1],j):[[C,k],[D,O]]},j.iterations=function(Y){return arguments.length?(Z=+Y,j):Z},j}var T=e(10132);function _(C){return[C.source.x1,C.y0]}function A(C){return[C.target.x0,C.y1]}function d(){return(0,T.ak)().source(_).target(A)}},33428:function(S,x,e){var p,y;(function(){var n={version:"3.8.2"},M=[].slice,b=function(I){return M.call(I)},f=self.document;function s(I){return I&&(I.ownerDocument||I.document||I).documentElement}function t(I){return I&&(I.ownerDocument&&I.ownerDocument.defaultView||I.document&&I||I.defaultView)}if(f)try{b(f.documentElement.childNodes)[0].nodeType}catch{b=function(G){for(var te=G.length,oe=new Array(te);te--;)oe[te]=G[te];return oe}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var o=this.Element.prototype,r=o.setAttribute,i=o.setAttributeNS,a=this.CSSStyleDeclaration.prototype,l=a.setProperty;o.setAttribute=function(G,te){r.call(this,G,te+"")},o.setAttributeNS=function(G,te,oe){i.call(this,G,te,oe+"")},a.setProperty=function(G,te,oe){l.call(this,G,te+"",oe)}}function u(I,G){return I<G?-1:I>G?1:I>=G?0:NaN}function h(I){return I===null?NaN:+I}function c(I){return!isNaN(I)}function w(I){return{left:function(G,te,oe,he){for(arguments.length<3&&(oe=0),arguments.length<4&&(he=G.length);oe<he;){var we=oe+he>>>1;I(G[we],te)<0?oe=we+1:he=we}return oe},right:function(G,te,oe,he){for(arguments.length<3&&(oe=0),arguments.length<4&&(he=G.length);oe<he;){var we=oe+he>>>1;I(G[we],te)>0?he=we:oe=we+1}return oe}}}n.ascending=u,n.descending=function(I,G){return G<I?-1:G>I?1:G>=I?0:NaN},n.min=function(I,G){var te,oe,he=-1,we=I.length;if(arguments.length===1){for(;++he<we;)if((oe=I[he])!=null&&oe>=oe){te=oe;break}for(;++he<we;)(oe=I[he])!=null&&te>oe&&(te=oe)}else{for(;++he<we;)if((oe=G.call(I,I[he],he))!=null&&oe>=oe){te=oe;break}for(;++he<we;)(oe=G.call(I,I[he],he))!=null&&te>oe&&(te=oe)}return te},n.max=function(I,G){var te,oe,he=-1,we=I.length;if(arguments.length===1){for(;++he<we;)if((oe=I[he])!=null&&oe>=oe){te=oe;break}for(;++he<we;)(oe=I[he])!=null&&oe>te&&(te=oe)}else{for(;++he<we;)if((oe=G.call(I,I[he],he))!=null&&oe>=oe){te=oe;break}for(;++he<we;)(oe=G.call(I,I[he],he))!=null&&oe>te&&(te=oe)}return te},n.extent=function(I,G){var te,oe,he,we=-1,Oe=I.length;if(arguments.length===1){for(;++we<Oe;)if((oe=I[we])!=null&&oe>=oe){te=he=oe;break}for(;++we<Oe;)(oe=I[we])!=null&&(te>oe&&(te=oe),he<oe&&(he=oe))}else{for(;++we<Oe;)if((oe=G.call(I,I[we],we))!=null&&oe>=oe){te=he=oe;break}for(;++we<Oe;)(oe=G.call(I,I[we],we))!=null&&(te>oe&&(te=oe),he<oe&&(he=oe))}return[te,he]},n.sum=function(I,G){var te,oe=0,he=I.length,we=-1;if(arguments.length===1)for(;++we<he;)c(te=+I[we])&&(oe+=te);else for(;++we<he;)c(te=+G.call(I,I[we],we))&&(oe+=te);return oe},n.mean=function(I,G){var te,oe=0,he=I.length,we=-1,Oe=he;if(arguments.length===1)for(;++we<he;)c(te=h(I[we]))?oe+=te:--Oe;else for(;++we<he;)c(te=h(G.call(I,I[we],we)))?oe+=te:--Oe;if(Oe)return oe/Oe},n.quantile=function(I,G){var te=(I.length-1)*G+1,oe=Math.floor(te),he=+I[oe-1],we=te-oe;return we?he+we*(I[oe]-he):he},n.median=function(I,G){var te,oe=[],he=I.length,we=-1;if(arguments.length===1)for(;++we<he;)c(te=h(I[we]))&&oe.push(te);else for(;++we<he;)c(te=h(G.call(I,I[we],we)))&&oe.push(te);if(oe.length)return n.quantile(oe.sort(u),.5)},n.variance=function(I,G){var te,oe,he=I.length,we=0,Oe=0,ze=-1,qe=0;if(arguments.length===1)for(;++ze<he;)c(te=h(I[ze]))&&(Oe+=(oe=te-we)*(te-(we+=oe/++qe)));else for(;++ze<he;)c(te=h(G.call(I,I[ze],ze)))&&(Oe+=(oe=te-we)*(te-(we+=oe/++qe)));if(qe>1)return Oe/(qe-1)},n.deviation=function(){var I=n.variance.apply(this,arguments);return I&&Math.sqrt(I)};var g=w(u);function v(I){return I.length}n.bisectLeft=g.left,n.bisect=n.bisectRight=g.right,n.bisector=function(I){return w(I.length===1?function(G,te){return u(I(G),te)}:I)},n.shuffle=function(I,G,te){(we=arguments.length)<3&&(te=I.length,we<2&&(G=0));for(var oe,he,we=te-G;we;)he=Math.random()*we--|0,oe=I[we+G],I[we+G]=I[he+G],I[he+G]=oe;return I},n.permute=function(I,G){for(var te=G.length,oe=new Array(te);te--;)oe[te]=I[G[te]];return oe},n.pairs=function(I){for(var G=0,te=I.length-1,oe=I[0],he=new Array(te<0?0:te);G<te;)he[G]=[oe,oe=I[++G]];return he},n.transpose=function(I){if(!(he=I.length))return[];for(var G=-1,te=n.min(I,v),oe=new Array(te);++G<te;)for(var he,we=-1,Oe=oe[G]=new Array(he);++we<he;)Oe[we]=I[we][G];return oe},n.zip=function(){return n.transpose(arguments)},n.keys=function(I){var G=[];for(var te in I)G.push(te);return G},n.values=function(I){var G=[];for(var te in I)G.push(I[te]);return G},n.entries=function(I){var G=[];for(var te in I)G.push({key:te,value:I[te]});return G},n.merge=function(I){for(var G,te,oe,he=I.length,we=-1,Oe=0;++we<he;)Oe+=I[we].length;for(te=new Array(Oe);--he>=0;)for(G=(oe=I[he]).length;--G>=0;)te[--Oe]=oe[G];return te};var m=Math.abs;function T(I,G){for(var te in G)Object.defineProperty(I.prototype,te,{value:G[te],enumerable:!1})}function _(){this._=Object.create(null)}n.range=function(I,G,te){if(arguments.length<3&&(te=1,arguments.length<2&&(G=I,I=0)),(G-I)/te==1/0)throw new Error("infinite range");var oe,he=[],we=function(ze){for(var qe=1;ze*qe%1;)qe*=10;return qe}(m(te)),Oe=-1;if(I*=we,G*=we,(te*=we)<0)for(;(oe=I+te*++Oe)>G;)he.push(oe/we);else for(;(oe=I+te*++Oe)<G;)he.push(oe/we);return he},n.map=function(I,G){var te=new _;if(I instanceof _)I.forEach(function(ze,qe){te.set(ze,qe)});else if(Array.isArray(I)){var oe,he=-1,we=I.length;if(arguments.length===1)for(;++he<we;)te.set(he,I[he]);else for(;++he<we;)te.set(G.call(I,oe=I[he],he),oe)}else for(var Oe in I)te.set(Oe,I[Oe]);return te};var A="__proto__",d="\0";function C(I){return(I+="")===A||I[0]===d?d+I:I}function k(I){return(I+="")[0]===d?I.slice(1):I}function D(I){return C(I)in this._}function O(I){return(I=C(I))in this._&&delete this._[I]}function L(){var I=[];for(var G in this._)I.push(k(G));return I}function R(){var I=0;for(var G in this._)++I;return I}function z(){for(var I in this._)return!1;return!0}function q(){this._=Object.create(null)}function N(I){return I}function V(I,G,te){return function(){var oe=te.apply(G,arguments);return oe===G?I:oe}}function Z(I,G){if(G in I)return G;G=G.charAt(0).toUpperCase()+G.slice(1);for(var te=0,oe=j.length;te<oe;++te){var he=j[te]+G;if(he in I)return he}}T(_,{has:D,get:function(I){return this._[C(I)]},set:function(I,G){return this._[C(I)]=G},remove:O,keys:L,values:function(){var I=[];for(var G in this._)I.push(this._[G]);return I},entries:function(){var I=[];for(var G in this._)I.push({key:k(G),value:this._[G]});return I},size:R,empty:z,forEach:function(I){for(var G in this._)I.call(this,k(G),this._[G])}}),n.nest=function(){var I,G,te={},oe=[],he=[];function we(ze,qe,We){if(We>=oe.length)return G?G.call(te,qe):I?qe.sort(I):qe;for(var rt,ft,pt,wt,Ct=-1,Mt=qe.length,zt=oe[We++],It=new _;++Ct<Mt;)(wt=It.get(rt=zt(ft=qe[Ct])))?wt.push(ft):It.set(rt,[ft]);return ze?(ft=ze(),pt=function(Xt,Gt){ft.set(Xt,we(ze,Gt,We))}):(ft={},pt=function(Xt,Gt){ft[Xt]=we(ze,Gt,We)}),It.forEach(pt),ft}function Oe(ze,qe){if(qe>=oe.length)return ze;var We=[],rt=he[qe++];return ze.forEach(function(ft,pt){We.push({key:ft,values:Oe(pt,qe)})}),rt?We.sort(function(ft,pt){return rt(ft.key,pt.key)}):We}return te.map=function(ze,qe){return we(qe,ze,0)},te.entries=function(ze){return Oe(we(n.map,ze,0),0)},te.key=function(ze){return oe.push(ze),te},te.sortKeys=function(ze){return he[oe.length-1]=ze,te},te.sortValues=function(ze){return I=ze,te},te.rollup=function(ze){return G=ze,te},te},n.set=function(I){var G=new q;if(I)for(var te=0,oe=I.length;te<oe;++te)G.add(I[te]);return G},T(q,{has:D,add:function(I){return this._[C(I+="")]=!0,I},remove:O,values:L,size:R,empty:z,forEach:function(I){for(var G in this._)I.call(this,k(G))}}),n.behavior={},n.rebind=function(I,G){for(var te,oe=1,he=arguments.length;++oe<he;)I[te=arguments[oe]]=V(I,G,G[te]);return I};var j=["webkit","ms","moz","Moz","o","O"];function H(){}function Y(){}function ie(I){var G=[],te=new _;function oe(){for(var he,we=G,Oe=-1,ze=we.length;++Oe<ze;)(he=we[Oe].on)&&he.apply(this,arguments);return I}return oe.on=function(he,we){var Oe,ze=te.get(he);return arguments.length<2?ze&&ze.on:(ze&&(ze.on=null,G=G.slice(0,Oe=G.indexOf(ze)).concat(G.slice(Oe+1)),te.remove(he)),we&&G.push(te.set(he,{on:we})),I)},oe}function re(){n.event.preventDefault()}function ne(){for(var I,G=n.event;I=G.sourceEvent;)G=I;return G}function ee(I){for(var G=new Y,te=0,oe=arguments.length;++te<oe;)G[arguments[te]]=ie(G);return G.of=function(he,we){return function(Oe){try{var ze=Oe.sourceEvent=n.event;Oe.target=I,n.event=Oe,G[Oe.type].apply(he,we)}finally{n.event=ze}}},G}n.dispatch=function(){for(var I=new Y,G=-1,te=arguments.length;++G<te;)I[arguments[G]]=ie(I);return I},Y.prototype.on=function(I,G){var te=I.indexOf("."),oe="";if(te>=0&&(oe=I.slice(te+1),I=I.slice(0,te)),I)return arguments.length<2?this[I].on(oe):this[I].on(oe,G);if(arguments.length===2){if(G==null)for(I in this)this.hasOwnProperty(I)&&this[I].on(oe,null);return this}},n.event=null,n.requote=function(I){return I.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,X={}.__proto__?function(I,G){I.__proto__=G}:function(I,G){for(var te in G)I[te]=G[te]};function se(I){return X(I,be),I}var ce=function(I,G){return G.querySelector(I)},le=function(I,G){return G.querySelectorAll(I)},de=function(I,G){var te=I.matches||I[Z(I,"matchesSelector")];return de=function(oe,he){return te.call(oe,he)},de(I,G)};typeof Sizzle=="function"&&(ce=function(I,G){return Sizzle(I,G)[0]||null},le=Sizzle,de=Sizzle.matchesSelector),n.selection=function(){return n.select(f.documentElement)};var be=n.selection.prototype=[];function _e(I){return typeof I=="function"?I:function(){return ce(I,this)}}function ve(I){return typeof I=="function"?I:function(){return le(I,this)}}be.select=function(I){var G,te,oe,he,we=[];I=_e(I);for(var Oe=-1,ze=this.length;++Oe<ze;){we.push(G=[]),G.parentNode=(oe=this[Oe]).parentNode;for(var qe=-1,We=oe.length;++qe<We;)(he=oe[qe])?(G.push(te=I.call(he,he.__data__,qe,Oe)),te&&"__data__"in he&&(te.__data__=he.__data__)):G.push(null)}return se(we)},be.selectAll=function(I){var G,te,oe=[];I=ve(I);for(var he=-1,we=this.length;++he<we;)for(var Oe=this[he],ze=-1,qe=Oe.length;++ze<qe;)(te=Oe[ze])&&(oe.push(G=b(I.call(te,te.__data__,ze,he))),G.parentNode=te);return se(oe)};var me="http://www.w3.org/1999/xhtml",ye={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Se(I,G){return I=n.ns.qualify(I),G==null?I.local?function(){this.removeAttributeNS(I.space,I.local)}:function(){this.removeAttribute(I)}:typeof G=="function"?I.local?function(){var te=G.apply(this,arguments);te==null?this.removeAttributeNS(I.space,I.local):this.setAttributeNS(I.space,I.local,te)}:function(){var te=G.apply(this,arguments);te==null?this.removeAttribute(I):this.setAttribute(I,te)}:I.local?function(){this.setAttributeNS(I.space,I.local,G)}:function(){this.setAttribute(I,G)}}function Ie(I){return I.trim().replace(/\s+/g," ")}function xe(I){return new RegExp("(?:^|\\s+)"+n.requote(I)+"(?:\\s+|$)","g")}function ue(I){return(I+"").trim().split(/^|\s+/)}function ae(I,G){var te=(I=ue(I).map(pe)).length;return typeof G=="function"?function(){for(var oe=-1,he=G.apply(this,arguments);++oe<te;)I[oe](this,he)}:function(){for(var oe=-1;++oe<te;)I[oe](this,G)}}function pe(I){var G=xe(I);return function(te,oe){if(he=te.classList)return oe?he.add(I):he.remove(I);var he=te.getAttribute("class")||"";oe?(G.lastIndex=0,G.test(he)||te.setAttribute("class",Ie(he+" "+I))):te.setAttribute("class",Ie(he.replace(G," ")))}}function De(I,G,te){return G==null?function(){this.style.removeProperty(I)}:typeof G=="function"?function(){var oe=G.apply(this,arguments);oe==null?this.style.removeProperty(I):this.style.setProperty(I,oe,te)}:function(){this.style.setProperty(I,G,te)}}function Te(I,G){return G==null?function(){delete this[I]}:typeof G=="function"?function(){var te=G.apply(this,arguments);te==null?delete this[I]:this[I]=te}:function(){this[I]=G}}function Ae(I){return typeof I=="function"?I:(I=n.ns.qualify(I)).local?function(){return this.ownerDocument.createElementNS(I.space,I.local)}:function(){var G=this.ownerDocument,te=this.namespaceURI;return te===me&&G.documentElement.namespaceURI===me?G.createElement(I):G.createElementNS(te,I)}}function Ce(){var I=this.parentNode;I&&I.removeChild(this)}function Re(I){return{__data__:I}}function Ne(I){return function(){return de(this,I)}}function ge(I){return arguments.length||(I=u),function(G,te){return G&&te?I(G.__data__,te.__data__):!G-!te}}function Me(I,G){for(var te=0,oe=I.length;te<oe;te++)for(var he,we=I[te],Oe=0,ze=we.length;Oe<ze;Oe++)(he=we[Oe])&&G(he,Oe,te);return I}function Ee(I){return X(I,Fe),I}n.ns={prefix:ye,qualify:function(I){var G=I.indexOf(":"),te=I;return G>=0&&(te=I.slice(0,G))!=="xmlns"&&(I=I.slice(G+1)),ye.hasOwnProperty(te)?{space:ye[te],local:I}:I}},be.attr=function(I,G){if(arguments.length<2){if(typeof I=="string"){var te=this.node();return(I=n.ns.qualify(I)).local?te.getAttributeNS(I.space,I.local):te.getAttribute(I)}for(G in I)this.each(Se(G,I[G]));return this}return this.each(Se(I,G))},be.classed=function(I,G){if(arguments.length<2){if(typeof I=="string"){var te=this.node(),oe=(I=ue(I)).length,he=-1;if(G=te.classList){for(;++he<oe;)if(!G.contains(I[he]))return!1}else for(G=te.getAttribute("class");++he<oe;)if(!xe(I[he]).test(G))return!1;return!0}for(G in I)this.each(ae(G,I[G]));return this}return this.each(ae(I,G))},be.style=function(I,G,te){var oe=arguments.length;if(oe<3){if(typeof I!="string"){for(te in oe<2&&(G=""),I)this.each(De(te,I[te],G));return this}if(oe<2){var he=this.node();return t(he).getComputedStyle(he,null).getPropertyValue(I)}te=""}return this.each(De(I,G,te))},be.property=function(I,G){if(arguments.length<2){if(typeof I=="string")return this.node()[I];for(G in I)this.each(Te(G,I[G]));return this}return this.each(Te(I,G))},be.text=function(I){return arguments.length?this.each(typeof I=="function"?function(){var G=I.apply(this,arguments);this.textContent=G??""}:I==null?function(){this.textContent=""}:function(){this.textContent=I}):this.node().textContent},be.html=function(I){return arguments.length?this.each(typeof I=="function"?function(){var G=I.apply(this,arguments);this.innerHTML=G??""}:I==null?function(){this.innerHTML=""}:function(){this.innerHTML=I}):this.node().innerHTML},be.append=function(I){return I=Ae(I),this.select(function(){return this.appendChild(I.apply(this,arguments))})},be.insert=function(I,G){return I=Ae(I),G=_e(G),this.select(function(){return this.insertBefore(I.apply(this,arguments),G.apply(this,arguments)||null)})},be.remove=function(){return this.each(Ce)},be.data=function(I,G){var te,oe,he=-1,we=this.length;if(!arguments.length){for(I=new Array(we=(te=this[0]).length);++he<we;)(oe=te[he])&&(I[he]=oe.__data__);return I}function Oe(rt,ft){var pt,wt,Ct,Mt=rt.length,zt=ft.length,It=Math.min(Mt,zt),Xt=new Array(zt),Gt=new Array(zt),Vt=new Array(Mt);if(G){var pn,yn=new _,Sn=new Array(Mt);for(pt=-1;++pt<Mt;)(wt=rt[pt])&&(yn.has(pn=G.call(wt,wt.__data__,pt))?Vt[pt]=wt:yn.set(pn,wt),Sn[pt]=pn);for(pt=-1;++pt<zt;)(wt=yn.get(pn=G.call(ft,Ct=ft[pt],pt)))?wt!==!0&&(Xt[pt]=wt,wt.__data__=Ct):Gt[pt]=Re(Ct),yn.set(pn,!0);for(pt=-1;++pt<Mt;)pt in Sn&&yn.get(Sn[pt])!==!0&&(Vt[pt]=rt[pt])}else{for(pt=-1;++pt<It;)wt=rt[pt],Ct=ft[pt],wt?(wt.__data__=Ct,Xt[pt]=wt):Gt[pt]=Re(Ct);for(;pt<zt;++pt)Gt[pt]=Re(ft[pt]);for(;pt<Mt;++pt)Vt[pt]=rt[pt]}Gt.update=Xt,Gt.parentNode=Xt.parentNode=Vt.parentNode=rt.parentNode,ze.push(Gt),qe.push(Xt),We.push(Vt)}var ze=Ee([]),qe=se([]),We=se([]);if(typeof I=="function")for(;++he<we;)Oe(te=this[he],I.call(te,te.parentNode.__data__,he));else for(;++he<we;)Oe(te=this[he],I);return qe.enter=function(){return ze},qe.exit=function(){return We},qe},be.datum=function(I){return arguments.length?this.property("__data__",I):this.property("__data__")},be.filter=function(I){var G,te,oe,he=[];typeof I!="function"&&(I=Ne(I));for(var we=0,Oe=this.length;we<Oe;we++){he.push(G=[]),G.parentNode=(te=this[we]).parentNode;for(var ze=0,qe=te.length;ze<qe;ze++)(oe=te[ze])&&I.call(oe,oe.__data__,ze,we)&&G.push(oe)}return se(he)},be.order=function(){for(var I=-1,G=this.length;++I<G;)for(var te,oe=this[I],he=oe.length-1,we=oe[he];--he>=0;)(te=oe[he])&&(we&&we!==te.nextSibling&&we.parentNode.insertBefore(te,we),we=te);return this},be.sort=function(I){I=ge.apply(this,arguments);for(var G=-1,te=this.length;++G<te;)this[G].sort(I);return this.order()},be.each=function(I){return Me(this,function(G,te,oe){I.call(G,G.__data__,te,oe)})},be.call=function(I){var G=b(arguments);return I.apply(G[0]=this,G),this},be.empty=function(){return!this.node()},be.node=function(){for(var I=0,G=this.length;I<G;I++)for(var te=this[I],oe=0,he=te.length;oe<he;oe++){var we=te[oe];if(we)return we}return null},be.size=function(){var I=0;return Me(this,function(){++I}),I};var Fe=[];function Le(I,G,te){var oe="__on"+I,he=I.indexOf("."),we=Ge;he>0&&(I=I.slice(0,he));var Oe=Ue.get(I);function ze(){var qe=this[oe];qe&&(this.removeEventListener(I,qe,qe.$),delete this[oe])}return Oe&&(I=Oe,we=Ke),he?G?function(){var qe=we(G,b(arguments));ze.call(this),this.addEventListener(I,this[oe]=qe,qe.$=te),qe._=G}:ze:G?H:function(){var qe,We=new RegExp("^__on([^.]+)"+n.requote(I)+"$");for(var rt in this)if(qe=rt.match(We)){var ft=this[rt];this.removeEventListener(qe[1],ft,ft.$),delete this[rt]}}}n.selection.enter=Ee,n.selection.enter.prototype=Fe,Fe.append=be.append,Fe.empty=be.empty,Fe.node=be.node,Fe.call=be.call,Fe.size=be.size,Fe.select=function(I){for(var G,te,oe,he,we,Oe=[],ze=-1,qe=this.length;++ze<qe;){oe=(he=this[ze]).update,Oe.push(G=[]),G.parentNode=he.parentNode;for(var We=-1,rt=he.length;++We<rt;)(we=he[We])?(G.push(oe[We]=te=I.call(he.parentNode,we.__data__,We,ze)),te.__data__=we.__data__):G.push(null)}return se(Oe)},Fe.insert=function(I,G){var te,oe,he;return arguments.length<2&&(te=this,G=function(we,Oe,ze){var qe,We=te[ze].update,rt=We.length;for(ze!=he&&(he=ze,oe=0),Oe>=oe&&(oe=Oe+1);!(qe=We[oe])&&++oe<rt;);return qe}),be.insert.call(this,I,G)},n.select=function(I){var G;return typeof I=="string"?(G=[ce(I,f)]).parentNode=f.documentElement:(G=[I]).parentNode=s(I),se([G])},n.selectAll=function(I){var G;return typeof I=="string"?(G=b(le(I,f))).parentNode=f.documentElement:(G=b(I)).parentNode=null,se([G])},be.on=function(I,G,te){var oe=arguments.length;if(oe<3){if(typeof I!="string"){for(te in oe<2&&(G=!1),I)this.each(Le(te,I[te],G));return this}if(oe<2)return(oe=this.node()["__on"+I])&&oe._;te=!1}return this.each(Le(I,G,te))};var Ue=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ge(I,G){return function(te){var oe=n.event;n.event=te,G[0]=this.__data__;try{I.apply(this,G)}finally{n.event=oe}}}function Ke(I,G){var te=Ge(I,G);return function(oe){var he=this,we=oe.relatedTarget;we&&(we===he||8&we.compareDocumentPosition(he))||te.call(he,oe)}}f&&Ue.forEach(function(I){"on"+I in f&&Ue.remove(I)});var at,st=0;function vt(I){var G=".dragsuppress-"+ ++st,te="click"+G,oe=n.select(t(I)).on("touchmove"+G,re).on("dragstart"+G,re).on("selectstart"+G,re);if(at==null&&(at=!("onselectstart"in I)&&Z(I.style,"userSelect")),at){var he=s(I).style,we=he[at];he[at]="none"}return function(Oe){if(oe.on(G,null),at&&(he[at]=we),Oe){var ze=function(){oe.on(te,null)};oe.on(te,function(){re(),ze()},!0),setTimeout(ze,0)}}}n.mouse=function(I){return gt(I,ne())};var xt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function gt(I,G){G.changedTouches&&(G=G.changedTouches[0]);var te=I.ownerSVGElement||I;if(te.createSVGPoint){var oe=te.createSVGPoint();if(xt<0){var he=t(I);if(he.scrollX||he.scrollY){var we=(te=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();xt=!(we.f||we.e),te.remove()}}return xt?(oe.x=G.pageX,oe.y=G.pageY):(oe.x=G.clientX,oe.y=G.clientY),[(oe=oe.matrixTransform(I.getScreenCTM().inverse())).x,oe.y]}var Oe=I.getBoundingClientRect();return[G.clientX-Oe.left-I.clientLeft,G.clientY-Oe.top-I.clientTop]}function nt(){return n.event.changedTouches[0].identifier}n.touch=function(I,G,te){if(arguments.length<3&&(te=G,G=ne().changedTouches),G){for(var oe,he=0,we=G.length;he<we;++he)if((oe=G[he]).identifier===te)return gt(I,oe)}},n.behavior.drag=function(){var I=ee(he,"drag","dragstart","dragend"),G=null,te=we(H,n.mouse,t,"mousemove","mouseup"),oe=we(nt,n.touch,N,"touchmove","touchend");function he(){this.on("mousedown.drag",te).on("touchstart.drag",oe)}function we(Oe,ze,qe,We,rt){return function(){var ft,pt=this,wt=n.event.target.correspondingElement||n.event.target,Ct=pt.parentNode,Mt=I.of(pt,arguments),zt=0,It=Oe(),Xt=".drag"+(It==null?"":"-"+It),Gt=n.select(qe(wt)).on(We+Xt,function(){var yn,Sn,Pn=ze(Ct,It);Pn&&(yn=Pn[0]-pn[0],Sn=Pn[1]-pn[1],zt|=yn|Sn,pn=Pn,Mt({type:"drag",x:Pn[0]+ft[0],y:Pn[1]+ft[1],dx:yn,dy:Sn}))}).on(rt+Xt,function(){ze(Ct,It)&&(Gt.on(We+Xt,null).on(rt+Xt,null),Vt(zt),Mt({type:"dragend"}))}),Vt=vt(wt),pn=ze(Ct,It);ft=G?[(ft=G.apply(pt,arguments)).x-pn[0],ft.y-pn[1]]:[0,0],Mt({type:"dragstart"})}}return he.origin=function(Oe){return arguments.length?(G=Oe,he):G},n.rebind(he,I,"on")},n.touches=function(I,G){return arguments.length<2&&(G=ne().touches),G?b(G).map(function(te){var oe=gt(I,te);return oe.identifier=te.identifier,oe}):[]};var et=1e-6,At=et*et,Pt=Math.PI,Rt=2*Pt,Et=Rt-et,Ye=Pt/2,Xe=Pt/180,Ve=180/Pt;function Ze(I){return I>1?Ye:I<-1?-Ye:Math.asin(I)}function lt(I){return((I=Math.exp(I))+1/I)/2}var it=Math.SQRT2;n.interpolateZoom=function(I,G){var te,oe,he=I[0],we=I[1],Oe=I[2],ze=G[0],qe=G[1],We=G[2],rt=ze-he,ft=qe-we,pt=rt*rt+ft*ft;if(pt<At)oe=Math.log(We/Oe)/it,te=function(Xt){return[he+Xt*rt,we+Xt*ft,Oe*Math.exp(it*Xt*oe)]};else{var wt=Math.sqrt(pt),Ct=(We*We-Oe*Oe+4*pt)/(2*Oe*2*wt),Mt=(We*We-Oe*Oe-4*pt)/(2*We*2*wt),zt=Math.log(Math.sqrt(Ct*Ct+1)-Ct),It=Math.log(Math.sqrt(Mt*Mt+1)-Mt);oe=(It-zt)/it,te=function(Xt){var Gt,Vt=Xt*oe,pn=lt(zt),yn=Oe/(2*wt)*(pn*(Gt=it*Vt+zt,((Gt=Math.exp(2*Gt))-1)/(Gt+1))-function(Sn){return((Sn=Math.exp(Sn))-1/Sn)/2}(zt));return[he+yn*rt,we+yn*ft,Oe*pn/lt(it*Vt+zt)]}}return te.duration=1e3*oe,te},n.behavior.zoom=function(){var I,G,te,oe,he,we,Oe,ze,qe,We={x:0,y:0,k:1},rt=[960,500],ft=ot,pt=250,wt=0,Ct="mousedown.zoom",Mt="mousemove.zoom",zt="mouseup.zoom",It="touchstart.zoom",Xt=ee(Gt,"zoomstart","zoom","zoomend");function Gt(tr){tr.on(Ct,Yn).on(je+".zoom",xr).on("dblclick.zoom",Er).on(It,lr)}function Vt(tr){return[(tr[0]-We.x)/We.k,(tr[1]-We.y)/We.k]}function pn(tr){We.k=Math.max(ft[0],Math.min(ft[1],tr))}function yn(tr,sr){sr=function(wr){return[wr[0]*We.k+We.x,wr[1]*We.k+We.y]}(sr),We.x+=tr[0]-sr[0],We.y+=tr[1]-sr[1]}function Sn(tr,sr,wr,cr){tr.__chart__={x:We.x,y:We.y,k:We.k},pn(Math.pow(2,cr)),yn(G=sr,wr),tr=n.select(tr),pt>0&&(tr=tr.transition().duration(pt)),tr.call(Gt.event)}function Pn(){Oe&&Oe.domain(we.range().map(function(tr){return(tr-We.x)/We.k}).map(we.invert)),qe&&qe.domain(ze.range().map(function(tr){return(tr-We.y)/We.k}).map(ze.invert))}function Vn(tr){wt++||tr({type:"zoomstart"})}function ir(tr){Pn(),tr({type:"zoom",scale:We.k,translate:[We.x,We.y]})}function ur(tr){--wt||(tr({type:"zoomend"}),G=null)}function Yn(){var tr=this,sr=Xt.of(tr,arguments),wr=0,cr=n.select(t(tr)).on(Mt,function(){wr=1,yn(n.mouse(tr),Ar),ir(sr)}).on(zt,function(){cr.on(Mt,null).on(zt,null),Lr(wr),ur(sr)}),Ar=Vt(n.mouse(tr)),Lr=vt(tr);ia.call(tr),Vn(sr)}function lr(){var tr,sr=this,wr=Xt.of(sr,arguments),cr={},Ar=0,Lr=".zoom-"+n.event.changedTouches[0].identifier,qr="touchmove"+Lr,Wr="touchend"+Lr,Kr=[],ii=n.select(sr),Ii=vt(sr);function Zi(){var Fi=n.touches(sr);return tr=We.k,Fi.forEach(function(si){si.identifier in cr&&(cr[si.identifier]=Vt(si))}),Fi}function Po(){var Fi=n.event.target;n.select(Fi).on(qr,go).on(Wr,So),Kr.push(Fi);for(var si=n.event.changedTouches,Hi=0,Mi=si.length;Hi<Mi;++Hi)cr[si[Hi].identifier]=null;var hi=Zi(),qi=Date.now();if(hi.length===1){if(qi-he<500){var Xi=hi[0];Sn(sr,Xi,cr[Xi.identifier],Math.floor(Math.log(We.k)/Math.LN2)+1),re()}he=qi}else if(hi.length>1){Xi=hi[0];var so=hi[1],Sl=Xi[0]-so[0],El=Xi[1]-so[1];Ar=Sl*Sl+El*El}}function go(){var Fi,si,Hi,Mi,hi=n.touches(sr);ia.call(sr);for(var qi=0,Xi=hi.length;qi<Xi;++qi,Mi=null)if(Hi=hi[qi],Mi=cr[Hi.identifier]){if(si)break;Fi=Hi,si=Mi}if(Mi){var so=(so=Hi[0]-Fi[0])*so+(so=Hi[1]-Fi[1])*so,Sl=Ar&&Math.sqrt(so/Ar);Fi=[(Fi[0]+Hi[0])/2,(Fi[1]+Hi[1])/2],si=[(si[0]+Mi[0])/2,(si[1]+Mi[1])/2],pn(Sl*tr)}he=null,yn(Fi,si),ir(wr)}function So(){if(n.event.touches.length){for(var Fi=n.event.changedTouches,si=0,Hi=Fi.length;si<Hi;++si)delete cr[Fi[si].identifier];for(var Mi in cr)return void Zi()}n.selectAll(Kr).on(Lr,null),ii.on(Ct,Yn).on(It,lr),Ii(),ur(wr)}Po(),Vn(wr),ii.on(Ct,null).on(It,Po)}function xr(){var tr=Xt.of(this,arguments);oe?clearTimeout(oe):(ia.call(this),I=Vt(G=te||n.mouse(this)),Vn(tr)),oe=setTimeout(function(){oe=null,ur(tr)},50),re(),pn(Math.pow(2,.002*Be())*We.k),yn(G,I),ir(tr)}function Er(){var tr=n.mouse(this),sr=Math.log(We.k)/Math.LN2;Sn(this,tr,Vt(tr),n.event.shiftKey?Math.ceil(sr)-1:Math.floor(sr)+1)}return je||(je="onwheel"in f?(Be=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(Be=function(){return n.event.wheelDelta},"mousewheel"):(Be=function(){return-n.event.detail},"MozMousePixelScroll")),Gt.event=function(tr){tr.each(function(){var sr=Xt.of(this,arguments),wr=We;eo?n.select(this).transition().each("start.zoom",function(){We=this.__chart__||{x:0,y:0,k:1},Vn(sr)}).tween("zoom:zoom",function(){var cr=rt[0],Ar=rt[1],Lr=G?G[0]:cr/2,qr=G?G[1]:Ar/2,Wr=n.interpolateZoom([(Lr-We.x)/We.k,(qr-We.y)/We.k,cr/We.k],[(Lr-wr.x)/wr.k,(qr-wr.y)/wr.k,cr/wr.k]);return function(Kr){var ii=Wr(Kr),Ii=cr/ii[2];this.__chart__=We={x:Lr-ii[0]*Ii,y:qr-ii[1]*Ii,k:Ii},ir(sr)}}).each("interrupt.zoom",function(){ur(sr)}).each("end.zoom",function(){ur(sr)}):(this.__chart__=We,Vn(sr),ir(sr),ur(sr))})},Gt.translate=function(tr){return arguments.length?(We={x:+tr[0],y:+tr[1],k:We.k},Pn(),Gt):[We.x,We.y]},Gt.scale=function(tr){return arguments.length?(We={x:We.x,y:We.y,k:null},pn(+tr),Pn(),Gt):We.k},Gt.scaleExtent=function(tr){return arguments.length?(ft=tr==null?ot:[+tr[0],+tr[1]],Gt):ft},Gt.center=function(tr){return arguments.length?(te=tr&&[+tr[0],+tr[1]],Gt):te},Gt.size=function(tr){return arguments.length?(rt=tr&&[+tr[0],+tr[1]],Gt):rt},Gt.duration=function(tr){return arguments.length?(pt=+tr,Gt):pt},Gt.x=function(tr){return arguments.length?(Oe=tr,we=tr.copy(),We={x:0,y:0,k:1},Gt):Oe},Gt.y=function(tr){return arguments.length?(qe=tr,ze=tr.copy(),We={x:0,y:0,k:1},Gt):qe},n.rebind(Gt,Xt,"on")};var Be,je,ot=[0,1/0];function $e(){}function dt(I,G,te){return this instanceof dt?(this.h=+I,this.s=+G,void(this.l=+te)):arguments.length<2?I instanceof dt?new dt(I.h,I.s,I.l):hn(""+I,bn,dt):new dt(I,G,te)}n.color=$e,$e.prototype.toString=function(){return this.rgb()+""},n.hsl=dt;var mt=dt.prototype=new $e;function yt(I,G,te){var oe,he;function we(Oe){return Math.round(255*function(ze){return ze>360?ze-=360:ze<0&&(ze+=360),ze<60?oe+(he-oe)*ze/60:ze<180?he:ze<240?oe+(he-oe)*(240-ze)/60:oe}(Oe))}return I=isNaN(I)?0:(I%=360)<0?I+360:I,G=isNaN(G)||G<0?0:G>1?1:G,oe=2*(te=te<0?0:te>1?1:te)-(he=te<=.5?te*(1+G):te+G-te*G),new Tn(we(I+120),we(I),we(I-120))}function ht(I,G,te){return this instanceof ht?(this.h=+I,this.c=+G,void(this.l=+te)):arguments.length<2?I instanceof ht?new ht(I.h,I.c,I.l):function(oe,he,we){return oe>0?new ht(Math.atan2(we,he)*Ve,Math.sqrt(he*he+we*we),oe):new ht(NaN,NaN,oe)}(I instanceof St?I.l:(I=wn((I=n.rgb(I)).r,I.g,I.b)).l,I.a,I.b):new ht(I,G,te)}mt.brighter=function(I){return I=Math.pow(.7,arguments.length?I:1),new dt(this.h,this.s,this.l/I)},mt.darker=function(I){return I=Math.pow(.7,arguments.length?I:1),new dt(this.h,this.s,I*this.l)},mt.rgb=function(){return yt(this.h,this.s,this.l)},n.hcl=ht;var kt=ht.prototype=new $e;function bt(I,G,te){return isNaN(I)&&(I=0),isNaN(G)&&(G=0),new St(te,Math.cos(I*=Xe)*G,Math.sin(I)*G)}function St(I,G,te){return this instanceof St?(this.l=+I,this.a=+G,void(this.b=+te)):arguments.length<2?I instanceof St?new St(I.l,I.a,I.b):I instanceof ht?bt(I.h,I.c,I.l):wn((I=Tn(I)).r,I.g,I.b):new St(I,G,te)}kt.brighter=function(I){return new ht(this.h,this.c,Math.min(100,this.l+Lt*(arguments.length?I:1)))},kt.darker=function(I){return new ht(this.h,this.c,Math.max(0,this.l-Lt*(arguments.length?I:1)))},kt.rgb=function(){return bt(this.h,this.c,this.l).rgb()},n.lab=St;var Lt=18,Ot=.95047,Ft=1,$t=1.08883,on=St.prototype=new $e;function Ht(I,G,te){var oe=(I+16)/116,he=oe+G/500,we=oe-te/200;return new Tn(Ln(3.2404542*(he=Zt(he)*Ot)-1.5371385*(oe=Zt(oe)*Ft)-.4985314*(we=Zt(we)*$t)),Ln(-.969266*he+1.8760108*oe+.041556*we),Ln(.0556434*he-.2040259*oe+1.0572252*we))}function Zt(I){return I>.206893034?I*I*I:(I-.13793103448275862)/7.787037}function jt(I){return I>.008856?Math.pow(I,.3333333333333333):7.787037*I+.13793103448275862}function Ln(I){return Math.round(255*(I<=.00304?12.92*I:1.055*Math.pow(I,.4166666666666667)-.055))}function Tn(I,G,te){return this instanceof Tn?(this.r=~~I,this.g=~~G,void(this.b=~~te)):arguments.length<2?I instanceof Tn?new Tn(I.r,I.g,I.b):hn(""+I,Tn,yt):new Tn(I,G,te)}function gn(I){return new Tn(I>>16,I>>8&255,255&I)}function Qt(I){return gn(I)+""}on.brighter=function(I){return new St(Math.min(100,this.l+Lt*(arguments.length?I:1)),this.a,this.b)},on.darker=function(I){return new St(Math.max(0,this.l-Lt*(arguments.length?I:1)),this.a,this.b)},on.rgb=function(){return Ht(this.l,this.a,this.b)},n.rgb=Tn;var cn=Tn.prototype=new $e;function nn(I){return I<16?"0"+Math.max(0,I).toString(16):Math.min(255,I).toString(16)}function hn(I,G,te){var oe,he,we,Oe=0,ze=0,qe=0;if(oe=/([a-z]+)\((.*)\)/.exec(I=I.toLowerCase()))switch(he=oe[2].split(","),oe[1]){case"hsl":return te(parseFloat(he[0]),parseFloat(he[1])/100,parseFloat(he[2])/100);case"rgb":return G(Dn(he[0]),Dn(he[1]),Dn(he[2]))}return(we=kn.get(I))?G(we.r,we.g,we.b):(I==null||I.charAt(0)!=="#"||isNaN(we=parseInt(I.slice(1),16))||(I.length===4?(Oe=(3840&we)>>4,Oe|=Oe>>4,ze=240&we,ze|=ze>>4,qe=15&we,qe|=qe<<4):I.length===7&&(Oe=(16711680&we)>>16,ze=(65280&we)>>8,qe=255&we)),G(Oe,ze,qe))}function bn(I,G,te){var oe,he,we=Math.min(I/=255,G/=255,te/=255),Oe=Math.max(I,G,te),ze=Oe-we,qe=(Oe+we)/2;return ze?(he=qe<.5?ze/(Oe+we):ze/(2-Oe-we),oe=I==Oe?(G-te)/ze+(G<te?6:0):G==Oe?(te-I)/ze+2:(I-G)/ze+4,oe*=60):(oe=NaN,he=qe>0&&qe<1?0:oe),new dt(oe,he,qe)}function wn(I,G,te){var oe=jt((.4124564*(I=En(I))+.3575761*(G=En(G))+.1804375*(te=En(te)))/Ot),he=jt((.2126729*I+.7151522*G+.072175*te)/Ft);return St(116*he-16,500*(oe-he),200*(he-jt((.0193339*I+.119192*G+.9503041*te)/$t)))}function En(I){return(I/=255)<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function Dn(I){var G=parseFloat(I);return I.charAt(I.length-1)==="%"?Math.round(2.55*G):G}cn.brighter=function(I){I=Math.pow(.7,arguments.length?I:1);var G=this.r,te=this.g,oe=this.b,he=30;return G||te||oe?(G&&G<he&&(G=he),te&&te<he&&(te=he),oe&&oe<he&&(oe=he),new Tn(Math.min(255,G/I),Math.min(255,te/I),Math.min(255,oe/I))):new Tn(he,he,he)},cn.darker=function(I){return new Tn((I=Math.pow(.7,arguments.length?I:1))*this.r,I*this.g,I*this.b)},cn.hsl=function(){return bn(this.r,this.g,this.b)},cn.toString=function(){return"#"+nn(this.r)+nn(this.g)+nn(this.b)};var kn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Bn(I){return typeof I=="function"?I:function(){return I}}function Rn(I){return function(G,te,oe){return arguments.length===2&&typeof te=="function"&&(oe=te,te=null),Kn(G,te,I,oe)}}function Kn(I,G,te,oe){var he={},we=n.dispatch("beforesend","progress","load","error"),Oe={},ze=new XMLHttpRequest,qe=null;function We(){var rt,ft=ze.status;if(!ft&&function(pt){var wt=pt.responseType;return wt&&wt!=="text"?pt.response:pt.responseText}(ze)||ft>=200&&ft<300||ft===304){try{rt=te.call(he,ze)}catch(pt){return void we.error.call(he,pt)}we.load.call(he,rt)}else we.error.call(he,ze)}return self.XDomainRequest&&!("withCredentials"in ze)&&/^(http(s)?:)?\/\//.test(I)&&(ze=new XDomainRequest),"onload"in ze?ze.onload=ze.onerror=We:ze.onreadystatechange=function(){ze.readyState>3&&We()},ze.onprogress=function(rt){var ft=n.event;n.event=rt;try{we.progress.call(he,ze)}finally{n.event=ft}},he.header=function(rt,ft){return rt=(rt+"").toLowerCase(),arguments.length<2?Oe[rt]:(ft==null?delete Oe[rt]:Oe[rt]=ft+"",he)},he.mimeType=function(rt){return arguments.length?(G=rt==null?null:rt+"",he):G},he.responseType=function(rt){return arguments.length?(qe=rt,he):qe},he.response=function(rt){return te=rt,he},["get","post"].forEach(function(rt){he[rt]=function(){return he.send.apply(he,[rt].concat(b(arguments)))}}),he.send=function(rt,ft,pt){if(arguments.length===2&&typeof ft=="function"&&(pt=ft,ft=null),ze.open(rt,I,!0),G==null||"accept"in Oe||(Oe.accept=G+",*/*"),ze.setRequestHeader)for(var wt in Oe)ze.setRequestHeader(wt,Oe[wt]);return G!=null&&ze.overrideMimeType&&ze.overrideMimeType(G),qe!=null&&(ze.responseType=qe),pt!=null&&he.on("error",pt).on("load",function(Ct){pt(null,Ct)}),we.beforesend.call(he,ze),ze.send(ft??null),he},he.abort=function(){return ze.abort(),he},n.rebind(he,we,"on"),oe==null?he:he.get(function(rt){return rt.length===1?function(ft,pt){rt(ft==null?pt:null)}:rt}(oe))}kn.forEach(function(I,G){kn.set(I,gn(G))}),n.functor=Bn,n.xhr=Rn(N),n.dsv=function(I,G){var te=new RegExp('["'+I+`
]`),oe=I.charCodeAt(0);function he(We,rt,ft){arguments.length<3&&(ft=rt,rt=null);var pt=Kn(We,G,rt==null?we:Oe(rt),ft);return pt.row=function(wt){return arguments.length?pt.response((rt=wt)==null?we:Oe(wt)):rt},pt}function we(We){return he.parse(We.responseText)}function Oe(We){return function(rt){return he.parse(rt.responseText,We)}}function ze(We){return We.map(qe).join(I)}function qe(We){return te.test(We)?'"'+We.replace(/\"/g,'""')+'"':We}return he.parse=function(We,rt){var ft;return he.parseRows(We,function(pt,wt){if(ft)return ft(pt,wt-1);var Ct=function(Mt){for(var zt={},It=pt.length,Xt=0;Xt<It;++Xt)zt[pt[Xt]]=Mt[Xt];return zt};ft=rt?function(Mt,zt){return rt(Ct(Mt),zt)}:Ct})},he.parseRows=function(We,rt){var ft,pt,wt={},Ct={},Mt=[],zt=We.length,It=0,Xt=0;function Gt(){if(It>=zt)return Ct;if(pt)return pt=!1,wt;var pn=It;if(We.charCodeAt(pn)===34){for(var yn=pn;yn++<zt;)if(We.charCodeAt(yn)===34){if(We.charCodeAt(yn+1)!==34)break;++yn}return It=yn+2,(Sn=We.charCodeAt(yn+1))===13?(pt=!0,We.charCodeAt(yn+2)===10&&++It):Sn===10&&(pt=!0),We.slice(pn+1,yn).replace(/""/g,'"')}for(;It<zt;){var Sn,Pn=1;if((Sn=We.charCodeAt(It++))===10)pt=!0;else if(Sn===13)pt=!0,We.charCodeAt(It)===10&&(++It,++Pn);else if(Sn!==oe)continue;return We.slice(pn,It-Pn)}return We.slice(pn)}for(;(ft=Gt())!==Ct;){for(var Vt=[];ft!==wt&&ft!==Ct;)Vt.push(ft),ft=Gt();rt&&(Vt=rt(Vt,Xt++))==null||Mt.push(Vt)}return Mt},he.format=function(We){if(Array.isArray(We[0]))return he.formatRows(We);var rt=new q,ft=[];return We.forEach(function(pt){for(var wt in pt)rt.has(wt)||ft.push(rt.add(wt))}),[ft.map(qe).join(I)].concat(We.map(function(pt){return ft.map(function(wt){return qe(pt[wt])}).join(I)})).join(`
`)},he.formatRows=function(We){return We.map(ze).join(`
`)},he},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var Gn,nr,$n,fr,en=this[Z(this,"requestAnimationFrame")]||function(I){setTimeout(I,17)};function rn(I,G,te){var oe=arguments.length;oe<2&&(G=0),oe<3&&(te=Date.now());var he={c:I,t:te+G,n:null};return nr?nr.n=he:Gn=he,nr=he,$n||(fr=clearTimeout(fr),$n=1,en(Cn)),he}function Cn(){var I=mn(),G=On()-I;G>24?(isFinite(G)&&(clearTimeout(fr),fr=setTimeout(Cn,G)),$n=0):($n=1,en(Cn))}function mn(){for(var I=Date.now(),G=Gn;G;)I>=G.t&&G.c(I-G.t)&&(G.c=null),G=G.n;return I}function On(){for(var I,G=Gn,te=1/0;G;)G.c?(G.t<te&&(te=G.t),G=(I=G).n):G=I?I.n=G.n:Gn=G.n;return nr=I,te}function Hn(I){return I[0]}function Un(I){return I[1]}function Zn(I){for(var G,te,oe,he=I.length,we=[0,1],Oe=2,ze=2;ze<he;ze++){for(;Oe>1&&(G=I[we[Oe-2]],te=I[we[Oe-1]],oe=I[ze],(te[0]-G[0])*(oe[1]-G[1])-(te[1]-G[1])*(oe[0]-G[0])<=0);)--Oe;we[Oe++]=ze}return we.slice(0,Oe)}function pr(I,G){return I[0]-G[0]||I[1]-G[1]}n.timer=function(){rn.apply(this,arguments)},n.timer.flush=function(){mn(),On()},n.round=function(I,G){return G?Math.round(I*(G=Math.pow(10,G)))/G:Math.round(I)},n.geom={},n.geom.hull=function(I){var G=Hn,te=Un;if(arguments.length)return oe(I);function oe(he){if(he.length<3)return[];var we,Oe=Bn(G),ze=Bn(te),qe=he.length,We=[],rt=[];for(we=0;we<qe;we++)We.push([+Oe.call(this,he[we],we),+ze.call(this,he[we],we),we]);for(We.sort(pr),we=0;we<qe;we++)rt.push([We[we][0],-We[we][1]]);var ft=Zn(We),pt=Zn(rt),wt=pt[0]===ft[0],Ct=pt[pt.length-1]===ft[ft.length-1],Mt=[];for(we=ft.length-1;we>=0;--we)Mt.push(he[We[ft[we]][2]]);for(we=+wt;we<pt.length-Ct;++we)Mt.push(he[We[pt[we]][2]]);return Mt}return oe.x=function(he){return arguments.length?(G=he,oe):G},oe.y=function(he){return arguments.length?(te=he,oe):te},oe},n.geom.polygon=function(I){return X(I,Kt),I};var Kt=n.geom.polygon.prototype=[];function vn(I,G,te){return(te[0]-G[0])*(I[1]-G[1])<(te[1]-G[1])*(I[0]-G[0])}function Dt(I,G,te,oe){var he=I[0],we=te[0],Oe=G[0]-he,ze=oe[0]-we,qe=I[1],We=te[1],rt=G[1]-qe,ft=oe[1]-We,pt=(ze*(qe-We)-ft*(he-we))/(ft*Oe-ze*rt);return[he+pt*Oe,qe+pt*rt]}function Bt(I){var G=I[0],te=I[I.length-1];return!(G[0]-te[0]||G[1]-te[1])}Kt.area=function(){for(var I,G=-1,te=this.length,oe=this[te-1],he=0;++G<te;)I=oe,oe=this[G],he+=I[1]*oe[0]-I[0]*oe[1];return .5*he},Kt.centroid=function(I){var G,te,oe=-1,he=this.length,we=0,Oe=0,ze=this[he-1];for(arguments.length||(I=-1/(6*this.area()));++oe<he;)G=ze,ze=this[oe],te=G[0]*ze[1]-ze[0]*G[1],we+=(G[0]+ze[0])*te,Oe+=(G[1]+ze[1])*te;return[we*I,Oe*I]},Kt.clip=function(I){for(var G,te,oe,he,we,Oe,ze=Bt(I),qe=-1,We=this.length-Bt(this),rt=this[We-1];++qe<We;){for(G=I.slice(),I.length=0,he=this[qe],we=G[(oe=G.length-ze)-1],te=-1;++te<oe;)vn(Oe=G[te],rt,he)?(vn(we,rt,he)||I.push(Dt(we,Oe,rt,he)),I.push(Oe)):vn(we,rt,he)&&I.push(Dt(we,Oe,rt,he)),we=Oe;ze&&I.push(I[0]),rt=he}return I};var Jt,fn,dn,xn,sn,Yt=[],Wt=[];function tn(){Si(this),this.edge=this.site=this.circle=null}function ln(I){var G=Yt.pop()||new tn;return G.site=I,G}function An(I){hr(I),dn.remove(I),Yt.push(I),Si(I)}function In(I){var G=I.circle,te=G.x,oe=G.cy,he={x:te,y:oe},we=I.P,Oe=I.N,ze=[I];An(I);for(var qe=we;qe.circle&&m(te-qe.circle.x)<et&&m(oe-qe.circle.cy)<et;)we=qe.P,ze.unshift(qe),An(qe),qe=we;ze.unshift(qe),hr(qe);for(var We=Oe;We.circle&&m(te-We.circle.x)<et&&m(oe-We.circle.cy)<et;)Oe=We.N,ze.push(We),An(We),We=Oe;ze.push(We),hr(We);var rt,ft=ze.length;for(rt=1;rt<ft;++rt)We=ze[rt],qe=ze[rt-1],mr(We.edge,qe.site,We.site,he);qe=ze[0],(We=ze[ft-1]).edge=ar(qe.site,We.site,null,he),Qn(qe),Qn(We)}function Nn(I){for(var G,te,oe,he,we=I.x,Oe=I.y,ze=dn._;ze;)if((oe=jn(ze,Oe)-we)>et)ze=ze.L;else{if(!((he=we-er(ze,Oe))>et)){oe>-et?(G=ze.P,te=ze):he>-et?(G=ze,te=ze.N):G=te=ze;break}if(!ze.R){G=ze;break}ze=ze.R}var qe=ln(I);if(dn.insert(G,qe),G||te){if(G===te)return hr(G),te=ln(G.site),dn.insert(qe,te),qe.edge=te.edge=ar(G.site,qe.site),Qn(G),void Qn(te);if(te){hr(G),hr(te);var We=G.site,rt=We.x,ft=We.y,pt=I.x-rt,wt=I.y-ft,Ct=te.site,Mt=Ct.x-rt,zt=Ct.y-ft,It=2*(pt*zt-wt*Mt),Xt=pt*pt+wt*wt,Gt=Mt*Mt+zt*zt,Vt={x:(zt*Xt-wt*Gt)/It+rt,y:(pt*Gt-Mt*Xt)/It+ft};mr(te.edge,We,Ct,Vt),qe.edge=ar(We,I,null,Vt),te.edge=ar(I,Ct,null,Vt),Qn(G),Qn(te)}else qe.edge=ar(G.site,qe.site)}}function jn(I,G){var te=I.site,oe=te.x,he=te.y,we=he-G;if(!we)return oe;var Oe=I.P;if(!Oe)return-1/0;var ze=(te=Oe.site).x,qe=te.y,We=qe-G;if(!We)return ze;var rt=ze-oe,ft=1/we-1/We,pt=rt/We;return ft?(-pt+Math.sqrt(pt*pt-2*ft*(rt*rt/(-2*We)-qe+We/2+he-we/2)))/ft+oe:(oe+ze)/2}function er(I,G){var te=I.N;if(te)return jn(te,G);var oe=I.site;return oe.y===G?oe.x:1/0}function Wn(I){this.site=I,this.edges=[]}function Jn(I,G){return G.angle-I.angle}function rr(){Si(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qn(I){var G=I.P,te=I.N;if(G&&te){var oe=G.site,he=I.site,we=te.site;if(oe!==we){var Oe=he.x,ze=he.y,qe=oe.x-Oe,We=oe.y-ze,rt=we.x-Oe,ft=2*(qe*(zt=we.y-ze)-We*rt);if(!(ft>=-At)){var pt=qe*qe+We*We,wt=rt*rt+zt*zt,Ct=(zt*pt-We*wt)/ft,Mt=(qe*wt-rt*pt)/ft,zt=Mt+ze,It=Wt.pop()||new rr;It.arc=I,It.site=he,It.x=Ct+Oe,It.y=zt+Math.sqrt(Ct*Ct+Mt*Mt),It.cy=zt,I.circle=It;for(var Xt=null,Gt=sn._;Gt;)if(It.y<Gt.y||It.y===Gt.y&&It.x<=Gt.x){if(!Gt.L){Xt=Gt.P;break}Gt=Gt.L}else{if(!Gt.R){Xt=Gt;break}Gt=Gt.R}sn.insert(Xt,It),Xt||(xn=It)}}}}function hr(I){var G=I.circle;G&&(G.P||(xn=G.N),sn.remove(G),Wt.push(G),Si(G),I.circle=null)}function br(I,G){var te=I.b;if(te)return!0;var oe,he,we=I.a,Oe=G[0][0],ze=G[1][0],qe=G[0][1],We=G[1][1],rt=I.l,ft=I.r,pt=rt.x,wt=rt.y,Ct=ft.x,Mt=ft.y,zt=(pt+Ct)/2,It=(wt+Mt)/2;if(Mt===wt){if(zt<Oe||zt>=ze)return;if(pt>Ct){if(we){if(we.y>=We)return}else we={x:zt,y:qe};te={x:zt,y:We}}else{if(we){if(we.y<qe)return}else we={x:zt,y:We};te={x:zt,y:qe}}}else if(he=It-(oe=(pt-Ct)/(Mt-wt))*zt,oe<-1||oe>1)if(pt>Ct){if(we){if(we.y>=We)return}else we={x:(qe-he)/oe,y:qe};te={x:(We-he)/oe,y:We}}else{if(we){if(we.y<qe)return}else we={x:(We-he)/oe,y:We};te={x:(qe-he)/oe,y:qe}}else if(wt<Mt){if(we){if(we.x>=ze)return}else we={x:Oe,y:oe*Oe+he};te={x:ze,y:oe*ze+he}}else{if(we){if(we.x<Oe)return}else we={x:ze,y:oe*ze+he};te={x:Oe,y:oe*Oe+he}}return I.a=we,I.b=te,!0}function gr(I,G){this.l=I,this.r=G,this.a=this.b=null}function ar(I,G,te,oe){var he=new gr(I,G);return Jt.push(he),te&&mr(he,I,G,te),oe&&mr(he,G,I,oe),fn[I.i].edges.push(new kr(he,I,G)),fn[G.i].edges.push(new kr(he,G,I)),he}function mr(I,G,te,oe){I.a||I.b?I.l===te?I.b=oe:I.a=oe:(I.a=oe,I.l=G,I.r=te)}function kr(I,G,te){var oe=I.a,he=I.b;this.edge=I,this.site=G,this.angle=te?Math.atan2(te.y-G.y,te.x-G.x):I.l===G?Math.atan2(he.x-oe.x,oe.y-he.y):Math.atan2(oe.x-he.x,he.y-oe.y)}function Rr(){this._=null}function Si(I){I.U=I.C=I.L=I.R=I.P=I.N=null}function Ei(I,G){var te=G,oe=G.R,he=te.U;he?he.L===te?he.L=oe:he.R=oe:I._=oe,oe.U=he,te.U=oe,te.R=oe.L,te.R&&(te.R.U=te),oe.L=te}function io(I,G){var te=G,oe=G.L,he=te.U;he?he.L===te?he.L=oe:he.R=oe:I._=oe,oe.U=he,te.U=oe,te.L=oe.R,te.L&&(te.L.U=te),oe.R=te}function Ai(I){for(;I.L;)I=I.L;return I}function Vi(I,G){var te,oe,he,we=I.sort(zo).pop();for(Jt=[],fn=new Array(I.length),dn=new Rr,sn=new Rr;;)if(he=xn,we&&(!he||we.y<he.y||we.y===he.y&&we.x<he.x))we.x===te&&we.y===oe||(fn[we.i]=new Wn(we),Nn(we),te=we.x,oe=we.y),we=I.pop();else{if(!he)break;In(he.arc)}G&&(function(ze){for(var qe,We,rt,ft,pt,wt=Jt,Ct=(We=ze[0][0],rt=ze[0][1],ft=ze[1][0],pt=ze[1][1],function(zt){var It,Xt=zt.a,Gt=zt.b,Vt=Xt.x,pn=Xt.y,yn=0,Sn=1,Pn=Gt.x-Vt,Vn=Gt.y-pn;if(It=We-Vt,Pn||!(It>0)){if(It/=Pn,Pn<0){if(It<yn)return;It<Sn&&(Sn=It)}else if(Pn>0){if(It>Sn)return;It>yn&&(yn=It)}if(It=ft-Vt,Pn||!(It<0)){if(It/=Pn,Pn<0){if(It>Sn)return;It>yn&&(yn=It)}else if(Pn>0){if(It<yn)return;It<Sn&&(Sn=It)}if(It=rt-pn,Vn||!(It>0)){if(It/=Vn,Vn<0){if(It<yn)return;It<Sn&&(Sn=It)}else if(Vn>0){if(It>Sn)return;It>yn&&(yn=It)}if(It=pt-pn,Vn||!(It<0)){if(It/=Vn,Vn<0){if(It>Sn)return;It>yn&&(yn=It)}else if(Vn>0){if(It<yn)return;It<Sn&&(Sn=It)}return yn>0&&(zt.a={x:Vt+yn*Pn,y:pn+yn*Vn}),Sn<1&&(zt.b={x:Vt+Sn*Pn,y:pn+Sn*Vn}),zt}}}}}),Mt=wt.length;Mt--;)(!br(qe=wt[Mt],ze)||!Ct(qe)||m(qe.a.x-qe.b.x)<et&&m(qe.a.y-qe.b.y)<et)&&(qe.a=qe.b=null,wt.splice(Mt,1))}(G),function(ze){for(var qe,We,rt,ft,pt,wt,Ct,Mt,zt,It,Xt=ze[0][0],Gt=ze[1][0],Vt=ze[0][1],pn=ze[1][1],yn=fn,Sn=yn.length;Sn--;)if((pt=yn[Sn])&&pt.prepare())for(Mt=(Ct=pt.edges).length,wt=0;wt<Mt;)rt=(It=Ct[wt].end()).x,ft=It.y,qe=(zt=Ct[++wt%Mt].start()).x,We=zt.y,(m(rt-qe)>et||m(ft-We)>et)&&(Ct.splice(wt,0,new kr((Pn=pt.site,Vn=It,ir=m(rt-Xt)<et&&pn-ft>et?{x:Xt,y:m(qe-Xt)<et?We:pn}:m(ft-pn)<et&&Gt-rt>et?{x:m(We-pn)<et?qe:Gt,y:pn}:m(rt-Gt)<et&&ft-Vt>et?{x:Gt,y:m(qe-Gt)<et?We:Vt}:m(ft-Vt)<et&&rt-Xt>et?{x:m(We-Vt)<et?qe:Xt,y:Vt}:null,ur=void 0,(ur=new gr(Pn,null)).a=Vn,ur.b=ir,Jt.push(ur),ur),pt.site,null)),++Mt);var Pn,Vn,ir,ur}(G));var Oe={cells:fn,edges:Jt};return dn=sn=Jt=fn=null,Oe}function zo(I,G){return G.y-I.y||G.x-I.x}Wn.prototype.prepare=function(){for(var I,G=this.edges,te=G.length;te--;)(I=G[te].edge).b&&I.a||G.splice(te,1);return G.sort(Jn),G.length},kr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Rr.prototype={insert:function(I,G){var te,oe,he;if(I){if(G.P=I,G.N=I.N,I.N&&(I.N.P=G),I.N=G,I.R){for(I=I.R;I.L;)I=I.L;I.L=G}else I.R=G;te=I}else this._?(I=Ai(this._),G.P=null,G.N=I,I.P=I.L=G,te=I):(G.P=G.N=null,this._=G,te=null);for(G.L=G.R=null,G.U=te,G.C=!0,I=G;te&&te.C;)te===(oe=te.U).L?(he=oe.R)&&he.C?(te.C=he.C=!1,oe.C=!0,I=oe):(I===te.R&&(Ei(this,te),te=(I=te).U),te.C=!1,oe.C=!0,io(this,oe)):(he=oe.L)&&he.C?(te.C=he.C=!1,oe.C=!0,I=oe):(I===te.L&&(io(this,te),te=(I=te).U),te.C=!1,oe.C=!0,Ei(this,oe)),te=I.U;this._.C=!1},remove:function(I){I.N&&(I.N.P=I.P),I.P&&(I.P.N=I.N),I.N=I.P=null;var G,te,oe,he=I.U,we=I.L,Oe=I.R;if(te=we?Oe?Ai(Oe):we:Oe,he?he.L===I?he.L=te:he.R=te:this._=te,we&&Oe?(oe=te.C,te.C=I.C,te.L=we,we.U=te,te!==Oe?(he=te.U,te.U=I.U,I=te.R,he.L=I,te.R=Oe,Oe.U=te):(te.U=he,he=te,I=te.R)):(oe=I.C,I=te),I&&(I.U=he),!oe)if(I&&I.C)I.C=!1;else{do{if(I===this._)break;if(I===he.L){if((G=he.R).C&&(G.C=!1,he.C=!0,Ei(this,he),G=he.R),G.L&&G.L.C||G.R&&G.R.C){G.R&&G.R.C||(G.L.C=!1,G.C=!0,io(this,G),G=he.R),G.C=he.C,he.C=G.R.C=!1,Ei(this,he),I=this._;break}}else if((G=he.L).C&&(G.C=!1,he.C=!0,io(this,he),G=he.L),G.L&&G.L.C||G.R&&G.R.C){G.L&&G.L.C||(G.R.C=!1,G.C=!0,Ei(this,G),G=he.L),G.C=he.C,he.C=G.L.C=!1,io(this,he),I=this._;break}G.C=!0,I=he,he=he.U}while(!I.C);I&&(I.C=!1)}}},n.geom.voronoi=function(I){var G=Hn,te=Un,oe=G,he=te,we=Nr;if(I)return Oe(I);function Oe(qe){var We=new Array(qe.length),rt=we[0][0],ft=we[0][1],pt=we[1][0],wt=we[1][1];return Vi(ze(qe),we).cells.forEach(function(Ct,Mt){var zt=Ct.edges,It=Ct.site;(We[Mt]=zt.length?zt.map(function(Xt){var Gt=Xt.start();return[Gt.x,Gt.y]}):It.x>=rt&&It.x<=pt&&It.y>=ft&&It.y<=wt?[[rt,wt],[pt,wt],[pt,ft],[rt,ft]]:[]).point=qe[Mt]}),We}function ze(qe){return qe.map(function(We,rt){return{x:Math.round(oe(We,rt)/et)*et,y:Math.round(he(We,rt)/et)*et,i:rt}})}return Oe.links=function(qe){return Vi(ze(qe)).edges.filter(function(We){return We.l&&We.r}).map(function(We){return{source:qe[We.l.i],target:qe[We.r.i]}})},Oe.triangles=function(qe){var We=[];return Vi(ze(qe)).cells.forEach(function(rt,ft){for(var pt,wt,Ct,Mt,zt=rt.site,It=rt.edges.sort(Jn),Xt=-1,Gt=It.length,Vt=It[Gt-1].edge,pn=Vt.l===zt?Vt.r:Vt.l;++Xt<Gt;)pt=pn,pn=(Vt=It[Xt].edge).l===zt?Vt.r:Vt.l,ft<pt.i&&ft<pn.i&&(Ct=pt,Mt=pn,((wt=zt).x-Mt.x)*(Ct.y-wt.y)-(wt.x-Ct.x)*(Mt.y-wt.y)<0)&&We.push([qe[ft],qe[pt.i],qe[pn.i]])}),We},Oe.x=function(qe){return arguments.length?(oe=Bn(G=qe),Oe):G},Oe.y=function(qe){return arguments.length?(he=Bn(te=qe),Oe):te},Oe.clipExtent=function(qe){return arguments.length?(we=qe??Nr,Oe):we===Nr?null:we},Oe.size=function(qe){return arguments.length?Oe.clipExtent(qe&&[[0,0],qe]):we===Nr?null:we&&we[1]},Oe};var Nr=[[-1e6,-1e6],[1e6,1e6]];function co(I){return I.x}function ua(I){return I.y}function ao(I,G,te,oe,he,we){if(!I(G,te,oe,he,we)){var Oe=.5*(te+he),ze=.5*(oe+we),qe=G.nodes;qe[0]&&ao(I,qe[0],te,oe,Oe,ze),qe[1]&&ao(I,qe[1],Oe,oe,he,ze),qe[2]&&ao(I,qe[2],te,ze,Oe,we),qe[3]&&ao(I,qe[3],Oe,ze,he,we)}}function es(I,G){I=n.rgb(I),G=n.rgb(G);var te=I.r,oe=I.g,he=I.b,we=G.r-te,Oe=G.g-oe,ze=G.b-he;return function(qe){return"#"+nn(Math.round(te+we*qe))+nn(Math.round(oe+Oe*qe))+nn(Math.round(he+ze*qe))}}function ms(I,G){var te,oe={},he={};for(te in I)te in G?oe[te]=ca(I[te],G[te]):he[te]=I[te];for(te in G)te in I||(he[te]=G[te]);return function(we){for(te in oe)he[te]=oe[te](we);return he}}function Ao(I,G){return I=+I,G=+G,function(te){return I*(1-te)+G*te}}function Ba(I,G){var te,oe,he,we=ja.lastIndex=vs.lastIndex=0,Oe=-1,ze=[],qe=[];for(I+="",G+="";(te=ja.exec(I))&&(oe=vs.exec(G));)(he=oe.index)>we&&(he=G.slice(we,he),ze[Oe]?ze[Oe]+=he:ze[++Oe]=he),(te=te[0])===(oe=oe[0])?ze[Oe]?ze[Oe]+=oe:ze[++Oe]=oe:(ze[++Oe]=null,qe.push({i:Oe,x:Ao(te,oe)})),we=vs.lastIndex;return we<G.length&&(he=G.slice(we),ze[Oe]?ze[Oe]+=he:ze[++Oe]=he),ze.length<2?qe[0]?(G=qe[0].x,function(We){return G(We)+""}):function(){return G}:(G=qe.length,function(We){for(var rt,ft=0;ft<G;++ft)ze[(rt=qe[ft]).i]=rt.x(We);return ze.join("")})}n.geom.delaunay=function(I){return n.geom.voronoi().triangles(I)},n.geom.quadtree=function(I,G,te,oe,he){var we,Oe=Hn,ze=Un;if(we=arguments.length)return Oe=co,ze=ua,we===3&&(he=te,oe=G,te=G=0),qe(I);function qe(We){var rt,ft,pt,wt,Ct,Mt,zt,It,Xt,Gt=Bn(Oe),Vt=Bn(ze);if(G!=null)Mt=G,zt=te,It=oe,Xt=he;else if(It=Xt=-(Mt=zt=1/0),ft=[],pt=[],Ct=We.length,we)for(wt=0;wt<Ct;++wt)(rt=We[wt]).x<Mt&&(Mt=rt.x),rt.y<zt&&(zt=rt.y),rt.x>It&&(It=rt.x),rt.y>Xt&&(Xt=rt.y),ft.push(rt.x),pt.push(rt.y);else for(wt=0;wt<Ct;++wt){var pn=+Gt(rt=We[wt],wt),yn=+Vt(rt,wt);pn<Mt&&(Mt=pn),yn<zt&&(zt=yn),pn>It&&(It=pn),yn>Xt&&(Xt=yn),ft.push(pn),pt.push(yn)}var Sn=It-Mt,Pn=Xt-zt;function Vn(Yn,lr,xr,Er,tr,sr,wr,cr){if(!isNaN(xr)&&!isNaN(Er))if(Yn.leaf){var Ar=Yn.x,Lr=Yn.y;if(Ar!=null)if(m(Ar-xr)+m(Lr-Er)<.01)ir(Yn,lr,xr,Er,tr,sr,wr,cr);else{var qr=Yn.point;Yn.x=Yn.y=Yn.point=null,ir(Yn,qr,Ar,Lr,tr,sr,wr,cr),ir(Yn,lr,xr,Er,tr,sr,wr,cr)}else Yn.x=xr,Yn.y=Er,Yn.point=lr}else ir(Yn,lr,xr,Er,tr,sr,wr,cr)}function ir(Yn,lr,xr,Er,tr,sr,wr,cr){var Ar=.5*(tr+wr),Lr=.5*(sr+cr),qr=xr>=Ar,Wr=Er>=Lr,Kr=Wr<<1|qr;Yn.leaf=!1,qr?tr=Ar:wr=Ar,Wr?sr=Lr:cr=Lr,Vn(Yn=Yn.nodes[Kr]||(Yn.nodes[Kr]={leaf:!0,nodes:[],point:null,x:null,y:null}),lr,xr,Er,tr,sr,wr,cr)}Sn>Pn?Xt=zt+Sn:It=Mt+Pn;var ur={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Yn){Vn(ur,Yn,+Gt(Yn,++wt),+Vt(Yn,wt),Mt,zt,It,Xt)}};if(ur.visit=function(Yn){ao(Yn,ur,Mt,zt,It,Xt)},ur.find=function(Yn){return function(lr,xr,Er,tr,sr,wr,cr){var Ar,Lr=1/0;return function qr(Wr,Kr,ii,Ii,Zi){if(!(Kr>wr||ii>cr||Ii<tr||Zi<sr)){if(Po=Wr.point){var Po,go=xr-Wr.x,So=Er-Wr.y,Fi=go*go+So*So;if(Fi<Lr){var si=Math.sqrt(Lr=Fi);tr=xr-si,sr=Er-si,wr=xr+si,cr=Er+si,Ar=Po}}for(var Hi=Wr.nodes,Mi=.5*(Kr+Ii),hi=.5*(ii+Zi),qi=(Er>=hi)<<1|xr>=Mi,Xi=qi+4;qi<Xi;++qi)if(Wr=Hi[3&qi])switch(3&qi){case 0:qr(Wr,Kr,ii,Mi,hi);break;case 1:qr(Wr,Mi,ii,Ii,hi);break;case 2:qr(Wr,Kr,hi,Mi,Zi);break;case 3:qr(Wr,Mi,hi,Ii,Zi)}}}(lr,tr,sr,wr,cr),Ar}(ur,Yn[0],Yn[1],Mt,zt,It,Xt)},wt=-1,G==null){for(;++wt<Ct;)Vn(ur,We[wt],ft[wt],pt[wt],Mt,zt,It,Xt);--wt}else We.forEach(ur.add);return ft=pt=We=rt=null,ur}return qe.x=function(We){return arguments.length?(Oe=We,qe):Oe},qe.y=function(We){return arguments.length?(ze=We,qe):ze},qe.extent=function(We){return arguments.length?(We==null?G=te=oe=he=null:(G=+We[0][0],te=+We[0][1],oe=+We[1][0],he=+We[1][1]),qe):G==null?null:[[G,te],[oe,he]]},qe.size=function(We){return arguments.length?(We==null?G=te=oe=he=null:(G=te=0,oe=+We[0],he=+We[1]),qe):G==null?null:[oe-G,he-te]},qe},n.interpolateRgb=es,n.interpolateObject=ms,n.interpolateNumber=Ao,n.interpolateString=Ba;var ja=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vs=new RegExp(ja.source,"g");function ca(I,G){for(var te,oe=n.interpolators.length;--oe>=0&&!(te=n.interpolators[oe](I,G)););return te}function _a(I,G){var te,oe=[],he=[],we=I.length,Oe=G.length,ze=Math.min(I.length,G.length);for(te=0;te<ze;++te)oe.push(ca(I[te],G[te]));for(;te<we;++te)he[te]=I[te];for(;te<Oe;++te)he[te]=G[te];return function(qe){for(te=0;te<ze;++te)he[te]=oe[te](qe);return he}}n.interpolate=ca,n.interpolators=[function(I,G){var te=typeof G;return(te==="string"?kn.has(G.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(G)?es:Ba:G instanceof $e?es:Array.isArray(G)?_a:te==="object"&&isNaN(G)?ms:Ao)(I,G)}],n.interpolateArray=_a;var wa=function(){return N},wi=n.map({linear:wa,poly:function(I){return function(G){return Math.pow(G,I)}},quad:function(){return Ta},cubic:function(){return ys},sin:function(){return xs},exp:function(){return ns},circle:function(){return bs},elastic:function(I,G){var te;return arguments.length<2&&(G=.45),arguments.length?te=G/Rt*Math.asin(1/I):(I=1,te=G/4),function(oe){return 1+I*Math.pow(2,-10*oe)*Math.sin((oe-te)*Rt/G)}},back:function(I){return I||(I=1.70158),function(G){return G*G*((I+1)*G-I)}},bounce:function(){return Ha}}),fo=n.map({in:N,out:ts,"in-out":Ua,"out-in":function(I){return Ua(ts(I))}});function ts(I){return function(G){return 1-I(1-G)}}function Ua(I){return function(G){return .5*(G<.5?I(2*G):2-I(2-2*G))}}function Ta(I){return I*I}function ys(I){return I*I*I}function Va(I){if(I<=0)return 0;if(I>=1)return 1;var G=I*I,te=G*I;return 4*(I<.5?te:3*(I-G)+te-.75)}function xs(I){return 1-Math.cos(I*Ye)}function ns(I){return Math.pow(2,10*(I-1))}function bs(I){return 1-Math.sqrt(1-I*I)}function Ha(I){return I<.36363636363636365?7.5625*I*I:I<.7272727272727273?7.5625*(I-=.5454545454545454)*I+.75:I<.9090909090909091?7.5625*(I-=.8181818181818182)*I+.9375:7.5625*(I-=.9545454545454546)*I+.984375}function Cu(I,G){return G-=I,function(te){return Math.round(I+G*te)}}function su(I){var G,te,oe,he=[I.a,I.b],we=[I.c,I.d],Oe=Ku(he),ze=Gs(he,we),qe=Ku(((G=we)[0]+=(oe=-ze)*(te=he)[0],G[1]+=oe*te[1],G))||0;he[0]*we[1]<we[0]*he[1]&&(he[0]*=-1,he[1]*=-1,Oe*=-1,ze*=-1),this.rotate=(Oe?Math.atan2(he[1],he[0]):Math.atan2(-we[0],we[1]))*Ve,this.translate=[I.e,I.f],this.scale=[Oe,qe],this.skew=qe?Math.atan2(ze,qe)*Ve:0}function Gs(I,G){return I[0]*G[0]+I[1]*G[1]}function Ku(I){var G=Math.sqrt(Gs(I,I));return G&&(I[0]/=G,I[1]/=G),G}n.ease=function(I){var G,te=I.indexOf("-"),oe=te>=0?I.slice(0,te):I,he=te>=0?I.slice(te+1):"in";return oe=wi.get(oe)||wa,he=fo.get(he)||N,G=he(oe.apply(null,M.call(arguments,1))),function(we){return we<=0?0:we>=1?1:G(we)}},n.interpolateHcl=function(I,G){I=n.hcl(I),G=n.hcl(G);var te=I.h,oe=I.c,he=I.l,we=G.h-te,Oe=G.c-oe,ze=G.l-he;return isNaN(Oe)&&(Oe=0,oe=isNaN(oe)?G.c:oe),isNaN(we)?(we=0,te=isNaN(te)?G.h:te):we>180?we-=360:we<-180&&(we+=360),function(qe){return bt(te+we*qe,oe+Oe*qe,he+ze*qe)+""}},n.interpolateHsl=function(I,G){I=n.hsl(I),G=n.hsl(G);var te=I.h,oe=I.s,he=I.l,we=G.h-te,Oe=G.s-oe,ze=G.l-he;return isNaN(Oe)&&(Oe=0,oe=isNaN(oe)?G.s:oe),isNaN(we)?(we=0,te=isNaN(te)?G.h:te):we>180?we-=360:we<-180&&(we+=360),function(qe){return yt(te+we*qe,oe+Oe*qe,he+ze*qe)+""}},n.interpolateLab=function(I,G){I=n.lab(I),G=n.lab(G);var te=I.l,oe=I.a,he=I.b,we=G.l-te,Oe=G.a-oe,ze=G.b-he;return function(qe){return Ht(te+we*qe,oe+Oe*qe,he+ze*qe)+""}},n.interpolateRound=Cu,n.transform=function(I){var G=f.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(te){if(te!=null){G.setAttribute("transform",te);var oe=G.transform.baseVal.consolidate()}return new su(oe?oe.matrix:Ju)})(I)},su.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ju={a:1,b:0,c:0,d:1,e:0,f:0};function Ws(I){return I.length?I.pop()+",":""}function Qu(I,G){var te=[],oe=[];return I=n.transform(I),G=n.transform(G),function(he,we,Oe,ze){if(he[0]!==we[0]||he[1]!==we[1]){var qe=Oe.push("translate(",null,",",null,")");ze.push({i:qe-4,x:Ao(he[0],we[0])},{i:qe-2,x:Ao(he[1],we[1])})}else(we[0]||we[1])&&Oe.push("translate("+we+")")}(I.translate,G.translate,te,oe),function(he,we,Oe,ze){he!==we?(he-we>180?we+=360:we-he>180&&(he+=360),ze.push({i:Oe.push(Ws(Oe)+"rotate(",null,")")-2,x:Ao(he,we)})):we&&Oe.push(Ws(Oe)+"rotate("+we+")")}(I.rotate,G.rotate,te,oe),function(he,we,Oe,ze){he!==we?ze.push({i:Oe.push(Ws(Oe)+"skewX(",null,")")-2,x:Ao(he,we)}):we&&Oe.push(Ws(Oe)+"skewX("+we+")")}(I.skew,G.skew,te,oe),function(he,we,Oe,ze){if(he[0]!==we[0]||he[1]!==we[1]){var qe=Oe.push(Ws(Oe)+"scale(",null,",",null,")");ze.push({i:qe-4,x:Ao(he[0],we[0])},{i:qe-2,x:Ao(he[1],we[1])})}else we[0]===1&&we[1]===1||Oe.push(Ws(Oe)+"scale("+we+")")}(I.scale,G.scale,te,oe),I=G=null,function(he){for(var we,Oe=-1,ze=oe.length;++Oe<ze;)te[(we=oe[Oe]).i]=we.x(he);return te.join("")}}function Ec(I,G){return G=(G-=I=+I)||1/G,function(te){return(te-I)/G}}function Cc(I,G){return G=(G-=I=+I)||1/G,function(te){return Math.max(0,Math.min(1,(te-I)/G))}}function Ys(I){for(var G=I.source,te=I.target,oe=function(Oe,ze){if(Oe===ze)return Oe;for(var qe=qa(Oe),We=qa(ze),rt=qe.pop(),ft=We.pop(),pt=null;rt===ft;)pt=rt,rt=qe.pop(),ft=We.pop();return pt}(G,te),he=[G];G!==oe;)G=G.parent,he.push(G);for(var we=he.length;te!==oe;)he.splice(we,0,te),te=te.parent;return he}function qa(I){for(var G=[],te=I.parent;te!=null;)G.push(I),I=te,te=te.parent;return G.push(I),G}function pl(I){I.fixed|=2}function $s(I){I.fixed&=-7}function Nl(I){I.fixed|=4,I.px=I.x,I.py=I.y}function Zs(I){I.fixed&=-5}function Ma(I,G,te){var oe=0,he=0;if(I.charge=0,!I.leaf)for(var we,Oe=I.nodes,ze=Oe.length,qe=-1;++qe<ze;)(we=Oe[qe])!=null&&(Ma(we,G,te),I.charge+=we.charge,oe+=we.charge*we.cx,he+=we.charge*we.cy);if(I.point){I.leaf||(I.point.x+=Math.random()-.5,I.point.y+=Math.random()-.5);var We=G*te[I.point.index];I.charge+=I.pointCharge=We,oe+=We*I.point.x,he+=We*I.point.y}I.cx=oe/I.charge,I.cy=he/I.charge}n.interpolateTransform=Qu,n.layout={},n.layout.bundle=function(){return function(I){for(var G=[],te=-1,oe=I.length;++te<oe;)G.push(Ys(I[te]));return G}},n.layout.chord=function(){var I,G,te,oe,he,we,Oe,ze={},qe=0;function We(){var ft,pt,wt,Ct,Mt,zt={},It=[],Xt=n.range(oe),Gt=[];for(I=[],G=[],ft=0,Ct=-1;++Ct<oe;){for(pt=0,Mt=-1;++Mt<oe;)pt+=te[Ct][Mt];It.push(pt),Gt.push(n.range(oe)),ft+=pt}for(he&&Xt.sort(function(ur,Yn){return he(It[ur],It[Yn])}),we&&Gt.forEach(function(ur,Yn){ur.sort(function(lr,xr){return we(te[Yn][lr],te[Yn][xr])})}),ft=(Rt-qe*oe)/ft,pt=0,Ct=-1;++Ct<oe;){for(wt=pt,Mt=-1;++Mt<oe;){var Vt=Xt[Ct],pn=Gt[Vt][Mt],yn=te[Vt][pn],Sn=pt,Pn=pt+=yn*ft;zt[Vt+"-"+pn]={index:Vt,subindex:pn,startAngle:Sn,endAngle:Pn,value:yn}}G[Vt]={index:Vt,startAngle:wt,endAngle:pt,value:It[Vt]},pt+=qe}for(Ct=-1;++Ct<oe;)for(Mt=Ct-1;++Mt<oe;){var Vn=zt[Ct+"-"+Mt],ir=zt[Mt+"-"+Ct];(Vn.value||ir.value)&&I.push(Vn.value<ir.value?{source:ir,target:Vn}:{source:Vn,target:ir})}Oe&&rt()}function rt(){I.sort(function(ft,pt){return Oe((ft.source.value+ft.target.value)/2,(pt.source.value+pt.target.value)/2)})}return ze.matrix=function(ft){return arguments.length?(oe=(te=ft)&&te.length,I=G=null,ze):te},ze.padding=function(ft){return arguments.length?(qe=ft,I=G=null,ze):qe},ze.sortGroups=function(ft){return arguments.length?(he=ft,I=G=null,ze):he},ze.sortSubgroups=function(ft){return arguments.length?(we=ft,I=null,ze):we},ze.sortChords=function(ft){return arguments.length?(Oe=ft,I&&rt(),ze):Oe},ze.chords=function(){return I||We(),I},ze.groups=function(){return G||We(),G},ze},n.layout.force=function(){var I,G,te,oe,he,we,Oe={},ze=n.dispatch("start","tick","end"),qe=[1,1],We=.9,rt=Du,ft=_s,pt=-30,wt=rs,Ct=.1,Mt=.64,zt=[],It=[];function Xt(Vt){return function(pn,yn,Sn,Pn){if(pn.point!==Vt){var Vn=pn.cx-Vt.x,ir=pn.cy-Vt.y,ur=Pn-yn,Yn=Vn*Vn+ir*ir;if(ur*ur/Mt<Yn){if(Yn<wt){var lr=pn.charge/Yn;Vt.px-=Vn*lr,Vt.py-=ir*lr}return!0}pn.point&&Yn&&Yn<wt&&(lr=pn.pointCharge/Yn,Vt.px-=Vn*lr,Vt.py-=ir*lr)}return!pn.charge}}function Gt(Vt){Vt.px=n.event.x,Vt.py=n.event.y,Oe.resume()}return Oe.tick=function(){if((te*=.99)<.005)return I=null,ze.end({type:"end",alpha:te=0}),!0;var Vt,pn,yn,Sn,Pn,Vn,ir,ur,Yn,lr=zt.length,xr=It.length;for(pn=0;pn<xr;++pn)Sn=(yn=It[pn]).source,(Vn=(ur=(Pn=yn.target).x-Sn.x)*ur+(Yn=Pn.y-Sn.y)*Yn)&&(ur*=Vn=te*he[pn]*((Vn=Math.sqrt(Vn))-oe[pn])/Vn,Yn*=Vn,Pn.x-=ur*(ir=Sn.weight+Pn.weight?Sn.weight/(Sn.weight+Pn.weight):.5),Pn.y-=Yn*ir,Sn.x+=ur*(ir=1-ir),Sn.y+=Yn*ir);if((ir=te*Ct)&&(ur=qe[0]/2,Yn=qe[1]/2,pn=-1,ir))for(;++pn<lr;)(yn=zt[pn]).x+=(ur-yn.x)*ir,yn.y+=(Yn-yn.y)*ir;if(pt)for(Ma(Vt=n.geom.quadtree(zt),te,we),pn=-1;++pn<lr;)(yn=zt[pn]).fixed||Vt.visit(Xt(yn));for(pn=-1;++pn<lr;)(yn=zt[pn]).fixed?(yn.x=yn.px,yn.y=yn.py):(yn.x-=(yn.px-(yn.px=yn.x))*We,yn.y-=(yn.py-(yn.py=yn.y))*We);ze.tick({type:"tick",alpha:te})},Oe.nodes=function(Vt){return arguments.length?(zt=Vt,Oe):zt},Oe.links=function(Vt){return arguments.length?(It=Vt,Oe):It},Oe.size=function(Vt){return arguments.length?(qe=Vt,Oe):qe},Oe.linkDistance=function(Vt){return arguments.length?(rt=typeof Vt=="function"?Vt:+Vt,Oe):rt},Oe.distance=Oe.linkDistance,Oe.linkStrength=function(Vt){return arguments.length?(ft=typeof Vt=="function"?Vt:+Vt,Oe):ft},Oe.friction=function(Vt){return arguments.length?(We=+Vt,Oe):We},Oe.charge=function(Vt){return arguments.length?(pt=typeof Vt=="function"?Vt:+Vt,Oe):pt},Oe.chargeDistance=function(Vt){return arguments.length?(wt=Vt*Vt,Oe):Math.sqrt(wt)},Oe.gravity=function(Vt){return arguments.length?(Ct=+Vt,Oe):Ct},Oe.theta=function(Vt){return arguments.length?(Mt=Vt*Vt,Oe):Math.sqrt(Mt)},Oe.alpha=function(Vt){return arguments.length?(Vt=+Vt,te?Vt>0?te=Vt:(I.c=null,I.t=NaN,I=null,ze.end({type:"end",alpha:te=0})):Vt>0&&(ze.start({type:"start",alpha:te=Vt}),I=rn(Oe.tick)),Oe):te},Oe.start=function(){var Vt,pn,yn,Sn=zt.length,Pn=It.length,Vn=qe[0],ir=qe[1];for(Vt=0;Vt<Sn;++Vt)(yn=zt[Vt]).index=Vt,yn.weight=0;for(Vt=0;Vt<Pn;++Vt)typeof(yn=It[Vt]).source=="number"&&(yn.source=zt[yn.source]),typeof yn.target=="number"&&(yn.target=zt[yn.target]),++yn.source.weight,++yn.target.weight;for(Vt=0;Vt<Sn;++Vt)yn=zt[Vt],isNaN(yn.x)&&(yn.x=ur("x",Vn)),isNaN(yn.y)&&(yn.y=ur("y",ir)),isNaN(yn.px)&&(yn.px=yn.x),isNaN(yn.py)&&(yn.py=yn.y);if(oe=[],typeof rt=="function")for(Vt=0;Vt<Pn;++Vt)oe[Vt]=+rt.call(this,It[Vt],Vt);else for(Vt=0;Vt<Pn;++Vt)oe[Vt]=rt;if(he=[],typeof ft=="function")for(Vt=0;Vt<Pn;++Vt)he[Vt]=+ft.call(this,It[Vt],Vt);else for(Vt=0;Vt<Pn;++Vt)he[Vt]=ft;if(we=[],typeof pt=="function")for(Vt=0;Vt<Sn;++Vt)we[Vt]=+pt.call(this,zt[Vt],Vt);else for(Vt=0;Vt<Sn;++Vt)we[Vt]=pt;function ur(Yn,lr){if(!pn){for(pn=new Array(Sn),sr=0;sr<Sn;++sr)pn[sr]=[];for(sr=0;sr<Pn;++sr){var xr=It[sr];pn[xr.source.index].push(xr.target),pn[xr.target.index].push(xr.source)}}for(var Er,tr=pn[Vt],sr=-1,wr=tr.length;++sr<wr;)if(!isNaN(Er=tr[sr][Yn]))return Er;return Math.random()*lr}return Oe.resume()},Oe.resume=function(){return Oe.alpha(.1)},Oe.stop=function(){return Oe.alpha(0)},Oe.drag=function(){if(G||(G=n.behavior.drag().origin(N).on("dragstart.force",pl).on("drag.force",Gt).on("dragend.force",$s)),!arguments.length)return G;this.on("mouseover.force",Nl).on("mouseout.force",Zs).call(G)},n.rebind(Oe,ze,"on")};var Du=20,_s=1,rs=1/0;function is(I,G){return n.rebind(I,G,"sort","children","value"),I.nodes=I,I.links=vl,I}function ws(I,G){for(var te=[I];(I=te.pop())!=null;)if(G(I),(he=I.children)&&(oe=he.length))for(var oe,he;--oe>=0;)te.push(he[oe])}function ei(I,G){for(var te=[I],oe=[];(I=te.pop())!=null;)if(oe.push(I),(we=I.children)&&(he=we.length))for(var he,we,Oe=-1;++Oe<he;)te.push(we[Oe]);for(;(I=oe.pop())!=null;)G(I)}function ml(I){return I.children}function Dc(I){return I.value}function lu(I,G){return G.value-I.value}function vl(I){return n.merge(I.map(function(G){return(G.children||[]).map(function(te){return{source:G,target:te}})}))}n.layout.hierarchy=function(){var I=lu,G=ml,te=Dc;function oe(he){var we,Oe=[he],ze=[];for(he.depth=0;(we=Oe.pop())!=null;)if(ze.push(we),(We=G.call(oe,we,we.depth))&&(qe=We.length)){for(var qe,We,rt;--qe>=0;)Oe.push(rt=We[qe]),rt.parent=we,rt.depth=we.depth+1;te&&(we.value=0),we.children=We}else te&&(we.value=+te.call(oe,we,we.depth)||0),delete we.children;return ei(he,function(ft){var pt,wt;I&&(pt=ft.children)&&pt.sort(I),te&&(wt=ft.parent)&&(wt.value+=ft.value)}),ze}return oe.sort=function(he){return arguments.length?(I=he,oe):I},oe.children=function(he){return arguments.length?(G=he,oe):G},oe.value=function(he){return arguments.length?(te=he,oe):te},oe.revalue=function(he){return te&&(ws(he,function(we){we.children&&(we.value=0)}),ei(he,function(we){var Oe;we.children||(we.value=+te.call(oe,we,we.depth)||0),(Oe=we.parent)&&(Oe.value+=we.value)})),he},oe},n.layout.partition=function(){var I=n.layout.hierarchy(),G=[1,1];function te(we,Oe,ze,qe){var We=we.children;if(we.x=Oe,we.y=we.depth*qe,we.dx=ze,we.dy=qe,We&&(rt=We.length)){var rt,ft,pt,wt=-1;for(ze=we.value?ze/we.value:0;++wt<rt;)te(ft=We[wt],Oe,pt=ft.value*ze,qe),Oe+=pt}}function oe(we){var Oe=we.children,ze=0;if(Oe&&(qe=Oe.length))for(var qe,We=-1;++We<qe;)ze=Math.max(ze,oe(Oe[We]));return 1+ze}function he(we,Oe){var ze=I.call(this,we,Oe);return te(ze[0],0,G[0],G[1]/oe(ze[0])),ze}return he.size=function(we){return arguments.length?(G=we,he):G},is(he,I)},n.layout.pie=function(){var I=Number,G=ec,te=0,oe=Rt,he=0;function we(Oe){var ze,qe=Oe.length,We=Oe.map(function(Xt,Gt){return+I.call(we,Xt,Gt)}),rt=+(typeof te=="function"?te.apply(this,arguments):te),ft=(typeof oe=="function"?oe.apply(this,arguments):oe)-rt,pt=Math.min(Math.abs(ft)/qe,+(typeof he=="function"?he.apply(this,arguments):he)),wt=pt*(ft<0?-1:1),Ct=n.sum(We),Mt=Ct?(ft-qe*wt)/Ct:0,zt=n.range(qe),It=[];return G!=null&&zt.sort(G===ec?function(Xt,Gt){return We[Gt]-We[Xt]}:function(Xt,Gt){return G(Oe[Xt],Oe[Gt])}),zt.forEach(function(Xt){It[Xt]={data:Oe[Xt],value:ze=We[Xt],startAngle:rt,endAngle:rt+=ze*Mt+wt,padAngle:pt}}),It}return we.value=function(Oe){return arguments.length?(I=Oe,we):I},we.sort=function(Oe){return arguments.length?(G=Oe,we):G},we.startAngle=function(Oe){return arguments.length?(te=Oe,we):te},we.endAngle=function(Oe){return arguments.length?(oe=Oe,we):oe},we.padAngle=function(Oe){return arguments.length?(he=Oe,we):he},we};var ec={};function Ic(I){return I.x}function uu(I){return I.y}function Lc(I,G,te){I.y0=G,I.y=te}n.layout.stack=function(){var I=N,G=os,te=Aa,oe=Lc,he=Ic,we=uu;function Oe(ze,qe){if(!(pt=ze.length))return ze;var We=ze.map(function(Xt,Gt){return I.call(Oe,Xt,Gt)}),rt=We.map(function(Xt){return Xt.map(function(Gt,Vt){return[he.call(Oe,Gt,Vt),we.call(Oe,Gt,Vt)]})}),ft=G.call(Oe,rt,qe);We=n.permute(We,ft),rt=n.permute(rt,ft);var pt,wt,Ct,Mt,zt=te.call(Oe,rt,qe),It=We[0].length;for(Ct=0;Ct<It;++Ct)for(oe.call(Oe,We[0][Ct],Mt=zt[Ct],rt[0][Ct][1]),wt=1;wt<pt;++wt)oe.call(Oe,We[wt][Ct],Mt+=rt[wt-1][Ct][1],rt[wt][Ct][1]);return ze}return Oe.values=function(ze){return arguments.length?(I=ze,Oe):I},Oe.order=function(ze){return arguments.length?(G=typeof ze=="function"?ze:Ts.get(ze)||os,Oe):G},Oe.offset=function(ze){return arguments.length?(te=typeof ze=="function"?ze:Xs.get(ze)||Aa,Oe):te},Oe.x=function(ze){return arguments.length?(he=ze,Oe):he},Oe.y=function(ze){return arguments.length?(we=ze,Oe):we},Oe.out=function(ze){return arguments.length?(oe=ze,Oe):oe},Oe};var Ts=n.map({"inside-out":function(I){var G,te,oe=I.length,he=I.map(yl),we=I.map(tc),Oe=n.range(oe).sort(function(ft,pt){return he[ft]-he[pt]}),ze=0,qe=0,We=[],rt=[];for(G=0;G<oe;++G)te=Oe[G],ze<qe?(ze+=we[te],We.push(te)):(qe+=we[te],rt.push(te));return rt.reverse().concat(We)},reverse:function(I){return n.range(I.length).reverse()},default:os}),Xs=n.map({silhouette:function(I){var G,te,oe,he=I.length,we=I[0].length,Oe=[],ze=0,qe=[];for(te=0;te<we;++te){for(G=0,oe=0;G<he;G++)oe+=I[G][te][1];oe>ze&&(ze=oe),Oe.push(oe)}for(te=0;te<we;++te)qe[te]=(ze-Oe[te])/2;return qe},wiggle:function(I){var G,te,oe,he,we,Oe,ze,qe,We,rt=I.length,ft=I[0],pt=ft.length,wt=[];for(wt[0]=qe=We=0,te=1;te<pt;++te){for(G=0,he=0;G<rt;++G)he+=I[G][te][1];for(G=0,we=0,ze=ft[te][0]-ft[te-1][0];G<rt;++G){for(oe=0,Oe=(I[G][te][1]-I[G][te-1][1])/(2*ze);oe<G;++oe)Oe+=(I[oe][te][1]-I[oe][te-1][1])/ze;we+=Oe*I[G][te][1]}wt[te]=qe-=he?we/he*ze:0,qe<We&&(We=qe)}for(te=0;te<pt;++te)wt[te]-=We;return wt},expand:function(I){var G,te,oe,he=I.length,we=I[0].length,Oe=1/he,ze=[];for(te=0;te<we;++te){for(G=0,oe=0;G<he;G++)oe+=I[G][te][1];if(oe)for(G=0;G<he;G++)I[G][te][1]/=oe;else for(G=0;G<he;G++)I[G][te][1]=Oe}for(te=0;te<we;++te)ze[te]=0;return ze},zero:Aa});function os(I){return n.range(I.length)}function Aa(I){for(var G=-1,te=I[0].length,oe=[];++G<te;)oe[G]=0;return oe}function yl(I){for(var G,te=1,oe=0,he=I[0][1],we=I.length;te<we;++te)(G=I[te][1])>he&&(oe=te,he=G);return oe}function tc(I){return I.reduce(Fl,0)}function Fl(I,G){return I+G[1]}function cu(I,G){return na(I,Math.ceil(Math.log(G.length)/Math.LN2+1))}function na(I,G){for(var te=-1,oe=+I[0],he=(I[1]-oe)/G,we=[];++te<=G;)we[te]=he*te+oe;return we}function fu(I){return[n.min(I),n.max(I)]}function nc(I,G){return I.value-G.value}function xl(I,G){var te=I._pack_next;I._pack_next=G,G._pack_prev=I,G._pack_next=te,te._pack_prev=G}function Ks(I,G){I._pack_next=G,G._pack_prev=I}function bl(I,G){var te=G.x-I.x,oe=G.y-I.y,he=I.r+G.r;return .999*he*he>te*te+oe*oe}function Js(I){if((G=I.children)&&(qe=G.length)){var G,te,oe,he,we,Oe,ze,qe,We=1/0,rt=-1/0,ft=1/0,pt=-1/0;if(G.forEach(Qs),(te=G[0]).x=-te.r,te.y=0,Gt(te),qe>1&&((oe=G[1]).x=oe.r,oe.y=0,Gt(oe),qe>2))for(xi(te,oe,he=G[2]),Gt(he),xl(te,he),te._pack_prev=he,xl(he,oe),oe=te._pack_next,we=3;we<qe;we++){xi(te,oe,he=G[we]);var wt=0,Ct=1,Mt=1;for(Oe=oe._pack_next;Oe!==oe;Oe=Oe._pack_next,Ct++)if(bl(Oe,he)){wt=1;break}if(wt==1)for(ze=te._pack_prev;ze!==Oe._pack_prev&&!bl(ze,he);ze=ze._pack_prev,Mt++);wt?(Ct<Mt||Ct==Mt&&oe.r<te.r?Ks(te,oe=Oe):Ks(te=ze,oe),we--):(xl(te,he),oe=he,Gt(he))}var zt=(We+rt)/2,It=(ft+pt)/2,Xt=0;for(we=0;we<qe;we++)(he=G[we]).x-=zt,he.y-=It,Xt=Math.max(Xt,he.r+Math.sqrt(he.x*he.x+he.y*he.y));I.r=Xt,G.forEach(zl)}function Gt(Vt){We=Math.min(Vt.x-Vt.r,We),rt=Math.max(Vt.x+Vt.r,rt),ft=Math.min(Vt.y-Vt.r,ft),pt=Math.max(Vt.y+Vt.r,pt)}}function Qs(I){I._pack_next=I._pack_prev=I}function zl(I){delete I._pack_next,delete I._pack_prev}function hu(I,G,te,oe){var he=I.children;if(I.x=G+=oe*I.x,I.y=te+=oe*I.y,I.r*=oe,he)for(var we=-1,Oe=he.length;++we<Oe;)hu(he[we],G,te,oe)}function xi(I,G,te){var oe=I.r+te.r,he=G.x-I.x,we=G.y-I.y;if(oe&&(he||we)){var Oe=G.r+te.r,ze=he*he+we*we,qe=.5+((oe*=oe)-(Oe*=Oe))/(2*ze),We=Math.sqrt(Math.max(0,2*Oe*(oe+ze)-(oe-=ze)*oe-Oe*Oe))/(2*ze);te.x=I.x+qe*he+We*we,te.y=I.y+qe*we-We*he}else te.x=I.x+oe,te.y=I.y}function Ms(I,G){return I.parent==G.parent?1:2}function ko(I){var G=I.children;return G.length?G[0]:I.t}function ka(I){var G,te=I.children;return(G=te.length)?te[G-1]:I.t}function li(I,G,te){var oe=te/(G.i-I.i);G.c-=oe,G.s+=te,I.c+=oe,G.z+=te,G.m+=te}function vi(I,G,te){return I.a.parent===G.parent?I.a:te}function ra(I){var G=I.children;return G&&G.length?ra(G[0]):I}function _l(I){var G,te=I.children;return te&&(G=te.length)?_l(te[G-1]):I}function Bl(I){return{x:I.x,y:I.y,dx:I.dx,dy:I.dy}}function du(I,G){var te=I.x+G[3],oe=I.y+G[0],he=I.dx-G[1]-G[3],we=I.dy-G[0]-G[2];return he<0&&(te+=he/2,he=0),we<0&&(oe+=we/2,we=0),{x:te,y:oe,dx:he,dy:we}}function jl(I){var G=I[0],te=I[I.length-1];return G<te?[G,te]:[te,G]}function Ul(I){return I.rangeExtent?I.rangeExtent():jl(I.range())}function fa(I,G,te,oe){var he=te(I[0],I[1]),we=oe(G[0],G[1]);return function(Oe){return we(he(Oe))}}function As(I,G){var te,oe=0,he=I.length-1,we=I[oe],Oe=I[he];return Oe<we&&(te=oe,oe=he,he=te,te=we,we=Oe,Oe=te),I[oe]=G.floor(we),I[he]=G.ceil(Oe),I}function ks(I){return I?{floor:function(G){return Math.floor(G/I)*I},ceil:function(G){return Math.ceil(G/I)*I}}:Lo}n.layout.histogram=function(){var I=!0,G=Number,te=fu,oe=cu;function he(we,Oe){for(var ze,qe,We=[],rt=we.map(G,this),ft=te.call(this,rt,Oe),pt=oe.call(this,ft,rt,Oe),wt=(Oe=-1,rt.length),Ct=pt.length-1,Mt=I?1:1/wt;++Oe<Ct;)(ze=We[Oe]=[]).dx=pt[Oe+1]-(ze.x=pt[Oe]),ze.y=0;if(Ct>0)for(Oe=-1;++Oe<wt;)(qe=rt[Oe])>=ft[0]&&qe<=ft[1]&&((ze=We[n.bisect(pt,qe,1,Ct)-1]).y+=Mt,ze.push(we[Oe]));return We}return he.value=function(we){return arguments.length?(G=we,he):G},he.range=function(we){return arguments.length?(te=Bn(we),he):te},he.bins=function(we){return arguments.length?(oe=typeof we=="number"?function(Oe){return na(Oe,we)}:Bn(we),he):oe},he.frequency=function(we){return arguments.length?(I=!!we,he):I},he},n.layout.pack=function(){var I,G=n.layout.hierarchy().sort(nc),te=0,oe=[1,1];function he(we,Oe){var ze=G.call(this,we,Oe),qe=ze[0],We=oe[0],rt=oe[1],ft=I==null?Math.sqrt:typeof I=="function"?I:function(){return I};if(qe.x=qe.y=0,ei(qe,function(wt){wt.r=+ft(wt.value)}),ei(qe,Js),te){var pt=te*(I?1:Math.max(2*qe.r/We,2*qe.r/rt))/2;ei(qe,function(wt){wt.r+=pt}),ei(qe,Js),ei(qe,function(wt){wt.r-=pt})}return hu(qe,We/2,rt/2,I?1:1/Math.max(2*qe.r/We,2*qe.r/rt)),ze}return he.size=function(we){return arguments.length?(oe=we,he):oe},he.radius=function(we){return arguments.length?(I=we==null||typeof we=="function"?we:+we,he):I},he.padding=function(we){return arguments.length?(te=+we,he):te},is(he,G)},n.layout.tree=function(){var I=n.layout.hierarchy().sort(null).value(null),G=Ms,te=[1,1],oe=null;function he(qe,We){var rt=I.call(this,qe,We),ft=rt[0],pt=function(Gt){for(var Vt,pn={A:null,children:[Gt]},yn=[pn];(Vt=yn.pop())!=null;)for(var Sn,Pn=Vt.children,Vn=0,ir=Pn.length;Vn<ir;++Vn)yn.push((Pn[Vn]=Sn={_:Pn[Vn],parent:Vt,children:(Sn=Pn[Vn].children)&&Sn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Vn}).a=Sn);return pn.children[0]}(ft);if(ei(pt,we),pt.parent.m=-pt.z,ws(pt,Oe),oe)ws(ft,ze);else{var wt=ft,Ct=ft,Mt=ft;ws(ft,function(Gt){Gt.x<wt.x&&(wt=Gt),Gt.x>Ct.x&&(Ct=Gt),Gt.depth>Mt.depth&&(Mt=Gt)});var zt=G(wt,Ct)/2-wt.x,It=te[0]/(Ct.x+G(Ct,wt)/2+zt),Xt=te[1]/(Mt.depth||1);ws(ft,function(Gt){Gt.x=(Gt.x+zt)*It,Gt.y=Gt.depth*Xt})}return rt}function we(qe){var We=qe.children,rt=qe.parent.children,ft=qe.i?rt[qe.i-1]:null;if(We.length){(function(wt){for(var Ct,Mt=0,zt=0,It=wt.children,Xt=It.length;--Xt>=0;)(Ct=It[Xt]).z+=Mt,Ct.m+=Mt,Mt+=Ct.s+(zt+=Ct.c)})(qe);var pt=(We[0].z+We[We.length-1].z)/2;ft?(qe.z=ft.z+G(qe._,ft._),qe.m=qe.z-pt):qe.z=pt}else ft&&(qe.z=ft.z+G(qe._,ft._));qe.parent.A=function(wt,Ct,Mt){if(Ct){for(var zt,It=wt,Xt=wt,Gt=Ct,Vt=It.parent.children[0],pn=It.m,yn=Xt.m,Sn=Gt.m,Pn=Vt.m;Gt=ka(Gt),It=ko(It),Gt&&It;)Vt=ko(Vt),(Xt=ka(Xt)).a=wt,(zt=Gt.z+Sn-It.z-pn+G(Gt._,It._))>0&&(li(vi(Gt,wt,Mt),wt,zt),pn+=zt,yn+=zt),Sn+=Gt.m,pn+=It.m,Pn+=Vt.m,yn+=Xt.m;Gt&&!ka(Xt)&&(Xt.t=Gt,Xt.m+=Sn-yn),It&&!ko(Vt)&&(Vt.t=It,Vt.m+=pn-Pn,Mt=wt)}return Mt}(qe,ft,qe.parent.A||rt[0])}function Oe(qe){qe._.x=qe.z+qe.parent.m,qe.m+=qe.parent.m}function ze(qe){qe.x*=te[0],qe.y=qe.depth*te[1]}return he.separation=function(qe){return arguments.length?(G=qe,he):G},he.size=function(qe){return arguments.length?(oe=(te=qe)==null?ze:null,he):oe?null:te},he.nodeSize=function(qe){return arguments.length?(oe=(te=qe)==null?null:ze,he):oe?te:null},is(he,I)},n.layout.cluster=function(){var I=n.layout.hierarchy().sort(null).value(null),G=Ms,te=[1,1],oe=!1;function he(we,Oe){var ze,qe=I.call(this,we,Oe),We=qe[0],rt=0;ei(We,function(Mt){var zt=Mt.children;zt&&zt.length?(Mt.x=function(It){return It.reduce(function(Xt,Gt){return Xt+Gt.x},0)/It.length}(zt),Mt.y=function(It){return 1+n.max(It,function(Xt){return Xt.y})}(zt)):(Mt.x=ze?rt+=G(Mt,ze):0,Mt.y=0,ze=Mt)});var ft=ra(We),pt=_l(We),wt=ft.x-G(ft,pt)/2,Ct=pt.x+G(pt,ft)/2;return ei(We,oe?function(Mt){Mt.x=(Mt.x-We.x)*te[0],Mt.y=(We.y-Mt.y)*te[1]}:function(Mt){Mt.x=(Mt.x-wt)/(Ct-wt)*te[0],Mt.y=(1-(We.y?Mt.y/We.y:1))*te[1]}),qe}return he.separation=function(we){return arguments.length?(G=we,he):G},he.size=function(we){return arguments.length?(oe=(te=we)==null,he):oe?null:te},he.nodeSize=function(we){return arguments.length?(oe=(te=we)!=null,he):oe?te:null},is(he,I)},n.layout.treemap=function(){var I,G=n.layout.hierarchy(),te=Math.round,oe=[1,1],he=null,we=Bl,Oe=!1,ze="squarify",qe=.5*(1+Math.sqrt(5));function We(Mt,zt){for(var It,Xt,Gt=-1,Vt=Mt.length;++Gt<Vt;)Xt=(It=Mt[Gt]).value*(zt<0?0:zt),It.area=isNaN(Xt)||Xt<=0?0:Xt}function rt(Mt){var zt=Mt.children;if(zt&&zt.length){var It,Xt,Gt,Vt=we(Mt),pn=[],yn=zt.slice(),Sn=1/0,Pn=ze==="slice"?Vt.dx:ze==="dice"?Vt.dy:ze==="slice-dice"?1&Mt.depth?Vt.dy:Vt.dx:Math.min(Vt.dx,Vt.dy);for(We(yn,Vt.dx*Vt.dy/Mt.value),pn.area=0;(Gt=yn.length)>0;)pn.push(It=yn[Gt-1]),pn.area+=It.area,ze!=="squarify"||(Xt=pt(pn,Pn))<=Sn?(yn.pop(),Sn=Xt):(pn.area-=pn.pop().area,wt(pn,Pn,Vt,!1),Pn=Math.min(Vt.dx,Vt.dy),pn.length=pn.area=0,Sn=1/0);pn.length&&(wt(pn,Pn,Vt,!0),pn.length=pn.area=0),zt.forEach(rt)}}function ft(Mt){var zt=Mt.children;if(zt&&zt.length){var It,Xt=we(Mt),Gt=zt.slice(),Vt=[];for(We(Gt,Xt.dx*Xt.dy/Mt.value),Vt.area=0;It=Gt.pop();)Vt.push(It),Vt.area+=It.area,It.z!=null&&(wt(Vt,It.z?Xt.dx:Xt.dy,Xt,!Gt.length),Vt.length=Vt.area=0);zt.forEach(ft)}}function pt(Mt,zt){for(var It,Xt=Mt.area,Gt=0,Vt=1/0,pn=-1,yn=Mt.length;++pn<yn;)(It=Mt[pn].area)&&(It<Vt&&(Vt=It),It>Gt&&(Gt=It));return zt*=zt,(Xt*=Xt)?Math.max(zt*Gt*qe/Xt,Xt/(zt*Vt*qe)):1/0}function wt(Mt,zt,It,Xt){var Gt,Vt=-1,pn=Mt.length,yn=It.x,Sn=It.y,Pn=zt?te(Mt.area/zt):0;if(zt==It.dx){for((Xt||Pn>It.dy)&&(Pn=It.dy);++Vt<pn;)(Gt=Mt[Vt]).x=yn,Gt.y=Sn,Gt.dy=Pn,yn+=Gt.dx=Math.min(It.x+It.dx-yn,Pn?te(Gt.area/Pn):0);Gt.z=!0,Gt.dx+=It.x+It.dx-yn,It.y+=Pn,It.dy-=Pn}else{for((Xt||Pn>It.dx)&&(Pn=It.dx);++Vt<pn;)(Gt=Mt[Vt]).x=yn,Gt.y=Sn,Gt.dx=Pn,Sn+=Gt.dy=Math.min(It.y+It.dy-Sn,Pn?te(Gt.area/Pn):0);Gt.z=!1,Gt.dy+=It.y+It.dy-Sn,It.x+=Pn,It.dx-=Pn}}function Ct(Mt){var zt=I||G(Mt),It=zt[0];return It.x=It.y=0,It.value?(It.dx=oe[0],It.dy=oe[1]):It.dx=It.dy=0,I&&G.revalue(It),We([It],It.dx*It.dy/It.value),(I?ft:rt)(It),Oe&&(I=zt),zt}return Ct.size=function(Mt){return arguments.length?(oe=Mt,Ct):oe},Ct.padding=function(Mt){if(!arguments.length)return he;function zt(Xt){return du(Xt,Mt)}var It;return we=(he=Mt)==null?Bl:(It=typeof Mt)=="function"?function(Xt){var Gt=Mt.call(Ct,Xt,Xt.depth);return Gt==null?Bl(Xt):du(Xt,typeof Gt=="number"?[Gt,Gt,Gt,Gt]:Gt)}:(It==="number"&&(Mt=[Mt,Mt,Mt,Mt]),zt),Ct},Ct.round=function(Mt){return arguments.length?(te=Mt?Math.round:Number,Ct):te!=Number},Ct.sticky=function(Mt){return arguments.length?(Oe=Mt,I=null,Ct):Oe},Ct.ratio=function(Mt){return arguments.length?(qe=Mt,Ct):qe},Ct.mode=function(Mt){return arguments.length?(ze=Mt+"",Ct):ze},is(Ct,G)},n.random={normal:function(I,G){var te=arguments.length;return te<2&&(G=1),te<1&&(I=0),function(){var oe,he,we;do we=(oe=2*Math.random()-1)*oe+(he=2*Math.random()-1)*he;while(!we||we>1);return I+G*oe*Math.sqrt(-2*Math.log(we)/we)}},logNormal:function(){var I=n.random.normal.apply(n,arguments);return function(){return Math.exp(I())}},bates:function(I){var G=n.random.irwinHall(I);return function(){return G()/I}},irwinHall:function(I){return function(){for(var G=0,te=0;te<I;te++)G+=Math.random();return G}}},n.scale={};var Lo={floor:N,ceil:N};function Vl(I,G,te,oe){var he=[],we=[],Oe=0,ze=Math.min(I.length,G.length)-1;for(I[ze]<I[0]&&(I=I.slice().reverse(),G=G.slice().reverse());++Oe<=ze;)he.push(te(I[Oe-1],I[Oe])),we.push(oe(G[Oe-1],G[Oe]));return function(qe){var We=n.bisect(I,qe,1,ze)-1;return we[We](he[We](qe))}}function ha(I,G,te,oe){var he,we;function Oe(){var qe=Math.min(I.length,G.length)>2?Vl:fa,We=oe?Cc:Ec;return he=qe(I,G,We,te),we=qe(G,I,We,ca),ze}function ze(qe){return he(qe)}return ze.invert=function(qe){return we(qe)},ze.domain=function(qe){return arguments.length?(I=qe.map(Number),Oe()):I},ze.range=function(qe){return arguments.length?(G=qe,Oe()):G},ze.rangeRound=function(qe){return ze.range(qe).interpolate(Cu)},ze.clamp=function(qe){return arguments.length?(oe=qe,Oe()):oe},ze.interpolate=function(qe){return arguments.length?(te=qe,Oe()):te},ze.ticks=function(qe){return bo(I,qe)},ze.tickFormat=function(qe,We){return d3_scale_linearTickFormat(I,qe,We)},ze.nice=function(qe){return xo(I,qe),Oe()},ze.copy=function(){return ha(I,G,te,oe)},Oe()}function ho(I,G){return n.rebind(I,G,"range","rangeRound","interpolate","clamp")}function xo(I,G){return As(I,ks(ki(I,G)[2])),As(I,ks(ki(I,G)[2])),I}function ki(I,G){G==null&&(G=10);var te=jl(I),oe=te[1]-te[0],he=Math.pow(10,Math.floor(Math.log(oe/G)/Math.LN10)),we=G/oe*he;return we<=.15?he*=10:we<=.35?he*=5:we<=.75&&(he*=2),te[0]=Math.ceil(te[0]/he)*he,te[1]=Math.floor(te[1]/he)*he+.5*he,te[2]=he,te}function bo(I,G){return n.range.apply(n,ki(I,G))}function Ga(I,G,te,oe){function he(ze){return(te?Math.log(ze<0?0:ze):-Math.log(ze>0?0:-ze))/Math.log(G)}function we(ze){return te?Math.pow(G,ze):-Math.pow(G,-ze)}function Oe(ze){return I(he(ze))}return Oe.invert=function(ze){return we(I.invert(ze))},Oe.domain=function(ze){return arguments.length?(te=ze[0]>=0,I.domain((oe=ze.map(Number)).map(he)),Oe):oe},Oe.base=function(ze){return arguments.length?(G=+ze,I.domain(oe.map(he)),Oe):G},Oe.nice=function(){var ze=As(oe.map(he),te?Math:el);return I.domain(ze),oe=ze.map(we),Oe},Oe.ticks=function(){var ze=jl(oe),qe=[],We=ze[0],rt=ze[1],ft=Math.floor(he(We)),pt=Math.ceil(he(rt)),wt=G%1?2:G;if(isFinite(pt-ft)){if(te){for(;ft<pt;ft++)for(var Ct=1;Ct<wt;Ct++)qe.push(we(ft)*Ct);qe.push(we(ft))}else for(qe.push(we(ft));ft++<pt;)for(Ct=wt-1;Ct>0;Ct--)qe.push(we(ft)*Ct);for(ft=0;qe[ft]<We;ft++);for(pt=qe.length;qe[pt-1]>rt;pt--);qe=qe.slice(ft,pt)}return qe},Oe.copy=function(){return Ga(I.copy(),G,te,oe)},ho(Oe,I)}n.scale.linear=function(){return ha([0,1],[0,1],ca,!1)},n.scale.log=function(){return Ga(n.scale.linear().domain([0,1]),10,!0,[1,10])};var el={floor:function(I){return-Math.ceil(-I)},ceil:function(I){return-Math.floor(-I)}};function Sa(I,G,te){var oe=Ss(G),he=Ss(1/G);function we(Oe){return I(oe(Oe))}return we.invert=function(Oe){return he(I.invert(Oe))},we.domain=function(Oe){return arguments.length?(I.domain((te=Oe.map(Number)).map(oe)),we):te},we.ticks=function(Oe){return bo(te,Oe)},we.tickFormat=function(Oe,ze){return d3_scale_linearTickFormat(te,Oe,ze)},we.nice=function(Oe){return we.domain(xo(te,Oe))},we.exponent=function(Oe){return arguments.length?(oe=Ss(G=Oe),he=Ss(1/G),I.domain(te.map(oe)),we):G},we.copy=function(){return Sa(I.copy(),G,te)},ho(we,I)}function Ss(I){return function(G){return G<0?-Math.pow(-G,I):Math.pow(G,I)}}function Bo(I,G){var te,oe,he;function we(ze){return oe[((te.get(ze)||(G.t==="range"?te.set(ze,I.push(ze)):NaN))-1)%oe.length]}function Oe(ze,qe){return n.range(I.length).map(function(We){return ze+qe*We})}return we.domain=function(ze){if(!arguments.length)return I;I=[],te=new _;for(var qe,We=-1,rt=ze.length;++We<rt;)te.has(qe=ze[We])||te.set(qe,I.push(qe));return we[G.t].apply(we,G.a)},we.range=function(ze){return arguments.length?(oe=ze,he=0,G={t:"range",a:arguments},we):oe},we.rangePoints=function(ze,qe){arguments.length<2&&(qe=0);var We=ze[0],rt=ze[1],ft=I.length<2?(We=(We+rt)/2,0):(rt-We)/(I.length-1+qe);return oe=Oe(We+ft*qe/2,ft),he=0,G={t:"rangePoints",a:arguments},we},we.rangeRoundPoints=function(ze,qe){arguments.length<2&&(qe=0);var We=ze[0],rt=ze[1],ft=I.length<2?(We=rt=Math.round((We+rt)/2),0):(rt-We)/(I.length-1+qe)|0;return oe=Oe(We+Math.round(ft*qe/2+(rt-We-(I.length-1+qe)*ft)/2),ft),he=0,G={t:"rangeRoundPoints",a:arguments},we},we.rangeBands=function(ze,qe,We){arguments.length<2&&(qe=0),arguments.length<3&&(We=qe);var rt=ze[1]<ze[0],ft=ze[rt-0],pt=(ze[1-rt]-ft)/(I.length-qe+2*We);return oe=Oe(ft+pt*We,pt),rt&&oe.reverse(),he=pt*(1-qe),G={t:"rangeBands",a:arguments},we},we.rangeRoundBands=function(ze,qe,We){arguments.length<2&&(qe=0),arguments.length<3&&(We=qe);var rt=ze[1]<ze[0],ft=ze[rt-0],pt=ze[1-rt],wt=Math.floor((pt-ft)/(I.length-qe+2*We));return oe=Oe(ft+Math.round((pt-ft-(I.length-qe)*wt)/2),wt),rt&&oe.reverse(),he=Math.round(wt*(1-qe)),G={t:"rangeRoundBands",a:arguments},we},we.rangeBand=function(){return he},we.rangeExtent=function(){return jl(G.a[0])},we.copy=function(){return Bo(I,G)},we.domain(I)}n.scale.pow=function(){return Sa(n.scale.linear(),1,[0,1])},n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return Bo([],{t:"range",a:[[]]})},n.scale.category10=function(){return n.scale.ordinal().range(tl)},n.scale.category20=function(){return n.scale.ordinal().range(as)},n.scale.category20b=function(){return n.scale.ordinal().range(da)},n.scale.category20c=function(){return n.scale.ordinal().range(pa)};var tl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Qt),as=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Qt),da=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Qt),pa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Qt);function Ci(I,G){var te;function oe(){var we=0,Oe=G.length;for(te=[];++we<Oe;)te[we-1]=n.quantile(I,we/Oe);return he}function he(we){if(!isNaN(we=+we))return G[n.bisect(te,we)]}return he.domain=function(we){return arguments.length?(I=we.map(h).filter(c).sort(u),oe()):I},he.range=function(we){return arguments.length?(G=we,oe()):G},he.quantiles=function(){return te},he.invertExtent=function(we){return(we=G.indexOf(we))<0?[NaN,NaN]:[we>0?te[we-1]:I[0],we<te.length?te[we]:I[I.length-1]]},he.copy=function(){return Ci(I,G)},oe()}function Ea(I,G,te){var oe,he;function we(ze){return te[Math.max(0,Math.min(he,Math.floor(oe*(ze-I))))]}function Oe(){return oe=te.length/(G-I),he=te.length-1,we}return we.domain=function(ze){return arguments.length?(I=+ze[0],G=+ze[ze.length-1],Oe()):[I,G]},we.range=function(ze){return arguments.length?(te=ze,Oe()):te},we.invertExtent=function(ze){return[ze=(ze=te.indexOf(ze))<0?NaN:ze/oe+I,ze+1/oe]},we.copy=function(){return Ea(I,G,te)},Oe()}function Mr(I,G){function te(oe){if(oe<=oe)return G[n.bisect(I,oe)]}return te.domain=function(oe){return arguments.length?(I=oe,te):I},te.range=function(oe){return arguments.length?(G=oe,te):G},te.invertExtent=function(oe){return oe=G.indexOf(oe),[I[oe-1],I[oe]]},te.copy=function(){return Mr(I,G)},te}function Hl(I){function G(te){return+te}return G.invert=G,G.domain=G.range=function(te){return arguments.length?(I=te.map(G),G):I},G.ticks=function(te){return bo(I,te)},G.tickFormat=function(te,oe){return d3_scale_linearTickFormat(I,te,oe)},G.copy=function(){return Hl(I)},G}function Iu(){return 0}n.scale.quantile=function(){return Ci([],[])},n.scale.quantize=function(){return Ea(0,1,[0,1])},n.scale.threshold=function(){return Mr([.5],[0,1])},n.scale.identity=function(){return Hl([0,1])},n.svg={},n.svg.arc=function(){var I=Cs,G=nl,te=Iu,oe=Es,he=wl,we=yr,Oe=ql;function ze(){var We=Math.max(0,+I.apply(this,arguments)),rt=Math.max(0,+G.apply(this,arguments)),ft=he.apply(this,arguments)-Ye,pt=we.apply(this,arguments)-Ye,wt=Math.abs(pt-ft),Ct=ft>pt?0:1;if(rt<We&&(Mt=rt,rt=We,We=Mt),wt>=Et)return qe(rt,Ct)+(We?qe(We,1-Ct):"")+"Z";var Mt,zt,It,Xt,Gt,Vt,pn,yn,Sn,Pn,Vn,ir,ur=0,Yn=0,lr=[];if((Xt=(+Oe.apply(this,arguments)||0)/2)&&(It=oe===Es?Math.sqrt(We*We+rt*rt):+oe.apply(this,arguments),Ct||(Yn*=-1),rt&&(Yn=Ze(It/rt*Math.sin(Xt))),We&&(ur=Ze(It/We*Math.sin(Xt)))),rt){Gt=rt*Math.cos(ft+Yn),Vt=rt*Math.sin(ft+Yn),pn=rt*Math.cos(pt-Yn),yn=rt*Math.sin(pt-Yn);var xr=Math.abs(pt-ft-2*Yn)<=Pt?0:1;if(Yn&&ss(Gt,Vt,pn,yn)===Ct^xr){var Er=(ft+pt)/2;Gt=rt*Math.cos(Er),Vt=rt*Math.sin(Er),pn=yn=null}}else Gt=Vt=0;if(We){Sn=We*Math.cos(pt-ur),Pn=We*Math.sin(pt-ur),Vn=We*Math.cos(ft+ur),ir=We*Math.sin(ft+ur);var tr=Math.abs(ft-pt+2*ur)<=Pt?0:1;if(ur&&ss(Sn,Pn,Vn,ir)===1-Ct^tr){var sr=(ft+pt)/2;Sn=We*Math.cos(sr),Pn=We*Math.sin(sr),Vn=ir=null}}else Sn=Pn=0;if(wt>et&&(Mt=Math.min(Math.abs(rt-We)/2,+te.apply(this,arguments)))>.001){zt=We<rt^Ct?0:1;var wr=Mt,cr=Mt;if(wt<Pt){var Ar=Vn==null?[Sn,Pn]:pn==null?[Gt,Vt]:Dt([Gt,Vt],[Vn,ir],[pn,yn],[Sn,Pn]),Lr=Gt-Ar[0],qr=Vt-Ar[1],Wr=pn-Ar[0],Kr=yn-Ar[1],ii=1/Math.sin(Math.acos((Lr*Wr+qr*Kr)/(Math.sqrt(Lr*Lr+qr*qr)*Math.sqrt(Wr*Wr+Kr*Kr)))/2),Ii=Math.sqrt(Ar[0]*Ar[0]+Ar[1]*Ar[1]);cr=Math.min(Mt,(We-Ii)/(ii-1)),wr=Math.min(Mt,(rt-Ii)/(ii+1))}if(pn!=null){var Zi=po(Vn==null?[Sn,Pn]:[Vn,ir],[Gt,Vt],rt,wr,Ct),Po=po([pn,yn],[Sn,Pn],rt,wr,Ct);Mt===wr?lr.push("M",Zi[0],"A",wr,",",wr," 0 0,",zt," ",Zi[1],"A",rt,",",rt," 0 ",1-Ct^ss(Zi[1][0],Zi[1][1],Po[1][0],Po[1][1]),",",Ct," ",Po[1],"A",wr,",",wr," 0 0,",zt," ",Po[0]):lr.push("M",Zi[0],"A",wr,",",wr," 0 1,",zt," ",Po[0])}else lr.push("M",Gt,",",Vt);if(Vn!=null){var go=po([Gt,Vt],[Vn,ir],We,-cr,Ct),So=po([Sn,Pn],pn==null?[Gt,Vt]:[pn,yn],We,-cr,Ct);Mt===cr?lr.push("L",So[0],"A",cr,",",cr," 0 0,",zt," ",So[1],"A",We,",",We," 0 ",Ct^ss(So[1][0],So[1][1],go[1][0],go[1][1]),",",1-Ct," ",go[1],"A",cr,",",cr," 0 0,",zt," ",go[0]):lr.push("L",So[0],"A",cr,",",cr," 0 0,",zt," ",go[0])}else lr.push("L",Sn,",",Pn)}else lr.push("M",Gt,",",Vt),pn!=null&&lr.push("A",rt,",",rt," 0 ",xr,",",Ct," ",pn,",",yn),lr.push("L",Sn,",",Pn),Vn!=null&&lr.push("A",We,",",We," 0 ",tr,",",1-Ct," ",Vn,",",ir);return lr.push("Z"),lr.join("")}function qe(We,rt){return"M0,"+We+"A"+We+","+We+" 0 1,"+rt+" 0,"+-We+"A"+We+","+We+" 0 1,"+rt+" 0,"+We}return ze.innerRadius=function(We){return arguments.length?(I=Bn(We),ze):I},ze.outerRadius=function(We){return arguments.length?(G=Bn(We),ze):G},ze.cornerRadius=function(We){return arguments.length?(te=Bn(We),ze):te},ze.padRadius=function(We){return arguments.length?(oe=We==Es?Es:Bn(We),ze):oe},ze.startAngle=function(We){return arguments.length?(he=Bn(We),ze):he},ze.endAngle=function(We){return arguments.length?(we=Bn(We),ze):we},ze.padAngle=function(We){return arguments.length?(Oe=Bn(We),ze):Oe},ze.centroid=function(){var We=(+I.apply(this,arguments)+ +G.apply(this,arguments))/2,rt=(+he.apply(this,arguments)+ +we.apply(this,arguments))/2-Ye;return[Math.cos(rt)*We,Math.sin(rt)*We]},ze};var Es="auto";function Cs(I){return I.innerRadius}function nl(I){return I.outerRadius}function wl(I){return I.startAngle}function yr(I){return I.endAngle}function ql(I){return I&&I.padAngle}function ss(I,G,te,oe){return(I-te)*G-(G-oe)*I>0?0:1}function po(I,G,te,oe,he){var we=I[0]-G[0],Oe=I[1]-G[1],ze=(he?oe:-oe)/Math.sqrt(we*we+Oe*Oe),qe=ze*Oe,We=-ze*we,rt=I[0]+qe,ft=I[1]+We,pt=G[0]+qe,wt=G[1]+We,Ct=(rt+pt)/2,Mt=(ft+wt)/2,zt=pt-rt,It=wt-ft,Xt=zt*zt+It*It,Gt=te-oe,Vt=rt*wt-pt*ft,pn=(It<0?-1:1)*Math.sqrt(Math.max(0,Gt*Gt*Xt-Vt*Vt)),yn=(Vt*It-zt*pn)/Xt,Sn=(-Vt*zt-It*pn)/Xt,Pn=(Vt*It+zt*pn)/Xt,Vn=(-Vt*zt+It*pn)/Xt,ir=yn-Ct,ur=Sn-Mt,Yn=Pn-Ct,lr=Vn-Mt;return ir*ir+ur*ur>Yn*Yn+lr*lr&&(yn=Pn,Sn=Vn),[[yn-qe,Sn-We],[yn*te/Gt,Sn*te/Gt]]}function Ds(){return!0}function Ca(I){var G=Hn,te=Un,oe=Ds,he=Oo,we=he.key,Oe=.7;function ze(qe){var We,rt=[],ft=[],pt=-1,wt=qe.length,Ct=Bn(G),Mt=Bn(te);function zt(){rt.push("M",he(I(ft),Oe))}for(;++pt<wt;)oe.call(this,We=qe[pt],pt)?ft.push([+Ct.call(this,We,pt),+Mt.call(this,We,pt)]):ft.length&&(zt(),ft=[]);return ft.length&&zt(),rt.length?rt.join(""):null}return ze.x=function(qe){return arguments.length?(G=qe,ze):G},ze.y=function(qe){return arguments.length?(te=qe,ze):te},ze.defined=function(qe){return arguments.length?(oe=qe,ze):oe},ze.interpolate=function(qe){return arguments.length?(we=typeof qe=="function"?he=qe:(he=ga.get(qe)||Oo).key,ze):we},ze.tension=function(qe){return arguments.length?(Oe=qe,ze):Oe},ze}n.svg.line=function(){return Ca(N)};var ga=n.map({linear:Oo,"linear-closed":Wa,step:function(I){for(var G=0,te=I.length,oe=I[0],he=[oe[0],",",oe[1]];++G<te;)he.push("H",(oe[0]+(oe=I[G])[0])/2,"V",oe[1]);return te>1&&he.push("H",oe[0]),he.join("")},"step-before":ma,"step-after":ls,basis:ai,"basis-open":function(I){if(I.length<4)return Oo(I);for(var G,te=[],oe=-1,he=I.length,we=[0],Oe=[0];++oe<3;)G=I[oe],we.push(G[0]),Oe.push(G[1]);for(te.push(_o(Uo,we)+","+_o(Uo,Oe)),--oe;++oe<he;)G=I[oe],we.shift(),we.push(G[0]),Oe.shift(),Oe.push(G[1]),Tl(te,we,Oe);return te.join("")},"basis-closed":function(I){for(var G,te,oe=-1,he=I.length,we=he+4,Oe=[],ze=[];++oe<4;)te=I[oe%he],Oe.push(te[0]),ze.push(te[1]);for(G=[_o(Uo,Oe),",",_o(Uo,ze)],--oe;++oe<we;)te=I[oe%he],Oe.shift(),Oe.push(te[0]),ze.shift(),ze.push(te[1]),Tl(G,Oe,ze);return G.join("")},bundle:function(I,G){var te=I.length-1;if(te)for(var oe,he,we=I[0][0],Oe=I[0][1],ze=I[te][0]-we,qe=I[te][1]-Oe,We=-1;++We<=te;)he=We/te,(oe=I[We])[0]=G*oe[0]+(1-G)*(we+he*ze),oe[1]=G*oe[1]+(1-G)*(Oe+he*qe);return ai(I)},cardinal:function(I,G){return I.length<3?Oo(I):I[0]+Gl(I,Is(I,G))},"cardinal-open":function(I,G){return I.length<4?Oo(I):I[1]+Gl(I.slice(1,-1),Is(I,G))},"cardinal-closed":function(I,G){return I.length<3?Wa(I):I[0]+Gl((I.push(I[0]),I),Is([I[I.length-2]].concat(I,[I[1]]),G))},monotone:function(I){return I.length<3?Oo(I):I[0]+Gl(I,function(G){for(var te,oe,he,we,Oe=[],ze=function(rt){for(var ft=0,pt=rt.length-1,wt=[],Ct=rt[0],Mt=rt[1],zt=wt[0]=Ml(Ct,Mt);++ft<pt;)wt[ft]=(zt+(zt=Ml(Ct=Mt,Mt=rt[ft+1])))/2;return wt[ft]=zt,wt}(G),qe=-1,We=G.length-1;++qe<We;)te=Ml(G[qe],G[qe+1]),m(te)<et?ze[qe]=ze[qe+1]=0:(we=(oe=ze[qe]/te)*oe+(he=ze[qe+1]/te)*he)>9&&(we=3*te/Math.sqrt(we),ze[qe]=we*oe,ze[qe+1]=we*he);for(qe=-1;++qe<=We;)we=(G[Math.min(We,qe+1)][0]-G[Math.max(0,qe-1)][0])/(6*(1+ze[qe]*ze[qe])),Oe.push([we||0,ze[qe]*we||0]);return Oe}(I))}});function Oo(I){return I.length>1?I.join("L"):I+"Z"}function Wa(I){return I.join("L")+"Z"}function ma(I){for(var G=0,te=I.length,oe=I[0],he=[oe[0],",",oe[1]];++G<te;)he.push("V",(oe=I[G])[1],"H",oe[0]);return he.join("")}function ls(I){for(var G=0,te=I.length,oe=I[0],he=[oe[0],",",oe[1]];++G<te;)he.push("H",(oe=I[G])[0],"V",oe[1]);return he.join("")}function Gl(I,G){if(G.length<1||I.length!=G.length&&I.length!=G.length+2)return Oo(I);var te=I.length!=G.length,oe="",he=I[0],we=I[1],Oe=G[0],ze=Oe,qe=1;if(te&&(oe+="Q"+(we[0]-2*Oe[0]/3)+","+(we[1]-2*Oe[1]/3)+","+we[0]+","+we[1],he=I[1],qe=2),G.length>1){ze=G[1],we=I[qe],qe++,oe+="C"+(he[0]+Oe[0])+","+(he[1]+Oe[1])+","+(we[0]-ze[0])+","+(we[1]-ze[1])+","+we[0]+","+we[1];for(var We=2;We<G.length;We++,qe++)we=I[qe],ze=G[We],oe+="S"+(we[0]-ze[0])+","+(we[1]-ze[1])+","+we[0]+","+we[1]}if(te){var rt=I[qe];oe+="Q"+(we[0]+2*ze[0]/3)+","+(we[1]+2*ze[1]/3)+","+rt[0]+","+rt[1]}return oe}function Is(I,G){for(var te,oe=[],he=(1-G)/2,we=I[0],Oe=I[1],ze=1,qe=I.length;++ze<qe;)te=we,we=Oe,Oe=I[ze],oe.push([he*(Oe[0]-te[0]),he*(Oe[1]-te[1])]);return oe}function ai(I){if(I.length<3)return Oo(I);var G=1,te=I.length,oe=I[0],he=oe[0],we=oe[1],Oe=[he,he,he,(oe=I[1])[0]],ze=[we,we,we,oe[1]],qe=[he,",",we,"L",_o(Uo,Oe),",",_o(Uo,ze)];for(I.push(I[te-1]);++G<=te;)oe=I[G],Oe.shift(),Oe.push(oe[0]),ze.shift(),ze.push(oe[1]),Tl(qe,Oe,ze);return I.pop(),qe.push("L",oe),qe.join("")}function _o(I,G){return I[0]*G[0]+I[1]*G[1]+I[2]*G[2]+I[3]*G[3]}ga.forEach(function(I,G){G.key=I,G.closed=/-closed$/.test(I)});var jo=[0,2/3,1/3,0],Ya=[0,1/3,2/3,0],Uo=[0,1/6,2/3,1/6];function Tl(I,G,te){I.push("C",_o(jo,G),",",_o(jo,te),",",_o(Ya,G),",",_o(Ya,te),",",_o(Uo,G),",",_o(Uo,te))}function Ml(I,G){return(G[1]-I[1])/(G[0]-I[0])}function Vo(I){for(var G,te,oe,he=-1,we=I.length;++he<we;)te=(G=I[he])[0],oe=G[1]-Ye,G[0]=te*Math.cos(oe),G[1]=te*Math.sin(oe);return I}function ri(I){var G=Hn,te=Hn,oe=0,he=Un,we=Ds,Oe=Oo,ze=Oe.key,qe=Oe,We="L",rt=.7;function ft(pt){var wt,Ct,Mt,zt=[],It=[],Xt=[],Gt=-1,Vt=pt.length,pn=Bn(G),yn=Bn(oe),Sn=G===te?function(){return Ct}:Bn(te),Pn=oe===he?function(){return Mt}:Bn(he);function Vn(){zt.push("M",Oe(I(Xt),rt),We,qe(I(It.reverse()),rt),"Z")}for(;++Gt<Vt;)we.call(this,wt=pt[Gt],Gt)?(It.push([Ct=+pn.call(this,wt,Gt),Mt=+yn.call(this,wt,Gt)]),Xt.push([+Sn.call(this,wt,Gt),+Pn.call(this,wt,Gt)])):It.length&&(Vn(),It=[],Xt=[]);return It.length&&Vn(),zt.length?zt.join(""):null}return ft.x=function(pt){return arguments.length?(G=te=pt,ft):te},ft.x0=function(pt){return arguments.length?(G=pt,ft):G},ft.x1=function(pt){return arguments.length?(te=pt,ft):te},ft.y=function(pt){return arguments.length?(oe=he=pt,ft):he},ft.y0=function(pt){return arguments.length?(oe=pt,ft):oe},ft.y1=function(pt){return arguments.length?(he=pt,ft):he},ft.defined=function(pt){return arguments.length?(we=pt,ft):we},ft.interpolate=function(pt){return arguments.length?(ze=typeof pt=="function"?Oe=pt:(Oe=ga.get(pt)||Oo).key,qe=Oe.reverse||Oe,We=Oe.closed?"M":"L",ft):ze},ft.tension=function(pt){return arguments.length?(rt=pt,ft):rt},ft}function $a(I){return I.source}function rl(I){return I.target}function Da(I){return I.radius}function Al(I){return[I.x,I.y]}function kl(){return 64}function Ia(){return"circle"}function Di(I){var G=Math.sqrt(I/Pt);return"M0,"+G+"A"+G+","+G+" 0 1,1 0,"+-G+"A"+G+","+G+" 0 1,1 0,"+G+"Z"}n.svg.line.radial=function(){var I=Ca(Vo);return I.radius=I.x,delete I.x,I.angle=I.y,delete I.y,I},ma.reverse=ls,ls.reverse=ma,n.svg.area=function(){return ri(N)},n.svg.area.radial=function(){var I=ri(Vo);return I.radius=I.x,delete I.x,I.innerRadius=I.x0,delete I.x0,I.outerRadius=I.x1,delete I.x1,I.angle=I.y,delete I.y,I.startAngle=I.y0,delete I.y0,I.endAngle=I.y1,delete I.y1,I},n.svg.chord=function(){var I=$a,G=rl,te=Da,oe=wl,he=yr;function we(We,rt){var ft,pt,wt=Oe(this,I,We,rt),Ct=Oe(this,G,We,rt);return"M"+wt.p0+ze(wt.r,wt.p1,wt.a1-wt.a0)+(pt=Ct,((ft=wt).a0==pt.a0&&ft.a1==pt.a1?qe(wt.r,wt.p1,wt.r,wt.p0):qe(wt.r,wt.p1,Ct.r,Ct.p0)+ze(Ct.r,Ct.p1,Ct.a1-Ct.a0)+qe(Ct.r,Ct.p1,wt.r,wt.p0))+"Z")}function Oe(We,rt,ft,pt){var wt=rt.call(We,ft,pt),Ct=te.call(We,wt,pt),Mt=oe.call(We,wt,pt)-Ye,zt=he.call(We,wt,pt)-Ye;return{r:Ct,a0:Mt,a1:zt,p0:[Ct*Math.cos(Mt),Ct*Math.sin(Mt)],p1:[Ct*Math.cos(zt),Ct*Math.sin(zt)]}}function ze(We,rt,ft){return"A"+We+","+We+" 0 "+ +(ft>Pt)+",1 "+rt}function qe(We,rt,ft,pt){return"Q 0,0 "+pt}return we.radius=function(We){return arguments.length?(te=Bn(We),we):te},we.source=function(We){return arguments.length?(I=Bn(We),we):I},we.target=function(We){return arguments.length?(G=Bn(We),we):G},we.startAngle=function(We){return arguments.length?(oe=Bn(We),we):oe},we.endAngle=function(We){return arguments.length?(he=Bn(We),we):he},we},n.svg.diagonal=function(){var I=$a,G=rl,te=Al;function oe(he,we){var Oe=I.call(this,he,we),ze=G.call(this,he,we),qe=(Oe.y+ze.y)/2,We=[Oe,{x:Oe.x,y:qe},{x:ze.x,y:qe},ze];return"M"+(We=We.map(te))[0]+"C"+We[1]+" "+We[2]+" "+We[3]}return oe.source=function(he){return arguments.length?(I=Bn(he),oe):I},oe.target=function(he){return arguments.length?(G=Bn(he),oe):G},oe.projection=function(he){return arguments.length?(te=he,oe):te},oe},n.svg.diagonal.radial=function(){var I=n.svg.diagonal(),G=Al,te=I.projection;return I.projection=function(oe){return arguments.length?te(function(he){return function(){var we=he.apply(this,arguments),Oe=we[0],ze=we[1]-Ye;return[Oe*Math.cos(ze),Oe*Math.sin(ze)]}}(G=oe)):G},I},n.svg.symbol=function(){var I=Ia,G=kl;function te(oe,he){return(il.get(I.call(this,oe,he))||Di)(G.call(this,oe,he))}return te.type=function(oe){return arguments.length?(I=Bn(oe),te):I},te.size=function(oe){return arguments.length?(G=Bn(oe),te):G},te};var il=n.map({circle:Di,cross:function(I){var G=Math.sqrt(I/5)/2;return"M"+-3*G+","+-G+"H"+-G+"V"+-3*G+"H"+G+"V"+-G+"H"+3*G+"V"+G+"H"+G+"V"+3*G+"H"+-G+"V"+G+"H"+-3*G+"Z"},diamond:function(I){var G=Math.sqrt(I/(2*Pr)),te=G*Pr;return"M0,"+-G+"L"+te+",0 0,"+G+" "+-te+",0Z"},square:function(I){var G=Math.sqrt(I)/2;return"M"+-G+","+-G+"L"+G+","+-G+" "+G+","+G+" "+-G+","+G+"Z"},"triangle-down":function(I){var G=Math.sqrt(I/Sr),te=G*Sr/2;return"M0,"+te+"L"+G+","+-te+" "+-G+","+-te+"Z"},"triangle-up":function(I){var G=Math.sqrt(I/Sr),te=G*Sr/2;return"M0,"+-te+"L"+G+","+te+" "+-G+","+te+"Z"}});n.svg.symbolTypes=il.keys();var Sr=Math.sqrt(3),Pr=Math.tan(30*Xe);be.transition=function(I){for(var G,te,oe=eo||++rc,he=Ni(I),we=[],Oe=Xa||{time:Date.now(),ease:Va,delay:0,duration:250},ze=-1,qe=this.length;++ze<qe;){we.push(G=[]);for(var We=this[ze],rt=-1,ft=We.length;++rt<ft;)(te=We[rt])&&Xo(te,rt,he,oe,Oe),G.push(te)}return us(we,he,oe)},be.interrupt=function(I){return this.each(I==null?ia:Za(Ni(I)))};var ia=Za(Ni());function Za(I){return function(){var G,te,oe;(G=this[I])&&(oe=G[te=G.active])&&(oe.timer.c=null,oe.timer.t=NaN,--G.count?delete G[te]:delete this[I],G.active+=.5,oe.event&&oe.event.interrupt.call(this,this.__data__,oe.index))}}function us(I,G,te){return X(I,bi),I.namespace=G,I.id=te,I}var eo,Xa,bi=[],rc=0;function oa(I,G,te,oe){var he=I.id,we=I.namespace;return Me(I,typeof te=="function"?function(Oe,ze,qe){Oe[we][he].tween.set(G,oe(te.call(Oe,Oe.__data__,ze,qe)))}:(te=oe(te),function(Oe){Oe[we][he].tween.set(G,te)}))}function Ti(I){return I==null&&(I=""),function(){this.textContent=I}}function Ni(I){return I==null?"__transition__":"__transition_"+I+"__"}function Xo(I,G,te,oe,he){var we,Oe,ze,qe,We,rt=I[te]||(I[te]={active:0,count:0}),ft=rt[oe];function pt(Ct){var Mt=rt.active,zt=rt[Mt];for(var It in zt&&(zt.timer.c=null,zt.timer.t=NaN,--rt.count,delete rt[Mt],zt.event&&zt.event.interrupt.call(I,I.__data__,zt.index)),rt)if(+It<oe){var Xt=rt[It];Xt.timer.c=null,Xt.timer.t=NaN,--rt.count,delete rt[It]}Oe.c=wt,rn(function(){return Oe.c&&wt(Ct||1)&&(Oe.c=null,Oe.t=NaN),1},0,we),rt.active=oe,ft.event&&ft.event.start.call(I,I.__data__,G),We=[],ft.tween.forEach(function(Gt,Vt){(Vt=Vt.call(I,I.__data__,G))&&We.push(Vt)}),qe=ft.ease,ze=ft.duration}function wt(Ct){for(var Mt=Ct/ze,zt=qe(Mt),It=We.length;It>0;)We[--It].call(I,zt);if(Mt>=1)return ft.event&&ft.event.end.call(I,I.__data__,G),--rt.count?delete rt[oe]:delete I[te],1}ft||(we=he.time,Oe=rn(function(Ct){var Mt=ft.delay;if(Oe.t=Mt+we,Mt<=Ct)return pt(Ct-Mt);Oe.c=pt},0,we),ft=rt[oe]={tween:new _,time:we,timer:Oe,delay:he.delay,duration:he.duration,ease:he.ease,index:G},he=null,++rt.count)}bi.call=be.call,bi.empty=be.empty,bi.node=be.node,bi.size=be.size,n.transition=function(I,G){return I&&I.transition?eo?I.transition(G):I:n.selection().transition(I)},n.transition.prototype=bi,bi.select=function(I){var G,te,oe,he=this.id,we=this.namespace,Oe=[];I=_e(I);for(var ze=-1,qe=this.length;++ze<qe;){Oe.push(G=[]);for(var We=this[ze],rt=-1,ft=We.length;++rt<ft;)(oe=We[rt])&&(te=I.call(oe,oe.__data__,rt,ze))?("__data__"in oe&&(te.__data__=oe.__data__),Xo(te,rt,we,he,oe[we][he]),G.push(te)):G.push(null)}return us(Oe,we,he)},bi.selectAll=function(I){var G,te,oe,he,we,Oe=this.id,ze=this.namespace,qe=[];I=ve(I);for(var We=-1,rt=this.length;++We<rt;)for(var ft=this[We],pt=-1,wt=ft.length;++pt<wt;)if(oe=ft[pt]){we=oe[ze][Oe],te=I.call(oe,oe.__data__,pt,We),qe.push(G=[]);for(var Ct=-1,Mt=te.length;++Ct<Mt;)(he=te[Ct])&&Xo(he,Ct,ze,Oe,we),G.push(he)}return us(qe,ze,Oe)},bi.filter=function(I){var G,te,oe=[];typeof I!="function"&&(I=Ne(I));for(var he=0,we=this.length;he<we;he++){oe.push(G=[]);for(var Oe,ze=0,qe=(Oe=this[he]).length;ze<qe;ze++)(te=Oe[ze])&&I.call(te,te.__data__,ze,he)&&G.push(te)}return us(oe,this.namespace,this.id)},bi.tween=function(I,G){var te=this.id,oe=this.namespace;return arguments.length<2?this.node()[oe][te].tween.get(I):Me(this,G==null?function(he){he[oe][te].tween.remove(I)}:function(he){he[oe][te].tween.set(I,G)})},bi.attr=function(I,G){if(arguments.length<2){for(G in I)this.attr(G,I[G]);return this}var te=I=="transform"?Qu:ca,oe=n.ns.qualify(I);function he(){this.removeAttribute(oe)}function we(){this.removeAttributeNS(oe.space,oe.local)}return oa(this,"attr."+I,G,oe.local?function(Oe){return Oe==null?we:(Oe+="",function(){var ze,qe=this.getAttributeNS(oe.space,oe.local);return qe!==Oe&&(ze=te(qe,Oe),function(We){this.setAttributeNS(oe.space,oe.local,ze(We))})})}:function(Oe){return Oe==null?he:(Oe+="",function(){var ze,qe=this.getAttribute(oe);return qe!==Oe&&(ze=te(qe,Oe),function(We){this.setAttribute(oe,ze(We))})})})},bi.attrTween=function(I,G){var te=n.ns.qualify(I);return this.tween("attr."+I,te.local?function(oe,he){var we=G.call(this,oe,he,this.getAttributeNS(te.space,te.local));return we&&function(Oe){this.setAttributeNS(te.space,te.local,we(Oe))}}:function(oe,he){var we=G.call(this,oe,he,this.getAttribute(te));return we&&function(Oe){this.setAttribute(te,we(Oe))}})},bi.style=function(I,G,te){var oe=arguments.length;if(oe<3){if(typeof I!="string"){for(te in oe<2&&(G=""),I)this.style(te,I[te],G);return this}te=""}function he(){this.style.removeProperty(I)}return oa(this,"style."+I,G,function(we){return we==null?he:(we+="",function(){var Oe,ze=t(this).getComputedStyle(this,null).getPropertyValue(I);return ze!==we&&(Oe=ca(ze,we),function(qe){this.style.setProperty(I,Oe(qe),te)})})})},bi.styleTween=function(I,G,te){return arguments.length<3&&(te=""),this.tween("style."+I,function(oe,he){var we=G.call(this,oe,he,t(this).getComputedStyle(this,null).getPropertyValue(I));return we&&function(Oe){this.style.setProperty(I,we(Oe),te)}})},bi.text=function(I){return oa(this,"text",I,Ti)},bi.remove=function(){var I=this.namespace;return this.each("end.transition",function(){var G;this[I].count<2&&(G=this.parentNode)&&G.removeChild(this)})},bi.ease=function(I){var G=this.id,te=this.namespace;return arguments.length<1?this.node()[te][G].ease:(typeof I!="function"&&(I=n.ease.apply(n,arguments)),Me(this,function(oe){oe[te][G].ease=I}))},bi.delay=function(I){var G=this.id,te=this.namespace;return arguments.length<1?this.node()[te][G].delay:Me(this,typeof I=="function"?function(oe,he,we){oe[te][G].delay=+I.call(oe,oe.__data__,he,we)}:(I=+I,function(oe){oe[te][G].delay=I}))},bi.duration=function(I){var G=this.id,te=this.namespace;return arguments.length<1?this.node()[te][G].duration:Me(this,typeof I=="function"?function(oe,he,we){oe[te][G].duration=Math.max(1,I.call(oe,oe.__data__,he,we))}:(I=Math.max(1,I),function(oe){oe[te][G].duration=I}))},bi.each=function(I,G){var te=this.id,oe=this.namespace;if(arguments.length<2){var he=Xa,we=eo;try{eo=te,Me(this,function(Oe,ze,qe){Xa=Oe[oe][te],I.call(Oe,Oe.__data__,ze,qe)})}finally{Xa=he,eo=we}}else Me(this,function(Oe){var ze=Oe[oe][te];(ze.event||(ze.event=n.dispatch("start","end","interrupt"))).on(I,G)});return this},bi.transition=function(){for(var I,G,te,oe=this.id,he=++rc,we=this.namespace,Oe=[],ze=0,qe=this.length;ze<qe;ze++){Oe.push(I=[]);for(var We,rt=0,ft=(We=this[ze]).length;rt<ft;rt++)(G=We[rt])&&Xo(G,rt,we,he,{time:(te=G[we][oe]).time,ease:te.ease,delay:te.delay+te.duration,duration:te.duration}),I.push(G)}return us(Oe,we,he)},n.svg.axis=function(){var I,G=n.scale.linear(),te=Ls,oe=6,he=6,we=3,Oe=[10],ze=null;function qe(We){We.each(function(){var rt,ft=n.select(this),pt=this.__chart__||G,wt=this.__chart__=G.copy(),Ct=ze??(wt.ticks?wt.ticks.apply(wt,Oe):wt.domain()),Mt=I??(wt.tickFormat?wt.tickFormat.apply(wt,Oe):N),zt=ft.selectAll(".tick").data(Ct,wt),It=zt.enter().insert("g",".domain").attr("class","tick").style("opacity",et),Xt=n.transition(zt.exit()).style("opacity",et).remove(),Gt=n.transition(zt.order()).style("opacity",1),Vt=Math.max(oe,0)+we,pn=Ul(wt),yn=ft.selectAll(".domain").data([0]),Sn=(yn.enter().append("path").attr("class","domain"),n.transition(yn));It.append("line"),It.append("text");var Pn,Vn,ir,ur,Yn=It.select("line"),lr=Gt.select("line"),xr=zt.select("text").text(Mt),Er=It.select("text"),tr=Gt.select("text"),sr=te==="top"||te==="left"?-1:1;if(te==="bottom"||te==="top"?(rt=Je,Pn="x",ir="y",Vn="x2",ur="y2",xr.attr("dy",sr<0?"0em":".71em").style("text-anchor","middle"),Sn.attr("d","M"+pn[0]+","+sr*he+"V0H"+pn[1]+"V"+sr*he)):(rt=tt,Pn="y",ir="x",Vn="y2",ur="x2",xr.attr("dy",".32em").style("text-anchor",sr<0?"end":"start"),Sn.attr("d","M"+sr*he+","+pn[0]+"H0V"+pn[1]+"H"+sr*he)),Yn.attr(ur,sr*oe),Er.attr(ir,sr*Vt),lr.attr(Vn,0).attr(ur,sr*oe),tr.attr(Pn,0).attr(ir,sr*Vt),wt.rangeBand){var wr=wt,cr=wr.rangeBand()/2;pt=wt=function(Ar){return wr(Ar)+cr}}else pt.rangeBand?pt=wt:Xt.call(rt,wt,pt);It.call(rt,pt,wt),Gt.call(rt,wt,wt)})}return qe.scale=function(We){return arguments.length?(G=We,qe):G},qe.orient=function(We){return arguments.length?(te=We in Lu?We+"":Ls,qe):te},qe.ticks=function(){return arguments.length?(Oe=b(arguments),qe):Oe},qe.tickValues=function(We){return arguments.length?(ze=We,qe):ze},qe.tickFormat=function(We){return arguments.length?(I=We,qe):I},qe.tickSize=function(We){var rt=arguments.length;return rt?(oe=+We,he=+arguments[rt-1],qe):oe},qe.innerTickSize=function(We){return arguments.length?(oe=+We,qe):oe},qe.outerTickSize=function(We){return arguments.length?(he=+We,qe):he},qe.tickPadding=function(We){return arguments.length?(we=+We,qe):we},qe.tickSubdivide=function(){return arguments.length&&qe},qe};var Ls="bottom",Lu={top:1,right:1,bottom:1,left:1};function Je(I,G,te){I.attr("transform",function(oe){var he=G(oe);return"translate("+(isFinite(he)?he:te(oe))+",0)"})}function tt(I,G,te){I.attr("transform",function(oe){var he=G(oe);return"translate(0,"+(isFinite(he)?he:te(oe))+")"})}n.svg.brush=function(){var I,G,te=ee(rt,"brushstart","brush","brushend"),oe=null,he=null,we=[0,0],Oe=[0,0],ze=!0,qe=!0,We=U[0];function rt(Mt){Mt.each(function(){var zt=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ct).on("touchstart.brush",Ct),It=zt.selectAll(".background").data([0]);It.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),zt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Xt=zt.selectAll(".resize").data(We,N);Xt.exit().remove(),Xt.enter().append("g").attr("class",function(yn){return"resize "+yn}).style("cursor",function(yn){return ut[yn]}).append("rect").attr("x",function(yn){return/[ew]$/.test(yn)?-3:null}).attr("y",function(yn){return/^[ns]/.test(yn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Xt.style("display",rt.empty()?"none":null);var Gt,Vt=n.transition(zt),pn=n.transition(It);oe&&(Gt=Ul(oe),pn.attr("x",Gt[0]).attr("width",Gt[1]-Gt[0]),pt(Vt)),he&&(Gt=Ul(he),pn.attr("y",Gt[0]).attr("height",Gt[1]-Gt[0]),wt(Vt)),ft(Vt)})}function ft(Mt){Mt.selectAll(".resize").attr("transform",function(zt){return"translate("+we[+/e$/.test(zt)]+","+Oe[+/^s/.test(zt)]+")"})}function pt(Mt){Mt.select(".extent").attr("x",we[0]),Mt.selectAll(".extent,.n>rect,.s>rect").attr("width",we[1]-we[0])}function wt(Mt){Mt.select(".extent").attr("y",Oe[0]),Mt.selectAll(".extent,.e>rect,.w>rect").attr("height",Oe[1]-Oe[0])}function Ct(){var Mt,zt,It=this,Xt=n.select(n.event.target),Gt=te.of(It,arguments),Vt=n.select(It),pn=Xt.datum(),yn=!/^(n|s)$/.test(pn)&&oe,Sn=!/^(e|w)$/.test(pn)&&he,Pn=Xt.classed("extent"),Vn=vt(It),ir=n.mouse(It),ur=n.select(t(It)).on("keydown.brush",function(){n.event.keyCode==32&&(Pn||(Mt=null,ir[0]-=we[1],ir[1]-=Oe[1],Pn=2),re())}).on("keyup.brush",function(){n.event.keyCode==32&&Pn==2&&(ir[0]+=we[1],ir[1]+=Oe[1],Pn=0,re())});if(n.event.changedTouches?ur.on("touchmove.brush",xr).on("touchend.brush",tr):ur.on("mousemove.brush",xr).on("mouseup.brush",tr),Vt.interrupt().selectAll("*").interrupt(),Pn)ir[0]=we[0]-ir[0],ir[1]=Oe[0]-ir[1];else if(pn){var Yn=+/w$/.test(pn),lr=+/^n/.test(pn);zt=[we[1-Yn]-ir[0],Oe[1-lr]-ir[1]],ir[0]=we[Yn],ir[1]=Oe[lr]}else n.event.altKey&&(Mt=ir.slice());function xr(){var sr=n.mouse(It),wr=!1;zt&&(sr[0]+=zt[0],sr[1]+=zt[1]),Pn||(n.event.altKey?(Mt||(Mt=[(we[0]+we[1])/2,(Oe[0]+Oe[1])/2]),ir[0]=we[+(sr[0]<Mt[0])],ir[1]=Oe[+(sr[1]<Mt[1])]):Mt=null),yn&&Er(sr,oe,0)&&(pt(Vt),wr=!0),Sn&&Er(sr,he,1)&&(wt(Vt),wr=!0),wr&&(ft(Vt),Gt({type:"brush",mode:Pn?"move":"resize"}))}function Er(sr,wr,cr){var Ar,Lr,qr=Ul(wr),Wr=qr[0],Kr=qr[1],ii=ir[cr],Ii=cr?Oe:we,Zi=Ii[1]-Ii[0];if(Pn&&(Wr-=ii,Kr-=Zi+ii),Ar=(cr?qe:ze)?Math.max(Wr,Math.min(Kr,sr[cr])):sr[cr],Pn?Lr=(Ar+=ii)+Zi:(Mt&&(ii=Math.max(Wr,Math.min(Kr,2*Mt[cr]-Ar))),ii<Ar?(Lr=Ar,Ar=ii):Lr=ii),Ii[0]!=Ar||Ii[1]!=Lr)return cr?G=null:I=null,Ii[0]=Ar,Ii[1]=Lr,!0}function tr(){xr(),Vt.style("pointer-events","all").selectAll(".resize").style("display",rt.empty()?"none":null),n.select("body").style("cursor",null),ur.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Vn(),Gt({type:"brushend"})}Vt.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Xt.style("cursor")),Gt({type:"brushstart"}),xr()}return rt.event=function(Mt){Mt.each(function(){var zt=te.of(this,arguments),It={x:we,y:Oe,i:I,j:G},Xt=this.__chart__||It;this.__chart__=It,eo?n.select(this).transition().each("start.brush",function(){I=Xt.i,G=Xt.j,we=Xt.x,Oe=Xt.y,zt({type:"brushstart"})}).tween("brush:brush",function(){var Gt=_a(we,It.x),Vt=_a(Oe,It.y);return I=G=null,function(pn){we=It.x=Gt(pn),Oe=It.y=Vt(pn),zt({type:"brush",mode:"resize"})}}).each("end.brush",function(){I=It.i,G=It.j,zt({type:"brush",mode:"resize"}),zt({type:"brushend"})}):(zt({type:"brushstart"}),zt({type:"brush",mode:"resize"}),zt({type:"brushend"}))})},rt.x=function(Mt){return arguments.length?(We=U[!(oe=Mt)<<1|!he],rt):oe},rt.y=function(Mt){return arguments.length?(We=U[!oe<<1|!(he=Mt)],rt):he},rt.clamp=function(Mt){return arguments.length?(oe&&he?(ze=!!Mt[0],qe=!!Mt[1]):oe?ze=!!Mt:he&&(qe=!!Mt),rt):oe&&he?[ze,qe]:oe?ze:he?qe:null},rt.extent=function(Mt){var zt,It,Xt,Gt,Vt;return arguments.length?(oe&&(zt=Mt[0],It=Mt[1],he&&(zt=zt[0],It=It[0]),I=[zt,It],oe.invert&&(zt=oe(zt),It=oe(It)),It<zt&&(Vt=zt,zt=It,It=Vt),zt==we[0]&&It==we[1]||(we=[zt,It])),he&&(Xt=Mt[0],Gt=Mt[1],oe&&(Xt=Xt[1],Gt=Gt[1]),G=[Xt,Gt],he.invert&&(Xt=he(Xt),Gt=he(Gt)),Gt<Xt&&(Vt=Xt,Xt=Gt,Gt=Vt),Xt==Oe[0]&&Gt==Oe[1]||(Oe=[Xt,Gt])),rt):(oe&&(I?(zt=I[0],It=I[1]):(zt=we[0],It=we[1],oe.invert&&(zt=oe.invert(zt),It=oe.invert(It)),It<zt&&(Vt=zt,zt=It,It=Vt))),he&&(G?(Xt=G[0],Gt=G[1]):(Xt=Oe[0],Gt=Oe[1],he.invert&&(Xt=he.invert(Xt),Gt=he.invert(Gt)),Gt<Xt&&(Vt=Xt,Xt=Gt,Gt=Vt))),oe&&he?[[zt,Xt],[It,Gt]]:oe?[zt,It]:he&&[Xt,Gt])},rt.clear=function(){return rt.empty()||(we=[0,0],Oe=[0,0],I=G=null),rt},rt.empty=function(){return!!oe&&we[0]==we[1]||!!he&&Oe[0]==Oe[1]},n.rebind(rt,te,"on")};var ut={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},U=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function $(I){return JSON.parse(I.responseText)}function W(I){var G=f.createRange();return G.selectNode(f.body),G.createContextualFragment(I.responseText)}n.text=Rn(function(I){return I.responseText}),n.json=function(I,G){return Kn(I,"application/json",$,G)},n.html=function(I,G){return Kn(I,"text/html",W,G)},n.xml=Rn(function(I){return I.responseXML}),(y=typeof(p=n)=="function"?p.call(x,e,x,S):p)===void 0||(S.exports=y)}).apply(self)},3480:function(S){S.exports=function(){"use strict";var x,e,p;function y(n,M){if(x)if(e){var b="var sharedChunk = {}; ("+x+")(sharedChunk); ("+e+")(sharedChunk);",f={};x(f),p=M(f),typeof window<"u"&&(p.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=M;else x=M}return y(0,function(n){function M(E,F){return E(F={exports:{}},F.exports),F.exports}var b="1.13.4",f=s;function s(E,F,K,fe){this.cx=3*E,this.bx=3*(K-E)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*F,this.by=3*(fe-F)-this.cy,this.ay=1-this.cy-this.by,this.p1x=E,this.p1y=fe,this.p2x=K,this.p2y=fe}s.prototype.sampleCurveX=function(E){return((this.ax*E+this.bx)*E+this.cx)*E},s.prototype.sampleCurveY=function(E){return((this.ay*E+this.by)*E+this.cy)*E},s.prototype.sampleCurveDerivativeX=function(E){return(3*this.ax*E+2*this.bx)*E+this.cx},s.prototype.solveCurveX=function(E,F){var K,fe,ke,Pe,He;for(F===void 0&&(F=1e-6),ke=E,He=0;He<8;He++){if(Pe=this.sampleCurveX(ke)-E,Math.abs(Pe)<F)return ke;var Qe=this.sampleCurveDerivativeX(ke);if(Math.abs(Qe)<1e-6)break;ke-=Pe/Qe}if((ke=E)<(K=0))return K;if(ke>(fe=1))return fe;for(;K<fe;){if(Pe=this.sampleCurveX(ke),Math.abs(Pe-E)<F)return ke;E>Pe?K=ke:fe=ke,ke=.5*(fe-K)+K}return ke},s.prototype.solve=function(E,F){return this.sampleCurveY(this.solveCurveX(E,F))};var t=o;function o(E,F){this.x=E,this.y=F}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(E){return this.clone()._add(E)},sub:function(E){return this.clone()._sub(E)},multByPoint:function(E){return this.clone()._multByPoint(E)},divByPoint:function(E){return this.clone()._divByPoint(E)},mult:function(E){return this.clone()._mult(E)},div:function(E){return this.clone()._div(E)},rotate:function(E){return this.clone()._rotate(E)},rotateAround:function(E,F){return this.clone()._rotateAround(E,F)},matMult:function(E){return this.clone()._matMult(E)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(E){return this.x===E.x&&this.y===E.y},dist:function(E){return Math.sqrt(this.distSqr(E))},distSqr:function(E){var F=E.x-this.x,K=E.y-this.y;return F*F+K*K},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(E){return Math.atan2(this.y-E.y,this.x-E.x)},angleWith:function(E){return this.angleWithSep(E.x,E.y)},angleWithSep:function(E,F){return Math.atan2(this.x*F-this.y*E,this.x*E+this.y*F)},_matMult:function(E){var F=E[0]*this.x+E[1]*this.y,K=E[2]*this.x+E[3]*this.y;return this.x=F,this.y=K,this},_add:function(E){return this.x+=E.x,this.y+=E.y,this},_sub:function(E){return this.x-=E.x,this.y-=E.y,this},_mult:function(E){return this.x*=E,this.y*=E,this},_div:function(E){return this.x/=E,this.y/=E,this},_multByPoint:function(E){return this.x*=E.x,this.y*=E.y,this},_divByPoint:function(E){return this.x/=E.x,this.y/=E.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var E=this.y;return this.y=this.x,this.x=-E,this},_rotate:function(E){var F=Math.cos(E),K=Math.sin(E),fe=F*this.x-K*this.y,ke=K*this.x+F*this.y;return this.x=fe,this.y=ke,this},_rotateAround:function(E,F){var K=Math.cos(E),fe=Math.sin(E),ke=F.x+K*(this.x-F.x)-fe*(this.y-F.y),Pe=F.y+fe*(this.x-F.x)+K*(this.y-F.y);return this.x=ke,this.y=Pe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(E){return E instanceof o?E:Array.isArray(E)?new o(E[0],E[1]):E};var r=typeof self<"u"?self:{},i=Math.pow(2,53)-1;function a(E,F,K,fe){var ke=new f(E,F,K,fe);return function(Pe){return ke.solve(Pe)}}var l=a(.25,.1,.25,1);function u(E,F,K){return Math.min(K,Math.max(F,E))}function h(E,F,K){var fe=K-F,ke=((E-F)%fe+fe)%fe+F;return ke===F?K:ke}function c(E){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];for(var fe=0,ke=F;fe<ke.length;fe+=1){var Pe=ke[fe];for(var He in Pe)E[He]=Pe[He]}return E}var w=1;function g(){return w++}function v(){return function E(F){return F?(F^16*Math.random()>>F/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,E)}()}function m(E){return!!E&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(E)}function T(E,F){E.forEach(function(K){F[K]&&(F[K]=F[K].bind(F))})}function _(E,F){return E.indexOf(F,E.length-F.length)!==-1}function A(E,F,K){var fe={};for(var ke in E)fe[ke]=F.call(K||this,E[ke],ke,E);return fe}function d(E,F,K){var fe={};for(var ke in E)F.call(K||this,E[ke],ke,E)&&(fe[ke]=E[ke]);return fe}function C(E){return Array.isArray(E)?E.map(C):typeof E=="object"&&E?A(E,C):E}var k={};function D(E){k[E]||(typeof console<"u"&&console.warn(E),k[E]=!0)}function O(E,F,K){return(K.y-E.y)*(F.x-E.x)>(F.y-E.y)*(K.x-E.x)}function L(E){for(var F=0,K=0,fe=E.length,ke=fe-1,Pe=void 0,He=void 0;K<fe;ke=K++)Pe=E[K],F+=((He=E[ke]).x-Pe.x)*(Pe.y+He.y);return F}function R(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function z(E){var F={};if(E.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(fe,ke,Pe,He){var Qe=Pe||He;return F[ke]=!Qe||Qe.toLowerCase(),""}),F["max-age"]){var K=parseInt(F["max-age"],10);isNaN(K)?delete F["max-age"]:F["max-age"]=K}return F}var q=null;function N(E){if(q==null){var F=E.navigator?E.navigator.userAgent:null;q=!!E.safari||!(!F||!(/\b(iPad|iPhone|iPod)\b/.test(F)||F.match("Safari")&&!F.match("Chrome")))}return q}function V(E){try{var F=r[E];return F.setItem("_mapbox_test_",1),F.removeItem("_mapbox_test_"),!0}catch{return!1}}var Z,j,H,Y,ie=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),re=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,ne=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame,ee={now:ie,frame:function(E){var F=re(E);return{cancel:function(){return ne(F)}}},getImageData:function(E,F){F===void 0&&(F=0);var K=r.document.createElement("canvas"),fe=K.getContext("2d");if(!fe)throw new Error("failed to create canvas 2d context");return K.width=E.width,K.height=E.height,fe.drawImage(E,0,0,E.width,E.height),fe.getImageData(-F,-F,E.width+2*F,E.height+2*F)},resolveURL:function(E){return Z||(Z=r.document.createElement("a")),Z.href=E,Z.href},hardwareConcurrency:r.navigator&&r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(j==null&&(j=r.matchMedia("(prefers-reduced-motion: reduce)")),j.matches)}},Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},X={supported:!1,testSupport:function(E){!se&&Y&&(ce?le(E):H=E)}},se=!1,ce=!1;function le(E){var F=E.createTexture();E.bindTexture(E.TEXTURE_2D,F);try{if(E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,Y),E.isContextLost())return;X.supported=!0}catch{}E.deleteTexture(F),se=!0}r.document&&((Y=r.document.createElement("img")).onload=function(){H&&le(H),H=null,ce=!0},Y.onerror=function(){se=!0,H=null},Y.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var de="01",be=function(E,F){this._transformRequestFn=E,this._customAccessToken=F,this._createSkuToken()};function _e(E){return E.indexOf("mapbox:")===0}be.prototype._createSkuToken=function(){var E=function(){for(var F="",K=0;K<10;K++)F+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",de,F].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=E.token,this._skuTokenExpiresAt=E.tokenExpiresAt},be.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},be.prototype.transformRequest=function(E,F){return this._transformRequestFn&&this._transformRequestFn(E,F)||{url:E}},be.prototype.normalizeStyleURL=function(E,F){if(!_e(E))return E;var K=Se(E);return K.path="/styles/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||F)},be.prototype.normalizeGlyphsURL=function(E,F){if(!_e(E))return E;var K=Se(E);return K.path="/fonts/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||F)},be.prototype.normalizeSourceURL=function(E,F){if(!_e(E))return E;var K=Se(E);return K.path="/v4/"+K.authority+".json",K.params.push("secure"),this._makeAPIURL(K,this._customAccessToken||F)},be.prototype.normalizeSpriteURL=function(E,F,K,fe){var ke=Se(E);return _e(E)?(ke.path="/styles/v1"+ke.path+"/sprite"+F+K,this._makeAPIURL(ke,this._customAccessToken||fe)):(ke.path+=""+F+K,Ie(ke))},be.prototype.normalizeTileURL=function(E,F){if(this._isSkuTokenExpired()&&this._createSkuToken(),E&&!_e(E))return E;var K=Se(E),fe=ee.devicePixelRatio>=2||F===512?"@2x":"",ke=X.supported?".webp":"$1";K.path=K.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+fe+ke),K.path=K.path.replace(/^.+\/v4\//,"/"),K.path="/v4"+K.path;var Pe=this._customAccessToken||function(He){for(var Qe=0,ct=He;Qe<ct.length;Qe+=1){var _t=ct[Qe].match(/^access_token=(.*)$/);if(_t)return _t[1]}return null}(K.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&Pe&&this._skuToken&&K.params.push("sku="+this._skuToken),this._makeAPIURL(K,Pe)},be.prototype.canonicalizeTileURL=function(E,F){var K=Se(E);if(!K.path.match(/(^\/v4\/)/)||!K.path.match(/\.[\w]+$/))return E;var fe="mapbox://tiles/";fe+=K.path.replace("/v4/","");var ke=K.params;return F&&(ke=ke.filter(function(Pe){return!Pe.match(/^access_token=/)})),ke.length&&(fe+="?"+ke.join("&")),fe},be.prototype.canonicalizeTileset=function(E,F){for(var K=!!F&&_e(F),fe=[],ke=0,Pe=E.tiles||[];ke<Pe.length;ke+=1){var He=Pe[ke];me(He)?fe.push(this.canonicalizeTileURL(He,K)):fe.push(He)}return fe},be.prototype._makeAPIURL=function(E,F){var K="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",fe=Se(Q.API_URL);if(E.protocol=fe.protocol,E.authority=fe.authority,E.protocol==="http"){var ke=E.params.indexOf("secure");ke>=0&&E.params.splice(ke,1)}if(fe.path!=="/"&&(E.path=""+fe.path+E.path),!Q.REQUIRE_ACCESS_TOKEN)return Ie(E);if(!(F=F||Q.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+K);if(F[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+K);return E.params=E.params.filter(function(Pe){return Pe.indexOf("access_token")===-1}),E.params.push("access_token="+F),Ie(E)};var ve=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function me(E){return ve.test(E)}var ye=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Se(E){var F=E.match(ye);if(!F)throw new Error("Unable to parse URL object");return{protocol:F[1],authority:F[2],path:F[3]||"/",params:F[4]?F[4].split("&"):[]}}function Ie(E){var F=E.params.length?"?"+E.params.join("&"):"";return E.protocol+"://"+E.authority+E.path+F}var xe="mapbox.eventData";function ue(E){if(!E)return null;var F,K=E.split(".");if(!K||K.length!==3)return null;try{return JSON.parse((F=K[1],decodeURIComponent(r.atob(F).split("").map(function(fe){return"%"+("00"+fe.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var ae=function(E){this.type=E,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ae.prototype.getStorageKey=function(E){var F,K,fe=ue(Q.ACCESS_TOKEN);return F=fe&&fe.u?(K=fe.u,r.btoa(encodeURIComponent(K).replace(/%([0-9A-F]{2})/g,function(ke,Pe){return String.fromCharCode(+("0x"+Pe))}))):Q.ACCESS_TOKEN||"",E?xe+"."+E+":"+F:xe+":"+F},ae.prototype.fetchEventData=function(){var E=V("localStorage"),F=this.getStorageKey(),K=this.getStorageKey("uuid");if(E)try{var fe=r.localStorage.getItem(F);fe&&(this.eventData=JSON.parse(fe));var ke=r.localStorage.getItem(K);ke&&(this.anonId=ke)}catch{D("Unable to read from LocalStorage")}},ae.prototype.saveEventData=function(){var E=V("localStorage"),F=this.getStorageKey(),K=this.getStorageKey("uuid");if(E)try{r.localStorage.setItem(K,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(F,JSON.stringify(this.eventData))}catch{D("Unable to write to LocalStorage")}},ae.prototype.processRequests=function(E){},ae.prototype.postEvent=function(E,F,K,fe){var ke=this;if(Q.EVENTS_URL){var Pe=Se(Q.EVENTS_URL);Pe.params.push("access_token="+(fe||Q.ACCESS_TOKEN||""));var He={event:this.type,created:new Date(E).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:de,userId:this.anonId},Qe=F?c(He,F):He,ct={url:Ie(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Qe])};this.pendingRequest=Et(ct,function(_t){ke.pendingRequest=null,K(_t),ke.saveEventData(),ke.processRequests(fe)})}},ae.prototype.queueRequest=function(E,F){this.queue.push(E),this.processRequests(F)};var pe,De,Te=function(E){function F(){E.call(this,"map.load"),this.success={},this.skuToken=""}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.postMapLoadEvent=function(K,fe,ke,Pe){this.skuToken=ke,(Q.EVENTS_URL&&Pe||Q.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(He){return _e(He)||me(He)}))&&this.queueRequest({id:fe,timestamp:Date.now()},Pe)},F.prototype.processRequests=function(K){var fe=this;if(!this.pendingRequest&&this.queue.length!==0){var ke=this.queue.shift(),Pe=ke.id,He=ke.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=v()),this.postEvent(He,{skuToken:this.skuToken},function(Qe){Qe||Pe&&(fe.success[Pe]=!0)},K))}},F}(ae),Ae=function(E){function F(K){E.call(this,"appUserTurnstile"),this._customAccessToken=K}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.postTurnstileEvent=function(K,fe){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(ke){return _e(ke)||me(ke)})&&this.queueRequest(Date.now(),fe)},F.prototype.processRequests=function(K){var fe=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var ke=ue(Q.ACCESS_TOKEN),Pe=ke?ke.u:Q.ACCESS_TOKEN,He=Pe!==this.eventData.tokenU;m(this.anonId)||(this.anonId=v(),He=!0);var Qe=this.queue.shift();if(this.eventData.lastSuccess){var ct=new Date(this.eventData.lastSuccess),_t=new Date(Qe),Tt=(Qe-this.eventData.lastSuccess)/864e5;He=He||Tt>=1||Tt<-1||ct.getDate()!==_t.getDate()}else He=!0;if(!He)return this.processRequests();this.postEvent(Qe,{"enabled.telemetry":!1},function(Nt){Nt||(fe.eventData.lastSuccess=Qe,fe.eventData.tokenU=Pe)},K)}},F}(ae),Ce=new Ae,Re=Ce.postTurnstileEvent.bind(Ce),Ne=new Te,ge=Ne.postMapLoadEvent.bind(Ne),Me="mapbox-tiles",Ee=500,Fe=50,Le=42e4;function Ue(){r.caches&&!pe&&(pe=r.caches.open(Me))}function Ge(E,F,K){if(Ue(),pe){var fe={status:F.status,statusText:F.statusText,headers:new r.Headers};F.headers.forEach(function(Pe,He){return fe.headers.set(He,Pe)});var ke=z(F.headers.get("Cache-Control")||"");ke["no-store"]||(ke["max-age"]&&fe.headers.set("Expires",new Date(K+1e3*ke["max-age"]).toUTCString()),new Date(fe.headers.get("Expires")).getTime()-K<Le||function(Pe,He){if(De===void 0)try{new Response(new ReadableStream),De=!0}catch{De=!1}De?He(Pe.body):Pe.blob().then(He)}(F,function(Pe){var He=new r.Response(Pe,fe);Ue(),pe&&pe.then(function(Qe){return Qe.put(Ke(E.url),He)}).catch(function(Qe){return D(Qe.message)})}))}}function Ke(E){var F=E.indexOf("?");return F<0?E:E.slice(0,F)}function at(E,F){if(Ue(),!pe)return F(null);var K=Ke(E.url);pe.then(function(fe){fe.match(K).then(function(ke){var Pe=function(He){if(!He)return!1;var Qe=new Date(He.headers.get("Expires")||0),ct=z(He.headers.get("Cache-Control")||"");return Qe>Date.now()&&!ct["no-cache"]}(ke);fe.delete(K),Pe&&fe.put(K,ke.clone()),F(null,ke,Pe)}).catch(F)}).catch(F)}var st,vt=1/0;function xt(){return st==null&&(st=r.OffscreenCanvas&&new r.OffscreenCanvas(1,1).getContext("2d")&&typeof r.createImageBitmap=="function"),st}var gt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(gt);var nt=function(E){function F(K,fe,ke){fe===401&&me(ke)&&(K+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),E.call(this,K),this.status=fe,this.url=ke,this.name=this.constructor.name,this.message=K}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},F}(Error),et=R()?function(){return self.worker&&self.worker.referrer}:function(){return(r.location.protocol==="blob:"?r.parent:r).location.href};function At(E,F){var K,fe=new r.AbortController,ke=new r.Request(E.url,{method:E.method||"GET",body:E.body,credentials:E.credentials,headers:E.headers,referrer:et(),signal:fe.signal}),Pe=!1,He=!1,Qe=(K=ke.url).indexOf("sku=")>0&&me(K);E.type==="json"&&ke.headers.set("Accept","application/json");var ct=function(Tt,Nt,qt){if(!He){if(Tt&&Tt.message!=="SecurityError"&&D(Tt),Nt&&qt)return _t(Nt);var Ut=Date.now();r.fetch(ke).then(function(an){if(an.ok){var un=Qe?an.clone():null;return _t(an,un,Ut)}return F(new nt(an.statusText,an.status,E.url))}).catch(function(an){an.code!==20&&F(new Error(an.message))})}},_t=function(Tt,Nt,qt){(E.type==="arrayBuffer"?Tt.arrayBuffer():E.type==="json"?Tt.json():Tt.text()).then(function(Ut){He||(Nt&&qt&&Ge(ke,Nt,qt),Pe=!0,F(null,Ut,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(Ut){He||F(new Error(Ut.message))})};return Qe?at(ke,ct):ct(null,null),{cancel:function(){He=!0,Pe||fe.abort()}}}var Pt=function(E,F){if(K=E.url,!(/^file:/.test(K)||/^file:/.test(et())&&!/^\w+:/.test(K))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return At(E,F);if(R()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",E,F,void 0,!0)}var K;return function(fe,ke){var Pe=new r.XMLHttpRequest;for(var He in Pe.open(fe.method||"GET",fe.url,!0),fe.type==="arrayBuffer"&&(Pe.responseType="arraybuffer"),fe.headers)Pe.setRequestHeader(He,fe.headers[He]);return fe.type==="json"&&(Pe.responseType="text",Pe.setRequestHeader("Accept","application/json")),Pe.withCredentials=fe.credentials==="include",Pe.onerror=function(){ke(new Error(Pe.statusText))},Pe.onload=function(){if((Pe.status>=200&&Pe.status<300||Pe.status===0)&&Pe.response!==null){var Qe=Pe.response;if(fe.type==="json")try{Qe=JSON.parse(Pe.response)}catch(ct){return ke(ct)}ke(null,Qe,Pe.getResponseHeader("Cache-Control"),Pe.getResponseHeader("Expires"))}else ke(new nt(Pe.statusText,Pe.status,fe.url))},Pe.send(fe.body),{cancel:function(){return Pe.abort()}}}(E,F)},Rt=function(E,F){return Pt(c(E,{type:"arrayBuffer"}),F)},Et=function(E,F){return Pt(c(E,{method:"POST"}),F)},Ye,Xe,Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ye=[],Xe=0;var Ze=function(E,F){if(X.supported&&(E.headers||(E.headers={}),E.headers.accept="image/webp,*/*"),Xe>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var K={requestParameters:E,callback:F,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(K),K}Xe++;var fe=!1,ke=function(){if(!fe)for(fe=!0,Xe--;Ye.length&&Xe<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var He=Ye.shift(),Qe=He.requestParameters,ct=He.callback;He.cancelled||(He.cancel=Ze(Qe,ct).cancel)}},Pe=Rt(E,function(He,Qe,ct,_t){ke(),He?F(He):Qe&&(xt()?function(Tt,Nt){var qt=new r.Blob([new Uint8Array(Tt)],{type:"image/png"});r.createImageBitmap(qt).then(function(Ut){Nt(null,Ut)}).catch(function(Ut){Nt(new Error("Could not load image because of "+Ut.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(Qe,F):function(Tt,Nt,qt,Ut){var an=new r.Image,un=r.URL;an.onload=function(){Nt(null,an),un.revokeObjectURL(an.src),an.onload=null,r.requestAnimationFrame(function(){an.src=Ve})},an.onerror=function(){return Nt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Mn=new r.Blob([new Uint8Array(Tt)],{type:"image/png"});an.cacheControl=qt,an.expires=Ut,an.src=Tt.byteLength?un.createObjectURL(Mn):Ve}(Qe,F,ct,_t))});return{cancel:function(){Pe.cancel(),ke()}}};function lt(E,F,K){K[E]&&K[E].indexOf(F)!==-1||(K[E]=K[E]||[],K[E].push(F))}function it(E,F,K){if(K&&K[E]){var fe=K[E].indexOf(F);fe!==-1&&K[E].splice(fe,1)}}var Be=function(E,F){F===void 0&&(F={}),c(this,F),this.type=E},je=function(E){function F(K,fe){fe===void 0&&(fe={}),E.call(this,"error",c({error:K},fe))}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F}(Be),ot=function(){};ot.prototype.on=function(E,F){return this._listeners=this._listeners||{},lt(E,F,this._listeners),this},ot.prototype.off=function(E,F){return it(E,F,this._listeners),it(E,F,this._oneTimeListeners),this},ot.prototype.once=function(E,F){return this._oneTimeListeners=this._oneTimeListeners||{},lt(E,F,this._oneTimeListeners),this},ot.prototype.fire=function(E,F){typeof E=="string"&&(E=new Be(E,F||{}));var K=E.type;if(this.listens(K)){E.target=this;for(var fe=0,ke=this._listeners&&this._listeners[K]?this._listeners[K].slice():[];fe<ke.length;fe+=1)ke[fe].call(this,E);for(var Pe=0,He=this._oneTimeListeners&&this._oneTimeListeners[K]?this._oneTimeListeners[K].slice():[];Pe<He.length;Pe+=1){var Qe=He[Pe];it(K,Qe,this._oneTimeListeners),Qe.call(this,E)}var ct=this._eventedParent;ct&&(c(E,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ct.fire(E))}else E instanceof je&&console.error(E.error);return this},ot.prototype.listens=function(E){return this._listeners&&this._listeners[E]&&this._listeners[E].length>0||this._oneTimeListeners&&this._oneTimeListeners[E]&&this._oneTimeListeners[E].length>0||this._eventedParent&&this._eventedParent.listens(E)},ot.prototype.setEventedParent=function(E,F){return this._eventedParent=E,this._eventedParentData=F,this};var $e={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},dt=function(E,F,K,fe){this.message=(E?E+": ":"")+K,fe&&(this.identifier=fe),F!=null&&F.__line__&&(this.line=F.__line__)};function mt(E){var F=E.key,K=E.value;return K?[new dt(F,K,"constants have been deprecated as of v8")]:[]}function yt(E){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];for(var fe=0,ke=F;fe<ke.length;fe+=1){var Pe=ke[fe];for(var He in Pe)E[He]=Pe[He]}return E}function ht(E){return E instanceof Number||E instanceof String||E instanceof Boolean?E.valueOf():E}function kt(E){if(Array.isArray(E))return E.map(kt);if(E instanceof Object&&!(E instanceof Number||E instanceof String||E instanceof Boolean)){var F={};for(var K in E)F[K]=kt(E[K]);return F}return ht(E)}var bt=function(E){function F(K,fe){E.call(this,fe),this.message=fe,this.key=K}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F}(Error),St=function(E,F){F===void 0&&(F=[]),this.parent=E,this.bindings={};for(var K=0,fe=F;K<fe.length;K+=1){var ke=fe[K],Pe=ke[0],He=ke[1];this.bindings[Pe]=He}};St.prototype.concat=function(E){return new St(this,E)},St.prototype.get=function(E){if(this.bindings[E])return this.bindings[E];if(this.parent)return this.parent.get(E);throw new Error(E+" not found in scope.")},St.prototype.has=function(E){return!!this.bindings[E]||!!this.parent&&this.parent.has(E)};var Lt={kind:"null"},Ot={kind:"number"},Ft={kind:"string"},$t={kind:"boolean"},on={kind:"color"},Ht={kind:"object"},Zt={kind:"value"},jt={kind:"collator"},Ln={kind:"formatted"},Tn={kind:"resolvedImage"};function gn(E,F){return{kind:"array",itemType:E,N:F}}function Qt(E){if(E.kind==="array"){var F=Qt(E.itemType);return typeof E.N=="number"?"array<"+F+", "+E.N+">":E.itemType.kind==="value"?"array":"array<"+F+">"}return E.kind}var cn=[Lt,Ot,Ft,$t,on,Ln,Ht,gn(Zt),Tn];function nn(E,F){if(F.kind==="error")return null;if(E.kind==="array"){if(F.kind==="array"&&(F.N===0&&F.itemType.kind==="value"||!nn(E.itemType,F.itemType))&&(typeof E.N!="number"||E.N===F.N))return null}else{if(E.kind===F.kind)return null;if(E.kind==="value"){for(var K=0,fe=cn;K<fe.length;K+=1)if(!nn(fe[K],F))return null}}return"Expected "+Qt(E)+" but found "+Qt(F)+" instead."}function hn(E,F){return F.some(function(K){return K.kind===E.kind})}function bn(E,F){return F.some(function(K){return K==="null"?E===null:K==="array"?Array.isArray(E):K==="object"?E&&!Array.isArray(E)&&typeof E=="object":K===typeof E})}var wn=M(function(E,F){var K={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fe(ct){return(ct=Math.round(ct))<0?0:ct>255?255:ct}function ke(ct){return ct<0?0:ct>1?1:ct}function Pe(ct){return ct[ct.length-1]==="%"?fe(parseFloat(ct)/100*255):fe(parseInt(ct))}function He(ct){return ct[ct.length-1]==="%"?ke(parseFloat(ct)/100):ke(parseFloat(ct))}function Qe(ct,_t,Tt){return Tt<0?Tt+=1:Tt>1&&(Tt-=1),6*Tt<1?ct+(_t-ct)*Tt*6:2*Tt<1?_t:3*Tt<2?ct+(_t-ct)*(2/3-Tt)*6:ct}try{F.parseCSSColor=function(ct){var _t,Tt=ct.replace(/ /g,"").toLowerCase();if(Tt in K)return K[Tt].slice();if(Tt[0]==="#")return Tt.length===4?(_t=parseInt(Tt.substr(1),16))>=0&&_t<=4095?[(3840&_t)>>4|(3840&_t)>>8,240&_t|(240&_t)>>4,15&_t|(15&_t)<<4,1]:null:Tt.length===7&&(_t=parseInt(Tt.substr(1),16))>=0&&_t<=16777215?[(16711680&_t)>>16,(65280&_t)>>8,255&_t,1]:null;var Nt=Tt.indexOf("("),qt=Tt.indexOf(")");if(Nt!==-1&&qt+1===Tt.length){var Ut=Tt.substr(0,Nt),an=Tt.substr(Nt+1,qt-(Nt+1)).split(","),un=1;switch(Ut){case"rgba":if(an.length!==4)return null;un=He(an.pop());case"rgb":return an.length!==3?null:[Pe(an[0]),Pe(an[1]),Pe(an[2]),un];case"hsla":if(an.length!==4)return null;un=He(an.pop());case"hsl":if(an.length!==3)return null;var Mn=(parseFloat(an[0])%360+360)%360/360,_n=He(an[1]),Fn=He(an[2]),zn=Fn<=.5?Fn*(_n+1):Fn+_n-Fn*_n,qn=2*Fn-zn;return[fe(255*Qe(qn,zn,Mn+1/3)),fe(255*Qe(qn,zn,Mn)),fe(255*Qe(qn,zn,Mn-1/3)),un];default:return null}}return null}}catch{}}),En=wn.parseCSSColor,Dn=function(E,F,K,fe){fe===void 0&&(fe=1),this.r=E,this.g=F,this.b=K,this.a=fe};Dn.parse=function(E){if(E){if(E instanceof Dn)return E;if(typeof E=="string"){var F=En(E);if(F)return new Dn(F[0]/255*F[3],F[1]/255*F[3],F[2]/255*F[3],F[3])}}},Dn.prototype.toString=function(){var E=this.toArray(),F=E[0],K=E[1],fe=E[2],ke=E[3];return"rgba("+Math.round(F)+","+Math.round(K)+","+Math.round(fe)+","+ke+")"},Dn.prototype.toArray=function(){var E=this,F=E.r,K=E.g,fe=E.b,ke=E.a;return ke===0?[0,0,0,0]:[255*F/ke,255*K/ke,255*fe/ke,ke]},Dn.black=new Dn(0,0,0,1),Dn.white=new Dn(1,1,1,1),Dn.transparent=new Dn(0,0,0,0),Dn.red=new Dn(1,0,0,1);var kn=function(E,F,K){this.sensitivity=E?F?"variant":"case":F?"accent":"base",this.locale=K,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};kn.prototype.compare=function(E,F){return this.collator.compare(E,F)},kn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Bn=function(E,F,K,fe,ke){this.text=E,this.image=F,this.scale=K,this.fontStack=fe,this.textColor=ke},Rn=function(E){this.sections=E};Rn.fromString=function(E){return new Rn([new Bn(E,null,null,null,null)])},Rn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(E){return E.text.length!==0||E.image&&E.image.name.length!==0})},Rn.factory=function(E){return E instanceof Rn?E:Rn.fromString(E)},Rn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(E){return E.text}).join("")},Rn.prototype.serialize=function(){for(var E=["format"],F=0,K=this.sections;F<K.length;F+=1){var fe=K[F];if(fe.image)E.push(["image",fe.image.name]);else{E.push(fe.text);var ke={};fe.fontStack&&(ke["text-font"]=["literal",fe.fontStack.split(",")]),fe.scale&&(ke["font-scale"]=fe.scale),fe.textColor&&(ke["text-color"]=["rgba"].concat(fe.textColor.toArray())),E.push(ke)}}return E};var Kn=function(E){this.name=E.name,this.available=E.available};function Gn(E,F,K,fe){return typeof E=="number"&&E>=0&&E<=255&&typeof F=="number"&&F>=0&&F<=255&&typeof K=="number"&&K>=0&&K<=255?fe===void 0||typeof fe=="number"&&fe>=0&&fe<=1?null:"Invalid rgba value ["+[E,F,K,fe].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof fe=="number"?[E,F,K,fe]:[E,F,K]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function nr(E){if(E===null||typeof E=="string"||typeof E=="boolean"||typeof E=="number"||E instanceof Dn||E instanceof kn||E instanceof Rn||E instanceof Kn)return!0;if(Array.isArray(E)){for(var F=0,K=E;F<K.length;F+=1)if(!nr(K[F]))return!1;return!0}if(typeof E=="object"){for(var fe in E)if(!nr(E[fe]))return!1;return!0}return!1}function $n(E){if(E===null)return Lt;if(typeof E=="string")return Ft;if(typeof E=="boolean")return $t;if(typeof E=="number")return Ot;if(E instanceof Dn)return on;if(E instanceof kn)return jt;if(E instanceof Rn)return Ln;if(E instanceof Kn)return Tn;if(Array.isArray(E)){for(var F,K=E.length,fe=0,ke=E;fe<ke.length;fe+=1){var Pe=$n(ke[fe]);if(F){if(F===Pe)continue;F=Zt;break}F=Pe}return gn(F||Zt,K)}return Ht}function fr(E){var F=typeof E;return E===null?"":F==="string"||F==="number"||F==="boolean"?String(E):E instanceof Dn||E instanceof Rn||E instanceof Kn?E.toString():JSON.stringify(E)}Kn.prototype.toString=function(){return this.name},Kn.fromString=function(E){return E?new Kn({name:E,available:!1}):null},Kn.prototype.serialize=function(){return["image",this.name]};var en=function(E,F){this.type=E,this.value=F};en.parse=function(E,F){if(E.length!==2)return F.error("'literal' expression requires exactly one argument, but found "+(E.length-1)+" instead.");if(!nr(E[1]))return F.error("invalid value");var K=E[1],fe=$n(K),ke=F.expectedType;return fe.kind!=="array"||fe.N!==0||!ke||ke.kind!=="array"||typeof ke.N=="number"&&ke.N!==0||(fe=ke),new en(fe,K)},en.prototype.evaluate=function(){return this.value},en.prototype.eachChild=function(){},en.prototype.outputDefined=function(){return!0},en.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Dn?["rgba"].concat(this.value.toArray()):this.value instanceof Rn?this.value.serialize():this.value};var rn=function(E){this.name="ExpressionEvaluationError",this.message=E};rn.prototype.toJSON=function(){return this.message};var Cn={string:Ft,number:Ot,boolean:$t,object:Ht},mn=function(E,F){this.type=E,this.args=F};mn.parse=function(E,F){if(E.length<2)return F.error("Expected at least one argument.");var K,fe=1,ke=E[0];if(ke==="array"){var Pe,He;if(E.length>2){var Qe=E[1];if(typeof Qe!="string"||!(Qe in Cn)||Qe==="object")return F.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=Cn[Qe],fe++}else Pe=Zt;if(E.length>3){if(E[2]!==null&&(typeof E[2]!="number"||E[2]<0||E[2]!==Math.floor(E[2])))return F.error('The length argument to "array" must be a positive integer literal',2);He=E[2],fe++}K=gn(Pe,He)}else K=Cn[ke];for(var ct=[];fe<E.length;fe++){var _t=F.parse(E[fe],fe,Zt);if(!_t)return null;ct.push(_t)}return new mn(K,ct)},mn.prototype.evaluate=function(E){for(var F=0;F<this.args.length;F++){var K=this.args[F].evaluate(E);if(!nn(this.type,$n(K)))return K;if(F===this.args.length-1)throw new rn("Expected value to be of type "+Qt(this.type)+", but found "+Qt($n(K))+" instead.")}return null},mn.prototype.eachChild=function(E){this.args.forEach(E)},mn.prototype.outputDefined=function(){return this.args.every(function(E){return E.outputDefined()})},mn.prototype.serialize=function(){var E=this.type,F=[E.kind];if(E.kind==="array"){var K=E.itemType;if(K.kind==="string"||K.kind==="number"||K.kind==="boolean"){F.push(K.kind);var fe=E.N;(typeof fe=="number"||this.args.length>1)&&F.push(fe)}}return F.concat(this.args.map(function(ke){return ke.serialize()}))};var On=function(E){this.type=Ln,this.sections=E};On.parse=function(E,F){if(E.length<2)return F.error("Expected at least one argument.");var K=E[1];if(!Array.isArray(K)&&typeof K=="object")return F.error("First argument must be an image or text section.");for(var fe=[],ke=!1,Pe=1;Pe<=E.length-1;++Pe){var He=E[Pe];if(ke&&typeof He=="object"&&!Array.isArray(He)){ke=!1;var Qe=null;if(He["font-scale"]&&!(Qe=F.parse(He["font-scale"],1,Ot)))return null;var ct=null;if(He["text-font"]&&!(ct=F.parse(He["text-font"],1,gn(Ft))))return null;var _t=null;if(He["text-color"]&&!(_t=F.parse(He["text-color"],1,on)))return null;var Tt=fe[fe.length-1];Tt.scale=Qe,Tt.font=ct,Tt.textColor=_t}else{var Nt=F.parse(E[Pe],1,Zt);if(!Nt)return null;var qt=Nt.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return F.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");ke=!0,fe.push({content:Nt,scale:null,font:null,textColor:null})}}return new On(fe)},On.prototype.evaluate=function(E){return new Rn(this.sections.map(function(F){var K=F.content.evaluate(E);return $n(K)===Tn?new Bn("",K,null,null,null):new Bn(fr(K),null,F.scale?F.scale.evaluate(E):null,F.font?F.font.evaluate(E).join(","):null,F.textColor?F.textColor.evaluate(E):null)}))},On.prototype.eachChild=function(E){for(var F=0,K=this.sections;F<K.length;F+=1){var fe=K[F];E(fe.content),fe.scale&&E(fe.scale),fe.font&&E(fe.font),fe.textColor&&E(fe.textColor)}},On.prototype.outputDefined=function(){return!1},On.prototype.serialize=function(){for(var E=["format"],F=0,K=this.sections;F<K.length;F+=1){var fe=K[F];E.push(fe.content.serialize());var ke={};fe.scale&&(ke["font-scale"]=fe.scale.serialize()),fe.font&&(ke["text-font"]=fe.font.serialize()),fe.textColor&&(ke["text-color"]=fe.textColor.serialize()),E.push(ke)}return E};var Hn=function(E){this.type=Tn,this.input=E};Hn.parse=function(E,F){if(E.length!==2)return F.error("Expected two arguments.");var K=F.parse(E[1],1,Ft);return K?new Hn(K):F.error("No image name provided.")},Hn.prototype.evaluate=function(E){var F=this.input.evaluate(E),K=Kn.fromString(F);return K&&E.availableImages&&(K.available=E.availableImages.indexOf(F)>-1),K},Hn.prototype.eachChild=function(E){E(this.input)},Hn.prototype.outputDefined=function(){return!1},Hn.prototype.serialize=function(){return["image",this.input.serialize()]};var Un={"to-boolean":$t,"to-color":on,"to-number":Ot,"to-string":Ft},Zn=function(E,F){this.type=E,this.args=F};Zn.parse=function(E,F){if(E.length<2)return F.error("Expected at least one argument.");var K=E[0];if((K==="to-boolean"||K==="to-string")&&E.length!==2)return F.error("Expected one argument.");for(var fe=Un[K],ke=[],Pe=1;Pe<E.length;Pe++){var He=F.parse(E[Pe],Pe,Zt);if(!He)return null;ke.push(He)}return new Zn(fe,ke)},Zn.prototype.evaluate=function(E){if(this.type.kind==="boolean")return!!this.args[0].evaluate(E);if(this.type.kind==="color"){for(var F,K,fe=0,ke=this.args;fe<ke.length;fe+=1){if(K=null,(F=ke[fe].evaluate(E))instanceof Dn)return F;if(typeof F=="string"){var Pe=E.parseColor(F);if(Pe)return Pe}else if(Array.isArray(F)&&!(K=F.length<3||F.length>4?"Invalid rbga value "+JSON.stringify(F)+": expected an array containing either three or four numeric values.":Gn(F[0],F[1],F[2],F[3])))return new Dn(F[0]/255,F[1]/255,F[2]/255,F[3])}throw new rn(K||"Could not parse color from value '"+(typeof F=="string"?F:String(JSON.stringify(F)))+"'")}if(this.type.kind==="number"){for(var He=null,Qe=0,ct=this.args;Qe<ct.length;Qe+=1){if((He=ct[Qe].evaluate(E))===null)return 0;var _t=Number(He);if(!isNaN(_t))return _t}throw new rn("Could not convert "+JSON.stringify(He)+" to number.")}return this.type.kind==="formatted"?Rn.fromString(fr(this.args[0].evaluate(E))):this.type.kind==="resolvedImage"?Kn.fromString(fr(this.args[0].evaluate(E))):fr(this.args[0].evaluate(E))},Zn.prototype.eachChild=function(E){this.args.forEach(E)},Zn.prototype.outputDefined=function(){return this.args.every(function(E){return E.outputDefined()})},Zn.prototype.serialize=function(){if(this.type.kind==="formatted")return new On([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Hn(this.args[0]).serialize();var E=["to-"+this.type.kind];return this.eachChild(function(F){E.push(F.serialize())}),E};var pr=["Unknown","Point","LineString","Polygon"],Kt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Kt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Kt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?pr[this.feature.type]:this.feature.type:null},Kt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Kt.prototype.canonicalID=function(){return this.canonical},Kt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Kt.prototype.parseColor=function(E){var F=this._parseColorCache[E];return F||(F=this._parseColorCache[E]=Dn.parse(E)),F};var vn=function(E,F,K,fe){this.name=E,this.type=F,this._evaluate=K,this.args=fe};vn.prototype.evaluate=function(E){return this._evaluate(E,this.args)},vn.prototype.eachChild=function(E){this.args.forEach(E)},vn.prototype.outputDefined=function(){return!1},vn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(E){return E.serialize()}))},vn.parse=function(E,F){var K,fe=E[0],ke=vn.definitions[fe];if(!ke)return F.error('Unknown expression "'+fe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(ke)?ke[0]:ke.type,He=Array.isArray(ke)?[[ke[1],ke[2]]]:ke.overloads,Qe=He.filter(function(Hr){var Ir=Hr[0];return!Array.isArray(Ir)||Ir.length===E.length-1}),ct=null,_t=0,Tt=Qe;_t<Tt.length;_t+=1){var Nt=Tt[_t],qt=Nt[0],Ut=Nt[1];ct=new gr(F.registry,F.path,null,F.scope);for(var an=[],un=!1,Mn=1;Mn<E.length;Mn++){var _n=E[Mn],Fn=Array.isArray(qt)?qt[Mn-1]:qt.type,zn=ct.parse(_n,1+an.length,Fn);if(!zn){un=!0;break}an.push(zn)}if(!un)if(Array.isArray(qt)&&qt.length!==an.length)ct.error("Expected "+qt.length+" arguments, but found "+an.length+" instead.");else{for(var qn=0;qn<an.length;qn++){var Xn=Array.isArray(qt)?qt[qn]:qt.type,or=an[qn];ct.concat(qn+1).checkSubtype(Xn,or.type)}if(ct.errors.length===0)return new vn(fe,Pe,Ut,an)}}if(Qe.length===1)(K=F.errors).push.apply(K,ct.errors);else{for(var vr=(Qe.length?Qe:He).map(function(Hr){return Ir=Hr[0],Array.isArray(Ir)?"("+Ir.map(Qt).join(", ")+")":"("+Qt(Ir.type)+"...)";var Ir}).join(" | "),dr=[],_r=1;_r<E.length;_r++){var Tr=F.parse(E[_r],1+dr.length);if(!Tr)return null;dr.push(Qt(Tr.type))}F.error("Expected arguments of type "+vr+", but found ("+dr.join(", ")+") instead.")}return null},vn.register=function(E,F){for(var K in vn.definitions=F,F)E[K]=vn};var Dt=function(E,F,K){this.type=jt,this.locale=K,this.caseSensitive=E,this.diacriticSensitive=F};Dt.parse=function(E,F){if(E.length!==2)return F.error("Expected one argument.");var K=E[1];if(typeof K!="object"||Array.isArray(K))return F.error("Collator options argument must be an object.");var fe=F.parse(K["case-sensitive"]!==void 0&&K["case-sensitive"],1,$t);if(!fe)return null;var ke=F.parse(K["diacritic-sensitive"]!==void 0&&K["diacritic-sensitive"],1,$t);if(!ke)return null;var Pe=null;return K.locale&&!(Pe=F.parse(K.locale,1,Ft))?null:new Dt(fe,ke,Pe)},Dt.prototype.evaluate=function(E){return new kn(this.caseSensitive.evaluate(E),this.diacriticSensitive.evaluate(E),this.locale?this.locale.evaluate(E):null)},Dt.prototype.eachChild=function(E){E(this.caseSensitive),E(this.diacriticSensitive),this.locale&&E(this.locale)},Dt.prototype.outputDefined=function(){return!1},Dt.prototype.serialize=function(){var E={};return E["case-sensitive"]=this.caseSensitive.serialize(),E["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(E.locale=this.locale.serialize()),["collator",E]};var Bt=8192;function Jt(E,F){E[0]=Math.min(E[0],F[0]),E[1]=Math.min(E[1],F[1]),E[2]=Math.max(E[2],F[0]),E[3]=Math.max(E[3],F[1])}function fn(E,F){return!(E[0]<=F[0]||E[2]>=F[2]||E[1]<=F[1]||E[3]>=F[3])}function dn(E,F){var K,fe=(180+E[0])/360,ke=(K=E[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+K*Math.PI/360)))/360),Pe=Math.pow(2,F.z);return[Math.round(fe*Pe*Bt),Math.round(ke*Pe*Bt)]}function xn(E,F,K){return F[1]>E[1]!=K[1]>E[1]&&E[0]<(K[0]-F[0])*(E[1]-F[1])/(K[1]-F[1])+F[0]}function sn(E,F){for(var K=!1,fe=0,ke=F.length;fe<ke;fe++)for(var Pe=F[fe],He=0,Qe=Pe.length;He<Qe-1;He++){if(ct=E,_t=Pe[He],Tt=Pe[He+1],Nt=void 0,qt=void 0,Ut=void 0,an=void 0,Nt=ct[0]-_t[0],qt=ct[1]-_t[1],Ut=ct[0]-Tt[0],an=ct[1]-Tt[1],Nt*an-Ut*qt==0&&Nt*Ut<=0&&qt*an<=0)return!1;xn(E,Pe[He],Pe[He+1])&&(K=!K)}var ct,_t,Tt,Nt,qt,Ut,an;return K}function Yt(E,F){for(var K=0;K<F.length;K++)if(sn(E,F[K]))return!0;return!1}function Wt(E,F,K,fe){var ke=E[0]-K[0],Pe=E[1]-K[1],He=F[0]-K[0],Qe=F[1]-K[1],ct=fe[0]-K[0],_t=fe[1]-K[1],Tt=ke*_t-ct*Pe,Nt=He*_t-ct*Qe;return Tt>0&&Nt<0||Tt<0&&Nt>0}function tn(E,F,K){for(var fe=0,ke=K;fe<ke.length;fe+=1)for(var Pe=ke[fe],He=0;He<Pe.length-1;++He)if(Qe=E,ct=F,_t=Pe[He],Tt=Pe[He+1],Nt=void 0,qt=void 0,Ut=void 0,Ut=[ct[0]-Qe[0],ct[1]-Qe[1]],Nt=[Tt[0]-_t[0],Tt[1]-_t[1]],qt=Ut,Nt[0]*qt[1]-Nt[1]*qt[0]!=0&&Wt(Qe,ct,_t,Tt)&&Wt(_t,Tt,Qe,ct))return!0;var Qe,ct,_t,Tt,Nt,qt,Ut;return!1}function ln(E,F){for(var K=0;K<E.length;++K)if(!sn(E[K],F))return!1;for(var fe=0;fe<E.length-1;++fe)if(tn(E[fe],E[fe+1],F))return!1;return!0}function An(E,F){for(var K=0;K<F.length;K++)if(ln(E,F[K]))return!0;return!1}function In(E,F,K){for(var fe=[],ke=0;ke<E.length;ke++){for(var Pe=[],He=0;He<E[ke].length;He++){var Qe=dn(E[ke][He],K);Jt(F,Qe),Pe.push(Qe)}fe.push(Pe)}return fe}function Nn(E,F,K){for(var fe=[],ke=0;ke<E.length;ke++){var Pe=In(E[ke],F,K);fe.push(Pe)}return fe}function jn(E,F,K,fe){if(E[0]<K[0]||E[0]>K[2]){var ke=.5*fe,Pe=E[0]-K[0]>ke?-fe:K[0]-E[0]>ke?fe:0;Pe===0&&(Pe=E[0]-K[2]>ke?-fe:K[2]-E[0]>ke?fe:0),E[0]+=Pe}Jt(F,E)}function er(E,F,K,fe){for(var ke=Math.pow(2,fe.z)*Bt,Pe=[fe.x*Bt,fe.y*Bt],He=[],Qe=0,ct=E;Qe<ct.length;Qe+=1)for(var _t=0,Tt=ct[Qe];_t<Tt.length;_t+=1){var Nt=Tt[_t],qt=[Nt.x+Pe[0],Nt.y+Pe[1]];jn(qt,F,K,ke),He.push(qt)}return He}function Wn(E,F,K,fe){for(var ke=Math.pow(2,fe.z)*Bt,Pe=[fe.x*Bt,fe.y*Bt],He=[],Qe=0,ct=E;Qe<ct.length;Qe+=1){for(var _t=[],Tt=0,Nt=ct[Qe];Tt<Nt.length;Tt+=1){var qt=Nt[Tt],Ut=[qt.x+Pe[0],qt.y+Pe[1]];Jt(F,Ut),_t.push(Ut)}He.push(_t)}if(F[2]-F[0]<=ke/2){(Fn=F)[0]=Fn[1]=1/0,Fn[2]=Fn[3]=-1/0;for(var an=0,un=He;an<un.length;an+=1)for(var Mn=0,_n=un[an];Mn<_n.length;Mn+=1)jn(_n[Mn],F,K,ke)}var Fn;return He}var Jn=function(E,F){this.type=$t,this.geojson=E,this.geometries=F};function rr(E){if(E instanceof vn&&(E.name==="get"&&E.args.length===1||E.name==="feature-state"||E.name==="has"&&E.args.length===1||E.name==="properties"||E.name==="geometry-type"||E.name==="id"||/^filter-/.test(E.name))||E instanceof Jn)return!1;var F=!0;return E.eachChild(function(K){F&&!rr(K)&&(F=!1)}),F}function Qn(E){if(E instanceof vn&&E.name==="feature-state")return!1;var F=!0;return E.eachChild(function(K){F&&!Qn(K)&&(F=!1)}),F}function hr(E,F){if(E instanceof vn&&F.indexOf(E.name)>=0)return!1;var K=!0;return E.eachChild(function(fe){K&&!hr(fe,F)&&(K=!1)}),K}Jn.parse=function(E,F){if(E.length!==2)return F.error("'within' expression requires exactly one argument, but found "+(E.length-1)+" instead.");if(nr(E[1])){var K=E[1];if(K.type==="FeatureCollection")for(var fe=0;fe<K.features.length;++fe){var ke=K.features[fe].geometry.type;if(ke==="Polygon"||ke==="MultiPolygon")return new Jn(K,K.features[fe].geometry)}else if(K.type==="Feature"){var Pe=K.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new Jn(K,K.geometry)}else if(K.type==="Polygon"||K.type==="MultiPolygon")return new Jn(K,K)}return F.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Jn.prototype.evaluate=function(E){if(E.geometry()!=null&&E.canonicalID()!=null){if(E.geometryType()==="Point")return function(F,K){var fe=[1/0,1/0,-1/0,-1/0],ke=[1/0,1/0,-1/0,-1/0],Pe=F.canonicalID();if(K.type==="Polygon"){var He=In(K.coordinates,ke,Pe),Qe=er(F.geometry(),fe,ke,Pe);if(!fn(fe,ke))return!1;for(var ct=0,_t=Qe;ct<_t.length;ct+=1)if(!sn(_t[ct],He))return!1}if(K.type==="MultiPolygon"){var Tt=Nn(K.coordinates,ke,Pe),Nt=er(F.geometry(),fe,ke,Pe);if(!fn(fe,ke))return!1;for(var qt=0,Ut=Nt;qt<Ut.length;qt+=1)if(!Yt(Ut[qt],Tt))return!1}return!0}(E,this.geometries);if(E.geometryType()==="LineString")return function(F,K){var fe=[1/0,1/0,-1/0,-1/0],ke=[1/0,1/0,-1/0,-1/0],Pe=F.canonicalID();if(K.type==="Polygon"){var He=In(K.coordinates,ke,Pe),Qe=Wn(F.geometry(),fe,ke,Pe);if(!fn(fe,ke))return!1;for(var ct=0,_t=Qe;ct<_t.length;ct+=1)if(!ln(_t[ct],He))return!1}if(K.type==="MultiPolygon"){var Tt=Nn(K.coordinates,ke,Pe),Nt=Wn(F.geometry(),fe,ke,Pe);if(!fn(fe,ke))return!1;for(var qt=0,Ut=Nt;qt<Ut.length;qt+=1)if(!An(Ut[qt],Tt))return!1}return!0}(E,this.geometries)}return!1},Jn.prototype.eachChild=function(){},Jn.prototype.outputDefined=function(){return!0},Jn.prototype.serialize=function(){return["within",this.geojson]};var br=function(E,F){this.type=F.type,this.name=E,this.boundExpression=F};br.parse=function(E,F){if(E.length!==2||typeof E[1]!="string")return F.error("'var' expression requires exactly one string literal argument.");var K=E[1];return F.scope.has(K)?new br(K,F.scope.get(K)):F.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)},br.prototype.evaluate=function(E){return this.boundExpression.evaluate(E)},br.prototype.eachChild=function(){},br.prototype.outputDefined=function(){return!1},br.prototype.serialize=function(){return["var",this.name]};var gr=function(E,F,K,fe,ke){F===void 0&&(F=[]),fe===void 0&&(fe=new St),ke===void 0&&(ke=[]),this.registry=E,this.path=F,this.key=F.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=fe,this.errors=ke,this.expectedType=K};function ar(E){if(E instanceof br)return ar(E.boundExpression);if(E instanceof vn&&E.name==="error"||E instanceof Dt||E instanceof Jn)return!1;var F=E instanceof Zn||E instanceof mn,K=!0;return E.eachChild(function(fe){K=F?K&&ar(fe):K&&fe instanceof en}),!!K&&rr(E)&&hr(E,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function mr(E,F){for(var K,fe,ke=E.length-1,Pe=0,He=ke,Qe=0;Pe<=He;)if(K=E[Qe=Math.floor((Pe+He)/2)],fe=E[Qe+1],K<=F){if(Qe===ke||F<fe)return Qe;Pe=Qe+1}else{if(!(K>F))throw new rn("Input is not a number.");He=Qe-1}return 0}gr.prototype.parse=function(E,F,K,fe,ke){return ke===void 0&&(ke={}),F?this.concat(F,K,fe)._parse(E,ke):this._parse(E,ke)},gr.prototype._parse=function(E,F){function K(_t,Tt,Nt){return Nt==="assert"?new mn(Tt,[_t]):Nt==="coerce"?new Zn(Tt,[_t]):_t}if(E!==null&&typeof E!="string"&&typeof E!="boolean"&&typeof E!="number"||(E=["literal",E]),Array.isArray(E)){if(E.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var fe=E[0];if(typeof fe!="string")return this.error("Expression name must be a string, but found "+typeof fe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var ke=this.registry[fe];if(ke){var Pe=ke.parse(E,this);if(!Pe)return null;if(this.expectedType){var He=this.expectedType,Qe=Pe.type;if(He.kind!=="string"&&He.kind!=="number"&&He.kind!=="boolean"&&He.kind!=="object"&&He.kind!=="array"||Qe.kind!=="value")if(He.kind!=="color"&&He.kind!=="formatted"&&He.kind!=="resolvedImage"||Qe.kind!=="value"&&Qe.kind!=="string"){if(this.checkSubtype(He,Qe))return null}else Pe=K(Pe,He,F.typeAnnotation||"coerce");else Pe=K(Pe,He,F.typeAnnotation||"assert")}if(!(Pe instanceof en)&&Pe.type.kind!=="resolvedImage"&&ar(Pe)){var ct=new Kt;try{Pe=new en(Pe.type,Pe.evaluate(ct))}catch(_t){return this.error(_t.message),null}}return Pe}return this.error('Unknown expression "'+fe+'". If you wanted a literal array, use ["literal", [...]].',0)}return E===void 0?this.error("'undefined' value invalid. Use null instead."):typeof E=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof E+" instead.")},gr.prototype.concat=function(E,F,K){var fe=typeof E=="number"?this.path.concat(E):this.path,ke=K?this.scope.concat(K):this.scope;return new gr(this.registry,fe,F||null,ke,this.errors)},gr.prototype.error=function(E){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];var fe=""+this.key+F.map(function(ke){return"["+ke+"]"}).join("");this.errors.push(new bt(fe,E))},gr.prototype.checkSubtype=function(E,F){var K=nn(E,F);return K&&this.error(K),K};var kr=function(E,F,K){this.type=E,this.input=F,this.labels=[],this.outputs=[];for(var fe=0,ke=K;fe<ke.length;fe+=1){var Pe=ke[fe],He=Pe[0],Qe=Pe[1];this.labels.push(He),this.outputs.push(Qe)}};function Rr(E,F,K){return E*(1-K)+F*K}kr.parse=function(E,F){if(E.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(E.length-1)+".");if((E.length-1)%2!=0)return F.error("Expected an even number of arguments.");var K=F.parse(E[1],1,Ot);if(!K)return null;var fe=[],ke=null;F.expectedType&&F.expectedType.kind!=="value"&&(ke=F.expectedType);for(var Pe=1;Pe<E.length;Pe+=2){var He=Pe===1?-1/0:E[Pe],Qe=E[Pe+1],ct=Pe,_t=Pe+1;if(typeof He!="number")return F.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ct);if(fe.length&&fe[fe.length-1][0]>=He)return F.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ct);var Tt=F.parse(Qe,_t,ke);if(!Tt)return null;ke=ke||Tt.type,fe.push([He,Tt])}return new kr(ke,K,fe)},kr.prototype.evaluate=function(E){var F=this.labels,K=this.outputs;if(F.length===1)return K[0].evaluate(E);var fe=this.input.evaluate(E);if(fe<=F[0])return K[0].evaluate(E);var ke=F.length;return fe>=F[ke-1]?K[ke-1].evaluate(E):K[mr(F,fe)].evaluate(E)},kr.prototype.eachChild=function(E){E(this.input);for(var F=0,K=this.outputs;F<K.length;F+=1)E(K[F])},kr.prototype.outputDefined=function(){return this.outputs.every(function(E){return E.outputDefined()})},kr.prototype.serialize=function(){for(var E=["step",this.input.serialize()],F=0;F<this.labels.length;F++)F>0&&E.push(this.labels[F]),E.push(this.outputs[F].serialize());return E};var Si=Object.freeze({__proto__:null,number:Rr,color:function(E,F,K){return new Dn(Rr(E.r,F.r,K),Rr(E.g,F.g,K),Rr(E.b,F.b,K),Rr(E.a,F.a,K))},array:function(E,F,K){return E.map(function(fe,ke){return Rr(fe,F[ke],K)})}}),Ei=.95047,io=1,Ai=1.08883,Vi=4/29,zo=6/29,Nr=3*zo*zo,co=zo*zo*zo,ua=Math.PI/180,ao=180/Math.PI;function es(E){return E>co?Math.pow(E,.3333333333333333):E/Nr+Vi}function ms(E){return E>zo?E*E*E:Nr*(E-Vi)}function Ao(E){return 255*(E<=.0031308?12.92*E:1.055*Math.pow(E,.4166666666666667)-.055)}function Ba(E){return(E/=255)<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)}function ja(E){var F=Ba(E.r),K=Ba(E.g),fe=Ba(E.b),ke=es((.4124564*F+.3575761*K+.1804375*fe)/Ei),Pe=es((.2126729*F+.7151522*K+.072175*fe)/io);return{l:116*Pe-16,a:500*(ke-Pe),b:200*(Pe-es((.0193339*F+.119192*K+.9503041*fe)/Ai)),alpha:E.a}}function vs(E){var F=(E.l+16)/116,K=isNaN(E.a)?F:F+E.a/500,fe=isNaN(E.b)?F:F-E.b/200;return F=io*ms(F),K=Ei*ms(K),fe=Ai*ms(fe),new Dn(Ao(3.2404542*K-1.5371385*F-.4985314*fe),Ao(-.969266*K+1.8760108*F+.041556*fe),Ao(.0556434*K-.2040259*F+1.0572252*fe),E.alpha)}function ca(E,F,K){var fe=F-E;return E+K*(fe>180||fe<-180?fe-360*Math.round(fe/360):fe)}var _a={forward:ja,reverse:vs,interpolate:function(E,F,K){return{l:Rr(E.l,F.l,K),a:Rr(E.a,F.a,K),b:Rr(E.b,F.b,K),alpha:Rr(E.alpha,F.alpha,K)}}},wa={forward:function(E){var F=ja(E),K=F.l,fe=F.a,ke=F.b,Pe=Math.atan2(ke,fe)*ao;return{h:Pe<0?Pe+360:Pe,c:Math.sqrt(fe*fe+ke*ke),l:K,alpha:E.a}},reverse:function(E){var F=E.h*ua,K=E.c;return vs({l:E.l,a:Math.cos(F)*K,b:Math.sin(F)*K,alpha:E.alpha})},interpolate:function(E,F,K){return{h:ca(E.h,F.h,K),c:Rr(E.c,F.c,K),l:Rr(E.l,F.l,K),alpha:Rr(E.alpha,F.alpha,K)}}},wi=Object.freeze({__proto__:null,lab:_a,hcl:wa}),fo=function(E,F,K,fe,ke){this.type=E,this.operator=F,this.interpolation=K,this.input=fe,this.labels=[],this.outputs=[];for(var Pe=0,He=ke;Pe<He.length;Pe+=1){var Qe=He[Pe],ct=Qe[0],_t=Qe[1];this.labels.push(ct),this.outputs.push(_t)}};function ts(E,F,K,fe){var ke=fe-K,Pe=E-K;return ke===0?0:F===1?Pe/ke:(Math.pow(F,Pe)-1)/(Math.pow(F,ke)-1)}fo.interpolationFactor=function(E,F,K,fe){var ke=0;if(E.name==="exponential")ke=ts(F,E.base,K,fe);else if(E.name==="linear")ke=ts(F,1,K,fe);else if(E.name==="cubic-bezier"){var Pe=E.controlPoints;ke=new f(Pe[0],Pe[1],Pe[2],Pe[3]).solve(ts(F,1,K,fe))}return ke},fo.parse=function(E,F){var K=E[0],fe=E[1],ke=E[2],Pe=E.slice(3);if(!Array.isArray(fe)||fe.length===0)return F.error("Expected an interpolation type expression.",1);if(fe[0]==="linear")fe={name:"linear"};else if(fe[0]==="exponential"){var He=fe[1];if(typeof He!="number")return F.error("Exponential interpolation requires a numeric base.",1,1);fe={name:"exponential",base:He}}else{if(fe[0]!=="cubic-bezier")return F.error("Unknown interpolation type "+String(fe[0]),1,0);var Qe=fe.slice(1);if(Qe.length!==4||Qe.some(function(Mn){return typeof Mn!="number"||Mn<0||Mn>1}))return F.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);fe={name:"cubic-bezier",controlPoints:Qe}}if(E.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(E.length-1)+".");if((E.length-1)%2!=0)return F.error("Expected an even number of arguments.");if(!(ke=F.parse(ke,2,Ot)))return null;var ct=[],_t=null;K==="interpolate-hcl"||K==="interpolate-lab"?_t=on:F.expectedType&&F.expectedType.kind!=="value"&&(_t=F.expectedType);for(var Tt=0;Tt<Pe.length;Tt+=2){var Nt=Pe[Tt],qt=Pe[Tt+1],Ut=Tt+3,an=Tt+4;if(typeof Nt!="number")return F.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ut);if(ct.length&&ct[ct.length-1][0]>=Nt)return F.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ut);var un=F.parse(qt,an,_t);if(!un)return null;_t=_t||un.type,ct.push([Nt,un])}return _t.kind==="number"||_t.kind==="color"||_t.kind==="array"&&_t.itemType.kind==="number"&&typeof _t.N=="number"?new fo(_t,K,fe,ke,ct):F.error("Type "+Qt(_t)+" is not interpolatable.")},fo.prototype.evaluate=function(E){var F=this.labels,K=this.outputs;if(F.length===1)return K[0].evaluate(E);var fe=this.input.evaluate(E);if(fe<=F[0])return K[0].evaluate(E);var ke=F.length;if(fe>=F[ke-1])return K[ke-1].evaluate(E);var Pe=mr(F,fe),He=F[Pe],Qe=F[Pe+1],ct=fo.interpolationFactor(this.interpolation,fe,He,Qe),_t=K[Pe].evaluate(E),Tt=K[Pe+1].evaluate(E);return this.operator==="interpolate"?Si[this.type.kind.toLowerCase()](_t,Tt,ct):this.operator==="interpolate-hcl"?wa.reverse(wa.interpolate(wa.forward(_t),wa.forward(Tt),ct)):_a.reverse(_a.interpolate(_a.forward(_t),_a.forward(Tt),ct))},fo.prototype.eachChild=function(E){E(this.input);for(var F=0,K=this.outputs;F<K.length;F+=1)E(K[F])},fo.prototype.outputDefined=function(){return this.outputs.every(function(E){return E.outputDefined()})},fo.prototype.serialize=function(){var E;E=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var F=[this.operator,E,this.input.serialize()],K=0;K<this.labels.length;K++)F.push(this.labels[K],this.outputs[K].serialize());return F};var Ua=function(E,F){this.type=E,this.args=F};Ua.parse=function(E,F){if(E.length<2)return F.error("Expectected at least one argument.");var K=null,fe=F.expectedType;fe&&fe.kind!=="value"&&(K=fe);for(var ke=[],Pe=0,He=E.slice(1);Pe<He.length;Pe+=1){var Qe=He[Pe],ct=F.parse(Qe,1+ke.length,K,void 0,{typeAnnotation:"omit"});if(!ct)return null;K=K||ct.type,ke.push(ct)}var _t=fe&&ke.some(function(Tt){return nn(fe,Tt.type)});return new Ua(_t?Zt:K,ke)},Ua.prototype.evaluate=function(E){for(var F,K=null,fe=0,ke=0,Pe=this.args;ke<Pe.length&&(fe++,(K=Pe[ke].evaluate(E))&&K instanceof Kn&&!K.available&&(F||(F=K.name),K=null,fe===this.args.length&&(K=F)),K===null);ke+=1);return K},Ua.prototype.eachChild=function(E){this.args.forEach(E)},Ua.prototype.outputDefined=function(){return this.args.every(function(E){return E.outputDefined()})},Ua.prototype.serialize=function(){var E=["coalesce"];return this.eachChild(function(F){E.push(F.serialize())}),E};var Ta=function(E,F){this.type=F.type,this.bindings=[].concat(E),this.result=F};Ta.prototype.evaluate=function(E){return this.result.evaluate(E)},Ta.prototype.eachChild=function(E){for(var F=0,K=this.bindings;F<K.length;F+=1)E(K[F][1]);E(this.result)},Ta.parse=function(E,F){if(E.length<4)return F.error("Expected at least 3 arguments, but found "+(E.length-1)+" instead.");for(var K=[],fe=1;fe<E.length-1;fe+=2){var ke=E[fe];if(typeof ke!="string")return F.error("Expected string, but found "+typeof ke+" instead.",fe);if(/[^a-zA-Z0-9_]/.test(ke))return F.error("Variable names must contain only alphanumeric characters or '_'.",fe);var Pe=F.parse(E[fe+1],fe+1);if(!Pe)return null;K.push([ke,Pe])}var He=F.parse(E[E.length-1],E.length-1,F.expectedType,K);return He?new Ta(K,He):null},Ta.prototype.outputDefined=function(){return this.result.outputDefined()},Ta.prototype.serialize=function(){for(var E=["let"],F=0,K=this.bindings;F<K.length;F+=1){var fe=K[F],ke=fe[0],Pe=fe[1];E.push(ke,Pe.serialize())}return E.push(this.result.serialize()),E};var ys=function(E,F,K){this.type=E,this.index=F,this.input=K};ys.parse=function(E,F){if(E.length!==3)return F.error("Expected 2 arguments, but found "+(E.length-1)+" instead.");var K=F.parse(E[1],1,Ot),fe=F.parse(E[2],2,gn(F.expectedType||Zt));if(!K||!fe)return null;var ke=fe.type;return new ys(ke.itemType,K,fe)},ys.prototype.evaluate=function(E){var F=this.index.evaluate(E),K=this.input.evaluate(E);if(F<0)throw new rn("Array index out of bounds: "+F+" < 0.");if(F>=K.length)throw new rn("Array index out of bounds: "+F+" > "+(K.length-1)+".");if(F!==Math.floor(F))throw new rn("Array index must be an integer, but found "+F+" instead.");return K[F]},ys.prototype.eachChild=function(E){E(this.index),E(this.input)},ys.prototype.outputDefined=function(){return!1},ys.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Va=function(E,F){this.type=$t,this.needle=E,this.haystack=F};Va.parse=function(E,F){if(E.length!==3)return F.error("Expected 2 arguments, but found "+(E.length-1)+" instead.");var K=F.parse(E[1],1,Zt),fe=F.parse(E[2],2,Zt);return K&&fe?hn(K.type,[$t,Ft,Ot,Lt,Zt])?new Va(K,fe):F.error("Expected first argument to be of type boolean, string, number or null, but found "+Qt(K.type)+" instead"):null},Va.prototype.evaluate=function(E){var F=this.needle.evaluate(E),K=this.haystack.evaluate(E);if(!K)return!1;if(!bn(F,["boolean","string","number","null"]))throw new rn("Expected first argument to be of type boolean, string, number or null, but found "+Qt($n(F))+" instead.");if(!bn(K,["string","array"]))throw new rn("Expected second argument to be of type array or string, but found "+Qt($n(K))+" instead.");return K.indexOf(F)>=0},Va.prototype.eachChild=function(E){E(this.needle),E(this.haystack)},Va.prototype.outputDefined=function(){return!0},Va.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var xs=function(E,F,K){this.type=Ot,this.needle=E,this.haystack=F,this.fromIndex=K};xs.parse=function(E,F){if(E.length<=2||E.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(E.length-1)+" instead.");var K=F.parse(E[1],1,Zt),fe=F.parse(E[2],2,Zt);if(!K||!fe)return null;if(!hn(K.type,[$t,Ft,Ot,Lt,Zt]))return F.error("Expected first argument to be of type boolean, string, number or null, but found "+Qt(K.type)+" instead");if(E.length===4){var ke=F.parse(E[3],3,Ot);return ke?new xs(K,fe,ke):null}return new xs(K,fe)},xs.prototype.evaluate=function(E){var F=this.needle.evaluate(E),K=this.haystack.evaluate(E);if(!bn(F,["boolean","string","number","null"]))throw new rn("Expected first argument to be of type boolean, string, number or null, but found "+Qt($n(F))+" instead.");if(!bn(K,["string","array"]))throw new rn("Expected second argument to be of type array or string, but found "+Qt($n(K))+" instead.");if(this.fromIndex){var fe=this.fromIndex.evaluate(E);return K.indexOf(F,fe)}return K.indexOf(F)},xs.prototype.eachChild=function(E){E(this.needle),E(this.haystack),this.fromIndex&&E(this.fromIndex)},xs.prototype.outputDefined=function(){return!1},xs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var E=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),E]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ns=function(E,F,K,fe,ke,Pe){this.inputType=E,this.type=F,this.input=K,this.cases=fe,this.outputs=ke,this.otherwise=Pe};ns.parse=function(E,F){if(E.length<5)return F.error("Expected at least 4 arguments, but found only "+(E.length-1)+".");if(E.length%2!=1)return F.error("Expected an even number of arguments.");var K,fe;F.expectedType&&F.expectedType.kind!=="value"&&(fe=F.expectedType);for(var ke={},Pe=[],He=2;He<E.length-1;He+=2){var Qe=E[He],ct=E[He+1];Array.isArray(Qe)||(Qe=[Qe]);var _t=F.concat(He);if(Qe.length===0)return _t.error("Expected at least one branch label.");for(var Tt=0,Nt=Qe;Tt<Nt.length;Tt+=1){var qt=Nt[Tt];if(typeof qt!="number"&&typeof qt!="string")return _t.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return _t.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return _t.error("Numeric branch labels must be integer values.");if(K){if(_t.checkSubtype(K,$n(qt)))return null}else K=$n(qt);if(ke[String(qt)]!==void 0)return _t.error("Branch labels must be unique.");ke[String(qt)]=Pe.length}var Ut=F.parse(ct,He,fe);if(!Ut)return null;fe=fe||Ut.type,Pe.push(Ut)}var an=F.parse(E[1],1,Zt);if(!an)return null;var un=F.parse(E[E.length-1],E.length-1,fe);return un?an.type.kind!=="value"&&F.concat(1).checkSubtype(K,an.type)?null:new ns(K,fe,an,ke,Pe,un):null},ns.prototype.evaluate=function(E){var F=this.input.evaluate(E);return($n(F)===this.inputType&&this.outputs[this.cases[F]]||this.otherwise).evaluate(E)},ns.prototype.eachChild=function(E){E(this.input),this.outputs.forEach(E),E(this.otherwise)},ns.prototype.outputDefined=function(){return this.outputs.every(function(E){return E.outputDefined()})&&this.otherwise.outputDefined()},ns.prototype.serialize=function(){for(var E=this,F=["match",this.input.serialize()],K=[],fe={},ke=0,Pe=Object.keys(this.cases).sort();ke<Pe.length;ke+=1){var He=Pe[ke];(Nt=fe[this.cases[He]])===void 0?(fe[this.cases[He]]=K.length,K.push([this.cases[He],[He]])):K[Nt][1].push(He)}for(var Qe=function(Ut){return E.inputType.kind==="number"?Number(Ut):Ut},ct=0,_t=K;ct<_t.length;ct+=1){var Tt=_t[ct],Nt=Tt[0],qt=Tt[1];qt.length===1?F.push(Qe(qt[0])):F.push(qt.map(Qe)),F.push(this.outputs[outputIndex$1].serialize())}return F.push(this.otherwise.serialize()),F};var bs=function(E,F,K){this.type=E,this.branches=F,this.otherwise=K};bs.parse=function(E,F){if(E.length<4)return F.error("Expected at least 3 arguments, but found only "+(E.length-1)+".");if(E.length%2!=0)return F.error("Expected an odd number of arguments.");var K;F.expectedType&&F.expectedType.kind!=="value"&&(K=F.expectedType);for(var fe=[],ke=1;ke<E.length-1;ke+=2){var Pe=F.parse(E[ke],ke,$t);if(!Pe)return null;var He=F.parse(E[ke+1],ke+1,K);if(!He)return null;fe.push([Pe,He]),K=K||He.type}var Qe=F.parse(E[E.length-1],E.length-1,K);return Qe?new bs(K,fe,Qe):null},bs.prototype.evaluate=function(E){for(var F=0,K=this.branches;F<K.length;F+=1){var fe=K[F],ke=fe[0],Pe=fe[1];if(ke.evaluate(E))return Pe.evaluate(E)}return this.otherwise.evaluate(E)},bs.prototype.eachChild=function(E){for(var F=0,K=this.branches;F<K.length;F+=1){var fe=K[F],ke=fe[0],Pe=fe[1];E(ke),E(Pe)}E(this.otherwise)},bs.prototype.outputDefined=function(){return this.branches.every(function(E){return E[0],E[1].outputDefined()})&&this.otherwise.outputDefined()},bs.prototype.serialize=function(){var E=["case"];return this.eachChild(function(F){E.push(F.serialize())}),E};var Ha=function(E,F,K,fe){this.type=E,this.input=F,this.beginIndex=K,this.endIndex=fe};function Cu(E,F){return E==="=="||E==="!="?F.kind==="boolean"||F.kind==="string"||F.kind==="number"||F.kind==="null"||F.kind==="value":F.kind==="string"||F.kind==="number"||F.kind==="value"}function su(E,F,K,fe){return fe.compare(F,K)===0}function Gs(E,F,K){var fe=E!=="=="&&E!=="!=";return function(){function ke(Pe,He,Qe){this.type=$t,this.lhs=Pe,this.rhs=He,this.collator=Qe,this.hasUntypedArgument=Pe.type.kind==="value"||He.type.kind==="value"}return ke.parse=function(Pe,He){if(Pe.length!==3&&Pe.length!==4)return He.error("Expected two or three arguments.");var Qe=Pe[0],ct=He.parse(Pe[1],1,Zt);if(!ct)return null;if(!Cu(Qe,ct.type))return He.concat(1).error('"'+Qe+`" comparisons are not supported for type '`+Qt(ct.type)+"'.");var _t=He.parse(Pe[2],2,Zt);if(!_t)return null;if(!Cu(Qe,_t.type))return He.concat(2).error('"'+Qe+`" comparisons are not supported for type '`+Qt(_t.type)+"'.");if(ct.type.kind!==_t.type.kind&&ct.type.kind!=="value"&&_t.type.kind!=="value")return He.error("Cannot compare types '"+Qt(ct.type)+"' and '"+Qt(_t.type)+"'.");fe&&(ct.type.kind==="value"&&_t.type.kind!=="value"?ct=new mn(_t.type,[ct]):ct.type.kind!=="value"&&_t.type.kind==="value"&&(_t=new mn(ct.type,[_t])));var Tt=null;if(Pe.length===4){if(ct.type.kind!=="string"&&_t.type.kind!=="string"&&ct.type.kind!=="value"&&_t.type.kind!=="value")return He.error("Cannot use collator to compare non-string types.");if(!(Tt=He.parse(Pe[3],3,jt)))return null}return new ke(ct,_t,Tt)},ke.prototype.evaluate=function(Pe){var He=this.lhs.evaluate(Pe),Qe=this.rhs.evaluate(Pe);if(fe&&this.hasUntypedArgument){var ct=$n(He),_t=$n(Qe);if(ct.kind!==_t.kind||ct.kind!=="string"&&ct.kind!=="number")throw new rn('Expected arguments for "'+E+'" to be (string, string) or (number, number), but found ('+ct.kind+", "+_t.kind+") instead.")}if(this.collator&&!fe&&this.hasUntypedArgument){var Tt=$n(He),Nt=$n(Qe);if(Tt.kind!=="string"||Nt.kind!=="string")return F(Pe,He,Qe)}return this.collator?K(Pe,He,Qe,this.collator.evaluate(Pe)):F(Pe,He,Qe)},ke.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},ke.prototype.outputDefined=function(){return!0},ke.prototype.serialize=function(){var Pe=[E];return this.eachChild(function(He){Pe.push(He.serialize())}),Pe},ke}()}Ha.parse=function(E,F){if(E.length<=2||E.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(E.length-1)+" instead.");var K=F.parse(E[1],1,Zt),fe=F.parse(E[2],2,Ot);if(!K||!fe)return null;if(!hn(K.type,[gn(Zt),Ft,Zt]))return F.error("Expected first argument to be of type array or string, but found "+Qt(K.type)+" instead");if(E.length===4){var ke=F.parse(E[3],3,Ot);return ke?new Ha(K.type,K,fe,ke):null}return new Ha(K.type,K,fe)},Ha.prototype.evaluate=function(E){var F=this.input.evaluate(E),K=this.beginIndex.evaluate(E);if(!bn(F,["string","array"]))throw new rn("Expected first argument to be of type array or string, but found "+Qt($n(F))+" instead.");if(this.endIndex){var fe=this.endIndex.evaluate(E);return F.slice(K,fe)}return F.slice(K)},Ha.prototype.eachChild=function(E){E(this.input),E(this.beginIndex),this.endIndex&&E(this.endIndex)},Ha.prototype.outputDefined=function(){return!1},Ha.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var E=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),E]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ku=Gs("==",function(E,F,K){return F===K},su),Ju=Gs("!=",function(E,F,K){return F!==K},function(E,F,K,fe){return!su(0,F,K,fe)}),Ws=Gs("<",function(E,F,K){return F<K},function(E,F,K,fe){return fe.compare(F,K)<0}),Qu=Gs(">",function(E,F,K){return F>K},function(E,F,K,fe){return fe.compare(F,K)>0}),Ec=Gs("<=",function(E,F,K){return F<=K},function(E,F,K,fe){return fe.compare(F,K)<=0}),Cc=Gs(">=",function(E,F,K){return F>=K},function(E,F,K,fe){return fe.compare(F,K)>=0}),Ys=function(E,F,K,fe,ke){this.type=Ft,this.number=E,this.locale=F,this.currency=K,this.minFractionDigits=fe,this.maxFractionDigits=ke};Ys.parse=function(E,F){if(E.length!==3)return F.error("Expected two arguments.");var K=F.parse(E[1],1,Ot);if(!K)return null;var fe=E[2];if(typeof fe!="object"||Array.isArray(fe))return F.error("NumberFormat options argument must be an object.");var ke=null;if(fe.locale&&!(ke=F.parse(fe.locale,1,Ft)))return null;var Pe=null;if(fe.currency&&!(Pe=F.parse(fe.currency,1,Ft)))return null;var He=null;if(fe["min-fraction-digits"]&&!(He=F.parse(fe["min-fraction-digits"],1,Ot)))return null;var Qe=null;return fe["max-fraction-digits"]&&!(Qe=F.parse(fe["max-fraction-digits"],1,Ot))?null:new Ys(K,ke,Pe,He,Qe)},Ys.prototype.evaluate=function(E){return new Intl.NumberFormat(this.locale?this.locale.evaluate(E):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(E):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(E):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(E):void 0}).format(this.number.evaluate(E))},Ys.prototype.eachChild=function(E){E(this.number),this.locale&&E(this.locale),this.currency&&E(this.currency),this.minFractionDigits&&E(this.minFractionDigits),this.maxFractionDigits&&E(this.maxFractionDigits)},Ys.prototype.outputDefined=function(){return!1},Ys.prototype.serialize=function(){var E={};return this.locale&&(E.locale=this.locale.serialize()),this.currency&&(E.currency=this.currency.serialize()),this.minFractionDigits&&(E["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(E["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),E]};var qa=function(E){this.type=Ot,this.input=E};qa.parse=function(E,F){if(E.length!==2)return F.error("Expected 1 argument, but found "+(E.length-1)+" instead.");var K=F.parse(E[1],1);return K?K.type.kind!=="array"&&K.type.kind!=="string"&&K.type.kind!=="value"?F.error("Expected argument of type string or array, but found "+Qt(K.type)+" instead."):new qa(K):null},qa.prototype.evaluate=function(E){var F=this.input.evaluate(E);if(typeof F=="string"||Array.isArray(F))return F.length;throw new rn("Expected value to be of type string or array, but found "+Qt($n(F))+" instead.")},qa.prototype.eachChild=function(E){E(this.input)},qa.prototype.outputDefined=function(){return!1},qa.prototype.serialize=function(){var E=["length"];return this.eachChild(function(F){E.push(F.serialize())}),E};var pl={"==":Ku,"!=":Ju,">":Qu,"<":Ws,">=":Cc,"<=":Ec,array:mn,at:ys,boolean:mn,case:bs,coalesce:Ua,collator:Dt,format:On,image:Hn,in:Va,"index-of":xs,interpolate:fo,"interpolate-hcl":fo,"interpolate-lab":fo,length:qa,let:Ta,literal:en,match:ns,number:mn,"number-format":Ys,object:mn,slice:Ha,step:kr,string:mn,"to-boolean":Zn,"to-color":Zn,"to-number":Zn,"to-string":Zn,var:br,within:Jn};function $s(E,F){var K=F[0],fe=F[1],ke=F[2],Pe=F[3];K=K.evaluate(E),fe=fe.evaluate(E),ke=ke.evaluate(E);var He=Pe?Pe.evaluate(E):1,Qe=Gn(K,fe,ke,He);if(Qe)throw new rn(Qe);return new Dn(K/255*He,fe/255*He,ke/255*He,He)}function Nl(E,F){return E in F}function Zs(E,F){var K=F[E];return K===void 0?null:K}function Ma(E){return{type:E}}function Du(E){return{result:"success",value:E}}function _s(E){return{result:"error",value:E}}function rs(E){return E["property-type"]==="data-driven"||E["property-type"]==="cross-faded-data-driven"}function is(E){return!!E.expression&&E.expression.parameters.indexOf("zoom")>-1}function ws(E){return!!E.expression&&E.expression.interpolated}function ei(E){return E instanceof Number?"number":E instanceof String?"string":E instanceof Boolean?"boolean":Array.isArray(E)?"array":E===null?"null":typeof E}function ml(E){return typeof E=="object"&&E!==null&&!Array.isArray(E)}function Dc(E){return E}function lu(E,F){var K,fe,ke,Pe=F.type==="color",He=E.stops&&typeof E.stops[0][0]=="object",Qe=He||E.property!==void 0,ct=He||!Qe,_t=E.type||(ws(F)?"exponential":"interval");if(Pe&&((E=yt({},E)).stops&&(E.stops=E.stops.map(function(dr){return[dr[0],Dn.parse(dr[1])]})),E.default?E.default=Dn.parse(E.default):E.default=Dn.parse(F.default)),E.colorSpace&&E.colorSpace!=="rgb"&&!wi[E.colorSpace])throw new Error("Unknown color space: "+E.colorSpace);if(_t==="exponential")K=uu;else if(_t==="interval")K=Ic;else if(_t==="categorical"){K=ec,fe=Object.create(null);for(var Tt=0,Nt=E.stops;Tt<Nt.length;Tt+=1){var qt=Nt[Tt];fe[qt[0]]=qt[1]}ke=typeof E.stops[0][0]}else{if(_t!=="identity")throw new Error('Unknown function type "'+_t+'"');K=Lc}if(He){for(var Ut={},an=[],un=0;un<E.stops.length;un++){var Mn=E.stops[un],_n=Mn[0].zoom;Ut[_n]===void 0&&(Ut[_n]={zoom:_n,type:E.type,property:E.property,default:E.default,stops:[]},an.push(_n)),Ut[_n].stops.push([Mn[0].value,Mn[1]])}for(var Fn=[],zn=0,qn=an;zn<qn.length;zn+=1){var Xn=qn[zn];Fn.push([Ut[Xn].zoom,lu(Ut[Xn],F)])}var or={name:"linear"};return{kind:"composite",interpolationType:or,interpolationFactor:fo.interpolationFactor.bind(void 0,or),zoomStops:Fn.map(function(dr){return dr[0]}),evaluate:function(dr,_r){var Tr=dr.zoom;return uu({stops:Fn,base:E.base},F,Tr).evaluate(Tr,_r)}}}if(ct){var vr=_t==="exponential"?{name:"exponential",base:E.base!==void 0?E.base:1}:null;return{kind:"camera",interpolationType:vr,interpolationFactor:fo.interpolationFactor.bind(void 0,vr),zoomStops:E.stops.map(function(dr){return dr[0]}),evaluate:function(dr){var _r=dr.zoom;return K(E,F,_r,fe,ke)}}}return{kind:"source",evaluate:function(dr,_r){var Tr=_r&&_r.properties?_r.properties[E.property]:void 0;return Tr===void 0?vl(E.default,F.default):K(E,F,Tr,fe,ke)}}}function vl(E,F,K){return E!==void 0?E:F!==void 0?F:K!==void 0?K:void 0}function ec(E,F,K,fe,ke){return vl(typeof K===ke?fe[K]:void 0,E.default,F.default)}function Ic(E,F,K){if(ei(K)!=="number")return vl(E.default,F.default);var fe=E.stops.length;if(fe===1||K<=E.stops[0][0])return E.stops[0][1];if(K>=E.stops[fe-1][0])return E.stops[fe-1][1];var ke=mr(E.stops.map(function(Pe){return Pe[0]}),K);return E.stops[ke][1]}function uu(E,F,K){var fe=E.base!==void 0?E.base:1;if(ei(K)!=="number")return vl(E.default,F.default);var ke=E.stops.length;if(ke===1||K<=E.stops[0][0])return E.stops[0][1];if(K>=E.stops[ke-1][0])return E.stops[ke-1][1];var Pe=mr(E.stops.map(function(Nt){return Nt[0]}),K),He=function(Nt,qt,Ut,an){var un=an-Ut,Mn=Nt-Ut;return un===0?0:qt===1?Mn/un:(Math.pow(qt,Mn)-1)/(Math.pow(qt,un)-1)}(K,fe,E.stops[Pe][0],E.stops[Pe+1][0]),Qe=E.stops[Pe][1],ct=E.stops[Pe+1][1],_t=Si[F.type]||Dc;if(E.colorSpace&&E.colorSpace!=="rgb"){var Tt=wi[E.colorSpace];_t=function(Nt,qt){return Tt.reverse(Tt.interpolate(Tt.forward(Nt),Tt.forward(qt),He))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var Nt=[],qt=arguments.length;qt--;)Nt[qt]=arguments[qt];var Ut=Qe.evaluate.apply(void 0,Nt),an=ct.evaluate.apply(void 0,Nt);if(Ut!==void 0&&an!==void 0)return _t(Ut,an,He)}}:_t(Qe,ct,He)}function Lc(E,F,K){return F.type==="color"?K=Dn.parse(K):F.type==="formatted"?K=Rn.fromString(K.toString()):F.type==="resolvedImage"?K=Kn.fromString(K.toString()):ei(K)===F.type||F.type==="enum"&&F.values[K]||(K=void 0),vl(K,E.default,F.default)}vn.register(pl,{error:[{kind:"error"},[Ft],function(E,F){var K=F[0];throw new rn(K.evaluate(E))}],typeof:[Ft,[Zt],function(E,F){return Qt($n(F[0].evaluate(E)))}],"to-rgba":[gn(Ot,4),[on],function(E,F){return F[0].evaluate(E).toArray()}],rgb:[on,[Ot,Ot,Ot],$s],rgba:[on,[Ot,Ot,Ot,Ot],$s],has:{type:$t,overloads:[[[Ft],function(E,F){return Nl(F[0].evaluate(E),E.properties())}],[[Ft,Ht],function(E,F){var K=F[0],fe=F[1];return Nl(K.evaluate(E),fe.evaluate(E))}]]},get:{type:Zt,overloads:[[[Ft],function(E,F){return Zs(F[0].evaluate(E),E.properties())}],[[Ft,Ht],function(E,F){var K=F[0],fe=F[1];return Zs(K.evaluate(E),fe.evaluate(E))}]]},"feature-state":[Zt,[Ft],function(E,F){return Zs(F[0].evaluate(E),E.featureState||{})}],properties:[Ht,[],function(E){return E.properties()}],"geometry-type":[Ft,[],function(E){return E.geometryType()}],id:[Zt,[],function(E){return E.id()}],zoom:[Ot,[],function(E){return E.globals.zoom}],"heatmap-density":[Ot,[],function(E){return E.globals.heatmapDensity||0}],"line-progress":[Ot,[],function(E){return E.globals.lineProgress||0}],accumulated:[Zt,[],function(E){return E.globals.accumulated===void 0?null:E.globals.accumulated}],"+":[Ot,Ma(Ot),function(E,F){for(var K=0,fe=0,ke=F;fe<ke.length;fe+=1)K+=ke[fe].evaluate(E);return K}],"*":[Ot,Ma(Ot),function(E,F){for(var K=1,fe=0,ke=F;fe<ke.length;fe+=1)K*=ke[fe].evaluate(E);return K}],"-":{type:Ot,overloads:[[[Ot,Ot],function(E,F){var K=F[0],fe=F[1];return K.evaluate(E)-fe.evaluate(E)}],[[Ot],function(E,F){return-F[0].evaluate(E)}]]},"/":[Ot,[Ot,Ot],function(E,F){var K=F[0],fe=F[1];return K.evaluate(E)/fe.evaluate(E)}],"%":[Ot,[Ot,Ot],function(E,F){var K=F[0],fe=F[1];return K.evaluate(E)%fe.evaluate(E)}],ln2:[Ot,[],function(){return Math.LN2}],pi:[Ot,[],function(){return Math.PI}],e:[Ot,[],function(){return Math.E}],"^":[Ot,[Ot,Ot],function(E,F){var K=F[0],fe=F[1];return Math.pow(K.evaluate(E),fe.evaluate(E))}],sqrt:[Ot,[Ot],function(E,F){var K=F[0];return Math.sqrt(K.evaluate(E))}],log10:[Ot,[Ot],function(E,F){var K=F[0];return Math.log(K.evaluate(E))/Math.LN10}],ln:[Ot,[Ot],function(E,F){var K=F[0];return Math.log(K.evaluate(E))}],log2:[Ot,[Ot],function(E,F){var K=F[0];return Math.log(K.evaluate(E))/Math.LN2}],sin:[Ot,[Ot],function(E,F){var K=F[0];return Math.sin(K.evaluate(E))}],cos:[Ot,[Ot],function(E,F){var K=F[0];return Math.cos(K.evaluate(E))}],tan:[Ot,[Ot],function(E,F){var K=F[0];return Math.tan(K.evaluate(E))}],asin:[Ot,[Ot],function(E,F){var K=F[0];return Math.asin(K.evaluate(E))}],acos:[Ot,[Ot],function(E,F){var K=F[0];return Math.acos(K.evaluate(E))}],atan:[Ot,[Ot],function(E,F){var K=F[0];return Math.atan(K.evaluate(E))}],min:[Ot,Ma(Ot),function(E,F){return Math.min.apply(Math,F.map(function(K){return K.evaluate(E)}))}],max:[Ot,Ma(Ot),function(E,F){return Math.max.apply(Math,F.map(function(K){return K.evaluate(E)}))}],abs:[Ot,[Ot],function(E,F){var K=F[0];return Math.abs(K.evaluate(E))}],round:[Ot,[Ot],function(E,F){var K=F[0].evaluate(E);return K<0?-Math.round(-K):Math.round(K)}],floor:[Ot,[Ot],function(E,F){var K=F[0];return Math.floor(K.evaluate(E))}],ceil:[Ot,[Ot],function(E,F){var K=F[0];return Math.ceil(K.evaluate(E))}],"filter-==":[$t,[Ft,Zt],function(E,F){var K=F[0],fe=F[1];return E.properties()[K.value]===fe.value}],"filter-id-==":[$t,[Zt],function(E,F){var K=F[0];return E.id()===K.value}],"filter-type-==":[$t,[Ft],function(E,F){var K=F[0];return E.geometryType()===K.value}],"filter-<":[$t,[Ft,Zt],function(E,F){var K=F[0],fe=F[1],ke=E.properties()[K.value],Pe=fe.value;return typeof ke==typeof Pe&&ke<Pe}],"filter-id-<":[$t,[Zt],function(E,F){var K=F[0],fe=E.id(),ke=K.value;return typeof fe==typeof ke&&fe<ke}],"filter->":[$t,[Ft,Zt],function(E,F){var K=F[0],fe=F[1],ke=E.properties()[K.value],Pe=fe.value;return typeof ke==typeof Pe&&ke>Pe}],"filter-id->":[$t,[Zt],function(E,F){var K=F[0],fe=E.id(),ke=K.value;return typeof fe==typeof ke&&fe>ke}],"filter-<=":[$t,[Ft,Zt],function(E,F){var K=F[0],fe=F[1],ke=E.properties()[K.value],Pe=fe.value;return typeof ke==typeof Pe&&ke<=Pe}],"filter-id-<=":[$t,[Zt],function(E,F){var K=F[0],fe=E.id(),ke=K.value;return typeof fe==typeof ke&&fe<=ke}],"filter->=":[$t,[Ft,Zt],function(E,F){var K=F[0],fe=F[1],ke=E.properties()[K.value],Pe=fe.value;return typeof ke==typeof Pe&&ke>=Pe}],"filter-id->=":[$t,[Zt],function(E,F){var K=F[0],fe=E.id(),ke=K.value;return typeof fe==typeof ke&&fe>=ke}],"filter-has":[$t,[Zt],function(E,F){return F[0].value in E.properties()}],"filter-has-id":[$t,[],function(E){return E.id()!==null&&E.id()!==void 0}],"filter-type-in":[$t,[gn(Ft)],function(E,F){return F[0].value.indexOf(E.geometryType())>=0}],"filter-id-in":[$t,[gn(Zt)],function(E,F){return F[0].value.indexOf(E.id())>=0}],"filter-in-small":[$t,[Ft,gn(Zt)],function(E,F){var K=F[0];return F[1].value.indexOf(E.properties()[K.value])>=0}],"filter-in-large":[$t,[Ft,gn(Zt)],function(E,F){var K=F[0],fe=F[1];return function(ke,Pe,He,Qe){for(;He<=Qe;){var ct=He+Qe>>1;if(Pe[ct]===ke)return!0;Pe[ct]>ke?Qe=ct-1:He=ct+1}return!1}(E.properties()[K.value],fe.value,0,fe.value.length-1)}],all:{type:$t,overloads:[[[$t,$t],function(E,F){var K=F[0],fe=F[1];return K.evaluate(E)&&fe.evaluate(E)}],[Ma($t),function(E,F){for(var K=0,fe=F;K<fe.length;K+=1)if(!fe[K].evaluate(E))return!1;return!0}]]},any:{type:$t,overloads:[[[$t,$t],function(E,F){var K=F[0],fe=F[1];return K.evaluate(E)||fe.evaluate(E)}],[Ma($t),function(E,F){for(var K=0,fe=F;K<fe.length;K+=1)if(fe[K].evaluate(E))return!0;return!1}]]},"!":[$t,[$t],function(E,F){return!F[0].evaluate(E)}],"is-supported-script":[$t,[Ft],function(E,F){var K=F[0],fe=E.globals&&E.globals.isSupportedScript;return!fe||fe(K.evaluate(E))}],upcase:[Ft,[Ft],function(E,F){return F[0].evaluate(E).toUpperCase()}],downcase:[Ft,[Ft],function(E,F){return F[0].evaluate(E).toLowerCase()}],concat:[Ft,Ma(Zt),function(E,F){return F.map(function(K){return fr(K.evaluate(E))}).join("")}],"resolved-locale":[Ft,[jt],function(E,F){return F[0].evaluate(E).resolvedLocale()}]});var Ts=function(E,F){this.expression=E,this._warningHistory={},this._evaluator=new Kt,this._defaultValue=F?function(K){return K.type==="color"&&ml(K.default)?new Dn(0,0,0,0):K.type==="color"?Dn.parse(K.default)||null:K.default===void 0?null:K.default}(F):null,this._enumValues=F&&F.type==="enum"?F.values:null};function Xs(E){return Array.isArray(E)&&E.length>0&&typeof E[0]=="string"&&E[0]in pl}function os(E,F){var K=new gr(pl,[],F?function(ke){var Pe={color:on,string:Ft,number:Ot,enum:Ft,boolean:$t,formatted:Ln,resolvedImage:Tn};return ke.type==="array"?gn(Pe[ke.value]||Zt,ke.length):Pe[ke.type]}(F):void 0),fe=K.parse(E,void 0,void 0,void 0,F&&F.type==="string"?{typeAnnotation:"coerce"}:void 0);return fe?Du(new Ts(fe,F)):_s(K.errors)}Ts.prototype.evaluateWithoutErrorHandling=function(E,F,K,fe,ke,Pe){return this._evaluator.globals=E,this._evaluator.feature=F,this._evaluator.featureState=K,this._evaluator.canonical=fe,this._evaluator.availableImages=ke||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},Ts.prototype.evaluate=function(E,F,K,fe,ke,Pe){this._evaluator.globals=E,this._evaluator.feature=F||null,this._evaluator.featureState=K||null,this._evaluator.canonical=fe,this._evaluator.availableImages=ke||null,this._evaluator.formattedSection=Pe||null;try{var He=this.expression.evaluate(this._evaluator);if(He==null||typeof He=="number"&&He!=He)return this._defaultValue;if(this._enumValues&&!(He in this._enumValues))throw new rn("Expected value to be one of "+Object.keys(this._enumValues).map(function(Qe){return JSON.stringify(Qe)}).join(", ")+", but found "+JSON.stringify(He)+" instead.");return He}catch(Qe){return this._warningHistory[Qe.message]||(this._warningHistory[Qe.message]=!0,typeof console<"u"&&console.warn(Qe.message)),this._defaultValue}};var Aa=function(E,F){this.kind=E,this._styleExpression=F,this.isStateDependent=E!=="constant"&&!Qn(F.expression)};Aa.prototype.evaluateWithoutErrorHandling=function(E,F,K,fe,ke,Pe){return this._styleExpression.evaluateWithoutErrorHandling(E,F,K,fe,ke,Pe)},Aa.prototype.evaluate=function(E,F,K,fe,ke,Pe){return this._styleExpression.evaluate(E,F,K,fe,ke,Pe)};var yl=function(E,F,K,fe){this.kind=E,this.zoomStops=K,this._styleExpression=F,this.isStateDependent=E!=="camera"&&!Qn(F.expression),this.interpolationType=fe};function tc(E,F){if((E=os(E,F)).result==="error")return E;var K=E.value.expression,fe=rr(K);if(!fe&&!rs(F))return _s([new bt("","data expressions not supported")]);var ke=hr(K,["zoom"]);if(!ke&&!is(F))return _s([new bt("","zoom expressions not supported")]);var Pe=cu(K);if(!Pe&&!ke)return _s([new bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Pe instanceof bt)return _s([Pe]);if(Pe instanceof fo&&!ws(F))return _s([new bt("",'"interpolate" expressions cannot be used with this property')]);if(!Pe)return Du(new Aa(fe?"constant":"source",E.value));var He=Pe instanceof fo?Pe.interpolation:void 0;return Du(new yl(fe?"camera":"composite",E.value,Pe.labels,He))}yl.prototype.evaluateWithoutErrorHandling=function(E,F,K,fe,ke,Pe){return this._styleExpression.evaluateWithoutErrorHandling(E,F,K,fe,ke,Pe)},yl.prototype.evaluate=function(E,F,K,fe,ke,Pe){return this._styleExpression.evaluate(E,F,K,fe,ke,Pe)},yl.prototype.interpolationFactor=function(E,F,K){return this.interpolationType?fo.interpolationFactor(this.interpolationType,E,F,K):0};var Fl=function(E,F){this._parameters=E,this._specification=F,yt(this,lu(this._parameters,this._specification))};function cu(E){var F=null;if(E instanceof Ta)F=cu(E.result);else if(E instanceof Ua)for(var K=0,fe=E.args;K<fe.length;K+=1){var ke=fe[K];if(F=cu(ke))break}else(E instanceof kr||E instanceof fo)&&E.input instanceof vn&&E.input.name==="zoom"&&(F=E);return F instanceof bt||E.eachChild(function(Pe){var He=cu(Pe);He instanceof bt?F=He:!F&&He?F=new bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):F&&He&&F!==He&&(F=new bt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),F}function na(E){var F=E.key,K=E.value,fe=E.valueSpec||{},ke=E.objectElementValidators||{},Pe=E.style,He=E.styleSpec,Qe=[],ct=ei(K);if(ct!=="object")return[new dt(F,K,"object expected, "+ct+" found")];for(var _t in K){var Tt=_t.split(".")[0],Nt=fe[Tt]||fe["*"],qt=void 0;if(ke[Tt])qt=ke[Tt];else if(fe[Tt])qt=ha;else if(ke["*"])qt=ke["*"];else{if(!fe["*"]){Qe.push(new dt(F,K[_t],'unknown property "'+_t+'"'));continue}qt=ha}Qe=Qe.concat(qt({key:(F&&F+".")+_t,value:K[_t],valueSpec:Nt,style:Pe,styleSpec:He,object:K,objectKey:_t},K))}for(var Ut in fe)ke[Ut]||fe[Ut].required&&fe[Ut].default===void 0&&K[Ut]===void 0&&Qe.push(new dt(F,K,'missing required property "'+Ut+'"'));return Qe}function fu(E){var F=E.value,K=E.valueSpec,fe=E.style,ke=E.styleSpec,Pe=E.key,He=E.arrayElementValidator||ha;if(ei(F)!=="array")return[new dt(Pe,F,"array expected, "+ei(F)+" found")];if(K.length&&F.length!==K.length)return[new dt(Pe,F,"array length "+K.length+" expected, length "+F.length+" found")];if(K["min-length"]&&F.length<K["min-length"])return[new dt(Pe,F,"array length at least "+K["min-length"]+" expected, length "+F.length+" found")];var Qe={type:K.value,values:K.values};ke.$version<7&&(Qe.function=K.function),ei(K.value)==="object"&&(Qe=K.value);for(var ct=[],_t=0;_t<F.length;_t++)ct=ct.concat(He({array:F,arrayIndex:_t,value:F[_t],valueSpec:Qe,style:fe,styleSpec:ke,key:Pe+"["+_t+"]"}));return ct}function nc(E){var F=E.key,K=E.value,fe=E.valueSpec,ke=ei(K);return ke==="number"&&K!=K&&(ke="NaN"),ke!=="number"?[new dt(F,K,"number expected, "+ke+" found")]:"minimum"in fe&&K<fe.minimum?[new dt(F,K,K+" is less than the minimum value "+fe.minimum)]:"maximum"in fe&&K>fe.maximum?[new dt(F,K,K+" is greater than the maximum value "+fe.maximum)]:[]}function xl(E){var F,K,fe,ke=E.valueSpec,Pe=ht(E.value.type),He={},Qe=Pe!=="categorical"&&E.value.property===void 0,ct=!Qe,_t=ei(E.value.stops)==="array"&&ei(E.value.stops[0])==="array"&&ei(E.value.stops[0][0])==="object",Tt=na({key:E.key,value:E.value,valueSpec:E.styleSpec.function,style:E.style,styleSpec:E.styleSpec,objectElementValidators:{stops:function(Ut){if(Pe==="identity")return[new dt(Ut.key,Ut.value,'identity function may not have a "stops" property')];var an=[],un=Ut.value;return an=an.concat(fu({key:Ut.key,value:un,valueSpec:Ut.valueSpec,style:Ut.style,styleSpec:Ut.styleSpec,arrayElementValidator:Nt})),ei(un)==="array"&&un.length===0&&an.push(new dt(Ut.key,un,"array must have at least one stop")),an},default:function(Ut){return ha({key:Ut.key,value:Ut.value,valueSpec:ke,style:Ut.style,styleSpec:Ut.styleSpec})}}});return Pe==="identity"&&Qe&&Tt.push(new dt(E.key,E.value,'missing required property "property"')),Pe==="identity"||E.value.stops||Tt.push(new dt(E.key,E.value,'missing required property "stops"')),Pe==="exponential"&&E.valueSpec.expression&&!ws(E.valueSpec)&&Tt.push(new dt(E.key,E.value,"exponential functions not supported")),E.styleSpec.$version>=8&&(ct&&!rs(E.valueSpec)?Tt.push(new dt(E.key,E.value,"property functions not supported")):Qe&&!is(E.valueSpec)&&Tt.push(new dt(E.key,E.value,"zoom functions not supported"))),Pe!=="categorical"&&!_t||E.value.property!==void 0||Tt.push(new dt(E.key,E.value,'"property" property is required')),Tt;function Nt(Ut){var an=[],un=Ut.value,Mn=Ut.key;if(ei(un)!=="array")return[new dt(Mn,un,"array expected, "+ei(un)+" found")];if(un.length!==2)return[new dt(Mn,un,"array length 2 expected, length "+un.length+" found")];if(_t){if(ei(un[0])!=="object")return[new dt(Mn,un,"object expected, "+ei(un[0])+" found")];if(un[0].zoom===void 0)return[new dt(Mn,un,"object stop key must have zoom")];if(un[0].value===void 0)return[new dt(Mn,un,"object stop key must have value")];if(fe&&fe>ht(un[0].zoom))return[new dt(Mn,un[0].zoom,"stop zoom values must appear in ascending order")];ht(un[0].zoom)!==fe&&(fe=ht(un[0].zoom),K=void 0,He={}),an=an.concat(na({key:Mn+"[0]",value:un[0],valueSpec:{zoom:{}},style:Ut.style,styleSpec:Ut.styleSpec,objectElementValidators:{zoom:nc,value:qt}}))}else an=an.concat(qt({key:Mn+"[0]",value:un[0],valueSpec:{},style:Ut.style,styleSpec:Ut.styleSpec},un));return Xs(kt(un[1]))?an.concat([new dt(Mn+"[1]",un[1],"expressions are not allowed in function stops.")]):an.concat(ha({key:Mn+"[1]",value:un[1],valueSpec:ke,style:Ut.style,styleSpec:Ut.styleSpec}))}function qt(Ut,an){var un=ei(Ut.value),Mn=ht(Ut.value),_n=Ut.value!==null?Ut.value:an;if(F){if(un!==F)return[new dt(Ut.key,_n,un+" stop domain type must match previous stop domain type "+F)]}else F=un;if(un!=="number"&&un!=="string"&&un!=="boolean")return[new dt(Ut.key,_n,"stop domain value must be a number, string, or boolean")];if(un!=="number"&&Pe!=="categorical"){var Fn="number expected, "+un+" found";return rs(ke)&&Pe===void 0&&(Fn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new dt(Ut.key,_n,Fn)]}return Pe!=="categorical"||un!=="number"||isFinite(Mn)&&Math.floor(Mn)===Mn?Pe!=="categorical"&&un==="number"&&K!==void 0&&Mn<K?[new dt(Ut.key,_n,"stop domain values must appear in ascending order")]:(K=Mn,Pe==="categorical"&&Mn in He?[new dt(Ut.key,_n,"stop domain values must be unique")]:(He[Mn]=!0,[])):[new dt(Ut.key,_n,"integer expected, found "+Mn)]}}function Ks(E){var F=(E.expressionContext==="property"?tc:os)(kt(E.value),E.valueSpec);if(F.result==="error")return F.value.map(function(fe){return new dt(""+E.key+fe.key,E.value,fe.message)});var K=F.value.expression||F.value._styleExpression.expression;if(E.expressionContext==="property"&&E.propertyKey==="text-font"&&!K.outputDefined())return[new dt(E.key,E.value,'Invalid data expression for "'+E.propertyKey+'". Output values must be contained as literals within the expression.')];if(E.expressionContext==="property"&&E.propertyType==="layout"&&!Qn(K))return[new dt(E.key,E.value,'"feature-state" data expressions are not supported with layout properties.')];if(E.expressionContext==="filter"&&!Qn(K))return[new dt(E.key,E.value,'"feature-state" data expressions are not supported with filters.')];if(E.expressionContext&&E.expressionContext.indexOf("cluster")===0){if(!hr(K,["zoom","feature-state"]))return[new dt(E.key,E.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(E.expressionContext==="cluster-initial"&&!rr(K))return[new dt(E.key,E.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bl(E){var F=E.key,K=E.value,fe=E.valueSpec,ke=[];return Array.isArray(fe.values)?fe.values.indexOf(ht(K))===-1&&ke.push(new dt(F,K,"expected one of ["+fe.values.join(", ")+"], "+JSON.stringify(K)+" found")):Object.keys(fe.values).indexOf(ht(K))===-1&&ke.push(new dt(F,K,"expected one of ["+Object.keys(fe.values).join(", ")+"], "+JSON.stringify(K)+" found")),ke}function Js(E){if(E===!0||E===!1)return!0;if(!Array.isArray(E)||E.length===0)return!1;switch(E[0]){case"has":return E.length>=2&&E[1]!=="$id"&&E[1]!=="$type";case"in":return E.length>=3&&(typeof E[1]!="string"||Array.isArray(E[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return E.length!==3||Array.isArray(E[1])||Array.isArray(E[2]);case"any":case"all":for(var F=0,K=E.slice(1);F<K.length;F+=1){var fe=K[F];if(!Js(fe)&&typeof fe!="boolean")return!1}return!0;default:return!0}}Fl.deserialize=function(E){return new Fl(E._parameters,E._specification)},Fl.serialize=function(E){return{_parameters:E._parameters,_specification:E._specification}};var Qs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function zl(E){if(E==null)return{filter:function(){return!0},needGeometry:!1};Js(E)||(E=Ms(E));var F=os(E,Qs);if(F.result==="error")throw new Error(F.value.map(function(K){return K.key+": "+K.message}).join(", "));return{filter:function(K,fe,ke){return F.value.evaluate(K,fe,{},ke)},needGeometry:xi(E)}}function hu(E,F){return E<F?-1:E>F?1:0}function xi(E){if(!Array.isArray(E))return!1;if(E[0]==="within")return!0;for(var F=1;F<E.length;F++)if(xi(E[F]))return!0;return!1}function Ms(E){if(!E)return!0;var F,K=E[0];return E.length<=1?K!=="any":K==="=="?ko(E[1],E[2],"=="):K==="!="?vi(ko(E[1],E[2],"==")):K==="<"||K===">"||K==="<="||K===">="?ko(E[1],E[2],K):K==="any"?(F=E.slice(1),["any"].concat(F.map(Ms))):K==="all"?["all"].concat(E.slice(1).map(Ms)):K==="none"?["all"].concat(E.slice(1).map(Ms).map(vi)):K==="in"?ka(E[1],E.slice(2)):K==="!in"?vi(ka(E[1],E.slice(2))):K==="has"?li(E[1]):K==="!has"?vi(li(E[1])):K!=="within"||E}function ko(E,F,K){switch(E){case"$type":return["filter-type-"+K,F];case"$id":return["filter-id-"+K,F];default:return["filter-"+K,E,F]}}function ka(E,F){if(F.length===0)return!1;switch(E){case"$type":return["filter-type-in",["literal",F]];case"$id":return["filter-id-in",["literal",F]];default:return F.length>200&&!F.some(function(K){return typeof K!=typeof F[0]})?["filter-in-large",E,["literal",F.sort(hu)]]:["filter-in-small",E,["literal",F]]}}function li(E){switch(E){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",E]}}function vi(E){return["!",E]}function ra(E){return Js(kt(E.value))?Ks(yt({},E,{expressionContext:"filter",valueSpec:{value:"boolean"}})):_l(E)}function _l(E){var F=E.value,K=E.key;if(ei(F)!=="array")return[new dt(K,F,"array expected, "+ei(F)+" found")];var fe,ke=E.styleSpec,Pe=[];if(F.length<1)return[new dt(K,F,"filter array must have at least 1 element")];switch(Pe=Pe.concat(bl({key:K+"[0]",value:F[0],valueSpec:ke.filter_operator,style:E.style,styleSpec:E.styleSpec})),ht(F[0])){case"<":case"<=":case">":case">=":F.length>=2&&ht(F[1])==="$type"&&Pe.push(new dt(K,F,'"$type" cannot be use with operator "'+F[0]+'"'));case"==":case"!=":F.length!==3&&Pe.push(new dt(K,F,'filter array for operator "'+F[0]+'" must have 3 elements'));case"in":case"!in":F.length>=2&&(fe=ei(F[1]))!=="string"&&Pe.push(new dt(K+"[1]",F[1],"string expected, "+fe+" found"));for(var He=2;He<F.length;He++)fe=ei(F[He]),ht(F[1])==="$type"?Pe=Pe.concat(bl({key:K+"["+He+"]",value:F[He],valueSpec:ke.geometry_type,style:E.style,styleSpec:E.styleSpec})):fe!=="string"&&fe!=="number"&&fe!=="boolean"&&Pe.push(new dt(K+"["+He+"]",F[He],"string, number, or boolean expected, "+fe+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<F.length;Qe++)Pe=Pe.concat(_l({key:K+"["+Qe+"]",value:F[Qe],style:E.style,styleSpec:E.styleSpec}));break;case"has":case"!has":fe=ei(F[1]),F.length!==2?Pe.push(new dt(K,F,'filter array for "'+F[0]+'" operator must have 2 elements')):fe!=="string"&&Pe.push(new dt(K+"[1]",F[1],"string expected, "+fe+" found"));break;case"within":fe=ei(F[1]),F.length!==2?Pe.push(new dt(K,F,'filter array for "'+F[0]+'" operator must have 2 elements')):fe!=="object"&&Pe.push(new dt(K+"[1]",F[1],"object expected, "+fe+" found"))}return Pe}function Bl(E,F){var K=E.key,fe=E.style,ke=E.styleSpec,Pe=E.value,He=E.objectKey,Qe=ke[F+"_"+E.layerType];if(!Qe)return[];var ct=He.match(/^(.*)-transition$/);if(F==="paint"&&ct&&Qe[ct[1]]&&Qe[ct[1]].transition)return ha({key:K,value:Pe,valueSpec:ke.transition,style:fe,styleSpec:ke});var _t,Tt=E.valueSpec||Qe[He];if(!Tt)return[new dt(K,Pe,'unknown property "'+He+'"')];if(ei(Pe)==="string"&&rs(Tt)&&!Tt.tokens&&(_t=/^{([^}]+)}$/.exec(Pe)))return[new dt(K,Pe,'"'+He+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(_t[1])+" }`.")];var Nt=[];return E.layerType==="symbol"&&(He==="text-field"&&fe&&!fe.glyphs&&Nt.push(new dt(K,Pe,'use of "text-field" requires a style "glyphs" property')),He==="text-font"&&ml(kt(Pe))&&ht(Pe.type)==="identity"&&Nt.push(new dt(K,Pe,'"text-font" does not support identity functions'))),Nt.concat(ha({key:E.key,value:Pe,valueSpec:Tt,style:fe,styleSpec:ke,expressionContext:"property",propertyType:F,propertyKey:He}))}function du(E){return Bl(E,"paint")}function jl(E){return Bl(E,"layout")}function Ul(E){var F=[],K=E.value,fe=E.key,ke=E.style,Pe=E.styleSpec;K.type||K.ref||F.push(new dt(fe,K,'either "type" or "ref" is required'));var He,Qe=ht(K.type),ct=ht(K.ref);if(K.id)for(var _t=ht(K.id),Tt=0;Tt<E.arrayIndex;Tt++){var Nt=ke.layers[Tt];ht(Nt.id)===_t&&F.push(new dt(fe,K.id,'duplicate layer id "'+K.id+'", previously used at line '+Nt.id.__line__))}if("ref"in K)["type","source","source-layer","filter","layout"].forEach(function(an){an in K&&F.push(new dt(fe,K[an],'"'+an+'" is prohibited for ref layers'))}),ke.layers.forEach(function(an){ht(an.id)===ct&&(He=an)}),He?He.ref?F.push(new dt(fe,K.ref,"ref cannot reference another ref layer")):Qe=ht(He.type):F.push(new dt(fe,K.ref,'ref layer "'+ct+'" not found'));else if(Qe!=="background")if(K.source){var qt=ke.sources&&ke.sources[K.source],Ut=qt&&ht(qt.type);qt?Ut==="vector"&&Qe==="raster"?F.push(new dt(fe,K.source,'layer "'+K.id+'" requires a raster source')):Ut==="raster"&&Qe!=="raster"?F.push(new dt(fe,K.source,'layer "'+K.id+'" requires a vector source')):Ut!=="vector"||K["source-layer"]?Ut==="raster-dem"&&Qe!=="hillshade"?F.push(new dt(fe,K.source,"raster-dem source can only be used with layer type 'hillshade'.")):Qe!=="line"||!K.paint||!K.paint["line-gradient"]||Ut==="geojson"&&qt.lineMetrics||F.push(new dt(fe,K,'layer "'+K.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):F.push(new dt(fe,K,'layer "'+K.id+'" must specify a "source-layer"')):F.push(new dt(fe,K.source,'source "'+K.source+'" not found'))}else F.push(new dt(fe,K,'missing required property "source"'));return F=F.concat(na({key:fe,value:K,valueSpec:Pe.layer,style:E.style,styleSpec:E.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ha({key:fe+".type",value:K.type,valueSpec:Pe.layer.type,style:E.style,styleSpec:E.styleSpec,object:K,objectKey:"type"})},filter:ra,layout:function(an){return na({layer:K,key:an.key,value:an.value,style:an.style,styleSpec:an.styleSpec,objectElementValidators:{"*":function(un){return jl(yt({layerType:Qe},un))}}})},paint:function(an){return na({layer:K,key:an.key,value:an.value,style:an.style,styleSpec:an.styleSpec,objectElementValidators:{"*":function(un){return du(yt({layerType:Qe},un))}}})}}})),F}function fa(E){var F=E.value,K=E.key,fe=ei(F);return fe!=="string"?[new dt(K,F,"string expected, "+fe+" found")]:[]}var As={promoteId:function(E){var F=E.key,K=E.value;if(ei(K)==="string")return fa({key:F,value:K});var fe=[];for(var ke in K)fe.push.apply(fe,fa({key:F+"."+ke,value:K[ke]}));return fe}};function ks(E){var F=E.value,K=E.key,fe=E.styleSpec,ke=E.style;if(!F.type)return[new dt(K,F,'"type" is required')];var Pe,He=ht(F.type);switch(He){case"vector":case"raster":case"raster-dem":return na({key:K,value:F,valueSpec:fe["source_"+He.replace("-","_")],style:E.style,styleSpec:fe,objectElementValidators:As});case"geojson":if(Pe=na({key:K,value:F,valueSpec:fe.source_geojson,style:ke,styleSpec:fe,objectElementValidators:As}),F.cluster)for(var Qe in F.clusterProperties){var ct=F.clusterProperties[Qe],_t=ct[0],Tt=ct[1],Nt=typeof _t=="string"?[_t,["accumulated"],["get",Qe]]:_t;Pe.push.apply(Pe,Ks({key:K+"."+Qe+".map",value:Tt,expressionContext:"cluster-map"})),Pe.push.apply(Pe,Ks({key:K+"."+Qe+".reduce",value:Nt,expressionContext:"cluster-reduce"}))}return Pe;case"video":return na({key:K,value:F,valueSpec:fe.source_video,style:ke,styleSpec:fe});case"image":return na({key:K,value:F,valueSpec:fe.source_image,style:ke,styleSpec:fe});case"canvas":return[new dt(K,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bl({key:K+".type",value:F.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ke,styleSpec:fe})}}function Lo(E){var F=E.value,K=E.styleSpec,fe=K.light,ke=E.style,Pe=[],He=ei(F);if(F===void 0)return Pe;if(He!=="object")return Pe.concat([new dt("light",F,"object expected, "+He+" found")]);for(var Qe in F){var ct=Qe.match(/^(.*)-transition$/);Pe=ct&&fe[ct[1]]&&fe[ct[1]].transition?Pe.concat(ha({key:Qe,value:F[Qe],valueSpec:K.transition,style:ke,styleSpec:K})):fe[Qe]?Pe.concat(ha({key:Qe,value:F[Qe],valueSpec:fe[Qe],style:ke,styleSpec:K})):Pe.concat([new dt(Qe,F[Qe],'unknown property "'+Qe+'"')])}return Pe}var Vl={"*":function(){return[]},array:fu,boolean:function(E){var F=E.value,K=E.key,fe=ei(F);return fe!=="boolean"?[new dt(K,F,"boolean expected, "+fe+" found")]:[]},number:nc,color:function(E){var F=E.key,K=E.value,fe=ei(K);return fe!=="string"?[new dt(F,K,"color expected, "+fe+" found")]:En(K)===null?[new dt(F,K,'color expected, "'+K+'" found')]:[]},constants:mt,enum:bl,filter:ra,function:xl,layer:Ul,object:na,source:ks,light:Lo,string:fa,formatted:function(E){return fa(E).length===0?[]:Ks(E)},resolvedImage:function(E){return fa(E).length===0?[]:Ks(E)}};function ha(E){var F=E.value,K=E.valueSpec,fe=E.styleSpec;return K.expression&&ml(ht(F))?xl(E):K.expression&&Xs(kt(F))?Ks(E):K.type&&Vl[K.type]?Vl[K.type](E):na(yt({},E,{valueSpec:K.type?fe[K.type]:K}))}function ho(E){var F=E.value,K=E.key,fe=fa(E);return fe.length||(F.indexOf("{fontstack}")===-1&&fe.push(new dt(K,F,'"glyphs" url must include a "{fontstack}" token')),F.indexOf("{range}")===-1&&fe.push(new dt(K,F,'"glyphs" url must include a "{range}" token'))),fe}function xo(E,F){F===void 0&&(F=$e);var K=[];return K=K.concat(ha({key:"",value:E,valueSpec:F.$root,styleSpec:F,style:E,objectElementValidators:{glyphs:ho,"*":function(){return[]}}})),E.constants&&(K=K.concat(mt({key:"constants",value:E.constants,style:E,styleSpec:F}))),ki(K)}function ki(E){return[].concat(E).sort(function(F,K){return F.line-K.line})}function bo(E){return function(){for(var F=[],K=arguments.length;K--;)F[K]=arguments[K];return ki(E.apply(this,F))}}xo.source=bo(ks),xo.light=bo(Lo),xo.layer=bo(Ul),xo.filter=bo(ra),xo.paintProperty=bo(du),xo.layoutProperty=bo(jl);var Ga=xo,el=Ga.light,Sa=Ga.paintProperty,Ss=Ga.layoutProperty;function Bo(E,F){var K=!1;if(F&&F.length)for(var fe=0,ke=F;fe<ke.length;fe+=1){var Pe=ke[fe];E.fire(new je(new Error(Pe.message))),K=!0}return K}var tl=da,as=3;function da(E,F,K){var fe=this.cells=[];if(E instanceof ArrayBuffer){this.arrayBuffer=E;var ke=new Int32Array(this.arrayBuffer);E=ke[0],F=ke[1],K=ke[2],this.d=F+2*K;for(var Pe=0;Pe<this.d*this.d;Pe++){var He=ke[as+Pe],Qe=ke[as+Pe+1];fe.push(He===Qe?null:ke.subarray(He,Qe))}var ct=ke[as+fe.length],_t=ke[as+fe.length+1];this.keys=ke.subarray(ct,_t),this.bboxes=ke.subarray(_t),this.insert=this._insertReadonly}else{this.d=F+2*K;for(var Tt=0;Tt<this.d*this.d;Tt++)fe.push([]);this.keys=[],this.bboxes=[]}this.n=F,this.extent=E,this.padding=K,this.scale=F/E,this.uid=0;var Nt=K/F*E;this.min=-Nt,this.max=E+Nt}da.prototype.insert=function(E,F,K,fe,ke){this._forEachCell(F,K,fe,ke,this._insertCell,this.uid++),this.keys.push(E),this.bboxes.push(F),this.bboxes.push(K),this.bboxes.push(fe),this.bboxes.push(ke)},da.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},da.prototype._insertCell=function(E,F,K,fe,ke,Pe){this.cells[ke].push(Pe)},da.prototype.query=function(E,F,K,fe,ke){var Pe=this.min,He=this.max;if(E<=Pe&&F<=Pe&&He<=K&&He<=fe&&!ke)return Array.prototype.slice.call(this.keys);var Qe=[];return this._forEachCell(E,F,K,fe,this._queryCell,Qe,{},ke),Qe},da.prototype._queryCell=function(E,F,K,fe,ke,Pe,He,Qe){var ct=this.cells[ke];if(ct!==null)for(var _t=this.keys,Tt=this.bboxes,Nt=0;Nt<ct.length;Nt++){var qt=ct[Nt];if(He[qt]===void 0){var Ut=4*qt;(Qe?Qe(Tt[Ut+0],Tt[Ut+1],Tt[Ut+2],Tt[Ut+3]):E<=Tt[Ut+2]&&F<=Tt[Ut+3]&&K>=Tt[Ut+0]&&fe>=Tt[Ut+1])?(He[qt]=!0,Pe.push(_t[qt])):He[qt]=!1}}},da.prototype._forEachCell=function(E,F,K,fe,ke,Pe,He,Qe){for(var ct=this._convertToCellCoord(E),_t=this._convertToCellCoord(F),Tt=this._convertToCellCoord(K),Nt=this._convertToCellCoord(fe),qt=ct;qt<=Tt;qt++)for(var Ut=_t;Ut<=Nt;Ut++){var an=this.d*Ut+qt;if((!Qe||Qe(this._convertFromCellCoord(qt),this._convertFromCellCoord(Ut),this._convertFromCellCoord(qt+1),this._convertFromCellCoord(Ut+1)))&&ke.call(this,E,F,K,fe,an,Pe,He,Qe))return}},da.prototype._convertFromCellCoord=function(E){return(E-this.padding)/this.scale},da.prototype._convertToCellCoord=function(E){return Math.max(0,Math.min(this.d-1,Math.floor(E*this.scale)+this.padding))},da.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var E=this.cells,F=as+this.cells.length+1+1,K=0,fe=0;fe<this.cells.length;fe++)K+=this.cells[fe].length;var ke=new Int32Array(F+K+this.keys.length+this.bboxes.length);ke[0]=this.extent,ke[1]=this.n,ke[2]=this.padding;for(var Pe=F,He=0;He<E.length;He++){var Qe=E[He];ke[as+He]=Pe,ke.set(Qe,Pe),Pe+=Qe.length}return ke[as+E.length]=Pe,ke.set(this.keys,Pe),Pe+=this.keys.length,ke[as+E.length+1]=Pe,ke.set(this.bboxes,Pe),Pe+=this.bboxes.length,ke.buffer};var pa=r.ImageData,Ci=r.ImageBitmap,Ea={};function Mr(E,F,K){K===void 0&&(K={}),Object.defineProperty(F,"_classRegistryKey",{value:E,writeable:!1}),Ea[E]={klass:F,omit:K.omit||[],shallow:K.shallow||[]}}for(var Hl in Mr("Object",Object),tl.serialize=function(E,F){var K=E.toArrayBuffer();return F&&F.push(K),{buffer:K}},tl.deserialize=function(E){return new tl(E.buffer)},Mr("Grid",tl),Mr("Color",Dn),Mr("Error",Error),Mr("ResolvedImage",Kn),Mr("StylePropertyFunction",Fl),Mr("StyleExpression",Ts,{omit:["_evaluator"]}),Mr("ZoomDependentExpression",yl),Mr("ZoomConstantExpression",Aa),Mr("CompoundExpression",vn,{omit:["_evaluate"]}),pl)pl[Hl]._classRegistryKey||Mr("Expression_"+Hl,pl[Hl]);function Iu(E){return E&&typeof ArrayBuffer<"u"&&(E instanceof ArrayBuffer||E.constructor&&E.constructor.name==="ArrayBuffer")}function Es(E){return Ci&&E instanceof Ci}function Cs(E,F){if(E==null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||E instanceof Boolean||E instanceof Number||E instanceof String||E instanceof Date||E instanceof RegExp)return E;if(Iu(E)||Es(E))return F&&F.push(E),E;if(ArrayBuffer.isView(E)){var K=E;return F&&F.push(K.buffer),K}if(E instanceof pa)return F&&F.push(E.data.buffer),E;if(Array.isArray(E)){for(var fe=[],ke=0,Pe=E;ke<Pe.length;ke+=1){var He=Pe[ke];fe.push(Cs(He,F))}return fe}if(typeof E=="object"){var Qe=E.constructor,ct=Qe._classRegistryKey;if(!ct)throw new Error("can't serialize object of unregistered class");var _t=Qe.serialize?Qe.serialize(E,F):{};if(!Qe.serialize){for(var Tt in E)if(E.hasOwnProperty(Tt)&&!(Ea[ct].omit.indexOf(Tt)>=0)){var Nt=E[Tt];_t[Tt]=Ea[ct].shallow.indexOf(Tt)>=0?Nt:Cs(Nt,F)}E instanceof Error&&(_t.message=E.message)}if(_t.$name)throw new Error("$name property is reserved for worker serialization logic.");return ct!=="Object"&&(_t.$name=ct),_t}throw new Error("can't serialize object of type "+typeof E)}function nl(E){if(E==null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||E instanceof Boolean||E instanceof Number||E instanceof String||E instanceof Date||E instanceof RegExp||Iu(E)||Es(E)||ArrayBuffer.isView(E)||E instanceof pa)return E;if(Array.isArray(E))return E.map(nl);if(typeof E=="object"){var F=E.$name||"Object",K=Ea[F].klass;if(!K)throw new Error("can't deserialize unregistered class "+F);if(K.deserialize)return K.deserialize(E);for(var fe=Object.create(K.prototype),ke=0,Pe=Object.keys(E);ke<Pe.length;ke+=1){var He=Pe[ke];if(He!=="$name"){var Qe=E[He];fe[He]=Ea[F].shallow.indexOf(He)>=0?Qe:nl(Qe)}}return fe}throw new Error("can't deserialize object of type "+typeof E)}var wl=function(){this.first=!0};wl.prototype.update=function(E,F){var K=Math.floor(E);return this.first?(this.first=!1,this.lastIntegerZoom=K,this.lastIntegerZoomTime=0,this.lastZoom=E,this.lastFloorZoom=K,!0):(this.lastFloorZoom>K?(this.lastIntegerZoom=K+1,this.lastIntegerZoomTime=F):this.lastFloorZoom<K&&(this.lastIntegerZoom=K,this.lastIntegerZoomTime=F),E!==this.lastZoom&&(this.lastZoom=E,this.lastFloorZoom=K,!0))};var yr={"Latin-1 Supplement":function(E){return E>=128&&E<=255},Arabic:function(E){return E>=1536&&E<=1791},"Arabic Supplement":function(E){return E>=1872&&E<=1919},"Arabic Extended-A":function(E){return E>=2208&&E<=2303},"Hangul Jamo":function(E){return E>=4352&&E<=4607},"Unified Canadian Aboriginal Syllabics":function(E){return E>=5120&&E<=5759},Khmer:function(E){return E>=6016&&E<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(E){return E>=6320&&E<=6399},"General Punctuation":function(E){return E>=8192&&E<=8303},"Letterlike Symbols":function(E){return E>=8448&&E<=8527},"Number Forms":function(E){return E>=8528&&E<=8591},"Miscellaneous Technical":function(E){return E>=8960&&E<=9215},"Control Pictures":function(E){return E>=9216&&E<=9279},"Optical Character Recognition":function(E){return E>=9280&&E<=9311},"Enclosed Alphanumerics":function(E){return E>=9312&&E<=9471},"Geometric Shapes":function(E){return E>=9632&&E<=9727},"Miscellaneous Symbols":function(E){return E>=9728&&E<=9983},"Miscellaneous Symbols and Arrows":function(E){return E>=11008&&E<=11263},"CJK Radicals Supplement":function(E){return E>=11904&&E<=12031},"Kangxi Radicals":function(E){return E>=12032&&E<=12255},"Ideographic Description Characters":function(E){return E>=12272&&E<=12287},"CJK Symbols and Punctuation":function(E){return E>=12288&&E<=12351},Hiragana:function(E){return E>=12352&&E<=12447},Katakana:function(E){return E>=12448&&E<=12543},Bopomofo:function(E){return E>=12544&&E<=12591},"Hangul Compatibility Jamo":function(E){return E>=12592&&E<=12687},Kanbun:function(E){return E>=12688&&E<=12703},"Bopomofo Extended":function(E){return E>=12704&&E<=12735},"CJK Strokes":function(E){return E>=12736&&E<=12783},"Katakana Phonetic Extensions":function(E){return E>=12784&&E<=12799},"Enclosed CJK Letters and Months":function(E){return E>=12800&&E<=13055},"CJK Compatibility":function(E){return E>=13056&&E<=13311},"CJK Unified Ideographs Extension A":function(E){return E>=13312&&E<=19903},"Yijing Hexagram Symbols":function(E){return E>=19904&&E<=19967},"CJK Unified Ideographs":function(E){return E>=19968&&E<=40959},"Yi Syllables":function(E){return E>=40960&&E<=42127},"Yi Radicals":function(E){return E>=42128&&E<=42191},"Hangul Jamo Extended-A":function(E){return E>=43360&&E<=43391},"Hangul Syllables":function(E){return E>=44032&&E<=55215},"Hangul Jamo Extended-B":function(E){return E>=55216&&E<=55295},"Private Use Area":function(E){return E>=57344&&E<=63743},"CJK Compatibility Ideographs":function(E){return E>=63744&&E<=64255},"Arabic Presentation Forms-A":function(E){return E>=64336&&E<=65023},"Vertical Forms":function(E){return E>=65040&&E<=65055},"CJK Compatibility Forms":function(E){return E>=65072&&E<=65103},"Small Form Variants":function(E){return E>=65104&&E<=65135},"Arabic Presentation Forms-B":function(E){return E>=65136&&E<=65279},"Halfwidth and Fullwidth Forms":function(E){return E>=65280&&E<=65519}};function ql(E){for(var F=0,K=E;F<K.length;F+=1)if(ss(K[F].charCodeAt(0)))return!0;return!1}function ss(E){return!(E!==746&&E!==747&&(E<4352||!(yr["Bopomofo Extended"](E)||yr.Bopomofo(E)||yr["CJK Compatibility Forms"](E)&&!(E>=65097&&E<=65103)||yr["CJK Compatibility Ideographs"](E)||yr["CJK Compatibility"](E)||yr["CJK Radicals Supplement"](E)||yr["CJK Strokes"](E)||!(!yr["CJK Symbols and Punctuation"](E)||E>=12296&&E<=12305||E>=12308&&E<=12319||E===12336)||yr["CJK Unified Ideographs Extension A"](E)||yr["CJK Unified Ideographs"](E)||yr["Enclosed CJK Letters and Months"](E)||yr["Hangul Compatibility Jamo"](E)||yr["Hangul Jamo Extended-A"](E)||yr["Hangul Jamo Extended-B"](E)||yr["Hangul Jamo"](E)||yr["Hangul Syllables"](E)||yr.Hiragana(E)||yr["Ideographic Description Characters"](E)||yr.Kanbun(E)||yr["Kangxi Radicals"](E)||yr["Katakana Phonetic Extensions"](E)||yr.Katakana(E)&&E!==12540||!(!yr["Halfwidth and Fullwidth Forms"](E)||E===65288||E===65289||E===65293||E>=65306&&E<=65310||E===65339||E===65341||E===65343||E>=65371&&E<=65503||E===65507||E>=65512&&E<=65519)||!(!yr["Small Form Variants"](E)||E>=65112&&E<=65118||E>=65123&&E<=65126)||yr["Unified Canadian Aboriginal Syllabics"](E)||yr["Unified Canadian Aboriginal Syllabics Extended"](E)||yr["Vertical Forms"](E)||yr["Yijing Hexagram Symbols"](E)||yr["Yi Syllables"](E)||yr["Yi Radicals"](E))))}function po(E){return!(ss(E)||function(F){return!!(yr["Latin-1 Supplement"](F)&&(F===167||F===169||F===174||F===177||F===188||F===189||F===190||F===215||F===247)||yr["General Punctuation"](F)&&(F===8214||F===8224||F===8225||F===8240||F===8241||F===8251||F===8252||F===8258||F===8263||F===8264||F===8265||F===8273)||yr["Letterlike Symbols"](F)||yr["Number Forms"](F)||yr["Miscellaneous Technical"](F)&&(F>=8960&&F<=8967||F>=8972&&F<=8991||F>=8996&&F<=9e3||F===9003||F>=9085&&F<=9114||F>=9150&&F<=9165||F===9167||F>=9169&&F<=9179||F>=9186&&F<=9215)||yr["Control Pictures"](F)&&F!==9251||yr["Optical Character Recognition"](F)||yr["Enclosed Alphanumerics"](F)||yr["Geometric Shapes"](F)||yr["Miscellaneous Symbols"](F)&&!(F>=9754&&F<=9759)||yr["Miscellaneous Symbols and Arrows"](F)&&(F>=11026&&F<=11055||F>=11088&&F<=11097||F>=11192&&F<=11243)||yr["CJK Symbols and Punctuation"](F)||yr.Katakana(F)||yr["Private Use Area"](F)||yr["CJK Compatibility Forms"](F)||yr["Small Form Variants"](F)||yr["Halfwidth and Fullwidth Forms"](F)||F===8734||F===8756||F===8757||F>=9984&&F<=10087||F>=10102&&F<=10131||F===65532||F===65533)}(E))}function Ds(E){return yr.Arabic(E)||yr["Arabic Supplement"](E)||yr["Arabic Extended-A"](E)||yr["Arabic Presentation Forms-A"](E)||yr["Arabic Presentation Forms-B"](E)}function Ca(E){return E>=1424&&E<=2303||yr["Arabic Presentation Forms-A"](E)||yr["Arabic Presentation Forms-B"](E)}function ga(E,F){return!(!F&&Ca(E)||E>=2304&&E<=3583||E>=3840&&E<=4255||yr.Khmer(E))}function Oo(E){for(var F=0,K=E;F<K.length;F+=1)if(Ca(K[F].charCodeAt(0)))return!0;return!1}var Wa="deferred",ma="loading",ls="loaded",Gl="error",Is=null,ai="unavailable",_o=null,jo=function(E){E&&typeof E=="string"&&E.indexOf("NetworkError")>-1&&(ai=Gl),Is&&Is(E)};function Ya(){Uo.fire(new Be("pluginStateChange",{pluginStatus:ai,pluginURL:_o}))}var Uo=new ot,Tl=function(){return ai},Ml=function(){if(ai!==Wa||!_o)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ai=ma,Ya(),_o&&Rt({url:_o},function(E){E?jo(E):(ai=ls,Ya())})},Vo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ai===ls||Vo.applyArabicShaping!=null},isLoading:function(){return ai===ma},setState:function(E){ai=E.pluginStatus,_o=E.pluginURL},isParsed:function(){return Vo.applyArabicShaping!=null&&Vo.processBidirectionalText!=null&&Vo.processStyledBidirectionalText!=null},getPluginURL:function(){return _o}},ri=function(E,F){this.zoom=E,F?(this.now=F.now,this.fadeDuration=F.fadeDuration,this.zoomHistory=F.zoomHistory,this.transition=F.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new wl,this.transition={})};ri.prototype.isSupportedScript=function(E){return function(F,K){for(var fe=0,ke=F;fe<ke.length;fe+=1)if(!ga(ke[fe].charCodeAt(0),K))return!1;return!0}(E,Vo.isLoaded())},ri.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ri.prototype.getCrossfadeParameters=function(){var E=this.zoom,F=E-Math.floor(E),K=this.crossFadingFactor();return E>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:F+(1-F)*K}:{fromScale:.5,toScale:1,t:1-(1-K)*F}};var $a=function(E,F){this.property=E,this.value=F,this.expression=function(K,fe){if(ml(K))return new Fl(K,fe);if(Xs(K)){var ke=tc(K,fe);if(ke.result==="error")throw new Error(ke.value.map(function(He){return He.key+": "+He.message}).join(", "));return ke.value}var Pe=K;return typeof K=="string"&&fe.type==="color"&&(Pe=Dn.parse(K)),{kind:"constant",evaluate:function(){return Pe}}}(F===void 0?E.specification.default:F,E.specification)};$a.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},$a.prototype.possiblyEvaluate=function(E,F,K){return this.property.possiblyEvaluate(this,E,F,K)};var rl=function(E){this.property=E,this.value=new $a(E,void 0)};rl.prototype.transitioned=function(E,F){return new Al(this.property,this.value,F,c({},E.transition,this.transition),E.now)},rl.prototype.untransitioned=function(){return new Al(this.property,this.value,null,{},0)};var Da=function(E){this._properties=E,this._values=Object.create(E.defaultTransitionablePropertyValues)};Da.prototype.getValue=function(E){return C(this._values[E].value.value)},Da.prototype.setValue=function(E,F){this._values.hasOwnProperty(E)||(this._values[E]=new rl(this._values[E].property)),this._values[E].value=new $a(this._values[E].property,F===null?void 0:C(F))},Da.prototype.getTransition=function(E){return C(this._values[E].transition)},Da.prototype.setTransition=function(E,F){this._values.hasOwnProperty(E)||(this._values[E]=new rl(this._values[E].property)),this._values[E].transition=C(F)||void 0},Da.prototype.serialize=function(){for(var E={},F=0,K=Object.keys(this._values);F<K.length;F+=1){var fe=K[F],ke=this.getValue(fe);ke!==void 0&&(E[fe]=ke);var Pe=this.getTransition(fe);Pe!==void 0&&(E[fe+"-transition"]=Pe)}return E},Da.prototype.transitioned=function(E,F){for(var K=new kl(this._properties),fe=0,ke=Object.keys(this._values);fe<ke.length;fe+=1){var Pe=ke[fe];K._values[Pe]=this._values[Pe].transitioned(E,F._values[Pe])}return K},Da.prototype.untransitioned=function(){for(var E=new kl(this._properties),F=0,K=Object.keys(this._values);F<K.length;F+=1){var fe=K[F];E._values[fe]=this._values[fe].untransitioned()}return E};var Al=function(E,F,K,fe,ke){this.property=E,this.value=F,this.begin=ke+fe.delay||0,this.end=this.begin+fe.duration||0,E.specification.transition&&(fe.delay||fe.duration)&&(this.prior=K)};Al.prototype.possiblyEvaluate=function(E,F,K){var fe=E.now||0,ke=this.value.possiblyEvaluate(E,F,K),Pe=this.prior;if(Pe){if(fe>this.end)return this.prior=null,ke;if(this.value.isDataDriven())return this.prior=null,ke;if(fe<this.begin)return Pe.possiblyEvaluate(E,F,K);var He=(fe-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(E,F,K),ke,function(Qe){if(Qe<=0)return 0;if(Qe>=1)return 1;var ct=Qe*Qe,_t=ct*Qe;return 4*(Qe<.5?_t:3*(Qe-ct)+_t-.75)}(He))}return ke};var kl=function(E){this._properties=E,this._values=Object.create(E.defaultTransitioningPropertyValues)};kl.prototype.possiblyEvaluate=function(E,F,K){for(var fe=new il(this._properties),ke=0,Pe=Object.keys(this._values);ke<Pe.length;ke+=1){var He=Pe[ke];fe._values[He]=this._values[He].possiblyEvaluate(E,F,K)}return fe},kl.prototype.hasTransition=function(){for(var E=0,F=Object.keys(this._values);E<F.length;E+=1){var K=F[E];if(this._values[K].prior)return!0}return!1};var Ia=function(E){this._properties=E,this._values=Object.create(E.defaultPropertyValues)};Ia.prototype.getValue=function(E){return C(this._values[E].value)},Ia.prototype.setValue=function(E,F){this._values[E]=new $a(this._values[E].property,F===null?void 0:C(F))},Ia.prototype.serialize=function(){for(var E={},F=0,K=Object.keys(this._values);F<K.length;F+=1){var fe=K[F],ke=this.getValue(fe);ke!==void 0&&(E[fe]=ke)}return E},Ia.prototype.possiblyEvaluate=function(E,F,K){for(var fe=new il(this._properties),ke=0,Pe=Object.keys(this._values);ke<Pe.length;ke+=1){var He=Pe[ke];fe._values[He]=this._values[He].possiblyEvaluate(E,F,K)}return fe};var Di=function(E,F,K){this.property=E,this.value=F,this.parameters=K};Di.prototype.isConstant=function(){return this.value.kind==="constant"},Di.prototype.constantOr=function(E){return this.value.kind==="constant"?this.value.value:E},Di.prototype.evaluate=function(E,F,K,fe){return this.property.evaluate(this.value,this.parameters,E,F,K,fe)};var il=function(E){this._properties=E,this._values=Object.create(E.defaultPossiblyEvaluatedValues)};il.prototype.get=function(E){return this._values[E]};var Sr=function(E){this.specification=E};Sr.prototype.possiblyEvaluate=function(E,F){return E.expression.evaluate(F)},Sr.prototype.interpolate=function(E,F,K){var fe=Si[this.specification.type];return fe?fe(E,F,K):E};var Pr=function(E,F){this.specification=E,this.overrides=F};Pr.prototype.possiblyEvaluate=function(E,F,K,fe){return E.expression.kind==="constant"||E.expression.kind==="camera"?new Di(this,{kind:"constant",value:E.expression.evaluate(F,null,{},K,fe)},F):new Di(this,E.expression,F)},Pr.prototype.interpolate=function(E,F,K){if(E.value.kind!=="constant"||F.value.kind!=="constant")return E;if(E.value.value===void 0||F.value.value===void 0)return new Di(this,{kind:"constant",value:void 0},E.parameters);var fe=Si[this.specification.type];return fe?new Di(this,{kind:"constant",value:fe(E.value.value,F.value.value,K)},E.parameters):E},Pr.prototype.evaluate=function(E,F,K,fe,ke,Pe){return E.kind==="constant"?E.value:E.evaluate(F,K,fe,ke,Pe)};var ia=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.possiblyEvaluate=function(K,fe,ke,Pe){if(K.value===void 0)return new Di(this,{kind:"constant",value:void 0},fe);if(K.expression.kind==="constant"){var He=K.expression.evaluate(fe,null,{},ke,Pe),Qe=K.property.specification.type==="resolvedImage"&&typeof He!="string"?He.name:He,ct=this._calculate(Qe,Qe,Qe,fe);return new Di(this,{kind:"constant",value:ct},fe)}if(K.expression.kind==="camera"){var _t=this._calculate(K.expression.evaluate({zoom:fe.zoom-1}),K.expression.evaluate({zoom:fe.zoom}),K.expression.evaluate({zoom:fe.zoom+1}),fe);return new Di(this,{kind:"constant",value:_t},fe)}return new Di(this,K.expression,fe)},F.prototype.evaluate=function(K,fe,ke,Pe,He,Qe){if(K.kind==="source"){var ct=K.evaluate(fe,ke,Pe,He,Qe);return this._calculate(ct,ct,ct,fe)}return K.kind==="composite"?this._calculate(K.evaluate({zoom:Math.floor(fe.zoom)-1},ke,Pe),K.evaluate({zoom:Math.floor(fe.zoom)},ke,Pe),K.evaluate({zoom:Math.floor(fe.zoom)+1},ke,Pe),fe):K.value},F.prototype._calculate=function(K,fe,ke,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:K,to:fe}:{from:ke,to:fe}},F.prototype.interpolate=function(K){return K},F}(Pr),Za=function(E){this.specification=E};Za.prototype.possiblyEvaluate=function(E,F,K,fe){if(E.value!==void 0){if(E.expression.kind==="constant"){var ke=E.expression.evaluate(F,null,{},K,fe);return this._calculate(ke,ke,ke,F)}return this._calculate(E.expression.evaluate(new ri(Math.floor(F.zoom-1),F)),E.expression.evaluate(new ri(Math.floor(F.zoom),F)),E.expression.evaluate(new ri(Math.floor(F.zoom+1),F)),F)}},Za.prototype._calculate=function(E,F,K,fe){return fe.zoom>fe.zoomHistory.lastIntegerZoom?{from:E,to:F}:{from:K,to:F}},Za.prototype.interpolate=function(E){return E};var us=function(E){this.specification=E};us.prototype.possiblyEvaluate=function(E,F,K,fe){return!!E.expression.evaluate(F,null,{},K,fe)},us.prototype.interpolate=function(){return!1};var eo=function(E){for(var F in this.properties=E,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],E){var K=E[F];K.specification.overridable&&this.overridableProperties.push(F);var fe=this.defaultPropertyValues[F]=new $a(K,void 0),ke=this.defaultTransitionablePropertyValues[F]=new rl(K);this.defaultTransitioningPropertyValues[F]=ke.untransitioned(),this.defaultPossiblyEvaluatedValues[F]=fe.possiblyEvaluate({})}};Mr("DataDrivenProperty",Pr),Mr("DataConstantProperty",Sr),Mr("CrossFadedDataDrivenProperty",ia),Mr("CrossFadedProperty",Za),Mr("ColorRampProperty",us);var Xa="-transition",bi=function(E){function F(K,fe){if(E.call(this),this.id=K.id,this.type=K.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},K.type!=="custom"&&(this.metadata=K.metadata,this.minzoom=K.minzoom,this.maxzoom=K.maxzoom,K.type!=="background"&&(this.source=K.source,this.sourceLayer=K["source-layer"],this.filter=K.filter),fe.layout&&(this._unevaluatedLayout=new Ia(fe.layout)),fe.paint)){for(var ke in this._transitionablePaint=new Da(fe.paint),K.paint)this.setPaintProperty(ke,K.paint[ke],{validate:!1});for(var Pe in K.layout)this.setLayoutProperty(Pe,K.layout[Pe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new il(fe.paint)}}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},F.prototype.getLayoutProperty=function(K){return K==="visibility"?this.visibility:this._unevaluatedLayout.getValue(K)},F.prototype.setLayoutProperty=function(K,fe,ke){if(ke===void 0&&(ke={}),fe!=null){var Pe="layers."+this.id+".layout."+K;if(this._validate(Ss,Pe,K,fe,ke))return}K!=="visibility"?this._unevaluatedLayout.setValue(K,fe):this.visibility=fe},F.prototype.getPaintProperty=function(K){return _(K,Xa)?this._transitionablePaint.getTransition(K.slice(0,-11)):this._transitionablePaint.getValue(K)},F.prototype.setPaintProperty=function(K,fe,ke){if(ke===void 0&&(ke={}),fe!=null){var Pe="layers."+this.id+".paint."+K;if(this._validate(Sa,Pe,K,fe,ke))return!1}if(_(K,Xa))return this._transitionablePaint.setTransition(K.slice(0,-11),fe||void 0),!1;var He=this._transitionablePaint._values[K],Qe=He.property.specification["property-type"]==="cross-faded-data-driven",ct=He.value.isDataDriven(),_t=He.value;this._transitionablePaint.setValue(K,fe),this._handleSpecialPaintPropertyUpdate(K);var Tt=this._transitionablePaint._values[K].value;return Tt.isDataDriven()||ct||Qe||this._handleOverridablePaintPropertyUpdate(K,_t,Tt)},F.prototype._handleSpecialPaintPropertyUpdate=function(K){},F.prototype._handleOverridablePaintPropertyUpdate=function(K,fe,ke){return!1},F.prototype.isHidden=function(K){return!!(this.minzoom&&K<this.minzoom)||!!(this.maxzoom&&K>=this.maxzoom)||this.visibility==="none"},F.prototype.updateTransitions=function(K){this._transitioningPaint=this._transitionablePaint.transitioned(K,this._transitioningPaint)},F.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},F.prototype.recalculate=function(K,fe){K.getCrossfadeParameters&&(this._crossfadeParameters=K.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(K,void 0,fe)),this.paint=this._transitioningPaint.possiblyEvaluate(K,void 0,fe)},F.prototype.serialize=function(){var K={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(K.layout=K.layout||{},K.layout.visibility=this.visibility),d(K,function(fe,ke){return!(fe===void 0||ke==="layout"&&!Object.keys(fe).length||ke==="paint"&&!Object.keys(fe).length)})},F.prototype._validate=function(K,fe,ke,Pe,He){return He===void 0&&(He={}),(!He||He.validate!==!1)&&Bo(this,K.call(Ga,{key:fe,layerType:this.type,objectKey:ke,value:Pe,styleSpec:$e,style:{glyphs:!0,sprite:!0}}))},F.prototype.is3D=function(){return!1},F.prototype.isTileClipped=function(){return!1},F.prototype.hasOffscreenPass=function(){return!1},F.prototype.resize=function(){},F.prototype.isStateDependent=function(){for(var K in this.paint._values){var fe=this.paint.get(K);if(fe instanceof Di&&rs(fe.property.specification)&&(fe.value.kind==="source"||fe.value.kind==="composite")&&fe.value.isStateDependent)return!0}return!1},F}(ot),rc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},oa=function(E,F){this._structArray=E,this._pos1=F*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ti=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ni(E,F){F===void 0&&(F=1);var K=0,fe=0;return{members:E.map(function(ke){var Pe,He=(Pe=ke.type,rc[Pe].BYTES_PER_ELEMENT),Qe=K=Xo(K,Math.max(F,He)),ct=ke.components||1;return fe=Math.max(fe,He),K+=He*ct,{name:ke.name,type:ke.type,components:ct,offset:Qe}}),size:Xo(K,Math.max(fe,F)),alignment:F}}function Xo(E,F){return Math.ceil(E/F)*F}Ti.serialize=function(E,F){return E._trim(),F&&(E.isTransferred=!0,F.push(E.arrayBuffer)),{length:E.length,arrayBuffer:E.arrayBuffer}},Ti.deserialize=function(E){var F=Object.create(this.prototype);return F.arrayBuffer=E.arrayBuffer,F.length=E.length,F.capacity=E.arrayBuffer.byteLength/F.bytesPerElement,F._refreshViews(),F},Ti.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Ti.prototype.clear=function(){this.length=0},Ti.prototype.resize=function(E){this.reserve(E),this.length=E},Ti.prototype.reserve=function(E){if(E>this.capacity){this.capacity=Math.max(E,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var F=this.uint8;this._refreshViews(),F&&this.uint8.set(F)}},Ti.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ls=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe){var ke=this.length;return this.resize(ke+1),this.emplace(ke,K,fe)},F.prototype.emplace=function(K,fe,ke){var Pe=2*K;return this.int16[Pe+0]=fe,this.int16[Pe+1]=ke,K},F}(Ti);Ls.prototype.bytesPerElement=4,Mr("StructArrayLayout2i4",Ls);var Lu=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe){var He=this.length;return this.resize(He+1),this.emplace(He,K,fe,ke,Pe)},F.prototype.emplace=function(K,fe,ke,Pe,He){var Qe=4*K;return this.int16[Qe+0]=fe,this.int16[Qe+1]=ke,this.int16[Qe+2]=Pe,this.int16[Qe+3]=He,K},F}(Ti);Lu.prototype.bytesPerElement=8,Mr("StructArrayLayout4i8",Lu);var Je=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe){var ct=this.length;return this.resize(ct+1),this.emplace(ct,K,fe,ke,Pe,He,Qe)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct){var _t=6*K;return this.int16[_t+0]=fe,this.int16[_t+1]=ke,this.int16[_t+2]=Pe,this.int16[_t+3]=He,this.int16[_t+4]=Qe,this.int16[_t+5]=ct,K},F}(Ti);Je.prototype.bytesPerElement=12,Mr("StructArrayLayout2i4i12",Je);var tt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe){var ct=this.length;return this.resize(ct+1),this.emplace(ct,K,fe,ke,Pe,He,Qe)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct){var _t=4*K,Tt=8*K;return this.int16[_t+0]=fe,this.int16[_t+1]=ke,this.uint8[Tt+4]=Pe,this.uint8[Tt+5]=He,this.uint8[Tt+6]=Qe,this.uint8[Tt+7]=ct,K},F}(Ti);tt.prototype.bytesPerElement=8,Mr("StructArrayLayout2i4ub8",tt);var ut=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe){var ke=this.length;return this.resize(ke+1),this.emplace(ke,K,fe)},F.prototype.emplace=function(K,fe,ke){var Pe=2*K;return this.float32[Pe+0]=fe,this.float32[Pe+1]=ke,K},F}(Ti);ut.prototype.bytesPerElement=8,Mr("StructArrayLayout2f8",ut);var U=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt){var qt=this.length;return this.resize(qt+1),this.emplace(qt,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt){var Ut=10*K;return this.uint16[Ut+0]=fe,this.uint16[Ut+1]=ke,this.uint16[Ut+2]=Pe,this.uint16[Ut+3]=He,this.uint16[Ut+4]=Qe,this.uint16[Ut+5]=ct,this.uint16[Ut+6]=_t,this.uint16[Ut+7]=Tt,this.uint16[Ut+8]=Nt,this.uint16[Ut+9]=qt,K},F}(Ti);U.prototype.bytesPerElement=20,Mr("StructArrayLayout10ui20",U);var $=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut){var an=this.length;return this.resize(an+1),this.emplace(an,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an){var un=12*K;return this.int16[un+0]=fe,this.int16[un+1]=ke,this.int16[un+2]=Pe,this.int16[un+3]=He,this.uint16[un+4]=Qe,this.uint16[un+5]=ct,this.uint16[un+6]=_t,this.uint16[un+7]=Tt,this.int16[un+8]=Nt,this.int16[un+9]=qt,this.int16[un+10]=Ut,this.int16[un+11]=an,K},F}(Ti);$.prototype.bytesPerElement=24,Mr("StructArrayLayout4i4ui4i24",$);var W=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,fe,ke)},F.prototype.emplace=function(K,fe,ke,Pe){var He=3*K;return this.float32[He+0]=fe,this.float32[He+1]=ke,this.float32[He+2]=Pe,K},F}(Ti);W.prototype.bytesPerElement=12,Mr("StructArrayLayout3f12",W);var I=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,K)},F.prototype.emplace=function(K,fe){var ke=1*K;return this.uint32[ke+0]=fe,K},F}(Ti);I.prototype.bytesPerElement=4,Mr("StructArrayLayout1ul4",I);var G=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,K,fe,ke,Pe,He,Qe,ct,_t,Tt)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt){var qt=10*K,Ut=5*K;return this.int16[qt+0]=fe,this.int16[qt+1]=ke,this.int16[qt+2]=Pe,this.int16[qt+3]=He,this.int16[qt+4]=Qe,this.int16[qt+5]=ct,this.uint32[Ut+3]=_t,this.uint16[qt+8]=Tt,this.uint16[qt+9]=Nt,K},F}(Ti);G.prototype.bytesPerElement=20,Mr("StructArrayLayout6i1ul2ui20",G);var te=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe){var ct=this.length;return this.resize(ct+1),this.emplace(ct,K,fe,ke,Pe,He,Qe)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct){var _t=6*K;return this.int16[_t+0]=fe,this.int16[_t+1]=ke,this.int16[_t+2]=Pe,this.int16[_t+3]=He,this.int16[_t+4]=Qe,this.int16[_t+5]=ct,K},F}(Ti);te.prototype.bytesPerElement=12,Mr("StructArrayLayout2i2i2i12",te);var oe=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,K,fe,ke,Pe,He)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe){var ct=4*K,_t=8*K;return this.float32[ct+0]=fe,this.float32[ct+1]=ke,this.float32[ct+2]=Pe,this.int16[_t+6]=He,this.int16[_t+7]=Qe,K},F}(Ti);oe.prototype.bytesPerElement=16,Mr("StructArrayLayout2f1f2i16",oe);var he=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe){var He=this.length;return this.resize(He+1),this.emplace(He,K,fe,ke,Pe)},F.prototype.emplace=function(K,fe,ke,Pe,He){var Qe=12*K,ct=3*K;return this.uint8[Qe+0]=fe,this.uint8[Qe+1]=ke,this.float32[ct+1]=Pe,this.float32[ct+2]=He,K},F}(Ti);he.prototype.bytesPerElement=12,Mr("StructArrayLayout2ub2f12",he);var we=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,fe,ke)},F.prototype.emplace=function(K,fe,ke,Pe){var He=3*K;return this.uint16[He+0]=fe,this.uint16[He+1]=ke,this.uint16[He+2]=Pe,K},F}(Ti);we.prototype.bytesPerElement=6,Mr("StructArrayLayout3ui6",we);var Oe=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un,Mn,_n,Fn){var zn=this.length;return this.resize(zn+1),this.emplace(zn,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un,Mn,_n,Fn)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un,Mn,_n,Fn,zn){var qn=24*K,Xn=12*K,or=48*K;return this.int16[qn+0]=fe,this.int16[qn+1]=ke,this.uint16[qn+2]=Pe,this.uint16[qn+3]=He,this.uint32[Xn+2]=Qe,this.uint32[Xn+3]=ct,this.uint32[Xn+4]=_t,this.uint16[qn+10]=Tt,this.uint16[qn+11]=Nt,this.uint16[qn+12]=qt,this.float32[Xn+7]=Ut,this.float32[Xn+8]=an,this.uint8[or+36]=un,this.uint8[or+37]=Mn,this.uint8[or+38]=_n,this.uint32[Xn+10]=Fn,this.int16[qn+22]=zn,K},F}(Ti);Oe.prototype.bytesPerElement=48,Mr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Oe);var ze=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un,Mn,_n,Fn,zn,qn,Xn,or,vr,dr,_r,Tr,Hr,Ir,Ur){var Or=this.length;return this.resize(Or+1),this.emplace(Or,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un,Mn,_n,Fn,zn,qn,Xn,or,vr,dr,_r,Tr,Hr,Ir,Ur)},F.prototype.emplace=function(K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un,Mn,_n,Fn,zn,qn,Xn,or,vr,dr,_r,Tr,Hr,Ir,Ur,Or){var Cr=34*K,ui=17*K;return this.int16[Cr+0]=fe,this.int16[Cr+1]=ke,this.int16[Cr+2]=Pe,this.int16[Cr+3]=He,this.int16[Cr+4]=Qe,this.int16[Cr+5]=ct,this.int16[Cr+6]=_t,this.int16[Cr+7]=Tt,this.uint16[Cr+8]=Nt,this.uint16[Cr+9]=qt,this.uint16[Cr+10]=Ut,this.uint16[Cr+11]=an,this.uint16[Cr+12]=un,this.uint16[Cr+13]=Mn,this.uint16[Cr+14]=_n,this.uint16[Cr+15]=Fn,this.uint16[Cr+16]=zn,this.uint16[Cr+17]=qn,this.uint16[Cr+18]=Xn,this.uint16[Cr+19]=or,this.uint16[Cr+20]=vr,this.uint16[Cr+21]=dr,this.uint16[Cr+22]=_r,this.uint32[ui+12]=Tr,this.float32[ui+13]=Hr,this.float32[ui+14]=Ir,this.float32[ui+15]=Ur,this.float32[ui+16]=Or,K},F}(Ti);ze.prototype.bytesPerElement=68,Mr("StructArrayLayout8i15ui1ul4f68",ze);var qe=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,K)},F.prototype.emplace=function(K,fe){var ke=1*K;return this.float32[ke+0]=fe,K},F}(Ti);qe.prototype.bytesPerElement=4,Mr("StructArrayLayout1f4",qe);var We=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,fe,ke)},F.prototype.emplace=function(K,fe,ke,Pe){var He=3*K;return this.int16[He+0]=fe,this.int16[He+1]=ke,this.int16[He+2]=Pe,K},F}(Ti);We.prototype.bytesPerElement=6,Mr("StructArrayLayout3i6",We);var rt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,fe,ke)},F.prototype.emplace=function(K,fe,ke,Pe){var He=2*K,Qe=4*K;return this.uint32[He+0]=fe,this.uint16[Qe+2]=ke,this.uint16[Qe+3]=Pe,K},F}(Ti);rt.prototype.bytesPerElement=8,Mr("StructArrayLayout1ul2ui8",rt);var ft=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe){var ke=this.length;return this.resize(ke+1),this.emplace(ke,K,fe)},F.prototype.emplace=function(K,fe,ke){var Pe=2*K;return this.uint16[Pe+0]=fe,this.uint16[Pe+1]=ke,K},F}(Ti);ft.prototype.bytesPerElement=4,Mr("StructArrayLayout2ui4",ft);var pt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,K)},F.prototype.emplace=function(K,fe){var ke=1*K;return this.uint16[ke+0]=fe,K},F}(Ti);pt.prototype.bytesPerElement=2,Mr("StructArrayLayout1ui2",pt);var wt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,ke,Pe){var He=this.length;return this.resize(He+1),this.emplace(He,K,fe,ke,Pe)},F.prototype.emplace=function(K,fe,ke,Pe,He){var Qe=4*K;return this.float32[Qe+0]=fe,this.float32[Qe+1]=ke,this.float32[Qe+2]=Pe,this.float32[Qe+3]=He,K},F}(Ti);wt.prototype.bytesPerElement=16,Mr("StructArrayLayout4f16",wt);var Ct=function(E){function F(){E.apply(this,arguments)}E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F;var K={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return K.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},K.x1.get=function(){return this._structArray.int16[this._pos2+2]},K.y1.get=function(){return this._structArray.int16[this._pos2+3]},K.x2.get=function(){return this._structArray.int16[this._pos2+4]},K.y2.get=function(){return this._structArray.int16[this._pos2+5]},K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(F.prototype,K),F}(oa);Ct.prototype.size=20;var Mt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.get=function(K){return new Ct(this,K)},F}(G);Mr("CollisionBoxArray",Mt);var zt=function(E){function F(){E.apply(this,arguments)}E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},K.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},K.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},K.segment.get=function(){return this._structArray.uint16[this._pos2+10]},K.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},K.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},K.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},K.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},K.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},K.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},K.placedOrientation.set=function(fe){this._structArray.uint8[this._pos1+37]=fe},K.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},K.hidden.set=function(fe){this._structArray.uint8[this._pos1+38]=fe},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},K.crossTileID.set=function(fe){this._structArray.uint32[this._pos4+10]=fe},K.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(F.prototype,K),F}(oa);zt.prototype.size=48;var It=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.get=function(K){return new zt(this,K)},F}(Oe);Mr("PlacedSymbolArray",It);var Xt=function(E){function F(){E.apply(this,arguments)}E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},K.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},K.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},K.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},K.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},K.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},K.key.get=function(){return this._structArray.uint16[this._pos2+8]},K.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},K.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},K.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},K.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},K.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},K.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},K.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},K.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},K.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},K.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},K.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},K.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},K.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},K.crossTileID.set=function(fe){this._structArray.uint32[this._pos4+12]=fe},K.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},K.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},K.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},K.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(F.prototype,K),F}(oa);Xt.prototype.size=68;var Gt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.get=function(K){return new Xt(this,K)},F}(ze);Mr("SymbolInstanceArray",Gt);var Vt=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.getoffsetX=function(K){return this.float32[1*K+0]},F}(qe);Mr("GlyphOffsetArray",Vt);var pn=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.getx=function(K){return this.int16[3*K+0]},F.prototype.gety=function(K){return this.int16[3*K+1]},F.prototype.gettileUnitDistanceFromAnchor=function(K){return this.int16[3*K+2]},F}(We);Mr("SymbolLineVertexArray",pn);var yn=function(E){function F(){E.apply(this,arguments)}E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F;var K={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(F.prototype,K),F}(oa);yn.prototype.size=8;var Sn=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.get=function(K){return new yn(this,K)},F}(rt);Mr("FeatureIndexArray",Sn);var Pn=Ni([{name:"a_pos",components:2,type:"Int16"}],4).members,Vn=function(E){E===void 0&&(E=[]),this.segments=E};function ir(E,F){return 256*(E=u(Math.floor(E),0,255))+u(Math.floor(F),0,255)}Vn.prototype.prepareSegment=function(E,F,K,fe){var ke=this.segments[this.segments.length-1];return E>Vn.MAX_VERTEX_ARRAY_LENGTH&&D("Max vertices per segment is "+Vn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+E),(!ke||ke.vertexLength+E>Vn.MAX_VERTEX_ARRAY_LENGTH||ke.sortKey!==fe)&&(ke={vertexOffset:F.length,primitiveOffset:K.length,vertexLength:0,primitiveLength:0},fe!==void 0&&(ke.sortKey=fe),this.segments.push(ke)),ke},Vn.prototype.get=function(){return this.segments},Vn.prototype.destroy=function(){for(var E=0,F=this.segments;E<F.length;E+=1){var K=F[E];for(var fe in K.vaos)K.vaos[fe].destroy()}},Vn.simpleSegment=function(E,F,K,fe){return new Vn([{vertexOffset:E,primitiveOffset:F,vertexLength:K,primitiveLength:fe,vaos:{},sortKey:0}])},Vn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Mr("SegmentVector",Vn);var ur=Ni([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Yn=M(function(E){E.exports=function(F,K){var fe,ke,Pe,He,Qe,ct,_t,Tt;for(fe=3&F.length,ke=F.length-fe,Pe=K,Qe=3432918353,ct=461845907,Tt=0;Tt<ke;)_t=255&F.charCodeAt(Tt)|(255&F.charCodeAt(++Tt))<<8|(255&F.charCodeAt(++Tt))<<16|(255&F.charCodeAt(++Tt))<<24,++Tt,Pe=27492+(65535&(He=5*(65535&(Pe=(Pe^=_t=(65535&(_t=(_t=(65535&_t)*Qe+(((_t>>>16)*Qe&65535)<<16)&4294967295)<<15|_t>>>17))*ct+(((_t>>>16)*ct&65535)<<16)&4294967295)<<13|Pe>>>19))+((5*(Pe>>>16)&65535)<<16)&4294967295))+((58964+(He>>>16)&65535)<<16);switch(_t=0,fe){case 3:_t^=(255&F.charCodeAt(Tt+2))<<16;case 2:_t^=(255&F.charCodeAt(Tt+1))<<8;case 1:Pe^=_t=(65535&(_t=(_t=(65535&(_t^=255&F.charCodeAt(Tt)))*Qe+(((_t>>>16)*Qe&65535)<<16)&4294967295)<<15|_t>>>17))*ct+(((_t>>>16)*ct&65535)<<16)&4294967295}return Pe^=F.length,Pe=2246822507*(65535&(Pe^=Pe>>>16))+((2246822507*(Pe>>>16)&65535)<<16)&4294967295,Pe=3266489909*(65535&(Pe^=Pe>>>13))+((3266489909*(Pe>>>16)&65535)<<16)&4294967295,(Pe^=Pe>>>16)>>>0}}),lr=M(function(E){E.exports=function(F,K){for(var fe,ke=F.length,Pe=K^ke,He=0;ke>=4;)fe=1540483477*(65535&(fe=255&F.charCodeAt(He)|(255&F.charCodeAt(++He))<<8|(255&F.charCodeAt(++He))<<16|(255&F.charCodeAt(++He))<<24))+((1540483477*(fe>>>16)&65535)<<16),Pe=1540483477*(65535&Pe)+((1540483477*(Pe>>>16)&65535)<<16)^(fe=1540483477*(65535&(fe^=fe>>>24))+((1540483477*(fe>>>16)&65535)<<16)),ke-=4,++He;switch(ke){case 3:Pe^=(255&F.charCodeAt(He+2))<<16;case 2:Pe^=(255&F.charCodeAt(He+1))<<8;case 1:Pe=1540483477*(65535&(Pe^=255&F.charCodeAt(He)))+((1540483477*(Pe>>>16)&65535)<<16)}return Pe=1540483477*(65535&(Pe^=Pe>>>13))+((1540483477*(Pe>>>16)&65535)<<16),(Pe^=Pe>>>15)>>>0}}),xr=Yn,Er=Yn,tr=lr;xr.murmur3=Er,xr.murmur2=tr;var sr=function(){this.ids=[],this.positions=[],this.indexed=!1};sr.prototype.add=function(E,F,K,fe){this.ids.push(cr(E)),this.positions.push(F,K,fe)},sr.prototype.getPositions=function(E){for(var F=cr(E),K=0,fe=this.ids.length-1;K<fe;){var ke=K+fe>>1;this.ids[ke]>=F?fe=ke:K=ke+1}for(var Pe=[];this.ids[K]===F;){var He=this.positions[3*K],Qe=this.positions[3*K+1],ct=this.positions[3*K+2];Pe.push({index:He,start:Qe,end:ct}),K++}return Pe},sr.serialize=function(E,F){var K=new Float64Array(E.ids),fe=new Uint32Array(E.positions);return Ar(K,fe,0,K.length-1),F&&F.push(K.buffer,fe.buffer),{ids:K,positions:fe}},sr.deserialize=function(E){var F=new sr;return F.ids=E.ids,F.positions=E.positions,F.indexed=!0,F};var wr=Math.pow(2,53)-1;function cr(E){var F=+E;return!isNaN(F)&&F<=wr?F:xr(String(E))}function Ar(E,F,K,fe){for(;K<fe;){for(var ke=E[K+fe>>1],Pe=K-1,He=fe+1;;){do Pe++;while(E[Pe]<ke);do He--;while(E[He]>ke);if(Pe>=He)break;Lr(E,Pe,He),Lr(F,3*Pe,3*He),Lr(F,3*Pe+1,3*He+1),Lr(F,3*Pe+2,3*He+2)}He-K<fe-He?(Ar(E,F,K,He),K=He+1):(Ar(E,F,He+1,fe),fe=He)}}function Lr(E,F,K){var fe=E[F];E[F]=E[K],E[K]=fe}Mr("FeaturePositionMap",sr);var qr=function(E,F){this.gl=E.gl,this.location=F},Wr=function(E){function F(K,fe){E.call(this,K,fe),this.current=0}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1i(this.location,K))},F}(qr),Kr=function(E){function F(K,fe){E.call(this,K,fe),this.current=0}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1f(this.location,K))},F}(qr),ii=function(E){function F(K,fe){E.call(this,K,fe),this.current=[0,0]}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]||(this.current=K,this.gl.uniform2f(this.location,K[0],K[1]))},F}(qr),Ii=function(E){function F(K,fe){E.call(this,K,fe),this.current=[0,0,0]}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]||(this.current=K,this.gl.uniform3f(this.location,K[0],K[1],K[2]))},F}(qr),Zi=function(E){function F(K,fe){E.call(this,K,fe),this.current=[0,0,0,0]}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]&&K[3]===this.current[3]||(this.current=K,this.gl.uniform4f(this.location,K[0],K[1],K[2],K[3]))},F}(qr),Po=function(E){function F(K,fe){E.call(this,K,fe),this.current=Dn.transparent}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){K.r===this.current.r&&K.g===this.current.g&&K.b===this.current.b&&K.a===this.current.a||(this.current=K,this.gl.uniform4f(this.location,K.r,K.g,K.b,K.a))},F}(qr),go=new Float32Array(16),So=function(E){function F(K,fe){E.call(this,K,fe),this.current=go}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.set=function(K){if(K[12]!==this.current[12]||K[0]!==this.current[0])return this.current=K,void this.gl.uniformMatrix4fv(this.location,!1,K);for(var fe=1;fe<16;fe++)if(K[fe]!==this.current[fe]){this.current=K,this.gl.uniformMatrix4fv(this.location,!1,K);break}},F}(qr);function Fi(E){return[ir(255*E.r,255*E.g),ir(255*E.b,255*E.a)]}var si=function(E,F,K){this.value=E,this.uniformNames=F.map(function(fe){return"u_"+fe}),this.type=K};si.prototype.setUniform=function(E,F,K){E.set(K.constantOr(this.value))},si.prototype.getBinding=function(E,F,K){return this.type==="color"?new Po(E,F):new Kr(E,F)};var Hi=function(E,F){this.uniformNames=F.map(function(K){return"u_"+K}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Hi.prototype.setConstantPatternPositions=function(E,F){this.pixelRatioFrom=F.pixelRatio,this.pixelRatioTo=E.pixelRatio,this.patternFrom=F.tlbr,this.patternTo=E.tlbr},Hi.prototype.setUniform=function(E,F,K,fe){var ke=fe==="u_pattern_to"?this.patternTo:fe==="u_pattern_from"?this.patternFrom:fe==="u_pixel_ratio_to"?this.pixelRatioTo:fe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;ke&&E.set(ke)},Hi.prototype.getBinding=function(E,F,K){return K.substr(0,9)==="u_pattern"?new Zi(E,F):new Kr(E,F)};var Mi=function(E,F,K,fe){this.expression=E,this.type=K,this.maxValue=0,this.paintVertexAttributes=F.map(function(ke){return{name:"a_"+ke,type:"Float32",components:K==="color"?2:1,offset:0}}),this.paintVertexArray=new fe};Mi.prototype.populatePaintArray=function(E,F,K,fe,ke){var Pe=this.paintVertexArray.length,He=this.expression.evaluate(new ri(0),F,{},fe,[],ke);this.paintVertexArray.resize(E),this._setPaintValue(Pe,E,He)},Mi.prototype.updatePaintArray=function(E,F,K,fe){var ke=this.expression.evaluate({zoom:0},K,fe);this._setPaintValue(E,F,ke)},Mi.prototype._setPaintValue=function(E,F,K){if(this.type==="color")for(var fe=Fi(K),ke=E;ke<F;ke++)this.paintVertexArray.emplace(ke,fe[0],fe[1]);else{for(var Pe=E;Pe<F;Pe++)this.paintVertexArray.emplace(Pe,K);this.maxValue=Math.max(this.maxValue,Math.abs(K))}},Mi.prototype.upload=function(E){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=E.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Mi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var hi=function(E,F,K,fe,ke,Pe){this.expression=E,this.uniformNames=F.map(function(He){return"u_"+He+"_t"}),this.type=K,this.useIntegerZoom=fe,this.zoom=ke,this.maxValue=0,this.paintVertexAttributes=F.map(function(He){return{name:"a_"+He,type:"Float32",components:K==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};hi.prototype.populatePaintArray=function(E,F,K,fe,ke){var Pe=this.expression.evaluate(new ri(this.zoom),F,{},fe,[],ke),He=this.expression.evaluate(new ri(this.zoom+1),F,{},fe,[],ke),Qe=this.paintVertexArray.length;this.paintVertexArray.resize(E),this._setPaintValue(Qe,E,Pe,He)},hi.prototype.updatePaintArray=function(E,F,K,fe){var ke=this.expression.evaluate({zoom:this.zoom},K,fe),Pe=this.expression.evaluate({zoom:this.zoom+1},K,fe);this._setPaintValue(E,F,ke,Pe)},hi.prototype._setPaintValue=function(E,F,K,fe){if(this.type==="color")for(var ke=Fi(K),Pe=Fi(fe),He=E;He<F;He++)this.paintVertexArray.emplace(He,ke[0],ke[1],Pe[0],Pe[1]);else{for(var Qe=E;Qe<F;Qe++)this.paintVertexArray.emplace(Qe,K,fe);this.maxValue=Math.max(this.maxValue,Math.abs(K),Math.abs(fe))}},hi.prototype.upload=function(E){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=E.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},hi.prototype.setUniform=function(E,F){var K=this.useIntegerZoom?Math.floor(F.zoom):F.zoom,fe=u(this.expression.interpolationFactor(K,this.zoom,this.zoom+1),0,1);E.set(fe)},hi.prototype.getBinding=function(E,F,K){return new Kr(E,F)};var qi=function(E,F,K,fe,ke,Pe){this.expression=E,this.type=F,this.useIntegerZoom=K,this.zoom=fe,this.layerId=Pe,this.zoomInPaintVertexArray=new ke,this.zoomOutPaintVertexArray=new ke};qi.prototype.populatePaintArray=function(E,F,K){var fe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(E),this.zoomOutPaintVertexArray.resize(E),this._setPaintValues(fe,E,F.patterns&&F.patterns[this.layerId],K)},qi.prototype.updatePaintArray=function(E,F,K,fe,ke){this._setPaintValues(E,F,K.patterns&&K.patterns[this.layerId],ke)},qi.prototype._setPaintValues=function(E,F,K,fe){if(fe&&K){var ke=K.min,Pe=K.mid,He=K.max,Qe=fe[ke],ct=fe[Pe],_t=fe[He];if(Qe&&ct&&_t)for(var Tt=E;Tt<F;Tt++)this.zoomInPaintVertexArray.emplace(Tt,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],Qe.tl[0],Qe.tl[1],Qe.br[0],Qe.br[1],ct.pixelRatio,Qe.pixelRatio),this.zoomOutPaintVertexArray.emplace(Tt,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],_t.tl[0],_t.tl[1],_t.br[0],_t.br[1],ct.pixelRatio,_t.pixelRatio)}},qi.prototype.upload=function(E){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=E.createVertexBuffer(this.zoomInPaintVertexArray,ur.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=E.createVertexBuffer(this.zoomOutPaintVertexArray,ur.members,this.expression.isStateDependent))},qi.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Xi=function(E,F,K){this.binders={},this._buffers=[];var fe=[];for(var ke in E.paint._values)if(K(ke)){var Pe=E.paint.get(ke);if(Pe instanceof Di&&rs(Pe.property.specification)){var He=Sl(ke,E.type),Qe=Pe.value,ct=Pe.property.specification.type,_t=Pe.property.useIntegerZoom,Tt=Pe.property.specification["property-type"],Nt=Tt==="cross-faded"||Tt==="cross-faded-data-driven";if(Qe.kind==="constant")this.binders[ke]=Nt?new Hi(Qe.value,He):new si(Qe.value,He,ct),fe.push("/u_"+ke);else if(Qe.kind==="source"||Nt){var qt=El(ke,ct,"source");this.binders[ke]=Nt?new qi(Qe,ct,_t,F,qt,E.id):new Mi(Qe,He,ct,qt),fe.push("/a_"+ke)}else{var Ut=El(ke,ct,"composite");this.binders[ke]=new hi(Qe,He,ct,_t,F,Ut),fe.push("/z_"+ke)}}}this.cacheKey=fe.sort().join("")};Xi.prototype.getMaxValue=function(E){var F=this.binders[E];return F instanceof Mi||F instanceof hi?F.maxValue:0},Xi.prototype.populatePaintArrays=function(E,F,K,fe,ke){for(var Pe in this.binders){var He=this.binders[Pe];(He instanceof Mi||He instanceof hi||He instanceof qi)&&He.populatePaintArray(E,F,K,fe,ke)}},Xi.prototype.setConstantPatternPositions=function(E,F){for(var K in this.binders){var fe=this.binders[K];fe instanceof Hi&&fe.setConstantPatternPositions(E,F)}},Xi.prototype.updatePaintArrays=function(E,F,K,fe,ke){var Pe=!1;for(var He in E)for(var Qe=0,ct=F.getPositions(He);Qe<ct.length;Qe+=1){var _t=ct[Qe],Tt=K.feature(_t.index);for(var Nt in this.binders){var qt=this.binders[Nt];if((qt instanceof Mi||qt instanceof hi||qt instanceof qi)&&qt.expression.isStateDependent===!0){var Ut=fe.paint.get(Nt);qt.expression=Ut.value,qt.updatePaintArray(_t.start,_t.end,Tt,E[He],ke),Pe=!0}}}return Pe},Xi.prototype.defines=function(){var E=[];for(var F in this.binders){var K=this.binders[F];(K instanceof si||K instanceof Hi)&&E.push.apply(E,K.uniformNames.map(function(fe){return"#define HAS_UNIFORM_"+fe}))}return E},Xi.prototype.getBinderAttributes=function(){var E=[];for(var F in this.binders){var K=this.binders[F];if(K instanceof Mi||K instanceof hi)for(var fe=0;fe<K.paintVertexAttributes.length;fe++)E.push(K.paintVertexAttributes[fe].name);else if(K instanceof qi)for(var ke=0;ke<ur.members.length;ke++)E.push(ur.members[ke].name)}return E},Xi.prototype.getBinderUniforms=function(){var E=[];for(var F in this.binders){var K=this.binders[F];if(K instanceof si||K instanceof Hi||K instanceof hi)for(var fe=0,ke=K.uniformNames;fe<ke.length;fe+=1){var Pe=ke[fe];E.push(Pe)}}return E},Xi.prototype.getPaintVertexBuffers=function(){return this._buffers},Xi.prototype.getUniforms=function(E,F){var K=[];for(var fe in this.binders){var ke=this.binders[fe];if(ke instanceof si||ke instanceof Hi||ke instanceof hi)for(var Pe=0,He=ke.uniformNames;Pe<He.length;Pe+=1){var Qe=He[Pe];if(F[Qe]){var ct=ke.getBinding(E,F[Qe],Qe);K.push({name:Qe,property:fe,binding:ct})}}}return K},Xi.prototype.setUniforms=function(E,F,K,fe){for(var ke=0,Pe=F;ke<Pe.length;ke+=1){var He=Pe[ke],Qe=He.name,ct=He.property,_t=He.binding;this.binders[ct].setUniform(_t,fe,K.get(ct),Qe)}},Xi.prototype.updatePaintBuffers=function(E){for(var F in this._buffers=[],this.binders){var K=this.binders[F];if(E&&K instanceof qi){var fe=E.fromScale===2?K.zoomInPaintVertexBuffer:K.zoomOutPaintVertexBuffer;fe&&this._buffers.push(fe)}else(K instanceof Mi||K instanceof hi)&&K.paintVertexBuffer&&this._buffers.push(K.paintVertexBuffer)}},Xi.prototype.upload=function(E){for(var F in this.binders){var K=this.binders[F];(K instanceof Mi||K instanceof hi||K instanceof qi)&&K.upload(E)}this.updatePaintBuffers()},Xi.prototype.destroy=function(){for(var E in this.binders){var F=this.binders[E];(F instanceof Mi||F instanceof hi||F instanceof qi)&&F.destroy()}};var so=function(E,F,K){K===void 0&&(K=function(){return!0}),this.programConfigurations={};for(var fe=0,ke=E;fe<ke.length;fe+=1){var Pe=ke[fe];this.programConfigurations[Pe.id]=new Xi(Pe,F,K)}this.needsUpload=!1,this._featureMap=new sr,this._bufferOffset=0};function Sl(E,F){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[E]||[E.replace(F+"-","").replace(/-/g,"_")]}function El(E,F,K){var fe={color:{source:ut,composite:wt},number:{source:qe,composite:ut}},ke=function(Pe){return{"line-pattern":{source:U,composite:U},"fill-pattern":{source:U,composite:U},"fill-extrusion-pattern":{source:U,composite:U}}[Pe]}(E);return ke&&ke[K]||fe[F][K]}so.prototype.populatePaintArrays=function(E,F,K,fe,ke,Pe){for(var He in this.programConfigurations)this.programConfigurations[He].populatePaintArrays(E,F,fe,ke,Pe);F.id!==void 0&&this._featureMap.add(F.id,K,this._bufferOffset,E),this._bufferOffset=E,this.needsUpload=!0},so.prototype.updatePaintArrays=function(E,F,K,fe){for(var ke=0,Pe=K;ke<Pe.length;ke+=1){var He=Pe[ke];this.needsUpload=this.programConfigurations[He.id].updatePaintArrays(E,this._featureMap,F,He,fe)||this.needsUpload}},so.prototype.get=function(E){return this.programConfigurations[E]},so.prototype.upload=function(E){if(this.needsUpload){for(var F in this.programConfigurations)this.programConfigurations[F].upload(E);this.needsUpload=!1}},so.prototype.destroy=function(){for(var E in this.programConfigurations)this.programConfigurations[E].destroy()},Mr("ConstantBinder",si),Mr("CrossFadedConstantBinder",Hi),Mr("SourceExpressionBinder",Mi),Mr("CrossFadedCompositeBinder",qi),Mr("CompositeExpressionBinder",hi),Mr("ProgramConfiguration",Xi,{omit:["_buffers"]}),Mr("ProgramConfigurationSet",so);var di=8192,pu=Math.pow(2,14)-1,Wl=-pu-1;function cs(E){for(var F=di/E.extent,K=E.loadGeometry(),fe=0;fe<K.length;fe++)for(var ke=K[fe],Pe=0;Pe<ke.length;Pe++){var He=ke[Pe],Qe=Math.round(He.x*F),ct=Math.round(He.y*F);He.x=u(Qe,Wl,pu),He.y=u(ct,Wl,pu),(Qe<He.x||Qe>He.x+1||ct<He.y||ct>He.y+1)&&D("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return K}function Gi(E,F){return{type:E.type,id:E.id,properties:E.properties,geometry:F?cs(E):[]}}function aa(E,F,K,fe,ke){E.emplaceBack(2*F+(fe+1)/2,2*K+(ke+1)/2)}var wo=function(E){this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=E.index,this.hasPattern=!1,this.layoutVertexArray=new Ls,this.indexArray=new we,this.segments=new Vn,this.programConfigurations=new so(E.layers,E.zoom),this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function Oc(E,F){for(var K=0;K<E.length;K++)if(gu(F,E[K]))return!0;for(var fe=0;fe<F.length;fe++)if(gu(E,F[fe]))return!0;return!!ic(E,F)}function Eg(E,F,K){return!!gu(E,F)||!!oc(F,E,K)}function rp(E,F){if(E.length===1)return op(F,E[0]);for(var K=0;K<F.length;K++)for(var fe=F[K],ke=0;ke<fe.length;ke++)if(gu(E,fe[ke]))return!0;for(var Pe=0;Pe<E.length;Pe++)if(op(F,E[Pe]))return!0;for(var He=0;He<F.length;He++)if(ic(E,F[He]))return!0;return!1}function Cg(E,F,K){if(E.length>1){if(ic(E,F))return!0;for(var fe=0;fe<F.length;fe++)if(oc(F[fe],E,K))return!0}for(var ke=0;ke<E.length;ke++)if(oc(E[ke],F,K))return!0;return!1}function ic(E,F){if(E.length===0||F.length===0)return!1;for(var K=0;K<E.length-1;K++)for(var fe=E[K],ke=E[K+1],Pe=0;Pe<F.length-1;Pe++)if(Dg(fe,ke,F[Pe],F[Pe+1]))return!0;return!1}function Dg(E,F,K,fe){return O(E,K,fe)!==O(F,K,fe)&&O(E,F,K)!==O(E,F,fe)}function oc(E,F,K){var fe=K*K;if(F.length===1)return E.distSqr(F[0])<fe;for(var ke=1;ke<F.length;ke++)if(ip(E,F[ke-1],F[ke])<fe)return!0;return!1}function ip(E,F,K){var fe=F.distSqr(K);if(fe===0)return E.distSqr(F);var ke=((E.x-F.x)*(K.x-F.x)+(E.y-F.y)*(K.y-F.y))/fe;return ke<0?E.distSqr(F):ke>1?E.distSqr(K):E.distSqr(K.sub(F)._mult(ke)._add(F))}function op(E,F){for(var K,fe,ke,Pe=!1,He=0;He<E.length;He++)for(var Qe=0,ct=(K=E[He]).length-1;Qe<K.length;ct=Qe++)fe=K[Qe],ke=K[ct],fe.y>F.y!=ke.y>F.y&&F.x<(ke.x-fe.x)*(F.y-fe.y)/(ke.y-fe.y)+fe.x&&(Pe=!Pe);return Pe}function gu(E,F){for(var K=!1,fe=0,ke=E.length-1;fe<E.length;ke=fe++){var Pe=E[fe],He=E[ke];Pe.y>F.y!=He.y>F.y&&F.x<(He.x-Pe.x)*(F.y-Pe.y)/(He.y-Pe.y)+Pe.x&&(K=!K)}return K}function J4(E,F,K){var fe=K[0],ke=K[2];if(E.x<fe.x&&F.x<fe.x||E.x>ke.x&&F.x>ke.x||E.y<fe.y&&F.y<fe.y||E.y>ke.y&&F.y>ke.y)return!1;var Pe=O(E,F,K[0]);return Pe!==O(E,F,K[1])||Pe!==O(E,F,K[2])||Pe!==O(E,F,K[3])}function Ih(E,F,K){var fe=F.paint.get(E).value;return fe.kind==="constant"?fe.value:K.programConfigurations.get(F.id).getMaxValue(E)}function ap(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function sp(E,F,K,fe,ke){if(!F[0]&&!F[1])return E;var Pe=t.convert(F)._mult(ke);K==="viewport"&&Pe._rotate(-fe);for(var He=[],Qe=0;Qe<E.length;Qe++){var ct=E[Qe];He.push(ct.sub(Pe))}return He}wo.prototype.populate=function(E,F,K){var fe=this.layers[0],ke=[],Pe=null;fe.type==="circle"&&(Pe=fe.layout.get("circle-sort-key"));for(var He=0,Qe=E;He<Qe.length;He+=1){var ct=Qe[He],_t=ct.feature,Tt=ct.id,Nt=ct.index,qt=ct.sourceLayerIndex,Ut=this.layers[0]._featureFilter.needGeometry,an=Gi(_t,Ut);if(this.layers[0]._featureFilter.filter(new ri(this.zoom),an,K)){var un=Pe?Pe.evaluate(an,{},K):void 0,Mn={id:Tt,properties:_t.properties,type:_t.type,sourceLayerIndex:qt,index:Nt,geometry:Ut?an.geometry:cs(_t),patterns:{},sortKey:un};ke.push(Mn)}}Pe&&ke.sort(function(_r,Tr){return _r.sortKey-Tr.sortKey});for(var _n=0,Fn=ke;_n<Fn.length;_n+=1){var zn=Fn[_n],qn=zn,Xn=qn.geometry,or=qn.index,vr=qn.sourceLayerIndex,dr=E[or].feature;this.addFeature(zn,Xn,or,K),F.featureIndex.insert(dr,Xn,or,vr,this.index)}},wo.prototype.update=function(E,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,F,this.stateDependentLayers,K)},wo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},wo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wo.prototype.upload=function(E){this.uploaded||(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,Pn),this.indexBuffer=E.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(E),this.uploaded=!0},wo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wo.prototype.addFeature=function(E,F,K,fe){for(var ke=0,Pe=F;ke<Pe.length;ke+=1)for(var He=0,Qe=Pe[ke];He<Qe.length;He+=1){var ct=Qe[He],_t=ct.x,Tt=ct.y;if(!(_t<0||_t>=di||Tt<0||Tt>=di)){var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,E.sortKey),qt=Nt.vertexLength;aa(this.layoutVertexArray,_t,Tt,-1,-1),aa(this.layoutVertexArray,_t,Tt,1,-1),aa(this.layoutVertexArray,_t,Tt,1,1),aa(this.layoutVertexArray,_t,Tt,-1,1),this.indexArray.emplaceBack(qt,qt+1,qt+2),this.indexArray.emplaceBack(qt,qt+3,qt+2),Nt.vertexLength+=4,Nt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,K,{},fe)},Mr("CircleBucket",wo,{omit:["layers"]});var Q4=new eo({"circle-sort-key":new Pr($e.layout_circle["circle-sort-key"])}),eT={paint:new eo({"circle-radius":new Pr($e.paint_circle["circle-radius"]),"circle-color":new Pr($e.paint_circle["circle-color"]),"circle-blur":new Pr($e.paint_circle["circle-blur"]),"circle-opacity":new Pr($e.paint_circle["circle-opacity"]),"circle-translate":new Sr($e.paint_circle["circle-translate"]),"circle-translate-anchor":new Sr($e.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Sr($e.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Sr($e.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pr($e.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pr($e.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pr($e.paint_circle["circle-stroke-opacity"])}),layout:Q4},Os=typeof Float32Array<"u"?Float32Array:Array;function Ig(E){return E[0]=1,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=1,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=1,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,E}function W1(E,F,K){var fe=F[0],ke=F[1],Pe=F[2],He=F[3],Qe=F[4],ct=F[5],_t=F[6],Tt=F[7],Nt=F[8],qt=F[9],Ut=F[10],an=F[11],un=F[12],Mn=F[13],_n=F[14],Fn=F[15],zn=K[0],qn=K[1],Xn=K[2],or=K[3];return E[0]=zn*fe+qn*Qe+Xn*Nt+or*un,E[1]=zn*ke+qn*ct+Xn*qt+or*Mn,E[2]=zn*Pe+qn*_t+Xn*Ut+or*_n,E[3]=zn*He+qn*Tt+Xn*an+or*Fn,zn=K[4],qn=K[5],Xn=K[6],or=K[7],E[4]=zn*fe+qn*Qe+Xn*Nt+or*un,E[5]=zn*ke+qn*ct+Xn*qt+or*Mn,E[6]=zn*Pe+qn*_t+Xn*Ut+or*_n,E[7]=zn*He+qn*Tt+Xn*an+or*Fn,zn=K[8],qn=K[9],Xn=K[10],or=K[11],E[8]=zn*fe+qn*Qe+Xn*Nt+or*un,E[9]=zn*ke+qn*ct+Xn*qt+or*Mn,E[10]=zn*Pe+qn*_t+Xn*Ut+or*_n,E[11]=zn*He+qn*Tt+Xn*an+or*Fn,zn=K[12],qn=K[13],Xn=K[14],or=K[15],E[12]=zn*fe+qn*Qe+Xn*Nt+or*un,E[13]=zn*ke+qn*ct+Xn*qt+or*Mn,E[14]=zn*Pe+qn*_t+Xn*Ut+or*_n,E[15]=zn*He+qn*Tt+Xn*an+or*Fn,E}Math.hypot||(Math.hypot=function(){for(var E=arguments,F=0,K=arguments.length;K--;)F+=E[K]*E[K];return Math.sqrt(F)});var tT=W1,lp,nT=function(E,F,K){return E[0]=F[0]-K[0],E[1]=F[1]-K[1],E[2]=F[2]-K[2],E};function up(E,F,K){var fe=F[0],ke=F[1],Pe=F[2],He=F[3];return E[0]=K[0]*fe+K[4]*ke+K[8]*Pe+K[12]*He,E[1]=K[1]*fe+K[5]*ke+K[9]*Pe+K[13]*He,E[2]=K[2]*fe+K[6]*ke+K[10]*Pe+K[14]*He,E[3]=K[3]*fe+K[7]*ke+K[11]*Pe+K[15]*He,E}lp=new Os(3),Os!=Float32Array&&(lp[0]=0,lp[1]=0,lp[2]=0),function(){var E=new Os(4);Os!=Float32Array&&(E[0]=0,E[1]=0,E[2]=0,E[3]=0)}();var rT=function(E){var F=E[0],K=E[1];return F*F+K*K},iT=(function(){var E=new Os(2);Os!=Float32Array&&(E[0]=0,E[1]=0)}(),function(E){function F(K){E.call(this,K,eT)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.createBucket=function(K){return new wo(K)},F.prototype.queryRadius=function(K){var fe=K;return Ih("circle-radius",this,fe)+Ih("circle-stroke-width",this,fe)+ap(this.paint.get("circle-translate"))},F.prototype.queryIntersectsFeature=function(K,fe,ke,Pe,He,Qe,ct,_t){for(var Tt=sp(K,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),Qe.angle,ct),Nt=this.paint.get("circle-radius").evaluate(fe,ke)+this.paint.get("circle-stroke-width").evaluate(fe,ke),qt=this.paint.get("circle-pitch-alignment")==="map",Ut=qt?Tt:function(vr,dr){return vr.map(function(_r){return Y1(_r,dr)})}(Tt,_t),an=qt?Nt*ct:Nt,un=0,Mn=Pe;un<Mn.length;un+=1)for(var _n=0,Fn=Mn[un];_n<Fn.length;_n+=1){var zn=Fn[_n],qn=qt?zn:Y1(zn,_t),Xn=an,or=up([],[zn.x,zn.y,0,1],_t);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Xn*=or[3]/Qe.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Xn*=Qe.cameraToCenterDistance/or[3]),Eg(Ut,qn,Xn))return!0}return!1},F}(bi));function Y1(E,F){var K=up([],[E.x,E.y,0,1],F);return new t(K[0]/K[3],K[1]/K[3])}var $1=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F}(wo);function Lg(E,F,K,fe){var ke=F.width,Pe=F.height;if(fe){if(fe instanceof Uint8ClampedArray)fe=new Uint8Array(fe.buffer);else if(fe.length!==ke*Pe*K)throw new RangeError("mismatched image size")}else fe=new Uint8Array(ke*Pe*K);return E.width=ke,E.height=Pe,E.data=fe,E}function Z1(E,F,K){var fe=F.width,ke=F.height;if(fe!==E.width||ke!==E.height){var Pe=Lg({},{width:fe,height:ke},K);Og(E,Pe,{x:0,y:0},{x:0,y:0},{width:Math.min(E.width,fe),height:Math.min(E.height,ke)},K),E.width=fe,E.height=ke,E.data=Pe.data}}function Og(E,F,K,fe,ke,Pe){if(ke.width===0||ke.height===0)return F;if(ke.width>E.width||ke.height>E.height||K.x>E.width-ke.width||K.y>E.height-ke.height)throw new RangeError("out of range source coordinates for image copy");if(ke.width>F.width||ke.height>F.height||fe.x>F.width-ke.width||fe.y>F.height-ke.height)throw new RangeError("out of range destination coordinates for image copy");for(var He=E.data,Qe=F.data,ct=0;ct<ke.height;ct++)for(var _t=((K.y+ct)*E.width+K.x)*Pe,Tt=((fe.y+ct)*F.width+fe.x)*Pe,Nt=0;Nt<ke.width*Pe;Nt++)Qe[Tt+Nt]=He[_t+Nt];return F}Mr("HeatmapBucket",$1,{omit:["layers"]});var Pc=function(E,F){Lg(this,E,1,F)};Pc.prototype.resize=function(E){Z1(this,E,1)},Pc.prototype.clone=function(){return new Pc({width:this.width,height:this.height},new Uint8Array(this.data))},Pc.copy=function(E,F,K,fe,ke){Og(E,F,K,fe,ke,1)};var Ka=function(E,F){Lg(this,E,4,F)};Ka.prototype.resize=function(E){Z1(this,E,4)},Ka.prototype.replace=function(E,F){F?this.data.set(E):E instanceof Uint8ClampedArray?this.data=new Uint8Array(E.buffer):this.data=E},Ka.prototype.clone=function(){return new Ka({width:this.width,height:this.height},new Uint8Array(this.data))},Ka.copy=function(E,F,K,fe,ke){Og(E,F,K,fe,ke,4)},Mr("AlphaImage",Pc),Mr("RGBAImage",Ka);var oT={paint:new eo({"heatmap-radius":new Pr($e.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pr($e.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Sr($e.paint_heatmap["heatmap-intensity"]),"heatmap-color":new us($e.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Sr($e.paint_heatmap["heatmap-opacity"])})};function X1(E){var F={},K=E.resolution||256,fe=E.clips?E.clips.length:1,ke=E.image||new Ka({width:K,height:fe}),Pe=function(an,un,Mn){F[E.evaluationKey]=Mn;var _n=E.expression.evaluate(F);ke.data[an+un+0]=Math.floor(255*_n.r/_n.a),ke.data[an+un+1]=Math.floor(255*_n.g/_n.a),ke.data[an+un+2]=Math.floor(255*_n.b/_n.a),ke.data[an+un+3]=Math.floor(255*_n.a)};if(E.clips)for(var He=0,Qe=0;He<fe;++He,Qe+=4*K)for(var ct=0,_t=0;ct<K;ct++,_t+=4){var Tt=ct/(K-1),Nt=E.clips[He];Pe(Qe,_t,Nt.start*(1-Tt)+Nt.end*Tt)}else for(var qt=0,Ut=0;qt<K;qt++,Ut+=4)Pe(0,Ut,qt/(K-1));return ke}var aT=function(E){function F(K){E.call(this,K,oT),this._updateColorRamp()}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.createBucket=function(K){return new $1(K)},F.prototype._handleSpecialPaintPropertyUpdate=function(K){K==="heatmap-color"&&this._updateColorRamp()},F.prototype._updateColorRamp=function(){var K=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=X1({expression:K,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},F.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},F}(bi),sT={paint:new eo({"hillshade-illumination-direction":new Sr($e.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Sr($e.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Sr($e.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Sr($e.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Sr($e.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Sr($e.paint_hillshade["hillshade-accent-color"])})},lT=function(E){function F(K){E.call(this,K,sT)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},F}(bi),uT=Ni([{name:"a_pos",components:2,type:"Int16"}],4).members,Pg=cp,cT=cp;function cp(E,F,K){K=K||2;var fe,ke,Pe,He,Qe,ct,_t,Tt=F&&F.length,Nt=Tt?F[0]*K:E.length,qt=K1(E,0,Nt,K,!0),Ut=[];if(!qt||qt.next===qt.prev)return Ut;if(Tt&&(qt=function(un,Mn,_n,Fn){var zn,qn,Xn,or=[];for(zn=0,qn=Mn.length;zn<qn;zn++)(Xn=K1(un,Mn[zn]*Fn,zn<qn-1?Mn[zn+1]*Fn:un.length,Fn,!1))===Xn.next&&(Xn.steiner=!0),or.push(yT(Xn));for(or.sort(gT),zn=0;zn<or.length;zn++)mT(or[zn],_n),_n=ac(_n,_n.next);return _n}(E,F,qt,K)),E.length>80*K){fe=Pe=E[0],ke=He=E[1];for(var an=K;an<Nt;an+=K)(Qe=E[an])<fe&&(fe=Qe),(ct=E[an+1])<ke&&(ke=ct),Qe>Pe&&(Pe=Qe),ct>He&&(He=ct);_t=(_t=Math.max(Pe-fe,He-ke))!==0?1/_t:0}return Lh(qt,Ut,K,fe,ke,_t),Ut}function K1(E,F,K,fe,ke){var Pe,He;if(ke===Fg(E,F,K,fe)>0)for(Pe=F;Pe<K;Pe+=fe)He=ex(Pe,E[Pe],E[Pe+1],He);else for(Pe=K-fe;Pe>=F;Pe-=fe)He=ex(Pe,E[Pe],E[Pe+1],He);return He&&fp(He,He.next)&&(Ph(He),He=He.next),He}function ac(E,F){if(!E)return E;F||(F=E);var K,fe=E;do if(K=!1,fe.steiner||!fp(fe,fe.next)&&Eo(fe.prev,fe,fe.next)!==0)fe=fe.next;else{if(Ph(fe),(fe=F=fe.prev)===fe.next)break;K=!0}while(K||fe!==F);return F}function Lh(E,F,K,fe,ke,Pe,He){if(E){!He&&Pe&&function(Tt,Nt,qt,Ut){var an=Tt;do an.z===null&&(an.z=Rg(an.x,an.y,Nt,qt,Ut)),an.prevZ=an.prev,an.nextZ=an.next,an=an.next;while(an!==Tt);an.prevZ.nextZ=null,an.prevZ=null,function(un){var Mn,_n,Fn,zn,qn,Xn,or,vr,dr=1;do{for(_n=un,un=null,qn=null,Xn=0;_n;){for(Xn++,Fn=_n,or=0,Mn=0;Mn<dr&&(or++,Fn=Fn.nextZ);Mn++);for(vr=dr;or>0||vr>0&&Fn;)or!==0&&(vr===0||!Fn||_n.z<=Fn.z)?(zn=_n,_n=_n.nextZ,or--):(zn=Fn,Fn=Fn.nextZ,vr--),qn?qn.nextZ=zn:un=zn,zn.prevZ=qn,qn=zn;_n=Fn}qn.nextZ=null,dr*=2}while(Xn>1)}(an)}(E,fe,ke,Pe);for(var Qe,ct,_t=E;E.prev!==E.next;)if(Qe=E.prev,ct=E.next,Pe?hT(E,fe,ke,Pe):fT(E))F.push(Qe.i/K),F.push(E.i/K),F.push(ct.i/K),Ph(E),E=ct.next,_t=ct.next;else if((E=ct)===_t){He?He===1?Lh(E=dT(ac(E),F,K),F,K,fe,ke,Pe,2):He===2&&pT(E,F,K,fe,ke,Pe):Lh(ac(E),F,K,fe,ke,Pe,1);break}}}function fT(E){var F=E.prev,K=E,fe=E.next;if(Eo(F,K,fe)>=0)return!1;for(var ke=E.next.next;ke!==E.prev;){if(_f(F.x,F.y,K.x,K.y,fe.x,fe.y,ke.x,ke.y)&&Eo(ke.prev,ke,ke.next)>=0)return!1;ke=ke.next}return!0}function hT(E,F,K,fe){var ke=E.prev,Pe=E,He=E.next;if(Eo(ke,Pe,He)>=0)return!1;for(var Qe=ke.x<Pe.x?ke.x<He.x?ke.x:He.x:Pe.x<He.x?Pe.x:He.x,ct=ke.y<Pe.y?ke.y<He.y?ke.y:He.y:Pe.y<He.y?Pe.y:He.y,_t=ke.x>Pe.x?ke.x>He.x?ke.x:He.x:Pe.x>He.x?Pe.x:He.x,Tt=ke.y>Pe.y?ke.y>He.y?ke.y:He.y:Pe.y>He.y?Pe.y:He.y,Nt=Rg(Qe,ct,F,K,fe),qt=Rg(_t,Tt,F,K,fe),Ut=E.prevZ,an=E.nextZ;Ut&&Ut.z>=Nt&&an&&an.z<=qt;){if(Ut!==E.prev&&Ut!==E.next&&_f(ke.x,ke.y,Pe.x,Pe.y,He.x,He.y,Ut.x,Ut.y)&&Eo(Ut.prev,Ut,Ut.next)>=0||(Ut=Ut.prevZ,an!==E.prev&&an!==E.next&&_f(ke.x,ke.y,Pe.x,Pe.y,He.x,He.y,an.x,an.y)&&Eo(an.prev,an,an.next)>=0))return!1;an=an.nextZ}for(;Ut&&Ut.z>=Nt;){if(Ut!==E.prev&&Ut!==E.next&&_f(ke.x,ke.y,Pe.x,Pe.y,He.x,He.y,Ut.x,Ut.y)&&Eo(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.prevZ}for(;an&&an.z<=qt;){if(an!==E.prev&&an!==E.next&&_f(ke.x,ke.y,Pe.x,Pe.y,He.x,He.y,an.x,an.y)&&Eo(an.prev,an,an.next)>=0)return!1;an=an.nextZ}return!0}function dT(E,F,K){var fe=E;do{var ke=fe.prev,Pe=fe.next.next;!fp(ke,Pe)&&J1(ke,fe,fe.next,Pe)&&Oh(ke,Pe)&&Oh(Pe,ke)&&(F.push(ke.i/K),F.push(fe.i/K),F.push(Pe.i/K),Ph(fe),Ph(fe.next),fe=E=Pe),fe=fe.next}while(fe!==E);return ac(fe)}function pT(E,F,K,fe,ke,Pe){var He=E;do{for(var Qe=He.next.next;Qe!==He.prev;){if(He.i!==Qe.i&&xT(He,Qe)){var ct=Q1(He,Qe);return He=ac(He,He.next),ct=ac(ct,ct.next),Lh(He,F,K,fe,ke,Pe),void Lh(ct,F,K,fe,ke,Pe)}Qe=Qe.next}He=He.next}while(He!==E)}function gT(E,F){return E.x-F.x}function mT(E,F){if(F=function(fe,ke){var Pe,He=ke,Qe=fe.x,ct=fe.y,_t=-1/0;do{if(ct<=He.y&&ct>=He.next.y&&He.next.y!==He.y){var Tt=He.x+(ct-He.y)*(He.next.x-He.x)/(He.next.y-He.y);if(Tt<=Qe&&Tt>_t){if(_t=Tt,Tt===Qe){if(ct===He.y)return He;if(ct===He.next.y)return He.next}Pe=He.x<He.next.x?He:He.next}}He=He.next}while(He!==ke);if(!Pe)return null;if(Qe===_t)return Pe;var Nt,qt=Pe,Ut=Pe.x,an=Pe.y,un=1/0;He=Pe;do Qe>=He.x&&He.x>=Ut&&Qe!==He.x&&_f(ct<an?Qe:_t,ct,Ut,an,ct<an?_t:Qe,ct,He.x,He.y)&&(Nt=Math.abs(ct-He.y)/(Qe-He.x),Oh(He,fe)&&(Nt<un||Nt===un&&(He.x>Pe.x||He.x===Pe.x&&vT(Pe,He)))&&(Pe=He,un=Nt)),He=He.next;while(He!==qt);return Pe}(E,F)){var K=Q1(F,E);ac(F,F.next),ac(K,K.next)}}function vT(E,F){return Eo(E.prev,E,F.prev)<0&&Eo(F.next,E,E.next)<0}function Rg(E,F,K,fe,ke){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-K)*ke)|E<<8))|E<<4))|E<<2))|E<<1))|(F=1431655765&((F=858993459&((F=252645135&((F=16711935&((F=32767*(F-fe)*ke)|F<<8))|F<<4))|F<<2))|F<<1))<<1}function yT(E){var F=E,K=E;do(F.x<K.x||F.x===K.x&&F.y<K.y)&&(K=F),F=F.next;while(F!==E);return K}function _f(E,F,K,fe,ke,Pe,He,Qe){return(ke-He)*(F-Qe)-(E-He)*(Pe-Qe)>=0&&(E-He)*(fe-Qe)-(K-He)*(F-Qe)>=0&&(K-He)*(Pe-Qe)-(ke-He)*(fe-Qe)>=0}function xT(E,F){return E.next.i!==F.i&&E.prev.i!==F.i&&!function(K,fe){var ke=K;do{if(ke.i!==K.i&&ke.next.i!==K.i&&ke.i!==fe.i&&ke.next.i!==fe.i&&J1(ke,ke.next,K,fe))return!0;ke=ke.next}while(ke!==K);return!1}(E,F)&&(Oh(E,F)&&Oh(F,E)&&function(K,fe){var ke=K,Pe=!1,He=(K.x+fe.x)/2,Qe=(K.y+fe.y)/2;do ke.y>Qe!=ke.next.y>Qe&&ke.next.y!==ke.y&&He<(ke.next.x-ke.x)*(Qe-ke.y)/(ke.next.y-ke.y)+ke.x&&(Pe=!Pe),ke=ke.next;while(ke!==K);return Pe}(E,F)&&(Eo(E.prev,E,F.prev)||Eo(E,F.prev,F))||fp(E,F)&&Eo(E.prev,E,E.next)>0&&Eo(F.prev,F,F.next)>0)}function Eo(E,F,K){return(F.y-E.y)*(K.x-F.x)-(F.x-E.x)*(K.y-F.y)}function fp(E,F){return E.x===F.x&&E.y===F.y}function J1(E,F,K,fe){var ke=dp(Eo(E,F,K)),Pe=dp(Eo(E,F,fe)),He=dp(Eo(K,fe,E)),Qe=dp(Eo(K,fe,F));return ke!==Pe&&He!==Qe||!(ke!==0||!hp(E,K,F))||!(Pe!==0||!hp(E,fe,F))||!(He!==0||!hp(K,E,fe))||!(Qe!==0||!hp(K,F,fe))}function hp(E,F,K){return F.x<=Math.max(E.x,K.x)&&F.x>=Math.min(E.x,K.x)&&F.y<=Math.max(E.y,K.y)&&F.y>=Math.min(E.y,K.y)}function dp(E){return E>0?1:E<0?-1:0}function Oh(E,F){return Eo(E.prev,E,E.next)<0?Eo(E,F,E.next)>=0&&Eo(E,E.prev,F)>=0:Eo(E,F,E.prev)<0||Eo(E,E.next,F)<0}function Q1(E,F){var K=new Ng(E.i,E.x,E.y),fe=new Ng(F.i,F.x,F.y),ke=E.next,Pe=F.prev;return E.next=F,F.prev=E,K.next=ke,ke.prev=K,fe.next=K,K.prev=fe,Pe.next=fe,fe.prev=Pe,fe}function ex(E,F,K,fe){var ke=new Ng(E,F,K);return fe?(ke.next=fe.next,ke.prev=fe,fe.next.prev=ke,fe.next=ke):(ke.prev=ke,ke.next=ke),ke}function Ph(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function Ng(E,F,K){this.i=E,this.x=F,this.y=K,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Fg(E,F,K,fe){for(var ke=0,Pe=F,He=K-fe;Pe<K;Pe+=fe)ke+=(E[He]-E[Pe])*(E[Pe+1]+E[He+1]),He=Pe;return ke}function bT(E,F,K,fe,ke){tx(E,F,K||0,fe||E.length-1,ke||_T)}function tx(E,F,K,fe,ke){for(;fe>K;){if(fe-K>600){var Pe=fe-K+1,He=F-K+1,Qe=Math.log(Pe),ct=.5*Math.exp(2*Qe/3),_t=.5*Math.sqrt(Qe*ct*(Pe-ct)/Pe)*(He-Pe/2<0?-1:1);tx(E,F,Math.max(K,Math.floor(F-He*ct/Pe+_t)),Math.min(fe,Math.floor(F+(Pe-He)*ct/Pe+_t)),ke)}var Tt=E[F],Nt=K,qt=fe;for(Rh(E,K,F),ke(E[fe],Tt)>0&&Rh(E,K,fe);Nt<qt;){for(Rh(E,Nt,qt),Nt++,qt--;ke(E[Nt],Tt)<0;)Nt++;for(;ke(E[qt],Tt)>0;)qt--}ke(E[K],Tt)===0?Rh(E,K,qt):Rh(E,++qt,fe),qt<=F&&(K=qt+1),F<=qt&&(fe=qt-1)}}function Rh(E,F,K){var fe=E[F];E[F]=E[K],E[K]=fe}function _T(E,F){return E<F?-1:E>F?1:0}function zg(E,F){var K=E.length;if(K<=1)return[E];for(var fe,ke,Pe=[],He=0;He<K;He++){var Qe=L(E[He]);Qe!==0&&(E[He].area=Math.abs(Qe),ke===void 0&&(ke=Qe<0),ke===Qe<0?(fe&&Pe.push(fe),fe=[E[He]]):fe.push(E[He]))}if(fe&&Pe.push(fe),F>1)for(var ct=0;ct<Pe.length;ct++)Pe[ct].length<=F||(bT(Pe[ct],F,1,Pe[ct].length-1,wT),Pe[ct]=Pe[ct].slice(0,F));return Pe}function wT(E,F){return F.area-E.area}function Bg(E,F,K){for(var fe=K.patternDependencies,ke=!1,Pe=0,He=F;Pe<He.length;Pe+=1){var Qe=He[Pe].paint.get(E+"-pattern");Qe.isConstant()||(ke=!0);var ct=Qe.constantOr(null);ct&&(ke=!0,fe[ct.to]=!0,fe[ct.from]=!0)}return ke}function jg(E,F,K,fe,ke){for(var Pe=ke.patternDependencies,He=0,Qe=F;He<Qe.length;He+=1){var ct=Qe[He],_t=ct.paint.get(E+"-pattern").value;if(_t.kind!=="constant"){var Tt=_t.evaluate({zoom:fe-1},K,{},ke.availableImages),Nt=_t.evaluate({zoom:fe},K,{},ke.availableImages),qt=_t.evaluate({zoom:fe+1},K,{},ke.availableImages);Tt=Tt&&Tt.name?Tt.name:Tt,Nt=Nt&&Nt.name?Nt.name:Nt,qt=qt&&qt.name?qt.name:qt,Pe[Tt]=!0,Pe[Nt]=!0,Pe[qt]=!0,K.patterns[ct.id]={min:Tt,mid:Nt,max:qt}}}return K}cp.deviation=function(E,F,K,fe){var ke=F&&F.length,Pe=ke?F[0]*K:E.length,He=Math.abs(Fg(E,0,Pe,K));if(ke)for(var Qe=0,ct=F.length;Qe<ct;Qe++){var _t=F[Qe]*K,Tt=Qe<ct-1?F[Qe+1]*K:E.length;He-=Math.abs(Fg(E,_t,Tt,K))}var Nt=0;for(Qe=0;Qe<fe.length;Qe+=3){var qt=fe[Qe]*K,Ut=fe[Qe+1]*K,an=fe[Qe+2]*K;Nt+=Math.abs((E[qt]-E[an])*(E[Ut+1]-E[qt+1])-(E[qt]-E[Ut])*(E[an+1]-E[qt+1]))}return He===0&&Nt===0?0:Math.abs((Nt-He)/He)},cp.flatten=function(E){for(var F=E[0][0].length,K={vertices:[],holes:[],dimensions:F},fe=0,ke=0;ke<E.length;ke++){for(var Pe=0;Pe<E[ke].length;Pe++)for(var He=0;He<F;He++)K.vertices.push(E[ke][Pe][He]);ke>0&&(fe+=E[ke-1].length,K.holes.push(fe))}return K},Pg.default=cT;var Yl=function(E){this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=E.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ls,this.indexArray=new we,this.indexArray2=new ft,this.programConfigurations=new so(E.layers,E.zoom),this.segments=new Vn,this.segments2=new Vn,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};Yl.prototype.populate=function(E,F,K){this.hasPattern=Bg("fill",this.layers,F);for(var fe=this.layers[0].layout.get("fill-sort-key"),ke=[],Pe=0,He=E;Pe<He.length;Pe+=1){var Qe=He[Pe],ct=Qe.feature,_t=Qe.id,Tt=Qe.index,Nt=Qe.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,Ut=Gi(ct,qt);if(this.layers[0]._featureFilter.filter(new ri(this.zoom),Ut,K)){var an=fe?fe.evaluate(Ut,{},K,F.availableImages):void 0,un={id:_t,properties:ct.properties,type:ct.type,sourceLayerIndex:Nt,index:Tt,geometry:qt?Ut.geometry:cs(ct),patterns:{},sortKey:an};ke.push(un)}}fe&&ke.sort(function(_r,Tr){return _r.sortKey-Tr.sortKey});for(var Mn=0,_n=ke;Mn<_n.length;Mn+=1){var Fn=_n[Mn],zn=Fn,qn=zn.geometry,Xn=zn.index,or=zn.sourceLayerIndex;if(this.hasPattern){var vr=jg("fill",this.layers,Fn,this.zoom,F);this.patternFeatures.push(vr)}else this.addFeature(Fn,qn,Xn,K,{});var dr=E[Xn].feature;F.featureIndex.insert(dr,qn,Xn,or,this.index)}},Yl.prototype.update=function(E,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,F,this.stateDependentLayers,K)},Yl.prototype.addFeatures=function(E,F,K){for(var fe=0,ke=this.patternFeatures;fe<ke.length;fe+=1){var Pe=ke[fe];this.addFeature(Pe,Pe.geometry,Pe.index,F,K)}},Yl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Yl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Yl.prototype.upload=function(E){this.uploaded||(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,uT),this.indexBuffer=E.createIndexBuffer(this.indexArray),this.indexBuffer2=E.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(E),this.uploaded=!0},Yl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Yl.prototype.addFeature=function(E,F,K,fe,ke){for(var Pe=0,He=zg(F,500);Pe<He.length;Pe+=1){for(var Qe=He[Pe],ct=0,_t=0,Tt=Qe;_t<Tt.length;_t+=1)ct+=Tt[_t].length;for(var Nt=this.segments.prepareSegment(ct,this.layoutVertexArray,this.indexArray),qt=Nt.vertexLength,Ut=[],an=[],un=0,Mn=Qe;un<Mn.length;un+=1){var _n=Mn[un];if(_n.length!==0){_n!==Qe[0]&&an.push(Ut.length/2);var Fn=this.segments2.prepareSegment(_n.length,this.layoutVertexArray,this.indexArray2),zn=Fn.vertexLength;this.layoutVertexArray.emplaceBack(_n[0].x,_n[0].y),this.indexArray2.emplaceBack(zn+_n.length-1,zn),Ut.push(_n[0].x),Ut.push(_n[0].y);for(var qn=1;qn<_n.length;qn++)this.layoutVertexArray.emplaceBack(_n[qn].x,_n[qn].y),this.indexArray2.emplaceBack(zn+qn-1,zn+qn),Ut.push(_n[qn].x),Ut.push(_n[qn].y);Fn.vertexLength+=_n.length,Fn.primitiveLength+=_n.length}}for(var Xn=Pg(Ut,an),or=0;or<Xn.length;or+=3)this.indexArray.emplaceBack(qt+Xn[or],qt+Xn[or+1],qt+Xn[or+2]);Nt.vertexLength+=ct,Nt.primitiveLength+=Xn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,K,ke,fe)},Mr("FillBucket",Yl,{omit:["layers","patternFeatures"]});var TT=new eo({"fill-sort-key":new Pr($e.layout_fill["fill-sort-key"])}),MT={paint:new eo({"fill-antialias":new Sr($e.paint_fill["fill-antialias"]),"fill-opacity":new Pr($e.paint_fill["fill-opacity"]),"fill-color":new Pr($e.paint_fill["fill-color"]),"fill-outline-color":new Pr($e.paint_fill["fill-outline-color"]),"fill-translate":new Sr($e.paint_fill["fill-translate"]),"fill-translate-anchor":new Sr($e.paint_fill["fill-translate-anchor"]),"fill-pattern":new ia($e.paint_fill["fill-pattern"])}),layout:TT},AT=function(E){function F(K){E.call(this,K,MT)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.recalculate=function(K,fe){E.prototype.recalculate.call(this,K,fe);var ke=this.paint._values["fill-outline-color"];ke.value.kind==="constant"&&ke.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},F.prototype.createBucket=function(K){return new Yl(K)},F.prototype.queryRadius=function(){return ap(this.paint.get("fill-translate"))},F.prototype.queryIntersectsFeature=function(K,fe,ke,Pe,He,Qe,ct){return rp(sp(K,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),Qe.angle,ct),Pe)},F.prototype.isTileClipped=function(){return!0},F}(bi),kT=Ni([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,nx=wf;function wf(E,F,K,fe,ke){this.properties={},this.extent=K,this.type=0,this._pbf=E,this._geometry=-1,this._keys=fe,this._values=ke,E.readFields(ST,this,F)}function ST(E,F,K){E==1?F.id=K.readVarint():E==2?function(fe,ke){for(var Pe=fe.readVarint()+fe.pos;fe.pos<Pe;){var He=ke._keys[fe.readVarint()],Qe=ke._values[fe.readVarint()];ke.properties[He]=Qe}}(K,F):E==3?F.type=K.readVarint():E==4&&(F._geometry=K.pos)}function ET(E){for(var F,K,fe=0,ke=0,Pe=E.length,He=Pe-1;ke<Pe;He=ke++)F=E[ke],fe+=((K=E[He]).x-F.x)*(F.y+K.y);return fe}wf.types=["Unknown","Point","LineString","Polygon"],wf.prototype.loadGeometry=function(){var E=this._pbf;E.pos=this._geometry;for(var F,K=E.readVarint()+E.pos,fe=1,ke=0,Pe=0,He=0,Qe=[];E.pos<K;){if(ke<=0){var ct=E.readVarint();fe=7&ct,ke=ct>>3}if(ke--,fe===1||fe===2)Pe+=E.readSVarint(),He+=E.readSVarint(),fe===1&&(F&&Qe.push(F),F=[]),F.push(new t(Pe,He));else{if(fe!==7)throw new Error("unknown command "+fe);F&&F.push(F[0].clone())}}return F&&Qe.push(F),Qe},wf.prototype.bbox=function(){var E=this._pbf;E.pos=this._geometry;for(var F=E.readVarint()+E.pos,K=1,fe=0,ke=0,Pe=0,He=1/0,Qe=-1/0,ct=1/0,_t=-1/0;E.pos<F;){if(fe<=0){var Tt=E.readVarint();K=7&Tt,fe=Tt>>3}if(fe--,K===1||K===2)(ke+=E.readSVarint())<He&&(He=ke),ke>Qe&&(Qe=ke),(Pe+=E.readSVarint())<ct&&(ct=Pe),Pe>_t&&(_t=Pe);else if(K!==7)throw new Error("unknown command "+K)}return[He,ct,Qe,_t]},wf.prototype.toGeoJSON=function(E,F,K){var fe,ke,Pe=this.extent*Math.pow(2,K),He=this.extent*E,Qe=this.extent*F,ct=this.loadGeometry(),_t=wf.types[this.type];function Tt(Ut){for(var an=0;an<Ut.length;an++){var un=Ut[an],Mn=180-360*(un.y+Qe)/Pe;Ut[an]=[360*(un.x+He)/Pe-180,360/Math.PI*Math.atan(Math.exp(Mn*Math.PI/180))-90]}}switch(this.type){case 1:var Nt=[];for(fe=0;fe<ct.length;fe++)Nt[fe]=ct[fe][0];Tt(ct=Nt);break;case 2:for(fe=0;fe<ct.length;fe++)Tt(ct[fe]);break;case 3:for(ct=function(Ut){var an=Ut.length;if(an<=1)return[Ut];for(var un,Mn,_n=[],Fn=0;Fn<an;Fn++){var zn=ET(Ut[Fn]);zn!==0&&(Mn===void 0&&(Mn=zn<0),Mn===zn<0?(un&&_n.push(un),un=[Ut[Fn]]):un.push(Ut[Fn]))}return un&&_n.push(un),_n}(ct),fe=0;fe<ct.length;fe++)for(ke=0;ke<ct[fe].length;ke++)Tt(ct[fe][ke])}ct.length===1?ct=ct[0]:_t="Multi"+_t;var qt={type:"Feature",geometry:{type:_t,coordinates:ct},properties:this.properties};return"id"in this&&(qt.id=this.id),qt};var rx=ix;function ix(E,F){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=E,this._keys=[],this._values=[],this._features=[],E.readFields(CT,this,F),this.length=this._features.length}function CT(E,F,K){E===15?F.version=K.readVarint():E===1?F.name=K.readString():E===5?F.extent=K.readVarint():E===2?F._features.push(K.pos):E===3?F._keys.push(K.readString()):E===4&&F._values.push(function(fe){for(var ke=null,Pe=fe.readVarint()+fe.pos;fe.pos<Pe;){var He=fe.readVarint()>>3;ke=He===1?fe.readString():He===2?fe.readFloat():He===3?fe.readDouble():He===4?fe.readVarint64():He===5?fe.readVarint():He===6?fe.readSVarint():He===7?fe.readBoolean():null}return ke}(K))}function DT(E,F,K){if(E===3){var fe=new rx(K,K.readVarint()+K.pos);fe.length&&(F[fe.name]=fe)}}ix.prototype.feature=function(E){if(E<0||E>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[E];var F=this._pbf.readVarint()+this._pbf.pos;return new nx(this._pbf,F,this.extent,this._keys,this._values)};var Tf={VectorTile:function(E,F){this.layers=E.readFields(DT,{},F)},VectorTileFeature:nx,VectorTileLayer:rx},IT=Tf.VectorTileFeature.types,Ug=Math.pow(2,13);function Nh(E,F,K,fe,ke,Pe,He,Qe){E.emplaceBack(F,K,2*Math.floor(fe*Ug)+He,ke*Ug*2,Pe*Ug*2,Math.round(Qe))}var $l=function(E){this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=E.index,this.hasPattern=!1,this.layoutVertexArray=new Je,this.indexArray=new we,this.programConfigurations=new so(E.layers,E.zoom),this.segments=new Vn,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function LT(E,F){return E.x===F.x&&(E.x<0||E.x>di)||E.y===F.y&&(E.y<0||E.y>di)}$l.prototype.populate=function(E,F,K){this.features=[],this.hasPattern=Bg("fill-extrusion",this.layers,F);for(var fe=0,ke=E;fe<ke.length;fe+=1){var Pe=ke[fe],He=Pe.feature,Qe=Pe.id,ct=Pe.index,_t=Pe.sourceLayerIndex,Tt=this.layers[0]._featureFilter.needGeometry,Nt=Gi(He,Tt);if(this.layers[0]._featureFilter.filter(new ri(this.zoom),Nt,K)){var qt={id:Qe,sourceLayerIndex:_t,index:ct,geometry:Tt?Nt.geometry:cs(He),properties:He.properties,type:He.type,patterns:{}};this.hasPattern?this.features.push(jg("fill-extrusion",this.layers,qt,this.zoom,F)):this.addFeature(qt,qt.geometry,ct,K,{}),F.featureIndex.insert(He,qt.geometry,ct,_t,this.index,!0)}}},$l.prototype.addFeatures=function(E,F,K){for(var fe=0,ke=this.features;fe<ke.length;fe+=1){var Pe=ke[fe],He=Pe.geometry;this.addFeature(Pe,He,Pe.index,F,K)}},$l.prototype.update=function(E,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,F,this.stateDependentLayers,K)},$l.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$l.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$l.prototype.upload=function(E){this.uploaded||(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,kT),this.indexBuffer=E.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(E),this.uploaded=!0},$l.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$l.prototype.addFeature=function(E,F,K,fe,ke){for(var Pe=0,He=zg(F,500);Pe<He.length;Pe+=1){for(var Qe=He[Pe],ct=0,_t=0,Tt=Qe;_t<Tt.length;_t+=1)ct+=Tt[_t].length;for(var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),qt=0,Ut=Qe;qt<Ut.length;qt+=1){var an=Ut[qt];if(an.length!==0&&!((ui=an).every(function($r){return $r.x<0})||ui.every(function($r){return $r.x>di})||ui.every(function($r){return $r.y<0})||ui.every(function($r){return $r.y>di})))for(var un=0,Mn=0;Mn<an.length;Mn++){var _n=an[Mn];if(Mn>=1){var Fn=an[Mn-1];if(!LT(_n,Fn)){Nt.vertexLength+4>Vn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var zn=_n.sub(Fn)._perp()._unit(),qn=Fn.dist(_n);un+qn>32768&&(un=0),Nh(this.layoutVertexArray,_n.x,_n.y,zn.x,zn.y,0,0,un),Nh(this.layoutVertexArray,_n.x,_n.y,zn.x,zn.y,0,1,un),un+=qn,Nh(this.layoutVertexArray,Fn.x,Fn.y,zn.x,zn.y,0,0,un),Nh(this.layoutVertexArray,Fn.x,Fn.y,zn.x,zn.y,0,1,un);var Xn=Nt.vertexLength;this.indexArray.emplaceBack(Xn,Xn+2,Xn+1),this.indexArray.emplaceBack(Xn+1,Xn+2,Xn+3),Nt.vertexLength+=4,Nt.primitiveLength+=2}}}}if(Nt.vertexLength+ct>Vn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(ct,this.layoutVertexArray,this.indexArray)),IT[E.type]==="Polygon"){for(var or=[],vr=[],dr=Nt.vertexLength,_r=0,Tr=Qe;_r<Tr.length;_r+=1){var Hr=Tr[_r];if(Hr.length!==0){Hr!==Qe[0]&&vr.push(or.length/2);for(var Ir=0;Ir<Hr.length;Ir++){var Ur=Hr[Ir];Nh(this.layoutVertexArray,Ur.x,Ur.y,0,0,1,1,0),or.push(Ur.x),or.push(Ur.y)}}}for(var Or=Pg(or,vr),Cr=0;Cr<Or.length;Cr+=3)this.indexArray.emplaceBack(dr+Or[Cr],dr+Or[Cr+2],dr+Or[Cr+1]);Nt.primitiveLength+=Or.length/3,Nt.vertexLength+=ct}}var ui;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,K,ke,fe)},Mr("FillExtrusionBucket",$l,{omit:["layers","features"]});var OT={paint:new eo({"fill-extrusion-opacity":new Sr($e["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pr($e["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Sr($e["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Sr($e["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ia($e["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pr($e["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pr($e["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Sr($e["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},PT=function(E){function F(K){E.call(this,K,OT)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.createBucket=function(K){return new $l(K)},F.prototype.queryRadius=function(){return ap(this.paint.get("fill-extrusion-translate"))},F.prototype.is3D=function(){return!0},F.prototype.queryIntersectsFeature=function(K,fe,ke,Pe,He,Qe,ct,_t){var Tt=sp(K,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Qe.angle,ct),Nt=this.paint.get("fill-extrusion-height").evaluate(fe,ke),qt=this.paint.get("fill-extrusion-base").evaluate(fe,ke),Ut=function(un,Mn,_n,Fn){for(var zn=[],qn=0,Xn=un;qn<Xn.length;qn+=1){var or=Xn[qn],vr=[or.x,or.y,Fn,1];up(vr,vr,Mn),zn.push(new t(vr[0]/vr[3],vr[1]/vr[3]))}return zn}(Tt,_t,0,0),an=function(un,Mn,_n,Fn){for(var zn=[],qn=[],Xn=Fn[8]*Mn,or=Fn[9]*Mn,vr=Fn[10]*Mn,dr=Fn[11]*Mn,_r=Fn[8]*_n,Tr=Fn[9]*_n,Hr=Fn[10]*_n,Ir=Fn[11]*_n,Ur=0,Or=un;Ur<Or.length;Ur+=1){for(var Cr=[],ui=[],$r=0,Bi=Or[Ur];$r<Bi.length;$r+=1){var jr=Bi[$r],Oi=jr.x,Yi=jr.y,Ki=Fn[0]*Oi+Fn[4]*Yi+Fn[12],Ji=Fn[1]*Oi+Fn[5]*Yi+Fn[13],ji=Fn[2]*Oi+Fn[6]*Yi+Fn[14],Io=Fn[3]*Oi+Fn[7]*Yi+Fn[15],oo=ji+vr,qo=Io+dr,sa=Ki+_r,Jo=Ji+Tr,Oa=ji+Hr,Qo=Io+Ir,Ro=new t((Ki+Xn)/qo,(Ji+or)/qo);Ro.z=oo/qo,Cr.push(Ro);var ea=new t(sa/Qo,Jo/Qo);ea.z=Oa/Qo,ui.push(ea)}zn.push(Cr),qn.push(ui)}return[zn,qn]}(Pe,qt,Nt,_t);return function(un,Mn,_n){var Fn=1/0;rp(_n,Mn)&&(Fn=ox(_n,Mn[0]));for(var zn=0;zn<Mn.length;zn++)for(var qn=Mn[zn],Xn=un[zn],or=0;or<qn.length-1;or++){var vr=qn[or],dr=qn[or+1],_r=Xn[or],Tr=[vr,dr,Xn[or+1],_r,vr];Oc(_n,Tr)&&(Fn=Math.min(Fn,ox(_n,Tr)))}return Fn!==1/0&&Fn}(an[0],an[1],Ut)},F}(bi);function Fh(E,F){return E.x*F.x+E.y*F.y}function ox(E,F){if(E.length===1){for(var K,fe=0,ke=F[fe++];!K||ke.equals(K);)if(!(K=F[fe++]))return 1/0;for(;fe<F.length;fe++){var Pe=F[fe],He=E[0],Qe=K.sub(ke),ct=Pe.sub(ke),_t=He.sub(ke),Tt=Fh(Qe,Qe),Nt=Fh(Qe,ct),qt=Fh(ct,ct),Ut=Fh(_t,Qe),an=Fh(_t,ct),un=Tt*qt-Nt*Nt,Mn=(qt*Ut-Nt*an)/un,_n=(Tt*an-Nt*Ut)/un,Fn=1-Mn-_n,zn=ke.z*Fn+K.z*Mn+Pe.z*_n;if(isFinite(zn))return zn}return 1/0}for(var qn=1/0,Xn=0,or=F;Xn<or.length;Xn+=1){var vr=or[Xn];qn=Math.min(qn,vr.z)}return qn}var RT=Ni([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,NT=Ni([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,FT=Tf.VectorTileFeature.types,zT=Math.cos(Math.PI/180*37.5),ax=Math.pow(2,14)/.5,La=function(E){var F=this;this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(K){return K.id}),this.index=E.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(K){F.gradients[K.id]={}}),this.layoutVertexArray=new tt,this.layoutVertexArray2=new ut,this.indexArray=new we,this.programConfigurations=new so(E.layers,E.zoom),this.segments=new Vn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(K){return K.isStateDependent()}).map(function(K){return K.id})};La.prototype.populate=function(E,F,K){this.hasPattern=Bg("line",this.layers,F);for(var fe=this.layers[0].layout.get("line-sort-key"),ke=[],Pe=0,He=E;Pe<He.length;Pe+=1){var Qe=He[Pe],ct=Qe.feature,_t=Qe.id,Tt=Qe.index,Nt=Qe.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,Ut=Gi(ct,qt);if(this.layers[0]._featureFilter.filter(new ri(this.zoom),Ut,K)){var an=fe?fe.evaluate(Ut,{},K):void 0,un={id:_t,properties:ct.properties,type:ct.type,sourceLayerIndex:Nt,index:Tt,geometry:qt?Ut.geometry:cs(ct),patterns:{},sortKey:an};ke.push(un)}}fe&&ke.sort(function(_r,Tr){return _r.sortKey-Tr.sortKey});for(var Mn=0,_n=ke;Mn<_n.length;Mn+=1){var Fn=_n[Mn],zn=Fn,qn=zn.geometry,Xn=zn.index,or=zn.sourceLayerIndex;if(this.hasPattern){var vr=jg("line",this.layers,Fn,this.zoom,F);this.patternFeatures.push(vr)}else this.addFeature(Fn,qn,Xn,K,{});var dr=E[Xn].feature;F.featureIndex.insert(dr,qn,Xn,or,this.index)}},La.prototype.update=function(E,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(E,F,this.stateDependentLayers,K)},La.prototype.addFeatures=function(E,F,K){for(var fe=0,ke=this.patternFeatures;fe<ke.length;fe+=1){var Pe=ke[fe];this.addFeature(Pe,Pe.geometry,Pe.index,F,K)}},La.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},La.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},La.prototype.upload=function(E){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=E.createVertexBuffer(this.layoutVertexArray2,NT)),this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,RT),this.indexBuffer=E.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(E),this.uploaded=!0},La.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},La.prototype.lineFeatureClips=function(E){if(E.properties&&E.properties.hasOwnProperty("mapbox_clip_start")&&E.properties.hasOwnProperty("mapbox_clip_end"))return{start:+E.properties.mapbox_clip_start,end:+E.properties.mapbox_clip_end}},La.prototype.addFeature=function(E,F,K,fe,ke){var Pe=this.layers[0].layout,He=Pe.get("line-join").evaluate(E,{}),Qe=Pe.get("line-cap"),ct=Pe.get("line-miter-limit"),_t=Pe.get("line-round-limit");this.lineClips=this.lineFeatureClips(E);for(var Tt=0,Nt=F;Tt<Nt.length;Tt+=1){var qt=Nt[Tt];this.addLine(qt,E,He,Qe,ct,_t)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,E,K,ke,fe)},La.prototype.addLine=function(E,F,K,fe,ke,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var He=0;He<E.length-1;He++)this.totalDistance+=E[He].dist(E[He+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var Qe=FT[F.type]==="Polygon",ct=E.length;ct>=2&&E[ct-1].equals(E[ct-2]);)ct--;for(var _t=0;_t<ct-1&&E[_t].equals(E[_t+1]);)_t++;if(!(ct<(Qe?3:2))){K==="bevel"&&(ke=1.05);var Tt,Nt=this.overscaling<=16?15*di/(512*this.overscaling):0,qt=this.segments.prepareSegment(10*ct,this.layoutVertexArray,this.indexArray),Ut=void 0,an=void 0,un=void 0,Mn=void 0;this.e1=this.e2=-1,Qe&&(Tt=E[ct-2],Mn=E[_t].sub(Tt)._unit()._perp());for(var _n=_t;_n<ct;_n++)if(!(an=_n===ct-1?Qe?E[_t+1]:void 0:E[_n+1])||!E[_n].equals(an)){Mn&&(un=Mn),Tt&&(Ut=Tt),Tt=E[_n],Mn=an?an.sub(Tt)._unit()._perp():un;var Fn=(un=un||Mn).add(Mn);Fn.x===0&&Fn.y===0||Fn._unit();var zn=un.x*Mn.x+un.y*Mn.y,qn=Fn.x*Mn.x+Fn.y*Mn.y,Xn=qn!==0?1/qn:1/0,or=2*Math.sqrt(2-2*qn),vr=qn<zT&&Ut&&an,dr=un.x*Mn.y-un.y*Mn.x>0;if(vr&&_n>_t){var _r=Tt.dist(Ut);if(_r>2*Nt){var Tr=Tt.sub(Tt.sub(Ut)._mult(Nt/_r)._round());this.updateDistance(Ut,Tr),this.addCurrentVertex(Tr,un,0,0,qt),Ut=Tr}}var Hr=Ut&&an,Ir=Hr?K:Qe?"butt":fe;if(Hr&&Ir==="round"&&(Xn<Pe?Ir="miter":Xn<=2&&(Ir="fakeround")),Ir==="miter"&&Xn>ke&&(Ir="bevel"),Ir==="bevel"&&(Xn>2&&(Ir="flipbevel"),Xn<ke&&(Ir="miter")),Ut&&this.updateDistance(Ut,Tt),Ir==="miter")Fn._mult(Xn),this.addCurrentVertex(Tt,Fn,0,0,qt);else if(Ir==="flipbevel"){if(Xn>100)Fn=Mn.mult(-1);else{var Ur=Xn*un.add(Mn).mag()/un.sub(Mn).mag();Fn._perp()._mult(Ur*(dr?-1:1))}this.addCurrentVertex(Tt,Fn,0,0,qt),this.addCurrentVertex(Tt,Fn.mult(-1),0,0,qt)}else if(Ir==="bevel"||Ir==="fakeround"){var Or=-Math.sqrt(Xn*Xn-1),Cr=dr?Or:0,ui=dr?0:Or;if(Ut&&this.addCurrentVertex(Tt,un,Cr,ui,qt),Ir==="fakeround")for(var $r=Math.round(180*or/Math.PI/20),Bi=1;Bi<$r;Bi++){var jr=Bi/$r;if(jr!==.5){var Oi=jr-.5;jr+=jr*Oi*(jr-1)*((1.0904+zn*(zn*(3.55645-1.43519*zn)-3.2452))*Oi*Oi+(.848013+zn*(.215638*zn-1.06021)))}var Yi=Mn.sub(un)._mult(jr)._add(un)._unit()._mult(dr?-1:1);this.addHalfVertex(Tt,Yi.x,Yi.y,!1,dr,0,qt)}an&&this.addCurrentVertex(Tt,Mn,-Cr,-ui,qt)}else if(Ir==="butt")this.addCurrentVertex(Tt,Fn,0,0,qt);else if(Ir==="square"){var Ki=Ut?1:-1;this.addCurrentVertex(Tt,Fn,Ki,Ki,qt)}else Ir==="round"&&(Ut&&(this.addCurrentVertex(Tt,un,0,0,qt),this.addCurrentVertex(Tt,un,1,1,qt,!0)),an&&(this.addCurrentVertex(Tt,Mn,-1,-1,qt,!0),this.addCurrentVertex(Tt,Mn,0,0,qt)));if(vr&&_n<ct-1){var Ji=Tt.dist(an);if(Ji>2*Nt){var ji=Tt.add(an.sub(Tt)._mult(Nt/Ji)._round());this.updateDistance(Tt,ji),this.addCurrentVertex(ji,Mn,0,0,qt),Tt=ji}}}}},La.prototype.addCurrentVertex=function(E,F,K,fe,ke,Pe){Pe===void 0&&(Pe=!1);var He=F.x+F.y*K,Qe=F.y-F.x*K,ct=-F.x+F.y*fe,_t=-F.y-F.x*fe;this.addHalfVertex(E,He,Qe,Pe,!1,K,ke),this.addHalfVertex(E,ct,_t,Pe,!0,-fe,ke),this.distance>ax/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(E,F,K,fe,ke,Pe))},La.prototype.addHalfVertex=function(E,F,K,fe,ke,Pe,He){var Qe=E.x,ct=E.y,_t=.5*(this.lineClips?this.scaledDistance*(ax-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack((Qe<<1)+(fe?1:0),(ct<<1)+(ke?1:0),Math.round(63*F)+128,Math.round(63*K)+128,1+(Pe===0?0:Pe<0?-1:1)|(63&_t)<<2,_t>>6),this.lineClips){var Tt=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(Tt,this.lineClipsArray.length)}var Nt=He.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Nt),He.primitiveLength++),ke?this.e2=Nt:this.e1=Nt},La.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},La.prototype.updateDistance=function(E,F){this.distance+=E.dist(F),this.updateScaledDistance()},Mr("LineBucket",La,{omit:["layers","patternFeatures"]});var BT=new eo({"line-cap":new Sr($e.layout_line["line-cap"]),"line-join":new Pr($e.layout_line["line-join"]),"line-miter-limit":new Sr($e.layout_line["line-miter-limit"]),"line-round-limit":new Sr($e.layout_line["line-round-limit"]),"line-sort-key":new Pr($e.layout_line["line-sort-key"])}),sx={paint:new eo({"line-opacity":new Pr($e.paint_line["line-opacity"]),"line-color":new Pr($e.paint_line["line-color"]),"line-translate":new Sr($e.paint_line["line-translate"]),"line-translate-anchor":new Sr($e.paint_line["line-translate-anchor"]),"line-width":new Pr($e.paint_line["line-width"]),"line-gap-width":new Pr($e.paint_line["line-gap-width"]),"line-offset":new Pr($e.paint_line["line-offset"]),"line-blur":new Pr($e.paint_line["line-blur"]),"line-dasharray":new Za($e.paint_line["line-dasharray"]),"line-pattern":new ia($e.paint_line["line-pattern"]),"line-gradient":new us($e.paint_line["line-gradient"])}),layout:BT},jT=function(E){function F(){E.apply(this,arguments)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.possiblyEvaluate=function(K,fe){return fe=new ri(Math.floor(fe.zoom),{now:fe.now,fadeDuration:fe.fadeDuration,zoomHistory:fe.zoomHistory,transition:fe.transition}),E.prototype.possiblyEvaluate.call(this,K,fe)},F.prototype.evaluate=function(K,fe,ke,Pe){return fe=c({},fe,{zoom:Math.floor(fe.zoom)}),E.prototype.evaluate.call(this,K,fe,ke,Pe)},F}(Pr),lx=new jT(sx.paint.properties["line-width"].specification);lx.useIntegerZoom=!0;var UT=function(E){function F(K){E.call(this,K,sx),this.gradientVersion=0}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype._handleSpecialPaintPropertyUpdate=function(K){if(K==="line-gradient"){var fe=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=fe._styleExpression.expression instanceof kr,this.gradientVersion=(this.gradientVersion+1)%i}},F.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},F.prototype.recalculate=function(K,fe){E.prototype.recalculate.call(this,K,fe),this.paint._values["line-floorwidth"]=lx.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,K)},F.prototype.createBucket=function(K){return new La(K)},F.prototype.queryRadius=function(K){var fe=K,ke=ux(Ih("line-width",this,fe),Ih("line-gap-width",this,fe)),Pe=Ih("line-offset",this,fe);return ke/2+Math.abs(Pe)+ap(this.paint.get("line-translate"))},F.prototype.queryIntersectsFeature=function(K,fe,ke,Pe,He,Qe,ct){var _t=sp(K,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),Qe.angle,ct),Tt=ct/2*ux(this.paint.get("line-width").evaluate(fe,ke),this.paint.get("line-gap-width").evaluate(fe,ke)),Nt=this.paint.get("line-offset").evaluate(fe,ke);return Nt&&(Pe=function(qt,Ut){for(var an=[],un=new t(0,0),Mn=0;Mn<qt.length;Mn++){for(var _n=qt[Mn],Fn=[],zn=0;zn<_n.length;zn++){var qn=_n[zn-1],Xn=_n[zn],or=_n[zn+1],vr=zn===0?un:Xn.sub(qn)._unit()._perp(),dr=zn===_n.length-1?un:or.sub(Xn)._unit()._perp(),_r=vr._add(dr)._unit(),Tr=_r.x*dr.x+_r.y*dr.y;_r._mult(1/Tr),Fn.push(_r._mult(Ut)._add(Xn))}an.push(Fn)}return an}(Pe,Nt*ct)),function(qt,Ut,an){for(var un=0;un<Ut.length;un++){var Mn=Ut[un];if(qt.length>=3){for(var _n=0;_n<Mn.length;_n++)if(gu(qt,Mn[_n]))return!0}if(Cg(qt,Mn,an))return!0}return!1}(_t,Pe,Tt)},F.prototype.isTileClipped=function(){return!0},F}(bi);function ux(E,F){return F>0?F+2*E:E}var VT=Ni([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),HT=Ni([{name:"a_projected_pos",components:3,type:"Float32"}],4),qT=(Ni([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ni([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),cx=(Ni([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ni([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),GT=Ni([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function WT(E,F,K){return E.sections.forEach(function(fe){fe.text=function(ke,Pe,He){var Qe=Pe.layout.get("text-transform").evaluate(He,{});return Qe==="uppercase"?ke=ke.toLocaleUpperCase():Qe==="lowercase"&&(ke=ke.toLocaleLowerCase()),Vo.applyArabicShaping&&(ke=Vo.applyArabicShaping(ke)),ke}(fe.text,F,K)}),E}Ni([{name:"triangle",components:3,type:"Uint16"}]),Ni([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ni([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ni([{type:"Float32",name:"offsetX"}]),Ni([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var zh={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},Ko=24,fx=function(E,F,K,fe,ke){var Pe,He,Qe=8*ke-fe-1,ct=(1<<Qe)-1,_t=ct>>1,Tt=-7,Nt=K?ke-1:0,qt=K?-1:1,Ut=E[F+Nt];for(Nt+=qt,Pe=Ut&(1<<-Tt)-1,Ut>>=-Tt,Tt+=Qe;Tt>0;Pe=256*Pe+E[F+Nt],Nt+=qt,Tt-=8);for(He=Pe&(1<<-Tt)-1,Pe>>=-Tt,Tt+=fe;Tt>0;He=256*He+E[F+Nt],Nt+=qt,Tt-=8);if(Pe===0)Pe=1-_t;else{if(Pe===ct)return He?NaN:1/0*(Ut?-1:1);He+=Math.pow(2,fe),Pe-=_t}return(Ut?-1:1)*He*Math.pow(2,Pe-fe)},hx=function(E,F,K,fe,ke,Pe){var He,Qe,ct,_t=8*Pe-ke-1,Tt=(1<<_t)-1,Nt=Tt>>1,qt=ke===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ut=fe?0:Pe-1,an=fe?1:-1,un=F<0||F===0&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(Qe=isNaN(F)?1:0,He=Tt):(He=Math.floor(Math.log(F)/Math.LN2),F*(ct=Math.pow(2,-He))<1&&(He--,ct*=2),(F+=He+Nt>=1?qt/ct:qt*Math.pow(2,1-Nt))*ct>=2&&(He++,ct/=2),He+Nt>=Tt?(Qe=0,He=Tt):He+Nt>=1?(Qe=(F*ct-1)*Math.pow(2,ke),He+=Nt):(Qe=F*Math.pow(2,Nt-1)*Math.pow(2,ke),He=0));ke>=8;E[K+Ut]=255&Qe,Ut+=an,Qe/=256,ke-=8);for(He=He<<ke|Qe,_t+=ke;_t>0;E[K+Ut]=255&He,Ut+=an,He/=256,_t-=8);E[K+Ut-an]|=128*un},pp=Wi;function Wi(E){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(E)?E:new Uint8Array(E||0),this.pos=0,this.type=0,this.length=this.buf.length}Wi.Varint=0,Wi.Fixed64=1,Wi.Bytes=2,Wi.Fixed32=5;var Vg=4294967296,dx=1/Vg,px=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ou(E){return E.type===Wi.Bytes?E.readVarint()+E.pos:E.pos+1}function Mf(E,F,K){return K?4294967296*F+(E>>>0):4294967296*(F>>>0)+(E>>>0)}function gx(E,F,K){var fe=F<=16383?1:F<=2097151?2:F<=268435455?3:Math.floor(Math.log(F)/(7*Math.LN2));K.realloc(fe);for(var ke=K.pos-1;ke>=E;ke--)K.buf[ke+fe]=K.buf[ke]}function YT(E,F){for(var K=0;K<E.length;K++)F.writeVarint(E[K])}function $T(E,F){for(var K=0;K<E.length;K++)F.writeSVarint(E[K])}function ZT(E,F){for(var K=0;K<E.length;K++)F.writeFloat(E[K])}function XT(E,F){for(var K=0;K<E.length;K++)F.writeDouble(E[K])}function KT(E,F){for(var K=0;K<E.length;K++)F.writeBoolean(E[K])}function JT(E,F){for(var K=0;K<E.length;K++)F.writeFixed32(E[K])}function QT(E,F){for(var K=0;K<E.length;K++)F.writeSFixed32(E[K])}function e5(E,F){for(var K=0;K<E.length;K++)F.writeFixed64(E[K])}function t5(E,F){for(var K=0;K<E.length;K++)F.writeSFixed64(E[K])}function gp(E,F){return(E[F]|E[F+1]<<8|E[F+2]<<16)+16777216*E[F+3]}function Af(E,F,K){E[K]=F,E[K+1]=F>>>8,E[K+2]=F>>>16,E[K+3]=F>>>24}function mx(E,F){return(E[F]|E[F+1]<<8|E[F+2]<<16)+(E[F+3]<<24)}Wi.prototype={destroy:function(){this.buf=null},readFields:function(E,F,K){for(K=K||this.length;this.pos<K;){var fe=this.readVarint(),ke=fe>>3,Pe=this.pos;this.type=7&fe,E(ke,F,this),this.pos===Pe&&this.skip(fe)}return F},readMessage:function(E,F){return this.readFields(E,F,this.readVarint()+this.pos)},readFixed32:function(){var E=gp(this.buf,this.pos);return this.pos+=4,E},readSFixed32:function(){var E=mx(this.buf,this.pos);return this.pos+=4,E},readFixed64:function(){var E=gp(this.buf,this.pos)+gp(this.buf,this.pos+4)*Vg;return this.pos+=8,E},readSFixed64:function(){var E=gp(this.buf,this.pos)+mx(this.buf,this.pos+4)*Vg;return this.pos+=8,E},readFloat:function(){var E=fx(this.buf,this.pos,!0,23,4);return this.pos+=4,E},readDouble:function(){var E=fx(this.buf,this.pos,!0,52,8);return this.pos+=8,E},readVarint:function(E){var F,K,fe=this.buf;return F=127&(K=fe[this.pos++]),K<128?F:(F|=(127&(K=fe[this.pos++]))<<7,K<128?F:(F|=(127&(K=fe[this.pos++]))<<14,K<128?F:(F|=(127&(K=fe[this.pos++]))<<21,K<128?F:function(ke,Pe,He){var Qe,ct,_t=He.buf;if(Qe=(112&(ct=_t[He.pos++]))>>4,ct<128||(Qe|=(127&(ct=_t[He.pos++]))<<3,ct<128)||(Qe|=(127&(ct=_t[He.pos++]))<<10,ct<128)||(Qe|=(127&(ct=_t[He.pos++]))<<17,ct<128)||(Qe|=(127&(ct=_t[He.pos++]))<<24,ct<128)||(Qe|=(1&(ct=_t[He.pos++]))<<31,ct<128))return Mf(ke,Qe,Pe);throw new Error("Expected varint not more than 10 bytes")}(F|=(15&(K=fe[this.pos]))<<28,E,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var E=this.readVarint();return E%2==1?(E+1)/-2:E/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var E=this.readVarint()+this.pos,F=this.pos;return this.pos=E,E-F>=12&&px?function(K,fe,ke){return px.decode(K.subarray(fe,ke))}(this.buf,F,E):function(K,fe,ke){for(var Pe="",He=fe;He<ke;){var Qe,ct,_t,Tt=K[He],Nt=null,qt=Tt>239?4:Tt>223?3:Tt>191?2:1;if(He+qt>ke)break;qt===1?Tt<128&&(Nt=Tt):qt===2?(192&(Qe=K[He+1]))==128&&(Nt=(31&Tt)<<6|63&Qe)<=127&&(Nt=null):qt===3?(Qe=K[He+1],ct=K[He+2],(192&Qe)==128&&(192&ct)==128&&((Nt=(15&Tt)<<12|(63&Qe)<<6|63&ct)<=2047||Nt>=55296&&Nt<=57343)&&(Nt=null)):qt===4&&(Qe=K[He+1],ct=K[He+2],_t=K[He+3],(192&Qe)==128&&(192&ct)==128&&(192&_t)==128&&((Nt=(15&Tt)<<18|(63&Qe)<<12|(63&ct)<<6|63&_t)<=65535||Nt>=1114112)&&(Nt=null)),Nt===null?(Nt=65533,qt=1):Nt>65535&&(Nt-=65536,Pe+=String.fromCharCode(Nt>>>10&1023|55296),Nt=56320|1023&Nt),Pe+=String.fromCharCode(Nt),He+=qt}return Pe}(this.buf,F,E)},readBytes:function(){var E=this.readVarint()+this.pos,F=this.buf.subarray(this.pos,E);return this.pos=E,F},readPackedVarint:function(E,F){if(this.type!==Wi.Bytes)return E.push(this.readVarint(F));var K=Ou(this);for(E=E||[];this.pos<K;)E.push(this.readVarint(F));return E},readPackedSVarint:function(E){if(this.type!==Wi.Bytes)return E.push(this.readSVarint());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readSVarint());return E},readPackedBoolean:function(E){if(this.type!==Wi.Bytes)return E.push(this.readBoolean());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readBoolean());return E},readPackedFloat:function(E){if(this.type!==Wi.Bytes)return E.push(this.readFloat());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readFloat());return E},readPackedDouble:function(E){if(this.type!==Wi.Bytes)return E.push(this.readDouble());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readDouble());return E},readPackedFixed32:function(E){if(this.type!==Wi.Bytes)return E.push(this.readFixed32());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readFixed32());return E},readPackedSFixed32:function(E){if(this.type!==Wi.Bytes)return E.push(this.readSFixed32());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readSFixed32());return E},readPackedFixed64:function(E){if(this.type!==Wi.Bytes)return E.push(this.readFixed64());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readFixed64());return E},readPackedSFixed64:function(E){if(this.type!==Wi.Bytes)return E.push(this.readSFixed64());var F=Ou(this);for(E=E||[];this.pos<F;)E.push(this.readSFixed64());return E},skip:function(E){var F=7&E;if(F===Wi.Varint)for(;this.buf[this.pos++]>127;);else if(F===Wi.Bytes)this.pos=this.readVarint()+this.pos;else if(F===Wi.Fixed32)this.pos+=4;else{if(F!==Wi.Fixed64)throw new Error("Unimplemented type: "+F);this.pos+=8}},writeTag:function(E,F){this.writeVarint(E<<3|F)},realloc:function(E){for(var F=this.length||16;F<this.pos+E;)F*=2;if(F!==this.length){var K=new Uint8Array(F);K.set(this.buf),this.buf=K,this.length=F}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(E){this.realloc(4),Af(this.buf,E,this.pos),this.pos+=4},writeSFixed32:function(E){this.realloc(4),Af(this.buf,E,this.pos),this.pos+=4},writeFixed64:function(E){this.realloc(8),Af(this.buf,-1&E,this.pos),Af(this.buf,Math.floor(E*dx),this.pos+4),this.pos+=8},writeSFixed64:function(E){this.realloc(8),Af(this.buf,-1&E,this.pos),Af(this.buf,Math.floor(E*dx),this.pos+4),this.pos+=8},writeVarint:function(E){(E=+E||0)>268435455||E<0?function(F,K){var fe,ke;if(F>=0?(fe=F%4294967296|0,ke=F/4294967296|0):(ke=~(-F/4294967296),4294967295^(fe=~(-F%4294967296))?fe=fe+1|0:(fe=0,ke=ke+1|0)),F>=18446744073709552e3||F<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),function(Pe,He,Qe){Qe.buf[Qe.pos++]=127&Pe|128,Pe>>>=7,Qe.buf[Qe.pos++]=127&Pe|128,Pe>>>=7,Qe.buf[Qe.pos++]=127&Pe|128,Pe>>>=7,Qe.buf[Qe.pos++]=127&Pe|128,Pe>>>=7,Qe.buf[Qe.pos]=127&Pe}(fe,0,K),function(Pe,He){var Qe=(7&Pe)<<4;He.buf[He.pos++]|=Qe|((Pe>>>=3)?128:0),Pe&&(He.buf[He.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(He.buf[He.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(He.buf[He.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(He.buf[He.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(He.buf[He.pos++]=127&Pe)))))}(ke,K)}(E,this):(this.realloc(4),this.buf[this.pos++]=127&E|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=E>>>7&127))))},writeSVarint:function(E){this.writeVarint(E<0?2*-E-1:2*E)},writeBoolean:function(E){this.writeVarint(!!E)},writeString:function(E){E=String(E),this.realloc(4*E.length),this.pos++;var F=this.pos;this.pos=function(fe,ke,Pe){for(var He,Qe,ct=0;ct<ke.length;ct++){if((He=ke.charCodeAt(ct))>55295&&He<57344){if(!Qe){He>56319||ct+1===ke.length?(fe[Pe++]=239,fe[Pe++]=191,fe[Pe++]=189):Qe=He;continue}if(He<56320){fe[Pe++]=239,fe[Pe++]=191,fe[Pe++]=189,Qe=He;continue}He=Qe-55296<<10|He-56320|65536,Qe=null}else Qe&&(fe[Pe++]=239,fe[Pe++]=191,fe[Pe++]=189,Qe=null);He<128?fe[Pe++]=He:(He<2048?fe[Pe++]=He>>6|192:(He<65536?fe[Pe++]=He>>12|224:(fe[Pe++]=He>>18|240,fe[Pe++]=He>>12&63|128),fe[Pe++]=He>>6&63|128),fe[Pe++]=63&He|128)}return Pe}(this.buf,E,this.pos);var K=this.pos-F;K>=128&&gx(F,K,this),this.pos=F-1,this.writeVarint(K),this.pos+=K},writeFloat:function(E){this.realloc(4),hx(this.buf,E,this.pos,!0,23,4),this.pos+=4},writeDouble:function(E){this.realloc(8),hx(this.buf,E,this.pos,!0,52,8),this.pos+=8},writeBytes:function(E){var F=E.length;this.writeVarint(F),this.realloc(F);for(var K=0;K<F;K++)this.buf[this.pos++]=E[K]},writeRawMessage:function(E,F){this.pos++;var K=this.pos;E(F,this);var fe=this.pos-K;fe>=128&&gx(K,fe,this),this.pos=K-1,this.writeVarint(fe),this.pos+=fe},writeMessage:function(E,F,K){this.writeTag(E,Wi.Bytes),this.writeRawMessage(F,K)},writePackedVarint:function(E,F){F.length&&this.writeMessage(E,YT,F)},writePackedSVarint:function(E,F){F.length&&this.writeMessage(E,$T,F)},writePackedBoolean:function(E,F){F.length&&this.writeMessage(E,KT,F)},writePackedFloat:function(E,F){F.length&&this.writeMessage(E,ZT,F)},writePackedDouble:function(E,F){F.length&&this.writeMessage(E,XT,F)},writePackedFixed32:function(E,F){F.length&&this.writeMessage(E,JT,F)},writePackedSFixed32:function(E,F){F.length&&this.writeMessage(E,QT,F)},writePackedFixed64:function(E,F){F.length&&this.writeMessage(E,e5,F)},writePackedSFixed64:function(E,F){F.length&&this.writeMessage(E,t5,F)},writeBytesField:function(E,F){this.writeTag(E,Wi.Bytes),this.writeBytes(F)},writeFixed32Field:function(E,F){this.writeTag(E,Wi.Fixed32),this.writeFixed32(F)},writeSFixed32Field:function(E,F){this.writeTag(E,Wi.Fixed32),this.writeSFixed32(F)},writeFixed64Field:function(E,F){this.writeTag(E,Wi.Fixed64),this.writeFixed64(F)},writeSFixed64Field:function(E,F){this.writeTag(E,Wi.Fixed64),this.writeSFixed64(F)},writeVarintField:function(E,F){this.writeTag(E,Wi.Varint),this.writeVarint(F)},writeSVarintField:function(E,F){this.writeTag(E,Wi.Varint),this.writeSVarint(F)},writeStringField:function(E,F){this.writeTag(E,Wi.Bytes),this.writeString(F)},writeFloatField:function(E,F){this.writeTag(E,Wi.Fixed32),this.writeFloat(F)},writeDoubleField:function(E,F){this.writeTag(E,Wi.Fixed64),this.writeDouble(F)},writeBooleanField:function(E,F){this.writeVarintField(E,!!F)}};var Hg=3;function n5(E,F,K){E===1&&K.readMessage(r5,F)}function r5(E,F,K){if(E===3){var fe=K.readMessage(i5,{}),ke=fe.id,Pe=fe.bitmap,He=fe.width,Qe=fe.height,ct=fe.left,_t=fe.top,Tt=fe.advance;F.push({id:ke,bitmap:new Pc({width:He+2*Hg,height:Qe+2*Hg},Pe),metrics:{width:He,height:Qe,left:ct,top:_t,advance:Tt}})}}function i5(E,F,K){E===1?F.id=K.readVarint():E===2?F.bitmap=K.readBytes():E===3?F.width=K.readVarint():E===4?F.height=K.readVarint():E===5?F.left=K.readSVarint():E===6?F.top=K.readSVarint():E===7&&(F.advance=K.readVarint())}var vx=Hg;function yx(E){for(var F=0,K=0,fe=0,ke=E;fe<ke.length;fe+=1){var Pe=ke[fe];F+=Pe.w*Pe.h,K=Math.max(K,Pe.w)}E.sort(function(un,Mn){return Mn.h-un.h});for(var He=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(F/.95)),K),h:1/0}],Qe=0,ct=0,_t=0,Tt=E;_t<Tt.length;_t+=1)for(var Nt=Tt[_t],qt=He.length-1;qt>=0;qt--){var Ut=He[qt];if(!(Nt.w>Ut.w||Nt.h>Ut.h)){if(Nt.x=Ut.x,Nt.y=Ut.y,ct=Math.max(ct,Nt.y+Nt.h),Qe=Math.max(Qe,Nt.x+Nt.w),Nt.w===Ut.w&&Nt.h===Ut.h){var an=He.pop();qt<He.length&&(He[qt]=an)}else Nt.h===Ut.h?(Ut.x+=Nt.w,Ut.w-=Nt.w):Nt.w===Ut.w?(Ut.y+=Nt.h,Ut.h-=Nt.h):(He.push({x:Ut.x+Nt.w,y:Ut.y,w:Ut.w-Nt.w,h:Nt.h}),Ut.y+=Nt.h,Ut.h-=Nt.h);break}}return{w:Qe,h:ct,fill:F/(Qe*ct)||0}}var fs=1,mp=function(E,F){var K=F.pixelRatio,fe=F.version,ke=F.stretchX,Pe=F.stretchY,He=F.content;this.paddedRect=E,this.pixelRatio=K,this.stretchX=ke,this.stretchY=Pe,this.content=He,this.version=fe},Bh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Bh.tl.get=function(){return[this.paddedRect.x+fs,this.paddedRect.y+fs]},Bh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-fs,this.paddedRect.y+this.paddedRect.h-fs]},Bh.tlbr.get=function(){return this.tl.concat(this.br)},Bh.displaySize.get=function(){return[(this.paddedRect.w-2*fs)/this.pixelRatio,(this.paddedRect.h-2*fs)/this.pixelRatio]},Object.defineProperties(mp.prototype,Bh);var jh=function(E,F){var K={},fe={};this.haveRenderCallbacks=[];var ke=[];this.addImages(E,K,ke),this.addImages(F,fe,ke);var Pe=yx(ke),He=Pe.w,Qe=Pe.h,ct=new Ka({width:He||1,height:Qe||1});for(var _t in E){var Tt=E[_t],Nt=K[_t].paddedRect;Ka.copy(Tt.data,ct,{x:0,y:0},{x:Nt.x+fs,y:Nt.y+fs},Tt.data)}for(var qt in F){var Ut=F[qt],an=fe[qt].paddedRect,un=an.x+fs,Mn=an.y+fs,_n=Ut.data.width,Fn=Ut.data.height;Ka.copy(Ut.data,ct,{x:0,y:0},{x:un,y:Mn},Ut.data),Ka.copy(Ut.data,ct,{x:0,y:Fn-1},{x:un,y:Mn-1},{width:_n,height:1}),Ka.copy(Ut.data,ct,{x:0,y:0},{x:un,y:Mn+Fn},{width:_n,height:1}),Ka.copy(Ut.data,ct,{x:_n-1,y:0},{x:un-1,y:Mn},{width:1,height:Fn}),Ka.copy(Ut.data,ct,{x:0,y:0},{x:un+_n,y:Mn},{width:1,height:Fn})}this.image=ct,this.iconPositions=K,this.patternPositions=fe};jh.prototype.addImages=function(E,F,K){for(var fe in E){var ke=E[fe],Pe={x:0,y:0,w:ke.data.width+2*fs,h:ke.data.height+2*fs};K.push(Pe),F[fe]=new mp(Pe,ke),ke.hasRenderCallback&&this.haveRenderCallbacks.push(fe)}},jh.prototype.patchUpdatedImages=function(E,F){for(var K in E.dispatchRenderCallbacks(this.haveRenderCallbacks),E.updatedImages)this.patchUpdatedImage(this.iconPositions[K],E.getImage(K),F),this.patchUpdatedImage(this.patternPositions[K],E.getImage(K),F)},jh.prototype.patchUpdatedImage=function(E,F,K){if(E&&F&&E.version!==F.version){E.version=F.version;var fe=E.tl,ke=fe[0],Pe=fe[1];K.update(F.data,void 0,{x:ke,y:Pe})}},Mr("ImagePosition",mp),Mr("ImageAtlas",jh);var Ps={horizontal:1,vertical:2,horizontalOnly:3},Uh=-17,kf=function(){this.scale=1,this.fontStack="",this.imageName=null};kf.forText=function(E,F){var K=new kf;return K.scale=E||1,K.fontStack=F,K},kf.forImage=function(E){var F=new kf;return F.imageName=E,F};var va=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function vp(E,F,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un){var Mn,_n=va.fromFeature(E,ke);Nt===Ps.vertical&&_n.verticalizePunctuation();var Fn=Vo.processBidirectionalText,zn=Vo.processStyledBidirectionalText;if(Fn&&_n.sections.length===1){Mn=[];for(var qn=0,Xn=Fn(_n.toString(),qg(_n,_t,Pe,F,fe,Ut,an));qn<Xn.length;qn+=1){var or=Xn[qn],vr=new va;vr.text=or,vr.sections=_n.sections;for(var dr=0;dr<or.length;dr++)vr.sectionIndex.push(0);Mn.push(vr)}}else if(zn){Mn=[];for(var _r=0,Tr=zn(_n.text,_n.sectionIndex,qg(_n,_t,Pe,F,fe,Ut,an));_r<Tr.length;_r+=1){var Hr=Tr[_r],Ir=new va;Ir.text=Hr[0],Ir.sectionIndex=Hr[1],Ir.sections=_n.sections,Mn.push(Ir)}}else Mn=function(Cr,ui){for(var $r=[],Bi=Cr.text,jr=0,Oi=0,Yi=ui;Oi<Yi.length;Oi+=1){var Ki=Yi[Oi];$r.push(Cr.substring(jr,Ki)),jr=Ki}return jr<Bi.length&&$r.push(Cr.substring(jr,Bi.length)),$r}(_n,qg(_n,_t,Pe,F,fe,Ut,an));var Ur=[],Or={positionedLines:Ur,text:_n.toString(),top:Tt[1],bottom:Tt[1],left:Tt[0],right:Tt[0],writingMode:Nt,iconsInText:!1,verticalizable:!1};return function(Cr,ui,$r,Bi,jr,Oi,Yi,Ki,Ji,ji,Io,oo){for(var qo=0,sa=Uh,Jo=0,Oa=0,Qo=Ki==="right"?1:Ki==="left"?0:.5,Ro=0,ea=0,Go=jr;ea<Go.length;ea+=1){var No=Go[ea];No.trim();var Xr=No.getMaxScale(),gi=(Xr-1)*Ko,mo={positionedGlyphs:[],lineOffset:0};Cr.positionedLines[Ro]=mo;var zi=mo.positionedGlyphs,lo=0;if(No.length()){for(var no=0;no<No.length();no++){var _i=No.getSection(no),vo=No.getSectionIndex(no),Pa=No.getCharCode(no),ds=0,ya=null,Xl=null,Nu=null,Wo=Ko,Kl=!(Ji===Ps.horizontal||!Io&&!ss(Pa)||Io&&(yp[Pa]||Ds(Pa)));if(_i.imageName){var Cl=Bi[_i.imageName];if(!Cl)continue;Nu=_i.imageName,Cr.iconsInText=Cr.iconsInText||!0,Xl=Cl.paddedRect;var Dl=Cl.displaySize;_i.scale=_i.scale*Ko/oo,ya={width:Dl[0],height:Dl[1],left:fs,top:-vx,advance:Kl?Dl[1]:Dl[0]},ds=gi+(Ko-Dl[1]*_i.scale),Wo=ya.advance;var zc=Kl?Dl[0]*_i.scale-Ko*Xr:Dl[1]*_i.scale-Ko*Xr;zc>0&&zc>lo&&(lo=zc)}else{var Sp=$r[_i.fontStack],Bc=Sp&&Sp[Pa];if(Bc&&Bc.rect)Xl=Bc.rect,ya=Bc.metrics;else{var Ep=ui[_i.fontStack],Gh=Ep&&Ep[Pa];if(!Gh)continue;ya=Gh.metrics}ds=(Xr-_i.scale)*Ko}Kl?(Cr.verticalizable=!0,zi.push({glyph:Pa,imageName:Nu,x:qo,y:sa+ds,vertical:Kl,scale:_i.scale,fontStack:_i.fontStack,sectionIndex:vo,metrics:ya,rect:Xl}),qo+=Wo*_i.scale+ji):(zi.push({glyph:Pa,imageName:Nu,x:qo,y:sa+ds,vertical:Kl,scale:_i.scale,fontStack:_i.fontStack,sectionIndex:vo,metrics:ya,rect:Xl}),qo+=ya.advance*_i.scale+ji)}if(zi.length!==0){var em=qo-ji;Jo=Math.max(em,Jo),a5(zi,0,zi.length-1,Qo,lo)}qo=0;var Cp=Oi*Xr+lo;mo.lineOffset=Math.max(lo,gi),sa+=Cp,Oa=Math.max(Cp,Oa),++Ro}else sa+=Oi,++Ro}var Nf=sa-Uh,Dp=Gg(Yi),Ip=Dp.horizontalAlign,Wh=Dp.verticalAlign;(function(tm,Yh,jc,Ff,Lp,Op,zf,Pp,Rp){var $h=(Yh-jc)*Lp,Zh=0;Zh=Op!==zf?-Pp*Ff-Uh:(-Ff*Rp+.5)*zf;for(var Uc=0,Xh=tm;Uc<Xh.length;Uc+=1)for(var Vc=0,Kh=Xh[Uc].positionedGlyphs;Vc<Kh.length;Vc+=1){var Jh=Kh[Vc];Jh.x+=$h,Jh.y+=Zh}})(Cr.positionedLines,Qo,Ip,Wh,Jo,Oa,Oi,Nf,jr.length),Cr.top+=-Wh*Nf,Cr.bottom=Cr.top+Nf,Cr.left+=-Ip*Jo,Cr.right=Cr.left+Jo}(Or,F,K,fe,Mn,He,Qe,ct,Nt,_t,qt,un),!function(Cr){for(var ui=0,$r=Cr;ui<$r.length;ui+=1)if($r[ui].positionedGlyphs.length!==0)return!1;return!0}(Ur)&&Or}va.fromFeature=function(E,F){for(var K=new va,fe=0;fe<E.sections.length;fe++){var ke=E.sections[fe];ke.image?K.addImageSection(ke):K.addTextSection(ke,F)}return K},va.prototype.length=function(){return this.text.length},va.prototype.getSection=function(E){return this.sections[this.sectionIndex[E]]},va.prototype.getSectionIndex=function(E){return this.sectionIndex[E]},va.prototype.getCharCode=function(E){return this.text.charCodeAt(E)},va.prototype.verticalizePunctuation=function(){this.text=function(E){for(var F="",K=0;K<E.length;K++){var fe=E.charCodeAt(K+1)||null,ke=E.charCodeAt(K-1)||null;fe&&po(fe)&&!zh[E[K+1]]||ke&&po(ke)&&!zh[E[K-1]]||!zh[E[K]]?F+=E[K]:F+=zh[E[K]]}return F}(this.text)},va.prototype.trim=function(){for(var E=0,F=0;F<this.text.length&&yp[this.text.charCodeAt(F)];F++)E++;for(var K=this.text.length,fe=this.text.length-1;fe>=0&&fe>=E&&yp[this.text.charCodeAt(fe)];fe--)K--;this.text=this.text.substring(E,K),this.sectionIndex=this.sectionIndex.slice(E,K)},va.prototype.substring=function(E,F){var K=new va;return K.text=this.text.substring(E,F),K.sectionIndex=this.sectionIndex.slice(E,F),K.sections=this.sections,K},va.prototype.toString=function(){return this.text},va.prototype.getMaxScale=function(){var E=this;return this.sectionIndex.reduce(function(F,K){return Math.max(F,E.sections[K].scale)},0)},va.prototype.addTextSection=function(E,F){this.text+=E.text,this.sections.push(kf.forText(E.scale,E.fontStack||F));for(var K=this.sections.length-1,fe=0;fe<E.text.length;++fe)this.sectionIndex.push(K)},va.prototype.addImageSection=function(E){var F=E.image?E.image.name:"";if(F.length!==0){var K=this.getNextImageSectionCharCode();K?(this.text+=String.fromCharCode(K),this.sections.push(kf.forImage(F)),this.sectionIndex.push(this.sections.length-1)):D("Reached maximum number of images 6401")}else D("Can't add FormattedSection with an empty image.")},va.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var yp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hs={};function xx(E,F,K,fe,ke,Pe){if(F.imageName){var He=fe[F.imageName];return He?He.displaySize[0]*F.scale*Ko/Pe+ke:0}var Qe=K[F.fontStack],ct=Qe&&Qe[E];return ct?ct.metrics.advance*F.scale+ke:0}function bx(E,F,K,fe){var ke=Math.pow(E-F,2);return fe?E<F?ke/2:2*ke:ke+Math.abs(K)*K}function o5(E,F,K){var fe=0;return E===10&&(fe-=1e4),K&&(fe+=150),E!==40&&E!==65288||(fe+=50),F!==41&&F!==65289||(fe+=50),fe}function _x(E,F,K,fe,ke,Pe){for(var He=null,Qe=bx(F,K,ke,Pe),ct=0,_t=fe;ct<_t.length;ct+=1){var Tt=_t[ct],Nt=bx(F-Tt.x,K,ke,Pe)+Tt.badness;Nt<=Qe&&(He=Tt,Qe=Nt)}return{index:E,x:F,priorBreak:He,badness:Qe}}function wx(E){return E?wx(E.priorBreak).concat(E.index):[]}function qg(E,F,K,fe,ke,Pe,He){if(Pe!=="point")return[];if(!E)return[];for(var Qe=[],ct=function(Mn,_n,Fn,zn,qn,Xn){for(var or=0,vr=0;vr<Mn.length();vr++){var dr=Mn.getSection(vr);or+=xx(Mn.getCharCode(vr),dr,zn,qn,_n,Xn)}return or/Math.max(1,Math.ceil(or/Fn))}(E,F,K,fe,ke,He),_t=E.text.indexOf("\u200B")>=0,Tt=0,Nt=0;Nt<E.length();Nt++){var qt=E.getSection(Nt),Ut=E.getCharCode(Nt);if(yp[Ut]||(Tt+=xx(Ut,qt,fe,ke,F,He)),Nt<E.length()-1){var an=!((un=Ut)<11904||!(yr["Bopomofo Extended"](un)||yr.Bopomofo(un)||yr["CJK Compatibility Forms"](un)||yr["CJK Compatibility Ideographs"](un)||yr["CJK Compatibility"](un)||yr["CJK Radicals Supplement"](un)||yr["CJK Strokes"](un)||yr["CJK Symbols and Punctuation"](un)||yr["CJK Unified Ideographs Extension A"](un)||yr["CJK Unified Ideographs"](un)||yr["Enclosed CJK Letters and Months"](un)||yr["Halfwidth and Fullwidth Forms"](un)||yr.Hiragana(un)||yr["Ideographic Description Characters"](un)||yr["Kangxi Radicals"](un)||yr["Katakana Phonetic Extensions"](un)||yr.Katakana(un)||yr["Vertical Forms"](un)||yr["Yi Radicals"](un)||yr["Yi Syllables"](un)));(hs[Ut]||an||qt.imageName)&&Qe.push(_x(Nt+1,Tt,ct,Qe,o5(Ut,E.getCharCode(Nt+1),an&&_t),!1))}}var un;return wx(_x(E.length(),Tt,ct,Qe,0,!0))}function Gg(E){var F=.5,K=.5;switch(E){case"right":case"top-right":case"bottom-right":F=1;break;case"left":case"top-left":case"bottom-left":F=0}switch(E){case"bottom":case"bottom-right":case"bottom-left":K=1;break;case"top":case"top-right":case"top-left":K=0}return{horizontalAlign:F,verticalAlign:K}}function a5(E,F,K,fe,ke){if(fe||ke)for(var Pe=E[K],He=Pe.metrics.advance*Pe.scale,Qe=(E[K].x+He)*fe,ct=F;ct<=K;ct++)E[ct].x-=Qe,E[ct].y+=ke}function Tx(E,F,K,fe,ke,Pe){var He,Qe=E.image;if(Qe.content){var ct=Qe.content,_t=Qe.pixelRatio||1;He=[ct[0]/_t,ct[1]/_t,Qe.displaySize[0]-ct[2]/_t,Qe.displaySize[1]-ct[3]/_t]}var Tt,Nt,qt,Ut,an=F.left*Pe,un=F.right*Pe;K==="width"||K==="both"?(Ut=ke[0]+an-fe[3],Nt=ke[0]+un+fe[1]):Nt=(Ut=ke[0]+(an+un-Qe.displaySize[0])/2)+Qe.displaySize[0];var Mn=F.top*Pe,_n=F.bottom*Pe;return K==="height"||K==="both"?(Tt=ke[1]+Mn-fe[0],qt=ke[1]+_n+fe[2]):qt=(Tt=ke[1]+(Mn+_n-Qe.displaySize[1])/2)+Qe.displaySize[1],{image:Qe,top:Tt,right:Nt,bottom:qt,left:Ut,collisionPadding:He}}hs[10]=!0,hs[32]=!0,hs[38]=!0,hs[40]=!0,hs[41]=!0,hs[43]=!0,hs[45]=!0,hs[47]=!0,hs[173]=!0,hs[183]=!0,hs[8203]=!0,hs[8208]=!0,hs[8211]=!0,hs[8231]=!0;var Sf=function(E){function F(K,fe,ke,Pe){E.call(this,K,fe),this.angle=ke,Pe!==void 0&&(this.segment=Pe)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.clone=function(){return new F(this.x,this.y,this.angle,this.segment)},F}(t);Mr("Anchor",Sf);var Zl=128;function Wg(E,F){var K=F.expression;if(K.kind==="constant")return{kind:"constant",layoutSize:K.evaluate(new ri(E+1))};if(K.kind==="source")return{kind:"source"};for(var fe=K.zoomStops,ke=K.interpolationType,Pe=0;Pe<fe.length&&fe[Pe]<=E;)Pe++;for(var He=Pe=Math.max(0,Pe-1);He<fe.length&&fe[He]<E+1;)He++;He=Math.min(fe.length-1,He);var Qe=fe[Pe],ct=fe[He];return K.kind==="composite"?{kind:"composite",minZoom:Qe,maxZoom:ct,interpolationType:ke}:{kind:"camera",minZoom:Qe,maxZoom:ct,minSize:K.evaluate(new ri(Qe)),maxSize:K.evaluate(new ri(ct)),interpolationType:ke}}function Mx(E,F,K){var fe=F.uSize,ke=F.uSizeT,Pe=K.lowerSize,He=K.upperSize;return E.kind==="source"?Pe/Zl:E.kind==="composite"?Rr(Pe/Zl,He/Zl,ke):fe}function Ax(E,F){var K=0,fe=0;if(E.kind==="constant")fe=E.layoutSize;else if(E.kind!=="source"){var ke=E.interpolationType,Pe=E.minZoom,He=E.maxZoom,Qe=ke?u(fo.interpolationFactor(ke,F,Pe,He),0,1):0;E.kind==="camera"?fe=Rr(E.minSize,E.maxSize,Qe):K=Qe}return{uSizeT:K,uSize:fe}}var s5=Object.freeze({__proto__:null,getSizeData:Wg,evaluateSizeForFeature:Mx,evaluateSizeForZoom:Ax,SIZE_PACK_FACTOR:Zl});function kx(E,F,K,fe,ke){if(F.segment===void 0)return!0;for(var Pe=F,He=F.segment+1,Qe=0;Qe>-K/2;){if(--He<0)return!1;Qe-=E[He].dist(Pe),Pe=E[He]}Qe+=E[He].dist(E[He+1]),He++;for(var ct=[],_t=0;Qe<K/2;){var Tt=E[He-1],Nt=E[He],qt=E[He+1];if(!qt)return!1;var Ut=Tt.angleTo(Nt)-Nt.angleTo(qt);for(Ut=Math.abs((Ut+3*Math.PI)%(2*Math.PI)-Math.PI),ct.push({distance:Qe,angleDelta:Ut}),_t+=Ut;Qe-ct[0].distance>fe;)_t-=ct.shift().angleDelta;if(_t>ke)return!1;He++,Qe+=Nt.dist(qt)}return!0}function Sx(E){for(var F=0,K=0;K<E.length-1;K++)F+=E[K].dist(E[K+1]);return F}function Ex(E,F,K){return E?.6*F*K:0}function Cx(E,F){return Math.max(E?E.right-E.left:0,F?F.right-F.left:0)}function l5(E,F,K,fe,ke,Pe){for(var He=Ex(K,ke,Pe),Qe=Cx(K,fe)*Pe,ct=0,_t=Sx(E)/2,Tt=0;Tt<E.length-1;Tt++){var Nt=E[Tt],qt=E[Tt+1],Ut=Nt.dist(qt);if(ct+Ut>_t){var an=(_t-ct)/Ut,un=Rr(Nt.x,qt.x,an),Mn=Rr(Nt.y,qt.y,an),_n=new Sf(un,Mn,qt.angleTo(Nt),Tt);return _n._round(),!He||kx(E,_n,Qe,He,F)?_n:void 0}ct+=Ut}}function u5(E,F,K,fe,ke,Pe,He,Qe,ct){var _t=Ex(fe,Pe,He),Tt=Cx(fe,ke),Nt=Tt*He,qt=E[0].x===0||E[0].x===ct||E[0].y===0||E[0].y===ct;return F-Nt<F/4&&(F=Nt+F/4),Dx(E,qt?F/2*Qe%F:(Tt/2+2*Pe)*He*Qe%F,F,_t,K,Nt,qt,!1,ct)}function Dx(E,F,K,fe,ke,Pe,He,Qe,ct){for(var _t=Pe/2,Tt=Sx(E),Nt=0,qt=F-K,Ut=[],an=0;an<E.length-1;an++){for(var un=E[an],Mn=E[an+1],_n=un.dist(Mn),Fn=Mn.angleTo(un);qt+K<Nt+_n;){var zn=((qt+=K)-Nt)/_n,qn=Rr(un.x,Mn.x,zn),Xn=Rr(un.y,Mn.y,zn);if(qn>=0&&qn<ct&&Xn>=0&&Xn<ct&&qt-_t>=0&&qt+_t<=Tt){var or=new Sf(qn,Xn,Fn,an);or._round(),fe&&!kx(E,or,Pe,fe,ke)||Ut.push(or)}}Nt+=_n}return Qe||Ut.length||He||(Ut=Dx(E,Nt/2,K,fe,ke,Pe,He,!0,ct)),Ut}function Ix(E,F,K,fe,ke){for(var Pe=[],He=0;He<E.length;He++)for(var Qe=E[He],ct=void 0,_t=0;_t<Qe.length-1;_t++){var Tt=Qe[_t],Nt=Qe[_t+1];Tt.x<F&&Nt.x<F||(Tt.x<F?Tt=new t(F,Tt.y+(Nt.y-Tt.y)*((F-Tt.x)/(Nt.x-Tt.x)))._round():Nt.x<F&&(Nt=new t(F,Tt.y+(Nt.y-Tt.y)*((F-Tt.x)/(Nt.x-Tt.x)))._round()),Tt.y<K&&Nt.y<K||(Tt.y<K?Tt=new t(Tt.x+(Nt.x-Tt.x)*((K-Tt.y)/(Nt.y-Tt.y)),K)._round():Nt.y<K&&(Nt=new t(Tt.x+(Nt.x-Tt.x)*((K-Tt.y)/(Nt.y-Tt.y)),K)._round()),Tt.x>=fe&&Nt.x>=fe||(Tt.x>=fe?Tt=new t(fe,Tt.y+(Nt.y-Tt.y)*((fe-Tt.x)/(Nt.x-Tt.x)))._round():Nt.x>=fe&&(Nt=new t(fe,Tt.y+(Nt.y-Tt.y)*((fe-Tt.x)/(Nt.x-Tt.x)))._round()),Tt.y>=ke&&Nt.y>=ke||(Tt.y>=ke?Tt=new t(Tt.x+(Nt.x-Tt.x)*((ke-Tt.y)/(Nt.y-Tt.y)),ke)._round():Nt.y>=ke&&(Nt=new t(Tt.x+(Nt.x-Tt.x)*((ke-Tt.y)/(Nt.y-Tt.y)),ke)._round()),ct&&Tt.equals(ct[ct.length-1])||(ct=[Tt],Pe.push(ct)),ct.push(Nt)))))}return Pe}var Ef=fs;function Lx(E,F,K,fe){var ke=[],Pe=E.image,He=Pe.pixelRatio,Qe=Pe.paddedRect.w-2*Ef,ct=Pe.paddedRect.h-2*Ef,_t=E.right-E.left,Tt=E.bottom-E.top,Nt=Pe.stretchX||[[0,Qe]],qt=Pe.stretchY||[[0,ct]],Ut=function(Oi,Yi){return Oi+Yi[1]-Yi[0]},an=Nt.reduce(Ut,0),un=qt.reduce(Ut,0),Mn=Qe-an,_n=ct-un,Fn=0,zn=an,qn=0,Xn=un,or=0,vr=Mn,dr=0,_r=_n;if(Pe.content&&fe){var Tr=Pe.content;Fn=xp(Nt,0,Tr[0]),qn=xp(qt,0,Tr[1]),zn=xp(Nt,Tr[0],Tr[2]),Xn=xp(qt,Tr[1],Tr[3]),or=Tr[0]-Fn,dr=Tr[1]-qn,vr=Tr[2]-Tr[0]-zn,_r=Tr[3]-Tr[1]-Xn}var Hr=function(Oi,Yi,Ki,Ji){var ji=bp(Oi.stretch-Fn,zn,_t,E.left),Io=_p(Oi.fixed-or,vr,Oi.stretch,an),oo=bp(Yi.stretch-qn,Xn,Tt,E.top),qo=_p(Yi.fixed-dr,_r,Yi.stretch,un),sa=bp(Ki.stretch-Fn,zn,_t,E.left),Jo=_p(Ki.fixed-or,vr,Ki.stretch,an),Oa=bp(Ji.stretch-qn,Xn,Tt,E.top),Qo=_p(Ji.fixed-dr,_r,Ji.stretch,un),Ro=new t(ji,oo),ea=new t(sa,oo),Go=new t(sa,Oa),No=new t(ji,Oa),Xr=new t(Io/He,qo/He),gi=new t(Jo/He,Qo/He),mo=F*Math.PI/180;if(mo){var zi=Math.sin(mo),lo=Math.cos(mo),no=[lo,-zi,zi,lo];Ro._matMult(no),ea._matMult(no),No._matMult(no),Go._matMult(no)}var _i=Oi.stretch+Oi.fixed,vo=Ki.stretch+Ki.fixed,Pa=Yi.stretch+Yi.fixed,ds=Ji.stretch+Ji.fixed;return{tl:Ro,tr:ea,bl:No,br:Go,tex:{x:Pe.paddedRect.x+Ef+_i,y:Pe.paddedRect.y+Ef+Pa,w:vo-_i,h:ds-Pa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Xr,pixelOffsetBR:gi,minFontScaleX:vr/He/_t,minFontScaleY:_r/He/Tt,isSDF:K}};if(fe&&(Pe.stretchX||Pe.stretchY))for(var Ir=Ox(Nt,Mn,an),Ur=Ox(qt,_n,un),Or=0;Or<Ir.length-1;Or++)for(var Cr=Ir[Or],ui=Ir[Or+1],$r=0;$r<Ur.length-1;$r++){var Bi=Ur[$r],jr=Ur[$r+1];ke.push(Hr(Cr,Bi,ui,jr))}else ke.push(Hr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:ct+1}));return ke}function xp(E,F,K){for(var fe=0,ke=0,Pe=E;ke<Pe.length;ke+=1){var He=Pe[ke];fe+=Math.max(F,Math.min(K,He[1]))-Math.max(F,Math.min(K,He[0]))}return fe}function Ox(E,F,K){for(var fe=[{fixed:-Ef,stretch:0}],ke=0,Pe=E;ke<Pe.length;ke+=1){var He=Pe[ke],Qe=He[0],ct=He[1],_t=fe[fe.length-1];fe.push({fixed:Qe-_t.stretch,stretch:_t.stretch}),fe.push({fixed:Qe-_t.stretch,stretch:_t.stretch+(ct-Qe)})}return fe.push({fixed:F+Ef,stretch:K}),fe}function bp(E,F,K,fe){return E/F*K+fe}function _p(E,F,K,fe){return E-F*K/fe}var wp=function(E,F,K,fe,ke,Pe,He,Qe,ct,_t){if(this.boxStartIndex=E.length,ct){var Tt=Pe.top,Nt=Pe.bottom,qt=Pe.collisionPadding;qt&&(Tt-=qt[1],Nt+=qt[3]);var Ut=Nt-Tt;Ut>0&&(Ut=Math.max(10,Ut),this.circleDiameter=Ut)}else{var an=Pe.top*He-Qe,un=Pe.bottom*He+Qe,Mn=Pe.left*He-Qe,_n=Pe.right*He+Qe,Fn=Pe.collisionPadding;if(Fn&&(Mn-=Fn[0]*He,an-=Fn[1]*He,_n+=Fn[2]*He,un+=Fn[3]*He),_t){var zn=new t(Mn,an),qn=new t(_n,an),Xn=new t(Mn,un),or=new t(_n,un),vr=_t*Math.PI/180;zn._rotate(vr),qn._rotate(vr),Xn._rotate(vr),or._rotate(vr),Mn=Math.min(zn.x,qn.x,Xn.x,or.x),_n=Math.max(zn.x,qn.x,Xn.x,or.x),an=Math.min(zn.y,qn.y,Xn.y,or.y),un=Math.max(zn.y,qn.y,Xn.y,or.y)}E.emplaceBack(F.x,F.y,Mn,an,_n,un,K,fe,ke)}this.boxEndIndex=E.length},Cf=function(E,F){if(E===void 0&&(E=[]),F===void 0&&(F=c5),this.data=E,this.length=this.data.length,this.compare=F,this.length>0)for(var K=(this.length>>1)-1;K>=0;K--)this._down(K)};function c5(E,F){return E<F?-1:E>F?1:0}function f5(E,F,K){F===void 0&&(F=1),K===void 0&&(K=!1);for(var fe=1/0,ke=1/0,Pe=-1/0,He=-1/0,Qe=E[0],ct=0;ct<Qe.length;ct++){var _t=Qe[ct];(!ct||_t.x<fe)&&(fe=_t.x),(!ct||_t.y<ke)&&(ke=_t.y),(!ct||_t.x>Pe)&&(Pe=_t.x),(!ct||_t.y>He)&&(He=_t.y)}var Tt=Pe-fe,Nt=He-ke,qt=Math.min(Tt,Nt),Ut=qt/2,an=new Cf([],h5);if(qt===0)return new t(fe,ke);for(var un=fe;un<Pe;un+=qt)for(var Mn=ke;Mn<He;Mn+=qt)an.push(new Df(un+Ut,Mn+Ut,Ut,E));for(var _n=function(qn){for(var Xn=0,or=0,vr=0,dr=qn[0],_r=0,Tr=dr.length,Hr=Tr-1;_r<Tr;Hr=_r++){var Ir=dr[_r],Ur=dr[Hr],Or=Ir.x*Ur.y-Ur.x*Ir.y;or+=(Ir.x+Ur.x)*Or,vr+=(Ir.y+Ur.y)*Or,Xn+=3*Or}return new Df(or/Xn,vr/Xn,0,qn)}(E),Fn=an.length;an.length;){var zn=an.pop();(zn.d>_n.d||!_n.d)&&(_n=zn,K&&console.log("found best %d after %d probes",Math.round(1e4*zn.d)/1e4,Fn)),zn.max-_n.d<=F||(Ut=zn.h/2,an.push(new Df(zn.p.x-Ut,zn.p.y-Ut,Ut,E)),an.push(new Df(zn.p.x+Ut,zn.p.y-Ut,Ut,E)),an.push(new Df(zn.p.x-Ut,zn.p.y+Ut,Ut,E)),an.push(new Df(zn.p.x+Ut,zn.p.y+Ut,Ut,E)),Fn+=4)}return K&&(console.log("num probes: "+Fn),console.log("best distance: "+_n.d)),_n.p}function h5(E,F){return F.max-E.max}function Df(E,F,K,fe){this.p=new t(E,F),this.h=K,this.d=function(ke,Pe){for(var He=!1,Qe=1/0,ct=0;ct<Pe.length;ct++)for(var _t=Pe[ct],Tt=0,Nt=_t.length,qt=Nt-1;Tt<Nt;qt=Tt++){var Ut=_t[Tt],an=_t[qt];Ut.y>ke.y!=an.y>ke.y&&ke.x<(an.x-Ut.x)*(ke.y-Ut.y)/(an.y-Ut.y)+Ut.x&&(He=!He),Qe=Math.min(Qe,ip(ke,Ut,an))}return(He?1:-1)*Math.sqrt(Qe)}(this.p,fe),this.max=this.d+this.h*Math.SQRT2}Cf.prototype.push=function(E){this.data.push(E),this.length++,this._up(this.length-1)},Cf.prototype.pop=function(){if(this.length!==0){var E=this.data[0],F=this.data.pop();return this.length--,this.length>0&&(this.data[0]=F,this._down(0)),E}},Cf.prototype.peek=function(){return this.data[0]},Cf.prototype._up=function(E){for(var F=this.data,K=this.compare,fe=F[E];E>0;){var ke=E-1>>1,Pe=F[ke];if(K(fe,Pe)>=0)break;F[E]=Pe,E=ke}F[E]=fe},Cf.prototype._down=function(E){for(var F=this.data,K=this.compare,fe=this.length>>1,ke=F[E];E<fe;){var Pe=1+(E<<1),He=F[Pe],Qe=Pe+1;if(Qe<this.length&&K(F[Qe],He)<0&&(Pe=Qe,He=F[Qe]),K(He,ke)>=0)break;F[E]=He,E=Pe}F[E]=ke};var If=7,Yg=Number.POSITIVE_INFINITY;function Px(E,F){return F[1]!==Yg?function(K,fe,ke){var Pe=0,He=0;switch(fe=Math.abs(fe),ke=Math.abs(ke),K){case"top-right":case"top-left":case"top":He=ke-If;break;case"bottom-right":case"bottom-left":case"bottom":He=-ke+If}switch(K){case"top-right":case"bottom-right":case"right":Pe=-fe;break;case"top-left":case"bottom-left":case"left":Pe=fe}return[Pe,He]}(E,F[0],F[1]):function(K,fe){var ke=0,Pe=0;fe<0&&(fe=0);var He=fe/Math.sqrt(2);switch(K){case"top-right":case"top-left":Pe=He-If;break;case"bottom-right":case"bottom-left":Pe=-He+If;break;case"bottom":Pe=-fe+If;break;case"top":Pe=fe-If}switch(K){case"top-right":case"bottom-right":ke=-He;break;case"top-left":case"bottom-left":ke=He;break;case"left":ke=fe;break;case"right":ke=-fe}return[ke,Pe]}(E,F[0])}function $g(E){switch(E){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Vh=255,sc=Vh*Zl;function Rx(E,F,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an){var un=function(qn,Xn,or,vr,dr,_r,Tr,Hr){for(var Ir=vr.layout.get("text-rotate").evaluate(_r,{})*Math.PI/180,Ur=[],Or=0,Cr=Xn.positionedLines;Or<Cr.length;Or+=1)for(var ui=Cr[Or],$r=0,Bi=ui.positionedGlyphs;$r<Bi.length;$r+=1){var jr=Bi[$r];if(jr.rect){var Oi=jr.rect||{},Yi=vx+1,Ki=!0,Ji=1,ji=0,Io=(dr||Hr)&&jr.vertical,oo=jr.metrics.advance*jr.scale/2;if(Hr&&Xn.verticalizable){var qo=(jr.scale-1)*Ko,sa=(Ko-jr.metrics.width*jr.scale)/2;ji=ui.lineOffset/2-(jr.imageName?-sa:qo)}if(jr.imageName){var Jo=Tr[jr.imageName];Ki=Jo.sdf,Ji=Jo.pixelRatio,Yi=fs/Ji}var Oa=dr?[jr.x+oo,jr.y]:[0,0],Qo=dr?[0,0]:[jr.x+oo+or[0],jr.y+or[1]-ji],Ro=[0,0];Io&&(Ro=Qo,Qo=[0,0]);var ea=(jr.metrics.left-Yi)*jr.scale-oo+Qo[0],Go=(-jr.metrics.top-Yi)*jr.scale+Qo[1],No=ea+Oi.w*jr.scale/Ji,Xr=Go+Oi.h*jr.scale/Ji,gi=new t(ea,Go),mo=new t(No,Go),zi=new t(ea,Xr),lo=new t(No,Xr);if(Io){var no=new t(-oo,oo-Uh),_i=-Math.PI/2,vo=Ko/2-oo,Pa=jr.imageName?vo:0,ds=new t(5-Uh-vo,-Pa),ya=new(Function.prototype.bind.apply(t,[null].concat(Ro)));gi._rotateAround(_i,no)._add(ds)._add(ya),mo._rotateAround(_i,no)._add(ds)._add(ya),zi._rotateAround(_i,no)._add(ds)._add(ya),lo._rotateAround(_i,no)._add(ds)._add(ya)}if(Ir){var Xl=Math.sin(Ir),Nu=Math.cos(Ir),Wo=[Nu,-Xl,Xl,Nu];gi._matMult(Wo),mo._matMult(Wo),zi._matMult(Wo),lo._matMult(Wo)}var Kl=new t(0,0),Cl=new t(0,0);Ur.push({tl:gi,tr:mo,bl:zi,br:lo,tex:Oi,writingMode:Xn.writingMode,glyphOffset:Oa,sectionIndex:jr.sectionIndex,isSDF:Ki,pixelOffsetTL:Kl,pixelOffsetBR:Cl,minFontScaleX:0,minFontScaleY:0})}}return Ur}(0,K,Qe,ke,Pe,He,fe,E.allowVerticalPlacement),Mn=E.textSizeData,_n=null;Mn.kind==="source"?(_n=[Zl*ke.layout.get("text-size").evaluate(He,{})])[0]>sc&&D(E.layerIds[0]+': Value for "text-size" is >= '+Vh+'. Reduce your "text-size".'):Mn.kind==="composite"&&((_n=[Zl*Ut.compositeTextSizes[0].evaluate(He,{},an),Zl*Ut.compositeTextSizes[1].evaluate(He,{},an)])[0]>sc||_n[1]>sc)&&D(E.layerIds[0]+': Value for "text-size" is >= '+Vh+'. Reduce your "text-size".'),E.addSymbols(E.text,un,_n,Qe,Pe,He,_t,F,ct.lineStartIndex,ct.lineLength,qt,an);for(var Fn=0,zn=Tt;Fn<zn.length;Fn+=1)Nt[zn[Fn]]=E.text.placedSymbolArray.length-1;return 4*un.length}function Nx(E){for(var F in E)return E[F];return null}function d5(E,F,K,fe){var ke=E.compareText;if(F in ke){for(var Pe=ke[F],He=Pe.length-1;He>=0;He--)if(fe.dist(Pe[He])<K)return!0}else ke[F]=[];return ke[F].push(fe),!1}var p5=Tf.VectorTileFeature.types,g5=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Tp(E,F,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt){var Ut=Qe?Math.min(sc,Math.round(Qe[0])):0,an=Qe?Math.min(sc,Math.round(Qe[1])):0;E.emplaceBack(F,K,Math.round(32*fe),Math.round(32*ke),Pe,He,(Ut<<1)+(ct?1:0),an,16*_t,16*Tt,256*Nt,256*qt)}function Zg(E,F,K){E.emplaceBack(F.x,F.y,K),E.emplaceBack(F.x,F.y,K),E.emplaceBack(F.x,F.y,K),E.emplaceBack(F.x,F.y,K)}function m5(E){for(var F=0,K=E.sections;F<K.length;F+=1)if(Oo(K[F].text))return!0;return!1}var Lf=function(E){this.layoutVertexArray=new $,this.indexArray=new we,this.programConfigurations=E,this.segments=new Vn,this.dynamicLayoutVertexArray=new W,this.opacityVertexArray=new I,this.placedSymbolArray=new It};Lf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Lf.prototype.upload=function(E,F,K,fe){this.isEmpty()||(K&&(this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,VT.members),this.indexBuffer=E.createIndexBuffer(this.indexArray,F),this.dynamicLayoutVertexBuffer=E.createVertexBuffer(this.dynamicLayoutVertexArray,HT.members,!0),this.opacityVertexBuffer=E.createVertexBuffer(this.opacityVertexArray,g5,!0),this.opacityVertexBuffer.itemSize=1),(K||fe)&&this.programConfigurations.upload(E))},Lf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Mr("SymbolBuffers",Lf);var Hh=function(E,F,K){this.layoutVertexArray=new E,this.layoutAttributes=F,this.indexArray=new K,this.segments=new Vn,this.collisionVertexArray=new he};Hh.prototype.upload=function(E){this.layoutVertexBuffer=E.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=E.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=E.createVertexBuffer(this.collisionVertexArray,qT.members,!0)},Hh.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Mr("CollisionBuffers",Hh);var Li=function(E){this.collisionBoxArray=E.collisionBoxArray,this.zoom=E.zoom,this.overscaling=E.overscaling,this.layers=E.layers,this.layerIds=this.layers.map(function(He){return He.id}),this.index=E.index,this.pixelRatio=E.pixelRatio,this.sourceLayerIndex=E.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ig([]),this.placementViewportMatrix=Ig([]);var F=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Wg(this.zoom,F["text-size"]),this.iconSizeData=Wg(this.zoom,F["icon-size"]);var K=this.layers[0].layout,fe=K.get("symbol-sort-key"),ke=K.get("symbol-z-order");this.canOverlap=K.get("text-allow-overlap")||K.get("icon-allow-overlap")||K.get("text-ignore-placement")||K.get("icon-ignore-placement"),this.sortFeaturesByKey=ke!=="viewport-y"&&fe.constantOr(1)!==void 0;var Pe=ke==="viewport-y"||ke==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Pe&&this.canOverlap,K.get("symbol-placement")==="point"&&(this.writingModes=K.get("text-writing-mode").map(function(He){return Ps[He]})),this.stateDependentLayerIds=this.layers.filter(function(He){return He.isStateDependent()}).map(function(He){return He.id}),this.sourceID=E.sourceID};Li.prototype.createArrays=function(){this.text=new Lf(new so(this.layers,this.zoom,function(E){return/^text/.test(E)})),this.icon=new Lf(new so(this.layers,this.zoom,function(E){return/^icon/.test(E)})),this.glyphOffsetArray=new Vt,this.lineVertexArray=new pn,this.symbolInstances=new Gt},Li.prototype.calculateGlyphDependencies=function(E,F,K,fe,ke){for(var Pe=0;Pe<E.length;Pe++)if(F[E.charCodeAt(Pe)]=!0,(K||fe)&&ke){var He=zh[E.charAt(Pe)];He&&(F[He.charCodeAt(0)]=!0)}},Li.prototype.populate=function(E,F,K){var fe=this.layers[0],ke=fe.layout,Pe=ke.get("text-font"),He=ke.get("text-field"),Qe=ke.get("icon-image"),ct=(He.value.kind!=="constant"||He.value.value instanceof Rn&&!He.value.value.isEmpty()||He.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),_t=Qe.value.kind!=="constant"||!!Qe.value.value||Object.keys(Qe.parameters).length>0,Tt=ke.get("symbol-sort-key");if(this.features=[],ct||_t){for(var Nt=F.iconDependencies,qt=F.glyphDependencies,Ut=F.availableImages,an=new ri(this.zoom),un=0,Mn=E;un<Mn.length;un+=1){var _n=Mn[un],Fn=_n.feature,zn=_n.id,qn=_n.index,Xn=_n.sourceLayerIndex,or=fe._featureFilter.needGeometry,vr=Gi(Fn,or);if(fe._featureFilter.filter(an,vr,K)){or||(vr.geometry=cs(Fn));var dr=void 0;if(ct){var _r=fe.getValueAndResolveTokens("text-field",vr,K,Ut),Tr=Rn.factory(_r);m5(Tr)&&(this.hasRTLText=!0),(!this.hasRTLText||Tl()==="unavailable"||this.hasRTLText&&Vo.isParsed())&&(dr=WT(Tr,fe,vr))}var Hr=void 0;if(_t){var Ir=fe.getValueAndResolveTokens("icon-image",vr,K,Ut);Hr=Ir instanceof Kn?Ir:Kn.fromString(Ir)}if(dr||Hr){var Ur=this.sortFeaturesByKey?Tt.evaluate(vr,{},K):void 0,Or={id:zn,text:dr,icon:Hr,index:qn,sourceLayerIndex:Xn,geometry:vr.geometry,properties:Fn.properties,type:p5[Fn.type],sortKey:Ur};if(this.features.push(Or),Hr&&(Nt[Hr.name]=!0),dr){var Cr=Pe.evaluate(vr,{},K).join(","),ui=ke.get("text-rotation-alignment")==="map"&&ke.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ps.vertical)>=0;for(var $r=0,Bi=dr.sections;$r<Bi.length;$r+=1){var jr=Bi[$r];if(jr.image)Nt[jr.image.name]=!0;else{var Oi=ql(dr.toString()),Yi=jr.fontStack||Cr,Ki=qt[Yi]=qt[Yi]||{};this.calculateGlyphDependencies(jr.text,Ki,ui,this.allowVerticalPlacement,Oi)}}}}}}ke.get("symbol-placement")==="line"&&(this.features=function(Ji){var ji={},Io={},oo=[],qo=0;function sa(lo){oo.push(Ji[lo]),qo++}function Jo(lo,no,_i){var vo=Io[lo];return delete Io[lo],Io[no]=vo,oo[vo].geometry[0].pop(),oo[vo].geometry[0]=oo[vo].geometry[0].concat(_i[0]),vo}function Oa(lo,no,_i){var vo=ji[no];return delete ji[no],ji[lo]=vo,oo[vo].geometry[0].shift(),oo[vo].geometry[0]=_i[0].concat(oo[vo].geometry[0]),vo}function Qo(lo,no,_i){var vo=_i?no[0][no[0].length-1]:no[0][0];return lo+":"+vo.x+":"+vo.y}for(var Ro=0;Ro<Ji.length;Ro++){var ea=Ji[Ro],Go=ea.geometry,No=ea.text?ea.text.toString():null;if(No){var Xr=Qo(No,Go),gi=Qo(No,Go,!0);if(Xr in Io&&gi in ji&&Io[Xr]!==ji[gi]){var mo=Oa(Xr,gi,Go),zi=Jo(Xr,gi,oo[mo].geometry);delete ji[Xr],delete Io[gi],Io[Qo(No,oo[zi].geometry,!0)]=zi,oo[mo].geometry=null}else Xr in Io?Jo(Xr,gi,Go):gi in ji?Oa(Xr,gi,Go):(sa(Ro),ji[Xr]=qo-1,Io[gi]=qo-1)}else sa(Ro)}return oo.filter(function(lo){return lo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ji,ji){return Ji.sortKey-ji.sortKey})}},Li.prototype.update=function(E,F,K){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(E,F,this.layers,K),this.icon.programConfigurations.updatePaintArrays(E,F,this.layers,K))},Li.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Li.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Li.prototype.upload=function(E){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(E),this.iconCollisionBox.upload(E)),this.text.upload(E,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(E,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Li.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Li.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Li.prototype.addToLineVertexArray=function(E,F){var K=this.lineVertexArray.length;if(E.segment!==void 0){for(var fe=E.dist(F[E.segment+1]),ke=E.dist(F[E.segment]),Pe={},He=E.segment+1;He<F.length;He++)Pe[He]={x:F[He].x,y:F[He].y,tileUnitDistanceFromAnchor:fe},He<F.length-1&&(fe+=F[He+1].dist(F[He]));for(var Qe=E.segment||0;Qe>=0;Qe--)Pe[Qe]={x:F[Qe].x,y:F[Qe].y,tileUnitDistanceFromAnchor:ke},Qe>0&&(ke+=F[Qe-1].dist(F[Qe]));for(var ct=0;ct<F.length;ct++){var _t=Pe[ct];this.lineVertexArray.emplaceBack(_t.x,_t.y,_t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:K,lineLength:this.lineVertexArray.length-K}},Li.prototype.addSymbols=function(E,F,K,fe,ke,Pe,He,Qe,ct,_t,Tt,Nt){for(var qt=E.indexArray,Ut=E.layoutVertexArray,an=E.segments.prepareSegment(4*F.length,Ut,qt,this.canOverlap?Pe.sortKey:void 0),un=this.glyphOffsetArray.length,Mn=an.vertexLength,_n=this.allowVerticalPlacement&&He===Ps.vertical?Math.PI/2:0,Fn=Pe.text&&Pe.text.sections,zn=0;zn<F.length;zn++){var qn=F[zn],Xn=qn.tl,or=qn.tr,vr=qn.bl,dr=qn.br,_r=qn.tex,Tr=qn.pixelOffsetTL,Hr=qn.pixelOffsetBR,Ir=qn.minFontScaleX,Ur=qn.minFontScaleY,Or=qn.glyphOffset,Cr=qn.isSDF,ui=qn.sectionIndex,$r=an.vertexLength,Bi=Or[1];Tp(Ut,Qe.x,Qe.y,Xn.x,Bi+Xn.y,_r.x,_r.y,K,Cr,Tr.x,Tr.y,Ir,Ur),Tp(Ut,Qe.x,Qe.y,or.x,Bi+or.y,_r.x+_r.w,_r.y,K,Cr,Hr.x,Tr.y,Ir,Ur),Tp(Ut,Qe.x,Qe.y,vr.x,Bi+vr.y,_r.x,_r.y+_r.h,K,Cr,Tr.x,Hr.y,Ir,Ur),Tp(Ut,Qe.x,Qe.y,dr.x,Bi+dr.y,_r.x+_r.w,_r.y+_r.h,K,Cr,Hr.x,Hr.y,Ir,Ur),Zg(E.dynamicLayoutVertexArray,Qe,_n),qt.emplaceBack($r,$r+1,$r+2),qt.emplaceBack($r+1,$r+2,$r+3),an.vertexLength+=4,an.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Or[0]),zn!==F.length-1&&ui===F[zn+1].sectionIndex||E.programConfigurations.populatePaintArrays(Ut.length,Pe,Pe.index,{},Nt,Fn&&Fn[ui])}E.placedSymbolArray.emplaceBack(Qe.x,Qe.y,un,this.glyphOffsetArray.length-un,Mn,ct,_t,Qe.segment,K?K[0]:0,K?K[1]:0,fe[0],fe[1],He,0,!1,0,Tt)},Li.prototype._addCollisionDebugVertex=function(E,F,K,fe,ke,Pe){return F.emplaceBack(0,0),E.emplaceBack(K.x,K.y,fe,ke,Math.round(Pe.x),Math.round(Pe.y))},Li.prototype.addCollisionDebugVertices=function(E,F,K,fe,ke,Pe,He){var Qe=ke.segments.prepareSegment(4,ke.layoutVertexArray,ke.indexArray),ct=Qe.vertexLength,_t=ke.layoutVertexArray,Tt=ke.collisionVertexArray,Nt=He.anchorX,qt=He.anchorY;this._addCollisionDebugVertex(_t,Tt,Pe,Nt,qt,new t(E,F)),this._addCollisionDebugVertex(_t,Tt,Pe,Nt,qt,new t(K,F)),this._addCollisionDebugVertex(_t,Tt,Pe,Nt,qt,new t(K,fe)),this._addCollisionDebugVertex(_t,Tt,Pe,Nt,qt,new t(E,fe)),Qe.vertexLength+=4;var Ut=ke.indexArray;Ut.emplaceBack(ct,ct+1),Ut.emplaceBack(ct+1,ct+2),Ut.emplaceBack(ct+2,ct+3),Ut.emplaceBack(ct+3,ct),Qe.primitiveLength+=4},Li.prototype.addDebugCollisionBoxes=function(E,F,K,fe){for(var ke=E;ke<F;ke++){var Pe=this.collisionBoxArray.get(ke),He=Pe.x1,Qe=Pe.y1,ct=Pe.x2,_t=Pe.y2;this.addCollisionDebugVertices(He,Qe,ct,_t,fe?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,K)}},Li.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Hh(te,cx.members,ft),this.iconCollisionBox=new Hh(te,cx.members,ft);for(var E=0;E<this.symbolInstances.length;E++){var F=this.symbolInstances.get(E);this.addDebugCollisionBoxes(F.textBoxStartIndex,F.textBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.verticalTextBoxStartIndex,F.verticalTextBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.iconBoxStartIndex,F.iconBoxEndIndex,F,!1),this.addDebugCollisionBoxes(F.verticalIconBoxStartIndex,F.verticalIconBoxEndIndex,F,!1)}},Li.prototype._deserializeCollisionBoxesForSymbol=function(E,F,K,fe,ke,Pe,He,Qe,ct){for(var _t={},Tt=F;Tt<K;Tt++){var Nt=E.get(Tt);_t.textBox={x1:Nt.x1,y1:Nt.y1,x2:Nt.x2,y2:Nt.y2,anchorPointX:Nt.anchorPointX,anchorPointY:Nt.anchorPointY},_t.textFeatureIndex=Nt.featureIndex;break}for(var qt=fe;qt<ke;qt++){var Ut=E.get(qt);_t.verticalTextBox={x1:Ut.x1,y1:Ut.y1,x2:Ut.x2,y2:Ut.y2,anchorPointX:Ut.anchorPointX,anchorPointY:Ut.anchorPointY},_t.verticalTextFeatureIndex=Ut.featureIndex;break}for(var an=Pe;an<He;an++){var un=E.get(an);_t.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},_t.iconFeatureIndex=un.featureIndex;break}for(var Mn=Qe;Mn<ct;Mn++){var _n=E.get(Mn);_t.verticalIconBox={x1:_n.x1,y1:_n.y1,x2:_n.x2,y2:_n.y2,anchorPointX:_n.anchorPointX,anchorPointY:_n.anchorPointY},_t.verticalIconFeatureIndex=_n.featureIndex;break}return _t},Li.prototype.deserializeCollisionBoxes=function(E){this.collisionArrays=[];for(var F=0;F<this.symbolInstances.length;F++){var K=this.symbolInstances.get(F);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(E,K.textBoxStartIndex,K.textBoxEndIndex,K.verticalTextBoxStartIndex,K.verticalTextBoxEndIndex,K.iconBoxStartIndex,K.iconBoxEndIndex,K.verticalIconBoxStartIndex,K.verticalIconBoxEndIndex))}},Li.prototype.hasTextData=function(){return this.text.segments.get().length>0},Li.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Li.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Li.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Li.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Li.prototype.addIndicesForPlacedSymbol=function(E,F){for(var K=E.placedSymbolArray.get(F),fe=K.vertexStartIndex+4*K.numGlyphs,ke=K.vertexStartIndex;ke<fe;ke+=4)E.indexArray.emplaceBack(ke,ke+1,ke+2),E.indexArray.emplaceBack(ke+1,ke+2,ke+3)},Li.prototype.getSortedSymbolIndexes=function(E){if(this.sortedAngle===E&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var F=Math.sin(E),K=Math.cos(E),fe=[],ke=[],Pe=[],He=0;He<this.symbolInstances.length;++He){Pe.push(He);var Qe=this.symbolInstances.get(He);fe.push(0|Math.round(F*Qe.anchorX+K*Qe.anchorY)),ke.push(Qe.featureIndex)}return Pe.sort(function(ct,_t){return fe[ct]-fe[_t]||ke[_t]-ke[ct]}),Pe},Li.prototype.addToSortKeyRanges=function(E,F){var K=this.sortKeyRanges[this.sortKeyRanges.length-1];K&&K.sortKey===F?K.symbolInstanceEnd=E+1:this.sortKeyRanges.push({sortKey:F,symbolInstanceStart:E,symbolInstanceEnd:E+1})},Li.prototype.sortFeatures=function(E){var F=this;if(this.sortFeaturesByY&&this.sortedAngle!==E&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(E),this.sortedAngle=E,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var K=0,fe=this.symbolInstanceIndexes;K<fe.length;K+=1){var ke=fe[K],Pe=this.symbolInstances.get(ke);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(He,Qe,ct){He>=0&&ct.indexOf(He)===Qe&&F.addIndicesForPlacedSymbol(F.text,He)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Mr("SymbolBucket",Li,{omit:["layers","collisionBoxArray","features","compareText"]}),Li.MAX_GLYPHS=65535,Li.addDynamicAttributes=Zg;var v5=new eo({"symbol-placement":new Sr($e.layout_symbol["symbol-placement"]),"symbol-spacing":new Sr($e.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Sr($e.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pr($e.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Sr($e.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Sr($e.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Sr($e.layout_symbol["icon-ignore-placement"]),"icon-optional":new Sr($e.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Sr($e.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pr($e.layout_symbol["icon-size"]),"icon-text-fit":new Sr($e.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Sr($e.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pr($e.layout_symbol["icon-image"]),"icon-rotate":new Pr($e.layout_symbol["icon-rotate"]),"icon-padding":new Sr($e.layout_symbol["icon-padding"]),"icon-keep-upright":new Sr($e.layout_symbol["icon-keep-upright"]),"icon-offset":new Pr($e.layout_symbol["icon-offset"]),"icon-anchor":new Pr($e.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Sr($e.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Sr($e.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Sr($e.layout_symbol["text-rotation-alignment"]),"text-field":new Pr($e.layout_symbol["text-field"]),"text-font":new Pr($e.layout_symbol["text-font"]),"text-size":new Pr($e.layout_symbol["text-size"]),"text-max-width":new Pr($e.layout_symbol["text-max-width"]),"text-line-height":new Sr($e.layout_symbol["text-line-height"]),"text-letter-spacing":new Pr($e.layout_symbol["text-letter-spacing"]),"text-justify":new Pr($e.layout_symbol["text-justify"]),"text-radial-offset":new Pr($e.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Sr($e.layout_symbol["text-variable-anchor"]),"text-anchor":new Pr($e.layout_symbol["text-anchor"]),"text-max-angle":new Sr($e.layout_symbol["text-max-angle"]),"text-writing-mode":new Sr($e.layout_symbol["text-writing-mode"]),"text-rotate":new Pr($e.layout_symbol["text-rotate"]),"text-padding":new Sr($e.layout_symbol["text-padding"]),"text-keep-upright":new Sr($e.layout_symbol["text-keep-upright"]),"text-transform":new Pr($e.layout_symbol["text-transform"]),"text-offset":new Pr($e.layout_symbol["text-offset"]),"text-allow-overlap":new Sr($e.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Sr($e.layout_symbol["text-ignore-placement"]),"text-optional":new Sr($e.layout_symbol["text-optional"])}),Xg={paint:new eo({"icon-opacity":new Pr($e.paint_symbol["icon-opacity"]),"icon-color":new Pr($e.paint_symbol["icon-color"]),"icon-halo-color":new Pr($e.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pr($e.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pr($e.paint_symbol["icon-halo-blur"]),"icon-translate":new Sr($e.paint_symbol["icon-translate"]),"icon-translate-anchor":new Sr($e.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pr($e.paint_symbol["text-opacity"]),"text-color":new Pr($e.paint_symbol["text-color"],{runtimeType:on,getOverride:function(E){return E.textColor},hasOverride:function(E){return!!E.textColor}}),"text-halo-color":new Pr($e.paint_symbol["text-halo-color"]),"text-halo-width":new Pr($e.paint_symbol["text-halo-width"]),"text-halo-blur":new Pr($e.paint_symbol["text-halo-blur"]),"text-translate":new Sr($e.paint_symbol["text-translate"]),"text-translate-anchor":new Sr($e.paint_symbol["text-translate-anchor"])}),layout:v5},Of=function(E){this.type=E.property.overrides?E.property.overrides.runtimeType:Lt,this.defaultValue=E};Of.prototype.evaluate=function(E){if(E.formattedSection){var F=this.defaultValue.property.overrides;if(F&&F.hasOverride(E.formattedSection))return F.getOverride(E.formattedSection)}return E.feature&&E.featureState?this.defaultValue.evaluate(E.feature,E.featureState):this.defaultValue.property.specification.default},Of.prototype.eachChild=function(E){this.defaultValue.isConstant()||E(this.defaultValue.value._styleExpression.expression)},Of.prototype.outputDefined=function(){return!1},Of.prototype.serialize=function(){return null},Mr("FormatSectionOverride",Of,{omit:["defaultValue"]});var y5=function(E){function F(K){E.call(this,K,Xg)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.recalculate=function(K,fe){if(E.prototype.recalculate.call(this,K,fe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var ke=this.layout.get("text-writing-mode");if(ke){for(var Pe=[],He=0,Qe=ke;He<Qe.length;He+=1){var ct=Qe[He];Pe.indexOf(ct)<0&&Pe.push(ct)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},F.prototype.getValueAndResolveTokens=function(K,fe,ke,Pe){var He=this.layout.get(K).evaluate(fe,{},ke,Pe),Qe=this._unevaluatedLayout._values[K];return Qe.isDataDriven()||Xs(Qe.value)||!He?He:function(ct,_t){return _t.replace(/{([^{}]+)}/g,function(Tt,Nt){return Nt in ct?String(ct[Nt]):""})}(fe.properties,He)},F.prototype.createBucket=function(K){return new Li(K)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype._setPaintOverrides=function(){for(var K=0,fe=Xg.paint.overridableProperties;K<fe.length;K+=1){var ke=fe[K];if(F.hasPaintOverride(this.layout,ke)){var Pe,He=this.paint.get(ke),Qe=new Of(He),ct=new Ts(Qe,He.property.specification);Pe=He.value.kind==="constant"||He.value.kind==="source"?new Aa("source",ct):new yl("composite",ct,He.value.zoomStops,He.value._interpolationType),this.paint._values[ke]=new Di(He.property,Pe,He.parameters)}}},F.prototype._handleOverridablePaintPropertyUpdate=function(K,fe,ke){return!(!this.layout||fe.isDataDriven()||ke.isDataDriven())&&F.hasPaintOverride(this.layout,K)},F.hasPaintOverride=function(K,fe){var ke=K.get("text-field"),Pe=Xg.paint.properties[fe],He=!1,Qe=function(Tt){for(var Nt=0,qt=Tt;Nt<qt.length;Nt+=1){var Ut=qt[Nt];if(Pe.overrides&&Pe.overrides.hasOverride(Ut))return void(He=!0)}};if(ke.value.kind==="constant"&&ke.value.value instanceof Rn)Qe(ke.value.value.sections);else if(ke.value.kind==="source"){var ct=function(Tt){if(!He)if(Tt instanceof en&&$n(Tt.value)===Ln){var Nt=Tt.value;Qe(Nt.sections)}else Tt instanceof On?Qe(Tt.sections):Tt.eachChild(ct)},_t=ke.value;_t._styleExpression&&ct(_t._styleExpression.expression)}return He},F}(bi),x5={paint:new eo({"background-color":new Sr($e.paint_background["background-color"]),"background-pattern":new Za($e.paint_background["background-pattern"]),"background-opacity":new Sr($e.paint_background["background-opacity"])})},b5=function(E){function F(K){E.call(this,K,x5)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F}(bi),_5={paint:new eo({"raster-opacity":new Sr($e.paint_raster["raster-opacity"]),"raster-hue-rotate":new Sr($e.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Sr($e.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Sr($e.paint_raster["raster-brightness-max"]),"raster-saturation":new Sr($e.paint_raster["raster-saturation"]),"raster-contrast":new Sr($e.paint_raster["raster-contrast"]),"raster-resampling":new Sr($e.paint_raster["raster-resampling"]),"raster-fade-duration":new Sr($e.paint_raster["raster-fade-duration"])})},w5=function(E){function F(K){E.call(this,K,_5)}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F}(bi),T5=function(E){function F(K){E.call(this,K,{}),this.implementation=K}return E&&(F.__proto__=E),F.prototype=Object.create(E&&E.prototype),F.prototype.constructor=F,F.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},F.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},F.prototype.recalculate=function(){},F.prototype.updateTransitions=function(){},F.prototype.hasTransition=function(){},F.prototype.serialize=function(){},F.prototype.onAdd=function(K){this.implementation.onAdd&&this.implementation.onAdd(K,K.painter.context.gl)},F.prototype.onRemove=function(K){this.implementation.onRemove&&this.implementation.onRemove(K,K.painter.context.gl)},F}(bi),M5={circle:iT,heatmap:aT,hillshade:lT,fill:AT,"fill-extrusion":PT,line:UT,symbol:y5,background:b5,raster:w5},Fx=r.HTMLImageElement,zx=r.HTMLCanvasElement,Bx=r.HTMLVideoElement,jx=r.ImageData,Mp=r.ImageBitmap,Rc=function(E,F,K,fe){this.context=E,this.format=K,this.texture=E.gl.createTexture(),this.update(F,fe)};Rc.prototype.update=function(E,F,K){var fe=E.width,ke=E.height,Pe=!(this.size&&this.size[0]===fe&&this.size[1]===ke||K),He=this.context,Qe=He.gl;if(this.useMipmap=!!(F&&F.useMipmap),Qe.bindTexture(Qe.TEXTURE_2D,this.texture),He.pixelStoreUnpackFlipY.set(!1),He.pixelStoreUnpack.set(1),He.pixelStoreUnpackPremultiplyAlpha.set(this.format===Qe.RGBA&&(!F||F.premultiply!==!1)),Pe)this.size=[fe,ke],E instanceof Fx||E instanceof zx||E instanceof Bx||E instanceof jx||Mp&&E instanceof Mp?Qe.texImage2D(Qe.TEXTURE_2D,0,this.format,this.format,Qe.UNSIGNED_BYTE,E):Qe.texImage2D(Qe.TEXTURE_2D,0,this.format,fe,ke,0,this.format,Qe.UNSIGNED_BYTE,E.data);else{var ct=K||{x:0,y:0},_t=ct.x,Tt=ct.y;E instanceof Fx||E instanceof zx||E instanceof Bx||E instanceof jx||Mp&&E instanceof Mp?Qe.texSubImage2D(Qe.TEXTURE_2D,0,_t,Tt,Qe.RGBA,Qe.UNSIGNED_BYTE,E):Qe.texSubImage2D(Qe.TEXTURE_2D,0,_t,Tt,fe,ke,Qe.RGBA,Qe.UNSIGNED_BYTE,E.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Qe.generateMipmap(Qe.TEXTURE_2D)},Rc.prototype.bind=function(E,F,K){var fe=this.context.gl;fe.bindTexture(fe.TEXTURE_2D,this.texture),K!==fe.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(K=fe.LINEAR),E!==this.filter&&(fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MAG_FILTER,E),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MIN_FILTER,K||E),this.filter=E),F!==this.wrap&&(fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_S,F),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_T,F),this.wrap=F)},Rc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Rc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Kg=function(E){var F=this;this._callback=E,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){F._triggered=!1,F._callback()})};Kg.prototype.trigger=function(){var E=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){E._triggered=!1,E._callback()},0))},Kg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Pf=function(E,F,K){this.target=E,this.parent=F,this.mapId=K,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},T(["receive","process"],this),this.invoker=new Kg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=R()?E:r};function Ux(E,F,K){var fe=2*Math.PI*6378137/256/Math.pow(2,K);return[E*fe-2*Math.PI*6378137/2,F*fe-2*Math.PI*6378137/2]}Pf.prototype.send=function(E,F,K,fe,ke){var Pe=this;ke===void 0&&(ke=!1);var He=Math.round(1e18*Math.random()).toString(36).substring(0,10);K&&(this.callbacks[He]=K);var Qe=N(this.globalScope)?void 0:[];return this.target.postMessage({id:He,type:E,hasCallback:!!K,targetMapId:fe,mustQueue:ke,sourceMapId:this.mapId,data:Cs(F,Qe)},Qe),{cancel:function(){K&&delete Pe.callbacks[He],Pe.target.postMessage({id:He,type:"<cancel>",targetMapId:fe,sourceMapId:Pe.mapId})}}},Pf.prototype.receive=function(E){var F=E.data,K=F.id;if(K&&(!F.targetMapId||this.mapId===F.targetMapId))if(F.type==="<cancel>"){delete this.tasks[K];var fe=this.cancelCallbacks[K];delete this.cancelCallbacks[K],fe&&fe()}else R()||F.mustQueue?(this.tasks[K]=F,this.taskQueue.push(K),this.invoker.trigger()):this.processTask(K,F)},Pf.prototype.process=function(){if(this.taskQueue.length){var E=this.taskQueue.shift(),F=this.tasks[E];delete this.tasks[E],this.taskQueue.length&&this.invoker.trigger(),F&&this.processTask(E,F)}},Pf.prototype.processTask=function(E,F){var K=this;if(F.type==="<response>"){var fe=this.callbacks[E];delete this.callbacks[E],fe&&(F.error?fe(nl(F.error)):fe(null,nl(F.data)))}else{var ke=!1,Pe=N(this.globalScope)?void 0:[],He=F.hasCallback?function(Tt,Nt){ke=!0,delete K.cancelCallbacks[E],K.target.postMessage({id:E,type:"<response>",sourceMapId:K.mapId,error:Tt?Cs(Tt):null,data:Cs(Nt,Pe)},Pe)}:function(Tt){ke=!0},Qe=null,ct=nl(F.data);if(this.parent[F.type])Qe=this.parent[F.type](F.sourceMapId,ct,He);else if(this.parent.getWorkerSource){var _t=F.type.split(".");Qe=this.parent.getWorkerSource(F.sourceMapId,_t[0],ct.source)[_t[1]](ct,He)}else He(new Error("Could not find function "+F.type));!ke&&Qe&&Qe.cancel&&(this.cancelCallbacks[E]=Qe.cancel)}},Pf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Co=function(E,F){E&&(F?this.setSouthWest(E).setNorthEast(F):E.length===4?this.setSouthWest([E[0],E[1]]).setNorthEast([E[2],E[3]]):this.setSouthWest(E[0]).setNorthEast(E[1]))};Co.prototype.setNorthEast=function(E){return this._ne=E instanceof to?new to(E.lng,E.lat):to.convert(E),this},Co.prototype.setSouthWest=function(E){return this._sw=E instanceof to?new to(E.lng,E.lat):to.convert(E),this},Co.prototype.extend=function(E){var F,K,fe=this._sw,ke=this._ne;if(E instanceof to)F=E,K=E;else{if(!(E instanceof Co)){if(Array.isArray(E)){if(E.length===4||E.every(Array.isArray)){var Pe=E;return this.extend(Co.convert(Pe))}var He=E;return this.extend(to.convert(He))}return this}if(F=E._sw,K=E._ne,!F||!K)return this}return fe||ke?(fe.lng=Math.min(F.lng,fe.lng),fe.lat=Math.min(F.lat,fe.lat),ke.lng=Math.max(K.lng,ke.lng),ke.lat=Math.max(K.lat,ke.lat)):(this._sw=new to(F.lng,F.lat),this._ne=new to(K.lng,K.lat)),this},Co.prototype.getCenter=function(){return new to((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Co.prototype.getSouthWest=function(){return this._sw},Co.prototype.getNorthEast=function(){return this._ne},Co.prototype.getNorthWest=function(){return new to(this.getWest(),this.getNorth())},Co.prototype.getSouthEast=function(){return new to(this.getEast(),this.getSouth())},Co.prototype.getWest=function(){return this._sw.lng},Co.prototype.getSouth=function(){return this._sw.lat},Co.prototype.getEast=function(){return this._ne.lng},Co.prototype.getNorth=function(){return this._ne.lat},Co.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Co.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Co.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Co.prototype.contains=function(E){var F=to.convert(E),K=F.lng,fe=F.lat,ke=this._sw.lat<=fe&&fe<=this._ne.lat,Pe=this._sw.lng<=K&&K<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=K&&K>=this._ne.lng),ke&&Pe},Co.convert=function(E){return!E||E instanceof Co?E:new Co(E)};var Vx=63710088e-1,to=function(E,F){if(isNaN(E)||isNaN(F))throw new Error("Invalid LngLat object: ("+E+", "+F+")");if(this.lng=+E,this.lat=+F,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};to.prototype.wrap=function(){return new to(h(this.lng,-180,180),this.lat)},to.prototype.toArray=function(){return[this.lng,this.lat]},to.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},to.prototype.distanceTo=function(E){var F=Math.PI/180,K=this.lat*F,fe=E.lat*F,ke=Math.sin(K)*Math.sin(fe)+Math.cos(K)*Math.cos(fe)*Math.cos((E.lng-this.lng)*F);return Vx*Math.acos(Math.min(ke,1))},to.prototype.toBounds=function(E){E===void 0&&(E=0);var F=360*E/40075017,K=F/Math.cos(Math.PI/180*this.lat);return new Co(new to(this.lng-K,this.lat-F),new to(this.lng+K,this.lat+F))},to.convert=function(E){if(E instanceof to)return E;if(Array.isArray(E)&&(E.length===2||E.length===3))return new to(Number(E[0]),Number(E[1]));if(!Array.isArray(E)&&typeof E=="object"&&E!==null)return new to(Number("lng"in E?E.lng:E.lon),Number(E.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Hx=2*Math.PI*Vx;function qx(E){return Hx*Math.cos(E*Math.PI/180)}function Gx(E){return(180+E)/360}function Wx(E){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+E*Math.PI/360)))/360}function Yx(E,F){return E/qx(F)}function Jg(E){var F=180-360*E;return 360/Math.PI*Math.atan(Math.exp(F*Math.PI/180))-90}var Nc=function(E,F,K){K===void 0&&(K=0),this.x=+E,this.y=+F,this.z=+K};Nc.fromLngLat=function(E,F){F===void 0&&(F=0);var K=to.convert(E);return new Nc(Gx(K.lng),Wx(K.lat),Yx(F,K.lat))},Nc.prototype.toLngLat=function(){return new to(360*this.x-180,Jg(this.y))},Nc.prototype.toAltitude=function(){return E=this.z,F=this.y,E*qx(Jg(F));var E,F},Nc.prototype.meterInMercatorCoordinateUnits=function(){return 1/Hx*(E=Jg(this.y),1/Math.cos(E*Math.PI/180));var E};var Fc=function(E,F,K){this.z=E,this.x=F,this.y=K,this.key=qh(0,E,E,F,K)};Fc.prototype.equals=function(E){return this.z===E.z&&this.x===E.x&&this.y===E.y},Fc.prototype.url=function(E,F){var K,fe,ke,Pe,He,Qe=(K=this.x,fe=this.y,ke=this.z,Pe=Ux(256*K,256*(fe=Math.pow(2,ke)-fe-1),ke),He=Ux(256*(K+1),256*(fe+1),ke),Pe[0]+","+Pe[1]+","+He[0]+","+He[1]),ct=function(_t,Tt,Nt){for(var qt,Ut="",an=_t;an>0;an--)Ut+=(Tt&(qt=1<<an-1)?1:0)+(Nt&qt?2:0);return Ut}(this.z,this.x,this.y);return E[(this.x+this.y)%E.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(F==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ct).replace("{bbox-epsg-3857}",Qe)},Fc.prototype.getTilePoint=function(E){var F=Math.pow(2,this.z);return new t((E.x*F-this.x)*di,(E.y*F-this.y)*di)},Fc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var $x=function(E,F){this.wrap=E,this.canonical=F,this.key=qh(E,F.z,F.z,F.x,F.y)},Do=function(E,F,K,fe,ke){this.overscaledZ=E,this.wrap=F,this.canonical=new Fc(K,+fe,+ke),this.key=qh(F,E,K,fe,ke)};function qh(E,F,K,fe,ke){(E*=2)<0&&(E=-1*E-1);var Pe=1<<K;return(Pe*Pe*E+Pe*ke+fe).toString(36)+K.toString(36)+F.toString(36)}Do.prototype.equals=function(E){return this.overscaledZ===E.overscaledZ&&this.wrap===E.wrap&&this.canonical.equals(E.canonical)},Do.prototype.scaledTo=function(E){var F=this.canonical.z-E;return E>this.canonical.z?new Do(E,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Do(E,this.wrap,E,this.canonical.x>>F,this.canonical.y>>F)},Do.prototype.calculateScaledKey=function(E,F){var K=this.canonical.z-E;return E>this.canonical.z?qh(this.wrap*+F,E,this.canonical.z,this.canonical.x,this.canonical.y):qh(this.wrap*+F,E,E,this.canonical.x>>K,this.canonical.y>>K)},Do.prototype.isChildOf=function(E){if(E.wrap!==this.wrap)return!1;var F=this.canonical.z-E.canonical.z;return E.overscaledZ===0||E.overscaledZ<this.overscaledZ&&E.canonical.x===this.canonical.x>>F&&E.canonical.y===this.canonical.y>>F},Do.prototype.children=function(E){if(this.overscaledZ>=E)return[new Do(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var F=this.canonical.z+1,K=2*this.canonical.x,fe=2*this.canonical.y;return[new Do(F,this.wrap,F,K,fe),new Do(F,this.wrap,F,K+1,fe),new Do(F,this.wrap,F,K,fe+1),new Do(F,this.wrap,F,K+1,fe+1)]},Do.prototype.isLessThan=function(E){return this.wrap<E.wrap||!(this.wrap>E.wrap)&&(this.overscaledZ<E.overscaledZ||!(this.overscaledZ>E.overscaledZ)&&(this.canonical.x<E.canonical.x||!(this.canonical.x>E.canonical.x)&&this.canonical.y<E.canonical.y))},Do.prototype.wrapped=function(){return new Do(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Do.prototype.unwrapTo=function(E){return new Do(this.overscaledZ,E,this.canonical.z,this.canonical.x,this.canonical.y)},Do.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Do.prototype.toUnwrapped=function(){return new $x(this.wrap,this.canonical)},Do.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Do.prototype.getTilePoint=function(E){return this.canonical.getTilePoint(new Nc(E.x-this.wrap,E.y))},Mr("CanonicalTileID",Fc),Mr("OverscaledTileID",Do,{omit:["posMatrix"]});var Pu=function(E,F,K){if(this.uid=E,F.height!==F.width)throw new RangeError("DEM tiles must be square");if(K&&K!=="mapbox"&&K!=="terrarium")return D('"'+K+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=F.height;var fe=this.dim=F.height-2;this.data=new Uint32Array(F.data.buffer),this.encoding=K||"mapbox";for(var ke=0;ke<fe;ke++)this.data[this._idx(-1,ke)]=this.data[this._idx(0,ke)],this.data[this._idx(fe,ke)]=this.data[this._idx(fe-1,ke)],this.data[this._idx(ke,-1)]=this.data[this._idx(ke,0)],this.data[this._idx(ke,fe)]=this.data[this._idx(ke,fe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(fe,-1)]=this.data[this._idx(fe-1,0)],this.data[this._idx(-1,fe)]=this.data[this._idx(0,fe-1)],this.data[this._idx(fe,fe)]=this.data[this._idx(fe-1,fe-1)]};Pu.prototype.get=function(E,F){var K=new Uint8Array(this.data.buffer),fe=4*this._idx(E,F);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(K[fe],K[fe+1],K[fe+2])},Pu.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Pu.prototype._idx=function(E,F){if(E<-1||E>=this.dim+1||F<-1||F>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(F+1)*this.stride+(E+1)},Pu.prototype._unpackMapbox=function(E,F,K){return(256*E*256+256*F+K)/10-1e4},Pu.prototype._unpackTerrarium=function(E,F,K){return 256*E+F+K/256-32768},Pu.prototype.getPixels=function(){return new Ka({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Pu.prototype.backfillBorder=function(E,F,K){if(this.dim!==E.dim)throw new Error("dem dimension mismatch");var fe=F*this.dim,ke=F*this.dim+this.dim,Pe=K*this.dim,He=K*this.dim+this.dim;switch(F){case-1:fe=ke-1;break;case 1:ke=fe+1}switch(K){case-1:Pe=He-1;break;case 1:He=Pe+1}for(var Qe=-F*this.dim,ct=-K*this.dim,_t=Pe;_t<He;_t++)for(var Tt=fe;Tt<ke;Tt++)this.data[this._idx(Tt,_t)]=E.data[this._idx(Tt+Qe,_t+ct)]},Mr("DEMData",Pu);var Ap=function(E){this._stringToNumber={},this._numberToString=[];for(var F=0;F<E.length;F++){var K=E[F];this._stringToNumber[K]=F,this._numberToString[F]=K}};Ap.prototype.encode=function(E){return this._stringToNumber[E]},Ap.prototype.decode=function(E){return this._numberToString[E]};var kp=function(E,F,K,fe,ke){this.type="Feature",this._vectorTileFeature=E,E._z=F,E._x=K,E._y=fe,this.properties=E.properties,this.id=ke},Qg={geometry:{configurable:!0}};Qg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Qg.geometry.set=function(E){this._geometry=E},kp.prototype.toJSON=function(){var E={geometry:this.geometry};for(var F in this)F!=="_geometry"&&F!=="_vectorTileFeature"&&(E[F]=this[F]);return E},Object.defineProperties(kp.prototype,Qg);var Rf=function(){this.state={},this.stateChanges={},this.deletedStates={}};Rf.prototype.updateState=function(E,F,K){var fe=String(F);if(this.stateChanges[E]=this.stateChanges[E]||{},this.stateChanges[E][fe]=this.stateChanges[E][fe]||{},c(this.stateChanges[E][fe],K),this.deletedStates[E]===null)for(var ke in this.deletedStates[E]={},this.state[E])ke!==fe&&(this.deletedStates[E][ke]=null);else if(this.deletedStates[E]&&this.deletedStates[E][fe]===null)for(var Pe in this.deletedStates[E][fe]={},this.state[E][fe])K[Pe]||(this.deletedStates[E][fe][Pe]=null);else for(var He in K)this.deletedStates[E]&&this.deletedStates[E][fe]&&this.deletedStates[E][fe][He]===null&&delete this.deletedStates[E][fe][He]},Rf.prototype.removeFeatureState=function(E,F,K){if(this.deletedStates[E]!==null){var fe=String(F);if(this.deletedStates[E]=this.deletedStates[E]||{},K&&F!==void 0)this.deletedStates[E][fe]!==null&&(this.deletedStates[E][fe]=this.deletedStates[E][fe]||{},this.deletedStates[E][fe][K]=null);else if(F!==void 0)if(this.stateChanges[E]&&this.stateChanges[E][fe])for(K in this.deletedStates[E][fe]={},this.stateChanges[E][fe])this.deletedStates[E][fe][K]=null;else this.deletedStates[E][fe]=null;else this.deletedStates[E]=null}},Rf.prototype.getState=function(E,F){var K=String(F),fe=this.state[E]||{},ke=this.stateChanges[E]||{},Pe=c({},fe[K],ke[K]);if(this.deletedStates[E]===null)return{};if(this.deletedStates[E]){var He=this.deletedStates[E][F];if(He===null)return{};for(var Qe in He)delete Pe[Qe]}return Pe},Rf.prototype.initializeTileState=function(E,F){E.setFeatureState(this.state,F)},Rf.prototype.coalesceChanges=function(E,F){var K={};for(var fe in this.stateChanges){this.state[fe]=this.state[fe]||{};var ke={};for(var Pe in this.stateChanges[fe])this.state[fe][Pe]||(this.state[fe][Pe]={}),c(this.state[fe][Pe],this.stateChanges[fe][Pe]),ke[Pe]=this.state[fe][Pe];K[fe]=ke}for(var He in this.deletedStates){this.state[He]=this.state[He]||{};var Qe={};if(this.deletedStates[He]===null)for(var ct in this.state[He])Qe[ct]={},this.state[He][ct]={};else for(var _t in this.deletedStates[He]){if(this.deletedStates[He][_t]===null)this.state[He][_t]={};else for(var Tt=0,Nt=Object.keys(this.deletedStates[He][_t]);Tt<Nt.length;Tt+=1){var qt=Nt[Tt];delete this.state[He][_t][qt]}Qe[_t]=this.state[He][_t]}K[He]=K[He]||{},c(K[He],Qe)}if(this.stateChanges={},this.deletedStates={},Object.keys(K).length!==0)for(var Ut in E)E[Ut].setFeatureState(K,F)};var Ru=function(E,F){this.tileID=E,this.x=E.canonical.x,this.y=E.canonical.y,this.z=E.canonical.z,this.grid=new tl(di,16,0),this.grid3D=new tl(di,16,0),this.featureIndexArray=new Sn,this.promoteId=F};function Zx(E,F,K,fe,ke){return A(E,function(Pe,He){var Qe=F instanceof il?F.get(He):null;return Qe&&Qe.evaluate?Qe.evaluate(K,fe,ke):Qe})}function Xx(E){for(var F=1/0,K=1/0,fe=-1/0,ke=-1/0,Pe=0,He=E;Pe<He.length;Pe+=1){var Qe=He[Pe];F=Math.min(F,Qe.x),K=Math.min(K,Qe.y),fe=Math.max(fe,Qe.x),ke=Math.max(ke,Qe.y)}return{minX:F,minY:K,maxX:fe,maxY:ke}}function A5(E,F){return F-E}Ru.prototype.insert=function(E,F,K,fe,ke,Pe){var He=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(K,fe,ke);for(var Qe=Pe?this.grid3D:this.grid,ct=0;ct<F.length;ct++){for(var _t=F[ct],Tt=[1/0,1/0,-1/0,-1/0],Nt=0;Nt<_t.length;Nt++){var qt=_t[Nt];Tt[0]=Math.min(Tt[0],qt.x),Tt[1]=Math.min(Tt[1],qt.y),Tt[2]=Math.max(Tt[2],qt.x),Tt[3]=Math.max(Tt[3],qt.y)}Tt[0]<di&&Tt[1]<di&&Tt[2]>=0&&Tt[3]>=0&&Qe.insert(He,Tt[0],Tt[1],Tt[2],Tt[3])}},Ru.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Tf.VectorTile(new pp(this.rawTileData)).layers,this.sourceLayerCoder=new Ap(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ru.prototype.query=function(E,F,K,fe){var ke=this;this.loadVTLayers();for(var Pe=E.params||{},He=di/E.tileSize/E.scale,Qe=zl(Pe.filter),ct=E.queryGeometry,_t=E.queryPadding*He,Tt=Xx(ct),Nt=this.grid.query(Tt.minX-_t,Tt.minY-_t,Tt.maxX+_t,Tt.maxY+_t),qt=Xx(E.cameraQueryGeometry),Ut=0,an=this.grid3D.query(qt.minX-_t,qt.minY-_t,qt.maxX+_t,qt.maxY+_t,function(qn,Xn,or,vr){return function(dr,_r,Tr,Hr,Ir){for(var Ur=0,Or=dr;Ur<Or.length;Ur+=1){var Cr=Or[Ur];if(_r<=Cr.x&&Tr<=Cr.y&&Hr>=Cr.x&&Ir>=Cr.y)return!0}var ui=[new t(_r,Tr),new t(_r,Ir),new t(Hr,Ir),new t(Hr,Tr)];if(dr.length>2){for(var $r=0,Bi=ui;$r<Bi.length;$r+=1)if(gu(dr,Bi[$r]))return!0}for(var jr=0;jr<dr.length-1;jr++)if(J4(dr[jr],dr[jr+1],ui))return!0;return!1}(E.cameraQueryGeometry,qn-_t,Xn-_t,or+_t,vr+_t)});Ut<an.length;Ut+=1){var un=an[Ut];Nt.push(un)}Nt.sort(A5);for(var Mn,_n={},Fn=function(qn){var Xn=Nt[qn];if(Xn!==Mn){Mn=Xn;var or=ke.featureIndexArray.get(Xn),vr=null;ke.loadMatchingFeature(_n,or.bucketIndex,or.sourceLayerIndex,or.featureIndex,Qe,Pe.layers,Pe.availableImages,F,K,fe,function(dr,_r,Tr){return vr||(vr=cs(dr)),_r.queryIntersectsFeature(ct,dr,Tr,vr,ke.z,E.transform,He,E.pixelPosMatrix)})}},zn=0;zn<Nt.length;zn++)Fn(zn);return _n},Ru.prototype.loadMatchingFeature=function(E,F,K,fe,ke,Pe,He,Qe,ct,_t,Tt){var Nt=this.bucketLayerIDs[F];if(!Pe||function(dr,_r){for(var Tr=0;Tr<dr.length;Tr++)if(_r.indexOf(dr[Tr])>=0)return!0;return!1}(Pe,Nt)){var qt=this.sourceLayerCoder.decode(K),Ut=this.vtLayers[qt].feature(fe);if(ke.needGeometry){var an=Gi(Ut,!0);if(!ke.filter(new ri(this.tileID.overscaledZ),an,this.tileID.canonical))return}else if(!ke.filter(new ri(this.tileID.overscaledZ),Ut))return;for(var un=this.getId(Ut,qt),Mn=0;Mn<Nt.length;Mn++){var _n=Nt[Mn];if(!(Pe&&Pe.indexOf(_n)<0)){var Fn=Qe[_n];if(Fn){var zn={};un!==void 0&&_t&&(zn=_t.getState(Fn.sourceLayer||"_geojsonTileLayer",un));var qn=c({},ct[_n]);qn.paint=Zx(qn.paint,Fn.paint,Ut,zn,He),qn.layout=Zx(qn.layout,Fn.layout,Ut,zn,He);var Xn=!Tt||Tt(Ut,Fn,zn);if(Xn){var or=new kp(Ut,this.z,this.x,this.y,un);or.layer=qn;var vr=E[_n];vr===void 0&&(vr=E[_n]=[]),vr.push({featureIndex:fe,feature:or,intersectionZ:Xn})}}}}}},Ru.prototype.lookupSymbolFeatures=function(E,F,K,fe,ke,Pe,He,Qe){var ct={};this.loadVTLayers();for(var _t=zl(ke),Tt=0,Nt=E;Tt<Nt.length;Tt+=1){var qt=Nt[Tt];this.loadMatchingFeature(ct,K,fe,qt,_t,Pe,He,Qe,F)}return ct},Ru.prototype.hasLayer=function(E){for(var F=0,K=this.bucketLayerIDs;F<K.length;F+=1)for(var fe=0,ke=K[F];fe<ke.length;fe+=1)if(E===ke[fe])return!0;return!1},Ru.prototype.getId=function(E,F){var K=E.id;if(this.promoteId){var fe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[F];typeof(K=E.properties[fe])=="boolean"&&(K=Number(K))}return K},Mr("FeatureIndex",Ru,{omit:["rawTileData","sourceLayerCoder"]});var Ho=function(E,F){this.tileID=E,this.uid=g(),this.uses=0,this.tileSize=F,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ho.prototype.registerFadeDuration=function(E){var F=E+this.timeAdded;F<ee.now()||this.fadeEndTime&&F<this.fadeEndTime||(this.fadeEndTime=F)},Ho.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ho.prototype.loadVectorData=function(E,F,K){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",E){for(var fe in E.featureIndex&&(this.latestFeatureIndex=E.featureIndex,E.rawTileData?(this.latestRawTileData=E.rawTileData,this.latestFeatureIndex.rawTileData=E.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=E.collisionBoxArray,this.buckets=function(_t,Tt){var Nt={};if(!Tt)return Nt;for(var qt=function(){var un=an[Ut],Mn=un.layerIds.map(function(qn){return Tt.getLayer(qn)}).filter(Boolean);if(Mn.length!==0){un.layers=Mn,un.stateDependentLayerIds&&(un.stateDependentLayers=un.stateDependentLayerIds.map(function(qn){return Mn.filter(function(Xn){return Xn.id===qn})[0]}));for(var _n=0,Fn=Mn;_n<Fn.length;_n+=1){var zn=Fn[_n];Nt[zn.id]=un}}},Ut=0,an=_t;Ut<an.length;Ut+=1)qt();return Nt}(E.buckets,F.style),this.hasSymbolBuckets=!1,this.buckets){var ke=this.buckets[fe];if(ke instanceof Li){if(this.hasSymbolBuckets=!0,!K)break;ke.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var He=this.buckets[Pe];if(He instanceof Li&&He.hasRTLText){this.hasRTLText=!0,Vo.isLoading()||Vo.isLoaded()||Tl()!=="deferred"||Ml();break}}for(var Qe in this.queryPadding=0,this.buckets){var ct=this.buckets[Qe];this.queryPadding=Math.max(this.queryPadding,F.style.getLayer(Qe).queryRadius(ct))}E.imageAtlas&&(this.imageAtlas=E.imageAtlas),E.glyphAtlasImage&&(this.glyphAtlasImage=E.glyphAtlasImage)}else this.collisionBoxArray=new Mt},Ho.prototype.unloadVectorData=function(){for(var E in this.buckets)this.buckets[E].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ho.prototype.getBucket=function(E){return this.buckets[E.id]},Ho.prototype.upload=function(E){for(var F in this.buckets){var K=this.buckets[F];K.uploadPending()&&K.upload(E)}var fe=E.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rc(E,this.imageAtlas.image,fe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rc(E,this.glyphAtlasImage,fe.ALPHA),this.glyphAtlasImage=null)},Ho.prototype.prepare=function(E){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(E,this.imageAtlasTexture)},Ho.prototype.queryRenderedFeatures=function(E,F,K,fe,ke,Pe,He,Qe,ct,_t){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:fe,cameraQueryGeometry:ke,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:_t,transform:Qe,params:He,queryPadding:this.queryPadding*ct},E,F,K):{}},Ho.prototype.querySourceFeatures=function(E,F){var K=this.latestFeatureIndex;if(K&&K.rawTileData){var fe=K.loadVTLayers(),ke=F?F.sourceLayer:"",Pe=fe._geojsonTileLayer||fe[ke];if(Pe)for(var He=zl(F&&F.filter),Qe=this.tileID.canonical,ct=Qe.z,_t=Qe.x,Tt=Qe.y,Nt={z:ct,x:_t,y:Tt},qt=0;qt<Pe.length;qt++){var Ut=Pe.feature(qt);if(He.needGeometry){var an=Gi(Ut,!0);if(!He.filter(new ri(this.tileID.overscaledZ),an,this.tileID.canonical))continue}else if(!He.filter(new ri(this.tileID.overscaledZ),Ut))continue;var un=K.getId(Ut,ke),Mn=new kp(Ut,ct,_t,Tt,un);Mn.tile=Nt,E.push(Mn)}}},Ho.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ho.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ho.prototype.setExpiryData=function(E){var F=this.expirationTime;if(E.cacheControl){var K=z(E.cacheControl);K["max-age"]&&(this.expirationTime=Date.now()+1e3*K["max-age"])}else E.expires&&(this.expirationTime=new Date(E.expires).getTime());if(this.expirationTime){var fe=Date.now(),ke=!1;if(this.expirationTime>fe)ke=!1;else if(F)if(this.expirationTime<F)ke=!0;else{var Pe=this.expirationTime-F;Pe?this.expirationTime=fe+Math.max(Pe,3e4):ke=!0}else ke=!0;ke?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ho.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ho.prototype.setFeatureState=function(E,F){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(E).length!==0){var K=this.latestFeatureIndex.loadVTLayers();for(var fe in this.buckets)if(F.style.hasLayer(fe)){var ke=this.buckets[fe],Pe=ke.layers[0].sourceLayer||"_geojsonTileLayer",He=K[Pe],Qe=E[Pe];if(He&&Qe&&Object.keys(Qe).length!==0){ke.update(Qe,He,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ct=F&&F.style&&F.style.getLayer(fe);ct&&(this.queryPadding=Math.max(this.queryPadding,ct.queryRadius(ke)))}}}},Ho.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ho.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ee.now()},Ho.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ho.prototype.setHoldDuration=function(E){this.symbolFadeHoldUntil=ee.now()+E},Ho.prototype.setDependencies=function(E,F){for(var K={},fe=0,ke=F;fe<ke.length;fe+=1)K[ke[fe]]=!0;this.dependencies[E]=K},Ho.prototype.hasDependency=function(E,F){for(var K=0,fe=E;K<fe.length;K+=1){var ke=fe[K],Pe=this.dependencies[ke];if(Pe){for(var He=0,Qe=F;He<Qe.length;He+=1)if(Pe[Qe[He]])return!0}}return!1};var lc=r.performance,Kx=function(E){this._marks={start:[E.url,"start"].join("#"),end:[E.url,"end"].join("#"),measure:E.url.toString()},lc.mark(this._marks.start)};Kx.prototype.finish=function(){lc.mark(this._marks.end);var E=lc.getEntriesByName(this._marks.measure);return E.length===0&&(lc.measure(this._marks.measure,this._marks.start,this._marks.end),E=lc.getEntriesByName(this._marks.measure),lc.clearMarks(this._marks.start),lc.clearMarks(this._marks.end),lc.clearMeasures(this._marks.measure)),E},n.Actor=Pf,n.AlphaImage=Pc,n.CanonicalTileID=Fc,n.CollisionBoxArray=Mt,n.Color=Dn,n.DEMData=Pu,n.DataConstantProperty=Sr,n.DictionaryCoder=Ap,n.EXTENT=di,n.ErrorEvent=je,n.EvaluationParameters=ri,n.Event=Be,n.Evented=ot,n.FeatureIndex=Ru,n.FillBucket=Yl,n.FillExtrusionBucket=$l,n.ImageAtlas=jh,n.ImagePosition=mp,n.LineBucket=La,n.LngLat=to,n.LngLatBounds=Co,n.MercatorCoordinate=Nc,n.ONE_EM=Ko,n.OverscaledTileID=Do,n.Point=t,n.Point$1=t,n.Properties=eo,n.Protobuf=pp,n.RGBAImage=Ka,n.RequestManager=be,n.RequestPerformance=Kx,n.ResourceType=gt,n.SegmentVector=Vn,n.SourceFeatureState=Rf,n.StructArrayLayout1ui2=pt,n.StructArrayLayout2f1f2i16=oe,n.StructArrayLayout2i4=Ls,n.StructArrayLayout3ui6=we,n.StructArrayLayout4i8=Lu,n.SymbolBucket=Li,n.Texture=Rc,n.Tile=Ho,n.Transitionable=Da,n.Uniform1f=Kr,n.Uniform1i=Wr,n.Uniform2f=ii,n.Uniform3f=Ii,n.Uniform4f=Zi,n.UniformColor=Po,n.UniformMatrix4f=So,n.UnwrappedTileID=$x,n.ValidationError=dt,n.WritingMode=Ps,n.ZoomHistory=wl,n.add=function(E,F,K){return E[0]=F[0]+K[0],E[1]=F[1]+K[1],E[2]=F[2]+K[2],E},n.addDynamicAttributes=Zg,n.asyncAll=function(E,F,K){if(!E.length)return K(null,[]);var fe=E.length,ke=new Array(E.length),Pe=null;E.forEach(function(He,Qe){F(He,function(ct,_t){ct&&(Pe=ct),ke[Qe]=_t,--fe==0&&K(Pe,ke)})})},n.bezier=a,n.bindAll=T,n.browser=ee,n.cacheEntryPossiblyAdded=function(E){++vt>Fe&&(E.getActor().send("enforceCacheSizeLimit",Ee),vt=0)},n.clamp=u,n.clearTileCache=function(E){var F=r.caches.delete(Me);E&&F.catch(E).then(function(){return E()})},n.clipLine=Ix,n.clone=function(E){var F=new Os(16);return F[0]=E[0],F[1]=E[1],F[2]=E[2],F[3]=E[3],F[4]=E[4],F[5]=E[5],F[6]=E[6],F[7]=E[7],F[8]=E[8],F[9]=E[9],F[10]=E[10],F[11]=E[11],F[12]=E[12],F[13]=E[13],F[14]=E[14],F[15]=E[15],F},n.clone$1=C,n.clone$2=function(E){var F=new Os(3);return F[0]=E[0],F[1]=E[1],F[2]=E[2],F},n.collisionCircleLayout=GT,n.config=Q,n.create=function(){var E=new Os(16);return Os!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=0,E[12]=0,E[13]=0,E[14]=0),E[0]=1,E[5]=1,E[10]=1,E[15]=1,E},n.create$1=function(){var E=new Os(9);return Os!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[5]=0,E[6]=0,E[7]=0),E[0]=1,E[4]=1,E[8]=1,E},n.create$2=function(){var E=new Os(4);return Os!=Float32Array&&(E[1]=0,E[2]=0),E[0]=1,E[3]=1,E},n.createCommonjsModule=M,n.createExpression=os,n.createLayout=Ni,n.createStyleLayer=function(E){return E.type==="custom"?new T5(E):new M5[E.type](E)},n.cross=function(E,F,K){var fe=F[0],ke=F[1],Pe=F[2],He=K[0],Qe=K[1],ct=K[2];return E[0]=ke*ct-Pe*Qe,E[1]=Pe*He-fe*ct,E[2]=fe*Qe-ke*He,E},n.deepEqual=function E(F,K){if(Array.isArray(F)){if(!Array.isArray(K)||F.length!==K.length)return!1;for(var fe=0;fe<F.length;fe++)if(!E(F[fe],K[fe]))return!1;return!0}if(typeof F=="object"&&F!==null&&K!==null){if(typeof K!="object"||Object.keys(F).length!==Object.keys(K).length)return!1;for(var ke in F)if(!E(F[ke],K[ke]))return!1;return!0}return F===K},n.dot=function(E,F){return E[0]*F[0]+E[1]*F[1]+E[2]*F[2]},n.dot$1=function(E,F){return E[0]*F[0]+E[1]*F[1]+E[2]*F[2]+E[3]*F[3]},n.ease=l,n.emitValidationErrors=Bo,n.endsWith=_,n.enforceCacheSizeLimit=function(E){Ue(),pe&&pe.then(function(F){F.keys().then(function(K){for(var fe=0;fe<K.length-E;fe++)F.delete(K[fe])})})},n.evaluateSizeForFeature=Mx,n.evaluateSizeForZoom=Ax,n.evaluateVariableOffset=Px,n.evented=Uo,n.extend=c,n.featureFilter=zl,n.filterObject=d,n.fromRotation=function(E,F){var K=Math.sin(F),fe=Math.cos(F);return E[0]=fe,E[1]=K,E[2]=0,E[3]=-K,E[4]=fe,E[5]=0,E[6]=0,E[7]=0,E[8]=1,E},n.getAnchorAlignment=Gg,n.getAnchorJustification=$g,n.getArrayBuffer=Rt,n.getImage=Ze,n.getJSON=function(E,F){return Pt(c(E,{type:"json"}),F)},n.getRTLTextPluginStatus=Tl,n.getReferrer=et,n.getVideo=function(E,F){var K,fe,ke=r.document.createElement("video");ke.muted=!0,ke.onloadstart=function(){F(null,ke)};for(var Pe=0;Pe<E.length;Pe++){var He=r.document.createElement("source");K=E[Pe],fe=void 0,(fe=r.document.createElement("a")).href=K,fe.protocol===r.document.location.protocol&&fe.host===r.document.location.host||(ke.crossOrigin="Anonymous"),He.src=E[Pe],ke.appendChild(He)}return{cancel:function(){}}},n.identity=Ig,n.invert=function(E,F){var K=F[0],fe=F[1],ke=F[2],Pe=F[3],He=F[4],Qe=F[5],ct=F[6],_t=F[7],Tt=F[8],Nt=F[9],qt=F[10],Ut=F[11],an=F[12],un=F[13],Mn=F[14],_n=F[15],Fn=K*Qe-fe*He,zn=K*ct-ke*He,qn=K*_t-Pe*He,Xn=fe*ct-ke*Qe,or=fe*_t-Pe*Qe,vr=ke*_t-Pe*ct,dr=Tt*un-Nt*an,_r=Tt*Mn-qt*an,Tr=Tt*_n-Ut*an,Hr=Nt*Mn-qt*un,Ir=Nt*_n-Ut*un,Ur=qt*_n-Ut*Mn,Or=Fn*Ur-zn*Ir+qn*Hr+Xn*Tr-or*_r+vr*dr;return Or?(Or=1/Or,E[0]=(Qe*Ur-ct*Ir+_t*Hr)*Or,E[1]=(ke*Ir-fe*Ur-Pe*Hr)*Or,E[2]=(un*vr-Mn*or+_n*Xn)*Or,E[3]=(qt*or-Nt*vr-Ut*Xn)*Or,E[4]=(ct*Tr-He*Ur-_t*_r)*Or,E[5]=(K*Ur-ke*Tr+Pe*_r)*Or,E[6]=(Mn*qn-an*vr-_n*zn)*Or,E[7]=(Tt*vr-qt*qn+Ut*zn)*Or,E[8]=(He*Ir-Qe*Tr+_t*dr)*Or,E[9]=(fe*Tr-K*Ir-Pe*dr)*Or,E[10]=(an*or-un*qn+_n*Fn)*Or,E[11]=(Nt*qn-Tt*or-Ut*Fn)*Or,E[12]=(Qe*_r-He*Hr-ct*dr)*Or,E[13]=(K*Hr-fe*_r+ke*dr)*Or,E[14]=(un*zn-an*Xn-Mn*Fn)*Or,E[15]=(Tt*Xn-Nt*zn+qt*Fn)*Or,E):null},n.isChar=yr,n.isMapboxURL=_e,n.keysDifference=function(E,F){var K=[];for(var fe in E)fe in F||K.push(fe);return K},n.makeRequest=Pt,n.mapObject=A,n.mercatorXfromLng=Gx,n.mercatorYfromLat=Wx,n.mercatorZfromAltitude=Yx,n.mul=tT,n.multiply=W1,n.mvt=Tf,n.nextPowerOfTwo=function(E){return E<=1?1:Math.pow(2,Math.ceil(Math.log(E)/Math.LN2))},n.normalize=function(E,F){var K=F[0],fe=F[1],ke=F[2],Pe=K*K+fe*fe+ke*ke;return Pe>0&&(Pe=1/Math.sqrt(Pe)),E[0]=F[0]*Pe,E[1]=F[1]*Pe,E[2]=F[2]*Pe,E},n.number=Rr,n.offscreenCanvasSupported=xt,n.ortho=function(E,F,K,fe,ke,Pe,He){var Qe=1/(F-K),ct=1/(fe-ke),_t=1/(Pe-He);return E[0]=-2*Qe,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=-2*ct,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=2*_t,E[11]=0,E[12]=(F+K)*Qe,E[13]=(ke+fe)*ct,E[14]=(He+Pe)*_t,E[15]=1,E},n.parseGlyphPBF=function(E){return new pp(E).readFields(n5,[])},n.pbf=pp,n.performSymbolLayout=function(E,F,K,fe,ke,Pe,He){E.createArrays();var Qe=512*E.overscaling;E.tilePixelRatio=di/Qe,E.compareText={},E.iconsNeedLinear=!1;var ct=E.layers[0].layout,_t=E.layers[0]._unevaluatedLayout._values,Tt={};if(E.textSizeData.kind==="composite"){var Nt=E.textSizeData,qt=Nt.minZoom,Ut=Nt.maxZoom;Tt.compositeTextSizes=[_t["text-size"].possiblyEvaluate(new ri(qt),He),_t["text-size"].possiblyEvaluate(new ri(Ut),He)]}if(E.iconSizeData.kind==="composite"){var an=E.iconSizeData,un=an.minZoom,Mn=an.maxZoom;Tt.compositeIconSizes=[_t["icon-size"].possiblyEvaluate(new ri(un),He),_t["icon-size"].possiblyEvaluate(new ri(Mn),He)]}Tt.layoutTextSize=_t["text-size"].possiblyEvaluate(new ri(E.zoom+1),He),Tt.layoutIconSize=_t["icon-size"].possiblyEvaluate(new ri(E.zoom+1),He),Tt.textMaxSize=_t["text-size"].possiblyEvaluate(new ri(18));for(var _n=ct.get("text-line-height")*Ko,Fn=ct.get("text-rotation-alignment")==="map"&&ct.get("symbol-placement")!=="point",zn=ct.get("text-keep-upright"),qn=ct.get("text-size"),Xn=function(){var dr=vr[or],_r=ct.get("text-font").evaluate(dr,{},He).join(","),Tr=qn.evaluate(dr,{},He),Hr=Tt.layoutTextSize.evaluate(dr,{},He),Ir=Tt.layoutIconSize.evaluate(dr,{},He),Ur={horizontal:{},vertical:void 0},Or=dr.text,Cr=[0,0];if(Or){var ui=Or.toString(),$r=ct.get("text-letter-spacing").evaluate(dr,{},He)*Ko,Bi=function(Xr){for(var gi=0,mo=Xr;gi<mo.length;gi+=1)if(zi=mo[gi].charCodeAt(0),yr.Arabic(zi)||yr["Arabic Supplement"](zi)||yr["Arabic Extended-A"](zi)||yr["Arabic Presentation Forms-A"](zi)||yr["Arabic Presentation Forms-B"](zi))return!1;var zi;return!0}(ui)?$r:0,jr=ct.get("text-anchor").evaluate(dr,{},He),Oi=ct.get("text-variable-anchor");if(!Oi){var Yi=ct.get("text-radial-offset").evaluate(dr,{},He);Cr=Yi?Px(jr,[Yi*Ko,Yg]):ct.get("text-offset").evaluate(dr,{},He).map(function(Xr){return Xr*Ko})}var Ki=Fn?"center":ct.get("text-justify").evaluate(dr,{},He),Ji=ct.get("symbol-placement"),ji=Ji==="point"?ct.get("text-max-width").evaluate(dr,{},He)*Ko:0,Io=function(){E.allowVerticalPlacement&&ql(ui)&&(Ur.vertical=vp(Or,F,K,ke,_r,ji,_n,jr,"left",Bi,Cr,Ps.vertical,!0,Ji,Hr,Tr))};if(!Fn&&Oi){for(var oo=Ki==="auto"?Oi.map(function(Xr){return $g(Xr)}):[Ki],qo=!1,sa=0;sa<oo.length;sa++){var Jo=oo[sa];if(!Ur.horizontal[Jo])if(qo)Ur.horizontal[Jo]=Ur.horizontal[0];else{var Oa=vp(Or,F,K,ke,_r,ji,_n,"center",Jo,Bi,Cr,Ps.horizontal,!1,Ji,Hr,Tr);Oa&&(Ur.horizontal[Jo]=Oa,qo=Oa.positionedLines.length===1)}}Io()}else{Ki==="auto"&&(Ki=$g(jr));var Qo=vp(Or,F,K,ke,_r,ji,_n,jr,Ki,Bi,Cr,Ps.horizontal,!1,Ji,Hr,Tr);Qo&&(Ur.horizontal[Ki]=Qo),Io(),ql(ui)&&Fn&&zn&&(Ur.vertical=vp(Or,F,K,ke,_r,ji,_n,jr,Ki,Bi,Cr,Ps.vertical,!1,Ji,Hr,Tr))}}var Ro=void 0,ea=!1;if(dr.icon&&dr.icon.name){var Go=fe[dr.icon.name];Go&&(Ro=function(Xr,gi,mo){var zi=Gg(mo),lo=zi.horizontalAlign,no=zi.verticalAlign,_i=gi[0],vo=gi[1],Pa=_i-Xr.displaySize[0]*lo,ds=Pa+Xr.displaySize[0],ya=vo-Xr.displaySize[1]*no;return{image:Xr,top:ya,bottom:ya+Xr.displaySize[1],left:Pa,right:ds}}(ke[dr.icon.name],ct.get("icon-offset").evaluate(dr,{},He),ct.get("icon-anchor").evaluate(dr,{},He)),ea=Go.sdf,E.sdfIcons===void 0?E.sdfIcons=Go.sdf:E.sdfIcons!==Go.sdf&&D("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Go.pixelRatio!==E.pixelRatio||ct.get("icon-rotate").constantOr(1)!==0)&&(E.iconsNeedLinear=!0))}var No=Nx(Ur.horizontal)||Ur.vertical;E.iconsInText=!!No&&No.iconsInText,(No||Ro)&&function(Xr,gi,mo,zi,lo,no,_i,vo,Pa,ds,ya){var Xl=no.textMaxSize.evaluate(gi,{});Xl===void 0&&(Xl=_i);var Nu,Wo=Xr.layers[0].layout,Kl=Wo.get("icon-offset").evaluate(gi,{},ya),Cl=Nx(mo.horizontal),Dl=24,zc=_i/Dl,Sp=Xr.tilePixelRatio*zc,Bc=Xr.tilePixelRatio*Xl/Dl,Ep=Xr.tilePixelRatio*vo,Gh=Xr.tilePixelRatio*Wo.get("symbol-spacing"),em=Wo.get("text-padding")*Xr.tilePixelRatio,Cp=Wo.get("icon-padding")*Xr.tilePixelRatio,Nf=Wo.get("text-max-angle")/180*Math.PI,Dp=Wo.get("text-rotation-alignment")==="map"&&Wo.get("symbol-placement")!=="point",Ip=Wo.get("icon-rotation-alignment")==="map"&&Wo.get("symbol-placement")!=="point",Wh=Wo.get("symbol-placement"),tm=Gh/2,Yh=Wo.get("icon-text-fit");zi&&Yh!=="none"&&(Xr.allowVerticalPlacement&&mo.vertical&&(Nu=Tx(zi,mo.vertical,Yh,Wo.get("icon-text-fit-padding"),Kl,zc)),Cl&&(zi=Tx(zi,Cl,Yh,Wo.get("icon-text-fit-padding"),Kl,zc)));var jc=function(k5,Qh){Qh.x<0||Qh.x>=di||Qh.y<0||Qh.y>=di||function(To,Jl,S5,uc,sm,n2,Np,mu,Fp,ed,zp,Bp,lm,r2,td,i2,o2,a2,s2,l2,Rs,jp,u2,vu,E5){var c2,Hc,Bf,jf,Uf,Vf=To.addToLineVertexArray(Jl,S5),f2=0,h2=0,d2=0,p2=0,um=-1,cm=-1,Fu={},g2=xr(""),fm=0,hm=0;if(mu._unevaluatedLayout.getValue("text-radial-offset")===void 0?(fm=(c2=mu.layout.get("text-offset").evaluate(Rs,{},vu).map(function(rd){return rd*Ko}))[0],hm=c2[1]):(fm=mu.layout.get("text-radial-offset").evaluate(Rs,{},vu)*Ko,hm=Yg),To.allowVerticalPlacement&&uc.vertical){var m2=mu.layout.get("text-rotate").evaluate(Rs,{},vu)+90,C5=uc.vertical;jf=new wp(Fp,Jl,ed,zp,Bp,C5,lm,r2,td,m2),Np&&(Uf=new wp(Fp,Jl,ed,zp,Bp,Np,o2,a2,td,m2))}if(sm){var dm=mu.layout.get("icon-rotate").evaluate(Rs,{}),v2=mu.layout.get("icon-text-fit")!=="none",y2=Lx(sm,dm,u2,v2),pm=Np?Lx(Np,dm,u2,v2):void 0;Bf=new wp(Fp,Jl,ed,zp,Bp,sm,o2,a2,!1,dm),f2=4*y2.length;var x2=To.iconSizeData,nd=null;x2.kind==="source"?(nd=[Zl*mu.layout.get("icon-size").evaluate(Rs,{})])[0]>sc&&D(To.layerIds[0]+': Value for "icon-size" is >= '+Vh+'. Reduce your "icon-size".'):x2.kind==="composite"&&((nd=[Zl*jp.compositeIconSizes[0].evaluate(Rs,{},vu),Zl*jp.compositeIconSizes[1].evaluate(Rs,{},vu)])[0]>sc||nd[1]>sc)&&D(To.layerIds[0]+': Value for "icon-size" is >= '+Vh+'. Reduce your "icon-size".'),To.addSymbols(To.icon,y2,nd,l2,s2,Rs,!1,Jl,Vf.lineStartIndex,Vf.lineLength,-1,vu),um=To.icon.placedSymbolArray.length-1,pm&&(h2=4*pm.length,To.addSymbols(To.icon,pm,nd,l2,s2,Rs,Ps.vertical,Jl,Vf.lineStartIndex,Vf.lineLength,-1,vu),cm=To.icon.placedSymbolArray.length-1)}for(var b2 in uc.horizontal){var Up=uc.horizontal[b2];if(!Hc){g2=xr(Up.text);var D5=mu.layout.get("text-rotate").evaluate(Rs,{},vu);Hc=new wp(Fp,Jl,ed,zp,Bp,Up,lm,r2,td,D5)}var _2=Up.positionedLines.length===1;if(d2+=Rx(To,Jl,Up,n2,mu,td,Rs,i2,Vf,uc.vertical?Ps.horizontal:Ps.horizontalOnly,_2?Object.keys(uc.horizontal):[b2],Fu,um,jp,vu),_2)break}uc.vertical&&(p2+=Rx(To,Jl,uc.vertical,n2,mu,td,Rs,i2,Vf,Ps.vertical,["vertical"],Fu,cm,jp,vu));var I5=Hc?Hc.boxStartIndex:To.collisionBoxArray.length,L5=Hc?Hc.boxEndIndex:To.collisionBoxArray.length,O5=jf?jf.boxStartIndex:To.collisionBoxArray.length,P5=jf?jf.boxEndIndex:To.collisionBoxArray.length,R5=Bf?Bf.boxStartIndex:To.collisionBoxArray.length,N5=Bf?Bf.boxEndIndex:To.collisionBoxArray.length,F5=Uf?Uf.boxStartIndex:To.collisionBoxArray.length,z5=Uf?Uf.boxEndIndex:To.collisionBoxArray.length,yu=-1,Vp=function(rd,T2){return rd&&rd.circleDiameter?Math.max(rd.circleDiameter,T2):T2};yu=Vp(Hc,yu),yu=Vp(jf,yu),yu=Vp(Bf,yu);var w2=(yu=Vp(Uf,yu))>-1?1:0;w2&&(yu*=E5/Ko),To.glyphOffsetArray.length>=Li.MAX_GLYPHS&&D("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Rs.sortKey!==void 0&&To.addToSortKeyRanges(To.symbolInstances.length,Rs.sortKey),To.symbolInstances.emplaceBack(Jl.x,Jl.y,Fu.right>=0?Fu.right:-1,Fu.center>=0?Fu.center:-1,Fu.left>=0?Fu.left:-1,Fu.vertical||-1,um,cm,g2,I5,L5,O5,P5,R5,N5,F5,z5,ed,d2,p2,f2,h2,w2,0,lm,fm,hm,yu)}(Xr,Qh,k5,mo,zi,lo,Nu,Xr.layers[0],Xr.collisionBoxArray,gi.index,gi.sourceLayerIndex,Xr.index,Sp,em,Dp,Pa,Ep,Cp,Ip,Kl,gi,no,ds,ya,_i)};if(Wh==="line")for(var Ff=0,Lp=Ix(gi.geometry,0,0,di,di);Ff<Lp.length;Ff+=1)for(var Op=Lp[Ff],zf=0,Pp=u5(Op,Gh,Nf,mo.vertical||Cl,zi,Dl,Bc,Xr.overscaling,di);zf<Pp.length;zf+=1){var Rp=Pp[zf];Cl&&d5(Xr,Cl.text,tm,Rp)||jc(Op,Rp)}else if(Wh==="line-center")for(var $h=0,Zh=gi.geometry;$h<Zh.length;$h+=1){var Uc=Zh[$h];if(Uc.length>1){var Xh=l5(Uc,Nf,mo.vertical||Cl,zi,Dl,Bc);Xh&&jc(Uc,Xh)}}else if(gi.type==="Polygon")for(var Vc=0,Kh=zg(gi.geometry,0);Vc<Kh.length;Vc+=1){var Jh=Kh[Vc],Jx=f5(Jh,16);jc(Jh[0],new Sf(Jx.x,Jx.y,0))}else if(gi.type==="LineString")for(var nm=0,Qx=gi.geometry;nm<Qx.length;nm+=1){var rm=Qx[nm];jc(rm,new Sf(rm[0].x,rm[0].y,0))}else if(gi.type==="Point")for(var im=0,e2=gi.geometry;im<e2.length;im+=1)for(var om=0,t2=e2[im];om<t2.length;om+=1){var am=t2[om];jc([am],new Sf(am.x,am.y,0))}}(E,dr,Ur,Ro,fe,Tt,Hr,Ir,Cr,ea,He)},or=0,vr=E.features;or<vr.length;or+=1)Xn();Pe&&E.generateCollisionDebugBuffers()},n.perspective=function(E,F,K,fe,ke){var Pe,He=1/Math.tan(F/2);return E[0]=He/K,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=He,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=-1,E[12]=0,E[13]=0,E[15]=0,ke!=null&&ke!==1/0?(Pe=1/(fe-ke),E[10]=(ke+fe)*Pe,E[14]=2*ke*fe*Pe):(E[10]=-1,E[14]=-2*fe),E},n.pick=function(E,F){for(var K={},fe=0;fe<F.length;fe++){var ke=F[fe];ke in E&&(K[ke]=E[ke])}return K},n.plugin=Vo,n.polygonIntersectsPolygon=Oc,n.postMapLoadEvent=ge,n.postTurnstileEvent=Re,n.potpack=yx,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.register=Mr,n.registerForPluginStateChange=function(E){return E({pluginStatus:ai,pluginURL:_o}),Uo.on("pluginStateChange",E),E},n.renderColorRamp=X1,n.rotate=function(E,F,K){var fe=F[0],ke=F[1],Pe=F[2],He=F[3],Qe=Math.sin(K),ct=Math.cos(K);return E[0]=fe*ct+Pe*Qe,E[1]=ke*ct+He*Qe,E[2]=fe*-Qe+Pe*ct,E[3]=ke*-Qe+He*ct,E},n.rotateX=function(E,F,K){var fe=Math.sin(K),ke=Math.cos(K),Pe=F[4],He=F[5],Qe=F[6],ct=F[7],_t=F[8],Tt=F[9],Nt=F[10],qt=F[11];return F!==E&&(E[0]=F[0],E[1]=F[1],E[2]=F[2],E[3]=F[3],E[12]=F[12],E[13]=F[13],E[14]=F[14],E[15]=F[15]),E[4]=Pe*ke+_t*fe,E[5]=He*ke+Tt*fe,E[6]=Qe*ke+Nt*fe,E[7]=ct*ke+qt*fe,E[8]=_t*ke-Pe*fe,E[9]=Tt*ke-He*fe,E[10]=Nt*ke-Qe*fe,E[11]=qt*ke-ct*fe,E},n.rotateZ=function(E,F,K){var fe=Math.sin(K),ke=Math.cos(K),Pe=F[0],He=F[1],Qe=F[2],ct=F[3],_t=F[4],Tt=F[5],Nt=F[6],qt=F[7];return F!==E&&(E[8]=F[8],E[9]=F[9],E[10]=F[10],E[11]=F[11],E[12]=F[12],E[13]=F[13],E[14]=F[14],E[15]=F[15]),E[0]=Pe*ke+_t*fe,E[1]=He*ke+Tt*fe,E[2]=Qe*ke+Nt*fe,E[3]=ct*ke+qt*fe,E[4]=_t*ke-Pe*fe,E[5]=Tt*ke-He*fe,E[6]=Nt*ke-Qe*fe,E[7]=qt*ke-ct*fe,E},n.scale=function(E,F,K){var fe=K[0],ke=K[1],Pe=K[2];return E[0]=F[0]*fe,E[1]=F[1]*fe,E[2]=F[2]*fe,E[3]=F[3]*fe,E[4]=F[4]*ke,E[5]=F[5]*ke,E[6]=F[6]*ke,E[7]=F[7]*ke,E[8]=F[8]*Pe,E[9]=F[9]*Pe,E[10]=F[10]*Pe,E[11]=F[11]*Pe,E[12]=F[12],E[13]=F[13],E[14]=F[14],E[15]=F[15],E},n.scale$1=function(E,F,K){return E[0]=F[0]*K,E[1]=F[1]*K,E[2]=F[2]*K,E[3]=F[3]*K,E},n.scale$2=function(E,F,K){return E[0]=F[0]*K,E[1]=F[1]*K,E[2]=F[2]*K,E},n.setCacheLimits=function(E,F){Ee=E,Fe=F},n.setRTLTextPlugin=function(E,F,K){if(K===void 0&&(K=!1),ai===Wa||ai===ma||ai===ls)throw new Error("setRTLTextPlugin cannot be called multiple times.");_o=ee.resolveURL(E),ai=Wa,Is=F,Ya(),K||Ml()},n.sphericalToCartesian=function(E){var F=E[0],K=E[1],fe=E[2];return K+=90,K*=Math.PI/180,fe*=Math.PI/180,{x:F*Math.cos(K)*Math.sin(fe),y:F*Math.sin(K)*Math.sin(fe),z:F*Math.cos(fe)}},n.sqrLen=rT,n.styleSpec=$e,n.sub=nT,n.symbolSize=s5,n.transformMat3=function(E,F,K){var fe=F[0],ke=F[1],Pe=F[2];return E[0]=fe*K[0]+ke*K[3]+Pe*K[6],E[1]=fe*K[1]+ke*K[4]+Pe*K[7],E[2]=fe*K[2]+ke*K[5]+Pe*K[8],E},n.transformMat4=up,n.translate=function(E,F,K){var fe,ke,Pe,He,Qe,ct,_t,Tt,Nt,qt,Ut,an,un=K[0],Mn=K[1],_n=K[2];return F===E?(E[12]=F[0]*un+F[4]*Mn+F[8]*_n+F[12],E[13]=F[1]*un+F[5]*Mn+F[9]*_n+F[13],E[14]=F[2]*un+F[6]*Mn+F[10]*_n+F[14],E[15]=F[3]*un+F[7]*Mn+F[11]*_n+F[15]):(fe=F[0],ke=F[1],Pe=F[2],He=F[3],Qe=F[4],ct=F[5],_t=F[6],Tt=F[7],Nt=F[8],qt=F[9],Ut=F[10],an=F[11],E[0]=fe,E[1]=ke,E[2]=Pe,E[3]=He,E[4]=Qe,E[5]=ct,E[6]=_t,E[7]=Tt,E[8]=Nt,E[9]=qt,E[10]=Ut,E[11]=an,E[12]=fe*un+Qe*Mn+Nt*_n+F[12],E[13]=ke*un+ct*Mn+qt*_n+F[13],E[14]=Pe*un+_t*Mn+Ut*_n+F[14],E[15]=He*un+Tt*Mn+an*_n+F[15]),E},n.triggerPluginCompletionEvent=jo,n.uniqueId=g,n.validateCustomStyleLayer=function(E){var F=[],K=E.id;return K===void 0&&F.push({message:"layers."+K+': missing required property "id"'}),E.render===void 0&&F.push({message:"layers."+K+': missing required method "render"'}),E.renderingMode&&E.renderingMode!=="2d"&&E.renderingMode!=="3d"&&F.push({message:"layers."+K+': property "renderingMode" must be either "2d" or "3d"'}),F},n.validateLight=el,n.validateStyle=Ga,n.values=function(E){var F=[];for(var K in E)F.push(E[K]);return F},n.vectorTile=Tf,n.version=b,n.warnOnce=D,n.webpSupported=X,n.window=r,n.wrap=h}),y(0,function(n){function M(Ye){var Xe=typeof Ye;if(Xe==="number"||Xe==="boolean"||Xe==="string"||Ye==null)return JSON.stringify(Ye);if(Array.isArray(Ye)){for(var Ve="[",Ze=0,lt=Ye;Ze<lt.length;Ze+=1)Ve+=M(lt[Ze])+",";return Ve+"]"}for(var it=Object.keys(Ye).sort(),Be="{",je=0;je<it.length;je++)Be+=JSON.stringify(it[je])+":"+M(Ye[it[je]])+",";return Be+"}"}function b(Ye){for(var Xe="",Ve=0,Ze=n.refProperties;Ve<Ze.length;Ve+=1)Xe+="/"+M(Ye[Ze[Ve]]);return Xe}var f=function(Ye){this.keyCache={},Ye&&this.replace(Ye)};f.prototype.replace=function(Ye){this._layerConfigs={},this._layers={},this.update(Ye,[])},f.prototype.update=function(Ye,Xe){for(var Ve=this,Ze=0,lt=Ye;Ze<lt.length;Ze+=1){var it=lt[Ze];this._layerConfigs[it.id]=it;var Be=this._layers[it.id]=n.createStyleLayer(it);Be._featureFilter=n.featureFilter(Be.filter),this.keyCache[it.id]&&delete this.keyCache[it.id]}for(var je=0,ot=Xe;je<ot.length;je+=1){var $e=ot[je];delete this.keyCache[$e],delete this._layerConfigs[$e],delete this._layers[$e]}this.familiesBySource={};for(var dt=0,mt=function(Ot,Ft){for(var $t={},on=0;on<Ot.length;on++){var Ht=Ft&&Ft[Ot[on].id]||b(Ot[on]);Ft&&(Ft[Ot[on].id]=Ht);var Zt=$t[Ht];Zt||(Zt=$t[Ht]=[]),Zt.push(Ot[on])}var jt=[];for(var Ln in $t)jt.push($t[Ln]);return jt}(n.values(this._layerConfigs),this.keyCache);dt<mt.length;dt+=1){var yt=mt[dt].map(function(Ot){return Ve._layers[Ot.id]}),ht=yt[0];if(ht.visibility!=="none"){var kt=ht.source||"",bt=this.familiesBySource[kt];bt||(bt=this.familiesBySource[kt]={});var St=ht.sourceLayer||"_geojsonTileLayer",Lt=bt[St];Lt||(Lt=bt[St]=[]),Lt.push(yt)}}};var s=function(Ye){var Xe={},Ve=[];for(var Ze in Ye){var lt=Ye[Ze],it=Xe[Ze]={};for(var Be in lt){var je=lt[+Be];if(je&&je.bitmap.width!==0&&je.bitmap.height!==0){var ot={x:0,y:0,w:je.bitmap.width+2,h:je.bitmap.height+2};Ve.push(ot),it[Be]={rect:ot,metrics:je.metrics}}}}var $e=n.potpack(Ve),dt=$e.w,mt=$e.h,yt=new n.AlphaImage({width:dt||1,height:mt||1});for(var ht in Ye){var kt=Ye[ht];for(var bt in kt){var St=kt[+bt];if(St&&St.bitmap.width!==0&&St.bitmap.height!==0){var Lt=Xe[ht][bt].rect;n.AlphaImage.copy(St.bitmap,yt,{x:0,y:0},{x:Lt.x+1,y:Lt.y+1},St.bitmap)}}}this.image=yt,this.positions=Xe};n.register("GlyphAtlas",s);var t=function(Ye){this.tileID=new n.OverscaledTileID(Ye.tileID.overscaledZ,Ye.tileID.wrap,Ye.tileID.canonical.z,Ye.tileID.canonical.x,Ye.tileID.canonical.y),this.uid=Ye.uid,this.zoom=Ye.zoom,this.pixelRatio=Ye.pixelRatio,this.tileSize=Ye.tileSize,this.source=Ye.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Ye.showCollisionBoxes,this.collectResourceTiming=!!Ye.collectResourceTiming,this.returnDependencies=!!Ye.returnDependencies,this.promoteId=Ye.promoteId};function o(Ye,Xe,Ve){for(var Ze=new n.EvaluationParameters(Xe),lt=0,it=Ye;lt<it.length;lt+=1)it[lt].recalculate(Ze,Ve)}function r(Ye,Xe){var Ve=n.getArrayBuffer(Ye.request,function(Ze,lt,it,Be){Ze?Xe(Ze):lt&&Xe(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(lt)),rawData:lt,cacheControl:it,expires:Be})});return function(){Ve.cancel(),Xe()}}t.prototype.parse=function(Ye,Xe,Ve,Ze,lt){var it=this;this.status="parsing",this.data=Ye,this.collisionBoxArray=new n.CollisionBoxArray;var Be=new n.DictionaryCoder(Object.keys(Ye.layers).sort()),je=new n.FeatureIndex(this.tileID,this.promoteId);je.bucketLayerIDs=[];var ot,$e,dt,mt,yt={},ht={featureIndex:je,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ve},kt=Xe.familiesBySource[this.source];for(var bt in kt){var St=Ye.layers[bt];if(St){St.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+bt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Lt=Be.encode(bt),Ot=[],Ft=0;Ft<St.length;Ft++){var $t=St.feature(Ft),on=je.getId($t,bt);Ot.push({feature:$t,id:on,index:Ft,sourceLayerIndex:Lt})}for(var Ht=0,Zt=kt[bt];Ht<Zt.length;Ht+=1){var jt=Zt[Ht],Ln=jt[0];Ln.minzoom&&this.zoom<Math.floor(Ln.minzoom)||Ln.maxzoom&&this.zoom>=Ln.maxzoom||Ln.visibility!=="none"&&(o(jt,this.zoom,Ve),(yt[Ln.id]=Ln.createBucket({index:je.bucketLayerIDs.length,layers:jt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Lt,sourceID:this.source})).populate(Ot,ht,this.tileID.canonical),je.bucketLayerIDs.push(jt.map(function(nn){return nn.id})))}}}var Tn=n.mapObject(ht.glyphDependencies,function(nn){return Object.keys(nn).map(Number)});Object.keys(Tn).length?Ze.send("getGlyphs",{uid:this.uid,stacks:Tn},function(nn,hn){ot||(ot=nn,$e=hn,cn.call(it))}):$e={};var gn=Object.keys(ht.iconDependencies);gn.length?Ze.send("getImages",{icons:gn,source:this.source,tileID:this.tileID,type:"icons"},function(nn,hn){ot||(ot=nn,dt=hn,cn.call(it))}):dt={};var Qt=Object.keys(ht.patternDependencies);function cn(){if(ot)return lt(ot);if($e&&dt&&mt){var nn=new s($e),hn=new n.ImageAtlas(dt,mt);for(var bn in yt){var wn=yt[bn];wn instanceof n.SymbolBucket?(o(wn.layers,this.zoom,Ve),n.performSymbolLayout(wn,$e,nn.positions,dt,hn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):wn.hasPattern&&(wn instanceof n.LineBucket||wn instanceof n.FillBucket||wn instanceof n.FillExtrusionBucket)&&(o(wn.layers,this.zoom,Ve),wn.addFeatures(ht,this.tileID.canonical,hn.patternPositions))}this.status="done",lt(null,{buckets:n.values(yt).filter(function(En){return!En.isEmpty()}),featureIndex:je,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:nn.image,imageAtlas:hn,glyphMap:this.returnDependencies?$e:null,iconMap:this.returnDependencies?dt:null,glyphPositions:this.returnDependencies?nn.positions:null})}}Qt.length?Ze.send("getImages",{icons:Qt,source:this.source,tileID:this.tileID,type:"patterns"},function(nn,hn){ot||(ot=nn,mt=hn,cn.call(it))}):mt={},cn.call(this)};var i=function(Ye,Xe,Ve,Ze){this.actor=Ye,this.layerIndex=Xe,this.availableImages=Ve,this.loadVectorData=Ze||r,this.loading={},this.loaded={}};i.prototype.loadTile=function(Ye,Xe){var Ve=this,Ze=Ye.uid;this.loading||(this.loading={});var lt=!!(Ye&&Ye.request&&Ye.request.collectResourceTiming)&&new n.RequestPerformance(Ye.request),it=this.loading[Ze]=new t(Ye);it.abort=this.loadVectorData(Ye,function(Be,je){if(delete Ve.loading[Ze],Be||!je)return it.status="done",Ve.loaded[Ze]=it,Xe(Be);var ot=je.rawData,$e={};je.expires&&($e.expires=je.expires),je.cacheControl&&($e.cacheControl=je.cacheControl);var dt={};if(lt){var mt=lt.finish();mt&&(dt.resourceTiming=JSON.parse(JSON.stringify(mt)))}it.vectorTile=je.vectorTile,it.parse(je.vectorTile,Ve.layerIndex,Ve.availableImages,Ve.actor,function(yt,ht){if(yt||!ht)return Xe(yt);Xe(null,n.extend({rawTileData:ot.slice(0)},ht,$e,dt))}),Ve.loaded=Ve.loaded||{},Ve.loaded[Ze]=it})},i.prototype.reloadTile=function(Ye,Xe){var Ve=this,Ze=this.loaded,lt=Ye.uid,it=this;if(Ze&&Ze[lt]){var Be=Ze[lt];Be.showCollisionBoxes=Ye.showCollisionBoxes;var je=function(ot,$e){var dt=Be.reloadCallback;dt&&(delete Be.reloadCallback,Be.parse(Be.vectorTile,it.layerIndex,Ve.availableImages,it.actor,dt)),Xe(ot,$e)};Be.status==="parsing"?Be.reloadCallback=je:Be.status==="done"&&(Be.vectorTile?Be.parse(Be.vectorTile,this.layerIndex,this.availableImages,this.actor,je):je())}},i.prototype.abortTile=function(Ye,Xe){var Ve=this.loading,Ze=Ye.uid;Ve&&Ve[Ze]&&Ve[Ze].abort&&(Ve[Ze].abort(),delete Ve[Ze]),Xe()},i.prototype.removeTile=function(Ye,Xe){var Ve=this.loaded,Ze=Ye.uid;Ve&&Ve[Ze]&&delete Ve[Ze],Xe()};var a=n.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(Ye,Xe){var Ve=Ye.uid,Ze=Ye.encoding,lt=Ye.rawImageData,it=a&&lt instanceof a?this.getImageData(lt):lt,Be=new n.DEMData(Ve,it,Ze);this.loaded=this.loaded||{},this.loaded[Ve]=Be,Xe(null,Be)},l.prototype.getImageData=function(Ye){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Ye.width,Ye.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Ye.width,this.offscreenCanvas.height=Ye.height,this.offscreenCanvasContext.drawImage(Ye,0,0,Ye.width,Ye.height);var Xe=this.offscreenCanvasContext.getImageData(-1,-1,Ye.width+2,Ye.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:Xe.width,height:Xe.height},Xe.data)},l.prototype.removeTile=function(Ye){var Xe=this.loaded,Ve=Ye.uid;Xe&&Xe[Ve]&&delete Xe[Ve]};var u=function Ye(Xe,Ve){var Ze,lt=Xe&&Xe.type;if(lt==="FeatureCollection")for(Ze=0;Ze<Xe.features.length;Ze++)Ye(Xe.features[Ze],Ve);else if(lt==="GeometryCollection")for(Ze=0;Ze<Xe.geometries.length;Ze++)Ye(Xe.geometries[Ze],Ve);else if(lt==="Feature")Ye(Xe.geometry,Ve);else if(lt==="Polygon")h(Xe.coordinates,Ve);else if(lt==="MultiPolygon")for(Ze=0;Ze<Xe.coordinates.length;Ze++)h(Xe.coordinates[Ze],Ve);return Xe};function h(Ye,Xe){if(Ye.length!==0){c(Ye[0],Xe);for(var Ve=1;Ve<Ye.length;Ve++)c(Ye[Ve],!Xe)}}function c(Ye,Xe){for(var Ve=0,Ze=0,lt=Ye.length,it=lt-1;Ze<lt;it=Ze++)Ve+=(Ye[Ze][0]-Ye[it][0])*(Ye[it][1]+Ye[Ze][1]);Ve>=0!=!!Xe&&Ye.reverse()}var w=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,g=function(Ye){this._feature=Ye,this.extent=n.EXTENT,this.type=Ye.type,this.properties=Ye.tags,"id"in Ye&&!isNaN(Ye.id)&&(this.id=parseInt(Ye.id,10))};g.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Ye=[],Xe=0,Ve=this._feature.geometry;Xe<Ve.length;Xe+=1){var Ze=Ve[Xe];Ye.push([new n.Point$1(Ze[0],Ze[1])])}return Ye}for(var lt=[],it=0,Be=this._feature.geometry;it<Be.length;it+=1){for(var je=[],ot=0,$e=Be[it];ot<$e.length;ot+=1){var dt=$e[ot];je.push(new n.Point$1(dt[0],dt[1]))}lt.push(je)}return lt},g.prototype.toGeoJSON=function(Ye,Xe,Ve){return w.call(this,Ye,Xe,Ve)};var v=function(Ye){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=Ye.length,this._features=Ye};v.prototype.feature=function(Ye){return new g(this._features[Ye])};var m=n.vectorTile.VectorTileFeature,T=_;function _(Ye,Xe){this.options=Xe||{},this.features=Ye,this.length=Ye.length}function A(Ye,Xe){this.id=typeof Ye.id=="number"?Ye.id:void 0,this.type=Ye.type,this.rawGeometry=Ye.type===1?[Ye.geometry]:Ye.geometry,this.properties=Ye.tags,this.extent=Xe||4096}_.prototype.feature=function(Ye){return new A(this.features[Ye],this.options.extent)},A.prototype.loadGeometry=function(){var Ye=this.rawGeometry;this.geometry=[];for(var Xe=0;Xe<Ye.length;Xe++){for(var Ve=Ye[Xe],Ze=[],lt=0;lt<Ve.length;lt++)Ze.push(new n.Point$1(Ve[lt][0],Ve[lt][1]));this.geometry.push(Ze)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ye=this.geometry,Xe=1/0,Ve=-1/0,Ze=1/0,lt=-1/0,it=0;it<Ye.length;it++)for(var Be=Ye[it],je=0;je<Be.length;je++){var ot=Be[je];Xe=Math.min(Xe,ot.x),Ve=Math.max(Ve,ot.x),Ze=Math.min(Ze,ot.y),lt=Math.max(lt,ot.y)}return[Xe,Ze,Ve,lt]},A.prototype.toGeoJSON=m.prototype.toGeoJSON;var d=O,C=O,k=function(Ye,Xe){Xe=Xe||{};var Ve={};for(var Ze in Ye)Ve[Ze]=new T(Ye[Ze].features,Xe),Ve[Ze].name=Ze,Ve[Ze].version=Xe.version,Ve[Ze].extent=Xe.extent;return O({layers:Ve})},D=T;function O(Ye){var Xe=new n.pbf;return function(Ve,Ze){for(var lt in Ve.layers)Ze.writeMessage(3,L,Ve.layers[lt])}(Ye,Xe),Xe.finish()}function L(Ye,Xe){var Ve;Xe.writeVarintField(15,Ye.version||1),Xe.writeStringField(1,Ye.name||""),Xe.writeVarintField(5,Ye.extent||4096);var Ze={keys:[],values:[],keycache:{},valuecache:{}};for(Ve=0;Ve<Ye.length;Ve++)Ze.feature=Ye.feature(Ve),Xe.writeMessage(2,R,Ze);var lt=Ze.keys;for(Ve=0;Ve<lt.length;Ve++)Xe.writeStringField(3,lt[Ve]);var it=Ze.values;for(Ve=0;Ve<it.length;Ve++)Xe.writeMessage(4,Z,it[Ve])}function R(Ye,Xe){var Ve=Ye.feature;Ve.id!==void 0&&Xe.writeVarintField(1,Ve.id),Xe.writeMessage(2,z,Ye),Xe.writeVarintField(3,Ve.type),Xe.writeMessage(4,V,Ve)}function z(Ye,Xe){var Ve=Ye.feature,Ze=Ye.keys,lt=Ye.values,it=Ye.keycache,Be=Ye.valuecache;for(var je in Ve.properties){var ot=it[je];ot===void 0&&(Ze.push(je),ot=Ze.length-1,it[je]=ot),Xe.writeVarint(ot);var $e=Ve.properties[je],dt=typeof $e;dt!=="string"&&dt!=="boolean"&&dt!=="number"&&($e=JSON.stringify($e));var mt=dt+":"+$e,yt=Be[mt];yt===void 0&&(lt.push($e),yt=lt.length-1,Be[mt]=yt),Xe.writeVarint(yt)}}function q(Ye,Xe){return(Xe<<3)+(7&Ye)}function N(Ye){return Ye<<1^Ye>>31}function V(Ye,Xe){for(var Ve=Ye.loadGeometry(),Ze=Ye.type,lt=0,it=0,Be=Ve.length,je=0;je<Be;je++){var ot=Ve[je],$e=1;Ze===1&&($e=ot.length),Xe.writeVarint(q(1,$e));for(var dt=Ze===3?ot.length-1:ot.length,mt=0;mt<dt;mt++){mt===1&&Ze!==1&&Xe.writeVarint(q(2,dt-1));var yt=ot[mt].x-lt,ht=ot[mt].y-it;Xe.writeVarint(N(yt)),Xe.writeVarint(N(ht)),lt+=yt,it+=ht}Ze===3&&Xe.writeVarint(q(7,1))}}function Z(Ye,Xe){var Ve=typeof Ye;Ve==="string"?Xe.writeStringField(1,Ye):Ve==="boolean"?Xe.writeBooleanField(7,Ye):Ve==="number"&&(Ye%1!=0?Xe.writeDoubleField(3,Ye):Ye<0?Xe.writeSVarintField(6,Ye):Xe.writeVarintField(5,Ye))}function j(Ye,Xe,Ve,Ze,lt,it){if(!(lt-Ze<=Ve)){var Be=Ze+lt>>1;H(Ye,Xe,Be,Ze,lt,it%2),j(Ye,Xe,Ve,Ze,Be-1,it+1),j(Ye,Xe,Ve,Be+1,lt,it+1)}}function H(Ye,Xe,Ve,Ze,lt,it){for(;lt>Ze;){if(lt-Ze>600){var Be=lt-Ze+1,je=Ve-Ze+1,ot=Math.log(Be),$e=.5*Math.exp(2*ot/3),dt=.5*Math.sqrt(ot*$e*(Be-$e)/Be)*(je-Be/2<0?-1:1);H(Ye,Xe,Ve,Math.max(Ze,Math.floor(Ve-je*$e/Be+dt)),Math.min(lt,Math.floor(Ve+(Be-je)*$e/Be+dt)),it)}var mt=Xe[2*Ve+it],yt=Ze,ht=lt;for(Y(Ye,Xe,Ze,Ve),Xe[2*lt+it]>mt&&Y(Ye,Xe,Ze,lt);yt<ht;){for(Y(Ye,Xe,yt,ht),yt++,ht--;Xe[2*yt+it]<mt;)yt++;for(;Xe[2*ht+it]>mt;)ht--}Xe[2*Ze+it]===mt?Y(Ye,Xe,Ze,ht):Y(Ye,Xe,++ht,lt),ht<=Ve&&(Ze=ht+1),Ve<=ht&&(lt=ht-1)}}function Y(Ye,Xe,Ve,Ze){ie(Ye,Ve,Ze),ie(Xe,2*Ve,2*Ze),ie(Xe,2*Ve+1,2*Ze+1)}function ie(Ye,Xe,Ve){var Ze=Ye[Xe];Ye[Xe]=Ye[Ve],Ye[Ve]=Ze}function re(Ye,Xe,Ve,Ze){var lt=Ye-Ve,it=Xe-Ze;return lt*lt+it*it}d.fromVectorTileJs=C,d.fromGeojsonVt=k,d.GeoJSONWrapper=D;var ne=function(Ye){return Ye[0]},ee=function(Ye){return Ye[1]},Q=function(Ye,Xe,Ve,Ze,lt){Xe===void 0&&(Xe=ne),Ve===void 0&&(Ve=ee),Ze===void 0&&(Ze=64),lt===void 0&&(lt=Float64Array),this.nodeSize=Ze,this.points=Ye;for(var it=Ye.length<65536?Uint16Array:Uint32Array,Be=this.ids=new it(Ye.length),je=this.coords=new lt(2*Ye.length),ot=0;ot<Ye.length;ot++)Be[ot]=ot,je[2*ot]=Xe(Ye[ot]),je[2*ot+1]=Ve(Ye[ot]);j(Be,je,Ze,0,Be.length-1,0)};Q.prototype.range=function(Ye,Xe,Ve,Ze){return function(lt,it,Be,je,ot,$e,dt){for(var mt,yt,ht=[0,lt.length-1,0],kt=[];ht.length;){var bt=ht.pop(),St=ht.pop(),Lt=ht.pop();if(St-Lt<=dt)for(var Ot=Lt;Ot<=St;Ot++)mt=it[2*Ot],yt=it[2*Ot+1],mt>=Be&&mt<=ot&&yt>=je&&yt<=$e&&kt.push(lt[Ot]);else{var Ft=Math.floor((Lt+St)/2);mt=it[2*Ft],yt=it[2*Ft+1],mt>=Be&&mt<=ot&&yt>=je&&yt<=$e&&kt.push(lt[Ft]);var $t=(bt+1)%2;(bt===0?Be<=mt:je<=yt)&&(ht.push(Lt),ht.push(Ft-1),ht.push($t)),(bt===0?ot>=mt:$e>=yt)&&(ht.push(Ft+1),ht.push(St),ht.push($t))}}return kt}(this.ids,this.coords,Ye,Xe,Ve,Ze,this.nodeSize)},Q.prototype.within=function(Ye,Xe,Ve){return function(Ze,lt,it,Be,je,ot){for(var $e=[0,Ze.length-1,0],dt=[],mt=je*je;$e.length;){var yt=$e.pop(),ht=$e.pop(),kt=$e.pop();if(ht-kt<=ot)for(var bt=kt;bt<=ht;bt++)re(lt[2*bt],lt[2*bt+1],it,Be)<=mt&&dt.push(Ze[bt]);else{var St=Math.floor((kt+ht)/2),Lt=lt[2*St],Ot=lt[2*St+1];re(Lt,Ot,it,Be)<=mt&&dt.push(Ze[St]);var Ft=(yt+1)%2;(yt===0?it-je<=Lt:Be-je<=Ot)&&($e.push(kt),$e.push(St-1),$e.push(Ft)),(yt===0?it+je>=Lt:Be+je>=Ot)&&($e.push(St+1),$e.push(ht),$e.push(Ft))}}return dt}(this.ids,this.coords,Ye,Xe,Ve,this.nodeSize)};var X={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Ye){return Ye}},se=function(Ye){this.options=me(Object.create(X),Ye),this.trees=new Array(this.options.maxZoom+1)};function ce(Ye,Xe,Ve,Ze,lt){return{x:Ye,y:Xe,zoom:1/0,id:Ve,parentId:-1,numPoints:Ze,properties:lt}}function le(Ye,Xe){var Ve=Ye.geometry.coordinates,Ze=Ve[0],lt=Ve[1];return{x:_e(Ze),y:ve(lt),zoom:1/0,index:Xe,parentId:-1}}function de(Ye){return{type:"Feature",id:Ye.id,properties:be(Ye),geometry:{type:"Point",coordinates:[(Ze=Ye.x,360*(Ze-.5)),(Xe=Ye.y,Ve=(180-360*Xe)*Math.PI/180,360*Math.atan(Math.exp(Ve))/Math.PI-90)]}};var Xe,Ve,Ze}function be(Ye){var Xe=Ye.numPoints,Ve=Xe>=1e4?Math.round(Xe/1e3)+"k":Xe>=1e3?Math.round(Xe/100)/10+"k":Xe;return me(me({},Ye.properties),{cluster:!0,cluster_id:Ye.id,point_count:Xe,point_count_abbreviated:Ve})}function _e(Ye){return Ye/360+.5}function ve(Ye){var Xe=Math.sin(Ye*Math.PI/180),Ve=.5-.25*Math.log((1+Xe)/(1-Xe))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function me(Ye,Xe){for(var Ve in Xe)Ye[Ve]=Xe[Ve];return Ye}function ye(Ye){return Ye.x}function Se(Ye){return Ye.y}function Ie(Ye,Xe,Ve,Ze){for(var lt,it=Ze,Be=Ve-Xe>>1,je=Ve-Xe,ot=Ye[Xe],$e=Ye[Xe+1],dt=Ye[Ve],mt=Ye[Ve+1],yt=Xe+3;yt<Ve;yt+=3){var ht=xe(Ye[yt],Ye[yt+1],ot,$e,dt,mt);if(ht>it)lt=yt,it=ht;else if(ht===it){var kt=Math.abs(yt-Be);kt<je&&(lt=yt,je=kt)}}it>Ze&&(lt-Xe>3&&Ie(Ye,Xe,lt,Ze),Ye[lt+2]=it,Ve-lt>3&&Ie(Ye,lt,Ve,Ze))}function xe(Ye,Xe,Ve,Ze,lt,it){var Be=lt-Ve,je=it-Ze;if(Be!==0||je!==0){var ot=((Ye-Ve)*Be+(Xe-Ze)*je)/(Be*Be+je*je);ot>1?(Ve=lt,Ze=it):ot>0&&(Ve+=Be*ot,Ze+=je*ot)}return(Be=Ye-Ve)*Be+(je=Xe-Ze)*je}function ue(Ye,Xe,Ve,Ze){var lt={id:Ye===void 0?null:Ye,type:Xe,geometry:Ve,tags:Ze,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(it){var Be=it.geometry,je=it.type;if(je==="Point"||je==="MultiPoint"||je==="LineString")ae(it,Be);else if(je==="Polygon"||je==="MultiLineString")for(var ot=0;ot<Be.length;ot++)ae(it,Be[ot]);else if(je==="MultiPolygon")for(ot=0;ot<Be.length;ot++)for(var $e=0;$e<Be[ot].length;$e++)ae(it,Be[ot][$e])}(lt),lt}function ae(Ye,Xe){for(var Ve=0;Ve<Xe.length;Ve+=3)Ye.minX=Math.min(Ye.minX,Xe[Ve]),Ye.minY=Math.min(Ye.minY,Xe[Ve+1]),Ye.maxX=Math.max(Ye.maxX,Xe[Ve]),Ye.maxY=Math.max(Ye.maxY,Xe[Ve+1])}function pe(Ye,Xe,Ve,Ze){if(Xe.geometry){var lt=Xe.geometry.coordinates,it=Xe.geometry.type,Be=Math.pow(Ve.tolerance/((1<<Ve.maxZoom)*Ve.extent),2),je=[],ot=Xe.id;if(Ve.promoteId?ot=Xe.properties[Ve.promoteId]:Ve.generateId&&(ot=Ze||0),it==="Point")De(lt,je);else if(it==="MultiPoint")for(var $e=0;$e<lt.length;$e++)De(lt[$e],je);else if(it==="LineString")Te(lt,je,Be,!1);else if(it==="MultiLineString"){if(Ve.lineMetrics){for($e=0;$e<lt.length;$e++)je=[],Te(lt[$e],je,Be,!1),Ye.push(ue(ot,"LineString",je,Xe.properties));return}Ae(lt,je,Be,!1)}else if(it==="Polygon")Ae(lt,je,Be,!0);else{if(it!=="MultiPolygon"){if(it==="GeometryCollection"){for($e=0;$e<Xe.geometry.geometries.length;$e++)pe(Ye,{id:ot,geometry:Xe.geometry.geometries[$e],properties:Xe.properties},Ve,Ze);return}throw new Error("Input data is not a valid GeoJSON object.")}for($e=0;$e<lt.length;$e++){var dt=[];Ae(lt[$e],dt,Be,!0),je.push(dt)}}Ye.push(ue(ot,it,je,Xe.properties))}}function De(Ye,Xe){Xe.push(Ce(Ye[0])),Xe.push(Re(Ye[1])),Xe.push(0)}function Te(Ye,Xe,Ve,Ze){for(var lt,it,Be=0,je=0;je<Ye.length;je++){var ot=Ce(Ye[je][0]),$e=Re(Ye[je][1]);Xe.push(ot),Xe.push($e),Xe.push(0),je>0&&(Be+=Ze?(lt*$e-ot*it)/2:Math.sqrt(Math.pow(ot-lt,2)+Math.pow($e-it,2))),lt=ot,it=$e}var dt=Xe.length-3;Xe[2]=1,Ie(Xe,0,dt,Ve),Xe[dt+2]=1,Xe.size=Math.abs(Be),Xe.start=0,Xe.end=Xe.size}function Ae(Ye,Xe,Ve,Ze){for(var lt=0;lt<Ye.length;lt++){var it=[];Te(Ye[lt],it,Ve,Ze),Xe.push(it)}}function Ce(Ye){return Ye/360+.5}function Re(Ye){var Xe=Math.sin(Ye*Math.PI/180),Ve=.5-.25*Math.log((1+Xe)/(1-Xe))/Math.PI;return Ve<0?0:Ve>1?1:Ve}function Ne(Ye,Xe,Ve,Ze,lt,it,Be,je){if(Ze/=Xe,it>=(Ve/=Xe)&&Be<Ze)return Ye;if(Be<Ve||it>=Ze)return null;for(var ot=[],$e=0;$e<Ye.length;$e++){var dt=Ye[$e],mt=dt.geometry,yt=dt.type,ht=lt===0?dt.minX:dt.minY,kt=lt===0?dt.maxX:dt.maxY;if(ht>=Ve&&kt<Ze)ot.push(dt);else if(!(kt<Ve||ht>=Ze)){var bt=[];if(yt==="Point"||yt==="MultiPoint")ge(mt,bt,Ve,Ze,lt);else if(yt==="LineString")Me(mt,bt,Ve,Ze,lt,!1,je.lineMetrics);else if(yt==="MultiLineString")Fe(mt,bt,Ve,Ze,lt,!1);else if(yt==="Polygon")Fe(mt,bt,Ve,Ze,lt,!0);else if(yt==="MultiPolygon")for(var St=0;St<mt.length;St++){var Lt=[];Fe(mt[St],Lt,Ve,Ze,lt,!0),Lt.length&&bt.push(Lt)}if(bt.length){if(je.lineMetrics&&yt==="LineString"){for(St=0;St<bt.length;St++)ot.push(ue(dt.id,yt,bt[St],dt.tags));continue}yt!=="LineString"&&yt!=="MultiLineString"||(bt.length===1?(yt="LineString",bt=bt[0]):yt="MultiLineString"),yt!=="Point"&&yt!=="MultiPoint"||(yt=bt.length===3?"Point":"MultiPoint"),ot.push(ue(dt.id,yt,bt,dt.tags))}}}return ot.length?ot:null}function ge(Ye,Xe,Ve,Ze,lt){for(var it=0;it<Ye.length;it+=3){var Be=Ye[it+lt];Be>=Ve&&Be<=Ze&&(Xe.push(Ye[it]),Xe.push(Ye[it+1]),Xe.push(Ye[it+2]))}}function Me(Ye,Xe,Ve,Ze,lt,it,Be){for(var je,ot,$e=Ee(Ye),dt=lt===0?Ue:Ge,mt=Ye.start,yt=0;yt<Ye.length-3;yt+=3){var ht=Ye[yt],kt=Ye[yt+1],bt=Ye[yt+2],St=Ye[yt+3],Lt=Ye[yt+4],Ot=lt===0?ht:kt,Ft=lt===0?St:Lt,$t=!1;Be&&(je=Math.sqrt(Math.pow(ht-St,2)+Math.pow(kt-Lt,2))),Ot<Ve?Ft>Ve&&(ot=dt($e,ht,kt,St,Lt,Ve),Be&&($e.start=mt+je*ot)):Ot>Ze?Ft<Ze&&(ot=dt($e,ht,kt,St,Lt,Ze),Be&&($e.start=mt+je*ot)):Le($e,ht,kt,bt),Ft<Ve&&Ot>=Ve&&(ot=dt($e,ht,kt,St,Lt,Ve),$t=!0),Ft>Ze&&Ot<=Ze&&(ot=dt($e,ht,kt,St,Lt,Ze),$t=!0),!it&&$t&&(Be&&($e.end=mt+je*ot),Xe.push($e),$e=Ee(Ye)),Be&&(mt+=je)}var on=Ye.length-3;ht=Ye[on],kt=Ye[on+1],bt=Ye[on+2],(Ot=lt===0?ht:kt)>=Ve&&Ot<=Ze&&Le($e,ht,kt,bt),on=$e.length-3,it&&on>=3&&($e[on]!==$e[0]||$e[on+1]!==$e[1])&&Le($e,$e[0],$e[1],$e[2]),$e.length&&Xe.push($e)}function Ee(Ye){var Xe=[];return Xe.size=Ye.size,Xe.start=Ye.start,Xe.end=Ye.end,Xe}function Fe(Ye,Xe,Ve,Ze,lt,it){for(var Be=0;Be<Ye.length;Be++)Me(Ye[Be],Xe,Ve,Ze,lt,it,!1)}function Le(Ye,Xe,Ve,Ze){Ye.push(Xe),Ye.push(Ve),Ye.push(Ze)}function Ue(Ye,Xe,Ve,Ze,lt,it){var Be=(it-Xe)/(Ze-Xe);return Ye.push(it),Ye.push(Ve+(lt-Ve)*Be),Ye.push(1),Be}function Ge(Ye,Xe,Ve,Ze,lt,it){var Be=(it-Ve)/(lt-Ve);return Ye.push(Xe+(Ze-Xe)*Be),Ye.push(it),Ye.push(1),Be}function Ke(Ye,Xe){for(var Ve=[],Ze=0;Ze<Ye.length;Ze++){var lt,it=Ye[Ze],Be=it.type;if(Be==="Point"||Be==="MultiPoint"||Be==="LineString")lt=at(it.geometry,Xe);else if(Be==="MultiLineString"||Be==="Polygon"){lt=[];for(var je=0;je<it.geometry.length;je++)lt.push(at(it.geometry[je],Xe))}else if(Be==="MultiPolygon")for(lt=[],je=0;je<it.geometry.length;je++){for(var ot=[],$e=0;$e<it.geometry[je].length;$e++)ot.push(at(it.geometry[je][$e],Xe));lt.push(ot)}Ve.push(ue(it.id,Be,lt,it.tags))}return Ve}function at(Ye,Xe){var Ve=[];Ve.size=Ye.size,Ye.start!==void 0&&(Ve.start=Ye.start,Ve.end=Ye.end);for(var Ze=0;Ze<Ye.length;Ze+=3)Ve.push(Ye[Ze]+Xe,Ye[Ze+1],Ye[Ze+2]);return Ve}function st(Ye,Xe){if(Ye.transformed)return Ye;var Ve,Ze,lt,it=1<<Ye.z,Be=Ye.x,je=Ye.y;for(Ve=0;Ve<Ye.features.length;Ve++){var ot=Ye.features[Ve],$e=ot.geometry,dt=ot.type;if(ot.geometry=[],dt===1)for(Ze=0;Ze<$e.length;Ze+=2)ot.geometry.push(vt($e[Ze],$e[Ze+1],Xe,it,Be,je));else for(Ze=0;Ze<$e.length;Ze++){var mt=[];for(lt=0;lt<$e[Ze].length;lt+=2)mt.push(vt($e[Ze][lt],$e[Ze][lt+1],Xe,it,Be,je));ot.geometry.push(mt)}}return Ye.transformed=!0,Ye}function vt(Ye,Xe,Ve,Ze,lt,it){return[Math.round(Ve*(Ye*Ze-lt)),Math.round(Ve*(Xe*Ze-it))]}function xt(Ye,Xe,Ve,Ze,lt){for(var it=Xe===lt.maxZoom?0:lt.tolerance/((1<<Xe)*lt.extent),Be={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ve,y:Ze,z:Xe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},je=0;je<Ye.length;je++){Be.numFeatures++,gt(Be,Ye[je],it,lt);var ot=Ye[je].minX,$e=Ye[je].minY,dt=Ye[je].maxX,mt=Ye[je].maxY;ot<Be.minX&&(Be.minX=ot),$e<Be.minY&&(Be.minY=$e),dt>Be.maxX&&(Be.maxX=dt),mt>Be.maxY&&(Be.maxY=mt)}return Be}function gt(Ye,Xe,Ve,Ze){var lt=Xe.geometry,it=Xe.type,Be=[];if(it==="Point"||it==="MultiPoint")for(var je=0;je<lt.length;je+=3)Be.push(lt[je]),Be.push(lt[je+1]),Ye.numPoints++,Ye.numSimplified++;else if(it==="LineString")nt(Be,lt,Ye,Ve,!1,!1);else if(it==="MultiLineString"||it==="Polygon")for(je=0;je<lt.length;je++)nt(Be,lt[je],Ye,Ve,it==="Polygon",je===0);else if(it==="MultiPolygon")for(var ot=0;ot<lt.length;ot++){var $e=lt[ot];for(je=0;je<$e.length;je++)nt(Be,$e[je],Ye,Ve,!0,je===0)}if(Be.length){var dt=Xe.tags||null;if(it==="LineString"&&Ze.lineMetrics){for(var mt in dt={},Xe.tags)dt[mt]=Xe.tags[mt];dt.mapbox_clip_start=lt.start/lt.size,dt.mapbox_clip_end=lt.end/lt.size}var yt={geometry:Be,type:it==="Polygon"||it==="MultiPolygon"?3:it==="LineString"||it==="MultiLineString"?2:1,tags:dt};Xe.id!==null&&(yt.id=Xe.id),Ye.features.push(yt)}}function nt(Ye,Xe,Ve,Ze,lt,it){var Be=Ze*Ze;if(Ze>0&&Xe.size<(lt?Be:Ze))Ve.numPoints+=Xe.length/3;else{for(var je=[],ot=0;ot<Xe.length;ot+=3)(Ze===0||Xe[ot+2]>Be)&&(Ve.numSimplified++,je.push(Xe[ot]),je.push(Xe[ot+1])),Ve.numPoints++;lt&&function($e,dt){for(var mt=0,yt=0,ht=$e.length,kt=ht-2;yt<ht;kt=yt,yt+=2)mt+=($e[yt]-$e[kt])*($e[yt+1]+$e[kt+1]);if(mt>0===dt)for(yt=0,ht=$e.length;yt<ht/2;yt+=2){var bt=$e[yt],St=$e[yt+1];$e[yt]=$e[ht-2-yt],$e[yt+1]=$e[ht-1-yt],$e[ht-2-yt]=bt,$e[ht-1-yt]=St}}(je,it),Ye.push(je)}}function et(Ye,Xe){var Ve=(Xe=this.options=function(lt,it){for(var Be in it)lt[Be]=it[Be];return lt}(Object.create(this.options),Xe)).debug;if(Ve&&console.time("preprocess data"),Xe.maxZoom<0||Xe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Xe.promoteId&&Xe.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ze=function(lt,it){var Be=[];if(lt.type==="FeatureCollection")for(var je=0;je<lt.features.length;je++)pe(Be,lt.features[je],it,je);else lt.type==="Feature"?pe(Be,lt,it):pe(Be,{geometry:lt},it);return Be}(Ye,Xe);this.tiles={},this.tileCoords=[],Ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Xe.indexMaxZoom,Xe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ze=function(lt,it){var Be=it.buffer/it.extent,je=lt,ot=Ne(lt,1,-1-Be,Be,0,-1,2,it),$e=Ne(lt,1,1-Be,2+Be,0,-1,2,it);return(ot||$e)&&(je=Ne(lt,1,-Be,1+Be,0,-1,2,it)||[],ot&&(je=Ke(ot,1).concat(je)),$e&&(je=je.concat(Ke($e,-1)))),je}(Ze,Xe)).length&&this.splitTile(Ze,0,0,0),Ve&&(Ze.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function At(Ye,Xe,Ve){return 32*((1<<Ye)*Ve+Xe)+Ye}function Pt(Ye,Xe){var Ve=Ye.tileID.canonical;if(!this._geoJSONIndex)return Xe(null,null);var Ze=this._geoJSONIndex.getTile(Ve.z,Ve.x,Ve.y);if(!Ze)return Xe(null,null);var lt=new v(Ze.features),it=d(lt);it.byteOffset===0&&it.byteLength===it.buffer.byteLength||(it=new Uint8Array(it)),Xe(null,{vectorTile:lt,rawData:it.buffer})}se.prototype.load=function(Ye){var Xe=this.options,Ve=Xe.log,Ze=Xe.minZoom,lt=Xe.maxZoom,it=Xe.nodeSize;Ve&&console.time("total time");var Be="prepare "+Ye.length+" points";Ve&&console.time(Be),this.points=Ye;for(var je=[],ot=0;ot<Ye.length;ot++)Ye[ot].geometry&&je.push(le(Ye[ot],ot));this.trees[lt+1]=new Q(je,ye,Se,it,Float32Array),Ve&&console.timeEnd(Be);for(var $e=lt;$e>=Ze;$e--){var dt=+Date.now();je=this._cluster(je,$e),this.trees[$e]=new Q(je,ye,Se,it,Float32Array),Ve&&console.log("z%d: %d clusters in %dms",$e,je.length,+Date.now()-dt)}return Ve&&console.timeEnd("total time"),this},se.prototype.getClusters=function(Ye,Xe){var Ve=((Ye[0]+180)%360+360)%360-180,Ze=Math.max(-90,Math.min(90,Ye[1])),lt=Ye[2]===180?180:((Ye[2]+180)%360+360)%360-180,it=Math.max(-90,Math.min(90,Ye[3]));if(Ye[2]-Ye[0]>=360)Ve=-180,lt=180;else if(Ve>lt){var Be=this.getClusters([Ve,Ze,180,it],Xe),je=this.getClusters([-180,Ze,lt,it],Xe);return Be.concat(je)}for(var ot=this.trees[this._limitZoom(Xe)],$e=[],dt=0,mt=ot.range(_e(Ve),ve(it),_e(lt),ve(Ze));dt<mt.length;dt+=1){var yt=mt[dt],ht=ot.points[yt];$e.push(ht.numPoints?de(ht):this.points[ht.index])}return $e},se.prototype.getChildren=function(Ye){var Xe=this._getOriginId(Ye),Ve=this._getOriginZoom(Ye),Ze="No cluster with the specified id.",lt=this.trees[Ve];if(!lt)throw new Error(Ze);var it=lt.points[Xe];if(!it)throw new Error(Ze);for(var Be=this.options.radius/(this.options.extent*Math.pow(2,Ve-1)),je=[],ot=0,$e=lt.within(it.x,it.y,Be);ot<$e.length;ot+=1){var dt=$e[ot],mt=lt.points[dt];mt.parentId===Ye&&je.push(mt.numPoints?de(mt):this.points[mt.index])}if(je.length===0)throw new Error(Ze);return je},se.prototype.getLeaves=function(Ye,Xe,Ve){Xe=Xe||10,Ve=Ve||0;var Ze=[];return this._appendLeaves(Ze,Ye,Xe,Ve,0),Ze},se.prototype.getTile=function(Ye,Xe,Ve){var Ze=this.trees[this._limitZoom(Ye)],lt=Math.pow(2,Ye),it=this.options,Be=it.extent,je=it.radius/Be,ot=(Ve-je)/lt,$e=(Ve+1+je)/lt,dt={features:[]};return this._addTileFeatures(Ze.range((Xe-je)/lt,ot,(Xe+1+je)/lt,$e),Ze.points,Xe,Ve,lt,dt),Xe===0&&this._addTileFeatures(Ze.range(1-je/lt,ot,1,$e),Ze.points,lt,Ve,lt,dt),Xe===lt-1&&this._addTileFeatures(Ze.range(0,ot,je/lt,$e),Ze.points,-1,Ve,lt,dt),dt.features.length?dt:null},se.prototype.getClusterExpansionZoom=function(Ye){for(var Xe=this._getOriginZoom(Ye)-1;Xe<=this.options.maxZoom;){var Ve=this.getChildren(Ye);if(Xe++,Ve.length!==1)break;Ye=Ve[0].properties.cluster_id}return Xe},se.prototype._appendLeaves=function(Ye,Xe,Ve,Ze,lt){for(var it=0,Be=this.getChildren(Xe);it<Be.length;it+=1){var je=Be[it],ot=je.properties;if(ot&&ot.cluster?lt+ot.point_count<=Ze?lt+=ot.point_count:lt=this._appendLeaves(Ye,ot.cluster_id,Ve,Ze,lt):lt<Ze?lt++:Ye.push(je),Ye.length===Ve)break}return lt},se.prototype._addTileFeatures=function(Ye,Xe,Ve,Ze,lt,it){for(var Be=0,je=Ye;Be<je.length;Be+=1){var ot=Xe[je[Be]],$e=ot.numPoints,dt={type:1,geometry:[[Math.round(this.options.extent*(ot.x*lt-Ve)),Math.round(this.options.extent*(ot.y*lt-Ze))]],tags:$e?be(ot):this.points[ot.index].properties},mt=void 0;$e?mt=ot.id:this.options.generateId?mt=ot.index:this.points[ot.index].id&&(mt=this.points[ot.index].id),mt!==void 0&&(dt.id=mt),it.features.push(dt)}},se.prototype._limitZoom=function(Ye){return Math.max(this.options.minZoom,Math.min(+Ye,this.options.maxZoom+1))},se.prototype._cluster=function(Ye,Xe){for(var Ve=[],Ze=this.options,lt=Ze.radius,it=Ze.extent,Be=Ze.reduce,je=Ze.minPoints,ot=lt/(it*Math.pow(2,Xe)),$e=0;$e<Ye.length;$e++){var dt=Ye[$e];if(!(dt.zoom<=Xe)){dt.zoom=Xe;for(var mt=this.trees[Xe+1],yt=mt.within(dt.x,dt.y,ot),ht=dt.numPoints||1,kt=ht,bt=0,St=yt;bt<St.length;bt+=1){var Lt=St[bt],Ot=mt.points[Lt];Ot.zoom>Xe&&(kt+=Ot.numPoints||1)}if(kt>=je){for(var Ft=dt.x*ht,$t=dt.y*ht,on=Be&&ht>1?this._map(dt,!0):null,Ht=($e<<5)+(Xe+1)+this.points.length,Zt=0,jt=yt;Zt<jt.length;Zt+=1){var Ln=jt[Zt],Tn=mt.points[Ln];if(!(Tn.zoom<=Xe)){Tn.zoom=Xe;var gn=Tn.numPoints||1;Ft+=Tn.x*gn,$t+=Tn.y*gn,Tn.parentId=Ht,Be&&(on||(on=this._map(dt,!0)),Be(on,this._map(Tn)))}}dt.parentId=Ht,Ve.push(ce(Ft/kt,$t/kt,Ht,kt,on))}else if(Ve.push(dt),kt>1)for(var Qt=0,cn=yt;Qt<cn.length;Qt+=1){var nn=cn[Qt],hn=mt.points[nn];hn.zoom<=Xe||(hn.zoom=Xe,Ve.push(hn))}}}return Ve},se.prototype._getOriginId=function(Ye){return Ye-this.points.length>>5},se.prototype._getOriginZoom=function(Ye){return(Ye-this.points.length)%32},se.prototype._map=function(Ye,Xe){if(Ye.numPoints)return Xe?me({},Ye.properties):Ye.properties;var Ve=this.points[Ye.index].properties,Ze=this.options.map(Ve);return Xe&&Ze===Ve?me({},Ze):Ze},et.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},et.prototype.splitTile=function(Ye,Xe,Ve,Ze,lt,it,Be){for(var je=[Ye,Xe,Ve,Ze],ot=this.options,$e=ot.debug;je.length;){Ze=je.pop(),Ve=je.pop(),Xe=je.pop(),Ye=je.pop();var dt=1<<Xe,mt=At(Xe,Ve,Ze),yt=this.tiles[mt];if(!yt&&($e>1&&console.time("creation"),yt=this.tiles[mt]=xt(Ye,Xe,Ve,Ze,ot),this.tileCoords.push({z:Xe,x:Ve,y:Ze}),$e)){$e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Xe,Ve,Ze,yt.numFeatures,yt.numPoints,yt.numSimplified),console.timeEnd("creation"));var ht="z"+Xe;this.stats[ht]=(this.stats[ht]||0)+1,this.total++}if(yt.source=Ye,lt){if(Xe===ot.maxZoom||Xe===lt)continue;var kt=1<<lt-Xe;if(Ve!==Math.floor(it/kt)||Ze!==Math.floor(Be/kt))continue}else if(Xe===ot.indexMaxZoom||yt.numPoints<=ot.indexMaxPoints)continue;if(yt.source=null,Ye.length!==0){$e>1&&console.time("clipping");var bt,St,Lt,Ot,Ft,$t,on=.5*ot.buffer/ot.extent,Ht=.5-on,Zt=.5+on,jt=1+on;bt=St=Lt=Ot=null,Ft=Ne(Ye,dt,Ve-on,Ve+Zt,0,yt.minX,yt.maxX,ot),$t=Ne(Ye,dt,Ve+Ht,Ve+jt,0,yt.minX,yt.maxX,ot),Ye=null,Ft&&(bt=Ne(Ft,dt,Ze-on,Ze+Zt,1,yt.minY,yt.maxY,ot),St=Ne(Ft,dt,Ze+Ht,Ze+jt,1,yt.minY,yt.maxY,ot),Ft=null),$t&&(Lt=Ne($t,dt,Ze-on,Ze+Zt,1,yt.minY,yt.maxY,ot),Ot=Ne($t,dt,Ze+Ht,Ze+jt,1,yt.minY,yt.maxY,ot),$t=null),$e>1&&console.timeEnd("clipping"),je.push(bt||[],Xe+1,2*Ve,2*Ze),je.push(St||[],Xe+1,2*Ve,2*Ze+1),je.push(Lt||[],Xe+1,2*Ve+1,2*Ze),je.push(Ot||[],Xe+1,2*Ve+1,2*Ze+1)}}},et.prototype.getTile=function(Ye,Xe,Ve){var Ze=this.options,lt=Ze.extent,it=Ze.debug;if(Ye<0||Ye>24)return null;var Be=1<<Ye,je=At(Ye,Xe=(Xe%Be+Be)%Be,Ve);if(this.tiles[je])return st(this.tiles[je],lt);it>1&&console.log("drilling down to z%d-%d-%d",Ye,Xe,Ve);for(var ot,$e=Ye,dt=Xe,mt=Ve;!ot&&$e>0;)$e--,dt=Math.floor(dt/2),mt=Math.floor(mt/2),ot=this.tiles[At($e,dt,mt)];return ot&&ot.source?(it>1&&console.log("found parent tile z%d-%d-%d",$e,dt,mt),it>1&&console.time("drilling down"),this.splitTile(ot.source,$e,dt,mt,Ye,Xe,Ve),it>1&&console.timeEnd("drilling down"),this.tiles[je]?st(this.tiles[je],lt):null):null};var Rt=function(Ye){function Xe(Ve,Ze,lt,it){Ye.call(this,Ve,Ze,lt,Pt),it&&(this.loadGeoJSON=it)}return Ye&&(Xe.__proto__=Ye),Xe.prototype=Object.create(Ye&&Ye.prototype),Xe.prototype.constructor=Xe,Xe.prototype.loadData=function(Ve,Ze){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ze,this._pendingLoadDataParams=Ve,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Xe.prototype._loadData=function(){var Ve=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ze=this._pendingCallback,lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var it=!!(lt&&lt.request&&lt.request.collectResourceTiming)&&new n.RequestPerformance(lt.request);this.loadGeoJSON(lt,function(Be,je){if(Be||!je)return Ze(Be);if(typeof je!="object")return Ze(new Error("Input data given to '"+lt.source+"' is not a valid GeoJSON object."));u(je,!0);try{if(lt.filter){var ot=n.createExpression(lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ot.result==="error")throw new Error(ot.value.map(function(yt){return yt.key+": "+yt.message}).join(", "));var $e=je.features.filter(function(yt){return ot.value.evaluate({zoom:0},yt)});je={type:"FeatureCollection",features:$e}}Ve._geoJSONIndex=lt.cluster?new se(function(yt){var ht=yt.superclusterOptions,kt=yt.clusterProperties;if(!kt||!ht)return ht;for(var bt={},St={},Lt={accumulated:null,zoom:0},Ot={properties:null},Ft=Object.keys(kt),$t=0,on=Ft;$t<on.length;$t+=1){var Ht=on[$t],Zt=kt[Ht],jt=Zt[0],Ln=Zt[1],Tn=n.createExpression(Ln),gn=n.createExpression(typeof jt=="string"?[jt,["accumulated"],["get",Ht]]:jt);bt[Ht]=Tn.value,St[Ht]=gn.value}return ht.map=function(Qt){Ot.properties=Qt;for(var cn={},nn=0,hn=Ft;nn<hn.length;nn+=1){var bn=hn[nn];cn[bn]=bt[bn].evaluate(Lt,Ot)}return cn},ht.reduce=function(Qt,cn){Ot.properties=cn;for(var nn=0,hn=Ft;nn<hn.length;nn+=1){var bn=hn[nn];Lt.accumulated=Qt[bn],Qt[bn]=St[bn].evaluate(Lt,Ot)}},ht}(lt)).load(je.features):function(yt,ht){return new et(yt,ht)}(je,lt.geojsonVtOptions)}catch(yt){return Ze(yt)}Ve.loaded={};var dt={};if(it){var mt=it.finish();mt&&(dt.resourceTiming={},dt.resourceTiming[lt.source]=JSON.parse(JSON.stringify(mt)))}Ze(null,dt)})}},Xe.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Xe.prototype.reloadTile=function(Ve,Ze){var lt=this.loaded,it=Ve.uid;return lt&&lt[it]?Ye.prototype.reloadTile.call(this,Ve,Ze):this.loadTile(Ve,Ze)},Xe.prototype.loadGeoJSON=function(Ve,Ze){if(Ve.request)n.getJSON(Ve.request,Ze);else{if(typeof Ve.data!="string")return Ze(new Error("Input data given to '"+Ve.source+"' is not a valid GeoJSON object."));try{return Ze(null,JSON.parse(Ve.data))}catch{return Ze(new Error("Input data given to '"+Ve.source+"' is not a valid GeoJSON object."))}}},Xe.prototype.removeSource=function(Ve,Ze){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ze()},Xe.prototype.getClusterExpansionZoom=function(Ve,Ze){try{Ze(null,this._geoJSONIndex.getClusterExpansionZoom(Ve.clusterId))}catch(lt){Ze(lt)}},Xe.prototype.getClusterChildren=function(Ve,Ze){try{Ze(null,this._geoJSONIndex.getChildren(Ve.clusterId))}catch(lt){Ze(lt)}},Xe.prototype.getClusterLeaves=function(Ve,Ze){try{Ze(null,this._geoJSONIndex.getLeaves(Ve.clusterId,Ve.limit,Ve.offset))}catch(lt){Ze(lt)}},Xe}(i),Et=function(Ye){var Xe=this;this.self=Ye,this.actor=new n.Actor(Ye,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:i,geojson:Rt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ve,Ze){if(Xe.workerSourceTypes[Ve])throw new Error('Worker source with name "'+Ve+'" already registered.');Xe.workerSourceTypes[Ve]=Ze},this.self.registerRTLTextPlugin=function(Ve){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Ve.applyArabicShaping,n.plugin.processBidirectionalText=Ve.processBidirectionalText,n.plugin.processStyledBidirectionalText=Ve.processStyledBidirectionalText}};return Et.prototype.setReferrer=function(Ye,Xe){this.referrer=Xe},Et.prototype.setImages=function(Ye,Xe,Ve){for(var Ze in this.availableImages[Ye]=Xe,this.workerSources[Ye]){var lt=this.workerSources[Ye][Ze];for(var it in lt)lt[it].availableImages=Xe}Ve()},Et.prototype.setLayers=function(Ye,Xe,Ve){this.getLayerIndex(Ye).replace(Xe),Ve()},Et.prototype.updateLayers=function(Ye,Xe,Ve){this.getLayerIndex(Ye).update(Xe.layers,Xe.removedIds),Ve()},Et.prototype.loadTile=function(Ye,Xe,Ve){this.getWorkerSource(Ye,Xe.type,Xe.source).loadTile(Xe,Ve)},Et.prototype.loadDEMTile=function(Ye,Xe,Ve){this.getDEMWorkerSource(Ye,Xe.source).loadTile(Xe,Ve)},Et.prototype.reloadTile=function(Ye,Xe,Ve){this.getWorkerSource(Ye,Xe.type,Xe.source).reloadTile(Xe,Ve)},Et.prototype.abortTile=function(Ye,Xe,Ve){this.getWorkerSource(Ye,Xe.type,Xe.source).abortTile(Xe,Ve)},Et.prototype.removeTile=function(Ye,Xe,Ve){this.getWorkerSource(Ye,Xe.type,Xe.source).removeTile(Xe,Ve)},Et.prototype.removeDEMTile=function(Ye,Xe){this.getDEMWorkerSource(Ye,Xe.source).removeTile(Xe)},Et.prototype.removeSource=function(Ye,Xe,Ve){if(this.workerSources[Ye]&&this.workerSources[Ye][Xe.type]&&this.workerSources[Ye][Xe.type][Xe.source]){var Ze=this.workerSources[Ye][Xe.type][Xe.source];delete this.workerSources[Ye][Xe.type][Xe.source],Ze.removeSource!==void 0?Ze.removeSource(Xe,Ve):Ve()}},Et.prototype.loadWorkerSource=function(Ye,Xe,Ve){try{this.self.importScripts(Xe.url),Ve()}catch(Ze){Ve(Ze.toString())}},Et.prototype.syncRTLPluginState=function(Ye,Xe,Ve){try{n.plugin.setState(Xe);var Ze=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&Ze!=null){this.self.importScripts(Ze);var lt=n.plugin.isParsed();Ve(lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ze),lt)}}catch(it){Ve(it.toString())}},Et.prototype.getAvailableImages=function(Ye){var Xe=this.availableImages[Ye];return Xe||(Xe=[]),Xe},Et.prototype.getLayerIndex=function(Ye){var Xe=this.layerIndexes[Ye];return Xe||(Xe=this.layerIndexes[Ye]=new f),Xe},Et.prototype.getWorkerSource=function(Ye,Xe,Ve){var Ze=this;if(this.workerSources[Ye]||(this.workerSources[Ye]={}),this.workerSources[Ye][Xe]||(this.workerSources[Ye][Xe]={}),!this.workerSources[Ye][Xe][Ve]){var lt={send:function(it,Be,je){Ze.actor.send(it,Be,je,Ye)}};this.workerSources[Ye][Xe][Ve]=new this.workerSourceTypes[Xe](lt,this.getLayerIndex(Ye),this.getAvailableImages(Ye))}return this.workerSources[Ye][Xe][Ve]},Et.prototype.getDEMWorkerSource=function(Ye,Xe){return this.demWorkerSources[Ye]||(this.demWorkerSources[Ye]={}),this.demWorkerSources[Ye][Xe]||(this.demWorkerSources[Ye][Xe]=new l),this.demWorkerSources[Ye][Xe]},Et.prototype.enforceCacheSizeLimit=function(Ye,Xe){n.enforceCacheSizeLimit(Xe)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Et(self)),Et}),y(0,function(n){var M=n.createCommonjsModule(function(U){function $(G){return!W(G)}function W(G){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var oe,he,we=new Blob([""],{type:"text/javascript"}),Oe=URL.createObjectURL(we);try{he=new Worker(Oe),oe=!0}catch{oe=!1}return he&&he.terminate(),URL.revokeObjectURL(Oe),oe}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var oe=document.createElement("canvas");oe.width=oe.height=1;var he=oe.getContext("2d");if(!he)return!1;var we=he.getImageData(0,0,1,1);return we&&we.width===oe.width}()?(te=G&&G.failIfMajorPerformanceCaveat,I[te]===void 0&&(I[te]=function(oe){var he=function(Oe){var ze=document.createElement("canvas"),qe=Object.create($.webGLContextAttributes);return qe.failIfMajorPerformanceCaveat=Oe,ze.probablySupportsContext?ze.probablySupportsContext("webgl",qe)||ze.probablySupportsContext("experimental-webgl",qe):ze.supportsContext?ze.supportsContext("webgl",qe)||ze.supportsContext("experimental-webgl",qe):ze.getContext("webgl",qe)||ze.getContext("experimental-webgl",qe)}(oe);if(!he)return!1;var we=he.createShader(he.VERTEX_SHADER);return!(!we||he.isContextLost())&&(he.shaderSource(we,"void main() {}"),he.compileShader(we),he.getShaderParameter(we,he.COMPILE_STATUS)===!0)}(te)),I[te]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var te}U.exports?U.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=W);var I={};$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(U,$,W){var I=n.window.document.createElement(U);return $!==void 0&&(I.className=$),W&&W.appendChild(I),I},createNS:function(U,$){return n.window.document.createElementNS(U,$)}},f=n.window.document&&n.window.document.documentElement.style;function s(U){if(!f)return U[0];for(var $=0;$<U.length;$++)if(U[$]in f)return U[$];return U[0]}var t,o=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){f&&o&&(t=f[o],f[o]="none")},b.enableDrag=function(){f&&o&&(f[o]=t)};var r=s(["transform","WebkitTransform"]);b.setTransform=function(U,$){U.style[r]=$};var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});n.window.addEventListener("test",a,a),n.window.removeEventListener("test",a,a)}catch{i=!1}b.addEventListener=function(U,$,W,I){I===void 0&&(I={}),"passive"in I&&i?U.addEventListener($,W,I):U.addEventListener($,W,I.capture)},b.removeEventListener=function(U,$,W,I){I===void 0&&(I={}),"passive"in I&&i?U.removeEventListener($,W,I):U.removeEventListener($,W,I.capture)};var l=function(U){U.preventDefault(),U.stopPropagation(),n.window.removeEventListener("click",l,!0)};function u(U){var $=U.userImage;return!!($&&$.render&&$.render())&&(U.data.replace(new Uint8Array($.data.buffer)),!0)}b.suppressClick=function(){n.window.addEventListener("click",l,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",l,!0)},0)},b.mousePos=function(U,$){var W=U.getBoundingClientRect();return new n.Point($.clientX-W.left-U.clientLeft,$.clientY-W.top-U.clientTop)},b.touchPos=function(U,$){for(var W=U.getBoundingClientRect(),I=[],G=0;G<$.length;G++)I.push(new n.Point($[G].clientX-W.left-U.clientLeft,$[G].clientY-W.top-U.clientTop));return I},b.mouseButton=function(U){return n.window.InstallTrigger!==void 0&&U.button===2&&U.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:U.button},b.remove=function(U){U.parentNode&&U.parentNode.removeChild(U)};var h=function(U){function $(){U.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(W){if(this.loaded!==W&&(this.loaded=W,W)){for(var I=0,G=this.requestors;I<G.length;I+=1){var te=G[I],oe=te.ids,he=te.callback;this._notify(oe,he)}this.requestors=[]}},$.prototype.getImage=function(W){return this.images[W]},$.prototype.addImage=function(W,I){this._validate(W,I)&&(this.images[W]=I)},$.prototype._validate=function(W,I){var G=!0;return this._validateStretch(I.stretchX,I.data&&I.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+W+'" has invalid "stretchX" value'))),G=!1),this._validateStretch(I.stretchY,I.data&&I.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+W+'" has invalid "stretchY" value'))),G=!1),this._validateContent(I.content,I)||(this.fire(new n.ErrorEvent(new Error('Image "'+W+'" has invalid "content" value'))),G=!1),G},$.prototype._validateStretch=function(W,I){if(!W)return!0;for(var G=0,te=0,oe=W;te<oe.length;te+=1){var he=oe[te];if(he[0]<G||he[1]<he[0]||I<he[1])return!1;G=he[1]}return!0},$.prototype._validateContent=function(W,I){return!(W&&(W.length!==4||W[0]<0||I.data.width<W[0]||W[1]<0||I.data.height<W[1]||W[2]<0||I.data.width<W[2]||W[3]<0||I.data.height<W[3]||W[2]<W[0]||W[3]<W[1]))},$.prototype.updateImage=function(W,I){var G=this.images[W];I.version=G.version+1,this.images[W]=I,this.updatedImages[W]=!0},$.prototype.removeImage=function(W){var I=this.images[W];delete this.images[W],delete this.patterns[W],I.userImage&&I.userImage.onRemove&&I.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(W,I){var G=!0;if(!this.isLoaded())for(var te=0,oe=W;te<oe.length;te+=1){var he=oe[te];this.images[he]||(G=!1)}this.isLoaded()||G?this._notify(W,I):this.requestors.push({ids:W,callback:I})},$.prototype._notify=function(W,I){for(var G={},te=0,oe=W;te<oe.length;te+=1){var he=oe[te];this.images[he]||this.fire(new n.Event("styleimagemissing",{id:he}));var we=this.images[he];we?G[he]={data:we.data.clone(),pixelRatio:we.pixelRatio,sdf:we.sdf,version:we.version,stretchX:we.stretchX,stretchY:we.stretchY,content:we.content,hasRenderCallback:!!(we.userImage&&we.userImage.render)}:n.warnOnce('Image "'+he+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}I(null,G)},$.prototype.getPixelSize=function(){var W=this.atlasImage;return{width:W.width,height:W.height}},$.prototype.getPattern=function(W){var I=this.patterns[W],G=this.getImage(W);if(!G)return null;if(I&&I.position.version===G.version)return I.position;if(I)I.position.version=G.version;else{var te={w:G.data.width+2,h:G.data.height+2,x:0,y:0},oe=new n.ImagePosition(te,G);this.patterns[W]={bin:te,position:oe}}return this._updatePatternAtlas(),this.patterns[W].position},$.prototype.bind=function(W){var I=W.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(W,this.atlasImage,I.RGBA),this.atlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var W=[];for(var I in this.patterns)W.push(this.patterns[I].bin);var G=n.potpack(W),te=G.w,oe=G.h,he=this.atlasImage;for(var we in he.resize({width:te||1,height:oe||1}),this.patterns){var Oe=this.patterns[we].bin,ze=Oe.x+1,qe=Oe.y+1,We=this.images[we].data,rt=We.width,ft=We.height;n.RGBAImage.copy(We,he,{x:0,y:0},{x:ze,y:qe},{width:rt,height:ft}),n.RGBAImage.copy(We,he,{x:0,y:ft-1},{x:ze,y:qe-1},{width:rt,height:1}),n.RGBAImage.copy(We,he,{x:0,y:0},{x:ze,y:qe+ft},{width:rt,height:1}),n.RGBAImage.copy(We,he,{x:rt-1,y:0},{x:ze-1,y:qe},{width:1,height:ft}),n.RGBAImage.copy(We,he,{x:0,y:0},{x:ze+rt,y:qe},{width:1,height:ft})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(W){for(var I=0,G=W;I<G.length;I+=1){var te=G[I];if(!this.callbackDispatchedThisFrame[te]){this.callbackDispatchedThisFrame[te]=!0;var oe=this.images[te];u(oe)&&this.updateImage(te,oe)}}},$}(n.Evented),c=v,w=v,g=1e20;function v(U,$,W,I,G,te){this.fontSize=U||24,this.buffer=$===void 0?3:$,this.cutoff=I||.25,this.fontFamily=G||"sans-serif",this.fontWeight=te||"normal",this.radius=W||8;var oe=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=oe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(oe*oe),this.gridInner=new Float64Array(oe*oe),this.f=new Float64Array(oe),this.d=new Float64Array(oe),this.z=new Float64Array(oe+1),this.v=new Int16Array(oe),this.middle=Math.round(oe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(U,$,W,I,G,te,oe){for(var he=0;he<$;he++){for(var we=0;we<W;we++)I[we]=U[we*$+he];for(T(I,G,te,oe,W),we=0;we<W;we++)U[we*$+he]=G[we]}for(we=0;we<W;we++){for(he=0;he<$;he++)I[he]=U[we*$+he];for(T(I,G,te,oe,$),he=0;he<$;he++)U[we*$+he]=Math.sqrt(G[he])}}function T(U,$,W,I,G){W[0]=0,I[0]=-g,I[1]=+g;for(var te=1,oe=0;te<G;te++){for(var he=(U[te]+te*te-(U[W[oe]]+W[oe]*W[oe]))/(2*te-2*W[oe]);he<=I[oe];)oe--,he=(U[te]+te*te-(U[W[oe]]+W[oe]*W[oe]))/(2*te-2*W[oe]);W[++oe]=te,I[oe]=he,I[oe+1]=+g}for(te=0,oe=0;te<G;te++){for(;I[oe+1]<te;)oe++;$[te]=(te-W[oe])*(te-W[oe])+U[W[oe]]}}v.prototype.draw=function(U){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(U,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),W=new Uint8ClampedArray(this.size*this.size),I=0;I<this.size*this.size;I++){var G=$.data[4*I+3]/255;this.gridOuter[I]=G===1?0:G===0?g:Math.pow(Math.max(0,.5-G),2),this.gridInner[I]=G===1?g:G===0?0:Math.pow(Math.max(0,G-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),I=0;I<this.size*this.size;I++){var te=this.gridOuter[I]-this.gridInner[I];W[I]=Math.max(0,Math.min(255,Math.round(255-255*(te/this.radius+this.cutoff))))}return W},c.default=w;var _=function(U,$){this.requestManager=U,this.localIdeographFontFamily=$,this.entries={}};_.prototype.setURL=function(U){this.url=U},_.prototype.getGlyphs=function(U,$){var W=this,I=[];for(var G in U)for(var te=0,oe=U[G];te<oe.length;te+=1){var he=oe[te];I.push({stack:G,id:he})}n.asyncAll(I,function(we,Oe){var ze=we.stack,qe=we.id,We=W.entries[ze];We||(We=W.entries[ze]={glyphs:{},requests:{},ranges:{}});var rt=We.glyphs[qe];if(rt===void 0){if(rt=W._tinySDF(We,ze,qe))return We.glyphs[qe]=rt,void Oe(null,{stack:ze,id:qe,glyph:rt});var ft=Math.floor(qe/256);if(256*ft>65535)Oe(new Error("glyphs > 65535 not supported"));else if(We.ranges[ft])Oe(null,{stack:ze,id:qe,glyph:rt});else{var pt=We.requests[ft];pt||(pt=We.requests[ft]=[],_.loadGlyphRange(ze,ft,W.url,W.requestManager,function(wt,Ct){if(Ct){for(var Mt in Ct)W._doesCharSupportLocalGlyph(+Mt)||(We.glyphs[+Mt]=Ct[+Mt]);We.ranges[ft]=!0}for(var zt=0,It=pt;zt<It.length;zt+=1)(0,It[zt])(wt,Ct);delete We.requests[ft]})),pt.push(function(wt,Ct){wt?Oe(wt):Ct&&Oe(null,{stack:ze,id:qe,glyph:Ct[qe]||null})})}}else Oe(null,{stack:ze,id:qe,glyph:rt})},function(we,Oe){if(we)$(we);else if(Oe){for(var ze={},qe=0,We=Oe;qe<We.length;qe+=1){var rt=We[qe],ft=rt.stack,pt=rt.id,wt=rt.glyph;(ze[ft]||(ze[ft]={}))[pt]=wt&&{id:wt.id,bitmap:wt.bitmap.clone(),metrics:wt.metrics}}$(null,ze)}})},_.prototype._doesCharSupportLocalGlyph=function(U){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](U)||n.isChar["Hangul Syllables"](U)||n.isChar.Hiragana(U)||n.isChar.Katakana(U))},_.prototype._tinySDF=function(U,$,W){var I=this.localIdeographFontFamily;if(I&&this._doesCharSupportLocalGlyph(W)){var G=U.tinySDF;if(!G){var te="400";/bold/i.test($)?te="900":/medium/i.test($)?te="500":/light/i.test($)&&(te="200"),G=U.tinySDF=new _.TinySDF(24,3,8,.25,I,te)}return{id:W,bitmap:new n.AlphaImage({width:30,height:30},G.draw(String.fromCharCode(W))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(U,$,W,I,G){var te=256*$,oe=te+255,he=I.transformRequest(I.normalizeGlyphsURL(W).replace("{fontstack}",U).replace("{range}",te+"-"+oe),n.ResourceType.Glyphs);n.getArrayBuffer(he,function(we,Oe){if(we)G(we);else if(Oe){for(var ze={},qe=0,We=n.parseGlyphPBF(Oe);qe<We.length;qe+=1){var rt=We[qe];ze[rt.id]=rt}G(null,ze)}})},_.TinySDF=c;var A=function(){this.specification=n.styleSpec.light.position};A.prototype.possiblyEvaluate=function(U,$){return n.sphericalToCartesian(U.expression.evaluate($))},A.prototype.interpolate=function(U,$,W){return{x:n.number(U.x,$.x,W),y:n.number(U.y,$.y,W),z:n.number(U.z,$.z,W)}};var d=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new A,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),C="-transition",k=function(U){function $(W){U.call(this),this._transitionable=new n.Transitionable(d),this.setLight(W),this._transitioning=this._transitionable.untransitioned()}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(W,I){if(I===void 0&&(I={}),!this._validate(n.validateLight,W,I))for(var G in W){var te=W[G];n.endsWith(G,C)?this._transitionable.setTransition(G.slice(0,-11),te):this._transitionable.setValue(G,te)}},$.prototype.updateTransitions=function(W){this._transitioning=this._transitionable.transitioned(W,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(W){this.properties=this._transitioning.possiblyEvaluate(W)},$.prototype._validate=function(W,I,G){return(!G||G.validate!==!1)&&n.emitValidationErrors(this,W.call(n.validateStyle,n.extend({value:I,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},$}(n.Evented),D=function(U,$){this.width=U,this.height=$,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};D.prototype.getDash=function(U,$){var W=U.join(",")+String($);return this.dashEntry[W]||(this.dashEntry[W]=this.addDash(U,$)),this.dashEntry[W]},D.prototype.getDashRanges=function(U,$,W){var I=[],G=U.length%2==1?-U[U.length-1]*W:0,te=U[0]*W,oe=!0;I.push({left:G,right:te,isDash:oe,zeroLength:U[0]===0});for(var he=U[0],we=1;we<U.length;we++){oe=!oe;var Oe=U[we];G=he*W,te=(he+=Oe)*W,I.push({left:G,right:te,isDash:oe,zeroLength:Oe===0})}return I},D.prototype.addRoundDash=function(U,$,W){for(var I=$/2,G=-W;G<=W;G++)for(var te=this.nextRow+W+G,oe=this.width*te,he=0,we=U[he],Oe=0;Oe<this.width;Oe++){Oe/we.right>1&&(we=U[++he]);var ze=Math.abs(Oe-we.left),qe=Math.abs(Oe-we.right),We=Math.min(ze,qe),rt=void 0,ft=G/W*(I+1);if(we.isDash){var pt=I-Math.abs(ft);rt=Math.sqrt(We*We+pt*pt)}else rt=I-Math.sqrt(We*We+ft*ft);this.data[oe+Oe]=Math.max(0,Math.min(255,rt+128))}},D.prototype.addRegularDash=function(U){for(var $=U.length-1;$>=0;--$){var W=U[$],I=U[$+1];W.zeroLength?U.splice($,1):I&&I.isDash===W.isDash&&(I.left=W.left,U.splice($,1))}var G=U[0],te=U[U.length-1];G.isDash===te.isDash&&(G.left=te.left-this.width,te.right=G.right+this.width);for(var oe=this.width*this.nextRow,he=0,we=U[he],Oe=0;Oe<this.width;Oe++){Oe/we.right>1&&(we=U[++he]);var ze=Math.abs(Oe-we.left),qe=Math.abs(Oe-we.right),We=Math.min(ze,qe),rt=we.isDash?We:-We;this.data[oe+Oe]=Math.max(0,Math.min(255,rt+128))}},D.prototype.addDash=function(U,$){var W=$?7:0,I=2*W+1;if(this.nextRow+I>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var G=0,te=0;te<U.length;te++)G+=U[te];if(G!==0){var oe=this.width/G,he=this.getDashRanges(U,this.width,oe);$?this.addRoundDash(he,oe,W):this.addRegularDash(he)}var we={y:(this.nextRow+W+.5)/this.height,height:2*W/this.height,width:G};return this.nextRow+=I,this.dirty=!0,we},D.prototype.bind=function(U){var $=U.gl;this.texture?($.bindTexture($.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,$.texSubImage2D($.TEXTURE_2D,0,0,0,this.width,this.height,$.ALPHA,$.UNSIGNED_BYTE,this.data))):(this.texture=$.createTexture(),$.bindTexture($.TEXTURE_2D,this.texture),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.REPEAT),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),$.texImage2D($.TEXTURE_2D,0,$.ALPHA,this.width,this.height,0,$.ALPHA,$.UNSIGNED_BYTE,this.data))};var O=function U($,W){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var I=this.workerPool.acquire(this.id),G=0;G<I.length;G++){var te=I[G],oe=new U.Actor(te,W,this.id);oe.name="Worker "+G,this.actors.push(oe)}};function L(U,$,W){var I=function(G,te){if(G)return W(G);if(te){var oe=n.pick(n.extend(te,U),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);te.vector_layers&&(oe.vectorLayers=te.vector_layers,oe.vectorLayerIds=oe.vectorLayers.map(function(he){return he.id})),oe.tiles=$.canonicalizeTileset(oe,U.url),W(null,oe)}};return U.url?n.getJSON($.transformRequest($.normalizeSourceURL(U.url),n.ResourceType.Source),I):n.browser.frame(function(){return I(null,U)})}O.prototype.broadcast=function(U,$,W){W=W||function(){},n.asyncAll(this.actors,function(I,G){I.send(U,$,G)},W)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(U){U.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=n.Actor;var R=function(U,$,W){this.bounds=n.LngLatBounds.convert(this.validateBounds(U)),this.minzoom=$||0,this.maxzoom=W||24};R.prototype.validateBounds=function(U){return Array.isArray(U)&&U.length===4?[Math.max(-180,U[0]),Math.max(-90,U[1]),Math.min(180,U[2]),Math.min(90,U[3])]:[-180,-90,180,90]},R.prototype.contains=function(U){var $=Math.pow(2,U.z),W=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*$),I=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*$),G=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*$),te=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*$);return U.x>=W&&U.x<G&&U.y>=I&&U.y<te};var z=function(U){function $(W,I,G,te){if(U.call(this),this.id=W,this.dispatcher=G,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(I,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},I),this._collectResourceTiming=I.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(te)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.load=function(){var W=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(I,G){W._tileJSONRequest=null,W._loaded=!0,I?W.fire(new n.ErrorEvent(I)):G&&(n.extend(W,G),G.bounds&&(W.tileBounds=new R(G.bounds,W.minzoom,W.maxzoom)),n.postTurnstileEvent(G.tiles,W.map._requestManager._customAccessToken),n.postMapLoadEvent(G.tiles,W.map._getMapId(),W.map._requestManager._skuToken,W.map._requestManager._customAccessToken),W.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),W.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(W){return!this.tileBounds||this.tileBounds.contains(W.canonical)},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.setSourceProperty=function(W){this._tileJSONRequest&&this._tileJSONRequest.cancel(),W(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},$.prototype.setTiles=function(W){var I=this;return this.setSourceProperty(function(){I._options.tiles=W}),this},$.prototype.setUrl=function(W){var I=this;return this.setSourceProperty(function(){I.url=W,I._options.url=W}),this},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return n.extend({},this._options)},$.prototype.loadTile=function(W,I){var G=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme)),te={request:this.map._requestManager.transformRequest(G,n.ResourceType.Tile),uid:W.uid,tileID:W.tileID,zoom:W.tileID.overscaledZ,tileSize:this.tileSize*W.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function oe(he,we){return delete W.request,W.aborted?I(null):he&&he.status!==404?I(he):(we&&we.resourceTiming&&(W.resourceTiming=we.resourceTiming),this.map._refreshExpiredTiles&&we&&W.setExpiryData(we),W.loadVectorData(we,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),I(null),void(W.reloadCallback&&(this.loadTile(W,W.reloadCallback),W.reloadCallback=null)))}te.request.collectResourceTiming=this._collectResourceTiming,W.actor&&W.state!=="expired"?W.state==="loading"?W.reloadCallback=I:W.request=W.actor.send("reloadTile",te,oe.bind(this)):(W.actor=this.dispatcher.getActor(),W.request=W.actor.send("loadTile",te,oe.bind(this)))},$.prototype.abortTile=function(W){W.request&&(W.request.cancel(),delete W.request),W.actor&&W.actor.send("abortTile",{uid:W.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(W){W.unloadVectorData(),W.actor&&W.actor.send("removeTile",{uid:W.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(n.Evented),q=function(U){function $(W,I,G,te){U.call(this),this.id=W,this.dispatcher=G,this.setEventedParent(te),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},I),n.extend(this,n.pick(I,["url","scheme","tileSize"]))}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.load=function(){var W=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(I,G){W._tileJSONRequest=null,W._loaded=!0,I?W.fire(new n.ErrorEvent(I)):G&&(n.extend(W,G),G.bounds&&(W.tileBounds=new R(G.bounds,W.minzoom,W.maxzoom)),n.postTurnstileEvent(G.tiles),n.postMapLoadEvent(G.tiles,W.map._getMapId(),W.map._requestManager._skuToken),W.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),W.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return n.extend({},this._options)},$.prototype.hasTile=function(W){return!this.tileBounds||this.tileBounds.contains(W.canonical)},$.prototype.loadTile=function(W,I){var G=this,te=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);W.request=n.getImage(this.map._requestManager.transformRequest(te,n.ResourceType.Tile),function(oe,he){if(delete W.request,W.aborted)W.state="unloaded",I(null);else if(oe)W.state="errored",I(oe);else if(he){G.map._refreshExpiredTiles&&W.setExpiryData(he),delete he.cacheControl,delete he.expires;var we=G.map.painter.context,Oe=we.gl;W.texture=G.map.painter.getTileTexture(he.width),W.texture?W.texture.update(he,{useMipmap:!0}):(W.texture=new n.Texture(we,he,Oe.RGBA,{useMipmap:!0}),W.texture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),we.extTextureFilterAnisotropic&&Oe.texParameterf(Oe.TEXTURE_2D,we.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,we.extTextureFilterAnisotropicMax)),W.state="loaded",n.cacheEntryPossiblyAdded(G.dispatcher),I(null)}})},$.prototype.abortTile=function(W,I){W.request&&(W.request.cancel(),delete W.request),I()},$.prototype.unloadTile=function(W,I){W.texture&&this.map.painter.saveTileTexture(W.texture),I()},$.prototype.hasTransition=function(){return!1},$}(n.Evented),N=function(U){function $(W,I,G,te){U.call(this,W,I,G,te),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},I),this.encoding=I.encoding||"mapbox"}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(W,I){var G=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function te(oe,he){oe&&(W.state="errored",I(oe)),he&&(W.dem=he,W.needsHillshadePrepare=!0,W.state="loaded",I(null))}W.request=n.getImage(this.map._requestManager.transformRequest(G,n.ResourceType.Tile),(function(oe,he){if(delete W.request,W.aborted)W.state="unloaded",I(null);else if(oe)W.state="errored",I(oe);else if(he){this.map._refreshExpiredTiles&&W.setExpiryData(he),delete he.cacheControl,delete he.expires;var we=n.window.ImageBitmap&&he instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported()?he:n.browser.getImageData(he,1),Oe={uid:W.uid,coord:W.tileID,source:this.id,rawImageData:we,encoding:this.encoding};W.actor&&W.state!=="expired"||(W.actor=this.dispatcher.getActor(),W.actor.send("loadDEMTile",Oe,te.bind(this)))}}).bind(this)),W.neighboringTiles=this._getNeighboringTiles(W.tileID)},$.prototype._getNeighboringTiles=function(W){var I=W.canonical,G=Math.pow(2,I.z),te=(I.x-1+G)%G,oe=I.x===0?W.wrap-1:W.wrap,he=(I.x+1+G)%G,we=I.x+1===G?W.wrap+1:W.wrap,Oe={};return Oe[new n.OverscaledTileID(W.overscaledZ,oe,I.z,te,I.y).key]={backfilled:!1},Oe[new n.OverscaledTileID(W.overscaledZ,we,I.z,he,I.y).key]={backfilled:!1},I.y>0&&(Oe[new n.OverscaledTileID(W.overscaledZ,oe,I.z,te,I.y-1).key]={backfilled:!1},Oe[new n.OverscaledTileID(W.overscaledZ,W.wrap,I.z,I.x,I.y-1).key]={backfilled:!1},Oe[new n.OverscaledTileID(W.overscaledZ,we,I.z,he,I.y-1).key]={backfilled:!1}),I.y+1<G&&(Oe[new n.OverscaledTileID(W.overscaledZ,oe,I.z,te,I.y+1).key]={backfilled:!1},Oe[new n.OverscaledTileID(W.overscaledZ,W.wrap,I.z,I.x,I.y+1).key]={backfilled:!1},Oe[new n.OverscaledTileID(W.overscaledZ,we,I.z,he,I.y+1).key]={backfilled:!1}),Oe},$.prototype.unloadTile=function(W){W.demTexture&&this.map.painter.saveTileTexture(W.demTexture),W.fbo&&(W.fbo.destroy(),delete W.fbo),W.dem&&delete W.dem,delete W.neighboringTiles,W.state="unloaded",W.actor&&W.actor.send("removeDEMTile",{uid:W.uid,source:this.id})},$}(q),V=function(U){function $(W,I,G,te){U.call(this),this.id=W,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=G.getActor(),this.setEventedParent(te),this._data=I.data,this._options=n.extend({},I),this._collectResourceTiming=I.collectResourceTiming,this._resourceTiming=[],I.maxzoom!==void 0&&(this.maxzoom=I.maxzoom),I.type&&(this.type=I.type),I.attribution&&(this.attribution=I.attribution),this.promoteId=I.promoteId;var oe=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:I.cluster||!1,geojsonVtOptions:{buffer:(I.buffer!==void 0?I.buffer:128)*oe,tolerance:(I.tolerance!==void 0?I.tolerance:.375)*oe,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:I.lineMetrics||!1,generateId:I.generateId||!1},superclusterOptions:{maxZoom:I.clusterMaxZoom!==void 0?Math.min(I.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,I.clusterMinPoints||2),extent:n.EXTENT,radius:(I.clusterRadius||50)*oe,log:!1,generateId:I.generateId||!1},clusterProperties:I.clusterProperties,filter:I.filter},I.workerOptions)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.load=function(){var W=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(I){if(I)W.fire(new n.ErrorEvent(I));else{var G={dataType:"source",sourceDataType:"metadata"};W._collectResourceTiming&&W._resourceTiming&&W._resourceTiming.length>0&&(G.resourceTiming=W._resourceTiming,W._resourceTiming=[]),W.fire(new n.Event("data",G))}})},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.setData=function(W){var I=this;return this._data=W,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(G){if(G)I.fire(new n.ErrorEvent(G));else{var te={dataType:"source",sourceDataType:"content"};I._collectResourceTiming&&I._resourceTiming&&I._resourceTiming.length>0&&(te.resourceTiming=I._resourceTiming,I._resourceTiming=[]),I.fire(new n.Event("data",te))}}),this},$.prototype.getClusterExpansionZoom=function(W,I){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:W,source:this.id},I),this},$.prototype.getClusterChildren=function(W,I){return this.actor.send("geojson.getClusterChildren",{clusterId:W,source:this.id},I),this},$.prototype.getClusterLeaves=function(W,I,G,te){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:W,limit:I,offset:G},te),this},$.prototype._updateWorkerData=function(W){var I=this;this._loaded=!1;var G=n.extend({},this.workerOptions),te=this._data;typeof te=="string"?(G.request=this.map._requestManager.transformRequest(n.browser.resolveURL(te),n.ResourceType.Source),G.request.collectResourceTiming=this._collectResourceTiming):G.data=JSON.stringify(te),this.actor.send(this.type+".loadData",G,function(oe,he){I._removed||he&&he.abandoned||(I._loaded=!0,he&&he.resourceTiming&&he.resourceTiming[I.id]&&(I._resourceTiming=he.resourceTiming[I.id].slice(0)),I.actor.send(I.type+".coalesce",{source:G.source},null),W(oe))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(W,I){var G=this,te=W.actor?"reloadTile":"loadTile";W.actor=this.actor;var oe={type:this.type,uid:W.uid,tileID:W.tileID,zoom:W.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};W.request=this.actor.send(te,oe,function(he,we){return delete W.request,W.unloadVectorData(),W.aborted?I(null):he?I(he):(W.loadVectorData(we,G.map.painter,te==="reloadTile"),I(null))})},$.prototype.abortTile=function(W){W.request&&(W.request.cancel(),delete W.request),W.aborted=!0},$.prototype.unloadTile=function(W){W.unloadVectorData(),this.actor.send("removeTile",{uid:W.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(n.Evented),Z=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),j=function(U){function $(W,I,G,te){U.call(this),this.id=W,this.dispatcher=G,this.coordinates=I.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(te),this.options=I}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.load=function(W,I){var G=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(te,oe){G._loaded=!0,te?G.fire(new n.ErrorEvent(te)):oe&&(G.image=oe,W&&(G.coordinates=W),I&&I(),G._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(W){var I=this;return this.image&&W.url?(this.options.url=W.url,this.load(W.coordinates,function(){I.texture=null}),this):this},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(W){this.map=W,this.load()},$.prototype.setCoordinates=function(W){var I=this;this.coordinates=W;var G=W.map(n.MercatorCoordinate.fromLngLat);this.tileID=function(oe){for(var he=1/0,we=1/0,Oe=-1/0,ze=-1/0,qe=0,We=oe;qe<We.length;qe+=1){var rt=We[qe];he=Math.min(he,rt.x),we=Math.min(we,rt.y),Oe=Math.max(Oe,rt.x),ze=Math.max(ze,rt.y)}var ft=Oe-he,pt=ze-we,wt=Math.max(ft,pt),Ct=Math.max(0,Math.floor(-Math.log(wt)/Math.LN2)),Mt=Math.pow(2,Ct);return new n.CanonicalTileID(Ct,Math.floor((he+Oe)/2*Mt),Math.floor((we+ze)/2*Mt))}(G),this.minzoom=this.maxzoom=this.tileID.z;var te=G.map(function(oe){return I.tileID.getTilePoint(oe)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(te[0].x,te[0].y,0,0),this._boundsArray.emplaceBack(te[1].x,te[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(te[3].x,te[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(te[2].x,te[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var W=this.map.painter.context,I=W.gl;for(var G in this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(W,this.image,I.RGBA),this.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE)),this.tiles){var te=this.tiles[G];te.state!=="loaded"&&(te.state="loaded",te.texture=this.texture)}}},$.prototype.loadTile=function(W,I){this.tileID&&this.tileID.equals(W.tileID.canonical)?(this.tiles[String(W.tileID.wrap)]=W,W.buckets={},I(null)):(W.state="errored",I(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(n.Evented),H=function(U){function $(W,I,G,te){U.call(this,W,I,G,te),this.roundZoom=!0,this.type="video",this.options=I}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.load=function(){var W=this;this._loaded=!1;var I=this.options;this.urls=[];for(var G=0,te=I.urls;G<te.length;G+=1){var oe=te[G];this.urls.push(this.map._requestManager.transformRequest(oe,n.ResourceType.Source).url)}n.getVideo(this.urls,function(he,we){W._loaded=!0,he?W.fire(new n.ErrorEvent(he)):we&&(W.video=we,W.video.loop=!0,W.video.addEventListener("playing",function(){W.map.triggerRepaint()}),W.map&&W.video.play(),W._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(W){if(this.video){var I=this.video.seekable;W<I.start(0)||W>I.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+I.start(0)+" and "+I.end(0)+"-second mark."))):this.video.currentTime=W}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(W){this.map||(this.map=W,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var W=this.map.painter.context,I=W.gl;for(var G in this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE),I.texSubImage2D(I.TEXTURE_2D,0,0,0,I.RGBA,I.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(W,this.video,I.RGBA),this.texture.bind(I.LINEAR,I.CLAMP_TO_EDGE)),this.tiles){var te=this.tiles[G];te.state!=="loaded"&&(te.state="loaded",te.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(j),Y=function(U){function $(W,I,G,te){U.call(this,W,I,G,te),I.coordinates?Array.isArray(I.coordinates)&&I.coordinates.length===4&&!I.coordinates.some(function(oe){return!Array.isArray(oe)||oe.length!==2||oe.some(function(he){return typeof he!="number"})})||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+W,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+W,null,'missing required property "coordinates"'))),I.animate&&typeof I.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+W,null,'optional "animate" property must be a boolean value'))),I.canvas?typeof I.canvas=="string"||I.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+W,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+W,null,'missing required property "canvas"'))),this.options=I,this.animate=I.animate===void 0||I.animate}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(W){this.map=W,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var W=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,W=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,W=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var I=this.map.painter.context,G=I.gl;for(var te in this.boundsBuffer||(this.boundsBuffer=I.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(W||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(I,this.canvas,G.RGBA,{premultiply:!0}),this.tiles){var oe=this.tiles[te];oe.state!=="loaded"&&(oe.state="loaded",oe.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var W=0,I=[this.canvas.width,this.canvas.height];W<I.length;W+=1){var G=I[W];if(isNaN(G)||G<=0)return!0}return!1},$}(j),ie={vector:z,raster:q,"raster-dem":N,geojson:V,video:H,image:j,canvas:Y};function re(U,$){var W=n.identity([]);return n.translate(W,W,[1,1,0]),n.scale(W,W,[.5*U.width,.5*U.height,1]),n.multiply(W,W,U.calculatePosMatrix($.toUnwrapped()))}function ne(U,$,W,I,G,te){var oe=function(pt,wt,Ct){if(pt)for(var Mt=0,zt=pt;Mt<zt.length;Mt+=1){var It=wt[zt[Mt]];if(It&&It.source===Ct&&It.type==="fill-extrusion")return!0}else for(var Xt in wt){var Gt=wt[Xt];if(Gt.source===Ct&&Gt.type==="fill-extrusion")return!0}return!1}(G&&G.layers,$,U.id),he=te.maxPitchScaleFactor(),we=U.tilesIn(I,he,oe);we.sort(ee);for(var Oe=[],ze=0,qe=we;ze<qe.length;ze+=1){var We=qe[ze];Oe.push({wrappedTileID:We.tileID.wrapped().key,queryResults:We.tile.queryRenderedFeatures($,W,U._state,We.queryGeometry,We.cameraQueryGeometry,We.scale,G,te,he,re(U.transform,We.tileID))})}var rt=function(pt){for(var wt={},Ct={},Mt=0,zt=pt;Mt<zt.length;Mt+=1){var It=zt[Mt],Xt=It.queryResults,Gt=It.wrappedTileID,Vt=Ct[Gt]=Ct[Gt]||{};for(var pn in Xt)for(var yn=Xt[pn],Sn=Vt[pn]=Vt[pn]||{},Pn=wt[pn]=wt[pn]||[],Vn=0,ir=yn;Vn<ir.length;Vn+=1){var ur=ir[Vn];Sn[ur.featureIndex]||(Sn[ur.featureIndex]=!0,Pn.push(ur))}}return wt}(Oe);for(var ft in rt)rt[ft].forEach(function(pt){var wt=pt.feature,Ct=U.getFeatureState(wt.layer["source-layer"],wt.id);wt.source=wt.layer.source,wt.layer["source-layer"]&&(wt.sourceLayer=wt.layer["source-layer"]),wt.state=Ct});return rt}function ee(U,$){var W=U.tileID,I=$.tileID;return W.overscaledZ-I.overscaledZ||W.canonical.y-I.canonical.y||W.wrap-I.wrap||W.canonical.x-I.canonical.x}var Q=function(U,$){this.max=U,this.onRemove=$,this.reset()};Q.prototype.reset=function(){for(var U in this.data)for(var $=0,W=this.data[U];$<W.length;$+=1){var I=W[$];I.timeout&&clearTimeout(I.timeout),this.onRemove(I.value)}return this.data={},this.order=[],this},Q.prototype.add=function(U,$,W){var I=this,G=U.wrapped().key;this.data[G]===void 0&&(this.data[G]=[]);var te={value:$,timeout:void 0};if(W!==void 0&&(te.timeout=setTimeout(function(){I.remove(U,te)},W)),this.data[G].push(te),this.order.push(G),this.order.length>this.max){var oe=this._getAndRemoveByKey(this.order[0]);oe&&this.onRemove(oe)}return this},Q.prototype.has=function(U){return U.wrapped().key in this.data},Q.prototype.getAndRemove=function(U){return this.has(U)?this._getAndRemoveByKey(U.wrapped().key):null},Q.prototype._getAndRemoveByKey=function(U){var $=this.data[U].shift();return $.timeout&&clearTimeout($.timeout),this.data[U].length===0&&delete this.data[U],this.order.splice(this.order.indexOf(U),1),$.value},Q.prototype.getByKey=function(U){var $=this.data[U];return $?$[0].value:null},Q.prototype.get=function(U){return this.has(U)?this.data[U.wrapped().key][0].value:null},Q.prototype.remove=function(U,$){if(!this.has(U))return this;var W=U.wrapped().key,I=$===void 0?0:this.data[W].indexOf($),G=this.data[W][I];return this.data[W].splice(I,1),G.timeout&&clearTimeout(G.timeout),this.data[W].length===0&&delete this.data[W],this.onRemove(G.value),this.order.splice(this.order.indexOf(W),1),this},Q.prototype.setMaxSize=function(U){for(this.max=U;this.order.length>this.max;){var $=this._getAndRemoveByKey(this.order[0]);$&&this.onRemove($)}return this},Q.prototype.filter=function(U){var $=[];for(var W in this.data)for(var I=0,G=this.data[W];I<G.length;I+=1){var te=G[I];U(te.value)||$.push(te)}for(var oe=0,he=$;oe<he.length;oe+=1){var we=he[oe];this.remove(we.value.tileID,we)}};var X=function(U,$,W){this.context=U;var I=U.gl;this.buffer=I.createBuffer(),this.dynamicDraw=!!W,this.context.unbindVAO(),U.bindElementBuffer.set(this.buffer),I.bufferData(I.ELEMENT_ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?I.DYNAMIC_DRAW:I.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};X.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},X.prototype.updateData=function(U){var $=this.context.gl;this.context.unbindVAO(),this.bind(),$.bufferSubData($.ELEMENT_ARRAY_BUFFER,0,U.arrayBuffer)},X.prototype.destroy=function(){var U=this.context.gl;this.buffer&&(U.deleteBuffer(this.buffer),delete this.buffer)};var se={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ce=function(U,$,W,I){this.length=$.length,this.attributes=W,this.itemSize=$.bytesPerElement,this.dynamicDraw=I,this.context=U;var G=U.gl;this.buffer=G.createBuffer(),U.bindVertexBuffer.set(this.buffer),G.bufferData(G.ARRAY_BUFFER,$.arrayBuffer,this.dynamicDraw?G.DYNAMIC_DRAW:G.STATIC_DRAW),this.dynamicDraw||delete $.arrayBuffer};ce.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ce.prototype.updateData=function(U){var $=this.context.gl;this.bind(),$.bufferSubData($.ARRAY_BUFFER,0,U.arrayBuffer)},ce.prototype.enableAttributes=function(U,$){for(var W=0;W<this.attributes.length;W++){var I=this.attributes[W],G=$.attributes[I.name];G!==void 0&&U.enableVertexAttribArray(G)}},ce.prototype.setVertexAttribPointers=function(U,$,W){for(var I=0;I<this.attributes.length;I++){var G=this.attributes[I],te=$.attributes[G.name];te!==void 0&&U.vertexAttribPointer(te,G.components,U[se[G.type]],!1,this.itemSize,G.offset+this.itemSize*(W||0))}},ce.prototype.destroy=function(){var U=this.context.gl;this.buffer&&(U.deleteBuffer(this.buffer),delete this.buffer)};var le=function(U){this.gl=U.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};le.prototype.get=function(){return this.current},le.prototype.set=function(U){},le.prototype.getDefault=function(){return this.default},le.prototype.setDefault=function(){this.set(this.default)};var de=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return n.Color.transparent},$.prototype.set=function(W){var I=this.current;(W.r!==I.r||W.g!==I.g||W.b!==I.b||W.a!==I.a||this.dirty)&&(this.gl.clearColor(W.r,W.g,W.b,W.a),this.current=W,this.dirty=!1)},$}(le),be=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.clearDepth(W),this.current=W,this.dirty=!1)},$}(le),_e=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.clearStencil(W),this.current=W,this.dirty=!1)},$}(le),ve=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(W){var I=this.current;(W[0]!==I[0]||W[1]!==I[1]||W[2]!==I[2]||W[3]!==I[3]||this.dirty)&&(this.gl.colorMask(W[0],W[1],W[2],W[3]),this.current=W,this.dirty=!1)},$}(le),me=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.depthMask(W),this.current=W,this.dirty=!1)},$}(le),ye=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.stencilMask(W),this.current=W,this.dirty=!1)},$}(le),Se=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(W){var I=this.current;(W.func!==I.func||W.ref!==I.ref||W.mask!==I.mask||this.dirty)&&(this.gl.stencilFunc(W.func,W.ref,W.mask),this.current=W,this.dirty=!1)},$}(le),Ie=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var W=this.gl;return[W.KEEP,W.KEEP,W.KEEP]},$.prototype.set=function(W){var I=this.current;(W[0]!==I[0]||W[1]!==I[1]||W[2]!==I[2]||this.dirty)&&(this.gl.stencilOp(W[0],W[1],W[2]),this.current=W,this.dirty=!1)},$}(le),xe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;W?I.enable(I.STENCIL_TEST):I.disable(I.STENCIL_TEST),this.current=W,this.dirty=!1}},$}(le),ue=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(W){var I=this.current;(W[0]!==I[0]||W[1]!==I[1]||this.dirty)&&(this.gl.depthRange(W[0],W[1]),this.current=W,this.dirty=!1)},$}(le),ae=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;W?I.enable(I.DEPTH_TEST):I.disable(I.DEPTH_TEST),this.current=W,this.dirty=!1}},$}(le),pe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.depthFunc(W),this.current=W,this.dirty=!1)},$}(le),De=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;W?I.enable(I.BLEND):I.disable(I.BLEND),this.current=W,this.dirty=!1}},$}(le),Te=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var W=this.gl;return[W.ONE,W.ZERO]},$.prototype.set=function(W){var I=this.current;(W[0]!==I[0]||W[1]!==I[1]||this.dirty)&&(this.gl.blendFunc(W[0],W[1]),this.current=W,this.dirty=!1)},$}(le),Ae=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return n.Color.transparent},$.prototype.set=function(W){var I=this.current;(W.r!==I.r||W.g!==I.g||W.b!==I.b||W.a!==I.a||this.dirty)&&(this.gl.blendColor(W.r,W.g,W.b,W.a),this.current=W,this.dirty=!1)},$}(le),Ce=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.blendEquation(W),this.current=W,this.dirty=!1)},$}(le),Re=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;W?I.enable(I.CULL_FACE):I.disable(I.CULL_FACE),this.current=W,this.dirty=!1}},$}(le),Ne=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.cullFace(W),this.current=W,this.dirty=!1)},$}(le),ge=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.frontFace(W),this.current=W,this.dirty=!1)},$}(le),Me=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.useProgram(W),this.current=W,this.dirty=!1)},$}(le),Ee=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.activeTexture(W),this.current=W,this.dirty=!1)},$}(le),Fe=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var W=this.gl;return[0,0,W.drawingBufferWidth,W.drawingBufferHeight]},$.prototype.set=function(W){var I=this.current;(W[0]!==I[0]||W[1]!==I[1]||W[2]!==I[2]||W[3]!==I[3]||this.dirty)&&(this.gl.viewport(W[0],W[1],W[2],W[3]),this.current=W,this.dirty=!1)},$}(le),Le=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,W),this.current=W,this.dirty=!1}},$}(le),Ue=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.bindRenderbuffer(I.RENDERBUFFER,W),this.current=W,this.dirty=!1}},$}(le),Ge=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.bindTexture(I.TEXTURE_2D,W),this.current=W,this.dirty=!1}},$}(le),Ke=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.bindBuffer(I.ARRAY_BUFFER,W),this.current=W,this.dirty=!1}},$}(le),at=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){var I=this.gl;I.bindBuffer(I.ELEMENT_ARRAY_BUFFER,W),this.current=W,this.dirty=!1},$}(le),st=function(U){function $(W){U.call(this,W),this.vao=W.extVertexArrayObject}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(W){this.vao&&(W!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(W),this.current=W,this.dirty=!1)},$}(le),vt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.pixelStorei(I.UNPACK_ALIGNMENT,W),this.current=W,this.dirty=!1}},$}(le),xt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W),this.current=W,this.dirty=!1}},$}(le),gt=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(W){if(W!==this.current||this.dirty){var I=this.gl;I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,W),this.current=W,this.dirty=!1}},$}(le),nt=function(U){function $(W,I){U.call(this,W),this.context=W,this.parent=I}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$}(le),et=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(W){if(W!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var I=this.gl;I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,W,0),this.current=W,this.dirty=!1}},$}(nt),At=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.set=function(W){if(W!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var I=this.gl;I.framebufferRenderbuffer(I.FRAMEBUFFER,I.DEPTH_ATTACHMENT,I.RENDERBUFFER,W),this.current=W,this.dirty=!1}},$}(nt),Pt=function(U,$,W,I){this.context=U,this.width=$,this.height=W;var G=U.gl,te=this.framebuffer=G.createFramebuffer();this.colorAttachment=new et(U,te),I&&(this.depthAttachment=new At(U,te))};Pt.prototype.destroy=function(){var U=this.context.gl,$=this.colorAttachment.get();if($&&U.deleteTexture($),this.depthAttachment){var W=this.depthAttachment.get();W&&U.deleteRenderbuffer(W)}U.deleteFramebuffer(this.framebuffer)};var Rt=function(U,$,W){this.func=U,this.mask=$,this.range=W};Rt.ReadOnly=!1,Rt.ReadWrite=!0,Rt.disabled=new Rt(519,Rt.ReadOnly,[0,1]);var Et=7680,Ye=function(U,$,W,I,G,te){this.test=U,this.ref=$,this.mask=W,this.fail=I,this.depthFail=G,this.pass=te};Ye.disabled=new Ye({func:519,mask:0},0,0,Et,Et,Et);var Xe=function(U,$,W){this.blendFunction=U,this.blendColor=$,this.mask=W};Xe.Replace=[1,0],Xe.disabled=new Xe(Xe.Replace,n.Color.transparent,[!1,!1,!1,!1]),Xe.unblended=new Xe(Xe.Replace,n.Color.transparent,[!0,!0,!0,!0]),Xe.alphaBlended=new Xe([1,771],n.Color.transparent,[!0,!0,!0,!0]);var Ve=function(U,$,W){this.enable=U,this.mode=$,this.frontFace=W};Ve.disabled=new Ve(!1,1029,2305),Ve.backCCW=new Ve(!0,1029,2305);var Ze=function(U){this.gl=U,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new de(this),this.clearDepth=new be(this),this.clearStencil=new _e(this),this.colorMask=new ve(this),this.depthMask=new me(this),this.stencilMask=new ye(this),this.stencilFunc=new Se(this),this.stencilOp=new Ie(this),this.stencilTest=new xe(this),this.depthRange=new ue(this),this.depthTest=new ae(this),this.depthFunc=new pe(this),this.blend=new De(this),this.blendFunc=new Te(this),this.blendColor=new Ae(this),this.blendEquation=new Ce(this),this.cullFace=new Re(this),this.cullFaceSide=new Ne(this),this.frontFace=new ge(this),this.program=new Me(this),this.activeTexture=new Ee(this),this.viewport=new Fe(this),this.bindFramebuffer=new Le(this),this.bindRenderbuffer=new Ue(this),this.bindTexture=new Ge(this),this.bindVertexBuffer=new Ke(this),this.bindElementBuffer=new at(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new st(this),this.pixelStoreUnpack=new vt(this),this.pixelStoreUnpackPremultiplyAlpha=new xt(this),this.pixelStoreUnpackFlipY=new gt(this),this.extTextureFilterAnisotropic=U.getExtension("EXT_texture_filter_anisotropic")||U.getExtension("MOZ_EXT_texture_filter_anisotropic")||U.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=U.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=U.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(U.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=U.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=U.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=U.getParameter(U.MAX_TEXTURE_SIZE)};Ze.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ze.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ze.prototype.createIndexBuffer=function(U,$){return new X(this,U,$)},Ze.prototype.createVertexBuffer=function(U,$,W){return new ce(this,U,$,W)},Ze.prototype.createRenderbuffer=function(U,$,W){var I=this.gl,G=I.createRenderbuffer();return this.bindRenderbuffer.set(G),I.renderbufferStorage(I.RENDERBUFFER,U,$,W),this.bindRenderbuffer.set(null),G},Ze.prototype.createFramebuffer=function(U,$,W){return new Pt(this,U,$,W)},Ze.prototype.clear=function(U){var $=U.color,W=U.depth,I=this.gl,G=0;$&&(G|=I.COLOR_BUFFER_BIT,this.clearColor.set($),this.colorMask.set([!0,!0,!0,!0])),W!==void 0&&(G|=I.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(W),this.depthMask.set(!0)),I.clear(G)},Ze.prototype.setCullFace=function(U){U.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(U.mode),this.frontFace.set(U.frontFace))},Ze.prototype.setDepthMode=function(U){U.func!==this.gl.ALWAYS||U.mask?(this.depthTest.set(!0),this.depthFunc.set(U.func),this.depthMask.set(U.mask),this.depthRange.set(U.range)):this.depthTest.set(!1)},Ze.prototype.setStencilMode=function(U){U.test.func!==this.gl.ALWAYS||U.mask?(this.stencilTest.set(!0),this.stencilMask.set(U.mask),this.stencilOp.set([U.fail,U.depthFail,U.pass]),this.stencilFunc.set({func:U.test.func,ref:U.ref,mask:U.test.mask})):this.stencilTest.set(!1)},Ze.prototype.setColorMode=function(U){n.deepEqual(U.blendFunction,Xe.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(U.blendFunction),this.blendColor.set(U.blendColor)),this.colorMask.set(U.mask)},Ze.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var lt=function(U){function $(W,I,G){var te=this;U.call(this),this.id=W,this.dispatcher=G,this.on("data",function(oe){oe.dataType==="source"&&oe.sourceDataType==="metadata"&&(te._sourceLoaded=!0),te._sourceLoaded&&!te._paused&&oe.dataType==="source"&&oe.sourceDataType==="content"&&(te.reload(),te.transform&&te.update(te.transform))}),this.on("error",function(){te._sourceErrored=!0}),this._source=function(oe,he,we,Oe){var ze=new ie[he.type](oe,he,we,Oe);if(ze.id!==oe)throw new Error("Expected Source id to be "+oe+" instead of "+ze.id);return n.bindAll(["load","abort","unload","serialize","prepare"],ze),ze}(W,I,G,this),this._tiles={},this._cache=new Q(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(W){this.map=W,this._maxTileCacheSize=W?W._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(W)},$.prototype.onRemove=function(W){this._source&&this._source.onRemove&&this._source.onRemove(W)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var W in this._tiles){var I=this._tiles[W];if(I.state!=="loaded"&&I.state!=="errored")return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var W=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,W&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(W,I){return this._source.loadTile(W,I)},$.prototype._unloadTile=function(W){if(this._source.unloadTile)return this._source.unloadTile(W,function(){})},$.prototype._abortTile=function(W){if(this._source.abortTile)return this._source.abortTile(W,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(W){for(var I in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var G=this._tiles[I];G.upload(W),G.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return n.values(this._tiles).map(function(W){return W.tileID}).sort(it).map(function(W){return W.key})},$.prototype.getRenderableIds=function(W){var I=this,G=[];for(var te in this._tiles)this._isIdRenderable(te,W)&&G.push(this._tiles[te]);return W?G.sort(function(oe,he){var we=oe.tileID,Oe=he.tileID,ze=new n.Point(we.canonical.x,we.canonical.y)._rotate(I.transform.angle),qe=new n.Point(Oe.canonical.x,Oe.canonical.y)._rotate(I.transform.angle);return we.overscaledZ-Oe.overscaledZ||qe.y-ze.y||qe.x-ze.x}).map(function(oe){return oe.tileID.key}):G.map(function(oe){return oe.tileID}).sort(it).map(function(oe){return oe.key})},$.prototype.hasRenderableParent=function(W){var I=this.findLoadedParent(W,0);return!!I&&this._isIdRenderable(I.tileID.key)},$.prototype._isIdRenderable=function(W,I){return this._tiles[W]&&this._tiles[W].hasData()&&!this._coveredTiles[W]&&(I||!this._tiles[W].holdingForFade())},$.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var W in this._cache.reset(),this._tiles)this._tiles[W].state!=="errored"&&this._reloadTile(W,"reloading")},$.prototype._reloadTile=function(W,I){var G=this._tiles[W];G&&(G.state!=="loading"&&(G.state=I),this._loadTile(G,this._tileLoaded.bind(this,G,W,I)))},$.prototype._tileLoaded=function(W,I,G,te){if(te)return W.state="errored",void(te.status!==404?this._source.fire(new n.ErrorEvent(te,{tile:W})):this.update(this.transform));W.timeAdded=n.browser.now(),G==="expired"&&(W.refreshedUponExpiration=!0),this._setTileReloadTimer(I,W),this.getSource().type==="raster-dem"&&W.dem&&this._backfillDEM(W),this._state.initializeTileState(W,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:W,coord:W.tileID}))},$.prototype._backfillDEM=function(W){for(var I=this.getRenderableIds(),G=0;G<I.length;G++){var te=I[G];if(W.neighboringTiles&&W.neighboringTiles[te]){var oe=this.getTileByID(te);he(W,oe),he(oe,W)}}function he(we,Oe){we.needsHillshadePrepare=!0;var ze=Oe.tileID.canonical.x-we.tileID.canonical.x,qe=Oe.tileID.canonical.y-we.tileID.canonical.y,We=Math.pow(2,we.tileID.canonical.z),rt=Oe.tileID.key;ze===0&&qe===0||Math.abs(qe)>1||(Math.abs(ze)>1&&(Math.abs(ze+We)===1?ze+=We:Math.abs(ze-We)===1&&(ze-=We)),Oe.dem&&we.dem&&(we.dem.backfillBorder(Oe.dem,ze,qe),we.neighboringTiles&&we.neighboringTiles[rt]&&(we.neighboringTiles[rt].backfilled=!0)))}},$.prototype.getTile=function(W){return this.getTileByID(W.key)},$.prototype.getTileByID=function(W){return this._tiles[W]},$.prototype._retainLoadedChildren=function(W,I,G,te){for(var oe in this._tiles){var he=this._tiles[oe];if(!(te[oe]||!he.hasData()||he.tileID.overscaledZ<=I||he.tileID.overscaledZ>G)){for(var we=he.tileID;he&&he.tileID.overscaledZ>I+1;){var Oe=he.tileID.scaledTo(he.tileID.overscaledZ-1);(he=this._tiles[Oe.key])&&he.hasData()&&(we=Oe)}for(var ze=we;ze.overscaledZ>I;)if(W[(ze=ze.scaledTo(ze.overscaledZ-1)).key]){te[we.key]=we;break}}}},$.prototype.findLoadedParent=function(W,I){if(W.key in this._loadedParentTiles){var G=this._loadedParentTiles[W.key];return G&&G.tileID.overscaledZ>=I?G:null}for(var te=W.overscaledZ-1;te>=I;te--){var oe=W.scaledTo(te),he=this._getLoadedTile(oe);if(he)return he}},$.prototype._getLoadedTile=function(W){var I=this._tiles[W.key];return I&&I.hasData()?I:this._cache.getByKey(W.wrapped().key)},$.prototype.updateCacheSize=function(W){var I=(Math.ceil(W.width/this._source.tileSize)+1)*(Math.ceil(W.height/this._source.tileSize)+1),G=Math.floor(5*I),te=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,G):G;this._cache.setMaxSize(te)},$.prototype.handleWrapJump=function(W){var I=(W-(this._prevLng===void 0?W:this._prevLng))/360,G=Math.round(I);if(this._prevLng=W,G){var te={};for(var oe in this._tiles){var he=this._tiles[oe];he.tileID=he.tileID.unwrapTo(he.tileID.wrap+G),te[he.tileID.key]=he}for(var we in this._tiles=te,this._timers)clearTimeout(this._timers[we]),delete this._timers[we];for(var Oe in this._tiles){var ze=this._tiles[Oe];this._setTileReloadTimer(Oe,ze)}}},$.prototype.update=function(W){var I=this;if(this.transform=W,this._sourceLoaded&&!this._paused){var G;this.updateCacheSize(W),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?G=W.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Vt){return new n.OverscaledTileID(Vt.canonical.z,Vt.wrap,Vt.canonical.z,Vt.canonical.x,Vt.canonical.y)}):(G=W.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(G=G.filter(function(Vt){return I._source.hasTile(Vt)}))):G=[];var te=W.coveringZoomLevel(this._source),oe=Math.max(te-$.maxOverzooming,this._source.minzoom),he=Math.max(te+$.maxUnderzooming,this._source.minzoom),we=this._updateRetainedTiles(G,te);if(Be(this._source.type)){for(var Oe={},ze={},qe=0,We=Object.keys(we);qe<We.length;qe+=1){var rt=We[qe],ft=we[rt],pt=this._tiles[rt];if(pt&&!(pt.fadeEndTime&&pt.fadeEndTime<=n.browser.now())){var wt=this.findLoadedParent(ft,oe);wt&&(this._addTile(wt.tileID),Oe[wt.tileID.key]=wt.tileID),ze[rt]=ft}}for(var Ct in this._retainLoadedChildren(ze,te,he,we),Oe)we[Ct]||(this._coveredTiles[Ct]=!0,we[Ct]=Oe[Ct])}for(var Mt in we)this._tiles[Mt].clearFadeHold();for(var zt=0,It=n.keysDifference(this._tiles,we);zt<It.length;zt+=1){var Xt=It[zt],Gt=this._tiles[Xt];Gt.hasSymbolBuckets&&!Gt.holdingForFade()?Gt.setHoldDuration(this.map._fadeDuration):Gt.hasSymbolBuckets&&!Gt.symbolFadeFinished()||this._removeTile(Xt)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var W in this._tiles)this._tiles[W].holdingForFade()&&this._removeTile(W)},$.prototype._updateRetainedTiles=function(W,I){for(var G={},te={},oe=Math.max(I-$.maxOverzooming,this._source.minzoom),he=Math.max(I+$.maxUnderzooming,this._source.minzoom),we={},Oe=0,ze=W;Oe<ze.length;Oe+=1){var qe=ze[Oe],We=this._addTile(qe);G[qe.key]=qe,We.hasData()||I<this._source.maxzoom&&(we[qe.key]=qe)}this._retainLoadedChildren(we,I,he,G);for(var rt=0,ft=W;rt<ft.length;rt+=1){var pt=ft[rt],wt=this._tiles[pt.key];if(!wt.hasData()){if(I+1>this._source.maxzoom){var Ct=pt.children(this._source.maxzoom)[0],Mt=this.getTile(Ct);if(Mt&&Mt.hasData()){G[Ct.key]=Ct;continue}}else{var zt=pt.children(this._source.maxzoom);if(G[zt[0].key]&&G[zt[1].key]&&G[zt[2].key]&&G[zt[3].key])continue}for(var It=wt.wasRequested(),Xt=pt.overscaledZ-1;Xt>=oe;--Xt){var Gt=pt.scaledTo(Xt);if(te[Gt.key]||(te[Gt.key]=!0,!(wt=this.getTile(Gt))&&It&&(wt=this._addTile(Gt)),wt&&(G[Gt.key]=Gt,It=wt.wasRequested(),wt.hasData())))break}}}return G},$.prototype._updateLoadedParentTileCache=function(){for(var W in this._loadedParentTiles={},this._tiles){for(var I=[],G=void 0,te=this._tiles[W].tileID;te.overscaledZ>0;){if(te.key in this._loadedParentTiles){G=this._loadedParentTiles[te.key];break}I.push(te.key);var oe=te.scaledTo(te.overscaledZ-1);if(G=this._getLoadedTile(oe))break;te=oe}for(var he=0,we=I;he<we.length;he+=1){var Oe=we[he];this._loadedParentTiles[Oe]=G}}},$.prototype._addTile=function(W){var I=this._tiles[W.key];if(I)return I;(I=this._cache.getAndRemove(W))&&(this._setTileReloadTimer(W.key,I),I.tileID=W,this._state.initializeTileState(I,this.map?this.map.painter:null),this._cacheTimers[W.key]&&(clearTimeout(this._cacheTimers[W.key]),delete this._cacheTimers[W.key],this._setTileReloadTimer(W.key,I)));var G=!!I;return G||(I=new n.Tile(W,this._source.tileSize*W.overscaleFactor()),this._loadTile(I,this._tileLoaded.bind(this,I,W.key,I.state))),I?(I.uses++,this._tiles[W.key]=I,G||this._source.fire(new n.Event("dataloading",{tile:I,coord:I.tileID,dataType:"source"})),I):null},$.prototype._setTileReloadTimer=function(W,I){var G=this;W in this._timers&&(clearTimeout(this._timers[W]),delete this._timers[W]);var te=I.getExpiryTimeout();te&&(this._timers[W]=setTimeout(function(){G._reloadTile(W,"expired"),delete G._timers[W]},te))},$.prototype._removeTile=function(W){var I=this._tiles[W];I&&(I.uses--,delete this._tiles[W],this._timers[W]&&(clearTimeout(this._timers[W]),delete this._timers[W]),I.uses>0||(I.hasData()&&I.state!=="reloading"?this._cache.add(I.tileID,I,I.getExpiryTimeout()):(I.aborted=!0,this._abortTile(I),this._unloadTile(I))))},$.prototype.clearTiles=function(){for(var W in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(W);this._cache.reset()},$.prototype.tilesIn=function(W,I,G){var te=this,oe=[],he=this.transform;if(!he)return oe;for(var we=G?he.getCameraQueryGeometry(W):W,Oe=W.map(function(Xt){return he.pointCoordinate(Xt)}),ze=we.map(function(Xt){return he.pointCoordinate(Xt)}),qe=this.getIds(),We=1/0,rt=1/0,ft=-1/0,pt=-1/0,wt=0,Ct=ze;wt<Ct.length;wt+=1){var Mt=Ct[wt];We=Math.min(We,Mt.x),rt=Math.min(rt,Mt.y),ft=Math.max(ft,Mt.x),pt=Math.max(pt,Mt.y)}for(var zt=function(Xt){var Gt=te._tiles[qe[Xt]];if(!Gt.holdingForFade()){var Vt=Gt.tileID,pn=Math.pow(2,he.zoom-Gt.tileID.overscaledZ),yn=I*Gt.queryPadding*n.EXTENT/Gt.tileSize/pn,Sn=[Vt.getTilePoint(new n.MercatorCoordinate(We,rt)),Vt.getTilePoint(new n.MercatorCoordinate(ft,pt))];if(Sn[0].x-yn<n.EXTENT&&Sn[0].y-yn<n.EXTENT&&Sn[1].x+yn>=0&&Sn[1].y+yn>=0){var Pn=Oe.map(function(ir){return Vt.getTilePoint(ir)}),Vn=ze.map(function(ir){return Vt.getTilePoint(ir)});oe.push({tile:Gt,tileID:Vt,queryGeometry:Pn,cameraQueryGeometry:Vn,scale:pn})}}},It=0;It<qe.length;It++)zt(It);return oe},$.prototype.getVisibleCoordinates=function(W){for(var I=this,G=this.getRenderableIds(W).map(function(we){return I._tiles[we].tileID}),te=0,oe=G;te<oe.length;te+=1){var he=oe[te];he.posMatrix=this.transform.calculatePosMatrix(he.toUnwrapped())}return G},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Be(this._source.type))for(var W in this._tiles){var I=this._tiles[W];if(I.fadeEndTime!==void 0&&I.fadeEndTime>=n.browser.now())return!0}return!1},$.prototype.setFeatureState=function(W,I,G){W=W||"_geojsonTileLayer",this._state.updateState(W,I,G)},$.prototype.removeFeatureState=function(W,I,G){W=W||"_geojsonTileLayer",this._state.removeFeatureState(W,I,G)},$.prototype.getFeatureState=function(W,I){return W=W||"_geojsonTileLayer",this._state.getState(W,I)},$.prototype.setDependencies=function(W,I,G){var te=this._tiles[W];te&&te.setDependencies(I,G)},$.prototype.reloadTilesForDependencies=function(W,I){for(var G in this._tiles)this._tiles[G].hasDependency(W,I)&&this._reloadTile(G,"reloading");this._cache.filter(function(te){return!te.hasDependency(W,I)})},$}(n.Evented);function it(U,$){var W=Math.abs(2*U.wrap)-+(U.wrap<0),I=Math.abs(2*$.wrap)-+($.wrap<0);return U.overscaledZ-$.overscaledZ||I-W||$.canonical.y-U.canonical.y||$.canonical.x-U.canonical.x}function Be(U){return U==="raster"||U==="image"||U==="video"}function je(){return new n.window.Worker(ut.workerUrl)}lt.maxOverzooming=10,lt.maxUnderzooming=3;var ot="mapboxgl_preloaded_worker_pool",$e=function(){this.active={}};$e.prototype.acquire=function(U){if(!this.workers)for(this.workers=[];this.workers.length<$e.workerCount;)this.workers.push(new je);return this.active[U]=!0,this.workers.slice()},$e.prototype.release=function(U){delete this.active[U],this.numActive()===0&&(this.workers.forEach(function($){$.terminate()}),this.workers=null)},$e.prototype.isPreloaded=function(){return!!this.active[ot]},$e.prototype.numActive=function(){return Object.keys(this.active).length};var dt,mt=Math.floor(n.browser.hardwareConcurrency/2);function yt(){return dt||(dt=new $e),dt}function ht(U,$){var W={};for(var I in U)I!=="ref"&&(W[I]=U[I]);return n.refProperties.forEach(function(G){G in $&&(W[G]=$[G])}),W}function kt(U){U=U.slice();for(var $=Object.create(null),W=0;W<U.length;W++)$[U[W].id]=U[W];for(var I=0;I<U.length;I++)"ref"in U[I]&&(U[I]=ht(U[I],$[U[I].ref]));return U}$e.workerCount=Math.max(Math.min(mt,6),1);var bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function St(U,$,W){W.push({command:bt.addSource,args:[U,$[U]]})}function Lt(U,$,W){$.push({command:bt.removeSource,args:[U]}),W[U]=!0}function Ot(U,$,W,I){Lt(U,W,I),St(U,$,W)}function Ft(U,$,W){var I;for(I in U[W])if(U[W].hasOwnProperty(I)&&I!=="data"&&!n.deepEqual(U[W][I],$[W][I]))return!1;for(I in $[W])if($[W].hasOwnProperty(I)&&I!=="data"&&!n.deepEqual(U[W][I],$[W][I]))return!1;return!0}function $t(U,$,W,I,G,te){var oe;for(oe in $=$||{},U=U||{})U.hasOwnProperty(oe)&&(n.deepEqual(U[oe],$[oe])||W.push({command:te,args:[I,oe,$[oe],G]}));for(oe in $)$.hasOwnProperty(oe)&&!U.hasOwnProperty(oe)&&(n.deepEqual(U[oe],$[oe])||W.push({command:te,args:[I,oe,$[oe],G]}))}function on(U){return U.id}function Ht(U,$){return U[$.id]=$,U}function Zt(U,$){if(!U)return[{command:bt.setStyle,args:[$]}];var W=[];try{if(!n.deepEqual(U.version,$.version))return[{command:bt.setStyle,args:[$]}];n.deepEqual(U.center,$.center)||W.push({command:bt.setCenter,args:[$.center]}),n.deepEqual(U.zoom,$.zoom)||W.push({command:bt.setZoom,args:[$.zoom]}),n.deepEqual(U.bearing,$.bearing)||W.push({command:bt.setBearing,args:[$.bearing]}),n.deepEqual(U.pitch,$.pitch)||W.push({command:bt.setPitch,args:[$.pitch]}),n.deepEqual(U.sprite,$.sprite)||W.push({command:bt.setSprite,args:[$.sprite]}),n.deepEqual(U.glyphs,$.glyphs)||W.push({command:bt.setGlyphs,args:[$.glyphs]}),n.deepEqual(U.transition,$.transition)||W.push({command:bt.setTransition,args:[$.transition]}),n.deepEqual(U.light,$.light)||W.push({command:bt.setLight,args:[$.light]});var I={},G=[];(function(oe,he,we,Oe){var ze;for(ze in he=he||{},oe=oe||{})oe.hasOwnProperty(ze)&&(he.hasOwnProperty(ze)||Lt(ze,we,Oe));for(ze in he)he.hasOwnProperty(ze)&&(oe.hasOwnProperty(ze)?n.deepEqual(oe[ze],he[ze])||(oe[ze].type==="geojson"&&he[ze].type==="geojson"&&Ft(oe,he,ze)?we.push({command:bt.setGeoJSONSourceData,args:[ze,he[ze].data]}):Ot(ze,he,we,Oe)):St(ze,he,we))})(U.sources,$.sources,G,I);var te=[];U.layers&&U.layers.forEach(function(oe){I[oe.source]?W.push({command:bt.removeLayer,args:[oe.id]}):te.push(oe)}),W=W.concat(G),function(oe,he,we){he=he||[];var Oe,ze,qe,We,rt,ft,pt,wt=(oe=oe||[]).map(on),Ct=he.map(on),Mt=oe.reduce(Ht,{}),zt=he.reduce(Ht,{}),It=wt.slice(),Xt=Object.create(null);for(Oe=0,ze=0;Oe<wt.length;Oe++)qe=wt[Oe],zt.hasOwnProperty(qe)?ze++:(we.push({command:bt.removeLayer,args:[qe]}),It.splice(It.indexOf(qe,ze),1));for(Oe=0,ze=0;Oe<Ct.length;Oe++)qe=Ct[Ct.length-1-Oe],It[It.length-1-Oe]!==qe&&(Mt.hasOwnProperty(qe)?(we.push({command:bt.removeLayer,args:[qe]}),It.splice(It.lastIndexOf(qe,It.length-ze),1)):ze++,ft=It[It.length-Oe],we.push({command:bt.addLayer,args:[zt[qe],ft]}),It.splice(It.length-Oe,0,qe),Xt[qe]=!0);for(Oe=0;Oe<Ct.length;Oe++)if(We=Mt[qe=Ct[Oe]],rt=zt[qe],!Xt[qe]&&!n.deepEqual(We,rt))if(n.deepEqual(We.source,rt.source)&&n.deepEqual(We["source-layer"],rt["source-layer"])&&n.deepEqual(We.type,rt.type)){for(pt in $t(We.layout,rt.layout,we,qe,null,bt.setLayoutProperty),$t(We.paint,rt.paint,we,qe,null,bt.setPaintProperty),n.deepEqual(We.filter,rt.filter)||we.push({command:bt.setFilter,args:[qe,rt.filter]}),n.deepEqual(We.minzoom,rt.minzoom)&&n.deepEqual(We.maxzoom,rt.maxzoom)||we.push({command:bt.setLayerZoomRange,args:[qe,rt.minzoom,rt.maxzoom]}),We)We.hasOwnProperty(pt)&&pt!=="layout"&&pt!=="paint"&&pt!=="filter"&&pt!=="metadata"&&pt!=="minzoom"&&pt!=="maxzoom"&&(pt.indexOf("paint.")===0?$t(We[pt],rt[pt],we,qe,pt.slice(6),bt.setPaintProperty):n.deepEqual(We[pt],rt[pt])||we.push({command:bt.setLayerProperty,args:[qe,pt,rt[pt]]}));for(pt in rt)rt.hasOwnProperty(pt)&&!We.hasOwnProperty(pt)&&pt!=="layout"&&pt!=="paint"&&pt!=="filter"&&pt!=="metadata"&&pt!=="minzoom"&&pt!=="maxzoom"&&(pt.indexOf("paint.")===0?$t(We[pt],rt[pt],we,qe,pt.slice(6),bt.setPaintProperty):n.deepEqual(We[pt],rt[pt])||we.push({command:bt.setLayerProperty,args:[qe,pt,rt[pt]]}))}else we.push({command:bt.removeLayer,args:[qe]}),ft=It[It.lastIndexOf(qe)+1],we.push({command:bt.addLayer,args:[rt,ft]})}(te,$.layers,W)}catch(oe){console.warn("Unable to compute style diff:",oe),W=[{command:bt.setStyle,args:[$]}]}return W}var jt=function(U,$){this.reset(U,$)};jt.prototype.reset=function(U,$){this.points=U||[],this._distances=[0];for(var W=1;W<this.points.length;W++)this._distances[W]=this._distances[W-1]+this.points[W].dist(this.points[W-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min($||0,.5*this.length),this.paddedLength=this.length-2*this.padding},jt.prototype.lerp=function(U){if(this.points.length===1)return this.points[0];U=n.clamp(U,0,1);for(var $=1,W=this._distances[$],I=U*this.paddedLength+this.padding;W<I&&$<this._distances.length;)W=this._distances[++$];var G=$-1,te=this._distances[G],oe=W-te,he=oe>0?(I-te)/oe:0;return this.points[G].mult(1-he).add(this.points[$].mult(he))};var Ln=function(U,$,W){var I=this.boxCells=[],G=this.circleCells=[];this.xCellCount=Math.ceil(U/W),this.yCellCount=Math.ceil($/W);for(var te=0;te<this.xCellCount*this.yCellCount;te++)I.push([]),G.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=U,this.height=$,this.xScale=this.xCellCount/U,this.yScale=this.yCellCount/$,this.boxUid=0,this.circleUid=0};function Tn(U,$,W,I,G){var te=n.create();return $?(n.scale(te,te,[1/G,1/G,1]),W||n.rotateZ(te,te,I.angle)):n.multiply(te,I.labelPlaneMatrix,U),te}function gn(U,$,W,I,G){if($){var te=n.clone(U);return n.scale(te,te,[G,G,1]),W||n.rotateZ(te,te,-I.angle),te}return I.glCoordMatrix}function Qt(U,$){var W=[U.x,U.y,0,1];Kn(W,W,$);var I=W[3];return{point:new n.Point(W[0]/I,W[1]/I),signedDistanceFromCamera:I}}function cn(U,$){return .5+U/$*.5}function nn(U,$){var W=U[0]/U[3],I=U[1]/U[3];return W>=-$[0]&&W<=$[0]&&I>=-$[1]&&I<=$[1]}function hn(U,$,W,I,G,te,oe,he){var we=I?U.textSizeData:U.iconSizeData,Oe=n.evaluateSizeForZoom(we,W.transform.zoom),ze=[256/W.width*2+1,256/W.height*2+1],qe=I?U.text.dynamicLayoutVertexArray:U.icon.dynamicLayoutVertexArray;qe.clear();for(var We=U.lineVertexArray,rt=I?U.text.placedSymbolArray:U.icon.placedSymbolArray,ft=W.transform.width/W.transform.height,pt=!1,wt=0;wt<rt.length;wt++){var Ct=rt.get(wt);if(Ct.hidden||Ct.writingMode===n.WritingMode.vertical&&!pt)Rn(Ct.numGlyphs,qe);else{pt=!1;var Mt=[Ct.anchorX,Ct.anchorY,0,1];if(n.transformMat4(Mt,Mt,$),nn(Mt,ze)){var zt=Mt[3],It=cn(W.transform.cameraToCenterDistance,zt),Xt=n.evaluateSizeForFeature(we,Oe,Ct),Gt=oe?Xt/It:Xt*It,Vt=new n.Point(Ct.anchorX,Ct.anchorY),pn=Qt(Vt,G).point,yn={},Sn=En(Ct,Gt,!1,he,$,G,te,U.glyphOffsetArray,We,qe,pn,Vt,yn,ft);pt=Sn.useVertical,(Sn.notEnoughRoom||pt||Sn.needsFlipping&&En(Ct,Gt,!0,he,$,G,te,U.glyphOffsetArray,We,qe,pn,Vt,yn,ft).notEnoughRoom)&&Rn(Ct.numGlyphs,qe)}else Rn(Ct.numGlyphs,qe)}}I?U.text.dynamicLayoutVertexBuffer.updateData(qe):U.icon.dynamicLayoutVertexBuffer.updateData(qe)}function bn(U,$,W,I,G,te,oe,he,we,Oe,ze){var qe=he.glyphStartIndex+he.numGlyphs,We=he.lineStartIndex,rt=he.lineStartIndex+he.lineLength,ft=$.getoffsetX(he.glyphStartIndex),pt=$.getoffsetX(qe-1),wt=kn(U*ft,W,I,G,te,oe,he.segment,We,rt,we,Oe,ze);if(!wt)return null;var Ct=kn(U*pt,W,I,G,te,oe,he.segment,We,rt,we,Oe,ze);return Ct?{first:wt,last:Ct}:null}function wn(U,$,W,I){return U===n.WritingMode.horizontal&&Math.abs(W.y-$.y)>Math.abs(W.x-$.x)*I?{useVertical:!0}:(U===n.WritingMode.vertical?$.y<W.y:$.x>W.x)?{needsFlipping:!0}:null}function En(U,$,W,I,G,te,oe,he,we,Oe,ze,qe,We,rt){var ft,pt=$/24,wt=U.lineOffsetX*pt,Ct=U.lineOffsetY*pt;if(U.numGlyphs>1){var Mt=U.glyphStartIndex+U.numGlyphs,zt=U.lineStartIndex,It=U.lineStartIndex+U.lineLength,Xt=bn(pt,he,wt,Ct,W,ze,qe,U,we,te,We);if(!Xt)return{notEnoughRoom:!0};var Gt=Qt(Xt.first.point,oe).point,Vt=Qt(Xt.last.point,oe).point;if(I&&!W){var pn=wn(U.writingMode,Gt,Vt,rt);if(pn)return pn}ft=[Xt.first];for(var yn=U.glyphStartIndex+1;yn<Mt-1;yn++)ft.push(kn(pt*he.getoffsetX(yn),wt,Ct,W,ze,qe,U.segment,zt,It,we,te,We));ft.push(Xt.last)}else{if(I&&!W){var Sn=Qt(qe,G).point,Pn=U.lineStartIndex+U.segment+1,Vn=new n.Point(we.getx(Pn),we.gety(Pn)),ir=Qt(Vn,G),ur=ir.signedDistanceFromCamera>0?ir.point:Dn(qe,Vn,Sn,1,G),Yn=wn(U.writingMode,Sn,ur,rt);if(Yn)return Yn}var lr=kn(pt*he.getoffsetX(U.glyphStartIndex),wt,Ct,W,ze,qe,U.segment,U.lineStartIndex,U.lineStartIndex+U.lineLength,we,te,We);if(!lr)return{notEnoughRoom:!0};ft=[lr]}for(var xr=0,Er=ft;xr<Er.length;xr+=1){var tr=Er[xr];n.addDynamicAttributes(Oe,tr.point,tr.angle)}return{}}function Dn(U,$,W,I,G){var te=Qt(U.add(U.sub($)._unit()),G).point,oe=W.sub(te);return W.add(oe._mult(I/oe.mag()))}function kn(U,$,W,I,G,te,oe,he,we,Oe,ze,qe){var We=I?U-$:U+$,rt=We>0?1:-1,ft=0;I&&(rt*=-1,ft=Math.PI),rt<0&&(ft+=Math.PI);for(var pt=rt>0?he+oe:he+oe+1,wt=G,Ct=G,Mt=0,zt=0,It=Math.abs(We),Xt=[];Mt+zt<=It;){if((pt+=rt)<he||pt>=we)return null;if(Ct=wt,Xt.push(wt),(wt=qe[pt])===void 0){var Gt=new n.Point(Oe.getx(pt),Oe.gety(pt)),Vt=Qt(Gt,ze);if(Vt.signedDistanceFromCamera>0)wt=qe[pt]=Vt.point;else{var pn=pt-rt;wt=Dn(Mt===0?te:new n.Point(Oe.getx(pn),Oe.gety(pn)),Gt,Ct,It-Mt+1,ze)}}Mt+=zt,zt=Ct.dist(wt)}var yn=(It-Mt)/zt,Sn=wt.sub(Ct),Pn=Sn.mult(yn)._add(Ct);Pn._add(Sn._unit()._perp()._mult(W*rt));var Vn=ft+Math.atan2(wt.y-Ct.y,wt.x-Ct.x);return Xt.push(Pn),{point:Pn,angle:Vn,path:Xt}}Ln.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ln.prototype.insert=function(U,$,W,I,G){this._forEachCell($,W,I,G,this._insertBoxCell,this.boxUid++),this.boxKeys.push(U),this.bboxes.push($),this.bboxes.push(W),this.bboxes.push(I),this.bboxes.push(G)},Ln.prototype.insertCircle=function(U,$,W,I){this._forEachCell($-I,W-I,$+I,W+I,this._insertCircleCell,this.circleUid++),this.circleKeys.push(U),this.circles.push($),this.circles.push(W),this.circles.push(I)},Ln.prototype._insertBoxCell=function(U,$,W,I,G,te){this.boxCells[G].push(te)},Ln.prototype._insertCircleCell=function(U,$,W,I,G,te){this.circleCells[G].push(te)},Ln.prototype._query=function(U,$,W,I,G,te){if(W<0||U>this.width||I<0||$>this.height)return!G&&[];var oe=[];if(U<=0&&$<=0&&this.width<=W&&this.height<=I){if(G)return!0;for(var he=0;he<this.boxKeys.length;he++)oe.push({key:this.boxKeys[he],x1:this.bboxes[4*he],y1:this.bboxes[4*he+1],x2:this.bboxes[4*he+2],y2:this.bboxes[4*he+3]});for(var we=0;we<this.circleKeys.length;we++){var Oe=this.circles[3*we],ze=this.circles[3*we+1],qe=this.circles[3*we+2];oe.push({key:this.circleKeys[we],x1:Oe-qe,y1:ze-qe,x2:Oe+qe,y2:ze+qe})}return te?oe.filter(te):oe}var We={hitTest:G,seenUids:{box:{},circle:{}}};return this._forEachCell(U,$,W,I,this._queryCell,oe,We,te),G?oe.length>0:oe},Ln.prototype._queryCircle=function(U,$,W,I,G){var te=U-W,oe=U+W,he=$-W,we=$+W;if(oe<0||te>this.width||we<0||he>this.height)return!I&&[];var Oe=[],ze={hitTest:I,circle:{x:U,y:$,radius:W},seenUids:{box:{},circle:{}}};return this._forEachCell(te,he,oe,we,this._queryCellCircle,Oe,ze,G),I?Oe.length>0:Oe},Ln.prototype.query=function(U,$,W,I,G){return this._query(U,$,W,I,!1,G)},Ln.prototype.hitTest=function(U,$,W,I,G){return this._query(U,$,W,I,!0,G)},Ln.prototype.hitTestCircle=function(U,$,W,I){return this._queryCircle(U,$,W,!0,I)},Ln.prototype._queryCell=function(U,$,W,I,G,te,oe,he){var we=oe.seenUids,Oe=this.boxCells[G];if(Oe!==null)for(var ze=this.bboxes,qe=0,We=Oe;qe<We.length;qe+=1){var rt=We[qe];if(!we.box[rt]){we.box[rt]=!0;var ft=4*rt;if(U<=ze[ft+2]&&$<=ze[ft+3]&&W>=ze[ft+0]&&I>=ze[ft+1]&&(!he||he(this.boxKeys[rt]))){if(oe.hitTest)return te.push(!0),!0;te.push({key:this.boxKeys[rt],x1:ze[ft],y1:ze[ft+1],x2:ze[ft+2],y2:ze[ft+3]})}}}var pt=this.circleCells[G];if(pt!==null)for(var wt=this.circles,Ct=0,Mt=pt;Ct<Mt.length;Ct+=1){var zt=Mt[Ct];if(!we.circle[zt]){we.circle[zt]=!0;var It=3*zt;if(this._circleAndRectCollide(wt[It],wt[It+1],wt[It+2],U,$,W,I)&&(!he||he(this.circleKeys[zt]))){if(oe.hitTest)return te.push(!0),!0;var Xt=wt[It],Gt=wt[It+1],Vt=wt[It+2];te.push({key:this.circleKeys[zt],x1:Xt-Vt,y1:Gt-Vt,x2:Xt+Vt,y2:Gt+Vt})}}}},Ln.prototype._queryCellCircle=function(U,$,W,I,G,te,oe,he){var we=oe.circle,Oe=oe.seenUids,ze=this.boxCells[G];if(ze!==null)for(var qe=this.bboxes,We=0,rt=ze;We<rt.length;We+=1){var ft=rt[We];if(!Oe.box[ft]){Oe.box[ft]=!0;var pt=4*ft;if(this._circleAndRectCollide(we.x,we.y,we.radius,qe[pt+0],qe[pt+1],qe[pt+2],qe[pt+3])&&(!he||he(this.boxKeys[ft])))return te.push(!0),!0}}var wt=this.circleCells[G];if(wt!==null)for(var Ct=this.circles,Mt=0,zt=wt;Mt<zt.length;Mt+=1){var It=zt[Mt];if(!Oe.circle[It]){Oe.circle[It]=!0;var Xt=3*It;if(this._circlesCollide(Ct[Xt],Ct[Xt+1],Ct[Xt+2],we.x,we.y,we.radius)&&(!he||he(this.circleKeys[It])))return te.push(!0),!0}}},Ln.prototype._forEachCell=function(U,$,W,I,G,te,oe,he){for(var we=this._convertToXCellCoord(U),Oe=this._convertToYCellCoord($),ze=this._convertToXCellCoord(W),qe=this._convertToYCellCoord(I),We=we;We<=ze;We++)for(var rt=Oe;rt<=qe;rt++){var ft=this.xCellCount*rt+We;if(G.call(this,U,$,W,I,ft,te,oe,he))return}},Ln.prototype._convertToXCellCoord=function(U){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(U*this.xScale)))},Ln.prototype._convertToYCellCoord=function(U){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(U*this.yScale)))},Ln.prototype._circlesCollide=function(U,$,W,I,G,te){var oe=I-U,he=G-$,we=W+te;return we*we>oe*oe+he*he},Ln.prototype._circleAndRectCollide=function(U,$,W,I,G,te,oe){var he=(te-I)/2,we=Math.abs(U-(I+he));if(we>he+W)return!1;var Oe=(oe-G)/2,ze=Math.abs($-(G+Oe));if(ze>Oe+W)return!1;if(we<=he||ze<=Oe)return!0;var qe=we-he,We=ze-Oe;return qe*qe+We*We<=W*W};var Bn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Rn(U,$){for(var W=0;W<U;W++){var I=$.length;$.resize(I+4),$.float32.set(Bn,3*I)}}function Kn(U,$,W){var I=$[0],G=$[1];return U[0]=W[0]*I+W[4]*G+W[12],U[1]=W[1]*I+W[5]*G+W[13],U[3]=W[3]*I+W[7]*G+W[15],U}var Gn=100,nr=function(U,$,W){$===void 0&&($=new Ln(U.width+200,U.height+200,25)),W===void 0&&(W=new Ln(U.width+200,U.height+200,25)),this.transform=U,this.grid=$,this.ignoredGrid=W,this.pitchfactor=Math.cos(U._pitch)*U.cameraToCenterDistance,this.screenRightBoundary=U.width+Gn,this.screenBottomBoundary=U.height+Gn,this.gridRightBoundary=U.width+200,this.gridBottomBoundary=U.height+200};function $n(U,$,W){return $*(n.EXTENT/(U.tileSize*Math.pow(2,W-U.tileID.overscaledZ)))}nr.prototype.placeCollisionBox=function(U,$,W,I,G){var te=this.projectAndGetPerspectiveRatio(I,U.anchorPointX,U.anchorPointY),oe=W*te.perspectiveRatio,he=U.x1*oe+te.point.x,we=U.y1*oe+te.point.y,Oe=U.x2*oe+te.point.x,ze=U.y2*oe+te.point.y;return!this.isInsideGrid(he,we,Oe,ze)||!$&&this.grid.hitTest(he,we,Oe,ze,G)?{box:[],offscreen:!1}:{box:[he,we,Oe,ze],offscreen:this.isOffscreen(he,we,Oe,ze)}},nr.prototype.placeCollisionCircles=function(U,$,W,I,G,te,oe,he,we,Oe,ze,qe,We){var rt=[],ft=new n.Point($.anchorX,$.anchorY),pt=Qt(ft,te),wt=cn(this.transform.cameraToCenterDistance,pt.signedDistanceFromCamera),Ct=(Oe?G/wt:G*wt)/n.ONE_EM,Mt=Qt(ft,oe).point,zt=bn(Ct,I,$.lineOffsetX*Ct,$.lineOffsetY*Ct,!1,Mt,ft,$,W,oe,{}),It=!1,Xt=!1,Gt=!0;if(zt){for(var Vt=.5*qe*wt+We,pn=new n.Point(-100,-100),yn=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),Sn=new jt,Pn=zt.first,Vn=zt.last,ir=[],ur=Pn.path.length-1;ur>=1;ur--)ir.push(Pn.path[ur]);for(var Yn=1;Yn<Vn.path.length;Yn++)ir.push(Vn.path[Yn]);var lr=2.5*Vt;if(he){var xr=ir.map(function(si){return Qt(si,he)});ir=xr.some(function(si){return si.signedDistanceFromCamera<=0})?[]:xr.map(function(si){return si.point})}var Er=[];if(ir.length>0){for(var tr=ir[0].clone(),sr=ir[0].clone(),wr=1;wr<ir.length;wr++)tr.x=Math.min(tr.x,ir[wr].x),tr.y=Math.min(tr.y,ir[wr].y),sr.x=Math.max(sr.x,ir[wr].x),sr.y=Math.max(sr.y,ir[wr].y);Er=tr.x>=pn.x&&sr.x<=yn.x&&tr.y>=pn.y&&sr.y<=yn.y?[ir]:sr.x<pn.x||tr.x>yn.x||sr.y<pn.y||tr.y>yn.y?[]:n.clipLine([ir],pn.x,pn.y,yn.x,yn.y)}for(var cr=0,Ar=Er;cr<Ar.length;cr+=1){var Lr=Ar[cr];Sn.reset(Lr,.25*Vt);var qr;qr=Sn.length<=.5*Vt?1:Math.ceil(Sn.paddedLength/lr)+1;for(var Wr=0;Wr<qr;Wr++){var Kr=Wr/Math.max(qr-1,1),ii=Sn.lerp(Kr),Ii=ii.x+Gn,Zi=ii.y+Gn;rt.push(Ii,Zi,Vt,0);var Po=Ii-Vt,go=Zi-Vt,So=Ii+Vt,Fi=Zi+Vt;if(Gt=Gt&&this.isOffscreen(Po,go,So,Fi),Xt=Xt||this.isInsideGrid(Po,go,So,Fi),!U&&this.grid.hitTestCircle(Ii,Zi,Vt,ze)&&(It=!0,!we))return{circles:[],offscreen:!1,collisionDetected:It}}}}return{circles:!we&&It||!Xt?[]:rt,offscreen:Gt,collisionDetected:It}},nr.prototype.queryRenderedSymbols=function(U){if(U.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var $=[],W=1/0,I=1/0,G=-1/0,te=-1/0,oe=0,he=U;oe<he.length;oe+=1){var we=he[oe],Oe=new n.Point(we.x+Gn,we.y+Gn);W=Math.min(W,Oe.x),I=Math.min(I,Oe.y),G=Math.max(G,Oe.x),te=Math.max(te,Oe.y),$.push(Oe)}for(var ze={},qe={},We=0,rt=this.grid.query(W,I,G,te).concat(this.ignoredGrid.query(W,I,G,te));We<rt.length;We+=1){var ft=rt[We],pt=ft.key;if(ze[pt.bucketInstanceId]===void 0&&(ze[pt.bucketInstanceId]={}),!ze[pt.bucketInstanceId][pt.featureIndex]){var wt=[new n.Point(ft.x1,ft.y1),new n.Point(ft.x2,ft.y1),new n.Point(ft.x2,ft.y2),new n.Point(ft.x1,ft.y2)];n.polygonIntersectsPolygon($,wt)&&(ze[pt.bucketInstanceId][pt.featureIndex]=!0,qe[pt.bucketInstanceId]===void 0&&(qe[pt.bucketInstanceId]=[]),qe[pt.bucketInstanceId].push(pt.featureIndex))}}return qe},nr.prototype.insertCollisionBox=function(U,$,W,I,G){var te={bucketInstanceId:W,featureIndex:I,collisionGroupID:G};($?this.ignoredGrid:this.grid).insert(te,U[0],U[1],U[2],U[3])},nr.prototype.insertCollisionCircles=function(U,$,W,I,G){for(var te=$?this.ignoredGrid:this.grid,oe={bucketInstanceId:W,featureIndex:I,collisionGroupID:G},he=0;he<U.length;he+=4)te.insertCircle(oe,U[he],U[he+1],U[he+2])},nr.prototype.projectAndGetPerspectiveRatio=function(U,$,W){var I=[$,W,0,1];return Kn(I,I,U),{point:new n.Point((I[0]/I[3]+1)/2*this.transform.width+Gn,(-I[1]/I[3]+1)/2*this.transform.height+Gn),perspectiveRatio:.5+this.transform.cameraToCenterDistance/I[3]*.5}},nr.prototype.isOffscreen=function(U,$,W,I){return W<Gn||U>=this.screenRightBoundary||I<Gn||$>this.screenBottomBoundary},nr.prototype.isInsideGrid=function(U,$,W,I){return W>=0&&U<this.gridRightBoundary&&I>=0&&$<this.gridBottomBoundary},nr.prototype.getViewportMatrix=function(){var U=n.identity([]);return n.translate(U,U,[-100,-100,0]),U};var fr=function(U,$,W,I){this.opacity=U?Math.max(0,Math.min(1,U.opacity+(U.placed?$:-$))):I&&W?1:0,this.placed=W};fr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var en=function(U,$,W,I,G){this.text=new fr(U?U.text:null,$,W,G),this.icon=new fr(U?U.icon:null,$,I,G)};en.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var rn=function(U,$,W){this.text=U,this.icon=$,this.skipFade=W},Cn=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},mn=function(U,$,W,I,G){this.bucketInstanceId=U,this.featureIndex=$,this.sourceLayerIndex=W,this.bucketIndex=I,this.tileID=G},On=function(U){this.crossSourceCollisions=U,this.maxGroupID=0,this.collisionGroups={}};function Hn(U,$,W,I,G){var te=n.getAnchorAlignment(U),oe=-(te.horizontalAlign-.5)*$,he=-(te.verticalAlign-.5)*W,we=n.evaluateVariableOffset(U,I);return new n.Point(oe+we[0]*G,he+we[1]*G)}function Un(U,$,W,I,G,te){var oe=U.x1,he=U.x2,we=U.y1,Oe=U.y2,ze=U.anchorPointX,qe=U.anchorPointY,We=new n.Point($,W);return I&&We._rotate(G?te:-te),{x1:oe+We.x,y1:we+We.y,x2:he+We.x,y2:Oe+We.y,anchorPointX:ze,anchorPointY:qe}}On.prototype.get=function(U){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[U]){var $=++this.maxGroupID;this.collisionGroups[U]={ID:$,predicate:function(W){return W.collisionGroupID===$}}}return this.collisionGroups[U]};var Zn=function(U,$,W,I){this.transform=U.clone(),this.collisionIndex=new nr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=$,this.retainedQueryData={},this.collisionGroups=new On(W),this.collisionCircleArrays={},this.prevPlacement=I,I&&(I.prevPlacement=void 0),this.placedOrientations={}};function pr(U,$,W,I,G){U.emplaceBack($?1:0,W?1:0,I||0,G||0),U.emplaceBack($?1:0,W?1:0,I||0,G||0),U.emplaceBack($?1:0,W?1:0,I||0,G||0),U.emplaceBack($?1:0,W?1:0,I||0,G||0)}Zn.prototype.getBucketParts=function(U,$,W,I){var G=W.getBucket($),te=W.latestFeatureIndex;if(G&&te&&$.id===G.layerIds[0]){var oe=W.collisionBoxArray,he=G.layers[0].layout,we=Math.pow(2,this.transform.zoom-W.tileID.overscaledZ),Oe=W.tileSize/n.EXTENT,ze=this.transform.calculatePosMatrix(W.tileID.toUnwrapped()),qe=he.get("text-pitch-alignment")==="map",We=he.get("text-rotation-alignment")==="map",rt=$n(W,1,this.transform.zoom),ft=Tn(ze,qe,We,this.transform,rt),pt=null;if(qe){var wt=gn(ze,qe,We,this.transform,rt);pt=n.multiply([],this.transform.labelPlaneMatrix,wt)}this.retainedQueryData[G.bucketInstanceId]=new mn(G.bucketInstanceId,te,G.sourceLayerIndex,G.index,W.tileID);var Ct={bucket:G,layout:he,posMatrix:ze,textLabelPlaneMatrix:ft,labelToScreenMatrix:pt,scale:we,textPixelRatio:Oe,holdingForFade:W.holdingForFade(),collisionBoxArray:oe,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(G.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(G.sourceID)};if(I)for(var Mt=0,zt=G.sortKeyRanges;Mt<zt.length;Mt+=1){var It=zt[Mt],Xt=It.sortKey,Gt=It.symbolInstanceStart,Vt=It.symbolInstanceEnd;U.push({sortKey:Xt,symbolInstanceStart:Gt,symbolInstanceEnd:Vt,parameters:Ct})}else U.push({symbolInstanceStart:0,symbolInstanceEnd:G.symbolInstances.length,parameters:Ct})}},Zn.prototype.attemptAnchorPlacement=function(U,$,W,I,G,te,oe,he,we,Oe,ze,qe,We,rt,ft){var pt,wt=[qe.textOffset0,qe.textOffset1],Ct=Hn(U,W,I,wt,G),Mt=this.collisionIndex.placeCollisionBox(Un($,Ct.x,Ct.y,te,oe,this.transform.angle),ze,he,we,Oe.predicate);if(!ft||this.collisionIndex.placeCollisionBox(Un(ft,Ct.x,Ct.y,te,oe,this.transform.angle),ze,he,we,Oe.predicate).box.length!==0)return Mt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[qe.crossTileID]&&this.prevPlacement.placements[qe.crossTileID]&&this.prevPlacement.placements[qe.crossTileID].text&&(pt=this.prevPlacement.variableOffsets[qe.crossTileID].anchor),this.variableOffsets[qe.crossTileID]={textOffset:wt,width:W,height:I,anchor:U,textBoxScale:G,prevAnchor:pt},this.markUsedJustification(We,U,qe,rt),We.allowVerticalPlacement&&(this.markUsedOrientation(We,rt,qe),this.placedOrientations[qe.crossTileID]=rt),{shift:Ct,placedGlyphBoxes:Mt}):void 0},Zn.prototype.placeLayerBucketPart=function(U,$,W){var I=this,G=U.parameters,te=G.bucket,oe=G.layout,he=G.posMatrix,we=G.textLabelPlaneMatrix,Oe=G.labelToScreenMatrix,ze=G.textPixelRatio,qe=G.holdingForFade,We=G.collisionBoxArray,rt=G.partiallyEvaluatedTextSize,ft=G.collisionGroup,pt=oe.get("text-optional"),wt=oe.get("icon-optional"),Ct=oe.get("text-allow-overlap"),Mt=oe.get("icon-allow-overlap"),zt=oe.get("text-rotation-alignment")==="map",It=oe.get("text-pitch-alignment")==="map",Xt=oe.get("icon-text-fit")!=="none",Gt=oe.get("symbol-z-order")==="viewport-y",Vt=Ct&&(Mt||!te.hasIconData()||wt),pn=Mt&&(Ct||!te.hasTextData()||pt);!te.collisionArrays&&We&&te.deserializeCollisionBoxes(We);var yn=function(Yn,lr){if(!$[Yn.crossTileID])if(qe)I.placements[Yn.crossTileID]=new rn(!1,!1,!1);else{var xr,Er=!1,tr=!1,sr=!0,wr=null,cr={box:null,offscreen:null},Ar={box:null,offscreen:null},Lr=null,qr=null,Wr=0,Kr=0,ii=0;lr.textFeatureIndex?Wr=lr.textFeatureIndex:Yn.useRuntimeCollisionCircles&&(Wr=Yn.featureIndex),lr.verticalTextFeatureIndex&&(Kr=lr.verticalTextFeatureIndex);var Ii=lr.textBox;if(Ii){var Zi=function(Gi){var aa=n.WritingMode.horizontal;if(te.allowVerticalPlacement&&!Gi&&I.prevPlacement){var wo=I.prevPlacement.placedOrientations[Yn.crossTileID];wo&&(I.placedOrientations[Yn.crossTileID]=wo,aa=wo,I.markUsedOrientation(te,aa,Yn))}return aa},Po=function(Gi,aa){if(te.allowVerticalPlacement&&Yn.numVerticalGlyphVertices>0&&lr.verticalTextBox)for(var wo=0,Oc=te.writingModes;wo<Oc.length&&(Oc[wo]===n.WritingMode.vertical?(cr=aa(),Ar=cr):cr=Gi(),!(cr&&cr.box&&cr.box.length));wo+=1);else cr=Gi()};if(oe.get("text-variable-anchor")){var go=oe.get("text-variable-anchor");if(I.prevPlacement&&I.prevPlacement.variableOffsets[Yn.crossTileID]){var So=I.prevPlacement.variableOffsets[Yn.crossTileID];go.indexOf(So.anchor)>0&&(go=go.filter(function(Gi){return Gi!==So.anchor})).unshift(So.anchor)}var Fi=function(Gi,aa,wo){for(var Oc=Gi.x2-Gi.x1,Eg=Gi.y2-Gi.y1,rp=Yn.textBoxScale,Cg=Xt&&!Mt?aa:null,ic={box:[],offscreen:!1},Dg=Ct?2*go.length:go.length,oc=0;oc<Dg;++oc){var ip=go[oc%go.length],op=oc>=go.length,gu=I.attemptAnchorPlacement(ip,Gi,Oc,Eg,rp,zt,It,ze,he,ft,op,Yn,te,wo,Cg);if(gu&&(ic=gu.placedGlyphBoxes)&&ic.box&&ic.box.length){Er=!0,wr=gu.shift;break}}return ic};Po(function(){return Fi(Ii,lr.iconBox,n.WritingMode.horizontal)},function(){var Gi=lr.verticalTextBox,aa=cr&&cr.box&&cr.box.length;return te.allowVerticalPlacement&&!aa&&Yn.numVerticalGlyphVertices>0&&Gi?Fi(Gi,lr.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}}),cr&&(Er=cr.box,sr=cr.offscreen);var si=Zi(cr&&cr.box);if(!Er&&I.prevPlacement){var Hi=I.prevPlacement.variableOffsets[Yn.crossTileID];Hi&&(I.variableOffsets[Yn.crossTileID]=Hi,I.markUsedJustification(te,Hi.anchor,Yn,si))}}else{var Mi=function(Gi,aa){var wo=I.collisionIndex.placeCollisionBox(Gi,Ct,ze,he,ft.predicate);return wo&&wo.box&&wo.box.length&&(I.markUsedOrientation(te,aa,Yn),I.placedOrientations[Yn.crossTileID]=aa),wo};Po(function(){return Mi(Ii,n.WritingMode.horizontal)},function(){var Gi=lr.verticalTextBox;return te.allowVerticalPlacement&&Yn.numVerticalGlyphVertices>0&&Gi?Mi(Gi,n.WritingMode.vertical):{box:null,offscreen:null}}),Zi(cr&&cr.box&&cr.box.length)}}if(Er=(xr=cr)&&xr.box&&xr.box.length>0,sr=xr&&xr.offscreen,Yn.useRuntimeCollisionCircles){var hi=te.text.placedSymbolArray.get(Yn.centerJustifiedTextSymbolIndex),qi=n.evaluateSizeForFeature(te.textSizeData,rt,hi),Xi=oe.get("text-padding"),so=Yn.collisionCircleDiameter;Lr=I.collisionIndex.placeCollisionCircles(Ct,hi,te.lineVertexArray,te.glyphOffsetArray,qi,he,we,Oe,W,It,ft.predicate,so,Xi),Er=Ct||Lr.circles.length>0&&!Lr.collisionDetected,sr=sr&&Lr.offscreen}if(lr.iconFeatureIndex&&(ii=lr.iconFeatureIndex),lr.iconBox){var Sl=function(Gi){var aa=Xt&&wr?Un(Gi,wr.x,wr.y,zt,It,I.transform.angle):Gi;return I.collisionIndex.placeCollisionBox(aa,Mt,ze,he,ft.predicate)};tr=Ar&&Ar.box&&Ar.box.length&&lr.verticalIconBox?(qr=Sl(lr.verticalIconBox)).box.length>0:(qr=Sl(lr.iconBox)).box.length>0,sr=sr&&qr.offscreen}var El=pt||Yn.numHorizontalGlyphVertices===0&&Yn.numVerticalGlyphVertices===0,di=wt||Yn.numIconVertices===0;if(El||di?di?El||(tr=tr&&Er):Er=tr&&Er:tr=Er=tr&&Er,Er&&xr&&xr.box&&(Ar&&Ar.box&&Kr?I.collisionIndex.insertCollisionBox(xr.box,oe.get("text-ignore-placement"),te.bucketInstanceId,Kr,ft.ID):I.collisionIndex.insertCollisionBox(xr.box,oe.get("text-ignore-placement"),te.bucketInstanceId,Wr,ft.ID)),tr&&qr&&I.collisionIndex.insertCollisionBox(qr.box,oe.get("icon-ignore-placement"),te.bucketInstanceId,ii,ft.ID),Lr&&(Er&&I.collisionIndex.insertCollisionCircles(Lr.circles,oe.get("text-ignore-placement"),te.bucketInstanceId,Wr,ft.ID),W)){var pu=te.bucketInstanceId,Wl=I.collisionCircleArrays[pu];Wl===void 0&&(Wl=I.collisionCircleArrays[pu]=new Cn);for(var cs=0;cs<Lr.circles.length;cs+=4)Wl.circles.push(Lr.circles[cs+0]),Wl.circles.push(Lr.circles[cs+1]),Wl.circles.push(Lr.circles[cs+2]),Wl.circles.push(Lr.collisionDetected?1:0)}I.placements[Yn.crossTileID]=new rn(Er||Vt,tr||pn,sr||te.justReloaded),$[Yn.crossTileID]=!0}};if(Gt)for(var Sn=te.getSortedSymbolIndexes(this.transform.angle),Pn=Sn.length-1;Pn>=0;--Pn){var Vn=Sn[Pn];yn(te.symbolInstances.get(Vn),te.collisionArrays[Vn])}else for(var ir=U.symbolInstanceStart;ir<U.symbolInstanceEnd;ir++)yn(te.symbolInstances.get(ir),te.collisionArrays[ir]);if(W&&te.bucketInstanceId in this.collisionCircleArrays){var ur=this.collisionCircleArrays[te.bucketInstanceId];n.invert(ur.invProjMatrix,he),ur.viewportMatrix=this.collisionIndex.getViewportMatrix()}te.justReloaded=!1},Zn.prototype.markUsedJustification=function(U,$,W,I){var G,te={left:W.leftJustifiedTextSymbolIndex,center:W.centerJustifiedTextSymbolIndex,right:W.rightJustifiedTextSymbolIndex};G=I===n.WritingMode.vertical?W.verticalPlacedTextSymbolIndex:te[n.getAnchorJustification($)];for(var oe=0,he=[W.leftJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.rightJustifiedTextSymbolIndex,W.verticalPlacedTextSymbolIndex];oe<he.length;oe+=1){var we=he[oe];we>=0&&(U.text.placedSymbolArray.get(we).crossTileID=G>=0&&we!==G?0:W.crossTileID)}},Zn.prototype.markUsedOrientation=function(U,$,W){for(var I=$===n.WritingMode.horizontal||$===n.WritingMode.horizontalOnly?$:0,G=$===n.WritingMode.vertical?$:0,te=0,oe=[W.leftJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.rightJustifiedTextSymbolIndex];te<oe.length;te+=1){var he=oe[te];U.text.placedSymbolArray.get(he).placedOrientation=I}W.verticalPlacedTextSymbolIndex&&(U.text.placedSymbolArray.get(W.verticalPlacedTextSymbolIndex).placedOrientation=G)},Zn.prototype.commit=function(U){this.commitTime=U,this.zoomAtLastRecencyCheck=this.transform.zoom;var $=this.prevPlacement,W=!1;this.prevZoomAdjustment=$?$.zoomAdjustment(this.transform.zoom):0;var I=$?$.symbolFadeChange(U):1,G=$?$.opacities:{},te=$?$.variableOffsets:{},oe=$?$.placedOrientations:{};for(var he in this.placements){var we=this.placements[he],Oe=G[he];Oe?(this.opacities[he]=new en(Oe,I,we.text,we.icon),W=W||we.text!==Oe.text.placed||we.icon!==Oe.icon.placed):(this.opacities[he]=new en(null,I,we.text,we.icon,we.skipFade),W=W||we.text||we.icon)}for(var ze in G){var qe=G[ze];if(!this.opacities[ze]){var We=new en(qe,I,!1,!1);We.isHidden()||(this.opacities[ze]=We,W=W||qe.text.placed||qe.icon.placed)}}for(var rt in te)this.variableOffsets[rt]||!this.opacities[rt]||this.opacities[rt].isHidden()||(this.variableOffsets[rt]=te[rt]);for(var ft in oe)this.placedOrientations[ft]||!this.opacities[ft]||this.opacities[ft].isHidden()||(this.placedOrientations[ft]=oe[ft]);W?this.lastPlacementChangeTime=U:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=$?$.lastPlacementChangeTime:U)},Zn.prototype.updateLayerOpacities=function(U,$){for(var W={},I=0,G=$;I<G.length;I+=1){var te=G[I],oe=te.getBucket(U);oe&&te.latestFeatureIndex&&U.id===oe.layerIds[0]&&this.updateBucketOpacities(oe,W,te.collisionBoxArray)}},Zn.prototype.updateBucketOpacities=function(U,$,W){var I=this;U.hasTextData()&&U.text.opacityVertexArray.clear(),U.hasIconData()&&U.icon.opacityVertexArray.clear(),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexArray.clear(),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexArray.clear();var G=U.layers[0].layout,te=new en(null,0,!1,!1,!0),oe=G.get("text-allow-overlap"),he=G.get("icon-allow-overlap"),we=G.get("text-variable-anchor"),Oe=G.get("text-rotation-alignment")==="map",ze=G.get("text-pitch-alignment")==="map",qe=G.get("icon-text-fit")!=="none",We=new en(null,0,oe&&(he||!U.hasIconData()||G.get("icon-optional")),he&&(oe||!U.hasTextData()||G.get("text-optional")),!0);!U.collisionArrays&&W&&(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData())&&U.deserializeCollisionBoxes(W);for(var rt=function(Ct,Mt,zt){for(var It=0;It<Mt/4;It++)Ct.opacityVertexArray.emplaceBack(zt)},ft=function(Ct){var Mt=U.symbolInstances.get(Ct),zt=Mt.numHorizontalGlyphVertices,It=Mt.numVerticalGlyphVertices,Xt=Mt.crossTileID,Gt=$[Xt],Vt=I.opacities[Xt];Gt?Vt=te:Vt||(Vt=We,I.opacities[Xt]=Vt),$[Xt]=!0;var pn=zt>0||It>0,yn=Mt.numIconVertices>0,Sn=I.placedOrientations[Mt.crossTileID],Pn=Sn===n.WritingMode.vertical,Vn=Sn===n.WritingMode.horizontal||Sn===n.WritingMode.horizontalOnly;if(pn){var ir=xn(Vt.text),ur=Pn?sn:ir;rt(U.text,zt,ur);var Yn=Vn?sn:ir;rt(U.text,It,Yn);var lr=Vt.text.isHidden();[Mt.rightJustifiedTextSymbolIndex,Mt.centerJustifiedTextSymbolIndex,Mt.leftJustifiedTextSymbolIndex].forEach(function(ii){ii>=0&&(U.text.placedSymbolArray.get(ii).hidden=lr||Pn?1:0)}),Mt.verticalPlacedTextSymbolIndex>=0&&(U.text.placedSymbolArray.get(Mt.verticalPlacedTextSymbolIndex).hidden=lr||Vn?1:0);var xr=I.variableOffsets[Mt.crossTileID];xr&&I.markUsedJustification(U,xr.anchor,Mt,Sn);var Er=I.placedOrientations[Mt.crossTileID];Er&&(I.markUsedJustification(U,"left",Mt,Er),I.markUsedOrientation(U,Er,Mt))}if(yn){var tr=xn(Vt.icon),sr=!(qe&&Mt.verticalPlacedIconSymbolIndex&&Pn);if(Mt.placedIconSymbolIndex>=0){var wr=sr?tr:sn;rt(U.icon,Mt.numIconVertices,wr),U.icon.placedSymbolArray.get(Mt.placedIconSymbolIndex).hidden=Vt.icon.isHidden()}if(Mt.verticalPlacedIconSymbolIndex>=0){var cr=sr?sn:tr;rt(U.icon,Mt.numVerticalIconVertices,cr),U.icon.placedSymbolArray.get(Mt.verticalPlacedIconSymbolIndex).hidden=Vt.icon.isHidden()}}if(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData()){var Ar=U.collisionArrays[Ct];if(Ar){var Lr=new n.Point(0,0);if(Ar.textBox||Ar.verticalTextBox){var qr=!0;if(we){var Wr=I.variableOffsets[Xt];Wr?(Lr=Hn(Wr.anchor,Wr.width,Wr.height,Wr.textOffset,Wr.textBoxScale),Oe&&Lr._rotate(ze?I.transform.angle:-I.transform.angle)):qr=!1}Ar.textBox&&pr(U.textCollisionBox.collisionVertexArray,Vt.text.placed,!qr||Pn,Lr.x,Lr.y),Ar.verticalTextBox&&pr(U.textCollisionBox.collisionVertexArray,Vt.text.placed,!qr||Vn,Lr.x,Lr.y)}var Kr=!!(!Vn&&Ar.verticalIconBox);Ar.iconBox&&pr(U.iconCollisionBox.collisionVertexArray,Vt.icon.placed,Kr,qe?Lr.x:0,qe?Lr.y:0),Ar.verticalIconBox&&pr(U.iconCollisionBox.collisionVertexArray,Vt.icon.placed,!Kr,qe?Lr.x:0,qe?Lr.y:0)}}},pt=0;pt<U.symbolInstances.length;pt++)ft(pt);if(U.sortFeatures(this.transform.angle),this.retainedQueryData[U.bucketInstanceId]&&(this.retainedQueryData[U.bucketInstanceId].featureSortOrder=U.featureSortOrder),U.hasTextData()&&U.text.opacityVertexBuffer&&U.text.opacityVertexBuffer.updateData(U.text.opacityVertexArray),U.hasIconData()&&U.icon.opacityVertexBuffer&&U.icon.opacityVertexBuffer.updateData(U.icon.opacityVertexArray),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexBuffer&&U.iconCollisionBox.collisionVertexBuffer.updateData(U.iconCollisionBox.collisionVertexArray),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexBuffer&&U.textCollisionBox.collisionVertexBuffer.updateData(U.textCollisionBox.collisionVertexArray),U.bucketInstanceId in this.collisionCircleArrays){var wt=this.collisionCircleArrays[U.bucketInstanceId];U.placementInvProjMatrix=wt.invProjMatrix,U.placementViewportMatrix=wt.viewportMatrix,U.collisionCircleArray=wt.circles,delete this.collisionCircleArrays[U.bucketInstanceId]}},Zn.prototype.symbolFadeChange=function(U){return this.fadeDuration===0?1:(U-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Zn.prototype.zoomAdjustment=function(U){return Math.max(0,(this.transform.zoom-U)/1.5)},Zn.prototype.hasTransitions=function(U){return this.stale||U-this.lastPlacementChangeTime<this.fadeDuration},Zn.prototype.stillRecent=function(U,$){var W=this.zoomAtLastRecencyCheck===$?1-this.zoomAdjustment($):1;return this.zoomAtLastRecencyCheck=$,this.commitTime+this.fadeDuration*W>U},Zn.prototype.setStale=function(){this.stale=!0};var Kt=Math.pow(2,25),vn=Math.pow(2,24),Dt=Math.pow(2,17),Bt=Math.pow(2,16),Jt=Math.pow(2,9),fn=Math.pow(2,8),dn=Math.pow(2,1);function xn(U){if(U.opacity===0&&!U.placed)return 0;if(U.opacity===1&&U.placed)return 4294967295;var $=U.placed?1:0,W=Math.floor(127*U.opacity);return W*Kt+$*vn+W*Dt+$*Bt+W*Jt+$*fn+W*dn+$}var sn=0,Yt=function(U){this._sortAcrossTiles=U.layout.get("symbol-z-order")!=="viewport-y"&&U.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Yt.prototype.continuePlacement=function(U,$,W,I,G){for(var te=this._bucketParts;this._currentTileIndex<U.length;){var oe=U[this._currentTileIndex];if($.getBucketParts(te,I,oe,this._sortAcrossTiles),this._currentTileIndex++,G())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,te.sort(function(we,Oe){return we.sortKey-Oe.sortKey}));this._currentPartIndex<te.length;){var he=te[this._currentPartIndex];if($.placeLayerBucketPart(he,this._seenCrossTileIDs,W),this._currentPartIndex++,G())return!0}return!1};var Wt=function(U,$,W,I,G,te,oe){this.placement=new Zn(U,G,te,oe),this._currentPlacementIndex=$.length-1,this._forceFullPlacement=W,this._showCollisionBoxes=I,this._done=!1};Wt.prototype.isDone=function(){return this._done},Wt.prototype.continuePlacement=function(U,$,W){for(var I=this,G=n.browser.now(),te=function(){var we=n.browser.now()-G;return!I._forceFullPlacement&&we>2};this._currentPlacementIndex>=0;){var oe=$[U[this._currentPlacementIndex]],he=this.placement.collisionIndex.transform.zoom;if(oe.type==="symbol"&&(!oe.minzoom||oe.minzoom<=he)&&(!oe.maxzoom||oe.maxzoom>he)){if(this._inProgressLayer||(this._inProgressLayer=new Yt(oe)),this._inProgressLayer.continuePlacement(W[oe.source],this.placement,this._showCollisionBoxes,oe,te))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Wt.prototype.commit=function(U){return this.placement.commit(U),this.placement};var tn=512/n.EXTENT/2,ln=function(U,$,W){this.tileID=U,this.indexedSymbolInstances={},this.bucketInstanceId=W;for(var I=0;I<$.length;I++){var G=$.get(I),te=G.key;this.indexedSymbolInstances[te]||(this.indexedSymbolInstances[te]=[]),this.indexedSymbolInstances[te].push({crossTileID:G.crossTileID,coord:this.getScaledCoordinates(G,U)})}};ln.prototype.getScaledCoordinates=function(U,$){var W=$.canonical.z-this.tileID.canonical.z,I=tn/Math.pow(2,W);return{x:Math.floor(($.canonical.x*n.EXTENT+U.anchorX)*I),y:Math.floor(($.canonical.y*n.EXTENT+U.anchorY)*I)}},ln.prototype.findMatches=function(U,$,W){for(var I=this.tileID.canonical.z<$.canonical.z?1:Math.pow(2,this.tileID.canonical.z-$.canonical.z),G=0;G<U.length;G++){var te=U.get(G);if(!te.crossTileID){var oe=this.indexedSymbolInstances[te.key];if(oe)for(var he=this.getScaledCoordinates(te,$),we=0,Oe=oe;we<Oe.length;we+=1){var ze=Oe[we];if(Math.abs(ze.coord.x-he.x)<=I&&Math.abs(ze.coord.y-he.y)<=I&&!W[ze.crossTileID]){W[ze.crossTileID]=!0,te.crossTileID=ze.crossTileID;break}}}}};var An=function(){this.maxCrossTileID=0};An.prototype.generate=function(){return++this.maxCrossTileID};var In=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};In.prototype.handleWrapJump=function(U){var $=Math.round((U-this.lng)/360);if($!==0)for(var W in this.indexes){var I=this.indexes[W],G={};for(var te in I){var oe=I[te];oe.tileID=oe.tileID.unwrapTo(oe.tileID.wrap+$),G[oe.tileID.key]=oe}this.indexes[W]=G}this.lng=U},In.prototype.addBucket=function(U,$,W){if(this.indexes[U.overscaledZ]&&this.indexes[U.overscaledZ][U.key]){if(this.indexes[U.overscaledZ][U.key].bucketInstanceId===$.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(U.overscaledZ,this.indexes[U.overscaledZ][U.key])}for(var I=0;I<$.symbolInstances.length;I++)$.symbolInstances.get(I).crossTileID=0;this.usedCrossTileIDs[U.overscaledZ]||(this.usedCrossTileIDs[U.overscaledZ]={});var G=this.usedCrossTileIDs[U.overscaledZ];for(var te in this.indexes){var oe=this.indexes[te];if(Number(te)>U.overscaledZ)for(var he in oe){var we=oe[he];we.tileID.isChildOf(U)&&we.findMatches($.symbolInstances,U,G)}else{var Oe=oe[U.scaledTo(Number(te)).key];Oe&&Oe.findMatches($.symbolInstances,U,G)}}for(var ze=0;ze<$.symbolInstances.length;ze++){var qe=$.symbolInstances.get(ze);qe.crossTileID||(qe.crossTileID=W.generate(),G[qe.crossTileID]=!0)}return this.indexes[U.overscaledZ]===void 0&&(this.indexes[U.overscaledZ]={}),this.indexes[U.overscaledZ][U.key]=new ln(U,$.symbolInstances,$.bucketInstanceId),!0},In.prototype.removeBucketCrossTileIDs=function(U,$){for(var W in $.indexedSymbolInstances)for(var I=0,G=$.indexedSymbolInstances[W];I<G.length;I+=1){var te=G[I];delete this.usedCrossTileIDs[U][te.crossTileID]}},In.prototype.removeStaleBuckets=function(U){var $=!1;for(var W in this.indexes){var I=this.indexes[W];for(var G in I)U[I[G].bucketInstanceId]||(this.removeBucketCrossTileIDs(W,I[G]),delete I[G],$=!0)}return $};var Nn=function(){this.layerIndexes={},this.crossTileIDs=new An,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Nn.prototype.addLayer=function(U,$,W){var I=this.layerIndexes[U.id];I===void 0&&(I=this.layerIndexes[U.id]=new In);var G=!1,te={};I.handleWrapJump(W);for(var oe=0,he=$;oe<he.length;oe+=1){var we=he[oe],Oe=we.getBucket(U);Oe&&U.id===Oe.layerIds[0]&&(Oe.bucketInstanceId||(Oe.bucketInstanceId=++this.maxBucketInstanceId),I.addBucket(we.tileID,Oe,this.crossTileIDs)&&(G=!0),te[Oe.bucketInstanceId]=!0)}return I.removeStaleBuckets(te)&&(G=!0),G},Nn.prototype.pruneUnusedLayers=function(U){var $={};for(var W in U.forEach(function(I){$[I]=!0}),this.layerIndexes)$[W]||delete this.layerIndexes[W]};var jn=function(U,$){return n.emitValidationErrors(U,$&&$.filter(function(W){return W.identifier!=="source.canvas"}))},er=n.pick(bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Wn=n.pick(bt,["setCenter","setZoom","setBearing","setPitch"]),Jn=function(){var U={},$=n.styleSpec.$version;for(var W in n.styleSpec.$root){var I=n.styleSpec.$root[W];if(I.required){var G;(G=W==="version"?$:I.type==="array"?[]:{})!=null&&(U[W]=G)}}return U}(),rr=function(U){function $(W,I){var G=this;I===void 0&&(I={}),U.call(this),this.map=W,this.dispatcher=new O(yt(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new _(W._requestManager,I.localIdeographFontFamily),this.lineAtlas=new D(256,512),this.crossTileSymbolIndex=new Nn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var te=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function(oe){var he={pluginStatus:oe.pluginStatus,pluginURL:oe.pluginURL};te.dispatcher.broadcast("syncRTLPluginState",he,function(we,Oe){if(n.triggerPluginCompletionEvent(we),Oe&&Oe.every(function(qe){return qe}))for(var ze in te.sourceCaches)te.sourceCaches[ze].reload()})}),this.on("data",function(oe){if(oe.dataType==="source"&&oe.sourceDataType==="metadata"){var he=G.sourceCaches[oe.sourceId];if(he){var we=he.getSource();if(we&&we.vectorLayerIds)for(var Oe in G._layers){var ze=G._layers[Oe];ze.source===we.id&&G._validateLayer(ze)}}}})}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.loadURL=function(W,I){var G=this;I===void 0&&(I={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var te=typeof I.validate=="boolean"?I.validate:!n.isMapboxURL(W);W=this.map._requestManager.normalizeStyleURL(W,I.accessToken);var oe=this.map._requestManager.transformRequest(W,n.ResourceType.Style);this._request=n.getJSON(oe,function(he,we){G._request=null,he?G.fire(new n.ErrorEvent(he)):we&&G._load(we,te)})},$.prototype.loadJSON=function(W,I){var G=this;I===void 0&&(I={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){G._request=null,G._load(W,I.validate!==!1)})},$.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Jn,!1)},$.prototype._load=function(W,I){if(!I||!jn(this,n.validateStyle(W))){for(var G in this._loaded=!0,this.stylesheet=W,W.sources)this.addSource(G,W.sources[G],{validate:!1});W.sprite?this._loadSprite(W.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(W.glyphs);var te=kt(this.stylesheet.layers);this._order=te.map(function(Oe){return Oe.id}),this._layers={},this._serializedLayers={};for(var oe=0,he=te;oe<he.length;oe+=1){var we=he[oe];(we=n.createStyleLayer(we)).setEventedParent(this,{layer:{id:we.id}}),this._layers[we.id]=we,this._serializedLayers[we.id]=we.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},$.prototype._loadSprite=function(W){var I=this;this._spriteRequest=function(G,te,oe){var he,we,Oe,ze=n.browser.devicePixelRatio>1?"@2x":"",qe=n.getJSON(te.transformRequest(te.normalizeSpriteURL(G,ze,".json"),n.ResourceType.SpriteJSON),function(ft,pt){qe=null,Oe||(Oe=ft,he=pt,rt())}),We=n.getImage(te.transformRequest(te.normalizeSpriteURL(G,ze,".png"),n.ResourceType.SpriteImage),function(ft,pt){We=null,Oe||(Oe=ft,we=pt,rt())});function rt(){if(Oe)oe(Oe);else if(he&&we){var ft=n.browser.getImageData(we),pt={};for(var wt in he){var Ct=he[wt],Mt=Ct.width,zt=Ct.height,It=Ct.x,Xt=Ct.y,Gt=Ct.sdf,Vt=Ct.pixelRatio,pn=Ct.stretchX,yn=Ct.stretchY,Sn=Ct.content,Pn=new n.RGBAImage({width:Mt,height:zt});n.RGBAImage.copy(ft,Pn,{x:It,y:Xt},{x:0,y:0},{width:Mt,height:zt}),pt[wt]={data:Pn,pixelRatio:Vt,sdf:Gt,stretchX:pn,stretchY:yn,content:Sn}}oe(null,pt)}}return{cancel:function(){qe&&(qe.cancel(),qe=null),We&&(We.cancel(),We=null)}}}(W,this.map._requestManager,function(G,te){if(I._spriteRequest=null,G)I.fire(new n.ErrorEvent(G));else if(te)for(var oe in te)I.imageManager.addImage(oe,te[oe]);I.imageManager.setLoaded(!0),I._availableImages=I.imageManager.listImages(),I.dispatcher.broadcast("setImages",I._availableImages),I.fire(new n.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(W){var I=this.sourceCaches[W.source];if(I){var G=W.sourceLayer;if(G){var te=I.getSource();(te.type==="geojson"||te.vectorLayerIds&&te.vectorLayerIds.indexOf(G)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+G+'" does not exist on source "'+te.id+'" as specified by style layer "'+W.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var W in this.sourceCaches)if(!this.sourceCaches[W].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(W){for(var I=[],G=0,te=W;G<te.length;G+=1){var oe=te[G],he=this._layers[oe];he.type!=="custom"&&I.push(he.serialize())}return I},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var W in this.sourceCaches)if(this.sourceCaches[W].hasTransition())return!0;for(var I in this._layers)if(this._layers[I].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(W){if(this._loaded){var I=this._changed;if(this._changed){var G=Object.keys(this._updatedLayers),te=Object.keys(this._removedLayers);for(var oe in(G.length||te.length)&&this._updateWorkerLayers(G,te),this._updatedSources){var he=this._updatedSources[oe];he==="reload"?this._reloadSource(oe):he==="clear"&&this._clearSource(oe)}for(var we in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[we].updateTransitions(W);this.light.updateTransitions(W),this._resetUpdates()}var Oe={};for(var ze in this.sourceCaches){var qe=this.sourceCaches[ze];Oe[ze]=qe.used,qe.used=!1}for(var We=0,rt=this._order;We<rt.length;We+=1){var ft=rt[We],pt=this._layers[ft];pt.recalculate(W,this._availableImages),!pt.isHidden(W.zoom)&&pt.source&&(this.sourceCaches[pt.source].used=!0)}for(var wt in Oe){var Ct=this.sourceCaches[wt];Oe[wt]!==Ct.used&&Ct.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:wt}))}this.light.recalculate(W),this.z=W.zoom,I&&this.fire(new n.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var W=Object.keys(this._changedImages);if(W.length){for(var I in this.sourceCaches)this.sourceCaches[I].reloadTilesForDependencies(["icons","patterns"],W);this._changedImages={}}},$.prototype._updateWorkerLayers=function(W,I){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(W),removedIds:I})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(W){var I=this;if(this._checkLoaded(),jn(this,n.validateStyle(W)))return!1;(W=n.clone$1(W)).layers=kt(W.layers);var G=Zt(this.serialize(),W).filter(function(oe){return!(oe.command in Wn)});if(G.length===0)return!1;var te=G.filter(function(oe){return!(oe.command in er)});if(te.length>0)throw new Error("Unimplemented: "+te.map(function(oe){return oe.command}).join(", ")+".");return G.forEach(function(oe){oe.command!=="setTransition"&&I[oe.command].apply(I,oe.args)}),this.stylesheet=W,!0},$.prototype.addImage=function(W,I){if(this.getImage(W))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(W,I),this._afterImageUpdated(W)},$.prototype.updateImage=function(W,I){this.imageManager.updateImage(W,I)},$.prototype.getImage=function(W){return this.imageManager.getImage(W)},$.prototype.removeImage=function(W){if(!this.getImage(W))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(W),this._afterImageUpdated(W)},$.prototype._afterImageUpdated=function(W){this._availableImages=this.imageManager.listImages(),this._changedImages[W]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(W,I,G){var te=this;if(G===void 0&&(G={}),this._checkLoaded(),this.sourceCaches[W]!==void 0)throw new Error("There is already a source with this ID");if(!I.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(I).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(I.type)>=0&&this._validate(n.validateStyle.source,"sources."+W,I,null,G))){this.map&&this.map._collectResourceTiming&&(I.collectResourceTiming=!0);var oe=this.sourceCaches[W]=new lt(W,I,this.dispatcher);oe.style=this,oe.setEventedParent(this,function(){return{isSourceLoaded:te.loaded(),source:oe.serialize(),sourceId:W}}),oe.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(W){if(this._checkLoaded(),this.sourceCaches[W]===void 0)throw new Error("There is no source with this ID");for(var I in this._layers)if(this._layers[I].source===W)return this.fire(new n.ErrorEvent(new Error('Source "'+W+'" cannot be removed while layer "'+I+'" is using it.')));var G=this.sourceCaches[W];delete this.sourceCaches[W],delete this._updatedSources[W],G.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:W})),G.setEventedParent(null),G.clearTiles(),G.onRemove&&G.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(W,I){this._checkLoaded(),this.sourceCaches[W].getSource().setData(I),this._changed=!0},$.prototype.getSource=function(W){return this.sourceCaches[W]&&this.sourceCaches[W].getSource()},$.prototype.addLayer=function(W,I,G){G===void 0&&(G={}),this._checkLoaded();var te=W.id;if(this.getLayer(te))this.fire(new n.ErrorEvent(new Error('Layer with id "'+te+'" already exists on this map')));else{var oe;if(W.type==="custom"){if(jn(this,n.validateCustomStyleLayer(W)))return;oe=n.createStyleLayer(W)}else{if(typeof W.source=="object"&&(this.addSource(te,W.source),W=n.clone$1(W),W=n.extend(W,{source:te})),this._validate(n.validateStyle.layer,"layers."+te,W,{arrayIndex:-1},G))return;oe=n.createStyleLayer(W),this._validateLayer(oe),oe.setEventedParent(this,{layer:{id:te}}),this._serializedLayers[oe.id]=oe.serialize()}var he=I?this._order.indexOf(I):this._order.length;if(I&&he===-1)this.fire(new n.ErrorEvent(new Error('Layer with id "'+I+'" does not exist on this map.')));else{if(this._order.splice(he,0,te),this._layerOrderChanged=!0,this._layers[te]=oe,this._removedLayers[te]&&oe.source&&oe.type!=="custom"){var we=this._removedLayers[te];delete this._removedLayers[te],we.type!==oe.type?this._updatedSources[oe.source]="clear":(this._updatedSources[oe.source]="reload",this.sourceCaches[oe.source].pause())}this._updateLayer(oe),oe.onAdd&&oe.onAdd(this.map)}}},$.prototype.moveLayer=function(W,I){if(this._checkLoaded(),this._changed=!0,this._layers[W]){if(W!==I){var G=this._order.indexOf(W);this._order.splice(G,1);var te=I?this._order.indexOf(I):this._order.length;I&&te===-1?this.fire(new n.ErrorEvent(new Error('Layer with id "'+I+'" does not exist on this map.'))):(this._order.splice(te,0,W),this._layerOrderChanged=!0)}}else this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be moved.")))},$.prototype.removeLayer=function(W){this._checkLoaded();var I=this._layers[W];if(I){I.setEventedParent(null);var G=this._order.indexOf(W);this._order.splice(G,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[W]=I,delete this._layers[W],delete this._serializedLayers[W],delete this._updatedLayers[W],delete this._updatedPaintProps[W],I.onRemove&&I.onRemove(this.map)}else this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be removed.")))},$.prototype.getLayer=function(W){return this._layers[W]},$.prototype.hasLayer=function(W){return W in this._layers},$.prototype.setLayerZoomRange=function(W,I,G){this._checkLoaded();var te=this.getLayer(W);te?te.minzoom===I&&te.maxzoom===G||(I!=null&&(te.minzoom=I),G!=null&&(te.maxzoom=G),this._updateLayer(te)):this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot have zoom extent.")))},$.prototype.setFilter=function(W,I,G){G===void 0&&(G={}),this._checkLoaded();var te=this.getLayer(W);if(te){if(!n.deepEqual(te.filter,I))return I==null?(te.filter=void 0,void this._updateLayer(te)):void(this._validate(n.validateStyle.filter,"layers."+te.id+".filter",I,null,G)||(te.filter=n.clone$1(I),this._updateLayer(te)))}else this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be filtered.")))},$.prototype.getFilter=function(W){return n.clone$1(this.getLayer(W).filter)},$.prototype.setLayoutProperty=function(W,I,G,te){te===void 0&&(te={}),this._checkLoaded();var oe=this.getLayer(W);oe?n.deepEqual(oe.getLayoutProperty(I),G)||(oe.setLayoutProperty(I,G,te),this._updateLayer(oe)):this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getLayoutProperty=function(W,I){var G=this.getLayer(W);if(G)return G.getLayoutProperty(I);this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style.")))},$.prototype.setPaintProperty=function(W,I,G,te){te===void 0&&(te={}),this._checkLoaded();var oe=this.getLayer(W);oe?n.deepEqual(oe.getPaintProperty(I),G)||(oe.setPaintProperty(I,G,te)&&this._updateLayer(oe),this._changed=!0,this._updatedPaintProps[W]=!0):this.fire(new n.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be styled.")))},$.prototype.getPaintProperty=function(W,I){return this.getLayer(W).getPaintProperty(I)},$.prototype.setFeatureState=function(W,I){this._checkLoaded();var G=W.source,te=W.sourceLayer,oe=this.sourceCaches[G];if(oe!==void 0){var he=oe.getSource().type;he==="geojson"&&te?this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):he!=="vector"||te?(W.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),oe.setFeatureState(te,W.id,I)):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+G+"' does not exist in the map's style.")))},$.prototype.removeFeatureState=function(W,I){this._checkLoaded();var G=W.source,te=this.sourceCaches[G];if(te!==void 0){var oe=te.getSource().type,he=oe==="vector"?W.sourceLayer:void 0;oe!=="vector"||he?I&&typeof W.id!="string"&&typeof W.id!="number"?this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):te.removeFeatureState(he,W.id,I):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+G+"' does not exist in the map's style.")))},$.prototype.getFeatureState=function(W){this._checkLoaded();var I=W.source,G=W.sourceLayer,te=this.sourceCaches[I];if(te!==void 0){if(te.getSource().type!=="vector"||G)return W.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),te.getFeatureState(G,W.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+I+"' does not exist in the map's style.")))},$.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(W){return W.serialize()}),layers:this._serializeLayers(this._order)},function(W){return W!==void 0})},$.prototype._updateLayer=function(W){this._updatedLayers[W.id]=!0,W.source&&!this._updatedSources[W.source]&&this.sourceCaches[W.source].getSource().type!=="raster"&&(this._updatedSources[W.source]="reload",this.sourceCaches[W.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(W){for(var I=this,G=function(Sn){return I._layers[Sn].type==="fill-extrusion"},te={},oe=[],he=this._order.length-1;he>=0;he--){var we=this._order[he];if(G(we)){te[we]=he;for(var Oe=0,ze=W;Oe<ze.length;Oe+=1){var qe=ze[Oe][we];if(qe)for(var We=0,rt=qe;We<rt.length;We+=1){var ft=rt[We];oe.push(ft)}}}}oe.sort(function(Sn,Pn){return Pn.intersectionZ-Sn.intersectionZ});for(var pt=[],wt=this._order.length-1;wt>=0;wt--){var Ct=this._order[wt];if(G(Ct))for(var Mt=oe.length-1;Mt>=0;Mt--){var zt=oe[Mt].feature;if(te[zt.layer.id]<wt)break;pt.push(zt),oe.pop()}else for(var It=0,Xt=W;It<Xt.length;It+=1){var Gt=Xt[It][Ct];if(Gt)for(var Vt=0,pn=Gt;Vt<pn.length;Vt+=1){var yn=pn[Vt];pt.push(yn.feature)}}}return pt},$.prototype.queryRenderedFeatures=function(W,I,G){I&&I.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",I.filter,null,I);var te={};if(I&&I.layers){if(!Array.isArray(I.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var oe=0,he=I.layers;oe<he.length;oe+=1){var we=he[oe],Oe=this._layers[we];if(!Oe)return this.fire(new n.ErrorEvent(new Error("The layer '"+we+"' does not exist in the map's style and cannot be queried for features."))),[];te[Oe.source]=!0}}var ze=[];for(var qe in I.availableImages=this._availableImages,this.sourceCaches)I.layers&&!te[qe]||ze.push(ne(this.sourceCaches[qe],this._layers,this._serializedLayers,W,I,G));return this.placement&&ze.push(function(We,rt,ft,pt,wt,Ct,Mt){for(var zt={},It=Ct.queryRenderedSymbols(pt),Xt=[],Gt=0,Vt=Object.keys(It).map(Number);Gt<Vt.length;Gt+=1){var pn=Vt[Gt];Xt.push(Mt[pn])}Xt.sort(ee);for(var yn=function(){var ur=Pn[Sn],Yn=ur.featureIndex.lookupSymbolFeatures(It[ur.bucketInstanceId],rt,ur.bucketIndex,ur.sourceLayerIndex,wt.filter,wt.layers,wt.availableImages,We);for(var lr in Yn){var xr=zt[lr]=zt[lr]||[],Er=Yn[lr];Er.sort(function(cr,Ar){var Lr=ur.featureSortOrder;if(Lr){var qr=Lr.indexOf(cr.featureIndex);return Lr.indexOf(Ar.featureIndex)-qr}return Ar.featureIndex-cr.featureIndex});for(var tr=0,sr=Er;tr<sr.length;tr+=1){var wr=sr[tr];xr.push(wr)}}},Sn=0,Pn=Xt;Sn<Pn.length;Sn+=1)yn();var Vn=function(ur){zt[ur].forEach(function(Yn){var lr=Yn.feature,xr=We[ur],Er=ft[xr.source].getFeatureState(lr.layer["source-layer"],lr.id);lr.source=lr.layer.source,lr.layer["source-layer"]&&(lr.sourceLayer=lr.layer["source-layer"]),lr.state=Er})};for(var ir in zt)Vn(ir);return zt}(this._layers,this._serializedLayers,this.sourceCaches,W,I,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(ze)},$.prototype.querySourceFeatures=function(W,I){I&&I.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",I.filter,null,I);var G=this.sourceCaches[W];return G?function(te,oe){for(var he=te.getRenderableIds().map(function(rt){return te.getTileByID(rt)}),we=[],Oe={},ze=0;ze<he.length;ze++){var qe=he[ze],We=qe.tileID.canonical.key;Oe[We]||(Oe[We]=!0,qe.querySourceFeatures(we,oe))}return we}(G,I):[]},$.prototype.addSourceType=function(W,I,G){return $.getSourceType(W)?G(new Error('A source type called "'+W+'" already exists.')):($.setSourceType(W,I),I.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:W,url:I.workerSourceURL},G):G(null,null))},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(W,I){I===void 0&&(I={}),this._checkLoaded();var G=this.light.getLight(),te=!1;for(var oe in W)if(!n.deepEqual(W[oe],G[oe])){te=!0;break}if(te){var he={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(W,I),this.light.updateTransitions(he)}},$.prototype._validate=function(W,I,G,te,oe){return oe===void 0&&(oe={}),(!oe||oe.validate!==!1)&&jn(this,W.call(n.validateStyle,n.extend({key:I,style:this.serialize(),value:G,styleSpec:n.styleSpec},te)))},$.prototype._remove=function(){for(var W in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[W].setEventedParent(null);for(var I in this.sourceCaches)this.sourceCaches[I].clearTiles(),this.sourceCaches[I].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(W){this.sourceCaches[W].clearTiles()},$.prototype._reloadSource=function(W){this.sourceCaches[W].resume(),this.sourceCaches[W].reload()},$.prototype._updateSources=function(W){for(var I in this.sourceCaches)this.sourceCaches[I].update(W)},$.prototype._generateCollisionBoxes=function(){for(var W in this.sourceCaches)this._reloadSource(W)},$.prototype._updatePlacement=function(W,I,G,te,oe){oe===void 0&&(oe=!1);for(var he=!1,we=!1,Oe={},ze=0,qe=this._order;ze<qe.length;ze+=1){var We=qe[ze],rt=this._layers[We];if(rt.type==="symbol"){if(!Oe[rt.source]){var ft=this.sourceCaches[rt.source];Oe[rt.source]=ft.getRenderableIds(!0).map(function(It){return ft.getTileByID(It)}).sort(function(It,Xt){return Xt.tileID.overscaledZ-It.tileID.overscaledZ||(It.tileID.isLessThan(Xt.tileID)?-1:1)})}var pt=this.crossTileSymbolIndex.addLayer(rt,Oe[rt.source],W.center.lng);he=he||pt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((oe=oe||this._layerOrderChanged||G===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),W.zoom))&&(this.pauseablePlacement=new Wt(W,this._order,oe,I,G,te,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),we=!0),he&&this.pauseablePlacement.placement.setStale()),we||he)for(var wt=0,Ct=this._order;wt<Ct.length;wt+=1){var Mt=Ct[wt],zt=this._layers[Mt];zt.type==="symbol"&&this.placement.updateLayerOpacities(zt,Oe[zt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now())},$.prototype._releaseSymbolFadeTiles=function(){for(var W in this.sourceCaches)this.sourceCaches[W].releaseSymbolFadeTiles()},$.prototype.getImages=function(W,I,G){this.imageManager.getImages(I.icons,G),this._updateTilesForChangedImages();var te=this.sourceCaches[I.source];te&&te.setDependencies(I.tileID.key,I.type,I.icons)},$.prototype.getGlyphs=function(W,I,G){this.glyphManager.getGlyphs(I.stacks,G)},$.prototype.getResource=function(W,I,G){return n.makeRequest(I,G)},$}(n.Evented);rr.getSourceType=function(U){return ie[U]},rr.setSourceType=function(U,$){ie[U]=$},rr.registerForPluginStateChange=n.registerForPluginStateChange;var Qn=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),hr=wi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),br=wi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),gr=wi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),ar=wi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),mr=wi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),kr=wi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Rr=wi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Si=wi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ei=wi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),io=wi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Ai=wi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Vi=wi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),zo=wi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Nr=wi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),co=wi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),ua=wi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),ao=wi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),es=wi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ms=wi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Ao=wi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Ba=wi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),ja=wi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),vs=wi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),ca=wi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),_a=wi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),wa=wi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function wi(U,$){var W=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,I=$.match(/attribute ([\w]+) ([\w]+)/g),G=U.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),te=$.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),oe=te?te.concat(G):G,he={};return{fragmentSource:U=U.replace(W,function(we,Oe,ze,qe,We){return he[We]=!0,Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+We+`
varying `+ze+" "+qe+" "+We+`;
#else
uniform `+ze+" "+qe+" u_"+We+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+We+`
    `+ze+" "+qe+" "+We+" = u_"+We+`;
#endif
`}),vertexSource:$=$.replace(W,function(we,Oe,ze,qe,We){var rt=qe==="float"?"vec2":"vec4",ft=We.match(/color/)?"color":rt;return he[We]?Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+We+`
uniform lowp float u_`+We+`_t;
attribute `+ze+" "+rt+" a_"+We+`;
varying `+ze+" "+qe+" "+We+`;
#else
uniform `+ze+" "+qe+" u_"+We+`;
#endif
`:ft==="vec4"?`
#ifndef HAS_UNIFORM_u_`+We+`
    `+We+" = a_"+We+`;
#else
    `+ze+" "+qe+" "+We+" = u_"+We+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+We+`
    `+We+" = unpack_mix_"+ft+"(a_"+We+", u_"+We+`_t);
#else
    `+ze+" "+qe+" "+We+" = u_"+We+`;
#endif
`:Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+We+`
uniform lowp float u_`+We+`_t;
attribute `+ze+" "+rt+" a_"+We+`;
#else
uniform `+ze+" "+qe+" u_"+We+`;
#endif
`:ft==="vec4"?`
#ifndef HAS_UNIFORM_u_`+We+`
    `+ze+" "+qe+" "+We+" = a_"+We+`;
#else
    `+ze+" "+qe+" "+We+" = u_"+We+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+We+`
    `+ze+" "+qe+" "+We+" = unpack_mix_"+ft+"(a_"+We+", u_"+We+`_t);
#else
    `+ze+" "+qe+" "+We+" = u_"+We+`;
#endif
`}),staticAttributes:I,staticUniforms:oe}}var fo=Object.freeze({__proto__:null,prelude:hr,background:br,backgroundPattern:gr,circle:ar,clippingMask:mr,heatmap:kr,heatmapTexture:Rr,collisionBox:Si,collisionCircle:Ei,debug:io,fill:Ai,fillOutline:Vi,fillOutlinePattern:zo,fillPattern:Nr,fillExtrusion:co,fillExtrusionPattern:ua,hillshadePrepare:ao,hillshade:es,line:ms,lineGradient:Ao,linePattern:Ba,lineSDF:ja,raster:vs,symbolIcon:ca,symbolSDF:_a,symbolTextAndIcon:wa}),ts=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ua(U){for(var $=[],W=0;W<U.length;W++)if(U[W]!==null){var I=U[W].split(" ");$.push(I.pop())}return $}ts.prototype.bind=function(U,$,W,I,G,te,oe,he){this.context=U;for(var we=this.boundPaintVertexBuffers.length!==I.length,Oe=0;!we&&Oe<I.length;Oe++)this.boundPaintVertexBuffers[Oe]!==I[Oe]&&(we=!0);var ze=!this.vao||this.boundProgram!==$||this.boundLayoutVertexBuffer!==W||we||this.boundIndexBuffer!==G||this.boundVertexOffset!==te||this.boundDynamicVertexBuffer!==oe||this.boundDynamicVertexBuffer2!==he;!U.extVertexArrayObject||ze?this.freshBind($,W,I,G,te,oe,he):(U.bindVertexArrayOES.set(this.vao),oe&&oe.bind(),G&&G.dynamicDraw&&G.bind(),he&&he.bind())},ts.prototype.freshBind=function(U,$,W,I,G,te,oe){var he,we=U.numAttributes,Oe=this.context,ze=Oe.gl;if(Oe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Oe.extVertexArrayObject.createVertexArrayOES(),Oe.bindVertexArrayOES.set(this.vao),he=0,this.boundProgram=U,this.boundLayoutVertexBuffer=$,this.boundPaintVertexBuffers=W,this.boundIndexBuffer=I,this.boundVertexOffset=G,this.boundDynamicVertexBuffer=te,this.boundDynamicVertexBuffer2=oe;else{he=Oe.currentNumAttributes||0;for(var qe=we;qe<he;qe++)ze.disableVertexAttribArray(qe)}$.enableAttributes(ze,U);for(var We=0,rt=W;We<rt.length;We+=1)rt[We].enableAttributes(ze,U);te&&te.enableAttributes(ze,U),oe&&oe.enableAttributes(ze,U),$.bind(),$.setVertexAttribPointers(ze,U,G);for(var ft=0,pt=W;ft<pt.length;ft+=1){var wt=pt[ft];wt.bind(),wt.setVertexAttribPointers(ze,U,G)}te&&(te.bind(),te.setVertexAttribPointers(ze,U,G)),I&&I.bind(),oe&&(oe.bind(),oe.setVertexAttribPointers(ze,U,G)),Oe.currentNumAttributes=we},ts.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ta=function(U,$,W,I,G,te){var oe=U.gl;this.program=oe.createProgram();for(var he=Ua(W.staticAttributes),we=I?I.getBinderAttributes():[],Oe=he.concat(we),ze=W.staticUniforms?Ua(W.staticUniforms):[],qe=I?I.getBinderUniforms():[],We=[],rt=0,ft=ze.concat(qe);rt<ft.length;rt+=1){var pt=ft[rt];We.indexOf(pt)<0&&We.push(pt)}var wt=I?I.defines():[];te&&wt.push("#define OVERDRAW_INSPECTOR;");var Ct=wt.concat(hr.fragmentSource,W.fragmentSource).join(`
`),Mt=wt.concat(hr.vertexSource,W.vertexSource).join(`
`),zt=oe.createShader(oe.FRAGMENT_SHADER);if(oe.isContextLost())this.failedToCreate=!0;else{oe.shaderSource(zt,Ct),oe.compileShader(zt),oe.attachShader(this.program,zt);var It=oe.createShader(oe.VERTEX_SHADER);if(oe.isContextLost())this.failedToCreate=!0;else{oe.shaderSource(It,Mt),oe.compileShader(It),oe.attachShader(this.program,It),this.attributes={};var Xt={};this.numAttributes=Oe.length;for(var Gt=0;Gt<this.numAttributes;Gt++)Oe[Gt]&&(oe.bindAttribLocation(this.program,Gt,Oe[Gt]),this.attributes[Oe[Gt]]=Gt);oe.linkProgram(this.program),oe.deleteShader(It),oe.deleteShader(zt);for(var Vt=0;Vt<We.length;Vt++){var pn=We[Vt];if(pn&&!Xt[pn]){var yn=oe.getUniformLocation(this.program,pn);yn&&(Xt[pn]=yn)}}this.fixedUniforms=G(U,Xt),this.binderUniforms=I?I.getUniforms(U,Xt):[]}}};function ys(U,$,W){var I=1/$n(W,1,$.transform.tileZoom),G=Math.pow(2,W.tileID.overscaledZ),te=W.tileSize*Math.pow(2,$.transform.tileZoom)/G,oe=te*(W.tileID.canonical.x+W.tileID.wrap*G),he=te*W.tileID.canonical.y;return{u_image:0,u_texsize:W.imageAtlasTexture.size,u_scale:[I,U.fromScale,U.toScale],u_fade:U.t,u_pixel_coord_upper:[oe>>16,he>>16],u_pixel_coord_lower:[65535&oe,65535&he]}}Ta.prototype.draw=function(U,$,W,I,G,te,oe,he,we,Oe,ze,qe,We,rt,ft,pt){var wt,Ct=U.gl;if(!this.failedToCreate){for(var Mt in U.program.set(this.program),U.setDepthMode(W),U.setStencilMode(I),U.setColorMode(G),U.setCullFace(te),this.fixedUniforms)this.fixedUniforms[Mt].set(oe[Mt]);rt&&rt.setUniforms(U,this.binderUniforms,qe,{zoom:We});for(var zt=(wt={},wt[Ct.LINES]=2,wt[Ct.TRIANGLES]=3,wt[Ct.LINE_STRIP]=1,wt)[$],It=0,Xt=ze.get();It<Xt.length;It+=1){var Gt=Xt[It],Vt=Gt.vaos||(Gt.vaos={});(Vt[he]||(Vt[he]=new ts)).bind(U,this,we,rt?rt.getPaintVertexBuffers():[],Oe,Gt.vertexOffset,ft,pt),Ct.drawElements($,Gt.primitiveLength*zt,Ct.UNSIGNED_SHORT,Gt.primitiveOffset*zt*2)}}};var Va=function(U,$,W,I){var G=$.style.light,te=G.properties.get("position"),oe=[te.x,te.y,te.z],he=n.create$1();G.properties.get("anchor")==="viewport"&&n.fromRotation(he,-$.transform.angle),n.transformMat3(oe,oe,he);var we=G.properties.get("color");return{u_matrix:U,u_lightpos:oe,u_lightintensity:G.properties.get("intensity"),u_lightcolor:[we.r,we.g,we.b],u_vertical_gradient:+W,u_opacity:I}},xs=function(U,$,W,I,G,te,oe){return n.extend(Va(U,$,W,I),ys(te,$,oe),{u_height_factor:-Math.pow(2,G.overscaledZ)/oe.tileSize/8})},ns=function(U){return{u_matrix:U}},bs=function(U,$,W,I){return n.extend(ns(U),ys(W,$,I))},Ha=function(U,$){return{u_matrix:U,u_world:$}},Cu=function(U,$,W,I,G){return n.extend(bs(U,$,W,I),{u_world:G})},su=function(U,$,W,I){var G,te,oe=U.transform;if(I.paint.get("circle-pitch-alignment")==="map"){var he=$n(W,1,oe.zoom);G=!0,te=[he,he]}else G=!1,te=oe.pixelsToGLUnits;return{u_camera_to_center_distance:oe.cameraToCenterDistance,u_scale_with_map:+(I.paint.get("circle-pitch-scale")==="map"),u_matrix:U.translatePosMatrix($.posMatrix,W,I.paint.get("circle-translate"),I.paint.get("circle-translate-anchor")),u_pitch_with_map:+G,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:te}},Gs=function(U,$,W){var I=$n(W,1,$.zoom),G=Math.pow(2,$.zoom-W.tileID.overscaledZ),te=W.tileID.overscaleFactor();return{u_matrix:U,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:I,u_extrude_scale:[$.pixelsToGLUnits[0]/(I*G),$.pixelsToGLUnits[1]/(I*G)],u_overscale_factor:te}},Ku=function(U,$,W){return{u_matrix:U,u_inv_matrix:$,u_camera_to_center_distance:W.cameraToCenterDistance,u_viewport_size:[W.width,W.height]}},Ju=function(U,$,W){return W===void 0&&(W=1),{u_matrix:U,u_color:$,u_overlay:0,u_overlay_scale:W}},Ws=function(U){return{u_matrix:U}},Qu=function(U,$,W,I){return{u_matrix:U,u_extrude_scale:$n($,1,W),u_intensity:I}},Ec=function(U,$,W,I){var G=n.create();n.ortho(G,0,U.width,U.height,0,0,1);var te=U.context.gl;return{u_matrix:G,u_world:[te.drawingBufferWidth,te.drawingBufferHeight],u_image:W,u_color_ramp:I,u_opacity:$.paint.get("heatmap-opacity")}},Cc=function(U,$,W){var I=W.paint.get("hillshade-shadow-color"),G=W.paint.get("hillshade-highlight-color"),te=W.paint.get("hillshade-accent-color"),oe=W.paint.get("hillshade-illumination-direction")*(Math.PI/180);W.paint.get("hillshade-illumination-anchor")==="viewport"&&(oe-=U.transform.angle);var he,we,Oe,ze=!U.options.moving;return{u_matrix:U.transform.calculatePosMatrix($.tileID.toUnwrapped(),ze),u_image:0,u_latrange:(he=$.tileID,we=Math.pow(2,he.canonical.z),Oe=he.canonical.y,[new n.MercatorCoordinate(0,Oe/we).toLngLat().lat,new n.MercatorCoordinate(0,(Oe+1)/we).toLngLat().lat]),u_light:[W.paint.get("hillshade-exaggeration"),oe],u_shadow:I,u_highlight:G,u_accent:te}},Ys=function(U,$){var W=$.stride,I=n.create();return n.ortho(I,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(I,I,[0,-n.EXTENT,0]),{u_matrix:I,u_image:1,u_dimension:[W,W],u_zoom:U.overscaledZ,u_unpack:$.getUnpackVector()}},qa=function(U,$,W){var I=U.transform;return{u_matrix:Ma(U,$,W),u_ratio:1/$n($,1,I.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]]}},pl=function(U,$,W,I){return n.extend(qa(U,$,W),{u_image:0,u_image_height:I})},$s=function(U,$,W,I){var G=U.transform,te=Zs($,G);return{u_matrix:Ma(U,$,W),u_texsize:$.imageAtlasTexture.size,u_ratio:1/$n($,1,G.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[te,I.fromScale,I.toScale],u_fade:I.t,u_units_to_pixels:[1/G.pixelsToGLUnits[0],1/G.pixelsToGLUnits[1]]}},Nl=function(U,$,W,I,G){var te=U.transform,oe=U.lineAtlas,he=Zs($,te),we=W.layout.get("line-cap")==="round",Oe=oe.getDash(I.from,we),ze=oe.getDash(I.to,we),qe=Oe.width*G.fromScale,We=ze.width*G.toScale;return n.extend(qa(U,$,W),{u_patternscale_a:[he/qe,-Oe.height/2],u_patternscale_b:[he/We,-ze.height/2],u_sdfgamma:oe.width/(256*Math.min(qe,We)*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Oe.y,u_tex_y_b:ze.y,u_mix:G.t})};function Zs(U,$){return 1/$n(U,1,$.tileZoom)}function Ma(U,$,W){return U.translatePosMatrix($.tileID.posMatrix,$,W.paint.get("line-translate"),W.paint.get("line-translate-anchor"))}var Du=function(U,$,W,I,G){return{u_matrix:U,u_tl_parent:$,u_scale_parent:W,u_buffer_scale:1,u_fade_t:I.mix,u_opacity:I.opacity*G.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:G.paint.get("raster-brightness-min"),u_brightness_high:G.paint.get("raster-brightness-max"),u_saturation_factor:(oe=G.paint.get("raster-saturation"),oe>0?1-1/(1.001-oe):-oe),u_contrast_factor:(te=G.paint.get("raster-contrast"),te>0?1/(1-te):1+te),u_spin_weights:_s(G.paint.get("raster-hue-rotate"))};var te,oe};function _s(U){U*=Math.PI/180;var $=Math.sin(U),W=Math.cos(U);return[(2*W+1)/3,(-Math.sqrt(3)*$-W+1)/3,(Math.sqrt(3)*$-W+1)/3]}var rs,is=function(U,$,W,I,G,te,oe,he,we,Oe){var ze=G.transform;return{u_is_size_zoom_constant:+(U==="constant"||U==="source"),u_is_size_feature_constant:+(U==="constant"||U==="camera"),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:ze.cameraToCenterDistance,u_pitch:ze.pitch/360*2*Math.PI,u_rotate_symbol:+W,u_aspect_ratio:ze.width/ze.height,u_fade_change:G.options.fadeDuration?G.symbolFadeChange:1,u_matrix:te,u_label_plane_matrix:oe,u_coord_matrix:he,u_is_text:+we,u_pitch_with_map:+I,u_texsize:Oe,u_texture:0}},ws=function(U,$,W,I,G,te,oe,he,we,Oe,ze){var qe=G.transform;return n.extend(is(U,$,W,I,G,te,oe,he,we,Oe),{u_gamma_scale:I?Math.cos(qe._pitch)*qe.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+ze})},ei=function(U,$,W,I,G,te,oe,he,we,Oe){return n.extend(ws(U,$,W,I,G,te,oe,he,!0,we,!0),{u_texsize_icon:Oe,u_texture_icon:1})},ml=function(U,$,W){return{u_matrix:U,u_opacity:$,u_color:W}},Dc=function(U,$,W,I,G,te){return n.extend(function(oe,he,we,Oe){var ze=we.imageManager.getPattern(oe.from.toString()),qe=we.imageManager.getPattern(oe.to.toString()),We=we.imageManager.getPixelSize(),rt=We.width,ft=We.height,pt=Math.pow(2,Oe.tileID.overscaledZ),wt=Oe.tileSize*Math.pow(2,we.transform.tileZoom)/pt,Ct=wt*(Oe.tileID.canonical.x+Oe.tileID.wrap*pt),Mt=wt*Oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ze.tl,u_pattern_br_a:ze.br,u_pattern_tl_b:qe.tl,u_pattern_br_b:qe.br,u_texsize:[rt,ft],u_mix:he.t,u_pattern_size_a:ze.displaySize,u_pattern_size_b:qe.displaySize,u_scale_a:he.fromScale,u_scale_b:he.toScale,u_tile_units_to_pixels:1/$n(Oe,1,we.transform.tileZoom),u_pixel_coord_upper:[Ct>>16,Mt>>16],u_pixel_coord_lower:[65535&Ct,65535&Mt]}}(I,te,W,G),{u_matrix:U,u_opacity:$})},lu={fillExtrusion:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_lightpos:new n.Uniform3f(U,$.u_lightpos),u_lightintensity:new n.Uniform1f(U,$.u_lightintensity),u_lightcolor:new n.Uniform3f(U,$.u_lightcolor),u_vertical_gradient:new n.Uniform1f(U,$.u_vertical_gradient),u_opacity:new n.Uniform1f(U,$.u_opacity)}},fillExtrusionPattern:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_lightpos:new n.Uniform3f(U,$.u_lightpos),u_lightintensity:new n.Uniform1f(U,$.u_lightintensity),u_lightcolor:new n.Uniform3f(U,$.u_lightcolor),u_vertical_gradient:new n.Uniform1f(U,$.u_vertical_gradient),u_height_factor:new n.Uniform1f(U,$.u_height_factor),u_image:new n.Uniform1i(U,$.u_image),u_texsize:new n.Uniform2f(U,$.u_texsize),u_pixel_coord_upper:new n.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(U,$.u_pixel_coord_lower),u_scale:new n.Uniform3f(U,$.u_scale),u_fade:new n.Uniform1f(U,$.u_fade),u_opacity:new n.Uniform1f(U,$.u_opacity)}},fill:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix)}},fillPattern:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_image:new n.Uniform1i(U,$.u_image),u_texsize:new n.Uniform2f(U,$.u_texsize),u_pixel_coord_upper:new n.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(U,$.u_pixel_coord_lower),u_scale:new n.Uniform3f(U,$.u_scale),u_fade:new n.Uniform1f(U,$.u_fade)}},fillOutline:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_world:new n.Uniform2f(U,$.u_world)}},fillOutlinePattern:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_world:new n.Uniform2f(U,$.u_world),u_image:new n.Uniform1i(U,$.u_image),u_texsize:new n.Uniform2f(U,$.u_texsize),u_pixel_coord_upper:new n.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(U,$.u_pixel_coord_lower),u_scale:new n.Uniform3f(U,$.u_scale),u_fade:new n.Uniform1f(U,$.u_fade)}},circle:function(U,$){return{u_camera_to_center_distance:new n.Uniform1f(U,$.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(U,$.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(U,$.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(U,$.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(U,$.u_matrix)}},collisionBox:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_camera_to_center_distance:new n.Uniform1f(U,$.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(U,$.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(U,$.u_extrude_scale),u_overscale_factor:new n.Uniform1f(U,$.u_overscale_factor)}},collisionCircle:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_inv_matrix:new n.UniformMatrix4f(U,$.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(U,$.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(U,$.u_viewport_size)}},debug:function(U,$){return{u_color:new n.UniformColor(U,$.u_color),u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_overlay:new n.Uniform1i(U,$.u_overlay),u_overlay_scale:new n.Uniform1f(U,$.u_overlay_scale)}},clippingMask:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix)}},heatmap:function(U,$){return{u_extrude_scale:new n.Uniform1f(U,$.u_extrude_scale),u_intensity:new n.Uniform1f(U,$.u_intensity),u_matrix:new n.UniformMatrix4f(U,$.u_matrix)}},heatmapTexture:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_world:new n.Uniform2f(U,$.u_world),u_image:new n.Uniform1i(U,$.u_image),u_color_ramp:new n.Uniform1i(U,$.u_color_ramp),u_opacity:new n.Uniform1f(U,$.u_opacity)}},hillshade:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_image:new n.Uniform1i(U,$.u_image),u_latrange:new n.Uniform2f(U,$.u_latrange),u_light:new n.Uniform2f(U,$.u_light),u_shadow:new n.UniformColor(U,$.u_shadow),u_highlight:new n.UniformColor(U,$.u_highlight),u_accent:new n.UniformColor(U,$.u_accent)}},hillshadePrepare:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_image:new n.Uniform1i(U,$.u_image),u_dimension:new n.Uniform2f(U,$.u_dimension),u_zoom:new n.Uniform1f(U,$.u_zoom),u_unpack:new n.Uniform4f(U,$.u_unpack)}},line:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_ratio:new n.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(U,$.u_units_to_pixels)}},lineGradient:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_ratio:new n.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(U,$.u_units_to_pixels),u_image:new n.Uniform1i(U,$.u_image),u_image_height:new n.Uniform1f(U,$.u_image_height)}},linePattern:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_texsize:new n.Uniform2f(U,$.u_texsize),u_ratio:new n.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_image:new n.Uniform1i(U,$.u_image),u_units_to_pixels:new n.Uniform2f(U,$.u_units_to_pixels),u_scale:new n.Uniform3f(U,$.u_scale),u_fade:new n.Uniform1f(U,$.u_fade)}},lineSDF:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_ratio:new n.Uniform1f(U,$.u_ratio),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(U,$.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(U,$.u_patternscale_a),u_patternscale_b:new n.Uniform2f(U,$.u_patternscale_b),u_sdfgamma:new n.Uniform1f(U,$.u_sdfgamma),u_image:new n.Uniform1i(U,$.u_image),u_tex_y_a:new n.Uniform1f(U,$.u_tex_y_a),u_tex_y_b:new n.Uniform1f(U,$.u_tex_y_b),u_mix:new n.Uniform1f(U,$.u_mix)}},raster:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_tl_parent:new n.Uniform2f(U,$.u_tl_parent),u_scale_parent:new n.Uniform1f(U,$.u_scale_parent),u_buffer_scale:new n.Uniform1f(U,$.u_buffer_scale),u_fade_t:new n.Uniform1f(U,$.u_fade_t),u_opacity:new n.Uniform1f(U,$.u_opacity),u_image0:new n.Uniform1i(U,$.u_image0),u_image1:new n.Uniform1i(U,$.u_image1),u_brightness_low:new n.Uniform1f(U,$.u_brightness_low),u_brightness_high:new n.Uniform1f(U,$.u_brightness_high),u_saturation_factor:new n.Uniform1f(U,$.u_saturation_factor),u_contrast_factor:new n.Uniform1f(U,$.u_contrast_factor),u_spin_weights:new n.Uniform3f(U,$.u_spin_weights)}},symbolIcon:function(U,$){return{u_is_size_zoom_constant:new n.Uniform1i(U,$.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(U,$.u_is_size_feature_constant),u_size_t:new n.Uniform1f(U,$.u_size_t),u_size:new n.Uniform1f(U,$.u_size),u_camera_to_center_distance:new n.Uniform1f(U,$.u_camera_to_center_distance),u_pitch:new n.Uniform1f(U,$.u_pitch),u_rotate_symbol:new n.Uniform1i(U,$.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(U,$.u_aspect_ratio),u_fade_change:new n.Uniform1f(U,$.u_fade_change),u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(U,$.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(U,$.u_coord_matrix),u_is_text:new n.Uniform1i(U,$.u_is_text),u_pitch_with_map:new n.Uniform1i(U,$.u_pitch_with_map),u_texsize:new n.Uniform2f(U,$.u_texsize),u_texture:new n.Uniform1i(U,$.u_texture)}},symbolSDF:function(U,$){return{u_is_size_zoom_constant:new n.Uniform1i(U,$.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(U,$.u_is_size_feature_constant),u_size_t:new n.Uniform1f(U,$.u_size_t),u_size:new n.Uniform1f(U,$.u_size),u_camera_to_center_distance:new n.Uniform1f(U,$.u_camera_to_center_distance),u_pitch:new n.Uniform1f(U,$.u_pitch),u_rotate_symbol:new n.Uniform1i(U,$.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(U,$.u_aspect_ratio),u_fade_change:new n.Uniform1f(U,$.u_fade_change),u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(U,$.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(U,$.u_coord_matrix),u_is_text:new n.Uniform1i(U,$.u_is_text),u_pitch_with_map:new n.Uniform1i(U,$.u_pitch_with_map),u_texsize:new n.Uniform2f(U,$.u_texsize),u_texture:new n.Uniform1i(U,$.u_texture),u_gamma_scale:new n.Uniform1f(U,$.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(U,$.u_is_halo)}},symbolTextAndIcon:function(U,$){return{u_is_size_zoom_constant:new n.Uniform1i(U,$.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(U,$.u_is_size_feature_constant),u_size_t:new n.Uniform1f(U,$.u_size_t),u_size:new n.Uniform1f(U,$.u_size),u_camera_to_center_distance:new n.Uniform1f(U,$.u_camera_to_center_distance),u_pitch:new n.Uniform1f(U,$.u_pitch),u_rotate_symbol:new n.Uniform1i(U,$.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(U,$.u_aspect_ratio),u_fade_change:new n.Uniform1f(U,$.u_fade_change),u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(U,$.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(U,$.u_coord_matrix),u_is_text:new n.Uniform1i(U,$.u_is_text),u_pitch_with_map:new n.Uniform1i(U,$.u_pitch_with_map),u_texsize:new n.Uniform2f(U,$.u_texsize),u_texsize_icon:new n.Uniform2f(U,$.u_texsize_icon),u_texture:new n.Uniform1i(U,$.u_texture),u_texture_icon:new n.Uniform1i(U,$.u_texture_icon),u_gamma_scale:new n.Uniform1f(U,$.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(U,$.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(U,$.u_is_halo)}},background:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_opacity:new n.Uniform1f(U,$.u_opacity),u_color:new n.UniformColor(U,$.u_color)}},backgroundPattern:function(U,$){return{u_matrix:new n.UniformMatrix4f(U,$.u_matrix),u_opacity:new n.Uniform1f(U,$.u_opacity),u_image:new n.Uniform1i(U,$.u_image),u_pattern_tl_a:new n.Uniform2f(U,$.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(U,$.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(U,$.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(U,$.u_pattern_br_b),u_texsize:new n.Uniform2f(U,$.u_texsize),u_mix:new n.Uniform1f(U,$.u_mix),u_pattern_size_a:new n.Uniform2f(U,$.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(U,$.u_pattern_size_b),u_scale_a:new n.Uniform1f(U,$.u_scale_a),u_scale_b:new n.Uniform1f(U,$.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(U,$.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(U,$.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(U,$.u_tile_units_to_pixels)}}};function vl(U,$,W,I,G,te,oe){for(var he=U.context,we=he.gl,Oe=U.useProgram("collisionBox"),ze=[],qe=0,We=0,rt=0;rt<I.length;rt++){var ft=I[rt],pt=$.getTile(ft),wt=pt.getBucket(W);if(wt){var Ct=ft.posMatrix;G[0]===0&&G[1]===0||(Ct=U.translatePosMatrix(ft.posMatrix,pt,G,te));var Mt=oe?wt.textCollisionBox:wt.iconCollisionBox,zt=wt.collisionCircleArray;if(zt.length>0){var It=n.create(),Xt=Ct;n.mul(It,wt.placementInvProjMatrix,U.transform.glCoordMatrix),n.mul(It,It,wt.placementViewportMatrix),ze.push({circleArray:zt,circleOffset:We,transform:Xt,invTransform:It}),We=qe+=zt.length/4}Mt&&Oe.draw(he,we.LINES,Rt.disabled,Ye.disabled,U.colorModeForRenderPass(),Ve.disabled,Gs(Ct,U.transform,pt),W.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,null,U.transform.zoom,null,null,Mt.collisionVertexBuffer)}}if(oe&&ze.length){var Gt=U.useProgram("collisionCircle"),Vt=new n.StructArrayLayout2f1f2i16;Vt.resize(4*qe),Vt._trim();for(var pn=0,yn=0,Sn=ze;yn<Sn.length;yn+=1)for(var Pn=Sn[yn],Vn=0;Vn<Pn.circleArray.length/4;Vn++){var ir=4*Vn,ur=Pn.circleArray[ir+0],Yn=Pn.circleArray[ir+1],lr=Pn.circleArray[ir+2],xr=Pn.circleArray[ir+3];Vt.emplace(pn++,ur,Yn,lr,xr,0),Vt.emplace(pn++,ur,Yn,lr,xr,1),Vt.emplace(pn++,ur,Yn,lr,xr,2),Vt.emplace(pn++,ur,Yn,lr,xr,3)}(!rs||rs.length<2*qe)&&(rs=function(Lr){var qr=2*Lr,Wr=new n.StructArrayLayout3ui6;Wr.resize(qr),Wr._trim();for(var Kr=0;Kr<qr;Kr++){var ii=6*Kr;Wr.uint16[ii+0]=4*Kr+0,Wr.uint16[ii+1]=4*Kr+1,Wr.uint16[ii+2]=4*Kr+2,Wr.uint16[ii+3]=4*Kr+2,Wr.uint16[ii+4]=4*Kr+3,Wr.uint16[ii+5]=4*Kr+0}return Wr}(qe));for(var Er=he.createIndexBuffer(rs,!0),tr=he.createVertexBuffer(Vt,n.collisionCircleLayout.members,!0),sr=0,wr=ze;sr<wr.length;sr+=1){var cr=wr[sr],Ar=Ku(cr.transform,cr.invTransform,U.transform);Gt.draw(he,we.TRIANGLES,Rt.disabled,Ye.disabled,U.colorModeForRenderPass(),Ve.disabled,Ar,W.id,tr,Er,n.SegmentVector.simpleSegment(0,2*cr.circleOffset,cr.circleArray.length,cr.circleArray.length/2),null,U.transform.zoom,null,null,null)}tr.destroy(),Er.destroy()}}var ec=n.identity(new Float32Array(16));function Ic(U,$,W,I,G,te){var oe=n.getAnchorAlignment(U),he=-(oe.horizontalAlign-.5)*$,we=-(oe.verticalAlign-.5)*W,Oe=n.evaluateVariableOffset(U,I);return new n.Point((he/G+Oe[0])*te,(we/G+Oe[1])*te)}function uu(U,$,W,I,G,te,oe,he,we,Oe,ze){var qe=U.text.placedSymbolArray,We=U.text.dynamicLayoutVertexArray,rt=U.icon.dynamicLayoutVertexArray,ft={};We.clear();for(var pt=0;pt<qe.length;pt++){var wt=qe.get(pt),Ct=U.allowVerticalPlacement&&!wt.placedOrientation,Mt=wt.hidden||!wt.crossTileID||Ct?null:I[wt.crossTileID];if(Mt){var zt=new n.Point(wt.anchorX,wt.anchorY),It=Qt(zt,W?he:oe),Xt=cn(te.cameraToCenterDistance,It.signedDistanceFromCamera),Gt=G.evaluateSizeForFeature(U.textSizeData,Oe,wt)*Xt/n.ONE_EM;W&&(Gt*=U.tilePixelRatio/we);for(var Vt=Mt.width,pn=Mt.height,yn=Ic(Mt.anchor,Vt,pn,Mt.textOffset,Mt.textBoxScale,Gt),Sn=W?Qt(zt.add(yn),oe).point:It.point.add($?yn.rotate(-te.angle):yn),Pn=U.allowVerticalPlacement&&wt.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,Vn=0;Vn<wt.numGlyphs;Vn++)n.addDynamicAttributes(We,Sn,Pn);ze&&wt.associatedIconIndex>=0&&(ft[wt.associatedIconIndex]={shiftedAnchor:Sn,angle:Pn})}else Rn(wt.numGlyphs,We)}if(ze){rt.clear();for(var ir=U.icon.placedSymbolArray,ur=0;ur<ir.length;ur++){var Yn=ir.get(ur);if(Yn.hidden)Rn(Yn.numGlyphs,rt);else{var lr=ft[ur];if(lr)for(var xr=0;xr<Yn.numGlyphs;xr++)n.addDynamicAttributes(rt,lr.shiftedAnchor,lr.angle);else Rn(Yn.numGlyphs,rt)}}U.icon.dynamicLayoutVertexBuffer.updateData(rt)}U.text.dynamicLayoutVertexBuffer.updateData(We)}function Lc(U,$,W){return W.iconsInText&&$?"symbolTextAndIcon":U?"symbolSDF":"symbolIcon"}function Ts(U,$,W,I,G,te,oe,he,we,Oe,ze,qe){for(var We=U.context,rt=We.gl,ft=U.transform,pt=he==="map",wt=we==="map",Ct=pt&&W.layout.get("symbol-placement")!=="point",Mt=pt&&!wt&&!Ct,zt=W.layout.get("symbol-sort-key").constantOr(1)!==void 0,It=!1,Xt=U.depthModeForSublayer(0,Rt.ReadOnly),Gt=W.layout.get("text-variable-anchor"),Vt=[],pn=0,yn=I;pn<yn.length;pn+=1){var Sn=yn[pn],Pn=$.getTile(Sn),Vn=Pn.getBucket(W);if(Vn){var ir=G?Vn.text:Vn.icon;if(ir&&ir.segments.get().length){var ur=ir.programConfigurations.get(W.id),Yn=G||Vn.sdfIcons,lr=G?Vn.textSizeData:Vn.iconSizeData,xr=wt||ft.pitch!==0,Er=U.useProgram(Lc(Yn,G,Vn),ur),tr=n.evaluateSizeForZoom(lr,ft.zoom),sr=void 0,wr=[0,0],cr=void 0,Ar=void 0,Lr=null,qr=void 0;if(G){if(cr=Pn.glyphAtlasTexture,Ar=rt.LINEAR,sr=Pn.glyphAtlasTexture.size,Vn.iconsInText){wr=Pn.imageAtlasTexture.size,Lr=Pn.imageAtlasTexture;var Wr=lr.kind==="composite"||lr.kind==="camera";qr=xr||U.options.rotating||U.options.zooming||Wr?rt.LINEAR:rt.NEAREST}}else{var Kr=W.layout.get("icon-size").constantOr(0)!==1||Vn.iconsNeedLinear;cr=Pn.imageAtlasTexture,Ar=Yn||U.options.rotating||U.options.zooming||Kr||xr?rt.LINEAR:rt.NEAREST,sr=Pn.imageAtlasTexture.size}var ii=$n(Pn,1,U.transform.zoom),Ii=Tn(Sn.posMatrix,wt,pt,U.transform,ii),Zi=gn(Sn.posMatrix,wt,pt,U.transform,ii),Po=Gt&&Vn.hasTextData(),go=W.layout.get("icon-text-fit")!=="none"&&Po&&Vn.hasIconData();Ct&&hn(Vn,Sn.posMatrix,U,G,Ii,Zi,wt,Oe);var So=U.translatePosMatrix(Sn.posMatrix,Pn,te,oe),Fi=Ct||G&&Gt||go?ec:Ii,si=U.translatePosMatrix(Zi,Pn,te,oe,!0),Hi=Yn&&W.paint.get(G?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Mi={program:Er,buffers:ir,uniformValues:Yn?Vn.iconsInText?ei(lr.kind,tr,Mt,wt,U,So,Fi,si,sr,wr):ws(lr.kind,tr,Mt,wt,U,So,Fi,si,G,sr,!0):is(lr.kind,tr,Mt,wt,U,So,Fi,si,G,sr),atlasTexture:cr,atlasTextureIcon:Lr,atlasInterpolation:Ar,atlasInterpolationIcon:qr,isSDF:Yn,hasHalo:Hi};if(zt&&Vn.canOverlap){It=!0;for(var hi=0,qi=ir.segments.get();hi<qi.length;hi+=1){var Xi=qi[hi];Vt.push({segments:new n.SegmentVector([Xi]),sortKey:Xi.sortKey,state:Mi})}}else Vt.push({segments:ir.segments,sortKey:0,state:Mi})}}}It&&Vt.sort(function(Wl,cs){return Wl.sortKey-cs.sortKey});for(var so=0,Sl=Vt;so<Sl.length;so+=1){var El=Sl[so],di=El.state;if(We.activeTexture.set(rt.TEXTURE0),di.atlasTexture.bind(di.atlasInterpolation,rt.CLAMP_TO_EDGE),di.atlasTextureIcon&&(We.activeTexture.set(rt.TEXTURE1),di.atlasTextureIcon&&di.atlasTextureIcon.bind(di.atlasInterpolationIcon,rt.CLAMP_TO_EDGE)),di.isSDF){var pu=di.uniformValues;di.hasHalo&&(pu.u_is_halo=1,Xs(di.buffers,El.segments,W,U,di.program,Xt,ze,qe,pu)),pu.u_is_halo=0}Xs(di.buffers,El.segments,W,U,di.program,Xt,ze,qe,di.uniformValues)}}function Xs(U,$,W,I,G,te,oe,he,we){var Oe=I.context,ze=Oe.gl;G.draw(Oe,ze.TRIANGLES,te,oe,he,Ve.disabled,we,W.id,U.layoutVertexBuffer,U.indexBuffer,$,W.paint,I.transform.zoom,U.programConfigurations.get(W.id),U.dynamicLayoutVertexBuffer,U.opacityVertexBuffer)}function os(U,$,W,I,G,te,oe){var he,we,Oe,ze,qe,We=U.context.gl,rt=W.paint.get("fill-pattern"),ft=rt&&rt.constantOr(1),pt=W.getCrossfadeParameters();oe?(we=ft&&!W.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",he=We.LINES):(we=ft?"fillPattern":"fill",he=We.TRIANGLES);for(var wt=0,Ct=I;wt<Ct.length;wt+=1){var Mt=Ct[wt],zt=$.getTile(Mt);if(!ft||zt.patternsLoaded()){var It=zt.getBucket(W);if(It){var Xt=It.programConfigurations.get(W.id),Gt=U.useProgram(we,Xt);ft&&(U.context.activeTexture.set(We.TEXTURE0),zt.imageAtlasTexture.bind(We.LINEAR,We.CLAMP_TO_EDGE),Xt.updatePaintBuffers(pt));var Vt=rt.constantOr(null);if(Vt&&zt.imageAtlas){var pn=zt.imageAtlas,yn=pn.patternPositions[Vt.to.toString()],Sn=pn.patternPositions[Vt.from.toString()];yn&&Sn&&Xt.setConstantPatternPositions(yn,Sn)}var Pn=U.translatePosMatrix(Mt.posMatrix,zt,W.paint.get("fill-translate"),W.paint.get("fill-translate-anchor"));if(oe){ze=It.indexBuffer2,qe=It.segments2;var Vn=[We.drawingBufferWidth,We.drawingBufferHeight];Oe=we==="fillOutlinePattern"&&ft?Cu(Pn,U,pt,zt,Vn):Ha(Pn,Vn)}else ze=It.indexBuffer,qe=It.segments,Oe=ft?bs(Pn,U,pt,zt):ns(Pn);Gt.draw(U.context,he,G,U.stencilModeForClipping(Mt),te,Ve.disabled,Oe,W.id,It.layoutVertexBuffer,ze,qe,W.paint,U.transform.zoom,Xt)}}}}function Aa(U,$,W,I,G,te,oe){for(var he=U.context,we=he.gl,Oe=W.paint.get("fill-extrusion-pattern"),ze=Oe.constantOr(1),qe=W.getCrossfadeParameters(),We=W.paint.get("fill-extrusion-opacity"),rt=0,ft=I;rt<ft.length;rt+=1){var pt=ft[rt],wt=$.getTile(pt),Ct=wt.getBucket(W);if(Ct){var Mt=Ct.programConfigurations.get(W.id),zt=U.useProgram(ze?"fillExtrusionPattern":"fillExtrusion",Mt);ze&&(U.context.activeTexture.set(we.TEXTURE0),wt.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),Mt.updatePaintBuffers(qe));var It=Oe.constantOr(null);if(It&&wt.imageAtlas){var Xt=wt.imageAtlas,Gt=Xt.patternPositions[It.to.toString()],Vt=Xt.patternPositions[It.from.toString()];Gt&&Vt&&Mt.setConstantPatternPositions(Gt,Vt)}var pn=U.translatePosMatrix(pt.posMatrix,wt,W.paint.get("fill-extrusion-translate"),W.paint.get("fill-extrusion-translate-anchor")),yn=W.paint.get("fill-extrusion-vertical-gradient"),Sn=ze?xs(pn,U,yn,We,pt,qe,wt):Va(pn,U,yn,We);zt.draw(he,he.gl.TRIANGLES,G,te,oe,Ve.backCCW,Sn,W.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,W.paint,U.transform.zoom,Mt)}}}function yl(U,$,W,I,G,te){var oe=U.context,he=oe.gl,we=$.fbo;if(we){var Oe=U.useProgram("hillshade");oe.activeTexture.set(he.TEXTURE0),he.bindTexture(he.TEXTURE_2D,we.colorAttachment.get());var ze=Cc(U,$,W);Oe.draw(oe,he.TRIANGLES,I,G,te,Ve.disabled,ze,W.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}}function tc(U,$,W,I,G,te){var oe=U.context,he=oe.gl,we=$.dem;if(we&&we.data){var Oe=we.dim,ze=we.stride,qe=we.getPixels();if(oe.activeTexture.set(he.TEXTURE1),oe.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||U.getTileTexture(ze),$.demTexture){var We=$.demTexture;We.update(qe,{premultiply:!1}),We.bind(he.NEAREST,he.CLAMP_TO_EDGE)}else $.demTexture=new n.Texture(oe,qe,he.RGBA,{premultiply:!1}),$.demTexture.bind(he.NEAREST,he.CLAMP_TO_EDGE);oe.activeTexture.set(he.TEXTURE0);var rt=$.fbo;if(!rt){var ft=new n.Texture(oe,{width:Oe,height:Oe,data:null},he.RGBA);ft.bind(he.LINEAR,he.CLAMP_TO_EDGE),(rt=$.fbo=oe.createFramebuffer(Oe,Oe,!0)).colorAttachment.set(ft.texture)}oe.bindFramebuffer.set(rt.framebuffer),oe.viewport.set([0,0,Oe,Oe]),U.useProgram("hillshadePrepare").draw(oe,he.TRIANGLES,I,G,te,Ve.disabled,Ys($.tileID,we),W.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function Fl(U,$,W,I,G){var te=I.paint.get("raster-fade-duration");if(te>0){var oe=n.browser.now(),he=(oe-U.timeAdded)/te,we=$?(oe-$.timeAdded)/te:-1,Oe=W.getSource(),ze=G.coveringZoomLevel({tileSize:Oe.tileSize,roundZoom:Oe.roundZoom}),qe=!$||Math.abs($.tileID.overscaledZ-ze)>Math.abs(U.tileID.overscaledZ-ze),We=qe&&U.refreshedUponExpiration?1:n.clamp(qe?he:1-we,0,1);return U.refreshedUponExpiration&&he>=1&&(U.refreshedUponExpiration=!1),$?{opacity:1,mix:1-We}:{opacity:We,mix:0}}return{opacity:1,mix:0}}var cu=new n.Color(1,0,0,1),na=new n.Color(0,1,0,1),fu=new n.Color(0,0,1,1),nc=new n.Color(1,0,1,1),xl=new n.Color(0,1,1,1);function Ks(U){var $=U.transform.padding;bl(U,U.transform.height-($.top||0),3,cu),bl(U,$.bottom||0,3,na),Js(U,$.left||0,3,fu),Js(U,U.transform.width-($.right||0),3,nc);var W=U.transform.centerPoint;(function(I,G,te,oe){var he=20,we=2;Qs(I,G-we/2,te-he/2,we,he,oe),Qs(I,G-he/2,te-we/2,he,we,oe)})(U,W.x,U.transform.height-W.y,xl)}function bl(U,$,W,I){Qs(U,0,$+W/2,U.transform.width,W,I)}function Js(U,$,W,I){Qs(U,$-W/2,0,W,U.transform.height,I)}function Qs(U,$,W,I,G,te){var oe=U.context,he=oe.gl;he.enable(he.SCISSOR_TEST),he.scissor($*n.browser.devicePixelRatio,W*n.browser.devicePixelRatio,I*n.browser.devicePixelRatio,G*n.browser.devicePixelRatio),oe.clear({color:te}),he.disable(he.SCISSOR_TEST)}function zl(U,$,W){var I=U.context,G=I.gl,te=W.posMatrix,oe=U.useProgram("debug"),he=Rt.disabled,we=Ye.disabled,Oe=U.colorModeForRenderPass(),ze="$debug";I.activeTexture.set(G.TEXTURE0),U.emptyTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),oe.draw(I,G.LINE_STRIP,he,we,Oe,Ve.disabled,Ju(te,n.Color.red),ze,U.debugBuffer,U.tileBorderIndexBuffer,U.debugSegments);var qe=$.getTileByID(W.key).latestRawTileData,We=qe&&qe.byteLength||0,rt=Math.floor(We/1024),ft=$.getTile(W).tileSize,pt=512/Math.min(ft,512)*(W.overscaledZ/U.transform.zoom)*.5,wt=W.canonical.toString();W.overscaledZ!==W.canonical.z&&(wt+=" => "+W.overscaledZ),function(Ct,Mt){Ct.initDebugOverlayCanvas();var zt=Ct.debugOverlayCanvas,It=Ct.context.gl,Xt=Ct.debugOverlayCanvas.getContext("2d");Xt.clearRect(0,0,zt.width,zt.height),Xt.shadowColor="white",Xt.shadowBlur=2,Xt.lineWidth=1.5,Xt.strokeStyle="white",Xt.textBaseline="top",Xt.font="bold 36px Open Sans, sans-serif",Xt.fillText(Mt,5,5),Xt.strokeText(Mt,5,5),Ct.debugOverlayTexture.update(zt),Ct.debugOverlayTexture.bind(It.LINEAR,It.CLAMP_TO_EDGE)}(U,wt+" "+rt+"kb"),oe.draw(I,G.TRIANGLES,he,we,Xe.alphaBlended,Ve.disabled,Ju(te,n.Color.transparent,pt),ze,U.debugBuffer,U.quadTriangleIndexBuffer,U.debugSegments)}var hu={symbol:function(U,$,W,I,G){if(U.renderPass==="translucent"){var te=Ye.disabled,oe=U.colorModeForRenderPass();W.layout.get("text-variable-anchor")&&function(he,we,Oe,ze,qe,We,rt){for(var ft=we.transform,pt=qe==="map",wt=We==="map",Ct=0,Mt=he;Ct<Mt.length;Ct+=1){var zt=Mt[Ct],It=ze.getTile(zt),Xt=It.getBucket(Oe);if(Xt&&Xt.text&&Xt.text.segments.get().length){var Gt=Xt.textSizeData,Vt=n.evaluateSizeForZoom(Gt,ft.zoom),pn=$n(It,1,we.transform.zoom),yn=Tn(zt.posMatrix,wt,pt,we.transform,pn),Sn=Oe.layout.get("icon-text-fit")!=="none"&&Xt.hasIconData();if(Vt){var Pn=Math.pow(2,ft.zoom-It.tileID.overscaledZ);uu(Xt,pt,wt,rt,n.symbolSize,ft,yn,zt.posMatrix,Pn,Vt,Sn)}}}}(I,U,W,$,W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),G),W.paint.get("icon-opacity").constantOr(1)!==0&&Ts(U,$,W,I,!1,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),W.layout.get("icon-rotation-alignment"),W.layout.get("icon-pitch-alignment"),W.layout.get("icon-keep-upright"),te,oe),W.paint.get("text-opacity").constantOr(1)!==0&&Ts(U,$,W,I,!0,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),W.layout.get("text-keep-upright"),te,oe),$.map.showCollisionBoxes&&(vl(U,$,W,I,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),!0),vl(U,$,W,I,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),!1))}},circle:function(U,$,W,I){if(U.renderPass==="translucent"){var G=W.paint.get("circle-opacity"),te=W.paint.get("circle-stroke-width"),oe=W.paint.get("circle-stroke-opacity"),he=W.layout.get("circle-sort-key").constantOr(1)!==void 0;if(G.constantOr(1)!==0||te.constantOr(1)!==0&&oe.constantOr(1)!==0){for(var we=U.context,Oe=we.gl,ze=U.depthModeForSublayer(0,Rt.ReadOnly),qe=Ye.disabled,We=U.colorModeForRenderPass(),rt=[],ft=0;ft<I.length;ft++){var pt=I[ft],wt=$.getTile(pt),Ct=wt.getBucket(W);if(Ct){var Mt=Ct.programConfigurations.get(W.id),zt={programConfiguration:Mt,program:U.useProgram("circle",Mt),layoutVertexBuffer:Ct.layoutVertexBuffer,indexBuffer:Ct.indexBuffer,uniformValues:su(U,pt,wt,W)};if(he)for(var It=0,Xt=Ct.segments.get();It<Xt.length;It+=1){var Gt=Xt[It];rt.push({segments:new n.SegmentVector([Gt]),sortKey:Gt.sortKey,state:zt})}else rt.push({segments:Ct.segments,sortKey:0,state:zt})}}he&&rt.sort(function(xr,Er){return xr.sortKey-Er.sortKey});for(var Vt=0,pn=rt;Vt<pn.length;Vt+=1){var yn=pn[Vt],Sn=yn.state,Pn=Sn.programConfiguration,Vn=Sn.program,ir=Sn.layoutVertexBuffer,ur=Sn.indexBuffer,Yn=Sn.uniformValues,lr=yn.segments;Vn.draw(we,Oe.TRIANGLES,ze,qe,We,Ve.disabled,Yn,W.id,ir,ur,lr,W.paint,U.transform.zoom,Pn)}}}},heatmap:function(U,$,W,I){if(W.paint.get("heatmap-opacity")!==0)if(U.renderPass==="offscreen"){var G=U.context,te=G.gl,oe=Ye.disabled,he=new Xe([te.ONE,te.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(pt,wt,Ct){var Mt=pt.gl;pt.activeTexture.set(Mt.TEXTURE1),pt.viewport.set([0,0,wt.width/4,wt.height/4]);var zt=Ct.heatmapFbo;if(zt)Mt.bindTexture(Mt.TEXTURE_2D,zt.colorAttachment.get()),pt.bindFramebuffer.set(zt.framebuffer);else{var It=Mt.createTexture();Mt.bindTexture(Mt.TEXTURE_2D,It),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR),zt=Ct.heatmapFbo=pt.createFramebuffer(wt.width/4,wt.height/4,!1),function(Xt,Gt,Vt,pn){var yn=Xt.gl,Sn=Xt.extRenderToTextureHalfFloat?Xt.extTextureHalfFloat.HALF_FLOAT_OES:yn.UNSIGNED_BYTE;yn.texImage2D(yn.TEXTURE_2D,0,yn.RGBA,Gt.width/4,Gt.height/4,0,yn.RGBA,Sn,null),pn.colorAttachment.set(Vt)}(pt,wt,It,zt)}})(G,U,W),G.clear({color:n.Color.transparent});for(var we=0;we<I.length;we++){var Oe=I[we];if(!$.hasRenderableParent(Oe)){var ze=$.getTile(Oe),qe=ze.getBucket(W);if(qe){var We=qe.programConfigurations.get(W.id),rt=U.useProgram("heatmap",We),ft=U.transform.zoom;rt.draw(G,te.TRIANGLES,Rt.disabled,oe,he,Ve.disabled,Qu(Oe.posMatrix,ze,ft,W.paint.get("heatmap-intensity")),W.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,W.paint,U.transform.zoom,We)}}}G.viewport.set([0,0,U.width,U.height])}else U.renderPass==="translucent"&&(U.context.setColorMode(U.colorModeForRenderPass()),function(pt,wt){var Ct=pt.context,Mt=Ct.gl,zt=wt.heatmapFbo;if(zt){Ct.activeTexture.set(Mt.TEXTURE0),Mt.bindTexture(Mt.TEXTURE_2D,zt.colorAttachment.get()),Ct.activeTexture.set(Mt.TEXTURE1);var It=wt.colorRampTexture;It||(It=wt.colorRampTexture=new n.Texture(Ct,wt.colorRamp,Mt.RGBA)),It.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),pt.useProgram("heatmapTexture").draw(Ct,Mt.TRIANGLES,Rt.disabled,Ye.disabled,pt.colorModeForRenderPass(),Ve.disabled,Ec(pt,wt,0,1),wt.id,pt.viewportBuffer,pt.quadTriangleIndexBuffer,pt.viewportSegments,wt.paint,pt.transform.zoom)}}(U,W))},line:function(U,$,W,I){if(U.renderPass==="translucent"){var G=W.paint.get("line-opacity"),te=W.paint.get("line-width");if(G.constantOr(1)!==0&&te.constantOr(1)!==0)for(var oe=U.depthModeForSublayer(0,Rt.ReadOnly),he=U.colorModeForRenderPass(),we=W.paint.get("line-dasharray"),Oe=W.paint.get("line-pattern"),ze=Oe.constantOr(1),qe=W.paint.get("line-gradient"),We=W.getCrossfadeParameters(),rt=ze?"linePattern":we?"lineSDF":qe?"lineGradient":"line",ft=U.context,pt=ft.gl,wt=!0,Ct=0,Mt=I;Ct<Mt.length;Ct+=1){var zt=Mt[Ct],It=$.getTile(zt);if(!ze||It.patternsLoaded()){var Xt=It.getBucket(W);if(Xt){var Gt=Xt.programConfigurations.get(W.id),Vt=U.context.program.get(),pn=U.useProgram(rt,Gt),yn=wt||pn.program!==Vt,Sn=Oe.constantOr(null);if(Sn&&It.imageAtlas){var Pn=It.imageAtlas,Vn=Pn.patternPositions[Sn.to.toString()],ir=Pn.patternPositions[Sn.from.toString()];Vn&&ir&&Gt.setConstantPatternPositions(Vn,ir)}var ur=ze?$s(U,It,W,We):we?Nl(U,It,W,we,We):qe?pl(U,It,W,Xt.lineClipsArray.length):qa(U,It,W);if(ze)ft.activeTexture.set(pt.TEXTURE0),It.imageAtlasTexture.bind(pt.LINEAR,pt.CLAMP_TO_EDGE),Gt.updatePaintBuffers(We);else if(we&&(yn||U.lineAtlas.dirty))ft.activeTexture.set(pt.TEXTURE0),U.lineAtlas.bind(ft);else if(qe){var Yn=Xt.gradients[W.id],lr=Yn.texture;if(W.gradientVersion!==Yn.version){var xr=256;if(W.stepInterpolant){var Er=$.getSource().maxzoom,tr=zt.canonical.z===Er?Math.ceil(1<<U.transform.maxZoom-zt.canonical.z):1,sr=Xt.maxLineLength/n.EXTENT*1024*tr;xr=n.clamp(n.nextPowerOfTwo(sr),256,ft.maxTextureSize)}Yn.gradient=n.renderColorRamp({expression:W.gradientExpression(),evaluationKey:"lineProgress",resolution:xr,image:Yn.gradient||void 0,clips:Xt.lineClipsArray}),Yn.texture?Yn.texture.update(Yn.gradient):Yn.texture=new n.Texture(ft,Yn.gradient,pt.RGBA),Yn.version=W.gradientVersion,lr=Yn.texture}ft.activeTexture.set(pt.TEXTURE0),lr.bind(W.stepInterpolant?pt.NEAREST:pt.LINEAR,pt.CLAMP_TO_EDGE)}pn.draw(ft,pt.TRIANGLES,oe,U.stencilModeForClipping(zt),he,Ve.disabled,ur,W.id,Xt.layoutVertexBuffer,Xt.indexBuffer,Xt.segments,W.paint,U.transform.zoom,Gt,Xt.layoutVertexBuffer2),wt=!1}}}}},fill:function(U,$,W,I){var G=W.paint.get("fill-color"),te=W.paint.get("fill-opacity");if(te.constantOr(1)!==0){var oe=U.colorModeForRenderPass(),he=W.paint.get("fill-pattern"),we=U.opaquePassEnabledForLayer()&&!he.constantOr(1)&&G.constantOr(n.Color.transparent).a===1&&te.constantOr(0)===1?"opaque":"translucent";if(U.renderPass===we){var Oe=U.depthModeForSublayer(1,U.renderPass==="opaque"?Rt.ReadWrite:Rt.ReadOnly);os(U,$,W,I,Oe,oe,!1)}if(U.renderPass==="translucent"&&W.paint.get("fill-antialias")){var ze=U.depthModeForSublayer(W.getPaintProperty("fill-outline-color")?2:0,Rt.ReadOnly);os(U,$,W,I,ze,oe,!0)}}},"fill-extrusion":function(U,$,W,I){var G=W.paint.get("fill-extrusion-opacity");if(G!==0&&U.renderPass==="translucent"){var te=new Rt(U.context.gl.LEQUAL,Rt.ReadWrite,U.depthRangeFor3D);if(G!==1||W.paint.get("fill-extrusion-pattern").constantOr(1))Aa(U,$,W,I,te,Ye.disabled,Xe.disabled),Aa(U,$,W,I,te,U.stencilModeFor3D(),U.colorModeForRenderPass());else{var oe=U.colorModeForRenderPass();Aa(U,$,W,I,te,Ye.disabled,oe)}}},hillshade:function(U,$,W,I){if(U.renderPass==="offscreen"||U.renderPass==="translucent"){for(var G=U.context,te=U.depthModeForSublayer(0,Rt.ReadOnly),oe=U.colorModeForRenderPass(),he=U.renderPass==="translucent"?U.stencilConfigForOverlap(I):[{},I],we=he[0],Oe=0,ze=he[1];Oe<ze.length;Oe+=1){var qe=ze[Oe],We=$.getTile(qe);We.needsHillshadePrepare&&U.renderPass==="offscreen"?tc(U,We,W,te,Ye.disabled,oe):U.renderPass==="translucent"&&yl(U,We,W,te,we[qe.overscaledZ],oe)}G.viewport.set([0,0,U.width,U.height])}},raster:function(U,$,W,I){if(U.renderPass==="translucent"&&W.paint.get("raster-opacity")!==0&&I.length)for(var G=U.context,te=G.gl,oe=$.getSource(),he=U.useProgram("raster"),we=U.colorModeForRenderPass(),Oe=oe instanceof j?[{},I]:U.stencilConfigForOverlap(I),ze=Oe[0],qe=Oe[1],We=qe[qe.length-1].overscaledZ,rt=!U.options.moving,ft=0,pt=qe;ft<pt.length;ft+=1){var wt=pt[ft],Ct=U.depthModeForSublayer(wt.overscaledZ-We,W.paint.get("raster-opacity")===1?Rt.ReadWrite:Rt.ReadOnly,te.LESS),Mt=$.getTile(wt),zt=U.transform.calculatePosMatrix(wt.toUnwrapped(),rt);Mt.registerFadeDuration(W.paint.get("raster-fade-duration"));var It=$.findLoadedParent(wt,0),Xt=Fl(Mt,It,$,W,U.transform),Gt=void 0,Vt=void 0,pn=W.paint.get("raster-resampling")==="nearest"?te.NEAREST:te.LINEAR;G.activeTexture.set(te.TEXTURE0),Mt.texture.bind(pn,te.CLAMP_TO_EDGE,te.LINEAR_MIPMAP_NEAREST),G.activeTexture.set(te.TEXTURE1),It?(It.texture.bind(pn,te.CLAMP_TO_EDGE,te.LINEAR_MIPMAP_NEAREST),Gt=Math.pow(2,It.tileID.overscaledZ-Mt.tileID.overscaledZ),Vt=[Mt.tileID.canonical.x*Gt%1,Mt.tileID.canonical.y*Gt%1]):Mt.texture.bind(pn,te.CLAMP_TO_EDGE,te.LINEAR_MIPMAP_NEAREST);var yn=Du(zt,Vt||[0,0],Gt||1,Xt,W);oe instanceof j?he.draw(G,te.TRIANGLES,Ct,Ye.disabled,we,Ve.disabled,yn,W.id,oe.boundsBuffer,U.quadTriangleIndexBuffer,oe.boundsSegments):he.draw(G,te.TRIANGLES,Ct,ze[wt.overscaledZ],we,Ve.disabled,yn,W.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}},background:function(U,$,W){var I=W.paint.get("background-color"),G=W.paint.get("background-opacity");if(G!==0){var te=U.context,oe=te.gl,he=U.transform,we=he.tileSize,Oe=W.paint.get("background-pattern");if(!U.isPatternMissing(Oe)){var ze=!Oe&&I.a===1&&G===1&&U.opaquePassEnabledForLayer()?"opaque":"translucent";if(U.renderPass===ze){var qe=Ye.disabled,We=U.depthModeForSublayer(0,ze==="opaque"?Rt.ReadWrite:Rt.ReadOnly),rt=U.colorModeForRenderPass(),ft=U.useProgram(Oe?"backgroundPattern":"background"),pt=he.coveringTiles({tileSize:we});Oe&&(te.activeTexture.set(oe.TEXTURE0),U.imageManager.bind(U.context));for(var wt=W.getCrossfadeParameters(),Ct=0,Mt=pt;Ct<Mt.length;Ct+=1){var zt=Mt[Ct],It=U.transform.calculatePosMatrix(zt.toUnwrapped()),Xt=Oe?Dc(It,G,U,Oe,{tileID:zt,tileSize:we},wt):ml(It,G,I);ft.draw(te,oe.TRIANGLES,We,qe,rt,Ve.disabled,Xt,W.id,U.tileExtentBuffer,U.quadTriangleIndexBuffer,U.tileExtentSegments)}}}}},debug:function(U,$,W){for(var I=0;I<W.length;I++)zl(U,$,W[I])},custom:function(U,$,W){var I=U.context,G=W.implementation;if(U.renderPass==="offscreen"){var te=G.prerender;te&&(U.setCustomLayerDefaults(),I.setColorMode(U.colorModeForRenderPass()),te.call(G,I.gl,U.transform.customLayerMatrix()),I.setDirty(),U.setBaseState())}else if(U.renderPass==="translucent"){U.setCustomLayerDefaults(),I.setColorMode(U.colorModeForRenderPass()),I.setStencilMode(Ye.disabled);var oe=G.renderingMode==="3d"?new Rt(U.context.gl.LEQUAL,Rt.ReadWrite,U.depthRangeFor3D):U.depthModeForSublayer(0,Rt.ReadOnly);I.setDepthMode(oe),G.render(I.gl,U.transform.customLayerMatrix()),I.setDirty(),U.setBaseState(),I.bindFramebuffer.set(null)}}},xi=function(U,$){this.context=new Ze(U),this.transform=$,this._tileTextures={},this.setup(),this.numSublayers=lt.maxUnderzooming+lt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Nn,this.gpuTimers={}};xi.prototype.resize=function(U,$){if(this.width=U*n.browser.devicePixelRatio,this.height=$*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var W=0,I=this.style._order;W<I.length;W+=1){var G=I[W];this.style._layers[G].resize()}},xi.prototype.setup=function(){var U=this.context,$=new n.StructArrayLayout2i4;$.emplaceBack(0,0),$.emplaceBack(n.EXTENT,0),$.emplaceBack(0,n.EXTENT),$.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=U.createVertexBuffer($,Qn.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var W=new n.StructArrayLayout2i4;W.emplaceBack(0,0),W.emplaceBack(n.EXTENT,0),W.emplaceBack(0,n.EXTENT),W.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=U.createVertexBuffer(W,Qn.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var I=new n.StructArrayLayout4i8;I.emplaceBack(0,0,0,0),I.emplaceBack(n.EXTENT,0,n.EXTENT,0),I.emplaceBack(0,n.EXTENT,0,n.EXTENT),I.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=U.createVertexBuffer(I,Z.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var G=new n.StructArrayLayout2i4;G.emplaceBack(0,0),G.emplaceBack(1,0),G.emplaceBack(0,1),G.emplaceBack(1,1),this.viewportBuffer=U.createVertexBuffer(G,Qn.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var te=new n.StructArrayLayout1ui2;te.emplaceBack(0),te.emplaceBack(1),te.emplaceBack(3),te.emplaceBack(2),te.emplaceBack(0),this.tileBorderIndexBuffer=U.createIndexBuffer(te);var oe=new n.StructArrayLayout3ui6;oe.emplaceBack(0,1,2),oe.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=U.createIndexBuffer(oe),this.emptyTexture=new n.Texture(U,{width:1,height:1,data:new Uint8Array([0,0,0,0])},U.gl.RGBA);var he=this.context.gl;this.stencilClearMode=new Ye({func:he.ALWAYS,mask:0},0,255,he.ZERO,he.ZERO,he.ZERO)},xi.prototype.clearStencil=function(){var U=this.context,$=U.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var W=n.create();n.ortho(W,0,this.width,this.height,0,0,1),n.scale(W,W,[$.drawingBufferWidth,$.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(U,$.TRIANGLES,Rt.disabled,this.stencilClearMode,Xe.disabled,Ve.disabled,Ws(W),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},xi.prototype._renderTileClippingMasks=function(U,$){if(this.currentStencilSource!==U.source&&U.isTileClipped()&&$&&$.length){this.currentStencilSource=U.source;var W=this.context,I=W.gl;this.nextStencilID+$.length>256&&this.clearStencil(),W.setColorMode(Xe.disabled),W.setDepthMode(Rt.disabled);var G=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var te=0,oe=$;te<oe.length;te+=1){var he=oe[te],we=this._tileClippingMaskIDs[he.key]=this.nextStencilID++;G.draw(W,I.TRIANGLES,Rt.disabled,new Ye({func:I.ALWAYS,mask:0},we,255,I.KEEP,I.KEEP,I.REPLACE),Xe.disabled,Ve.disabled,Ws(he.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},xi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var U=this.nextStencilID++,$=this.context.gl;return new Ye({func:$.NOTEQUAL,mask:255},U,255,$.KEEP,$.KEEP,$.REPLACE)},xi.prototype.stencilModeForClipping=function(U){var $=this.context.gl;return new Ye({func:$.EQUAL,mask:255},this._tileClippingMaskIDs[U.key],0,$.KEEP,$.KEEP,$.REPLACE)},xi.prototype.stencilConfigForOverlap=function(U){var $,W=this.context.gl,I=U.sort(function(we,Oe){return Oe.overscaledZ-we.overscaledZ}),G=I[I.length-1].overscaledZ,te=I[0].overscaledZ-G+1;if(te>1){this.currentStencilSource=void 0,this.nextStencilID+te>256&&this.clearStencil();for(var oe={},he=0;he<te;he++)oe[he+G]=new Ye({func:W.GEQUAL,mask:255},he+this.nextStencilID,255,W.KEEP,W.KEEP,W.REPLACE);return this.nextStencilID+=te,[oe,I]}return[($={},$[G]=Ye.disabled,$),I]},xi.prototype.colorModeForRenderPass=function(){var U=this.context.gl;if(this._showOverdrawInspector){var $=.125;return new Xe([U.CONSTANT_COLOR,U.ONE],new n.Color($,$,$,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Xe.unblended:Xe.alphaBlended},xi.prototype.depthModeForSublayer=function(U,$,W){if(!this.opaquePassEnabledForLayer())return Rt.disabled;var I=1-((1+this.currentLayer)*this.numSublayers+U)*this.depthEpsilon;return new Rt(W||this.context.gl.LEQUAL,$,[I,I])},xi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},xi.prototype.render=function(U,$){var W=this;this.style=U,this.options=$,this.lineAtlas=U.lineAtlas,this.imageManager=U.imageManager,this.glyphManager=U.glyphManager,this.symbolFadeChange=U.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var I=this.style._order,G=this.style.sourceCaches;for(var te in G){var oe=G[te];oe.used&&oe.prepare(this.context)}var he,we,Oe={},ze={},qe={};for(var We in G){var rt=G[We];Oe[We]=rt.getVisibleCoordinates(),ze[We]=Oe[We].slice().reverse(),qe[We]=rt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ft=0;ft<I.length;ft++){var pt=I[ft];if(this.style._layers[pt].is3D()){this.opaquePassCutoff=ft;break}}this.renderPass="offscreen";for(var wt=0,Ct=I;wt<Ct.length;wt+=1){var Mt=Ct[wt],zt=this.style._layers[Mt];if(zt.hasOffscreenPass()&&!zt.isHidden(this.transform.zoom)){var It=ze[zt.source];(zt.type==="custom"||It.length)&&this.renderLayer(this,G[zt.source],zt,It)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:$.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=$.showOverdrawInspector,this.depthRangeFor3D=[0,1-(U._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=I.length-1;this.currentLayer>=0;this.currentLayer--){var Xt=this.style._layers[I[this.currentLayer]],Gt=G[Xt.source],Vt=Oe[Xt.source];this._renderTileClippingMasks(Xt,Vt),this.renderLayer(this,Gt,Xt,Vt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<I.length;this.currentLayer++){var pn=this.style._layers[I[this.currentLayer]],yn=G[pn.source],Sn=(pn.type==="symbol"?qe:ze)[pn.source];this._renderTileClippingMasks(pn,Oe[pn.source]),this.renderLayer(this,yn,pn,Sn)}this.options.showTileBoundaries&&(n.values(this.style._layers).forEach(function(Pn){Pn.source&&!Pn.isHidden(W.transform.zoom)&&(Pn.source!==(we&&we.id)&&(we=W.style.sourceCaches[Pn.source]),(!he||he.getSource().maxzoom<we.getSource().maxzoom)&&(he=we))}),he&&hu.debug(this,he,he.getVisibleCoordinates())),this.options.showPadding&&Ks(this),this.context.setDefault()},xi.prototype.renderLayer=function(U,$,W,I){W.isHidden(this.transform.zoom)||(W.type==="background"||W.type==="custom"||I.length)&&(this.id=W.id,this.gpuTimingStart(W),hu[W.type](U,$,W,I,this.style.placement.variableOffsets),this.gpuTimingEnd())},xi.prototype.gpuTimingStart=function(U){if(this.options.gpuTiming){var $=this.context.extTimerQuery,W=this.gpuTimers[U.id];W||(W=this.gpuTimers[U.id]={calls:0,cpuTime:0,query:$.createQueryEXT()}),W.calls++,$.beginQueryEXT($.TIME_ELAPSED_EXT,W.query)}},xi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var U=this.context.extTimerQuery;U.endQueryEXT(U.TIME_ELAPSED_EXT)}},xi.prototype.collectGpuTimers=function(){var U=this.gpuTimers;return this.gpuTimers={},U},xi.prototype.queryGpuTimers=function(U){var $={};for(var W in U){var I=U[W],G=this.context.extTimerQuery,te=G.getQueryObjectEXT(I.query,G.QUERY_RESULT_EXT)/1e6;G.deleteQueryEXT(I.query),$[W]=te}return $},xi.prototype.translatePosMatrix=function(U,$,W,I,G){if(!W[0]&&!W[1])return U;var te=G?I==="map"?this.transform.angle:0:I==="viewport"?-this.transform.angle:0;if(te){var oe=Math.sin(te),he=Math.cos(te);W=[W[0]*he-W[1]*oe,W[0]*oe+W[1]*he]}var we=[G?W[0]:$n($,W[0],this.transform.zoom),G?W[1]:$n($,W[1],this.transform.zoom),0],Oe=new Float32Array(16);return n.translate(Oe,U,we),Oe},xi.prototype.saveTileTexture=function(U){var $=this._tileTextures[U.size[0]];$?$.push(U):this._tileTextures[U.size[0]]=[U]},xi.prototype.getTileTexture=function(U){var $=this._tileTextures[U];return $&&$.length>0?$.pop():null},xi.prototype.isPatternMissing=function(U){if(!U)return!1;if(!U.from||!U.to)return!0;var $=this.imageManager.getPattern(U.from.toString()),W=this.imageManager.getPattern(U.to.toString());return!$||!W},xi.prototype.useProgram=function(U,$){this.cache=this.cache||{};var W=""+U+($?$.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[W]||(this.cache[W]=new Ta(this.context,U,fo[U],$,lu[U],this._showOverdrawInspector)),this.cache[W]},xi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},xi.prototype.setBaseState=function(){var U=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(U.FUNC_ADD)},xi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var U=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,U.RGBA)}},xi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Ms=function(U,$){this.points=U,this.planes=$};Ms.fromInvProjectionMatrix=function(U,$,W){var I=Math.pow(2,W),G=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(oe){return n.transformMat4([],oe,U)}).map(function(oe){return n.scale$1([],oe,1/oe[3]/$*I)}),te=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(oe){var he=n.sub([],G[oe[0]],G[oe[1]]),we=n.sub([],G[oe[2]],G[oe[1]]),Oe=n.normalize([],n.cross([],he,we)),ze=-n.dot(Oe,G[oe[1]]);return Oe.concat(ze)});return new Ms(G,te)};var ko=function(U,$){this.min=U,this.max=$,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};ko.prototype.quadrant=function(U){for(var $=[U%2==0,U<2],W=n.clone$2(this.min),I=n.clone$2(this.max),G=0;G<$.length;G++)W[G]=$[G]?this.min[G]:this.center[G],I[G]=$[G]?this.center[G]:this.max[G];return I[2]=this.max[2],new ko(W,I)},ko.prototype.distanceX=function(U){return Math.max(Math.min(this.max[0],U[0]),this.min[0])-U[0]},ko.prototype.distanceY=function(U){return Math.max(Math.min(this.max[1],U[1]),this.min[1])-U[1]},ko.prototype.intersects=function(U){for(var $=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],W=!0,I=0;I<U.planes.length;I++){for(var G=U.planes[I],te=0,oe=0;oe<$.length;oe++)te+=n.dot$1(G,$[oe])>=0;if(te===0)return 0;te!==$.length&&(W=!1)}if(W)return 2;for(var he=0;he<3;he++){for(var we=Number.MAX_VALUE,Oe=-Number.MAX_VALUE,ze=0;ze<U.points.length;ze++){var qe=U.points[ze][he]-this.min[he];we=Math.min(we,qe),Oe=Math.max(Oe,qe)}if(Oe<0||we>this.max[he]-this.min[he])return 0}return 1};var ka=function(U,$,W,I){if(U===void 0&&(U=0),$===void 0&&($=0),W===void 0&&(W=0),I===void 0&&(I=0),isNaN(U)||U<0||isNaN($)||$<0||isNaN(W)||W<0||isNaN(I)||I<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=U,this.bottom=$,this.left=W,this.right=I};ka.prototype.interpolate=function(U,$,W){return $.top!=null&&U.top!=null&&(this.top=n.number(U.top,$.top,W)),$.bottom!=null&&U.bottom!=null&&(this.bottom=n.number(U.bottom,$.bottom,W)),$.left!=null&&U.left!=null&&(this.left=n.number(U.left,$.left,W)),$.right!=null&&U.right!=null&&(this.right=n.number(U.right,$.right,W)),this},ka.prototype.getCenter=function(U,$){var W=n.clamp((this.left+U-this.right)/2,0,U),I=n.clamp((this.top+$-this.bottom)/2,0,$);return new n.Point(W,I)},ka.prototype.equals=function(U){return this.top===U.top&&this.bottom===U.bottom&&this.left===U.left&&this.right===U.right},ka.prototype.clone=function(){return new ka(this.top,this.bottom,this.left,this.right)},ka.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var li=function(U,$,W,I,G){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=G===void 0||G,this._minZoom=U||0,this._maxZoom=$||22,this._minPitch=W??0,this._maxPitch=I??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ka,this._posMatrixCache={},this._alignedPosMatrixCache={}},vi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};li.prototype.clone=function(){var U=new li(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return U.tileSize=this.tileSize,U.latRange=this.latRange,U.width=this.width,U.height=this.height,U._center=this._center,U.zoom=this.zoom,U.angle=this.angle,U._fov=this._fov,U._pitch=this._pitch,U._unmodified=this._unmodified,U._edgeInsets=this._edgeInsets.clone(),U._calcMatrices(),U},vi.minZoom.get=function(){return this._minZoom},vi.minZoom.set=function(U){this._minZoom!==U&&(this._minZoom=U,this.zoom=Math.max(this.zoom,U))},vi.maxZoom.get=function(){return this._maxZoom},vi.maxZoom.set=function(U){this._maxZoom!==U&&(this._maxZoom=U,this.zoom=Math.min(this.zoom,U))},vi.minPitch.get=function(){return this._minPitch},vi.minPitch.set=function(U){this._minPitch!==U&&(this._minPitch=U,this.pitch=Math.max(this.pitch,U))},vi.maxPitch.get=function(){return this._maxPitch},vi.maxPitch.set=function(U){this._maxPitch!==U&&(this._maxPitch=U,this.pitch=Math.min(this.pitch,U))},vi.renderWorldCopies.get=function(){return this._renderWorldCopies},vi.renderWorldCopies.set=function(U){U===void 0?U=!0:U===null&&(U=!1),this._renderWorldCopies=U},vi.worldSize.get=function(){return this.tileSize*this.scale},vi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},vi.size.get=function(){return new n.Point(this.width,this.height)},vi.bearing.get=function(){return-this.angle/Math.PI*180},vi.bearing.set=function(U){var $=-n.wrap(U,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},vi.pitch.get=function(){return this._pitch/Math.PI*180},vi.pitch.set=function(U){var $=n.clamp(U,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},vi.fov.get=function(){return this._fov/Math.PI*180},vi.fov.set=function(U){U=Math.max(.01,Math.min(60,U)),this._fov!==U&&(this._unmodified=!1,this._fov=U/180*Math.PI,this._calcMatrices())},vi.zoom.get=function(){return this._zoom},vi.zoom.set=function(U){var $=Math.min(Math.max(U,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},vi.center.get=function(){return this._center},vi.center.set=function(U){U.lat===this._center.lat&&U.lng===this._center.lng||(this._unmodified=!1,this._center=U,this._constrain(),this._calcMatrices())},vi.padding.get=function(){return this._edgeInsets.toJSON()},vi.padding.set=function(U){this._edgeInsets.equals(U)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,U,1),this._calcMatrices())},vi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},li.prototype.isPaddingEqual=function(U){return this._edgeInsets.equals(U)},li.prototype.interpolatePadding=function(U,$,W){this._unmodified=!1,this._edgeInsets.interpolate(U,$,W),this._constrain(),this._calcMatrices()},li.prototype.coveringZoomLevel=function(U){var $=(U.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/U.tileSize));return Math.max(0,$)},li.prototype.getVisibleUnwrappedCoordinates=function(U){var $=[new n.UnwrappedTileID(0,U)];if(this._renderWorldCopies)for(var W=this.pointCoordinate(new n.Point(0,0)),I=this.pointCoordinate(new n.Point(this.width,0)),G=this.pointCoordinate(new n.Point(this.width,this.height)),te=this.pointCoordinate(new n.Point(0,this.height)),oe=Math.floor(Math.min(W.x,I.x,G.x,te.x)),he=Math.floor(Math.max(W.x,I.x,G.x,te.x)),we=oe-1;we<=he+1;we++)we!==0&&$.push(new n.UnwrappedTileID(we,U));return $},li.prototype.coveringTiles=function(U){var $=this.coveringZoomLevel(U),W=$;if(U.minzoom!==void 0&&$<U.minzoom)return[];U.maxzoom!==void 0&&$>U.maxzoom&&($=U.maxzoom);var I=n.MercatorCoordinate.fromLngLat(this.center),G=Math.pow(2,$),te=[G*I.x,G*I.y,0],oe=Ms.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,$),he=U.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(he=$);var we=function(Sn){return{aabb:new ko([Sn*G,0,0],[(Sn+1)*G,G,0]),zoom:0,x:0,y:0,wrap:Sn,fullyVisible:!1}},Oe=[],ze=[],qe=$,We=U.reparseOverscaled?W:$;if(this._renderWorldCopies)for(var rt=1;rt<=3;rt++)Oe.push(we(-rt)),Oe.push(we(rt));for(Oe.push(we(0));Oe.length>0;){var ft=Oe.pop(),pt=ft.x,wt=ft.y,Ct=ft.fullyVisible;if(!Ct){var Mt=ft.aabb.intersects(oe);if(Mt===0)continue;Ct=Mt===2}var zt=ft.aabb.distanceX(te),It=ft.aabb.distanceY(te),Xt=Math.max(Math.abs(zt),Math.abs(It)),Gt=3+(1<<qe-ft.zoom)-2;if(ft.zoom===qe||Xt>Gt&&ft.zoom>=he)ze.push({tileID:new n.OverscaledTileID(ft.zoom===qe?We:ft.zoom,ft.wrap,ft.zoom,pt,wt),distanceSq:n.sqrLen([te[0]-.5-pt,te[1]-.5-wt])});else for(var Vt=0;Vt<4;Vt++){var pn=(pt<<1)+Vt%2,yn=(wt<<1)+(Vt>>1);Oe.push({aabb:ft.aabb.quadrant(Vt),zoom:ft.zoom+1,x:pn,y:yn,wrap:ft.wrap,fullyVisible:Ct})}}return ze.sort(function(Sn,Pn){return Sn.distanceSq-Pn.distanceSq}).map(function(Sn){return Sn.tileID})},li.prototype.resize=function(U,$){this.width=U,this.height=$,this.pixelsToGLUnits=[2/U,-2/$],this._constrain(),this._calcMatrices()},vi.unmodified.get=function(){return this._unmodified},li.prototype.zoomScale=function(U){return Math.pow(2,U)},li.prototype.scaleZoom=function(U){return Math.log(U)/Math.LN2},li.prototype.project=function(U){var $=n.clamp(U.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(U.lng)*this.worldSize,n.mercatorYfromLat($)*this.worldSize)},li.prototype.unproject=function(U){return new n.MercatorCoordinate(U.x/this.worldSize,U.y/this.worldSize).toLngLat()},vi.point.get=function(){return this.project(this.center)},li.prototype.setLocationAtPoint=function(U,$){var W=this.pointCoordinate($),I=this.pointCoordinate(this.centerPoint),G=this.locationCoordinate(U),te=new n.MercatorCoordinate(G.x-(W.x-I.x),G.y-(W.y-I.y));this.center=this.coordinateLocation(te),this._renderWorldCopies&&(this.center=this.center.wrap())},li.prototype.locationPoint=function(U){return this.coordinatePoint(this.locationCoordinate(U))},li.prototype.pointLocation=function(U){return this.coordinateLocation(this.pointCoordinate(U))},li.prototype.locationCoordinate=function(U){return n.MercatorCoordinate.fromLngLat(U)},li.prototype.coordinateLocation=function(U){return U.toLngLat()},li.prototype.pointCoordinate=function(U){var $=[U.x,U.y,0,1],W=[U.x,U.y,1,1];n.transformMat4($,$,this.pixelMatrixInverse),n.transformMat4(W,W,this.pixelMatrixInverse);var I=$[3],G=W[3],te=$[0]/I,oe=W[0]/G,he=$[1]/I,we=W[1]/G,Oe=$[2]/I,ze=W[2]/G,qe=Oe===ze?0:(0-Oe)/(ze-Oe);return new n.MercatorCoordinate(n.number(te,oe,qe)/this.worldSize,n.number(he,we,qe)/this.worldSize)},li.prototype.coordinatePoint=function(U){var $=[U.x*this.worldSize,U.y*this.worldSize,0,1];return n.transformMat4($,$,this.pixelMatrix),new n.Point($[0]/$[3],$[1]/$[3])},li.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},li.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},li.prototype.setMaxBounds=function(U){U?(this.lngRange=[U.getWest(),U.getEast()],this.latRange=[U.getSouth(),U.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},li.prototype.calculatePosMatrix=function(U,$){$===void 0&&($=!1);var W=U.key,I=$?this._alignedPosMatrixCache:this._posMatrixCache;if(I[W])return I[W];var G=U.canonical,te=this.worldSize/this.zoomScale(G.z),oe=G.x+Math.pow(2,G.z)*U.wrap,he=n.identity(new Float64Array(16));return n.translate(he,he,[oe*te,G.y*te,0]),n.scale(he,he,[te/n.EXTENT,te/n.EXTENT,1]),n.multiply(he,$?this.alignedProjMatrix:this.projMatrix,he),I[W]=new Float32Array(he),I[W]},li.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},li.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var U,$,W,I,G=-90,te=90,oe=-180,he=180,we=this.size,Oe=this._unmodified;if(this.latRange){var ze=this.latRange;G=n.mercatorYfromLat(ze[1])*this.worldSize,U=(te=n.mercatorYfromLat(ze[0])*this.worldSize)-G<we.y?we.y/(te-G):0}if(this.lngRange){var qe=this.lngRange;oe=n.mercatorXfromLng(qe[0])*this.worldSize,$=(he=n.mercatorXfromLng(qe[1])*this.worldSize)-oe<we.x?we.x/(he-oe):0}var We=this.point,rt=Math.max($||0,U||0);if(rt)return this.center=this.unproject(new n.Point($?(he+oe)/2:We.x,U?(te+G)/2:We.y)),this.zoom+=this.scaleZoom(rt),this._unmodified=Oe,void(this._constraining=!1);if(this.latRange){var ft=We.y,pt=we.y/2;ft-pt<G&&(I=G+pt),ft+pt>te&&(I=te-pt)}if(this.lngRange){var wt=We.x,Ct=we.x/2;wt-Ct<oe&&(W=oe+Ct),wt+Ct>he&&(W=he-Ct)}W===void 0&&I===void 0||(this.center=this.unproject(new n.Point(W!==void 0?W:We.x,I!==void 0?I:We.y))),this._unmodified=Oe,this._constraining=!1}},li.prototype._calcMatrices=function(){if(this.height){var U=this._fov/2,$=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(U)*this.height;var W=Math.PI/2+this._pitch,I=this._fov*(.5+$.y/this.height),G=Math.sin(I)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-W-I,.01,Math.PI-.01)),te=this.point,oe=te.x,he=te.y,we=1.01*(Math.cos(Math.PI/2-this._pitch)*G+this.cameraToCenterDistance),Oe=this.height/50,ze=new Float64Array(16);n.perspective(ze,this._fov,this.width/this.height,Oe,we),ze[8]=2*-$.x/this.width,ze[9]=2*$.y/this.height,n.scale(ze,ze,[1,-1,1]),n.translate(ze,ze,[0,0,-this.cameraToCenterDistance]),n.rotateX(ze,ze,this._pitch),n.rotateZ(ze,ze,this.angle),n.translate(ze,ze,[-oe,-he,0]),this.mercatorMatrix=n.scale([],ze,[this.worldSize,this.worldSize,this.worldSize]),n.scale(ze,ze,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=ze,this.invProjMatrix=n.invert([],this.projMatrix);var qe=this.width%2/2,We=this.height%2/2,rt=Math.cos(this.angle),ft=Math.sin(this.angle),pt=oe-Math.round(oe)+rt*qe+ft*We,wt=he-Math.round(he)+rt*We+ft*qe,Ct=new Float64Array(ze);if(n.translate(Ct,Ct,[pt>.5?pt-1:pt,wt>.5?wt-1:wt,0]),this.alignedProjMatrix=Ct,ze=n.create(),n.scale(ze,ze,[this.width/2,-this.height/2,1]),n.translate(ze,ze,[1,-1,0]),this.labelPlaneMatrix=ze,ze=n.create(),n.scale(ze,ze,[1,-1,1]),n.translate(ze,ze,[-1,-1,0]),n.scale(ze,ze,[2/this.width,2/this.height,1]),this.glCoordMatrix=ze,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(ze=n.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=ze,this._posMatrixCache={},this._alignedPosMatrixCache={}}},li.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var U=this.pointCoordinate(new n.Point(0,0)),$=[U.x*this.worldSize,U.y*this.worldSize,0,1];return n.transformMat4($,$,this.pixelMatrix)[3]/this.cameraToCenterDistance},li.prototype.getCameraPoint=function(){var U=this._pitch,$=Math.tan(U)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,$))},li.prototype.getCameraQueryGeometry=function(U){var $=this.getCameraPoint();if(U.length===1)return[U[0],$];for(var W=$.x,I=$.y,G=$.x,te=$.y,oe=0,he=U;oe<he.length;oe+=1){var we=he[oe];W=Math.min(W,we.x),I=Math.min(I,we.y),G=Math.max(G,we.x),te=Math.max(te,we.y)}return[new n.Point(W,I),new n.Point(G,I),new n.Point(G,te),new n.Point(W,te),new n.Point(W,I)]},Object.defineProperties(li.prototype,vi);var ra=function(U){var $,W,I,G,te;this._hashName=U&&encodeURIComponent(U),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=($=this._updateHashUnthrottled.bind(this),W=300,I=!1,G=null,te=function(){G=null,I&&($(),G=setTimeout(te,W),I=!1)},function(){return I=!0,G||te(),G})};ra.prototype.addTo=function(U){return this._map=U,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ra.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ra.prototype.getHashString=function(U){var $=this._map.getCenter(),W=Math.round(100*this._map.getZoom())/100,I=Math.ceil((W*Math.LN2+Math.log(512/360/.5))/Math.LN10),G=Math.pow(10,I),te=Math.round($.lng*G)/G,oe=Math.round($.lat*G)/G,he=this._map.getBearing(),we=this._map.getPitch(),Oe="";if(Oe+=U?"/"+te+"/"+oe+"/"+W:W+"/"+oe+"/"+te,(he||we)&&(Oe+="/"+Math.round(10*he)/10),we&&(Oe+="/"+Math.round(we)),this._hashName){var ze=this._hashName,qe=!1,We=n.window.location.hash.slice(1).split("&").map(function(rt){var ft=rt.split("=")[0];return ft===ze?(qe=!0,ft+"="+Oe):rt}).filter(function(rt){return rt});return qe||We.push(ze+"="+Oe),"#"+We.join("&")}return"#"+Oe},ra.prototype._getCurrentHash=function(){var U,$=this,W=n.window.location.hash.replace("#","");return this._hashName?(W.split("&").map(function(I){return I.split("=")}).forEach(function(I){I[0]===$._hashName&&(U=I)}),(U&&U[1]||"").split("/")):W.split("/")},ra.prototype._onHashChange=function(){var U=this._getCurrentHash();if(U.length>=3&&!U.some(function(W){return isNaN(W)})){var $=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(U[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+U[2],+U[1]],zoom:+U[0],bearing:$,pitch:+(U[4]||0)}),!0}return!1},ra.prototype._updateHashUnthrottled=function(){var U=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,U)}catch{}};var _l={linearity:.3,easing:n.bezier(0,0,.3,1)},Bl=n.extend({deceleration:2500,maxSpeed:1400},_l),du=n.extend({deceleration:20,maxSpeed:1400},_l),jl=n.extend({deceleration:1e3,maxSpeed:360},_l),Ul=n.extend({deceleration:1e3,maxSpeed:90},_l),fa=function(U){this._map=U,this.clear()};function As(U,$){(!U.duration||U.duration<$.duration)&&(U.duration=$.duration,U.easing=$.easing)}function ks(U,$,W){var I=W.maxSpeed,G=W.linearity,te=W.deceleration,oe=n.clamp(U*G/($/1e3),-I,I),he=Math.abs(oe)/(te*G);return{easing:W.easing,duration:1e3*he,amount:oe*(he/2)}}fa.prototype.clear=function(){this._inertiaBuffer=[]},fa.prototype.record=function(U){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:U})},fa.prototype._drainInertiaBuffer=function(){for(var U=this._inertiaBuffer,$=n.browser.now();U.length>0&&$-U[0].time>160;)U.shift()},fa.prototype._onMoveEnd=function(U){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var $={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},W=0,I=this._inertiaBuffer;W<I.length;W+=1){var G=I[W].settings;$.zoom+=G.zoomDelta||0,$.bearing+=G.bearingDelta||0,$.pitch+=G.pitchDelta||0,G.panDelta&&$.pan._add(G.panDelta),G.around&&($.around=G.around),G.pinchAround&&($.pinchAround=G.pinchAround)}var te=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,oe={};if($.pan.mag()){var he=ks($.pan.mag(),te,n.extend({},Bl,U||{}));oe.offset=$.pan.mult(he.amount/$.pan.mag()),oe.center=this._map.transform.center,As(oe,he)}if($.zoom){var we=ks($.zoom,te,du);oe.zoom=this._map.transform.zoom+we.amount,As(oe,we)}if($.bearing){var Oe=ks($.bearing,te,jl);oe.bearing=this._map.transform.bearing+n.clamp(Oe.amount,-179,179),As(oe,Oe)}if($.pitch){var ze=ks($.pitch,te,Ul);oe.pitch=this._map.transform.pitch+ze.amount,As(oe,ze)}if(oe.zoom||oe.bearing){var qe=$.pinchAround===void 0?$.around:$.pinchAround;oe.around=qe?this._map.unproject(qe):this._map.getCenter()}return this.clear(),n.extend(oe,{noMoveStart:!0})}};var Lo=function(U){function $(I,G,te,oe){oe===void 0&&(oe={});var he=b.mousePos(G.getCanvasContainer(),te),we=G.unproject(he);U.call(this,I,n.extend({point:he,lngLat:we,originalEvent:te},oe)),this._defaultPrevented=!1,this.target=G}U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$;var W={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,W),$}(n.Event),Vl=function(U){function $(I,G,te){var oe=I==="touchend"?te.changedTouches:te.touches,he=b.touchPos(G.getCanvasContainer(),oe),we=he.map(function(qe){return G.unproject(qe)}),Oe=he.reduce(function(qe,We,rt,ft){return qe.add(We.div(ft.length))},new n.Point(0,0)),ze=G.unproject(Oe);U.call(this,I,{points:he,point:Oe,lngLats:we,lngLat:ze,originalEvent:te}),this._defaultPrevented=!1}U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$;var W={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,W),$}(n.Event),ha=function(U){function $(I,G,te){U.call(this,I,{originalEvent:te}),this._defaultPrevented=!1}U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$;var W={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,W),$}(n.Event),ho=function(U,$){this._map=U,this._clickTolerance=$.clickTolerance};ho.prototype.reset=function(){delete this._mousedownPos},ho.prototype.wheel=function(U){return this._firePreventable(new ha(U.type,this._map,U))},ho.prototype.mousedown=function(U,$){return this._mousedownPos=$,this._firePreventable(new Lo(U.type,this._map,U))},ho.prototype.mouseup=function(U){this._map.fire(new Lo(U.type,this._map,U))},ho.prototype.click=function(U,$){this._mousedownPos&&this._mousedownPos.dist($)>=this._clickTolerance||this._map.fire(new Lo(U.type,this._map,U))},ho.prototype.dblclick=function(U){return this._firePreventable(new Lo(U.type,this._map,U))},ho.prototype.mouseover=function(U){this._map.fire(new Lo(U.type,this._map,U))},ho.prototype.mouseout=function(U){this._map.fire(new Lo(U.type,this._map,U))},ho.prototype.touchstart=function(U){return this._firePreventable(new Vl(U.type,this._map,U))},ho.prototype.touchmove=function(U){this._map.fire(new Vl(U.type,this._map,U))},ho.prototype.touchend=function(U){this._map.fire(new Vl(U.type,this._map,U))},ho.prototype.touchcancel=function(U){this._map.fire(new Vl(U.type,this._map,U))},ho.prototype._firePreventable=function(U){if(this._map.fire(U),U.defaultPrevented)return{}},ho.prototype.isEnabled=function(){return!0},ho.prototype.isActive=function(){return!1},ho.prototype.enable=function(){},ho.prototype.disable=function(){};var xo=function(U){this._map=U};xo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},xo.prototype.mousemove=function(U){this._map.fire(new Lo(U.type,this._map,U))},xo.prototype.mousedown=function(){this._delayContextMenu=!0},xo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Lo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},xo.prototype.contextmenu=function(U){this._delayContextMenu?this._contextMenuEvent=U:this._map.fire(new Lo(U.type,this._map,U)),this._map.listens("contextmenu")&&U.preventDefault()},xo.prototype.isEnabled=function(){return!0},xo.prototype.isActive=function(){return!1},xo.prototype.enable=function(){},xo.prototype.disable=function(){};var ki=function(U,$){this._map=U,this._el=U.getCanvasContainer(),this._container=U.getContainer(),this._clickTolerance=$.clickTolerance||1};function bo(U,$){for(var W={},I=0;I<U.length;I++)W[U[I].identifier]=$[I];return W}ki.prototype.isEnabled=function(){return!!this._enabled},ki.prototype.isActive=function(){return!!this._active},ki.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ki.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ki.prototype.mousedown=function(U,$){this.isEnabled()&&U.shiftKey&&U.button===0&&(b.disableDrag(),this._startPos=this._lastPos=$,this._active=!0)},ki.prototype.mousemoveWindow=function(U,$){if(this._active){var W=$;if(!(this._lastPos.equals(W)||!this._box&&W.dist(this._startPos)<this._clickTolerance)){var I=this._startPos;this._lastPos=W,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",U));var G=Math.min(I.x,W.x),te=Math.max(I.x,W.x),oe=Math.min(I.y,W.y),he=Math.max(I.y,W.y);b.setTransform(this._box,"translate("+G+"px,"+oe+"px)"),this._box.style.width=te-G+"px",this._box.style.height=he-oe+"px"}}},ki.prototype.mouseupWindow=function(U,$){var W=this;if(this._active&&U.button===0){var I=this._startPos,G=$;if(this.reset(),b.suppressClick(),I.x!==G.x||I.y!==G.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:U})),{cameraAnimation:function(te){return te.fitScreenCoordinates(I,G,W._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",U)}},ki.prototype.keydown=function(U){this._active&&U.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",U))},ki.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},ki.prototype._fireEvent=function(U,$){return this._map.fire(new n.Event(U,{originalEvent:$}))};var Ga=function(U){this.reset(),this.numTouches=U.numTouches};Ga.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ga.prototype.touchstart=function(U,$,W){(this.centroid||W.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=U.timeStamp),W.length===this.numTouches&&(this.centroid=function(I){for(var G=new n.Point(0,0),te=0,oe=I;te<oe.length;te+=1){var he=oe[te];G._add(he)}return G.div(I.length)}($),this.touches=bo(W,$)))},Ga.prototype.touchmove=function(U,$,W){if(!this.aborted&&this.centroid){var I=bo(W,$);for(var G in this.touches){var te=this.touches[G],oe=I[G];(!oe||oe.dist(te)>30)&&(this.aborted=!0)}}},Ga.prototype.touchend=function(U,$,W){if((!this.centroid||U.timeStamp-this.startTime>500)&&(this.aborted=!0),W.length===0){var I=!this.aborted&&this.centroid;if(this.reset(),I)return I}};var el=function(U){this.singleTap=new Ga(U),this.numTaps=U.numTaps,this.reset()};el.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},el.prototype.touchstart=function(U,$,W){this.singleTap.touchstart(U,$,W)},el.prototype.touchmove=function(U,$,W){this.singleTap.touchmove(U,$,W)},el.prototype.touchend=function(U,$,W){var I=this.singleTap.touchend(U,$,W);if(I){var G=U.timeStamp-this.lastTime<500,te=!this.lastTap||this.lastTap.dist(I)<30;if(G&&te||this.reset(),this.count++,this.lastTime=U.timeStamp,this.lastTap=I,this.count===this.numTaps)return this.reset(),I}};var Sa=function(){this._zoomIn=new el({numTouches:1,numTaps:2}),this._zoomOut=new el({numTouches:2,numTaps:1}),this.reset()};Sa.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Sa.prototype.touchstart=function(U,$,W){this._zoomIn.touchstart(U,$,W),this._zoomOut.touchstart(U,$,W)},Sa.prototype.touchmove=function(U,$,W){this._zoomIn.touchmove(U,$,W),this._zoomOut.touchmove(U,$,W)},Sa.prototype.touchend=function(U,$,W){var I=this,G=this._zoomIn.touchend(U,$,W),te=this._zoomOut.touchend(U,$,W);return G?(this._active=!0,U.preventDefault(),setTimeout(function(){return I.reset()},0),{cameraAnimation:function(oe){return oe.easeTo({duration:300,zoom:oe.getZoom()+1,around:oe.unproject(G)},{originalEvent:U})}}):te?(this._active=!0,U.preventDefault(),setTimeout(function(){return I.reset()},0),{cameraAnimation:function(oe){return oe.easeTo({duration:300,zoom:oe.getZoom()-1,around:oe.unproject(te)},{originalEvent:U})}}):void 0},Sa.prototype.touchcancel=function(){this.reset()},Sa.prototype.enable=function(){this._enabled=!0},Sa.prototype.disable=function(){this._enabled=!1,this.reset()},Sa.prototype.isEnabled=function(){return this._enabled},Sa.prototype.isActive=function(){return this._active};var Ss={};Ss[0]=1,Ss[2]=2;var Bo=function(U){this.reset(),this._clickTolerance=U.clickTolerance||1};Bo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Bo.prototype._correctButton=function(U,$){return!1},Bo.prototype._move=function(U,$){return{}},Bo.prototype.mousedown=function(U,$){if(!this._lastPoint){var W=b.mouseButton(U);this._correctButton(U,W)&&(this._lastPoint=$,this._eventButton=W)}},Bo.prototype.mousemoveWindow=function(U,$){var W=this._lastPoint;if(W){if(U.preventDefault(),function(I,G){var te=Ss[G];return I.buttons===void 0||(I.buttons&te)!==te}(U,this._eventButton))this.reset();else if(this._moved||!($.dist(W)<this._clickTolerance))return this._moved=!0,this._lastPoint=$,this._move(W,$)}},Bo.prototype.mouseupWindow=function(U){this._lastPoint&&b.mouseButton(U)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},Bo.prototype.enable=function(){this._enabled=!0},Bo.prototype.disable=function(){this._enabled=!1,this.reset()},Bo.prototype.isEnabled=function(){return this._enabled},Bo.prototype.isActive=function(){return this._active};var tl=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.mousedown=function(W,I){U.prototype.mousedown.call(this,W,I),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(W,I){return I===0&&!W.ctrlKey},$.prototype._move=function(W,I){return{around:I,panDelta:I.sub(W)}},$}(Bo),as=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(W,I){return I===0&&W.ctrlKey||I===2},$.prototype._move=function(W,I){var G=.8*(I.x-W.x);if(G)return this._active=!0,{bearingDelta:G}},$.prototype.contextmenu=function(W){W.preventDefault()},$}(Bo),da=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(W,I){return I===0&&W.ctrlKey||I===2},$.prototype._move=function(W,I){var G=-.5*(I.y-W.y);if(G)return this._active=!0,{pitchDelta:G}},$.prototype.contextmenu=function(W){W.preventDefault()},$}(Bo),pa=function(U){this._minTouches=1,this._clickTolerance=U.clickTolerance||1,this.reset()};pa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},pa.prototype.touchstart=function(U,$,W){return this._calculateTransform(U,$,W)},pa.prototype.touchmove=function(U,$,W){if(this._active&&!(W.length<this._minTouches))return U.preventDefault(),this._calculateTransform(U,$,W)},pa.prototype.touchend=function(U,$,W){this._calculateTransform(U,$,W),this._active&&W.length<this._minTouches&&this.reset()},pa.prototype.touchcancel=function(){this.reset()},pa.prototype._calculateTransform=function(U,$,W){W.length>0&&(this._active=!0);var I=bo(W,$),G=new n.Point(0,0),te=new n.Point(0,0),oe=0;for(var he in I){var we=I[he],Oe=this._touches[he];Oe&&(G._add(we),te._add(we.sub(Oe)),oe++,I[he]=we)}if(this._touches=I,!(oe<this._minTouches)&&te.mag()){var ze=te.div(oe);if(this._sum._add(ze),!(this._sum.mag()<this._clickTolerance))return{around:G.div(oe),panDelta:ze}}},pa.prototype.enable=function(){this._enabled=!0},pa.prototype.disable=function(){this._enabled=!1,this.reset()},pa.prototype.isEnabled=function(){return this._enabled},pa.prototype.isActive=function(){return this._active};var Ci=function(){this.reset()};function Ea(U,$,W){for(var I=0;I<U.length;I++)if(U[I].identifier===W)return $[I]}Ci.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Ci.prototype._start=function(U){},Ci.prototype._move=function(U,$,W){return{}},Ci.prototype.touchstart=function(U,$,W){this._firstTwoTouches||W.length<2||(this._firstTwoTouches=[W[0].identifier,W[1].identifier],this._start([$[0],$[1]]))},Ci.prototype.touchmove=function(U,$,W){if(this._firstTwoTouches){U.preventDefault();var I=this._firstTwoTouches,G=I[0],te=I[1],oe=Ea(W,$,G),he=Ea(W,$,te);if(oe&&he){var we=this._aroundCenter?null:oe.add(he).div(2);return this._move([oe,he],we,U)}}},Ci.prototype.touchend=function(U,$,W){if(this._firstTwoTouches){var I=this._firstTwoTouches,G=I[0],te=I[1],oe=Ea(W,$,G),he=Ea(W,$,te);oe&&he||(this._active&&b.suppressClick(),this.reset())}},Ci.prototype.touchcancel=function(){this.reset()},Ci.prototype.enable=function(U){this._enabled=!0,this._aroundCenter=!!U&&U.around==="center"},Ci.prototype.disable=function(){this._enabled=!1,this.reset()},Ci.prototype.isEnabled=function(){return this._enabled},Ci.prototype.isActive=function(){return this._active};function Mr(U,$){return Math.log(U/$)/Math.LN2}var Hl=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.reset=function(){U.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(W){this._startDistance=this._distance=W[0].dist(W[1])},$.prototype._move=function(W,I){var G=this._distance;if(this._distance=W[0].dist(W[1]),this._active||!(Math.abs(Mr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mr(this._distance,G),pinchAround:I}},$}(Ci);function Iu(U,$){return 180*U.angleWith($)/Math.PI}var Es=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.reset=function(){U.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(W){this._startVector=this._vector=W[0].sub(W[1]),this._minDiameter=W[0].dist(W[1])},$.prototype._move=function(W,I){var G=this._vector;if(this._vector=W[0].sub(W[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Iu(this._vector,G),pinchAround:I}},$.prototype._isBelowThreshold=function(W){this._minDiameter=Math.min(this._minDiameter,W.mag());var I=25/(Math.PI*this._minDiameter)*360,G=Iu(W,this._startVector);return Math.abs(G)<I},$}(Ci);function Cs(U){return Math.abs(U.y)>Math.abs(U.x)}var nl=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.reset=function(){U.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(W){this._lastPoints=W,Cs(W[0].sub(W[1]))&&(this._valid=!1)},$.prototype._move=function(W,I,G){var te=W[0].sub(this._lastPoints[0]),oe=W[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(te,oe,G.timeStamp),this._valid)return this._lastPoints=W,this._active=!0,{pitchDelta:(te.y+oe.y)/2*-.5}},$.prototype.gestureBeginsVertically=function(W,I,G){if(this._valid!==void 0)return this._valid;var te=W.mag()>=2,oe=I.mag()>=2;if(te||oe){if(!te||!oe)return this._firstMove===void 0&&(this._firstMove=G),G-this._firstMove<100&&void 0;var he=W.y>0==I.y>0;return Cs(W)&&Cs(I)&&he}},$}(Ci),wl={panStep:100,bearingStep:15,pitchStep:10},yr=function(){var U=wl;this._panStep=U.panStep,this._bearingStep=U.bearingStep,this._pitchStep=U.pitchStep,this._rotationDisabled=!1};function ql(U){return U*(2-U)}yr.prototype.reset=function(){this._active=!1},yr.prototype.keydown=function(U){var $=this;if(!(U.altKey||U.ctrlKey||U.metaKey)){var W=0,I=0,G=0,te=0,oe=0;switch(U.keyCode){case 61:case 107:case 171:case 187:W=1;break;case 189:case 109:case 173:W=-1;break;case 37:U.shiftKey?I=-1:(U.preventDefault(),te=-1);break;case 39:U.shiftKey?I=1:(U.preventDefault(),te=1);break;case 38:U.shiftKey?G=1:(U.preventDefault(),oe=-1);break;case 40:U.shiftKey?G=-1:(U.preventDefault(),oe=1);break;default:return}return this._rotationDisabled&&(I=0,G=0),{cameraAnimation:function(he){var we=he.getZoom();he.easeTo({duration:300,easeId:"keyboardHandler",easing:ql,zoom:W?Math.round(we)+W*(U.shiftKey?2:1):we,bearing:he.getBearing()+I*$._bearingStep,pitch:he.getPitch()+G*$._pitchStep,offset:[-te*$._panStep,-oe*$._panStep],center:he.getCenter()},{originalEvent:U})}}}},yr.prototype.enable=function(){this._enabled=!0},yr.prototype.disable=function(){this._enabled=!1,this.reset()},yr.prototype.isEnabled=function(){return this._enabled},yr.prototype.isActive=function(){return this._active},yr.prototype.disableRotation=function(){this._rotationDisabled=!0},yr.prototype.enableRotation=function(){this._rotationDisabled=!1};var ss=4.000244140625,po=function(U,$){this._map=U,this._el=U.getCanvasContainer(),this._handler=$,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout"],this)};po.prototype.setZoomRate=function(U){this._defaultZoomRate=U},po.prototype.setWheelZoomRate=function(U){this._wheelZoomRate=U},po.prototype.isEnabled=function(){return!!this._enabled},po.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},po.prototype.isZooming=function(){return!!this._zooming},po.prototype.enable=function(U){this.isEnabled()||(this._enabled=!0,this._aroundCenter=U&&U.around==="center")},po.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},po.prototype.wheel=function(U){if(this.isEnabled()){var $=U.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*U.deltaY:U.deltaY,W=n.browser.now(),I=W-(this._lastWheelEventTime||0);this._lastWheelEventTime=W,$!==0&&$%ss==0?this._type="wheel":$!==0&&Math.abs($)<4?this._type="trackpad":I>400?(this._type=null,this._lastValue=$,this._timeout=setTimeout(this._onTimeout,40,U)):this._type||(this._type=Math.abs(I*$)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,$+=this._lastValue)),U.shiftKey&&$&&($/=4),this._type&&(this._lastWheelEvent=U,this._delta-=$,this._active||this._start(U)),U.preventDefault()}},po.prototype._onTimeout=function(U){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(U)},po.prototype._start=function(U){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var $=b.mousePos(this._el,U);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject($)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},po.prototype.renderFrame=function(){var U=this;if(this._frameId&&(this._frameId=null,this.isActive())){var $=this._map.transform;if(this._delta!==0){var W=this._type==="wheel"&&Math.abs(this._delta)>ss?this._wheelZoomRate:this._defaultZoomRate,I=2/(1+Math.exp(-Math.abs(this._delta*W)));this._delta<0&&I!==0&&(I=1/I);var G=typeof this._targetZoom=="number"?$.zoomScale(this._targetZoom):$.scale;this._targetZoom=Math.min($.maxZoom,Math.max($.minZoom,$.scaleZoom(G*I))),this._type==="wheel"&&(this._startZoom=$.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var te,oe=typeof this._targetZoom=="number"?this._targetZoom:$.zoom,he=this._startZoom,we=this._easing,Oe=!1;if(this._type==="wheel"&&he&&we){var ze=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),qe=we(ze);te=n.number(he,oe,qe),ze<1?this._frameId||(this._frameId=!0):Oe=!0}else te=oe,Oe=!0;return this._active=!0,Oe&&(this._active=!1,this._finishTimeout=setTimeout(function(){U._zooming=!1,U._handler._triggerRenderFrame(),delete U._targetZoom,delete U._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Oe,zoomDelta:te-$.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},po.prototype._smoothOutEasing=function(U){var $=n.ease;if(this._prevEase){var W=this._prevEase,I=(n.browser.now()-W.start)/W.duration,G=W.easing(I+.01)-W.easing(I),te=.27/Math.sqrt(G*G+1e-4)*.01,oe=Math.sqrt(.0729-te*te);$=n.bezier(te,oe,.25,1)}return this._prevEase={start:n.browser.now(),duration:U,easing:$},$},po.prototype.reset=function(){this._active=!1};var Ds=function(U,$){this._clickZoom=U,this._tapZoom=$};Ds.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ds.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ds.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ds.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ca=function(){this.reset()};Ca.prototype.reset=function(){this._active=!1},Ca.prototype.dblclick=function(U,$){return U.preventDefault(),{cameraAnimation:function(W){W.easeTo({duration:300,zoom:W.getZoom()+(U.shiftKey?-1:1),around:W.unproject($)},{originalEvent:U})}}},Ca.prototype.enable=function(){this._enabled=!0},Ca.prototype.disable=function(){this._enabled=!1,this.reset()},Ca.prototype.isEnabled=function(){return this._enabled},Ca.prototype.isActive=function(){return this._active};var ga=function(){this._tap=new el({numTouches:1,numTaps:1}),this.reset()};ga.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ga.prototype.touchstart=function(U,$,W){this._swipePoint||(this._tapTime&&U.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?W.length>0&&(this._swipePoint=$[0],this._swipeTouch=W[0].identifier):this._tap.touchstart(U,$,W))},ga.prototype.touchmove=function(U,$,W){if(this._tapTime){if(this._swipePoint){if(W[0].identifier!==this._swipeTouch)return;var I=$[0],G=I.y-this._swipePoint.y;return this._swipePoint=I,U.preventDefault(),this._active=!0,{zoomDelta:G/128}}}else this._tap.touchmove(U,$,W)},ga.prototype.touchend=function(U,$,W){this._tapTime?this._swipePoint&&W.length===0&&this.reset():this._tap.touchend(U,$,W)&&(this._tapTime=U.timeStamp)},ga.prototype.touchcancel=function(){this.reset()},ga.prototype.enable=function(){this._enabled=!0},ga.prototype.disable=function(){this._enabled=!1,this.reset()},ga.prototype.isEnabled=function(){return this._enabled},ga.prototype.isActive=function(){return this._active};var Oo=function(U,$,W){this._el=U,this._mousePan=$,this._touchPan=W};Oo.prototype.enable=function(U){this._inertiaOptions=U||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Oo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Oo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Oo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Wa=function(U,$,W){this._pitchWithRotate=U.pitchWithRotate,this._mouseRotate=$,this._mousePitch=W};Wa.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Wa.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Wa.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Wa.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ma=function(U,$,W,I){this._el=U,this._touchZoom=$,this._touchRotate=W,this._tapDragZoom=I,this._rotationDisabled=!1,this._enabled=!0};ma.prototype.enable=function(U){this._touchZoom.enable(U),this._rotationDisabled||this._touchRotate.enable(U),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ma.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ma.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ma.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ma.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ma.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ls=function(U){return U.zoom||U.drag||U.pitch||U.rotate},Gl=function(U){function $(){U.apply(this,arguments)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$}(n.Event);function Is(U){return U.panDelta&&U.panDelta.mag()||U.zoomDelta||U.bearingDelta||U.pitchDelta}var ai=function(U,$){this._map=U,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fa(U),this._bearingSnap=$.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers($),n.bindAll(["handleEvent","handleWindowEvent"],this);var W=this._el;this._listeners=[[W,"touchstart",{passive:!0}],[W,"touchmove",{passive:!1}],[W,"touchend",void 0],[W,"touchcancel",void 0],[W,"mousedown",void 0],[W,"mousemove",void 0],[W,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[W,"mouseover",void 0],[W,"mouseout",void 0],[W,"dblclick",void 0],[W,"click",void 0],[W,"keydown",{capture:!1}],[W,"keyup",void 0],[W,"wheel",{passive:!1}],[W,"contextmenu",void 0],[n.window,"blur",void 0]];for(var I=0,G=this._listeners;I<G.length;I+=1){var te=G[I],oe=te[0],he=te[1],we=te[2];b.addEventListener(oe,he,oe===n.window.document?this.handleWindowEvent:this.handleEvent,we)}};ai.prototype.destroy=function(){for(var U=0,$=this._listeners;U<$.length;U+=1){var W=$[U],I=W[0],G=W[1],te=W[2];b.removeEventListener(I,G,I===n.window.document?this.handleWindowEvent:this.handleEvent,te)}},ai.prototype._addDefaultHandlers=function(U){var $=this._map,W=$.getCanvasContainer();this._add("mapEvent",new ho($,U));var I=$.boxZoom=new ki($,U);this._add("boxZoom",I);var G=new Sa,te=new Ca;$.doubleClickZoom=new Ds(te,G),this._add("tapZoom",G),this._add("clickZoom",te);var oe=new ga;this._add("tapDragZoom",oe);var he=$.touchPitch=new nl;this._add("touchPitch",he);var we=new as(U),Oe=new da(U);$.dragRotate=new Wa(U,we,Oe),this._add("mouseRotate",we,["mousePitch"]),this._add("mousePitch",Oe,["mouseRotate"]);var ze=new tl(U),qe=new pa(U);$.dragPan=new Oo(W,ze,qe),this._add("mousePan",ze),this._add("touchPan",qe,["touchZoom","touchRotate"]);var We=new Es,rt=new Hl;$.touchZoomRotate=new ma(W,rt,We,oe),this._add("touchRotate",We,["touchPan","touchZoom"]),this._add("touchZoom",rt,["touchPan","touchRotate"]);var ft=$.scrollZoom=new po($,this);this._add("scrollZoom",ft,["mousePan"]);var pt=$.keyboard=new yr;this._add("keyboard",pt),this._add("blockableMapEvent",new xo($));for(var wt=0,Ct=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];wt<Ct.length;wt+=1){var Mt=Ct[wt];U.interactive&&U[Mt]&&$[Mt].enable(U[Mt])}},ai.prototype._add=function(U,$,W){this._handlers.push({handlerName:U,handler:$,allowed:W}),this._handlersById[U]=$},ai.prototype.stop=function(U){if(!this._updatingCamera){for(var $=0,W=this._handlers;$<W.length;$+=1)W[$].handler.reset();this._inertia.clear(),this._fireEvents({},{},U),this._changes=[]}},ai.prototype.isActive=function(){for(var U=0,$=this._handlers;U<$.length;U+=1)if($[U].handler.isActive())return!0;return!1},ai.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ai.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ai.prototype.isMoving=function(){return!!ls(this._eventsInProgress)||this.isZooming()},ai.prototype._blockedByActive=function(U,$,W){for(var I in U)if(I!==W&&(!$||$.indexOf(I)<0))return!0;return!1},ai.prototype.handleWindowEvent=function(U){this.handleEvent(U,U.type+"Window")},ai.prototype._getMapTouches=function(U){for(var $=[],W=0,I=U;W<I.length;W+=1){var G=I[W],te=G.target;this._el.contains(te)&&$.push(G)}return $},ai.prototype.handleEvent=function(U,$){if(U.type!=="blur"){this._updatingCamera=!0;for(var W=U.type==="renderFrame"?void 0:U,I={needsRenderFrame:!1},G={},te={},oe=U.touches?this._getMapTouches(U.touches):void 0,he=oe?b.touchPos(this._el,oe):b.mousePos(this._el,U),we=0,Oe=this._handlers;we<Oe.length;we+=1){var ze=Oe[we],qe=ze.handlerName,We=ze.handler,rt=ze.allowed;if(We.isEnabled()){var ft=void 0;this._blockedByActive(te,rt,qe)?We.reset():We[$||U.type]&&(ft=We[$||U.type](U,he,oe),this.mergeHandlerResult(I,G,ft,qe,W),ft&&ft.needsRenderFrame&&this._triggerRenderFrame()),(ft||We.isActive())&&(te[qe]=We)}}var pt={};for(var wt in this._previousActiveHandlers)te[wt]||(pt[wt]=W);this._previousActiveHandlers=te,(Object.keys(pt).length||Is(I))&&(this._changes.push([I,G,pt]),this._triggerRenderFrame()),(Object.keys(te).length||Is(I))&&this._map._stop(!0),this._updatingCamera=!1;var Ct=I.cameraAnimation;Ct&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ct(this._map))}else this.stop(!0)},ai.prototype.mergeHandlerResult=function(U,$,W,I,G){if(W){n.extend(U,W);var te={handlerName:I,originalEvent:W.originalEvent||G};W.zoomDelta!==void 0&&($.zoom=te),W.panDelta!==void 0&&($.drag=te),W.pitchDelta!==void 0&&($.pitch=te),W.bearingDelta!==void 0&&($.rotate=te)}},ai.prototype._applyChanges=function(){for(var U={},$={},W={},I=0,G=this._changes;I<G.length;I+=1){var te=G[I],oe=te[0],he=te[1],we=te[2];oe.panDelta&&(U.panDelta=(U.panDelta||new n.Point(0,0))._add(oe.panDelta)),oe.zoomDelta&&(U.zoomDelta=(U.zoomDelta||0)+oe.zoomDelta),oe.bearingDelta&&(U.bearingDelta=(U.bearingDelta||0)+oe.bearingDelta),oe.pitchDelta&&(U.pitchDelta=(U.pitchDelta||0)+oe.pitchDelta),oe.around!==void 0&&(U.around=oe.around),oe.pinchAround!==void 0&&(U.pinchAround=oe.pinchAround),oe.noInertia&&(U.noInertia=oe.noInertia),n.extend($,he),n.extend(W,we)}this._updateMapTransform(U,$,W),this._changes=[]},ai.prototype._updateMapTransform=function(U,$,W){var I=this._map,G=I.transform;if(!Is(U))return this._fireEvents($,W,!0);var te=U.panDelta,oe=U.zoomDelta,he=U.bearingDelta,we=U.pitchDelta,Oe=U.around,ze=U.pinchAround;ze!==void 0&&(Oe=ze),I._stop(!0),Oe=Oe||I.transform.centerPoint;var qe=G.pointLocation(te?Oe.sub(te):Oe);he&&(G.bearing+=he),we&&(G.pitch+=we),oe&&(G.zoom+=oe),G.setLocationAtPoint(qe,Oe),this._map._update(),U.noInertia||this._inertia.record(U),this._fireEvents($,W,!0)},ai.prototype._fireEvents=function(U,$,W){var I=this,G=ls(this._eventsInProgress),te=ls(U),oe={};for(var he in U){var we=U[he].originalEvent;this._eventsInProgress[he]||(oe[he+"start"]=we),this._eventsInProgress[he]=U[he]}for(var Oe in!G&&te&&this._fireEvent("movestart",te.originalEvent),oe)this._fireEvent(Oe,oe[Oe]);for(var ze in te&&this._fireEvent("move",te.originalEvent),U){var qe=U[ze].originalEvent;this._fireEvent(ze,qe)}var We,rt={};for(var ft in this._eventsInProgress){var pt=this._eventsInProgress[ft],wt=pt.handlerName,Ct=pt.originalEvent;this._handlersById[wt].isActive()||(delete this._eventsInProgress[ft],We=$[wt]||Ct,rt[ft+"end"]=We)}for(var Mt in rt)this._fireEvent(Mt,rt[Mt]);var zt=ls(this._eventsInProgress);if(W&&(G||te)&&!zt){this._updatingCamera=!0;var It=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Xt=function(Gt){return Gt!==0&&-I._bearingSnap<Gt&&Gt<I._bearingSnap};It?(Xt(It.bearing||this._map.getBearing())&&(It.bearing=0),this._map.easeTo(It,{originalEvent:We})):(this._map.fire(new n.Event("moveend",{originalEvent:We})),Xt(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},ai.prototype._fireEvent=function(U,$){this._map.fire(new n.Event(U,$?{originalEvent:$}:{}))},ai.prototype._requestFrame=function(){var U=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function($){delete U._frameId,U.handleEvent(new Gl("renderFrame",{timeStamp:$})),U._applyChanges()})},ai.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var _o=function(U){function $(W,I){U.call(this),this._moving=!1,this._zooming=!1,this.transform=W,this._bearingSnap=I.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(W,I){return this.jumpTo({center:W},I)},$.prototype.panBy=function(W,I,G){return W=n.Point.convert(W).mult(-1),this.panTo(this.transform.center,n.extend({offset:W},I),G)},$.prototype.panTo=function(W,I,G){return this.easeTo(n.extend({center:W},I),G)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(W,I){return this.jumpTo({zoom:W},I),this},$.prototype.zoomTo=function(W,I,G){return this.easeTo(n.extend({zoom:W},I),G)},$.prototype.zoomIn=function(W,I){return this.zoomTo(this.getZoom()+1,W,I),this},$.prototype.zoomOut=function(W,I){return this.zoomTo(this.getZoom()-1,W,I),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(W,I){return this.jumpTo({bearing:W},I),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(W,I){return this.jumpTo({padding:W},I),this},$.prototype.rotateTo=function(W,I,G){return this.easeTo(n.extend({bearing:W},I),G)},$.prototype.resetNorth=function(W,I){return this.rotateTo(0,n.extend({duration:1e3},W),I),this},$.prototype.resetNorthPitch=function(W,I){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},W),I),this},$.prototype.snapToNorth=function(W,I){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(W,I):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(W,I){return this.jumpTo({pitch:W},I),this},$.prototype.cameraForBounds=function(W,I){W=n.LngLatBounds.convert(W);var G=I&&I.bearing||0;return this._cameraForBoxAndBearing(W.getNorthWest(),W.getSouthEast(),G,I)},$.prototype._cameraForBoxAndBearing=function(W,I,G,te){var oe={top:0,bottom:0,right:0,left:0};if(typeof(te=n.extend({padding:oe,offset:[0,0],maxZoom:this.transform.maxZoom},te)).padding=="number"){var he=te.padding;te.padding={top:he,bottom:he,right:he,left:he}}te.padding=n.extend(oe,te.padding);var we=this.transform,Oe=we.padding,ze=we.project(n.LngLat.convert(W)),qe=we.project(n.LngLat.convert(I)),We=ze.rotate(-G*Math.PI/180),rt=qe.rotate(-G*Math.PI/180),ft=new n.Point(Math.max(We.x,rt.x),Math.max(We.y,rt.y)),pt=new n.Point(Math.min(We.x,rt.x),Math.min(We.y,rt.y)),wt=ft.sub(pt),Ct=(we.width-(Oe.left+Oe.right+te.padding.left+te.padding.right))/wt.x,Mt=(we.height-(Oe.top+Oe.bottom+te.padding.top+te.padding.bottom))/wt.y;if(!(Mt<0||Ct<0)){var zt=Math.min(we.scaleZoom(we.scale*Math.min(Ct,Mt)),te.maxZoom),It=typeof te.offset.x=="number"?new n.Point(te.offset.x,te.offset.y):n.Point.convert(te.offset),Xt=(te.padding.left-te.padding.right)/2,Gt=(te.padding.top-te.padding.bottom)/2,Vt=new n.Point(Xt,Gt).rotate(G*Math.PI/180),pn=It.add(Vt).mult(we.scale/we.zoomScale(zt));return{center:we.unproject(ze.add(qe).div(2).sub(pn)),zoom:zt,bearing:G}}n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},$.prototype.fitBounds=function(W,I,G){return this._fitInternal(this.cameraForBounds(W,I),I,G)},$.prototype.fitScreenCoordinates=function(W,I,G,te,oe){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(W)),this.transform.pointLocation(n.Point.convert(I)),G,te),te,oe)},$.prototype._fitInternal=function(W,I,G){return W?(delete(I=n.extend(W,I)).padding,I.linear?this.easeTo(I,G):this.flyTo(I,G)):this},$.prototype.jumpTo=function(W,I){this.stop();var G=this.transform,te=!1,oe=!1,he=!1;return"zoom"in W&&G.zoom!==+W.zoom&&(te=!0,G.zoom=+W.zoom),W.center!==void 0&&(G.center=n.LngLat.convert(W.center)),"bearing"in W&&G.bearing!==+W.bearing&&(oe=!0,G.bearing=+W.bearing),"pitch"in W&&G.pitch!==+W.pitch&&(he=!0,G.pitch=+W.pitch),W.padding==null||G.isPaddingEqual(W.padding)||(G.padding=W.padding),this.fire(new n.Event("movestart",I)).fire(new n.Event("move",I)),te&&this.fire(new n.Event("zoomstart",I)).fire(new n.Event("zoom",I)).fire(new n.Event("zoomend",I)),oe&&this.fire(new n.Event("rotatestart",I)).fire(new n.Event("rotate",I)).fire(new n.Event("rotateend",I)),he&&this.fire(new n.Event("pitchstart",I)).fire(new n.Event("pitch",I)).fire(new n.Event("pitchend",I)),this.fire(new n.Event("moveend",I))},$.prototype.easeTo=function(W,I){var G=this;this._stop(!1,W.easeId),((W=n.extend({offset:[0,0],duration:500,easing:n.ease},W)).animate===!1||!W.essential&&n.browser.prefersReducedMotion)&&(W.duration=0);var te=this.transform,oe=this.getZoom(),he=this.getBearing(),we=this.getPitch(),Oe=this.getPadding(),ze="zoom"in W?+W.zoom:oe,qe="bearing"in W?this._normalizeBearing(W.bearing,he):he,We="pitch"in W?+W.pitch:we,rt="padding"in W?W.padding:te.padding,ft=n.Point.convert(W.offset),pt=te.centerPoint.add(ft),wt=te.pointLocation(pt),Ct=n.LngLat.convert(W.center||wt);this._normalizeCenter(Ct);var Mt,zt,It=te.project(wt),Xt=te.project(Ct).sub(It),Gt=te.zoomScale(ze-oe);W.around&&(Mt=n.LngLat.convert(W.around),zt=te.locationPoint(Mt));var Vt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ze!==oe,this._rotating=this._rotating||he!==qe,this._pitching=this._pitching||We!==we,this._padding=!te.isPaddingEqual(rt),this._easeId=W.easeId,this._prepareEase(I,W.noMoveStart,Vt),this._ease(function(pn){if(G._zooming&&(te.zoom=n.number(oe,ze,pn)),G._rotating&&(te.bearing=n.number(he,qe,pn)),G._pitching&&(te.pitch=n.number(we,We,pn)),G._padding&&(te.interpolatePadding(Oe,rt,pn),pt=te.centerPoint.add(ft)),Mt)te.setLocationAtPoint(Mt,zt);else{var yn=te.zoomScale(te.zoom-oe),Sn=ze>oe?Math.min(2,Gt):Math.max(.5,Gt),Pn=Math.pow(Sn,1-pn),Vn=te.unproject(It.add(Xt.mult(pn*Pn)).mult(yn));te.setLocationAtPoint(te.renderWorldCopies?Vn.wrap():Vn,pt)}G._fireMoveEvents(I)},function(pn){G._afterEase(I,pn)},W),this},$.prototype._prepareEase=function(W,I,G){G===void 0&&(G={}),this._moving=!0,I||G.moving||this.fire(new n.Event("movestart",W)),this._zooming&&!G.zooming&&this.fire(new n.Event("zoomstart",W)),this._rotating&&!G.rotating&&this.fire(new n.Event("rotatestart",W)),this._pitching&&!G.pitching&&this.fire(new n.Event("pitchstart",W))},$.prototype._fireMoveEvents=function(W){this.fire(new n.Event("move",W)),this._zooming&&this.fire(new n.Event("zoom",W)),this._rotating&&this.fire(new n.Event("rotate",W)),this._pitching&&this.fire(new n.Event("pitch",W))},$.prototype._afterEase=function(W,I){if(!this._easeId||!I||this._easeId!==I){delete this._easeId;var G=this._zooming,te=this._rotating,oe=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,G&&this.fire(new n.Event("zoomend",W)),te&&this.fire(new n.Event("rotateend",W)),oe&&this.fire(new n.Event("pitchend",W)),this.fire(new n.Event("moveend",W))}},$.prototype.flyTo=function(W,I){var G=this;if(!W.essential&&n.browser.prefersReducedMotion){var te=n.pick(W,["center","zoom","bearing","pitch","around"]);return this.jumpTo(te,I)}this.stop(),W=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},W);var oe=this.transform,he=this.getZoom(),we=this.getBearing(),Oe=this.getPitch(),ze=this.getPadding(),qe="zoom"in W?n.clamp(+W.zoom,oe.minZoom,oe.maxZoom):he,We="bearing"in W?this._normalizeBearing(W.bearing,we):we,rt="pitch"in W?+W.pitch:Oe,ft="padding"in W?W.padding:oe.padding,pt=oe.zoomScale(qe-he),wt=n.Point.convert(W.offset),Ct=oe.centerPoint.add(wt),Mt=oe.pointLocation(Ct),zt=n.LngLat.convert(W.center||Mt);this._normalizeCenter(zt);var It=oe.project(Mt),Xt=oe.project(zt).sub(It),Gt=W.curve,Vt=Math.max(oe.width,oe.height),pn=Vt/pt,yn=Xt.mag();if("minZoom"in W){var Sn=n.clamp(Math.min(W.minZoom,he,qe),oe.minZoom,oe.maxZoom),Pn=Vt/oe.zoomScale(Sn-he);Gt=Math.sqrt(Pn/yn*2)}var Vn=Gt*Gt;function ir(cr){var Ar=(pn*pn-Vt*Vt+(cr?-1:1)*Vn*Vn*yn*yn)/(2*(cr?pn:Vt)*Vn*yn);return Math.log(Math.sqrt(Ar*Ar+1)-Ar)}function ur(cr){return(Math.exp(cr)-Math.exp(-cr))/2}function Yn(cr){return(Math.exp(cr)+Math.exp(-cr))/2}var lr=ir(0),xr=function(cr){return Yn(lr)/Yn(lr+Gt*cr)},Er=function(cr){return Vt*((Yn(lr)*(ur(Ar=lr+Gt*cr)/Yn(Ar))-ur(lr))/Vn)/yn;var Ar},tr=(ir(1)-lr)/Gt;if(Math.abs(yn)<1e-6||!isFinite(tr)){if(Math.abs(Vt-pn)<1e-6)return this.easeTo(W,I);var sr=pn<Vt?-1:1;tr=Math.abs(Math.log(pn/Vt))/Gt,Er=function(){return 0},xr=function(cr){return Math.exp(sr*Gt*cr)}}if("duration"in W)W.duration=+W.duration;else{var wr="screenSpeed"in W?+W.screenSpeed/Gt:+W.speed;W.duration=1e3*tr/wr}return W.maxDuration&&W.duration>W.maxDuration&&(W.duration=0),this._zooming=!0,this._rotating=we!==We,this._pitching=rt!==Oe,this._padding=!oe.isPaddingEqual(ft),this._prepareEase(I,!1),this._ease(function(cr){var Ar=cr*tr,Lr=1/xr(Ar);oe.zoom=cr===1?qe:he+oe.scaleZoom(Lr),G._rotating&&(oe.bearing=n.number(we,We,cr)),G._pitching&&(oe.pitch=n.number(Oe,rt,cr)),G._padding&&(oe.interpolatePadding(ze,ft,cr),Ct=oe.centerPoint.add(wt));var qr=cr===1?zt:oe.unproject(It.add(Xt.mult(Er(Ar))).mult(Lr));oe.setLocationAtPoint(oe.renderWorldCopies?qr.wrap():qr,Ct),G._fireMoveEvents(I)},function(){return G._afterEase(I)},W),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(W,I){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var G=this._onEaseEnd;delete this._onEaseEnd,G.call(this,I)}if(!W){var te=this.handlers;te&&te.stop(!1)}return this},$.prototype._ease=function(W,I,G){G.animate===!1||G.duration===0?(W(1),I()):(this._easeStart=n.browser.now(),this._easeOptions=G,this._onEaseFrame=W,this._onEaseEnd=I,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var W=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(W)),W<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(W,I){W=n.wrap(W,-180,180);var G=Math.abs(W-I);return Math.abs(W-360-I)<G&&(W-=360),Math.abs(W+360-I)<G&&(W+=360),W},$.prototype._normalizeCenter=function(W){var I=this.transform;if(I.renderWorldCopies&&!I.lngRange){var G=W.lng-I.center.lng;W.lng+=G>180?-360:G<-180?360:0}},$}(n.Evented),jo=function(U){U===void 0&&(U={}),this.options=U,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};jo.prototype.getDefaultPosition=function(){return"bottom-right"},jo.prototype.onAdd=function(U){var $=this.options&&this.options.compact;return this._map=U,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),$&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),$===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},jo.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},jo.prototype._setElementTitle=function(U,$){var W=this._map._getUIString("AttributionControl."+$);U.title=W,U.setAttribute("aria-label",W)},jo.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},jo.prototype._updateEditLink=function(){var U=this._editLink;U||(U=this._editLink=this._container.querySelector(".mapbox-improve-map"));var $=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(U){var W=$.reduce(function(I,G,te){return G.value&&(I+=G.key+"="+G.value+(te<$.length-1?"&":"")),I},"?");U.href=n.config.FEEDBACK_URL+"/"+W+(this._map._hash?this._map._hash.getHashString(!0):""),U.rel="noopener nofollow",this._setElementTitle(U,"MapFeedback")}},jo.prototype._updateData=function(U){!U||U.sourceDataType!=="metadata"&&U.sourceDataType!=="visibility"&&U.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},jo.prototype._updateAttributions=function(){if(this._map.style){var U=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?U=U.concat(this.options.customAttribution.map(function(he){return typeof he!="string"?"":he})):typeof this.options.customAttribution=="string"&&U.push(this.options.customAttribution)),this._map.style.stylesheet){var $=this._map.style.stylesheet;this.styleOwner=$.owner,this.styleId=$.id}var W=this._map.style.sourceCaches;for(var I in W){var G=W[I];if(G.used){var te=G.getSource();te.attribution&&U.indexOf(te.attribution)<0&&U.push(te.attribution)}}U.sort(function(he,we){return he.length-we.length});var oe=(U=U.filter(function(he,we){for(var Oe=we+1;Oe<U.length;Oe++)if(U[Oe].indexOf(he)>=0)return!1;return!0})).join(" | ");oe!==this._attribHTML&&(this._attribHTML=oe,U.length?(this._innerContainer.innerHTML=oe,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},jo.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Ya=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};Ya.prototype.onAdd=function(U){this._map=U,this._container=b.create("div","mapboxgl-ctrl");var $=b.create("a","mapboxgl-ctrl-logo");return $.target="_blank",$.rel="noopener nofollow",$.href="https://www.mapbox.com/",$.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),$.setAttribute("rel","noopener nofollow"),this._container.appendChild($),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ya.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ya.prototype.getDefaultPosition=function(){return"bottom-left"},Ya.prototype._updateLogo=function(U){U&&U.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Ya.prototype._logoRequired=function(){if(this._map.style){var U=this._map.style.sourceCaches;for(var $ in U)if(U[$].getSource().mapbox_logo)return!0;return!1}},Ya.prototype._updateCompact=function(){var U=this._container.children;if(U.length){var $=U[0];this._map.getCanvasContainer().offsetWidth<250?$.classList.add("mapboxgl-compact"):$.classList.remove("mapboxgl-compact")}};var Uo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Uo.prototype.add=function(U){var $=++this._id;return this._queue.push({callback:U,id:$,cancelled:!1}),$},Uo.prototype.remove=function(U){for(var $=this._currentlyRunning,W=0,I=$?this._queue.concat($):this._queue;W<I.length;W+=1){var G=I[W];if(G.id===U)return void(G.cancelled=!0)}},Uo.prototype.run=function(U){U===void 0&&(U=0);var $=this._currentlyRunning=this._queue;this._queue=[];for(var W=0,I=$;W<I.length;W+=1){var G=I[W];if(!G.cancelled&&(G.callback(U),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Uo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Tl={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ml=n.window.HTMLImageElement,Vo=n.window.HTMLElement,ri=n.window.ImageBitmap,$a=60,rl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:$a,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Da=function(U){function $(I){var G=this;if((I=n.extend({},rl,I)).minZoom!=null&&I.maxZoom!=null&&I.minZoom>I.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(I.minPitch!=null&&I.maxPitch!=null&&I.minPitch>I.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(I.minPitch!=null&&I.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(I.maxPitch!=null&&I.maxPitch>$a)throw new Error("maxPitch must be less than or equal to 60");var te=new li(I.minZoom,I.maxZoom,I.minPitch,I.maxPitch,I.renderWorldCopies);if(U.call(this,te,I),this._interactive=I.interactive,this._maxTileCacheSize=I.maxTileCacheSize,this._failIfMajorPerformanceCaveat=I.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=I.preserveDrawingBuffer,this._antialias=I.antialias,this._trackResize=I.trackResize,this._bearingSnap=I.bearingSnap,this._refreshExpiredTiles=I.refreshExpiredTiles,this._fadeDuration=I.fadeDuration,this._crossSourceCollisions=I.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=I.collectResourceTiming,this._renderTaskQueue=new Uo,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},Tl,I.locale),this._clickTolerance=I.clickTolerance,this._requestManager=new n.RequestManager(I.transformRequest,I.accessToken),typeof I.container=="string"){if(this._container=n.window.document.getElementById(I.container),!this._container)throw new Error("Container '"+I.container+"' not found.")}else{if(!(I.container instanceof Vo))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=I.container}if(I.maxBounds&&this.setMaxBounds(I.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return G._update(!1)}),this.on("moveend",function(){return G._update(!1)}),this.on("zoom",function(){return G._update(!0)}),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new ai(this,I);var oe=typeof I.hash=="string"&&I.hash||void 0;this._hash=I.hash&&new ra(oe).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:I.center,zoom:I.zoom,bearing:I.bearing,pitch:I.pitch}),I.bounds&&(this.resize(),this.fitBounds(I.bounds,n.extend({},I.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=I.localIdeographFontFamily,I.style&&this.setStyle(I.style,{localIdeographFontFamily:I.localIdeographFontFamily}),I.attributionControl&&this.addControl(new jo({customAttribution:I.customAttribution})),this.addControl(new Ya,I.logoPosition),this.on("style.load",function(){G.transform.unmodified&&G.jumpTo(G.style.stylesheet)}),this.on("data",function(he){G._update(he.dataType==="style"),G.fire(new n.Event(he.dataType+"data",he))}),this.on("dataloading",function(he){G.fire(new n.Event(he.dataType+"dataloading",he))})}U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$;var W={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(I,G){if(G===void 0&&(G=I.getDefaultPosition?I.getDefaultPosition():"top-right"),!I||!I.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var te=I.onAdd(this);this._controls.push(I);var oe=this._controlPositions[G];return G.indexOf("bottom")!==-1?oe.insertBefore(te,oe.firstChild):oe.appendChild(te),this},$.prototype.removeControl=function(I){if(!I||!I.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var G=this._controls.indexOf(I);return G>-1&&this._controls.splice(G,1),I.onRemove(this),this},$.prototype.hasControl=function(I){return this._controls.indexOf(I)>-1},$.prototype.resize=function(I){var G=this._containerDimensions(),te=G[0],oe=G[1];this._resizeCanvas(te,oe),this.transform.resize(te,oe),this.painter.resize(te,oe);var he=!this._moving;return he&&(this.stop(),this.fire(new n.Event("movestart",I)).fire(new n.Event("move",I))),this.fire(new n.Event("resize",I)),he&&this.fire(new n.Event("moveend",I)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(I){return this.transform.setMaxBounds(n.LngLatBounds.convert(I)),this._update()},$.prototype.setMinZoom=function(I){if((I=I??-2)>=-2&&I<=this.transform.maxZoom)return this.transform.minZoom=I,this._update(),this.getZoom()<I&&this.setZoom(I),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(I){if((I=I??22)>=this.transform.minZoom)return this.transform.maxZoom=I,this._update(),this.getZoom()>I&&this.setZoom(I),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(I){if((I=I??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(I>=0&&I<=this.transform.maxPitch)return this.transform.minPitch=I,this._update(),this.getPitch()<I&&this.setPitch(I),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(I){if((I=I??$a)>$a)throw new Error("maxPitch must be less than or equal to 60");if(I>=this.transform.minPitch)return this.transform.maxPitch=I,this._update(),this.getPitch()>I&&this.setPitch(I),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(I){return this.transform.renderWorldCopies=I,this._update()},$.prototype.project=function(I){return this.transform.locationPoint(n.LngLat.convert(I))},$.prototype.unproject=function(I){return this.transform.pointLocation(n.Point.convert(I))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(I,G,te){var oe,he=this;if(I==="mouseenter"||I==="mouseover"){var we=!1;return{layer:G,listener:te,delegates:{mousemove:function(ze){var qe=he.getLayer(G)?he.queryRenderedFeatures(ze.point,{layers:[G]}):[];qe.length?we||(we=!0,te.call(he,new Lo(I,he,ze.originalEvent,{features:qe}))):we=!1},mouseout:function(){we=!1}}}}if(I==="mouseleave"||I==="mouseout"){var Oe=!1;return{layer:G,listener:te,delegates:{mousemove:function(ze){(he.getLayer(G)?he.queryRenderedFeatures(ze.point,{layers:[G]}):[]).length?Oe=!0:Oe&&(Oe=!1,te.call(he,new Lo(I,he,ze.originalEvent)))},mouseout:function(ze){Oe&&(Oe=!1,te.call(he,new Lo(I,he,ze.originalEvent)))}}}}return{layer:G,listener:te,delegates:(oe={},oe[I]=function(ze){var qe=he.getLayer(G)?he.queryRenderedFeatures(ze.point,{layers:[G]}):[];qe.length&&(ze.features=qe,te.call(he,ze),delete ze.features)},oe)}},$.prototype.on=function(I,G,te){if(te===void 0)return U.prototype.on.call(this,I,G);var oe=this._createDelegatedListener(I,G,te);for(var he in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[I]=this._delegatedListeners[I]||[],this._delegatedListeners[I].push(oe),oe.delegates)this.on(he,oe.delegates[he]);return this},$.prototype.once=function(I,G,te){if(te===void 0)return U.prototype.once.call(this,I,G);var oe=this._createDelegatedListener(I,G,te);for(var he in oe.delegates)this.once(he,oe.delegates[he]);return this},$.prototype.off=function(I,G,te){var oe=this;return te===void 0?U.prototype.off.call(this,I,G):(this._delegatedListeners&&this._delegatedListeners[I]&&function(he){for(var we=he[I],Oe=0;Oe<we.length;Oe++){var ze=we[Oe];if(ze.layer===G&&ze.listener===te){for(var qe in ze.delegates)oe.off(qe,ze.delegates[qe]);return we.splice(Oe,1),oe}}}(this._delegatedListeners),this)},$.prototype.queryRenderedFeatures=function(I,G){if(!this.style)return[];var te;if(G!==void 0||I===void 0||I instanceof n.Point||Array.isArray(I)||(G=I,I=void 0),G=G||{},(I=I||[[0,0],[this.transform.width,this.transform.height]])instanceof n.Point||typeof I[0]=="number")te=[n.Point.convert(I)];else{var oe=n.Point.convert(I[0]),he=n.Point.convert(I[1]);te=[oe,new n.Point(he.x,oe.y),he,new n.Point(oe.x,he.y),oe]}return this.style.queryRenderedFeatures(te,G,this.transform)},$.prototype.querySourceFeatures=function(I,G){return this.style.querySourceFeatures(I,G)},$.prototype.setStyle=function(I,G){return(G=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},G)).diff!==!1&&G.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&I?(this._diffStyle(I,G),this):(this._localIdeographFontFamily=G.localIdeographFontFamily,this._updateStyle(I,G))},$.prototype._getUIString=function(I){var G=this._locale[I];if(G==null)throw new Error("Missing UI string '"+I+"'");return G},$.prototype._updateStyle=function(I,G){return this.style&&(this.style.setEventedParent(null),this.style._remove()),I?(this.style=new rr(this,G||{}),this.style.setEventedParent(this,{style:this.style}),typeof I=="string"?this.style.loadURL(I):this.style.loadJSON(I),this):(delete this.style,this)},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new rr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(I,G){var te=this;if(typeof I=="string"){var oe=this._requestManager.normalizeStyleURL(I),he=this._requestManager.transformRequest(oe,n.ResourceType.Style);n.getJSON(he,function(we,Oe){we?te.fire(new n.ErrorEvent(we)):Oe&&te._updateDiff(Oe,G)})}else typeof I=="object"&&this._updateDiff(I,G)},$.prototype._updateDiff=function(I,G){try{this.style.setState(I)&&this._update(!0)}catch(te){n.warnOnce("Unable to perform style diff: "+(te.message||te.error||te)+".  Rebuilding the style from scratch."),this._updateStyle(I,G)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(I,G){return this._lazyInitEmptyStyle(),this.style.addSource(I,G),this._update(!0)},$.prototype.isSourceLoaded=function(I){var G=this.style&&this.style.sourceCaches[I];if(G!==void 0)return G.loaded();this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+I+"'")))},$.prototype.areTilesLoaded=function(){var I=this.style&&this.style.sourceCaches;for(var G in I){var te=I[G]._tiles;for(var oe in te){var he=te[oe];if(he.state!=="loaded"&&he.state!=="errored")return!1}}return!0},$.prototype.addSourceType=function(I,G,te){return this._lazyInitEmptyStyle(),this.style.addSourceType(I,G,te)},$.prototype.removeSource=function(I){return this.style.removeSource(I),this._update(!0)},$.prototype.getSource=function(I){return this.style.getSource(I)},$.prototype.addImage=function(I,G,te){te===void 0&&(te={});var oe=te.pixelRatio;oe===void 0&&(oe=1);var he=te.sdf;he===void 0&&(he=!1);var we=te.stretchX,Oe=te.stretchY,ze=te.content;if(this._lazyInitEmptyStyle(),G instanceof Ml||ri&&G instanceof ri){var qe=n.browser.getImageData(G),We=qe.width,rt=qe.height,ft=qe.data;this.style.addImage(I,{data:new n.RGBAImage({width:We,height:rt},ft),pixelRatio:oe,stretchX:we,stretchY:Oe,content:ze,sdf:he,version:0})}else{if(G.width===void 0||G.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var pt=G.width,wt=G.height,Ct=G.data,Mt=G;this.style.addImage(I,{data:new n.RGBAImage({width:pt,height:wt},new Uint8Array(Ct)),pixelRatio:oe,stretchX:we,stretchY:Oe,content:ze,sdf:he,version:0,userImage:Mt}),Mt.onAdd&&Mt.onAdd(this,I)}},$.prototype.updateImage=function(I,G){var te=this.style.getImage(I);if(!te)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var oe=G instanceof Ml||ri&&G instanceof ri?n.browser.getImageData(G):G,he=oe.width,we=oe.height,Oe=oe.data;if(he===void 0||we===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(he!==te.data.width||we!==te.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var ze=!(G instanceof Ml||ri&&G instanceof ri);te.data.replace(Oe,ze),this.style.updateImage(I,te)},$.prototype.hasImage=function(I){return I?!!this.style.getImage(I):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(I){this.style.removeImage(I)},$.prototype.loadImage=function(I,G){n.getImage(this._requestManager.transformRequest(I,n.ResourceType.Image),G)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(I,G){return this._lazyInitEmptyStyle(),this.style.addLayer(I,G),this._update(!0)},$.prototype.moveLayer=function(I,G){return this.style.moveLayer(I,G),this._update(!0)},$.prototype.removeLayer=function(I){return this.style.removeLayer(I),this._update(!0)},$.prototype.getLayer=function(I){return this.style.getLayer(I)},$.prototype.setLayerZoomRange=function(I,G,te){return this.style.setLayerZoomRange(I,G,te),this._update(!0)},$.prototype.setFilter=function(I,G,te){return te===void 0&&(te={}),this.style.setFilter(I,G,te),this._update(!0)},$.prototype.getFilter=function(I){return this.style.getFilter(I)},$.prototype.setPaintProperty=function(I,G,te,oe){return oe===void 0&&(oe={}),this.style.setPaintProperty(I,G,te,oe),this._update(!0)},$.prototype.getPaintProperty=function(I,G){return this.style.getPaintProperty(I,G)},$.prototype.setLayoutProperty=function(I,G,te,oe){return oe===void 0&&(oe={}),this.style.setLayoutProperty(I,G,te,oe),this._update(!0)},$.prototype.getLayoutProperty=function(I,G){return this.style.getLayoutProperty(I,G)},$.prototype.setLight=function(I,G){return G===void 0&&(G={}),this._lazyInitEmptyStyle(),this.style.setLight(I,G),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(I,G){return this.style.setFeatureState(I,G),this._update()},$.prototype.removeFeatureState=function(I,G){return this.style.removeFeatureState(I,G),this._update()},$.prototype.getFeatureState=function(I){return this.style.getFeatureState(I)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var I=0,G=0;return this._container&&(I=this._container.clientWidth||400,G=this._container.clientHeight||300),[I,G]},$.prototype._detectMissingCSS=function(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var I=this._container;I.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",I)).style.visibility="hidden",this._detectMissingCSS();var G=this._canvasContainer=b.create("div","mapboxgl-canvas-container",I);this._interactive&&G.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",G),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var te=this._containerDimensions();this._resizeCanvas(te[0],te[1]);var oe=this._controlContainer=b.create("div","mapboxgl-control-container",I),he=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(we){he[we]=b.create("div","mapboxgl-ctrl-"+we,oe)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},$.prototype._resizeCanvas=function(I,G){var te=n.browser.devicePixelRatio||1;this._canvas.width=te*I,this._canvas.height=te*G,this._canvas.style.width=I+"px",this._canvas.style.height=G+"px"},$.prototype._setupPainter=function(){var I=n.extend({},M.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),G=this._canvas.getContext("webgl",I)||this._canvas.getContext("experimental-webgl",I);G?(this.painter=new xi(G,this.transform),n.webpSupported.testSupport(G)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))},$.prototype._contextLost=function(I){I.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:I}))},$.prototype._contextRestored=function(I){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:I}))},$.prototype._onMapScroll=function(I){if(I.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(I){return this.style?(this._styleDirty=this._styleDirty||I,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(I){return this._update(),this._renderTaskQueue.add(I)},$.prototype._cancelRenderFrame=function(I){this._renderTaskQueue.remove(I)},$.prototype._render=function(I){var G,te=this,oe=0,he=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(G=he.createQueryEXT(),he.beginQueryEXT(he.TIME_ELAPSED_EXT,G),oe=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(I),!this._removed){var we=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Oe=this.transform.zoom,ze=n.browser.now();this.style.zoomHistory.update(Oe,ze);var qe=new n.EvaluationParameters(Oe,{now:ze,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),We=qe.crossFadingFactor();We===1&&We===this._crossFadingFactor||(we=!0,this._crossFadingFactor=We),this.style.update(qe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||we)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var rt=n.browser.now()-oe;he.endQueryEXT(he.TIME_ELAPSED_EXT,G),setTimeout(function(){var wt=he.getQueryObjectEXT(G,he.QUERY_RESULT_EXT)/1e6;he.deleteQueryEXT(G),te.fire(new n.Event("gpu-timing-frame",{cpuTime:rt,gpuTime:wt}))},50)}if(this.listens("gpu-timing-layer")){var ft=this.painter.collectGpuTimers();setTimeout(function(){var wt=te.painter.queryGpuTimers(ft);te.fire(new n.Event("gpu-timing-layer",{layerTimes:wt}))},50)}var pt=this._sourcesDirty||this._styleDirty||this._placementDirty;return pt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),!this._loaded||this._fullyLoaded||pt||(this._fullyLoaded=!0),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var I=0,G=this._controls;I<G.length;I+=1)G[I].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var te=this.painter.context.gl.getExtension("WEBGL_lose_context");te&&te.loseContext&&te.loseContext(),Al(this._canvasContainer),Al(this._controlContainer),Al(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},$.prototype.triggerRepaint=function(){var I=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(G){I._frame=null,I._render(G)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(I){this._trackResize&&this.resize({originalEvent:I})._update()},W.showTileBoundaries.get=function(){return!!this._showTileBoundaries},W.showTileBoundaries.set=function(I){this._showTileBoundaries!==I&&(this._showTileBoundaries=I,this._update())},W.showPadding.get=function(){return!!this._showPadding},W.showPadding.set=function(I){this._showPadding!==I&&(this._showPadding=I,this._update())},W.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},W.showCollisionBoxes.set=function(I){this._showCollisionBoxes!==I&&(this._showCollisionBoxes=I,I?this.style._generateCollisionBoxes():this._update())},W.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},W.showOverdrawInspector.set=function(I){this._showOverdrawInspector!==I&&(this._showOverdrawInspector=I,this._update())},W.repaint.get=function(){return!!this._repaint},W.repaint.set=function(I){this._repaint!==I&&(this._repaint=I,this.triggerRepaint())},W.vertices.get=function(){return!!this._vertices},W.vertices.set=function(I){this._vertices=I,this._update()},$.prototype._setCacheLimits=function(I,G){n.setCacheLimits(I,G)},W.version.get=function(){return n.version},Object.defineProperties($.prototype,W),$}(_o);function Al(U){U.parentNode&&U.parentNode.removeChild(U)}var kl={showCompass:!0,showZoom:!0,visualizePitch:!1},Ia=function(U){var $=this;this.options=n.extend({},kl,U),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(W){return W.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(W){return $._map.zoomIn({},{originalEvent:W})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(W){return $._map.zoomOut({},{originalEvent:W})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(W){$.options.visualizePitch?$._map.resetNorthPitch({},{originalEvent:W}):$._map.resetNorth({},{originalEvent:W})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ia.prototype._updateZoomButtons=function(){var U=this._map.getZoom(),$=U===this._map.getMaxZoom(),W=U===this._map.getMinZoom();this._zoomInButton.disabled=$,this._zoomOutButton.disabled=W,this._zoomInButton.setAttribute("aria-disabled",$.toString()),this._zoomOutButton.setAttribute("aria-disabled",W.toString())},Ia.prototype._rotateCompassArrow=function(){var U=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=U},Ia.prototype.onAdd=function(U){return this._map=U,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Di(this._map,this._compass,this.options.visualizePitch)),this._container},Ia.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ia.prototype._createButton=function(U,$){var W=b.create("button",U,this._container);return W.type="button",W.addEventListener("click",$),W},Ia.prototype._setButtonTitle=function(U,$){var W=this._map._getUIString("NavigationControl."+$);U.title=W,U.setAttribute("aria-label",W)};var Di=function(U,$,W){W===void 0&&(W=!1),this._clickTolerance=10,this.element=$,this.mouseRotate=new as({clickTolerance:U.dragRotate._mouseRotate._clickTolerance}),this.map=U,W&&(this.mousePitch=new da({clickTolerance:U.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener($,"mousedown",this.mousedown),b.addEventListener($,"touchstart",this.touchstart,{passive:!1}),b.addEventListener($,"touchmove",this.touchmove),b.addEventListener($,"touchend",this.touchend),b.addEventListener($,"touchcancel",this.reset)};function il(U,$,W){if(U=new n.LngLat(U.lng,U.lat),$){var I=new n.LngLat(U.lng-360,U.lat),G=new n.LngLat(U.lng+360,U.lat),te=W.locationPoint(U).distSqr($);W.locationPoint(I).distSqr($)<te?U=I:W.locationPoint(G).distSqr($)<te&&(U=G)}for(;Math.abs(U.lng-W.center.lng)>180;){var oe=W.locationPoint(U);if(oe.x>=0&&oe.y>=0&&oe.x<=W.width&&oe.y<=W.height)break;U.lng>W.center.lng?U.lng-=360:U.lng+=360}return U}Di.prototype.down=function(U,$){this.mouseRotate.mousedown(U,$),this.mousePitch&&this.mousePitch.mousedown(U,$),b.disableDrag()},Di.prototype.move=function(U,$){var W=this.map,I=this.mouseRotate.mousemoveWindow(U,$);if(I&&I.bearingDelta&&W.setBearing(W.getBearing()+I.bearingDelta),this.mousePitch){var G=this.mousePitch.mousemoveWindow(U,$);G&&G.pitchDelta&&W.setPitch(W.getPitch()+G.pitchDelta)}},Di.prototype.off=function(){var U=this.element;b.removeEventListener(U,"mousedown",this.mousedown),b.removeEventListener(U,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(U,"touchmove",this.touchmove),b.removeEventListener(U,"touchend",this.touchend),b.removeEventListener(U,"touchcancel",this.reset),this.offTemp()},Di.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(n.window,"mousemove",this.mousemove),b.removeEventListener(n.window,"mouseup",this.mouseup)},Di.prototype.mousedown=function(U){this.down(n.extend({},U,{ctrlKey:!0,preventDefault:function(){return U.preventDefault()}}),b.mousePos(this.element,U)),b.addEventListener(n.window,"mousemove",this.mousemove),b.addEventListener(n.window,"mouseup",this.mouseup)},Di.prototype.mousemove=function(U){this.move(U,b.mousePos(this.element,U))},Di.prototype.mouseup=function(U){this.mouseRotate.mouseupWindow(U),this.mousePitch&&this.mousePitch.mouseupWindow(U),this.offTemp()},Di.prototype.touchstart=function(U){U.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,U.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return U.preventDefault()}},this._startPos))},Di.prototype.touchmove=function(U){U.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,U.targetTouches)[0],this.move({preventDefault:function(){return U.preventDefault()}},this._lastPos))},Di.prototype.touchend=function(U){U.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Di.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Sr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Pr(U,$,W){var I=U.classList;for(var G in Sr)I.remove("mapboxgl-"+W+"-anchor-"+G);I.add("mapboxgl-"+W+"-anchor-"+$)}var ia,Za=function(U){function $(W,I){if(U.call(this),(W instanceof n.window.HTMLElement||I)&&(W=n.extend({element:W},I)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=W&&W.anchor||"center",this._color=W&&W.color||"#3FB1CE",this._scale=W&&W.scale||1,this._draggable=W&&W.draggable||!1,this._clickTolerance=W&&W.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=W&&W.rotation||0,this._rotationAlignment=W&&W.rotationAlignment||"auto",this._pitchAlignment=W&&W.pitchAlignment&&W.pitchAlignment!=="auto"?W.pitchAlignment:this._rotationAlignment,W&&W.element)this._element=W.element,this._offset=n.Point.convert(W&&W.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var G=b.createNS("http://www.w3.org/2000/svg","svg");G.setAttributeNS(null,"display","block"),G.setAttributeNS(null,"height","41px"),G.setAttributeNS(null,"width","27px"),G.setAttributeNS(null,"viewBox","0 0 27 41");var te=b.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"stroke","none"),te.setAttributeNS(null,"stroke-width","1"),te.setAttributeNS(null,"fill","none"),te.setAttributeNS(null,"fill-rule","evenodd");var oe=b.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"fill-rule","nonzero");var he=b.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(3.0, 29.0)"),he.setAttributeNS(null,"fill","#000000");for(var we=0,Oe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];we<Oe.length;we+=1){var ze=Oe[we],qe=b.createNS("http://www.w3.org/2000/svg","ellipse");qe.setAttributeNS(null,"opacity","0.04"),qe.setAttributeNS(null,"cx","10.5"),qe.setAttributeNS(null,"cy","5.80029008"),qe.setAttributeNS(null,"rx",ze.rx),qe.setAttributeNS(null,"ry",ze.ry),he.appendChild(qe)}var We=b.createNS("http://www.w3.org/2000/svg","g");We.setAttributeNS(null,"fill",this._color);var rt=b.createNS("http://www.w3.org/2000/svg","path");rt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),We.appendChild(rt);var ft=b.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"opacity","0.25"),ft.setAttributeNS(null,"fill","#000000");var pt=b.createNS("http://www.w3.org/2000/svg","path");pt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ft.appendChild(pt);var wt=b.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),wt.setAttributeNS(null,"fill","#FFFFFF");var Ct=b.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Mt=b.createNS("http://www.w3.org/2000/svg","circle");Mt.setAttributeNS(null,"fill","#000000"),Mt.setAttributeNS(null,"opacity","0.25"),Mt.setAttributeNS(null,"cx","5.5"),Mt.setAttributeNS(null,"cy","5.5"),Mt.setAttributeNS(null,"r","5.4999962");var zt=b.createNS("http://www.w3.org/2000/svg","circle");zt.setAttributeNS(null,"fill","#FFFFFF"),zt.setAttributeNS(null,"cx","5.5"),zt.setAttributeNS(null,"cy","5.5"),zt.setAttributeNS(null,"r","5.4999962"),Ct.appendChild(Mt),Ct.appendChild(zt),oe.appendChild(he),oe.appendChild(We),oe.appendChild(ft),oe.appendChild(wt),oe.appendChild(Ct),G.appendChild(oe),G.setAttributeNS(null,"height",41*this._scale+"px"),G.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(G),this._offset=n.Point.convert(W&&W.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(It){It.preventDefault()}),this._element.addEventListener("mousedown",function(It){It.preventDefault()}),Pr(this._element,this._anchor,"marker"),this._popup=null}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.addTo=function(W){return this.remove(),this._map=W,W.getCanvasContainer().appendChild(this._element),W.on("move",this._update),W.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(W){return this._lngLat=n.LngLat.convert(W),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(W){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),W){if(!("offset"in W.options)){var I=13.5,G=Math.sqrt(Math.pow(I,2)/2);W.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[G,-1*(24.6+G)],"bottom-right":[-G,-1*(24.6+G)],left:[I,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=W,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(W){var I=W.code,G=W.charCode||W.keyCode;I!=="Space"&&I!=="Enter"&&G!==32&&G!==13||this.togglePopup()},$.prototype._onMapClick=function(W){var I=W.originalEvent.target,G=this._element;this._popup&&(I===G||G.contains(I))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var W=this._popup;return W?(W.isOpen()?W.remove():W.addTo(this._map),this):this},$.prototype._update=function(W){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=il(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var I="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?I="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(I="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var G="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?G="rotateX(0deg)":this._pitchAlignment==="map"&&(G="rotateX("+this._map.getPitch()+"deg)"),W&&W.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,Sr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+G+" "+I)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(W){return this._offset=n.Point.convert(W),this._update(),this},$.prototype._onMove=function(W){if(!this._isDragging){var I=this._clickTolerance||this._map._clickTolerance;this._isDragging=W.point.dist(this._pointerdownPos)>=I}this._isDragging&&(this._pos=W.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(W){this._element.contains(W.originalEvent.target)&&(W.preventDefault(),this._positionDelta=W.point.sub(this._pos).add(this._offset),this._pointerdownPos=W.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(W){return this._draggable=!!W,this._map&&(W?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(W){return this._rotation=W||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(W){return this._rotationAlignment=W||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(W){return this._pitchAlignment=W&&W!=="auto"?W:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(n.Evented),us={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},eo=0,Xa=!1,bi=function(U){function $(W){U.call(this),this.options=n.extend({},us,W),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(W){return this._map=W,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),I=this._setupUI,ia!==void 0?I(ia):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(G){ia=G.state!=="denied",I(ia)}):(ia=!!n.window.navigator.geolocation,I(ia)),this._container;var I},$.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,eo=0,Xa=!1},$.prototype._isOutOfMapMaxBounds=function(W){var I=this._map.getMaxBounds(),G=W.coords;return I&&(G.longitude<I.getWest()||G.longitude>I.getEast()||G.latitude<I.getSouth()||G.latitude>I.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},$.prototype._onSuccess=function(W){if(this._map){if(this._isOutOfMapMaxBounds(W))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",W)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=W,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(W),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(W),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",W)),this._finish()}},$.prototype._updateCamera=function(W){var I=new n.LngLat(W.coords.longitude,W.coords.latitude),G=W.coords.accuracy,te=this._map.getBearing(),oe=n.extend({bearing:te},this.options.fitBoundsOptions);this._map.fitBounds(I.toBounds(G),oe,{geolocateSource:!0})},$.prototype._updateMarker=function(W){if(W){var I=new n.LngLat(W.coords.longitude,W.coords.latitude);this._accuracyCircleMarker.setLngLat(I).addTo(this._map),this._userLocationDotMarker.setLngLat(I).addTo(this._map),this._accuracy=W.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var W=this._map._container.clientHeight/2,I=this._map.unproject([0,W]),G=this._map.unproject([1,W]),te=I.distanceTo(G),oe=Math.ceil(2*this._accuracy/te);this._circleElement.style.width=oe+"px",this._circleElement.style.height=oe+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(W){if(this._map){if(this.options.trackUserLocation)if(W.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var I=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=I,this._geolocateButton.setAttribute("aria-label",I),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(W.code===3&&Xa)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",W)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(W){var I=this;if(this._container.addEventListener("contextmenu",function(oe){return oe.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",W===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var G=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=G,this._geolocateButton.setAttribute("aria-label",G)}else{var te=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=te,this._geolocateButton.setAttribute("aria-label",te)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Za(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Za({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(oe){var he=oe.originalEvent&&oe.originalEvent.type==="resize";oe.geolocateSource||I._watchState!=="ACTIVE_LOCK"||he||(I._watchState="BACKGROUND",I._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),I._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),I.fire(new n.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":eo--,Xa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var W;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++eo>1?(W={maximumAge:6e5,timeout:0},Xa=!0):(W=this.options.positionOptions,Xa=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,W)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(n.Evented),rc={maxWidth:100,unit:"metric"},oa=function(U){this.options=n.extend({},rc,U),n.bindAll(["_onMove","setUnit"],this)};function Ti(U,$,W){var I=W&&W.maxWidth||100,G=U._container.clientHeight/2,te=U.unproject([0,G]),oe=U.unproject([I,G]),he=te.distanceTo(oe);if(W&&W.unit==="imperial"){var we=3.2808*he;we>5280?Ni($,I,we/5280,U._getUIString("ScaleControl.Miles")):Ni($,I,we,U._getUIString("ScaleControl.Feet"))}else W&&W.unit==="nautical"?Ni($,I,he/1852,U._getUIString("ScaleControl.NauticalMiles")):he>=1e3?Ni($,I,he/1e3,U._getUIString("ScaleControl.Kilometers")):Ni($,I,he,U._getUIString("ScaleControl.Meters"))}function Ni(U,$,W,I){var G,te,oe,he=(G=W,(te=Math.pow(10,(""+Math.floor(G)).length-1))*((oe=G/te)>=10?10:oe>=5?5:oe>=3?3:oe>=2?2:oe>=1?1:function(Oe){var ze=Math.pow(10,Math.ceil(-Math.log(Oe)/Math.LN10));return Math.round(Oe*ze)/ze}(oe))),we=he/W;U.style.width=$*we+"px",U.innerHTML=he+"&nbsp;"+I}oa.prototype.getDefaultPosition=function(){return"bottom-left"},oa.prototype._onMove=function(){Ti(this._map,this._container,this.options)},oa.prototype.onAdd=function(U){return this._map=U,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",U.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},oa.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},oa.prototype.setUnit=function(U){this.options.unit=U,Ti(this._map,this._container,this.options)};var Xo=function(U){this._fullscreen=!1,U&&U.container&&(U.container instanceof n.window.HTMLElement?this._container=U.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};Xo.prototype.onAdd=function(U){return this._map=U,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Xo.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Xo.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},Xo.prototype._setupUI=function(){var U=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",U).setAttribute("aria-hidden",!0),U.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Xo.prototype._updateTitle=function(){var U=this._getTitle();this._fullscreenButton.setAttribute("aria-label",U),this._fullscreenButton.title=U},Xo.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Xo.prototype._isFullscreen=function(){return this._fullscreen},Xo.prototype._changeIcon=function(){(n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Xo.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ls={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Lu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Je=function(U){function $(W){U.call(this),this.options=n.extend(Object.create(Ls),W),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return U&&($.__proto__=U),$.prototype=Object.create(U&&U.prototype),$.prototype.constructor=$,$.prototype.addTo=function(W){return this._map&&this.remove(),this._map=W,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(W){return this._lngLat=n.LngLat.convert(W),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(W){return this.setDOMContent(n.window.document.createTextNode(W))},$.prototype.setHTML=function(W){var I,G=n.window.document.createDocumentFragment(),te=n.window.document.createElement("body");for(te.innerHTML=W;I=te.firstChild;)G.appendChild(I);return this.setDOMContent(G)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(W){return this.options.maxWidth=W,this._update(),this},$.prototype.setDOMContent=function(W){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(W),this._createCloseButton(),this._update(),this._focusFirstElement(),this},$.prototype.addClassName=function(W){this._container&&this._container.classList.add(W)},$.prototype.removeClassName=function(W){this._container&&this._container.classList.remove(W)},$.prototype.setOffset=function(W){return this.options.offset=W,this._update(),this},$.prototype.toggleClassName=function(W){if(this._container)return this._container.classList.toggle(W)},$.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(W){this._update(W.point)},$.prototype._onMouseMove=function(W){this._update(W.point)},$.prototype._onDrag=function(W){this._update(W.point)},$.prototype._update=function(W){var I=this,G=this._lngLat||this._trackPointer;if(this._map&&G&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(We){return I._container.classList.add(We)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=il(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||W)){var te=this._pos=this._trackPointer&&W?W:this._map.project(this._lngLat),oe=this.options.anchor,he=tt(this.options.offset);if(!oe){var we,Oe=this._container.offsetWidth,ze=this._container.offsetHeight;we=te.y+he.bottom.y<ze?["top"]:te.y>this._map.transform.height-ze?["bottom"]:[],te.x<Oe/2?we.push("left"):te.x>this._map.transform.width-Oe/2&&we.push("right"),oe=we.length===0?"bottom":we.join("-")}var qe=te.add(he[oe]).round();b.setTransform(this._container,Sr[oe]+" translate("+qe.x+"px,"+qe.y+"px)"),Pr(this._container,oe,"popup")}},$.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var W=this._container.querySelector(Lu);W&&W.focus()}},$.prototype._onClose=function(){this.remove()},$}(n.Evented);function tt(U){if(U){if(typeof U=="number"){var $=Math.round(Math.sqrt(.5*Math.pow(U,2)));return{center:new n.Point(0,0),top:new n.Point(0,U),"top-left":new n.Point($,$),"top-right":new n.Point(-$,$),bottom:new n.Point(0,-U),"bottom-left":new n.Point($,-$),"bottom-right":new n.Point(-$,-$),left:new n.Point(U,0),right:new n.Point(-U,0)}}if(U instanceof n.Point||Array.isArray(U)){var W=n.Point.convert(U);return{center:W,top:W,"top-left":W,"top-right":W,bottom:W,"bottom-left":W,"bottom-right":W,left:W,right:W}}return{center:n.Point.convert(U.center||[0,0]),top:n.Point.convert(U.top||[0,0]),"top-left":n.Point.convert(U["top-left"]||[0,0]),"top-right":n.Point.convert(U["top-right"]||[0,0]),bottom:n.Point.convert(U.bottom||[0,0]),"bottom-left":n.Point.convert(U["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(U["bottom-right"]||[0,0]),left:n.Point.convert(U.left||[0,0]),right:n.Point.convert(U.right||[0,0])}}return tt(new n.Point(0,0))}var ut={version:n.version,supported:M,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:Da,NavigationControl:Ia,GeolocateControl:bi,AttributionControl:jo,ScaleControl:oa,FullscreenControl:Xo,Popup:Je,Marker:Za,Style:rr,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:function(){yt().acquire(ot)},clearPrewarmedResources:function(){var U=dt;U&&(U.isPreloaded()&&U.numActive()===1?(U.release(ot),dt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(U){n.config.ACCESS_TOKEN=U},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(U){n.config.API_URL=U},get workerCount(){return $e.workerCount},set workerCount(U){$e.workerCount=U},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(U){n.config.MAX_PARALLEL_IMAGE_REQUESTS=U},clearStorage:function(U){n.clearTileCache(U)},workerUrl:""};return ut}),p}()},3108:function(S,x,e){"use strict";S.exports=e(26099)},26099:function(S,x,e){"use strict";var p=e(64928),y=e(32420),n=e(51160),M=e(76752),b=e(55616),f=e(31264),s=e(47520),t=e(18400),o=e(72512),r=e(76244);function i(a,l){for(var u=l[0],h=l[1],c=1/(l[2]-u),w=1/(l[3]-h),g=new Array(a.length),v=0,m=a.length/2;v<m;v++)g[2*v]=y((a[2*v]-u)*c,0,1),g[2*v+1]=y((a[2*v+1]-h)*w,0,1);return g}S.exports=function(a,l){l||(l={}),a=s(a,"float64"),l=b(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=f(l.maxDepth,255),h=f(l.bounds,M(a,2));h[0]===h[2]&&h[2]++,h[1]===h[3]&&h[3]++;var c,w=i(a,h),g=a.length>>>1;l.dtype||(l.dtype="array"),typeof l.dtype=="string"?c=new(o(l.dtype))(g):l.dtype&&(c=l.dtype,Array.isArray(c)&&(c.length=g));for(var v=0;v<g;++v)c[v]=v;var m=[],T=[],_=[],A=[];(function z(q,N,V,Z,j,H){if(!Z.length)return null;var Y=m[j]||(m[j]=[]),ie=_[j]||(_[j]=[]),re=T[j]||(T[j]=[]),ne=Y.length;if(++j>u||H>1073741824){for(var ee=0;ee<Z.length;ee++)Y.push(Z[ee]),ie.push(H),re.push(null,null,null,null);return ne}if(Y.push(Z[0]),ie.push(H),Z.length<=1)return re.push(null,null,null,null),ne;for(var Q=.5*V,X=q+Q,se=N+Q,ce=[],le=[],de=[],be=[],_e=1,ve=Z.length;_e<ve;_e++){var me=Z[_e],ye=w[2*me],Se=w[2*me+1];ye<X?Se<se?ce.push(me):le.push(me):Se<se?de.push(me):be.push(me)}return H<<=2,re.push(z(q,N,Q,ce,j,H),z(q,se,Q,le,j,H+1),z(X,N,Q,de,j,H+2),z(X,se,Q,be,j,H+3)),ne})(0,0,1,c,0,1);for(var d=0,C=0;C<m.length;C++){var k=m[C];if(c.set)c.set(k,d);else for(var D=0,O=k.length;D<O;D++)c[D+d]=k[D];var L=d+m[C].length;A[C]=[d,L],d=L}return c.range=function(){for(var z,q=[],N=arguments.length;N--;)q[N]=arguments[N];if(t(q[q.length-1])){var V=q.pop();q.length||V.x==null&&V.l==null&&V.left==null||(q=[V],z={}),z=b(V,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else z={};q.length||(q=h);var Z,j=n.apply(void 0,q),H=[Math.min(j.x,j.x+j.width),Math.min(j.y,j.y+j.height),Math.max(j.x,j.x+j.width),Math.max(j.y,j.y+j.height)],Y=H[0],ie=H[1],re=H[2],ne=H[3],ee=i([Y,ie,re,ne],h),Q=ee[0],X=ee[1],se=ee[2],ce=ee[3],le=f(z.level,m.length);if(z.d!=null&&(typeof z.d=="number"?Z=[z.d,z.d]:z.d.length&&(Z=z.d),le=Math.min(Math.max(Math.ceil(-r(Math.abs(Z[0])/(h[2]-h[0]))),Math.ceil(-r(Math.abs(Z[1])/(h[3]-h[1])))),le)),le=Math.min(le,m.length),z.lod)return function(be,_e,ve,me,ye){for(var Se=[],Ie=0;Ie<ye;Ie++){var xe=_[Ie],ue=A[Ie][0],ae=R(be,_e,Ie),pe=R(ve,me,Ie),De=p.ge(xe,ae),Te=p.gt(xe,pe,De,xe.length-1);Se[Ie]=[De+ue,Te+ue]}return Se}(Q,X,se,ce,le);var de=[];return function be(_e,ve,me,ye,Se,Ie){if(Se!==null&&Ie!==null&&!(Q>_e+me||X>ve+me||se<_e||ce<ve||ye>=le||Se===Ie)){var xe=m[ye];Ie===void 0&&(Ie=xe.length);for(var ue=Se;ue<Ie;ue++){var ae=xe[ue],pe=a[2*ae],De=a[2*ae+1];pe>=Y&&pe<=re&&De>=ie&&De<=ne&&de.push(ae)}var Te=T[ye],Ae=Te[4*Se+0],Ce=Te[4*Se+1],Re=Te[4*Se+2],Ne=Te[4*Se+3],ge=function(Fe,Le){for(var Ue=null,Ge=0;Ue===null;)if(Ue=Fe[4*Le+Ge],++Ge>Fe.length)return null;return Ue}(Te,Se+1),Me=.5*me,Ee=ye+1;be(_e,ve,Me,Ee,Ae,Ce||Re||Ne||ge),be(_e,ve+Me,Me,Ee,Ce,Re||Ne||ge),be(_e+Me,ve,Me,Ee,Re,Ne||ge),be(_e+Me,ve+Me,Me,Ee,Ne,ge)}}(0,0,1,0,0,1),de},c;function R(z,q,N){for(var V=1,Z=.5,j=.5,H=.5,Y=0;Y<N;Y++)V<<=2,V+=z<Z?q<j?0:1:q<j?2:3,H*=.5,Z+=z<Z?-H:H,j+=q<j?-H:H;return V}}},40440:function(S,x,e){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var p=e(3256),y=6378137;function n(f){var s=0;if(f&&f.length>0){s+=Math.abs(M(f[0]));for(var t=1;t<f.length;t++)s-=Math.abs(M(f[t]))}return s}function M(f){var s,t,o,r,i,a,l=0,u=f.length;if(u>2){for(a=0;a<u;a++)a===u-2?(o=u-2,r=u-1,i=0):a===u-1?(o=u-1,r=0,i=1):(o=a,r=a+1,i=a+2),s=f[o],t=f[r],l+=(b(f[i][0])-b(s[0]))*Math.sin(b(t[1]));l=l*y*y/2}return l}function b(f){return f*Math.PI/180}x.default=function(f){return p.geomReduce(f,function(s,t){return s+function(o){var r,i=0;switch(o.type){case"Polygon":return n(o.coordinates);case"MultiPolygon":for(r=0;r<o.coordinates.length;r++)i+=n(o.coordinates[r]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},46284:function(S,x){"use strict";function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function p(a,l,u){if(u===void 0&&(u={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!i(a[0])||!i(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},l,u)}function y(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var w=c[h];if(w.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<w[w.length-1].length;g++)if(w[w.length-1][g]!==w[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function n(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function M(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function t(a,l){l===void 0&&(l="kilometers");var u=x.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function o(a,l){l===void 0&&(l="kilometers");var u=x.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function i(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}Object.defineProperty(x,"__esModule",{value:!0}),x.earthRadius=63710088e-1,x.factors={centimeters:100*x.earthRadius,centimetres:100*x.earthRadius,degrees:x.earthRadius/111325,feet:3.28084*x.earthRadius,inches:39.37*x.earthRadius,kilometers:x.earthRadius/1e3,kilometres:x.earthRadius/1e3,meters:x.earthRadius,metres:x.earthRadius,miles:x.earthRadius/1609.344,millimeters:1e3*x.earthRadius,millimetres:1e3*x.earthRadius,nauticalmiles:x.earthRadius/1852,radians:1,yards:1.0936*x.earthRadius},x.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/x.earthRadius,yards:1.0936133},x.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},x.feature=e,x.geometry=function(a,l,u){switch(u===void 0&&(u={}),a){case"Point":return p(l).geometry;case"LineString":return n(l).geometry;case"Polygon":return y(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},x.point=p,x.points=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return p(h,l)}),u)},x.polygon=y,x.polygons=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return y(h,l)}),u)},x.lineString=n,x.lineStrings=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return n(h,l)}),u)},x.featureCollection=M,x.multiLineString=b,x.multiPoint=f,x.multiPolygon=s,x.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},x.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},x.radiansToLength=t,x.lengthToRadians=o,x.lengthToDegrees=function(a,l){return r(o(a,l))},x.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},x.radiansToDegrees=r,x.degreesToRadians=function(a){return a%360*Math.PI/180},x.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(o(a,l),u)},x.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=x.areaFactors[l];if(!h)throw new Error("invalid original units");var c=x.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},x.isNumber=i,x.isObject=function(a){return!!a&&a.constructor===Object},x.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!i(l))throw new Error("bbox must only contain numbers")})},x.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}},3256:function(S,x,e){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var p=e(46284);function y(o,r,i){if(o!==null)for(var a,l,u,h,c,w,g,v,m=0,T=0,_=o.type,A=_==="FeatureCollection",d=_==="Feature",C=A?o.features.length:1,k=0;k<C;k++){c=(v=!!(g=A?o.features[k].geometry:d?o.geometry:o)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var D=0;D<c;D++){var O=0,L=0;if((h=v?g.geometries[D]:g)!==null){w=h.coordinates;var R=h.type;switch(m=!i||R!=="Polygon"&&R!=="MultiPolygon"?0:1,R){case null:break;case"Point":if(r(w,T,k,O,L)===!1)return!1;T++,O++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(r(w[a],T,k,O,L)===!1)return!1;T++,R==="MultiPoint"&&O++}R==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(l=0;l<w[a].length-m;l++){if(r(w[a][l],T,k,O,L)===!1)return!1;T++}R==="MultiLineString"&&O++,R==="Polygon"&&L++}R==="Polygon"&&O++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(L=0,l=0;l<w[a].length;l++){for(u=0;u<w[a][l].length-m;u++){if(r(w[a][l][u],T,k,O,L)===!1)return!1;T++}L++}O++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(y(h.geometries[a],r,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,r){var i;switch(o.type){case"FeatureCollection":for(i=0;i<o.features.length&&r(o.features[i].properties,i)!==!1;i++);break;case"Feature":r(o.properties,0)}}function M(o,r){if(o.type==="Feature")r(o,0);else if(o.type==="FeatureCollection")for(var i=0;i<o.features.length&&r(o.features[i],i)!==!1;i++);}function b(o,r){var i,a,l,u,h,c,w,g,v,m,T=0,_=o.type==="FeatureCollection",A=o.type==="Feature",d=_?o.features.length:1;for(i=0;i<d;i++){for(c=_?o.features[i].geometry:A?o.geometry:o,g=_?o.features[i].properties:A?o.properties:{},v=_?o.features[i].bbox:A?o.bbox:void 0,m=_?o.features[i].id:A?o.id:void 0,h=(w=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=w?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,T,g,v,m)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],T,g,v,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,T,g,v,m)===!1)return!1;T++}}function f(o,r){b(o,function(i,a,l,u,h){var c,w=i===null?null:i.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return r(p.feature(i,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<i.coordinates.length;g++){var v={type:c,coordinates:i.coordinates[g]};if(r(p.feature(v,l),a,g)===!1)return!1}})}function s(o,r){f(o,function(i,a,l){var u=0;if(i.geometry){var h=i.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,w=0,g=0,v=0;return y(i,function(m,T,_,A,d){if(c===void 0||a>w||A>g||d>v)return c=m,w=a,g=A,v=d,void(u=0);var C=p.lineString([c,m],i.properties);if(r(C,a,l,d,u)===!1)return!1;u++,c=m})!==!1&&void 0}}})}function t(o,r){if(!o)throw new Error("geojson is required");f(o,function(i,a,l){if(i.geometry!==null){var u=i.geometry.type,h=i.geometry.coordinates;switch(u){case"LineString":if(r(i,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(p.lineString(h[c],i.properties),a,l,c)===!1)return!1}}})}x.coordEach=y,x.coordReduce=function(o,r,i,a){var l=i;return y(o,function(u,h,c,w,g){l=h===0&&i===void 0?u:r(l,u,h,c,w,g)},a),l},x.propEach=n,x.propReduce=function(o,r,i){var a=i;return n(o,function(l,u){a=u===0&&i===void 0?l:r(a,l,u)}),a},x.featureEach=M,x.featureReduce=function(o,r,i){var a=i;return M(o,function(l,u){a=u===0&&i===void 0?l:r(a,l,u)}),a},x.coordAll=function(o){var r=[];return y(o,function(i){r.push(i)}),r},x.geomEach=b,x.geomReduce=function(o,r,i){var a=i;return b(o,function(l,u,h,c,w){a=u===0&&i===void 0?l:r(a,l,u,h,c,w)}),a},x.flattenEach=f,x.flattenReduce=function(o,r,i){var a=i;return f(o,function(l,u,h){a=u===0&&h===0&&i===void 0?l:r(a,l,u,h)}),a},x.segmentEach=s,x.segmentReduce=function(o,r,i){var a=i,l=!1;return s(o,function(u,h,c,w,g){a=l===!1&&i===void 0?u:r(a,u,h,c,w,g),l=!0}),a},x.lineEach=t,x.lineReduce=function(o,r,i){var a=i;return t(o,function(l,u,h,c){a=u===0&&i===void 0?l:r(a,l,u,h,c)}),a},x.findSegment=function(o,r){if(r=r||{},!p.isObject(r))throw new Error("options is invalid");var i,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),c=c||o.features[a].properties,i=o.features[a].geometry;break;case"Feature":c=c||o.properties,i=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=o;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var w=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=w.length+h-1),p.lineString([w[h],w[h+1]],c,r);case"Polygon":return u<0&&(u=w.length+u),h<0&&(h=w[u].length+h-1),p.lineString([w[u][h],w[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=w.length+l),h<0&&(h=w[l].length+h-1),p.lineString([w[l][h],w[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=w.length+l),u<0&&(u=w[l].length+u),h<0&&(h=w[l][u].length-h-1),p.lineString([w[l][u][h],w[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},x.findPoint=function(o,r){if(r=r||{},!p.isObject(r))throw new Error("options is invalid");var i,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),c=c||o.features[a].properties,i=o.features[a].geometry;break;case"Feature":c=c||o.properties,i=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=o;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var w=i.coordinates;switch(i.type){case"Point":return p.point(w,c,r);case"MultiPoint":return l<0&&(l=w.length+l),p.point(w[l],c,r);case"LineString":return h<0&&(h=w.length+h),p.point(w[h],c,r);case"Polygon":return u<0&&(u=w.length+u),h<0&&(h=w[u].length+h),p.point(w[u][h],c,r);case"MultiLineString":return l<0&&(l=w.length+l),h<0&&(h=w[l].length+h),p.point(w[l][h],c,r);case"MultiPolygon":return l<0&&(l=w.length+l),u<0&&(u=w[l].length+u),h<0&&(h=w[l][u].length-h),p.point(w[l][u][h],c,r)}throw new Error("geojson is invalid")}},42428:function(S,x,e){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var p=e(84880);function y(n){var M=[1/0,1/0,-1/0,-1/0];return p.coordEach(n,function(b){M[0]>b[0]&&(M[0]=b[0]),M[1]>b[1]&&(M[1]=b[1]),M[2]<b[0]&&(M[2]=b[0]),M[3]<b[1]&&(M[3]=b[1])}),M}y.default=y,x.default=y},76796:function(S,x){"use strict";function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function p(a,l,u){if(u===void 0&&(u={}),!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!i(a[0])||!i(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},l,u)}function y(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var w=c[h];if(w.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<w[w.length-1].length;g++)if(w[w.length-1][g]!==w[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function n(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function M(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function t(a,l){l===void 0&&(l="kilometers");var u=x.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function o(a,l){l===void 0&&(l="kilometers");var u=x.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function i(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}Object.defineProperty(x,"__esModule",{value:!0}),x.earthRadius=63710088e-1,x.factors={centimeters:100*x.earthRadius,centimetres:100*x.earthRadius,degrees:x.earthRadius/111325,feet:3.28084*x.earthRadius,inches:39.37*x.earthRadius,kilometers:x.earthRadius/1e3,kilometres:x.earthRadius/1e3,meters:x.earthRadius,metres:x.earthRadius,miles:x.earthRadius/1609.344,millimeters:1e3*x.earthRadius,millimetres:1e3*x.earthRadius,nauticalmiles:x.earthRadius/1852,radians:1,yards:1.0936*x.earthRadius},x.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/x.earthRadius,yards:1.0936133},x.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},x.feature=e,x.geometry=function(a,l,u){switch(u===void 0&&(u={}),a){case"Point":return p(l).geometry;case"LineString":return n(l).geometry;case"Polygon":return y(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},x.point=p,x.points=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return p(h,l)}),u)},x.polygon=y,x.polygons=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return y(h,l)}),u)},x.lineString=n,x.lineStrings=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return n(h,l)}),u)},x.featureCollection=M,x.multiLineString=b,x.multiPoint=f,x.multiPolygon=s,x.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},x.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},x.radiansToLength=t,x.lengthToRadians=o,x.lengthToDegrees=function(a,l){return r(o(a,l))},x.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},x.radiansToDegrees=r,x.degreesToRadians=function(a){return a%360*Math.PI/180},x.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(o(a,l),u)},x.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=x.areaFactors[l];if(!h)throw new Error("invalid original units");var c=x.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},x.isNumber=i,x.isObject=function(a){return!!a&&a.constructor===Object},x.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!i(l))throw new Error("bbox must only contain numbers")})},x.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}},84880:function(S,x,e){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var p=e(76796);function y(o,r,i){if(o!==null)for(var a,l,u,h,c,w,g,v,m=0,T=0,_=o.type,A=_==="FeatureCollection",d=_==="Feature",C=A?o.features.length:1,k=0;k<C;k++){c=(v=!!(g=A?o.features[k].geometry:d?o.geometry:o)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var D=0;D<c;D++){var O=0,L=0;if((h=v?g.geometries[D]:g)!==null){w=h.coordinates;var R=h.type;switch(m=!i||R!=="Polygon"&&R!=="MultiPolygon"?0:1,R){case null:break;case"Point":if(r(w,T,k,O,L)===!1)return!1;T++,O++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(r(w[a],T,k,O,L)===!1)return!1;T++,R==="MultiPoint"&&O++}R==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(l=0;l<w[a].length-m;l++){if(r(w[a][l],T,k,O,L)===!1)return!1;T++}R==="MultiLineString"&&O++,R==="Polygon"&&L++}R==="Polygon"&&O++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(L=0,l=0;l<w[a].length;l++){for(u=0;u<w[a][l].length-m;u++){if(r(w[a][l][u],T,k,O,L)===!1)return!1;T++}L++}O++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(y(h.geometries[a],r,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,r){var i;switch(o.type){case"FeatureCollection":for(i=0;i<o.features.length&&r(o.features[i].properties,i)!==!1;i++);break;case"Feature":r(o.properties,0)}}function M(o,r){if(o.type==="Feature")r(o,0);else if(o.type==="FeatureCollection")for(var i=0;i<o.features.length&&r(o.features[i],i)!==!1;i++);}function b(o,r){var i,a,l,u,h,c,w,g,v,m,T=0,_=o.type==="FeatureCollection",A=o.type==="Feature",d=_?o.features.length:1;for(i=0;i<d;i++){for(c=_?o.features[i].geometry:A?o.geometry:o,g=_?o.features[i].properties:A?o.properties:{},v=_?o.features[i].bbox:A?o.bbox:void 0,m=_?o.features[i].id:A?o.id:void 0,h=(w=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=w?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,T,g,v,m)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],T,g,v,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,T,g,v,m)===!1)return!1;T++}}function f(o,r){b(o,function(i,a,l,u,h){var c,w=i===null?null:i.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return r(p.feature(i,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<i.coordinates.length;g++){var v={type:c,coordinates:i.coordinates[g]};if(r(p.feature(v,l),a,g)===!1)return!1}})}function s(o,r){f(o,function(i,a,l){var u=0;if(i.geometry){var h=i.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,w=0,g=0,v=0;return y(i,function(m,T,_,A,d){if(c===void 0||a>w||A>g||d>v)return c=m,w=a,g=A,v=d,void(u=0);var C=p.lineString([c,m],i.properties);if(r(C,a,l,d,u)===!1)return!1;u++,c=m})!==!1&&void 0}}})}function t(o,r){if(!o)throw new Error("geojson is required");f(o,function(i,a,l){if(i.geometry!==null){var u=i.geometry.type,h=i.geometry.coordinates;switch(u){case"LineString":if(r(i,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(p.lineString(h[c],i.properties),a,l,c)===!1)return!1}}})}x.coordEach=y,x.coordReduce=function(o,r,i,a){var l=i;return y(o,function(u,h,c,w,g){l=h===0&&i===void 0?u:r(l,u,h,c,w,g)},a),l},x.propEach=n,x.propReduce=function(o,r,i){var a=i;return n(o,function(l,u){a=u===0&&i===void 0?l:r(a,l,u)}),a},x.featureEach=M,x.featureReduce=function(o,r,i){var a=i;return M(o,function(l,u){a=u===0&&i===void 0?l:r(a,l,u)}),a},x.coordAll=function(o){var r=[];return y(o,function(i){r.push(i)}),r},x.geomEach=b,x.geomReduce=function(o,r,i){var a=i;return b(o,function(l,u,h,c,w){a=u===0&&i===void 0?l:r(a,l,u,h,c,w)}),a},x.flattenEach=f,x.flattenReduce=function(o,r,i){var a=i;return f(o,function(l,u,h){a=u===0&&h===0&&i===void 0?l:r(a,l,u,h)}),a},x.segmentEach=s,x.segmentReduce=function(o,r,i){var a=i,l=!1;return s(o,function(u,h,c,w,g){a=l===!1&&i===void 0?u:r(a,u,h,c,w,g),l=!0}),a},x.lineEach=t,x.lineReduce=function(o,r,i){var a=i;return t(o,function(l,u,h,c){a=u===0&&i===void 0?l:r(a,l,u,h,c)}),a},x.findSegment=function(o,r){if(r=r||{},!p.isObject(r))throw new Error("options is invalid");var i,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),c=c||o.features[a].properties,i=o.features[a].geometry;break;case"Feature":c=c||o.properties,i=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=o;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var w=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=w.length+h-1),p.lineString([w[h],w[h+1]],c,r);case"Polygon":return u<0&&(u=w.length+u),h<0&&(h=w[u].length+h-1),p.lineString([w[u][h],w[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=w.length+l),h<0&&(h=w[l].length+h-1),p.lineString([w[l][h],w[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=w.length+l),u<0&&(u=w[l].length+u),h<0&&(h=w[l][u].length-h-1),p.lineString([w[l][u][h],w[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},x.findPoint=function(o,r){if(r=r||{},!p.isObject(r))throw new Error("options is invalid");var i,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),c=c||o.features[a].properties,i=o.features[a].geometry;break;case"Feature":c=c||o.properties,i=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=o;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var w=i.coordinates;switch(i.type){case"Point":return p.point(w,c,r);case"MultiPoint":return l<0&&(l=w.length+l),p.point(w[l],c,r);case"LineString":return h<0&&(h=w.length+h),p.point(w[h],c,r);case"Polygon":return u<0&&(u=w.length+u),h<0&&(h=w[u].length+h),p.point(w[u][h],c,r);case"MultiLineString":return l<0&&(l=w.length+l),h<0&&(h=w[l].length+h),p.point(w[l][h],c,r);case"MultiPolygon":return l<0&&(l=w.length+l),u<0&&(u=w[l].length+u),h<0&&(h=w[l][u].length-h),p.point(w[l][u][h],c,r)}throw new Error("geojson is invalid")}},77844:function(S,x,e){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var p=e(43752),y=e(49840);x.default=function(n,M){M===void 0&&(M={});var b=0,f=0,s=0;return p.coordEach(n,function(t){b+=t[0],f+=t[1],s++}),y.point([b/s,f/s],M.properties)}},49840:function(S,x){"use strict";function e(a,l,u){u===void 0&&(u={});var h={type:"Feature"};return(u.id===0||u.id)&&(h.id=u.id),u.bbox&&(h.bbox=u.bbox),h.properties=l||{},h.geometry=a,h}function p(a,l,u){return u===void 0&&(u={}),e({type:"Point",coordinates:a},l,u)}function y(a,l,u){u===void 0&&(u={});for(var h=0,c=a;h<c.length;h++){var w=c[h];if(w.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<w[w.length-1].length;g++)if(w[w.length-1][g]!==w[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:a},l,u)}function n(a,l,u){if(u===void 0&&(u={}),a.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:a},l,u)}function M(a,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=a,u}function b(a,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:a},l,u)}function f(a,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:a},l,u)}function s(a,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:a},l,u)}function t(a,l){l===void 0&&(l="kilometers");var u=x.factors[l];if(!u)throw new Error(l+" units is invalid");return a*u}function o(a,l){l===void 0&&(l="kilometers");var u=x.factors[l];if(!u)throw new Error(l+" units is invalid");return a/u}function r(a){return a%(2*Math.PI)*180/Math.PI}function i(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)&&!/^\s*$/.test(a)}Object.defineProperty(x,"__esModule",{value:!0}),x.earthRadius=63710088e-1,x.factors={centimeters:100*x.earthRadius,centimetres:100*x.earthRadius,degrees:x.earthRadius/111325,feet:3.28084*x.earthRadius,inches:39.37*x.earthRadius,kilometers:x.earthRadius/1e3,kilometres:x.earthRadius/1e3,meters:x.earthRadius,metres:x.earthRadius,miles:x.earthRadius/1609.344,millimeters:1e3*x.earthRadius,millimetres:1e3*x.earthRadius,nauticalmiles:x.earthRadius/1852,radians:1,yards:x.earthRadius/1.0936},x.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/x.earthRadius,yards:.91441111923921},x.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},x.feature=e,x.geometry=function(a,l,u){switch(u===void 0&&(u={}),a){case"Point":return p(l).geometry;case"LineString":return n(l).geometry;case"Polygon":return y(l).geometry;case"MultiPoint":return f(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return s(l).geometry;default:throw new Error(a+" is invalid")}},x.point=p,x.points=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return p(h,l)}),u)},x.polygon=y,x.polygons=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return y(h,l)}),u)},x.lineString=n,x.lineStrings=function(a,l,u){return u===void 0&&(u={}),M(a.map(function(h){return n(h,l)}),u)},x.featureCollection=M,x.multiLineString=b,x.multiPoint=f,x.multiPolygon=s,x.geometryCollection=function(a,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:a},l,u)},x.round=function(a,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(a*u)/u},x.radiansToLength=t,x.lengthToRadians=o,x.lengthToDegrees=function(a,l){return r(o(a,l))},x.bearingToAzimuth=function(a){var l=a%360;return l<0&&(l+=360),l},x.radiansToDegrees=r,x.degreesToRadians=function(a){return a%360*Math.PI/180},x.convertLength=function(a,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("length must be a positive number");return t(o(a,l),u)},x.convertArea=function(a,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(a>=0))throw new Error("area must be a positive number");var h=x.areaFactors[l];if(!h)throw new Error("invalid original units");var c=x.areaFactors[u];if(!c)throw new Error("invalid final units");return a/h*c},x.isNumber=i,x.isObject=function(a){return!!a&&a.constructor===Object},x.validateBBox=function(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(l){if(!i(l))throw new Error("bbox must only contain numbers")})},x.validateId=function(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")},x.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},x.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},x.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},x.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},x.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},x.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},x.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(S,x,e){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var p=e(49840);function y(o,r,i){if(o!==null)for(var a,l,u,h,c,w,g,v,m=0,T=0,_=o.type,A=_==="FeatureCollection",d=_==="Feature",C=A?o.features.length:1,k=0;k<C;k++){c=(v=!!(g=A?o.features[k].geometry:d?o.geometry:o)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var D=0;D<c;D++){var O=0,L=0;if((h=v?g.geometries[D]:g)!==null){w=h.coordinates;var R=h.type;switch(m=!i||R!=="Polygon"&&R!=="MultiPolygon"?0:1,R){case null:break;case"Point":if(r(w,T,k,O,L)===!1)return!1;T++,O++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(r(w[a],T,k,O,L)===!1)return!1;T++,R==="MultiPoint"&&O++}R==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(l=0;l<w[a].length-m;l++){if(r(w[a][l],T,k,O,L)===!1)return!1;T++}R==="MultiLineString"&&O++,R==="Polygon"&&L++}R==="Polygon"&&O++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(L=0,l=0;l<w[a].length;l++){for(u=0;u<w[a][l].length-m;u++){if(r(w[a][l][u],T,k,O,L)===!1)return!1;T++}L++}O++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(y(h.geometries[a],r,i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,r){var i;switch(o.type){case"FeatureCollection":for(i=0;i<o.features.length&&r(o.features[i].properties,i)!==!1;i++);break;case"Feature":r(o.properties,0)}}function M(o,r){if(o.type==="Feature")r(o,0);else if(o.type==="FeatureCollection")for(var i=0;i<o.features.length&&r(o.features[i],i)!==!1;i++);}function b(o,r){var i,a,l,u,h,c,w,g,v,m,T=0,_=o.type==="FeatureCollection",A=o.type==="Feature",d=_?o.features.length:1;for(i=0;i<d;i++){for(c=_?o.features[i].geometry:A?o.geometry:o,g=_?o.features[i].properties:A?o.properties:{},v=_?o.features[i].bbox:A?o.bbox:void 0,m=_?o.features[i].id:A?o.id:void 0,h=(w=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<h;l++)if((u=w?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,T,g,v,m)===!1)return!1;break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],T,g,v,m)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,T,g,v,m)===!1)return!1;T++}}function f(o,r){b(o,function(i,a,l,u,h){var c,w=i===null?null:i.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return r(p.feature(i,l,{bbox:u,id:h}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<i.coordinates.length;g++){var v={type:c,coordinates:i.coordinates[g]};if(r(p.feature(v,l),a,g)===!1)return!1}})}function s(o,r){f(o,function(i,a,l){var u=0;if(i.geometry){var h=i.geometry.type;if(h!=="Point"&&h!=="MultiPoint"){var c,w=0,g=0,v=0;return y(i,function(m,T,_,A,d){if(c===void 0||a>w||A>g||d>v)return c=m,w=a,g=A,v=d,void(u=0);var C=p.lineString([c,m],i.properties);if(r(C,a,l,d,u)===!1)return!1;u++,c=m})!==!1&&void 0}}})}function t(o,r){if(!o)throw new Error("geojson is required");f(o,function(i,a,l){if(i.geometry!==null){var u=i.geometry.type,h=i.geometry.coordinates;switch(u){case"LineString":if(r(i,a,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<h.length;c++)if(r(p.lineString(h[c],i.properties),a,l,c)===!1)return!1}}})}x.coordEach=y,x.coordReduce=function(o,r,i,a){var l=i;return y(o,function(u,h,c,w,g){l=h===0&&i===void 0?u:r(l,u,h,c,w,g)},a),l},x.propEach=n,x.propReduce=function(o,r,i){var a=i;return n(o,function(l,u){a=u===0&&i===void 0?l:r(a,l,u)}),a},x.featureEach=M,x.featureReduce=function(o,r,i){var a=i;return M(o,function(l,u){a=u===0&&i===void 0?l:r(a,l,u)}),a},x.coordAll=function(o){var r=[];return y(o,function(i){r.push(i)}),r},x.geomEach=b,x.geomReduce=function(o,r,i){var a=i;return b(o,function(l,u,h,c,w){a=u===0&&i===void 0?l:r(a,l,u,h,c,w)}),a},x.flattenEach=f,x.flattenReduce=function(o,r,i){var a=i;return f(o,function(l,u,h){a=u===0&&h===0&&i===void 0?l:r(a,l,u,h)}),a},x.segmentEach=s,x.segmentReduce=function(o,r,i){var a=i,l=!1;return s(o,function(u,h,c,w,g){a=l===!1&&i===void 0?u:r(a,u,h,c,w,g),l=!0}),a},x.lineEach=t,x.lineReduce=function(o,r,i){var a=i;return t(o,function(l,u,h,c){a=u===0&&i===void 0?l:r(a,l,u,h,c)}),a},x.findSegment=function(o,r){if(r=r||{},!p.isObject(r))throw new Error("options is invalid");var i,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.segmentIndex||0,c=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),c=c||o.features[a].properties,i=o.features[a].geometry;break;case"Feature":c=c||o.properties,i=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=o;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var w=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return h<0&&(h=w.length+h-1),p.lineString([w[h],w[h+1]],c,r);case"Polygon":return u<0&&(u=w.length+u),h<0&&(h=w[u].length+h-1),p.lineString([w[u][h],w[u][h+1]],c,r);case"MultiLineString":return l<0&&(l=w.length+l),h<0&&(h=w[l].length+h-1),p.lineString([w[l][h],w[l][h+1]],c,r);case"MultiPolygon":return l<0&&(l=w.length+l),u<0&&(u=w[l].length+u),h<0&&(h=w[l][u].length-h-1),p.lineString([w[l][u][h],w[l][u][h+1]],c,r)}throw new Error("geojson is invalid")},x.findPoint=function(o,r){if(r=r||{},!p.isObject(r))throw new Error("options is invalid");var i,a=r.featureIndex||0,l=r.multiFeatureIndex||0,u=r.geometryIndex||0,h=r.coordIndex||0,c=r.properties;switch(o.type){case"FeatureCollection":a<0&&(a=o.features.length+a),c=c||o.features[a].properties,i=o.features[a].geometry;break;case"Feature":c=c||o.properties,i=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=o;break;default:throw new Error("geojson is invalid")}if(i===null)return null;var w=i.coordinates;switch(i.type){case"Point":return p.point(w,c,r);case"MultiPoint":return l<0&&(l=w.length+l),p.point(w[l],c,r);case"LineString":return h<0&&(h=w.length+h),p.point(w[h],c,r);case"Polygon":return u<0&&(u=w.length+u),h<0&&(h=w[u].length+h),p.point(w[u][h],c,r);case"MultiLineString":return l<0&&(l=w.length+l),h<0&&(h=w[l].length+h),p.point(w[l][h],c,r);case"MultiPolygon":return l<0&&(l=w.length+l),u<0&&(u=w[l].length+u),h<0&&(h=w[l][u].length-h),p.point(w[l][u][h],c,r)}throw new Error("geojson is invalid")}},49972:function(S){S.exports=function(x){var e=0,p=0,y=0,n=0;return x.map(function(M){var b=(M=M.slice())[0],f=b.toUpperCase();if(b!=f)switch(M[0]=f,b){case"a":M[6]+=y,M[7]+=n;break;case"v":M[1]+=n;break;case"h":M[1]+=y;break;default:for(var s=1;s<M.length;)M[s++]+=y,M[s++]+=n}switch(f){case"Z":y=e,n=p;break;case"H":y=M[1];break;case"V":n=M[1];break;case"M":y=e=M[1],n=p=M[2];break;default:y=M[M.length-2],n=M[M.length-1]}return M})}},76752:function(S){"use strict";S.exports=function(x,e){if(!x||x.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var p=Array(2*e),y=0;y<e;y++){for(var n=-1/0,M=1/0,b=y,f=x.length;b<f;b+=e)x[b]>n&&(n=x[b]),x[b]<M&&(M=x[b]);p[y]=M,p[e+y]=n}return p}},10272:function(S){"use strict";S.exports=function(x,e,p){if(typeof Array.prototype.findIndex=="function")return x.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var y=Object(x),n=y.length;if(n===0)return-1;for(var M=0;M<n;M++)if(e.call(p,y[M],M,y))return M;return-1}},71152:function(S,x,e){"use strict";var p=e(76752);S.exports=function(y,n,M){if(!y||y.length==null)throw Error("Argument should be an array");n==null&&(n=1),M==null&&(M=p(y,n));for(var b=0;b<n;b++){var f=M[n+b],s=M[b],t=b,o=y.length;if(f===1/0&&s===-1/0)for(t=b;t<o;t+=n)y[t]=y[t]===f?1:y[t]===s?0:.5;else if(f===1/0)for(t=b;t<o;t+=n)y[t]=y[t]===f?1:0;else if(s===-1/0)for(t=b;t<o;t+=n)y[t]=y[t]===s?0:1;else{var r=f-s;for(t=b;t<o;t+=n)isNaN(y[t])||(y[t]=r===0?.5:(y[t]-s)/r)}}return y}},67752:function(S){S.exports=function(x,e){var p=typeof x=="number",y=typeof e=="number";p&&!y?(e=x,x=0):p||y||(x=0,e=0);var n=(e|=0)-(x|=0);if(n<0)throw new Error("array length must be positive");for(var M=new Array(n),b=0,f=x;b<n;b++,f++)M[b]=f;return M}},45408:function(S,x,e){"use strict";var p=e(4168);function y(N){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},y(N)}var n,M,b=e(86832).codes,f=b.ERR_AMBIGUOUS_ARGUMENT,s=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,o=b.ERR_INVALID_RETURN_VALUE,r=b.ERR_MISSING_ARGS,i=e(26144),a=e(35840).inspect,l=e(35840).types,u=l.isPromise,h=l.isRegExp,c=Object.assign?Object.assign:e(60964).assign,w=Object.is?Object.is:e(39896);function g(){var N=e(25116);n=N.isDeepEqual,M=N.isDeepStrictEqual}var v=!1,m=S.exports=d,T={};function _(N){throw N.message instanceof Error?N.message:new i(N)}function A(N,V,Z,j){if(!Z){var H=!1;if(V===0)H=!0,j="No value argument passed to `assert.ok()`";else if(j instanceof Error)throw j;var Y=new i({actual:Z,expected:!0,message:j,operator:"==",stackStartFn:N});throw Y.generatedMessage=H,Y}}function d(){for(var N=arguments.length,V=new Array(N),Z=0;Z<N;Z++)V[Z]=arguments[Z];A.apply(void 0,[d,V.length].concat(V))}m.fail=function N(V,Z,j,H,Y){var ie,re=arguments.length;if(re===0?ie="Failed":re===1?(j=V,V=void 0):(v===!1&&(v=!0,(p.emitWarning?p.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),re===2&&(H="!=")),j instanceof Error)throw j;var ne={actual:V,expected:Z,operator:H===void 0?"fail":H,stackStartFn:Y||N};j!==void 0&&(ne.message=j);var ee=new i(ne);throw ie&&(ee.message=ie,ee.generatedMessage=!0),ee},m.AssertionError=i,m.ok=d,m.equal=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");V!=Z&&_({actual:V,expected:Z,message:j,operator:"==",stackStartFn:N})},m.notEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");V==Z&&_({actual:V,expected:Z,message:j,operator:"!=",stackStartFn:N})},m.deepEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");n===void 0&&g(),n(V,Z)||_({actual:V,expected:Z,message:j,operator:"deepEqual",stackStartFn:N})},m.notDeepEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");n===void 0&&g(),n(V,Z)&&_({actual:V,expected:Z,message:j,operator:"notDeepEqual",stackStartFn:N})},m.deepStrictEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");n===void 0&&g(),M(V,Z)||_({actual:V,expected:Z,message:j,operator:"deepStrictEqual",stackStartFn:N})},m.notDeepStrictEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");n===void 0&&g(),M(V,Z)&&_({actual:V,expected:Z,message:j,operator:"notDeepStrictEqual",stackStartFn:N})},m.strictEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");w(V,Z)||_({actual:V,expected:Z,message:j,operator:"strictEqual",stackStartFn:N})},m.notStrictEqual=function N(V,Z,j){if(arguments.length<2)throw new r("actual","expected");w(V,Z)&&_({actual:V,expected:Z,message:j,operator:"notStrictEqual",stackStartFn:N})};var C=function N(V,Z,j){var H=this;(function(Y,ie){if(!(Y instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,N),Z.forEach(function(Y){Y in V&&(j!==void 0&&typeof j[Y]=="string"&&h(V[Y])&&V[Y].test(j[Y])?H[Y]=j[Y]:H[Y]=V[Y])})};function k(N,V,Z,j){if(typeof V!="function"){if(h(V))return V.test(N);if(arguments.length===2)throw new s("expected",["Function","RegExp"],V);if(y(N)!=="object"||N===null){var H=new i({actual:N,expected:V,message:Z,operator:"deepStrictEqual",stackStartFn:j});throw H.operator=j.name,H}var Y=Object.keys(V);if(V instanceof Error)Y.push("name","message");else if(Y.length===0)throw new t("error",V,"may not be an empty object");return n===void 0&&g(),Y.forEach(function(ie){typeof N[ie]=="string"&&h(V[ie])&&V[ie].test(N[ie])||function(re,ne,ee,Q,X,se){if(!(ee in re)||!M(re[ee],ne[ee])){if(!Q){var ce=new C(re,X),le=new C(ne,X,re),de=new i({actual:ce,expected:le,operator:"deepStrictEqual",stackStartFn:se});throw de.actual=re,de.expected=ne,de.operator=se.name,de}_({actual:re,expected:ne,message:Q,operator:se.name,stackStartFn:se})}}(N,V,ie,Z,Y,j)}),!0}return V.prototype!==void 0&&N instanceof V||!Error.isPrototypeOf(V)&&V.call({},N)===!0}function D(N){if(typeof N!="function")throw new s("fn","Function",N);try{N()}catch(V){return V}return T}function O(N){return u(N)||N!==null&&y(N)==="object"&&typeof N.then=="function"&&typeof N.catch=="function"}function L(N){return Promise.resolve().then(function(){var V;if(typeof N=="function"){if(!O(V=N()))throw new o("instance of Promise","promiseFn",V)}else{if(!O(N))throw new s("promiseFn",["Function","Promise"],N);V=N}return Promise.resolve().then(function(){return V}).then(function(){return T}).catch(function(Z){return Z})})}function R(N,V,Z,j){if(typeof Z=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],Z);if(y(V)==="object"&&V!==null){if(V.message===Z)throw new f("error/message",'The error message "'.concat(V.message,'" is identical to the message.'))}else if(V===Z)throw new f("error/message",'The error "'.concat(V,'" is identical to the message.'));j=Z,Z=void 0}else if(Z!=null&&y(Z)!=="object"&&typeof Z!="function")throw new s("error",["Object","Error","Function","RegExp"],Z);if(V===T){var H="";Z&&Z.name&&(H+=" (".concat(Z.name,")")),H+=j?": ".concat(j):".";var Y=N.name==="rejects"?"rejection":"exception";_({actual:void 0,expected:Z,operator:N.name,message:"Missing expected ".concat(Y).concat(H),stackStartFn:N})}if(Z&&!k(V,Z,j,N))throw V}function z(N,V,Z,j){if(V!==T){if(typeof Z=="string"&&(j=Z,Z=void 0),!Z||k(V,Z)){var H=j?": ".concat(j):".",Y=N.name==="doesNotReject"?"rejection":"exception";_({actual:V,expected:Z,operator:N.name,message:"Got unwanted ".concat(Y).concat(H,`
`)+'Actual message: "'.concat(V&&V.message,'"'),stackStartFn:N})}throw V}}function q(){for(var N=arguments.length,V=new Array(N),Z=0;Z<N;Z++)V[Z]=arguments[Z];A.apply(void 0,[q,V.length].concat(V))}m.throws=function N(V){for(var Z=arguments.length,j=new Array(Z>1?Z-1:0),H=1;H<Z;H++)j[H-1]=arguments[H];R.apply(void 0,[N,D(V)].concat(j))},m.rejects=function N(V){for(var Z=arguments.length,j=new Array(Z>1?Z-1:0),H=1;H<Z;H++)j[H-1]=arguments[H];return L(V).then(function(Y){return R.apply(void 0,[N,Y].concat(j))})},m.doesNotThrow=function N(V){for(var Z=arguments.length,j=new Array(Z>1?Z-1:0),H=1;H<Z;H++)j[H-1]=arguments[H];z.apply(void 0,[N,D(V)].concat(j))},m.doesNotReject=function N(V){for(var Z=arguments.length,j=new Array(Z>1?Z-1:0),H=1;H<Z;H++)j[H-1]=arguments[H];return L(V).then(function(Y){return z.apply(void 0,[N,Y].concat(j))})},m.ifError=function N(V){if(V!=null){var Z="ifError got unwanted exception: ";y(V)==="object"&&typeof V.message=="string"?V.message.length===0&&V.constructor?Z+=V.constructor.name:Z+=V.message:Z+=a(V);var j=new i({actual:V,expected:null,operator:"ifError",message:Z,stackStartFn:N}),H=V.stack;if(typeof H=="string"){var Y=H.split(`
`);Y.shift();for(var ie=j.stack.split(`
`),re=0;re<Y.length;re++){var ne=ie.indexOf(Y[re]);if(ne!==-1){ie=ie.slice(0,ne);break}}j.stack="".concat(ie.join(`
`),`
`).concat(Y.join(`
`))}throw j}},m.strict=c(q,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict},26144:function(S,x,e){"use strict";var p=e(4168);function y(_,A,d){return A in _?Object.defineProperty(_,A,{value:d,enumerable:!0,configurable:!0,writable:!0}):_[A]=d,_}function n(_,A){for(var d=0;d<A.length;d++){var C=A[d];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}function M(_,A){return!A||r(A)!=="object"&&typeof A!="function"?b(_):A}function b(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function f(_){var A=typeof Map=="function"?new Map:void 0;return f=function(d){if(d===null||(C=d,Function.toString.call(C).indexOf("[native code]")===-1))return d;var C;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(A!==void 0){if(A.has(d))return A.get(d);A.set(d,k)}function k(){return s(d,arguments,o(this).constructor)}return k.prototype=Object.create(d.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),t(k,d)},f(_)}function s(_,A,d){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(C,k,D){var O=[null];O.push.apply(O,k);var L=new(Function.bind.apply(C,O));return D&&t(L,D.prototype),L},s.apply(null,arguments)}function t(_,A){return t=Object.setPrototypeOf||function(d,C){return d.__proto__=C,d},t(_,A)}function o(_){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},o(_)}function r(_){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},r(_)}var i=e(35840).inspect,a=e(86832).codes.ERR_INVALID_ARG_TYPE;function l(_,A,d){return(d===void 0||d>_.length)&&(d=_.length),_.substring(d-A.length,d)===A}var u="",h="",c="",w="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function v(_){var A=Object.keys(_),d=Object.create(Object.getPrototypeOf(_));return A.forEach(function(C){d[C]=_[C]}),Object.defineProperty(d,"message",{value:_.message}),d}function m(_){return i(_,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var T=function(_){function A(k){var D;if(function(ie,re){if(!(ie instanceof re))throw new TypeError("Cannot call a class as a function")}(this,A),r(k)!=="object"||k===null)throw new a("options","Object",k);var O=k.message,L=k.operator,R=k.stackStartFn,z=k.actual,q=k.expected,N=Error.stackTraceLimit;if(Error.stackTraceLimit=0,O!=null)D=M(this,o(A).call(this,String(O)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(u="\x1B[34m",h="\x1B[32m",w="\x1B[39m",c="\x1B[31m"):(u="",h="",w="",c="")),r(z)==="object"&&z!==null&&r(q)==="object"&&q!==null&&"stack"in z&&z instanceof Error&&"stack"in q&&q instanceof Error&&(z=v(z),q=v(q)),L==="deepStrictEqual"||L==="strictEqual")D=M(this,o(A).call(this,function(ie,re,ne){var ee="",Q="",X=0,se="",ce=!1,le=m(ie),de=le.split(`
`),be=m(re).split(`
`),_e=0,ve="";if(ne==="strictEqual"&&r(ie)==="object"&&r(re)==="object"&&ie!==null&&re!==null&&(ne="strictEqualObject"),de.length===1&&be.length===1&&de[0]!==be[0]){var me=de[0].length+be[0].length;if(me<=10){if(!(r(ie)==="object"&&ie!==null||r(re)==="object"&&re!==null||ie===0&&re===0))return"".concat(g[ne],`

`)+"".concat(de[0]," !== ").concat(be[0],`
`)}else if(ne!=="strictEqualObject"&&me<(p.stderr&&p.stderr.isTTY?p.stderr.columns:80)){for(;de[0][_e]===be[0][_e];)_e++;_e>2&&(ve=`
  `.concat(function(Re,Ne){if(Ne=Math.floor(Ne),Re.length==0||Ne==0)return"";var ge=Re.length*Ne;for(Ne=Math.floor(Math.log(Ne)/Math.log(2));Ne;)Re+=Re,Ne--;return Re+Re.substring(0,ge-Re.length)}(" ",_e),"^"),_e=0)}}for(var ye=de[de.length-1],Se=be[be.length-1];ye===Se&&(_e++<2?se=`
  `.concat(ye).concat(se):ee=ye,de.pop(),be.pop(),de.length!==0&&be.length!==0);)ye=de[de.length-1],Se=be[be.length-1];var Ie=Math.max(de.length,be.length);if(Ie===0){var xe=le.split(`
`);if(xe.length>30)for(xe[26]="".concat(u,"...").concat(w);xe.length>27;)xe.pop();return"".concat(g.notIdentical,`

`).concat(xe.join(`
`),`
`)}_e>3&&(se=`
`.concat(u,"...").concat(w).concat(se),ce=!0),ee!==""&&(se=`
  `.concat(ee).concat(se),ee="");var ue=0,ae=g[ne]+`
`.concat(h,"+ actual").concat(w," ").concat(c,"- expected").concat(w),pe=" ".concat(u,"...").concat(w," Lines skipped");for(_e=0;_e<Ie;_e++){var De=_e-X;if(de.length<_e+1)De>1&&_e>2&&(De>4?(Q+=`
`.concat(u,"...").concat(w),ce=!0):De>3&&(Q+=`
  `.concat(be[_e-2]),ue++),Q+=`
  `.concat(be[_e-1]),ue++),X=_e,ee+=`
`.concat(c,"-").concat(w," ").concat(be[_e]),ue++;else if(be.length<_e+1)De>1&&_e>2&&(De>4?(Q+=`
`.concat(u,"...").concat(w),ce=!0):De>3&&(Q+=`
  `.concat(de[_e-2]),ue++),Q+=`
  `.concat(de[_e-1]),ue++),X=_e,Q+=`
`.concat(h,"+").concat(w," ").concat(de[_e]),ue++;else{var Te=be[_e],Ae=de[_e],Ce=Ae!==Te&&(!l(Ae,",")||Ae.slice(0,-1)!==Te);Ce&&l(Te,",")&&Te.slice(0,-1)===Ae&&(Ce=!1,Ae+=","),Ce?(De>1&&_e>2&&(De>4?(Q+=`
`.concat(u,"...").concat(w),ce=!0):De>3&&(Q+=`
  `.concat(de[_e-2]),ue++),Q+=`
  `.concat(de[_e-1]),ue++),X=_e,Q+=`
`.concat(h,"+").concat(w," ").concat(Ae),ee+=`
`.concat(c,"-").concat(w," ").concat(Te),ue+=2):(Q+=ee,ee="",De!==1&&_e!==0||(Q+=`
  `.concat(Ae),ue++))}if(ue>20&&_e<Ie-2)return"".concat(ae).concat(pe,`
`).concat(Q,`
`).concat(u,"...").concat(w).concat(ee,`
`)+"".concat(u,"...").concat(w)}return"".concat(ae).concat(ce?pe:"",`
`).concat(Q).concat(ee).concat(se).concat(ve)}(z,q,L)));else if(L==="notDeepStrictEqual"||L==="notStrictEqual"){var V=g[L],Z=m(z).split(`
`);if(L==="notStrictEqual"&&r(z)==="object"&&z!==null&&(V=g.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(u,"...").concat(w);Z.length>27;)Z.pop();D=Z.length===1?M(this,o(A).call(this,"".concat(V," ").concat(Z[0]))):M(this,o(A).call(this,"".concat(V,`

`).concat(Z.join(`
`),`
`)))}else{var j=m(z),H="",Y=g[L];L==="notDeepEqual"||L==="notEqual"?(j="".concat(g[L],`

`).concat(j)).length>1024&&(j="".concat(j.slice(0,1021),"...")):(H="".concat(m(q)),j.length>512&&(j="".concat(j.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),L==="deepEqual"||L==="equal"?j="".concat(Y,`

`).concat(j,`

should equal

`):H=" ".concat(L," ").concat(H)),D=M(this,o(A).call(this,"".concat(j).concat(H)))}return Error.stackTraceLimit=N,D.generatedMessage=!O,Object.defineProperty(b(D),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),D.code="ERR_ASSERTION",D.actual=z,D.expected=q,D.operator=L,Error.captureStackTrace&&Error.captureStackTrace(b(D),R),D.stack,D.name="AssertionError",M(D)}var d,C;return function(k,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(D&&D.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),D&&t(k,D)}(A,_),d=A,C=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:i.custom,value:function(k,D){return i(this,function(O){for(var L=1;L<arguments.length;L++){var R=arguments[L]!=null?arguments[L]:{},z=Object.keys(R);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(R).filter(function(q){return Object.getOwnPropertyDescriptor(R,q).enumerable}))),z.forEach(function(q){y(O,q,R[q])})}return O}({},D,{customInspect:!1,depth:0}))}}],C&&n(d.prototype,C),A}(f(Error));S.exports=T},86832:function(S,x,e){"use strict";function p(o){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},p(o)}function y(o){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},y(o)}function n(o,r){return n=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},n(o,r)}var M,b,f={};function s(o,r,i){i||(i=Error);var a=function(l){function u(h,c,w){var g;return function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}(this,u),g=function(v,m){return!m||p(m)!=="object"&&typeof m!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(v):m}(this,y(u).call(this,function(v,m,T){return typeof r=="string"?r:r(v,m,T)}(h,c,w))),g.code=o,g}return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&n(h,c)}(u,l),u}(i);f[o]=a}function t(o,r){if(Array.isArray(o)){var i=o.length;return o=o.map(function(a){return String(a)}),i>2?"one of ".concat(r," ").concat(o.slice(0,i-1).join(", "),", or ")+o[i-1]:i===2?"one of ".concat(r," ").concat(o[0]," or ").concat(o[1]):"of ".concat(r," ").concat(o[0])}return"of ".concat(r," ").concat(String(o))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(o,r,i){var a,l,u,h,c;if(M===void 0&&(M=e(45408)),M(typeof o=="string","'name' must be a string"),typeof r=="string"&&(l="not ",r.substr(0,4)===l)?(a="must not be",r=r.replace(/^not /,"")):a="must be",function(g,v,m){return(m===void 0||m>g.length)&&(m=g.length),g.substring(m-9,m)===v}(o," argument"))u="The ".concat(o," ").concat(a," ").concat(t(r,"type"));else{var w=(typeof c!="number"&&(c=0),c+1>(h=o).length||h.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(o,'" ').concat(w," ").concat(a," ").concat(t(r,"type"))}return u+". Received type ".concat(p(i))},TypeError),s("ERR_INVALID_ARG_VALUE",function(o,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=e(35840));var a=b.inspect(r);return a.length>128&&(a="".concat(a.slice(0,128),"...")),"The argument '".concat(o,"' ").concat(i,". Received ").concat(a)},TypeError,RangeError),s("ERR_INVALID_RETURN_VALUE",function(o,r,i){var a;return a=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(p(i)),"Expected ".concat(o,' to be returned from the "').concat(r,'"')+" function but got ".concat(a,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];M===void 0&&(M=e(45408)),M(r.length>0,"At least one arg needs to be specified");var a="The ",l=r.length;switch(r=r.map(function(u){return'"'.concat(u,'"')}),l){case 1:a+="".concat(r[0]," argument");break;case 2:a+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:a+=r.slice(0,l-1).join(", "),a+=", and ".concat(r[l-1]," arguments")}return"".concat(a," must be specified")},TypeError),S.exports.codes=f},25116:function(S,x,e){"use strict";function p(X,se){return function(ce){if(Array.isArray(ce))return ce}(X)||function(ce,le){var de=[],be=!0,_e=!1,ve=void 0;try{for(var me,ye=ce[Symbol.iterator]();!(be=(me=ye.next()).done)&&(de.push(me.value),!le||de.length!==le);be=!0);}catch(Se){_e=!0,ve=Se}finally{try{be||ye.return==null||ye.return()}finally{if(_e)throw ve}}return de}(X,se)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(X){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},y(X)}var n=/a/g.flags!==void 0,M=function(X){var se=[];return X.forEach(function(ce){return se.push(ce)}),se},b=function(X){var se=[];return X.forEach(function(ce,le){return se.push([le,ce])}),se},f=Object.is?Object.is:e(39896),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(1560);function o(X){return X.call.bind(X)}var r=o(Object.prototype.hasOwnProperty),i=o(Object.prototype.propertyIsEnumerable),a=o(Object.prototype.toString),l=e(35840).types,u=l.isAnyArrayBuffer,h=l.isArrayBufferView,c=l.isDate,w=l.isMap,g=l.isRegExp,v=l.isSet,m=l.isNativeError,T=l.isBoxedPrimitive,_=l.isNumberObject,A=l.isStringObject,d=l.isBooleanObject,C=l.isBigIntObject,k=l.isSymbolObject,D=l.isFloat32Array,O=l.isFloat64Array;function L(X){if(X.length===0||X.length>10)return!0;for(var se=0;se<X.length;se++){var ce=X.charCodeAt(se);if(ce<48||ce>57)return!0}return X.length===10&&X>=Math.pow(2,32)}function R(X){return Object.keys(X).filter(L).concat(s(X).filter(Object.prototype.propertyIsEnumerable.bind(X)))}function z(X,se){if(X===se)return 0;for(var ce=X.length,le=se.length,de=0,be=Math.min(ce,le);de<be;++de)if(X[de]!==se[de]){ce=X[de],le=se[de];break}return ce<le?-1:le<ce?1:0}var q=0,N=1,V=2,Z=3;function j(X,se,ce,le){if(X===se)return X!==0||!ce||f(X,se);if(ce){if(y(X)!=="object")return typeof X=="number"&&t(X)&&t(se);if(y(se)!=="object"||X===null||se===null||Object.getPrototypeOf(X)!==Object.getPrototypeOf(se))return!1}else{if(X===null||y(X)!=="object")return(se===null||y(se)!=="object")&&X==se;if(se===null||y(se)!=="object")return!1}var de,be,_e,ve,me=a(X);if(me!==a(se))return!1;if(Array.isArray(X)){if(X.length!==se.length)return!1;var ye=R(X),Se=R(se);return ye.length===Se.length&&Y(X,se,ce,le,N,ye)}if(me==="[object Object]"&&(!w(X)&&w(se)||!v(X)&&v(se)))return!1;if(c(X)){if(!c(se)||Date.prototype.getTime.call(X)!==Date.prototype.getTime.call(se))return!1}else if(g(X)){if(!g(se)||(_e=X,ve=se,!(n?_e.source===ve.source&&_e.flags===ve.flags:RegExp.prototype.toString.call(_e)===RegExp.prototype.toString.call(ve))))return!1}else if(m(X)||X instanceof Error){if(X.message!==se.message||X.name!==se.name)return!1}else{if(h(X)){if(ce||!D(X)&&!O(X)){if(!function(ue,ae){return ue.byteLength===ae.byteLength&&z(new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength),new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength))===0}(X,se))return!1}else if(!function(ue,ae){if(ue.byteLength!==ae.byteLength)return!1;for(var pe=0;pe<ue.byteLength;pe++)if(ue[pe]!==ae[pe])return!1;return!0}(X,se))return!1;var Ie=R(X),xe=R(se);return Ie.length===xe.length&&Y(X,se,ce,le,q,Ie)}if(v(X))return!(!v(se)||X.size!==se.size)&&Y(X,se,ce,le,V);if(w(X))return!(!w(se)||X.size!==se.size)&&Y(X,se,ce,le,Z);if(u(X)){if(be=se,(de=X).byteLength!==be.byteLength||z(new Uint8Array(de),new Uint8Array(be))!==0)return!1}else if(T(X)&&!function(ue,ae){return _(ue)?_(ae)&&f(Number.prototype.valueOf.call(ue),Number.prototype.valueOf.call(ae)):A(ue)?A(ae)&&String.prototype.valueOf.call(ue)===String.prototype.valueOf.call(ae):d(ue)?d(ae)&&Boolean.prototype.valueOf.call(ue)===Boolean.prototype.valueOf.call(ae):C(ue)?C(ae)&&BigInt.prototype.valueOf.call(ue)===BigInt.prototype.valueOf.call(ae):k(ae)&&Symbol.prototype.valueOf.call(ue)===Symbol.prototype.valueOf.call(ae)}(X,se))return!1}return Y(X,se,ce,le,q)}function H(X,se){return se.filter(function(ce){return i(X,ce)})}function Y(X,se,ce,le,de,be){if(arguments.length===5){be=Object.keys(X);var _e=Object.keys(se);if(be.length!==_e.length)return!1}for(var ve=0;ve<be.length;ve++)if(!r(se,be[ve]))return!1;if(ce&&arguments.length===5){var me=s(X);if(me.length!==0){var ye=0;for(ve=0;ve<me.length;ve++){var Se=me[ve];if(i(X,Se)){if(!i(se,Se))return!1;be.push(Se),ye++}else if(i(se,Se))return!1}var Ie=s(se);if(me.length!==Ie.length&&H(se,Ie).length!==ye)return!1}else{var xe=s(se);if(xe.length!==0&&H(se,xe).length!==0)return!1}}if(be.length===0&&(de===q||de===N&&X.length===0||X.size===0))return!0;if(le===void 0)le={val1:new Map,val2:new Map,position:0};else{var ue=le.val1.get(X);if(ue!==void 0){var ae=le.val2.get(se);if(ae!==void 0)return ue===ae}le.position++}le.val1.set(X,le.position),le.val2.set(se,le.position);var pe=function(De,Te,Ae,Ce,Re,Ne){var ge=0;if(Ne===V){if(!function(Le,Ue,Ge,Ke){for(var at=null,st=M(Le),vt=0;vt<st.length;vt++){var xt=st[vt];if(y(xt)==="object"&&xt!==null)at===null&&(at=new Set),at.add(xt);else if(!Ue.has(xt)){if(Ge||!ne(Le,Ue,xt))return!1;at===null&&(at=new Set),at.add(xt)}}if(at!==null){for(var gt=M(Ue),nt=0;nt<gt.length;nt++){var et=gt[nt];if(y(et)==="object"&&et!==null){if(!ie(at,et,Ge,Ke))return!1}else if(!Ge&&!Le.has(et)&&!ie(at,et,Ge,Ke))return!1}return at.size===0}return!0}(De,Te,Ae,Re))return!1}else if(Ne===Z){if(!function(Le,Ue,Ge,Ke){for(var at=null,st=b(Le),vt=0;vt<st.length;vt++){var xt=p(st[vt],2),gt=xt[0],nt=xt[1];if(y(gt)==="object"&&gt!==null)at===null&&(at=new Set),at.add(gt);else{var et=Ue.get(gt);if(et===void 0&&!Ue.has(gt)||!j(nt,et,Ge,Ke)){if(Ge||!ee(Le,Ue,gt,nt,Ke))return!1;at===null&&(at=new Set),at.add(gt)}}}if(at!==null){for(var At=b(Ue),Pt=0;Pt<At.length;Pt++){var Rt=p(At[Pt],2),Et=(gt=Rt[0],Rt[1]);if(y(gt)==="object"&&gt!==null){if(!Q(at,Le,gt,Et,Ge,Ke))return!1}else if(!(Ge||Le.has(gt)&&j(Le.get(gt),Et,!1,Ke)||Q(at,Le,gt,Et,!1,Ke)))return!1}return at.size===0}return!0}(De,Te,Ae,Re))return!1}else if(Ne===N)for(;ge<De.length;ge++){if(!r(De,ge)){if(r(Te,ge))return!1;for(var Me=Object.keys(De);ge<Me.length;ge++){var Ee=Me[ge];if(!r(Te,Ee)||!j(De[Ee],Te[Ee],Ae,Re))return!1}return Me.length===Object.keys(Te).length}if(!r(Te,ge)||!j(De[ge],Te[ge],Ae,Re))return!1}for(ge=0;ge<Ce.length;ge++){var Fe=Ce[ge];if(!j(De[Fe],Te[Fe],Ae,Re))return!1}return!0}(X,se,ce,be,le,de);return le.val1.delete(X),le.val2.delete(se),pe}function ie(X,se,ce,le){for(var de=M(X),be=0;be<de.length;be++){var _e=de[be];if(j(se,_e,ce,le))return X.delete(_e),!0}return!1}function re(X){switch(y(X)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":X=+X;case"number":if(t(X))return!1}return!0}function ne(X,se,ce){var le=re(ce);return le??(se.has(le)&&!X.has(le))}function ee(X,se,ce,le,de){var be=re(ce);if(be!=null)return be;var _e=se.get(be);return!(_e===void 0&&!se.has(be)||!j(le,_e,!1,de))&&!X.has(be)&&j(le,_e,!1,de)}function Q(X,se,ce,le,de,be){for(var _e=M(X),ve=0;ve<_e.length;ve++){var me=_e[ve];if(j(ce,me,de,be)&&j(le,se.get(me),de,be))return X.delete(me),!0}return!1}S.exports={isDeepEqual:function(X,se){return j(X,se,!1)},isDeepStrictEqual:function(X,se){return j(X,se,!0)}}},83160:function(S,x,e){"use strict";e.r(x),e.d(x,{decode:function(){return b},encode:function(){return M}});for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<64;n++)y[p.charCodeAt(n)]=n;var M=function(f){var s,t=new Uint8Array(f),o=t.length,r="";for(s=0;s<o;s+=3)r+=p[t[s]>>2],r+=p[(3&t[s])<<4|t[s+1]>>4],r+=p[(15&t[s+1])<<2|t[s+2]>>6],r+=p[63&t[s+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r},b=function(f){var s,t,o,r,i,a=.75*f.length,l=f.length,u=0;f[f.length-1]==="="&&(a--,f[f.length-2]==="="&&a--);var h=new ArrayBuffer(a),c=new Uint8Array(h);for(s=0;s<l;s+=4)t=y[f.charCodeAt(s)],o=y[f.charCodeAt(s+1)],r=y[f.charCodeAt(s+2)],i=y[f.charCodeAt(s+3)],c[u++]=t<<2|o>>4,c[u++]=(15&o)<<4|r>>2,c[u++]=(3&r)<<6|63&i;return h}},59968:function(S,x){"use strict";x.byteLength=function(s){var t=b(s),o=t[0],r=t[1];return 3*(o+r)/4-r},x.toByteArray=function(s){var t,o,r=b(s),i=r[0],a=r[1],l=new y(function(c,w,g){return 3*(w+g)/4-g}(0,i,a)),u=0,h=a>0?i-4:i;for(o=0;o<h;o+=4)t=p[s.charCodeAt(o)]<<18|p[s.charCodeAt(o+1)]<<12|p[s.charCodeAt(o+2)]<<6|p[s.charCodeAt(o+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return a===2&&(t=p[s.charCodeAt(o)]<<2|p[s.charCodeAt(o+1)]>>4,l[u++]=255&t),a===1&&(t=p[s.charCodeAt(o)]<<10|p[s.charCodeAt(o+1)]<<4|p[s.charCodeAt(o+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},x.fromByteArray=function(s){for(var t,o=s.length,r=o%3,i=[],a=16383,l=0,u=o-r;l<u;l+=a)i.push(f(s,l,l+a>u?u:l+a));return r===1?(t=s[o-1],i.push(e[t>>2]+e[t<<4&63]+"==")):r===2&&(t=(s[o-2]<<8)+s[o-1],i.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),i.join("")};for(var e=[],p=[],y=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0;M<64;++M)e[M]=n[M],p[n.charCodeAt(M)]=M;function b(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=s.indexOf("=");return o===-1&&(o=t),[o,o===t?0:4-o%4]}function f(s,t,o){for(var r,i,a=[],l=t;l<o;l+=3)r=(s[l]<<16&16711680)+(s[l+1]<<8&65280)+(255&s[l+2]),a.push(e[(i=r)>>18&63]+e[i>>12&63]+e[i>>6&63]+e[63&i]);return a.join("")}p[45]=62,p[95]=63},64928:function(S){"use strict";function x(b,f,s,t,o){for(var r=o+1;t<=o;){var i=t+o>>>1,a=b[i];(s!==void 0?s(a,f):a-f)>=0?(r=i,o=i-1):t=i+1}return r}function e(b,f,s,t,o){for(var r=o+1;t<=o;){var i=t+o>>>1,a=b[i];(s!==void 0?s(a,f):a-f)>0?(r=i,o=i-1):t=i+1}return r}function p(b,f,s,t,o){for(var r=t-1;t<=o;){var i=t+o>>>1,a=b[i];(s!==void 0?s(a,f):a-f)<0?(r=i,t=i+1):o=i-1}return r}function y(b,f,s,t,o){for(var r=t-1;t<=o;){var i=t+o>>>1,a=b[i];(s!==void 0?s(a,f):a-f)<=0?(r=i,t=i+1):o=i-1}return r}function n(b,f,s,t,o){for(;t<=o;){var r=t+o>>>1,i=b[r],a=s!==void 0?s(i,f):i-f;if(a===0)return r;a<=0?t=r+1:o=r-1}return-1}function M(b,f,s,t,o,r){return typeof s=="function"?r(b,f,s,t===void 0?0:0|t,o===void 0?b.length-1:0|o):r(b,f,void 0,s===void 0?0:0|s,t===void 0?b.length-1:0|t)}S.exports={ge:function(b,f,s,t,o){return M(b,f,s,t,o,x)},gt:function(b,f,s,t,o){return M(b,f,s,t,o,e)},lt:function(b,f,s,t,o){return M(b,f,s,t,o,p)},le:function(b,f,s,t,o){return M(b,f,s,t,o,y)},eq:function(b,f,s,t,o){return M(b,f,s,t,o,n)}}},308:function(S,x){"use strict";function e(y){var n=32;return(y&=-y)&&n--,65535&y&&(n-=16),16711935&y&&(n-=8),252645135&y&&(n-=4),858993459&y&&(n-=2),1431655765&y&&(n-=1),n}x.INT_BITS=32,x.INT_MAX=2147483647,x.INT_MIN=-2147483648,x.sign=function(y){return(y>0)-(y<0)},x.abs=function(y){var n=y>>31;return(y^n)-n},x.min=function(y,n){return n^(y^n)&-(y<n)},x.max=function(y,n){return y^(y^n)&-(y<n)},x.isPow2=function(y){return!(y&y-1||!y)},x.log2=function(y){var n,M;return n=(y>65535)<<4,n|=M=((y>>>=n)>255)<<3,n|=M=((y>>>=M)>15)<<2,(n|=M=((y>>>=M)>3)<<1)|(y>>>=M)>>1},x.log10=function(y){return y>=1e9?9:y>=1e8?8:y>=1e7?7:y>=1e6?6:y>=1e5?5:y>=1e4?4:y>=1e3?3:y>=100?2:y>=10?1:0},x.popCount=function(y){return 16843009*((y=(858993459&(y-=y>>>1&1431655765))+(y>>>2&858993459))+(y>>>4)&252645135)>>>24},x.countTrailingZeros=e,x.nextPow2=function(y){return y+=y===0,--y,y|=y>>>1,y|=y>>>2,y|=y>>>4,y|=y>>>8,1+(y|=y>>>16)},x.prevPow2=function(y){return y|=y>>>1,y|=y>>>2,y|=y>>>4,y|=y>>>8,(y|=y>>>16)-(y>>>1)},x.parity=function(y){return y^=y>>>16,y^=y>>>8,y^=y>>>4,27030>>>(y&=15)&1};var p=new Array(256);(function(y){for(var n=0;n<256;++n){var M=n,b=n,f=7;for(M>>>=1;M;M>>>=1)b<<=1,b|=1&M,--f;y[n]=b<<f&255}})(p),x.reverse=function(y){return p[255&y]<<24|p[y>>>8&255]<<16|p[y>>>16&255]<<8|p[y>>>24&255]},x.interleave2=function(y,n){return(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y&=65535)|y<<8))|y<<4))|y<<2))|y<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},x.deinterleave2=function(y,n){return(y=65535&((y=16711935&((y=252645135&((y=858993459&((y=y>>>n&1431655765)|y>>>1))|y>>>2))|y>>>4))|y>>>16))<<16>>16},x.interleave3=function(y,n,M){return y=1227133513&((y=3272356035&((y=251719695&((y=4278190335&((y&=1023)|y<<16))|y<<8))|y<<4))|y<<2),(y|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(M=1227133513&((M=3272356035&((M=251719695&((M=4278190335&((M&=1023)|M<<16))|M<<8))|M<<4))|M<<2))<<2},x.deinterleave3=function(y,n){return(y=1023&((y=4278190335&((y=251719695&((y=3272356035&((y=y>>>n&1227133513)|y>>>2))|y>>>4))|y>>>8))|y>>>16))<<22>>22},x.nextCombination=function(y){var n=y|y-1;return n+1|(~n&-~n)-1>>>e(y)+1}},29620:function(S,x,e){"use strict";var p=e(32420);S.exports=function(b,f){f||(f={});var s,t,o,r,i,a,l,u,h,c,w,g=f.cutoff==null?.25:f.cutoff,v=f.radius==null?8:f.radius,m=f.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!f.width||!f.height)throw Error("For raw data width and height should be provided by options");s=f.width,t=f.height,r=b,a=f.stride?f.stride:Math.floor(b.length/s/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(l=(u=b).getContext("2d"),s=u.width,t=u.height,r=(h=l.getImageData(0,0,s,t)).data,a=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(l=b,s=(u=b.canvas).width,t=u.height,r=(h=l.getImageData(0,0,s,t)).data,a=4):window.ImageData&&b instanceof window.ImageData&&(h=b,s=b.width,t=b.height,r=h.data,a=4);if(o=Math.max(s,t),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(i=r,r=Array(s*t),c=0,w=i.length;c<w;c++)r[c]=i[c*a+m]/255;else if(a!==1)throw Error("Raw data can have only 1 value per pixel");var T=Array(s*t),_=Array(s*t),A=Array(o),d=Array(o),C=Array(o+1),k=Array(o);for(c=0,w=s*t;c<w;c++){var D=r[c];T[c]=D===1?0:D===0?y:Math.pow(Math.max(0,.5-D),2),_[c]=D===1?y:D===0?0:Math.pow(Math.max(0,D-.5),2)}n(T,s,t,A,d,k,C),n(_,s,t,A,d,k,C);var O=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,w=s*t;c<w;c++)O[c]=p(1-((T[c]-_[c])/v+g),0,1);return O};var y=1e20;function n(b,f,s,t,o,r,i){for(var a=0;a<f;a++){for(var l=0;l<s;l++)t[l]=b[l*f+a];for(M(t,o,r,i,s),l=0;l<s;l++)b[l*f+a]=o[l]}for(l=0;l<s;l++){for(a=0;a<f;a++)t[a]=b[l*f+a];for(M(t,o,r,i,f),a=0;a<f;a++)b[l*f+a]=Math.sqrt(o[a])}}function M(b,f,s,t,o){s[0]=0,t[0]=-y,t[1]=+y;for(var r=1,i=0;r<o;r++){for(var a=(b[r]+r*r-(b[s[i]]+s[i]*s[i]))/(2*r-2*s[i]);a<=t[i];)i--,a=(b[r]+r*r-(b[s[i]]+s[i]*s[i]))/(2*r-2*s[i]);s[++i]=r,t[i]=a,t[i+1]=+y}for(r=0,i=0;r<o;r++){for(;t[i+1]<r;)i++;f[r]=(r-s[i])*(r-s[i])+b[s[i]]}}},99676:function(S,x,e){"use strict";var p=e(53664),y=e(57916),n=y(p("String.prototype.indexOf"));S.exports=function(M,b){var f=p(M,!!b);return typeof f=="function"&&n(M,".prototype.")>-1?y(f):f}},57916:function(S,x,e){"use strict";var p=e(8844),y=e(53664),n=e(14500),M=y("%TypeError%"),b=y("%Function.prototype.apply%"),f=y("%Function.prototype.call%"),s=y("%Reflect.apply%",!0)||p.call(f,b),t=y("%Object.defineProperty%",!0),o=y("%Math.max%");if(t)try{t({},"a",{value:1})}catch{t=null}S.exports=function(i){if(typeof i!="function")throw new M("a function is required");var a=s(p,f,arguments);return n(a,1+o(0,i.length-(arguments.length-1)),!0)};var r=function(){return s(p,b,arguments)};t?t(S.exports,"apply",{value:r}):S.exports.apply=r},32420:function(S){S.exports=function(x,e,p){return e<p?x<e?e:x>p?p:x:x<p?p:x>e?e:x}},3808:function(S,x,e){"use strict";var p=e(32420);function y(n,M){M==null&&(M=!0);var b=n[0],f=n[1],s=n[2],t=n[3];return t==null&&(t=M?1:255),M&&(b*=255,f*=255,s*=255,t*=255),16777216*(b=255&p(b,0,255))+((f=255&p(f,0,255))<<16)+((s=255&p(s,0,255))<<8)+(255&p(t,0,255))}S.exports=y,S.exports.to=y,S.exports.from=function(n,M){var b=(n=+n)>>>24,f=(16711680&n)>>>16,s=(65280&n)>>>8,t=255&n;return M===!1?[b,f,s,t]:[b/255,f/255,s/255,t/255]}},17592:function(S){"use strict";S.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(S,x,e){"use strict";var p=e(96824),y=e(32420),n=e(72512);S.exports=function(M,b){b!=="float"&&b||(b="array"),b==="uint"&&(b="uint8"),b==="uint_clamped"&&(b="uint8_clamped");var f=new(n(b))(4),s=b!=="uint8"&&b!=="uint8_clamped";return M.length&&typeof M!="string"||((M=p(M))[0]/=255,M[1]/=255,M[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(M)?(f[0]=M[0],f[1]=M[1],f[2]=M[2],f[3]=M[3]!=null?M[3]:255,s&&(f[0]/=255,f[1]/=255,f[2]/=255,f[3]/=255),f):(s?(f[0]=M[0],f[1]=M[1],f[2]=M[2],f[3]=M[3]!=null?M[3]:1):(f[0]=y(Math.floor(255*M[0]),0,255),f[1]=y(Math.floor(255*M[1]),0,255),f[2]=y(Math.floor(255*M[2]),0,255),f[3]=M[3]==null?255:y(Math.floor(255*M[3]),0,255)),f)}},96824:function(S,x,e){"use strict";var p=e(95532),y=e(53576),n=e(32420);S.exports=function(M){var b,f=p(M);return f.space?((b=Array(3))[0]=n(f.values[0],0,255),b[1]=n(f.values[1],0,255),b[2]=n(f.values[2],0,255),f.space[0]==="h"&&(b=y.rgb(b)),b.push(n(f.alpha,0,1)),b):[]}},95532:function(S,x,e){"use strict";var p=e(17592);S.exports=function(n){var M,b,f=[],s=1;if(typeof n=="string")if(n=n.toLowerCase(),p[n])f=p[n].slice(),b="rgb";else if(n==="transparent")s=0,b="rgb",f=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var t=n.slice(1);s=1,(i=t.length)<=4?(f=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],i===4&&(s=parseInt(t[3]+t[3],16)/255)):(f=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],i===8&&(s=parseInt(t[6]+t[7],16)/255)),f[0]||(f[0]=0),f[1]||(f[1]=0),f[2]||(f[2]=0),b="rgb"}else if(M=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var o=M[1],r=o==="rgb";b=t=o.replace(/a$/,"");var i=t==="cmyk"?4:t==="gray"?1:3;f=M[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(a,l){if(/%$/.test(a))return l===i?parseFloat(a)/100:t==="rgb"?255*parseFloat(a)/100:parseFloat(a);if(t[l]==="h"){if(/deg$/.test(a))return parseFloat(a);if(y[a]!==void 0)return y[a]}return parseFloat(a)}),o===t&&f.push(1),s=r||f[i]===void 0?1:f[i],f=f.slice(0,i)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(f=n.match(/([0-9]+)/g).map(function(a){return parseFloat(a)}),b=n.match(/([a-z])/gi).join("").toLowerCase());else isNaN(n)?Array.isArray(n)||n.length?(f=[n[0],n[1],n[2]],b="rgb",s=n.length===4?n[3]:1):n instanceof Object&&(n.r!=null||n.red!=null||n.R!=null?(b="rgb",f=[n.r||n.red||n.R||0,n.g||n.green||n.G||0,n.b||n.blue||n.B||0]):(b="hsl",f=[n.h||n.hue||n.H||0,n.s||n.saturation||n.S||0,n.l||n.lightness||n.L||n.b||n.brightness]),s=n.a||n.alpha||n.opacity||1,n.opacity!=null&&(s/=100)):(b="rgb",f=[n>>>16,(65280&n)>>>8,255&n]);return{space:b,values:f,alpha:s}};var y={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},53576:function(S,x,e){"use strict";var p=e(19336);S.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(y){var n,M,b,f,s,t=y[0]/360,o=y[1]/100,r=y[2]/100;if(o===0)return[s=255*r,s,s];n=2*r-(M=r<.5?r*(1+o):r+o-r*o),f=[0,0,0];for(var i=0;i<3;i++)(b=t+.3333333333333333*-(i-1))<0?b++:b>1&&b--,s=6*b<1?n+6*(M-n)*b:2*b<1?M:3*b<2?n+(M-n)*(.6666666666666666-b)*6:n,f[i]=255*s;return f}},p.hsl=function(y){var n,M,b=y[0]/255,f=y[1]/255,s=y[2]/255,t=Math.min(b,f,s),o=Math.max(b,f,s),r=o-t;return o===t?n=0:b===o?n=(f-s)/r:f===o?n=2+(s-b)/r:s===o&&(n=4+(b-f)/r),(n=Math.min(60*n,360))<0&&(n+=360),M=(t+o)/2,[n,100*(o===t?0:M<=.5?r/(o+t):r/(2-o-t)),100*M]}},19336:function(S){"use strict";S.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(S){S.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(S,x,e){"use strict";S.exports={parse:e(46416),stringify:e(49395)}},8744:function(S,x,e){"use strict";var p=e(30584);S.exports={isSize:function(y){return/^[\d\.]/.test(y)||y.indexOf("/")!==-1||p.indexOf(y)!==-1}}},46416:function(S,x,e){"use strict";var p=e(92384),y=e(68194),n=e(3748),M=e(2904),b=e(47916),f=e(7294),s=e(39956),t=e(8744).isSize;S.exports=r;var o=r.cache={};function r(a){if(typeof a!="string")throw new Error("Font argument must be a string.");if(o[a])return o[a];if(a==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(a)!==-1)return o[a]={system:a};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},h=s(a,/\s+/);l=h.shift();){if(y.indexOf(l)!==-1)return["style","variant","weight","stretch"].forEach(function(w){u[w]=l}),o[a]=u;if(b.indexOf(l)===-1)if(l!=="normal"&&l!=="small-caps")if(f.indexOf(l)===-1){if(M.indexOf(l)===-1){if(t(l)){var c=s(l,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=i(c[1]):h[0]==="/"&&(h.shift(),u.lineHeight=i(h.shift())),!h.length)throw new Error("Missing required font-family.");return u.family=s(h.join(" "),/\s*,\s*/).map(p),o[a]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function i(a){var l=parseFloat(a);return l.toString()===a?l:a}},49395:function(S,x,e){"use strict";var p=e(55616),y=e(8744).isSize,n=a(e(68194)),M=a(e(3748)),b=a(e(2904)),f=a(e(47916)),s=a(e(7294)),t={normal:1,"small-caps":1},o={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function i(l,u){if(l&&!u[l]&&!n[l])throw Error("Unknown keyword `"+l+"`");return l}function a(l){for(var u={},h=0;h<l.length;h++)u[l[h]]=1;return u}S.exports=function(l){if((l=p(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&i(l.system,M),l.system;if(i(l.style,f),i(l.variant,t),i(l.weight,b),i(l.stretch,s),l.size==null&&(l.size="1rem"),typeof l.size=="number"&&(l.size+="px"),!y)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=r),Array.isArray(l.family)&&(l.family.length||(l.family=[r]),l.family=l.family.map(function(h){return o[h]?h:'"'+h+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},27940:function(S,x,e){"use strict";var p,y=e(81680),n=e(18496),M=e(87396),b=e(95920),f=e(50868),s=e(84323),t=Function.prototype.bind,o=Object.defineProperty,r=Object.prototype.hasOwnProperty;p=function(i,a,l){var u,h=n(a)&&M(a.value);return delete(u=b(a)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&r.call(this,i)?h:(a.value=t.call(h,l.resolveContext?l.resolveContext(this):this),o(this,i,a),this[i])},u},S.exports=function(i){var a=f(arguments[1]);return y(a.resolveContext)&&M(a.resolveContext),s(i,function(l,u){return p(u,l,a)})}},21092:function(S,x,e){"use strict";var p=e(81680),y=e(85488),n=e(38452),M=e(50868),b=e(71056),f=S.exports=function(s,t){var o,r,i,a,l;return arguments.length<2||typeof s!="string"?(a=t,t=s,s=null):a=arguments[2],p(s)?(o=b.call(s,"c"),r=b.call(s,"e"),i=b.call(s,"w")):(o=i=!0,r=!1),l={value:t,configurable:o,enumerable:r,writable:i},a?n(M(a),l):l};f.gs=function(s,t,o){var r,i,a,l;return typeof s!="string"?(a=o,o=t,t=s,s=null):a=arguments[3],p(t)?y(t)?p(o)?y(o)||(a=o,o=void 0):o=void 0:(a=t,t=o=void 0):t=void 0,p(s)?(r=b.call(s,"c"),i=b.call(s,"e")):(r=!0,i=!1),l={get:t,set:o,configurable:r,enumerable:i},a?n(M(a),l):l}},84706:function(S,x,e){"use strict";function p(a,l){return a<l?-1:a>l?1:a>=l?0:NaN}e.d(x,{XE:function(){return p},kv:function(){return b},mo:function(){return s},Uf:function(){return t},SY:function(){return o},ik:function(){return r},oh:function(){return i}}),(y=p).length===1&&(n=y,y=function(a,l){return p(n(a),l)});var y,n,M=Array.prototype;function b(a,l){var u,h,c=a.length,w=-1;if(l==null){for(;++w<c;)if((u=a[w])!=null&&u>=u)for(h=u;++w<c;)(u=a[w])!=null&&u>h&&(h=u)}else for(;++w<c;)if((u=l(a[w],w,a))!=null&&u>=u)for(h=u;++w<c;)(u=l(a[w],w,a))!=null&&u>h&&(h=u);return h}function f(a){return a===null?NaN:+a}function s(a,l){var u,h=a.length,c=h,w=-1,g=0;if(l==null)for(;++w<h;)isNaN(u=f(a[w]))?--c:g+=u;else for(;++w<h;)isNaN(u=f(l(a[w],w,a)))?--c:g+=u;if(c)return g/c}function t(a){for(var l,u,h,c=a.length,w=-1,g=0;++w<c;)g+=a[w].length;for(u=new Array(g);--c>=0;)for(l=(h=a[c]).length;--l>=0;)u[--g]=h[l];return u}function o(a,l){var u,h,c=a.length,w=-1;if(l==null){for(;++w<c;)if((u=a[w])!=null&&u>=u)for(h=u;++w<c;)(u=a[w])!=null&&h>u&&(h=u)}else for(;++w<c;)if((u=l(a[w],w,a))!=null&&u>=u)for(h=u;++w<c;)(u=l(a[w],w,a))!=null&&h>u&&(h=u);return h}function r(a,l,u){a=+a,l=+l,u=(c=arguments.length)<2?(l=a,a=0,1):c<3?1:+u;for(var h=-1,c=0|Math.max(0,Math.ceil((l-a)/u)),w=new Array(c);++h<c;)w[h]=a+h*u;return w}function i(a,l){var u,h=a.length,c=-1,w=0;if(l==null)for(;++c<h;)(u=+a[c])&&(w+=u);else for(;++c<h;)(u=+l(a[c],c,a))&&(w+=u);return w}M.slice,M.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},34712:function(S,x,e){"use strict";e.d(x,{kH:function(){return M},UJ:function(){return b}});var p="$";function y(){}function n(a,l){var u=new y;if(a instanceof y)a.each(function(v,m){u.set(m,v)});else if(Array.isArray(a)){var h,c=-1,w=a.length;if(l==null)for(;++c<w;)u.set(c,a[c]);else for(;++c<w;)u.set(l(h=a[c],c,a),h)}else if(a)for(var g in a)u.set(g,a[g]);return u}y.prototype=n.prototype={constructor:y,has:function(a){return p+a in this},get:function(a){return this[p+a]},set:function(a,l){return this[p+a]=l,this},remove:function(a){var l=p+a;return l in this&&delete this[l]},clear:function(){for(var a in this)a[0]===p&&delete this[a]},keys:function(){var a=[];for(var l in this)l[0]===p&&a.push(l.slice(1));return a},values:function(){var a=[];for(var l in this)l[0]===p&&a.push(this[l]);return a},entries:function(){var a=[];for(var l in this)l[0]===p&&a.push({key:l.slice(1),value:this[l]});return a},size:function(){var a=0;for(var l in this)l[0]===p&&++a;return a},empty:function(){for(var a in this)if(a[0]===p)return!1;return!0},each:function(a){for(var l in this)l[0]===p&&a(this[l],l.slice(1),this)}};var M=n;function b(){var a,l,u,h=[],c=[];function w(v,m,T,_){if(m>=h.length)return a!=null&&v.sort(a),l!=null?l(v):v;for(var A,d,C,k=-1,D=v.length,O=h[m++],L=M(),R=T();++k<D;)(C=L.get(A=O(d=v[k])+""))?C.push(d):L.set(A,[d]);return L.each(function(z,q){_(R,q,w(z,m,T,_))}),R}function g(v,m){if(++m>h.length)return v;var T,_=c[m-1];return l!=null&&m>=h.length?T=v.entries():(T=[],v.each(function(A,d){T.push({key:d,values:g(A,m)})})),_!=null?T.sort(function(A,d){return _(A.key,d.key)}):T}return u={object:function(v){return w(v,0,f,s)},map:function(v){return w(v,0,t,o)},entries:function(v){return g(w(v,0,t,o),0)},key:function(v){return h.push(v),u},sortKeys:function(v){return c[h.length-1]=v,u},sortValues:function(v){return a=v,u},rollup:function(v){return l=v,u}}}function f(){return{}}function s(a,l,u){a[l]=u}function t(){return M()}function o(a,l,u){a.set(l,u)}function r(){}var i=M.prototype;r.prototype=(function(a,l){var u=new r;if(a instanceof r)a.each(function(w){u.add(w)});else if(a){var h=-1,c=a.length;if(l==null)for(;++h<c;)u.add(a[h]);else for(;++h<c;)u.add(l(a[h],h,a))}return u}).prototype={constructor:r,has:i.has,add:function(a){return this[p+(a+="")]=a,this},remove:i.remove,clear:i.clear,values:i.keys,size:i.size,empty:i.empty,each:i.each}},49812:function(S,x,e){"use strict";function p(me,ye){var Se;function Ie(){var xe,ue,ae=Se.length,pe=0,De=0;for(xe=0;xe<ae;++xe)pe+=(ue=Se[xe]).x,De+=ue.y;for(pe=pe/ae-me,De=De/ae-ye,xe=0;xe<ae;++xe)(ue=Se[xe]).x-=pe,ue.y-=De}return me==null&&(me=0),ye==null&&(ye=0),Ie.initialize=function(xe){Se=xe},Ie.x=function(xe){return arguments.length?(me=+xe,Ie):me},Ie.y=function(xe){return arguments.length?(ye=+xe,Ie):ye},Ie}function y(me){return function(){return me}}function n(){return 1e-6*(Math.random()-.5)}function M(me,ye,Se,Ie){if(isNaN(ye)||isNaN(Se))return me;var xe,ue,ae,pe,De,Te,Ae,Ce,Re,Ne=me._root,ge={data:Ie},Me=me._x0,Ee=me._y0,Fe=me._x1,Le=me._y1;if(!Ne)return me._root=ge,me;for(;Ne.length;)if((Te=ye>=(ue=(Me+Fe)/2))?Me=ue:Fe=ue,(Ae=Se>=(ae=(Ee+Le)/2))?Ee=ae:Le=ae,xe=Ne,!(Ne=Ne[Ce=Ae<<1|Te]))return xe[Ce]=ge,me;if(pe=+me._x.call(null,Ne.data),De=+me._y.call(null,Ne.data),ye===pe&&Se===De)return ge.next=Ne,xe?xe[Ce]=ge:me._root=ge,me;do xe=xe?xe[Ce]=new Array(4):me._root=new Array(4),(Te=ye>=(ue=(Me+Fe)/2))?Me=ue:Fe=ue,(Ae=Se>=(ae=(Ee+Le)/2))?Ee=ae:Le=ae;while((Ce=Ae<<1|Te)==(Re=(De>=ae)<<1|pe>=ue));return xe[Re]=Ne,xe[Ce]=ge,me}function b(me,ye,Se,Ie,xe){this.node=me,this.x0=ye,this.y0=Se,this.x1=Ie,this.y1=xe}function f(me){return me[0]}function s(me){return me[1]}function t(me,ye,Se){var Ie=new o(ye??f,Se??s,NaN,NaN,NaN,NaN);return me==null?Ie:Ie.addAll(me)}function o(me,ye,Se,Ie,xe,ue){this._x=me,this._y=ye,this._x0=Se,this._y0=Ie,this._x1=xe,this._y1=ue,this._root=void 0}function r(me){for(var ye={data:me.data},Se=ye;me=me.next;)Se=Se.next={data:me.data};return ye}e.r(x),e.d(x,{forceCenter:function(){return p},forceCollide:function(){return u},forceLink:function(){return g},forceManyBody:function(){return de},forceRadial:function(){return be},forceSimulation:function(){return le},forceX:function(){return _e},forceY:function(){return ve}});var i=t.prototype=o.prototype;function a(me){return me.x+me.vx}function l(me){return me.y+me.vy}function u(me){var ye,Se,Ie=1,xe=1;function ue(){for(var De,Te,Ae,Ce,Re,Ne,ge,Me=ye.length,Ee=0;Ee<xe;++Ee)for(Te=t(ye,a,l).visitAfter(ae),De=0;De<Me;++De)Ae=ye[De],Ne=Se[Ae.index],ge=Ne*Ne,Ce=Ae.x+Ae.vx,Re=Ae.y+Ae.vy,Te.visit(Fe);function Fe(Le,Ue,Ge,Ke,at){var st=Le.data,vt=Le.r,xt=Ne+vt;if(!st)return Ue>Ce+xt||Ke<Ce-xt||Ge>Re+xt||at<Re-xt;if(st.index>Ae.index){var gt=Ce-st.x-st.vx,nt=Re-st.y-st.vy,et=gt*gt+nt*nt;et<xt*xt&&(gt===0&&(et+=(gt=n())*gt),nt===0&&(et+=(nt=n())*nt),et=(xt-(et=Math.sqrt(et)))/et*Ie,Ae.vx+=(gt*=et)*(xt=(vt*=vt)/(ge+vt)),Ae.vy+=(nt*=et)*xt,st.vx-=gt*(xt=1-xt),st.vy-=nt*xt)}}}function ae(De){if(De.data)return De.r=Se[De.data.index];for(var Te=De.r=0;Te<4;++Te)De[Te]&&De[Te].r>De.r&&(De.r=De[Te].r)}function pe(){if(ye){var De,Te,Ae=ye.length;for(Se=new Array(Ae),De=0;De<Ae;++De)Te=ye[De],Se[Te.index]=+me(Te,De,ye)}}return typeof me!="function"&&(me=y(me==null?1:+me)),ue.initialize=function(De){ye=De,pe()},ue.iterations=function(De){return arguments.length?(xe=+De,ue):xe},ue.strength=function(De){return arguments.length?(Ie=+De,ue):Ie},ue.radius=function(De){return arguments.length?(me=typeof De=="function"?De:y(+De),pe(),ue):me},ue}i.copy=function(){var me,ye,Se=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ie=this._root;if(!Ie)return Se;if(!Ie.length)return Se._root=r(Ie),Se;for(me=[{source:Ie,target:Se._root=new Array(4)}];Ie=me.pop();)for(var xe=0;xe<4;++xe)(ye=Ie.source[xe])&&(ye.length?me.push({source:ye,target:Ie.target[xe]=new Array(4)}):Ie.target[xe]=r(ye));return Se},i.add=function(me){var ye=+this._x.call(null,me),Se=+this._y.call(null,me);return M(this.cover(ye,Se),ye,Se,me)},i.addAll=function(me){var ye,Se,Ie,xe,ue=me.length,ae=new Array(ue),pe=new Array(ue),De=1/0,Te=1/0,Ae=-1/0,Ce=-1/0;for(Se=0;Se<ue;++Se)isNaN(Ie=+this._x.call(null,ye=me[Se]))||isNaN(xe=+this._y.call(null,ye))||(ae[Se]=Ie,pe[Se]=xe,Ie<De&&(De=Ie),Ie>Ae&&(Ae=Ie),xe<Te&&(Te=xe),xe>Ce&&(Ce=xe));if(De>Ae||Te>Ce)return this;for(this.cover(De,Te).cover(Ae,Ce),Se=0;Se<ue;++Se)M(this,ae[Se],pe[Se],me[Se]);return this},i.cover=function(me,ye){if(isNaN(me=+me)||isNaN(ye=+ye))return this;var Se=this._x0,Ie=this._y0,xe=this._x1,ue=this._y1;if(isNaN(Se))xe=(Se=Math.floor(me))+1,ue=(Ie=Math.floor(ye))+1;else{for(var ae,pe,De=xe-Se,Te=this._root;Se>me||me>=xe||Ie>ye||ye>=ue;)switch(pe=(ye<Ie)<<1|me<Se,(ae=new Array(4))[pe]=Te,Te=ae,De*=2,pe){case 0:xe=Se+De,ue=Ie+De;break;case 1:Se=xe-De,ue=Ie+De;break;case 2:xe=Se+De,Ie=ue-De;break;case 3:Se=xe-De,Ie=ue-De}this._root&&this._root.length&&(this._root=Te)}return this._x0=Se,this._y0=Ie,this._x1=xe,this._y1=ue,this},i.data=function(){var me=[];return this.visit(function(ye){if(!ye.length)do me.push(ye.data);while(ye=ye.next)}),me},i.extent=function(me){return arguments.length?this.cover(+me[0][0],+me[0][1]).cover(+me[1][0],+me[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},i.find=function(me,ye,Se){var Ie,xe,ue,ae,pe,De,Te,Ae=this._x0,Ce=this._y0,Re=this._x1,Ne=this._y1,ge=[],Me=this._root;for(Me&&ge.push(new b(Me,Ae,Ce,Re,Ne)),Se==null?Se=1/0:(Ae=me-Se,Ce=ye-Se,Re=me+Se,Ne=ye+Se,Se*=Se);De=ge.pop();)if(!(!(Me=De.node)||(xe=De.x0)>Re||(ue=De.y0)>Ne||(ae=De.x1)<Ae||(pe=De.y1)<Ce))if(Me.length){var Ee=(xe+ae)/2,Fe=(ue+pe)/2;ge.push(new b(Me[3],Ee,Fe,ae,pe),new b(Me[2],xe,Fe,Ee,pe),new b(Me[1],Ee,ue,ae,Fe),new b(Me[0],xe,ue,Ee,Fe)),(Te=(ye>=Fe)<<1|me>=Ee)&&(De=ge[ge.length-1],ge[ge.length-1]=ge[ge.length-1-Te],ge[ge.length-1-Te]=De)}else{var Le=me-+this._x.call(null,Me.data),Ue=ye-+this._y.call(null,Me.data),Ge=Le*Le+Ue*Ue;if(Ge<Se){var Ke=Math.sqrt(Se=Ge);Ae=me-Ke,Ce=ye-Ke,Re=me+Ke,Ne=ye+Ke,Ie=Me.data}}return Ie},i.remove=function(me){if(isNaN(ue=+this._x.call(null,me))||isNaN(ae=+this._y.call(null,me)))return this;var ye,Se,Ie,xe,ue,ae,pe,De,Te,Ae,Ce,Re,Ne=this._root,ge=this._x0,Me=this._y0,Ee=this._x1,Fe=this._y1;if(!Ne)return this;if(Ne.length)for(;;){if((Te=ue>=(pe=(ge+Ee)/2))?ge=pe:Ee=pe,(Ae=ae>=(De=(Me+Fe)/2))?Me=De:Fe=De,ye=Ne,!(Ne=Ne[Ce=Ae<<1|Te]))return this;if(!Ne.length)break;(ye[Ce+1&3]||ye[Ce+2&3]||ye[Ce+3&3])&&(Se=ye,Re=Ce)}for(;Ne.data!==me;)if(Ie=Ne,!(Ne=Ne.next))return this;return(xe=Ne.next)&&delete Ne.next,Ie?(xe?Ie.next=xe:delete Ie.next,this):ye?(xe?ye[Ce]=xe:delete ye[Ce],(Ne=ye[0]||ye[1]||ye[2]||ye[3])&&Ne===(ye[3]||ye[2]||ye[1]||ye[0])&&!Ne.length&&(Se?Se[Re]=Ne:this._root=Ne),this):(this._root=xe,this)},i.removeAll=function(me){for(var ye=0,Se=me.length;ye<Se;++ye)this.remove(me[ye]);return this},i.root=function(){return this._root},i.size=function(){var me=0;return this.visit(function(ye){if(!ye.length)do++me;while(ye=ye.next)}),me},i.visit=function(me){var ye,Se,Ie,xe,ue,ae,pe=[],De=this._root;for(De&&pe.push(new b(De,this._x0,this._y0,this._x1,this._y1));ye=pe.pop();)if(!me(De=ye.node,Ie=ye.x0,xe=ye.y0,ue=ye.x1,ae=ye.y1)&&De.length){var Te=(Ie+ue)/2,Ae=(xe+ae)/2;(Se=De[3])&&pe.push(new b(Se,Te,Ae,ue,ae)),(Se=De[2])&&pe.push(new b(Se,Ie,Ae,Te,ae)),(Se=De[1])&&pe.push(new b(Se,Te,xe,ue,Ae)),(Se=De[0])&&pe.push(new b(Se,Ie,xe,Te,Ae))}return this},i.visitAfter=function(me){var ye,Se=[],Ie=[];for(this._root&&Se.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));ye=Se.pop();){var xe=ye.node;if(xe.length){var ue,ae=ye.x0,pe=ye.y0,De=ye.x1,Te=ye.y1,Ae=(ae+De)/2,Ce=(pe+Te)/2;(ue=xe[0])&&Se.push(new b(ue,ae,pe,Ae,Ce)),(ue=xe[1])&&Se.push(new b(ue,Ae,pe,De,Ce)),(ue=xe[2])&&Se.push(new b(ue,ae,Ce,Ae,Te)),(ue=xe[3])&&Se.push(new b(ue,Ae,Ce,De,Te))}Ie.push(ye)}for(;ye=Ie.pop();)me(ye.node,ye.x0,ye.y0,ye.x1,ye.y1);return this},i.x=function(me){return arguments.length?(this._x=me,this):this._x},i.y=function(me){return arguments.length?(this._y=me,this):this._y};var h=e(34712);function c(me){return me.index}function w(me,ye){var Se=me.get(ye);if(!Se)throw new Error("missing: "+ye);return Se}function g(me){var ye,Se,Ie,xe,ue,ae=c,pe=function(ge){return 1/Math.min(xe[ge.source.index],xe[ge.target.index])},De=y(30),Te=1;function Ae(ge){for(var Me=0,Ee=me.length;Me<Te;++Me)for(var Fe,Le,Ue,Ge,Ke,at,st,vt=0;vt<Ee;++vt)Le=(Fe=me[vt]).source,Ge=(Ue=Fe.target).x+Ue.vx-Le.x-Le.vx||n(),Ke=Ue.y+Ue.vy-Le.y-Le.vy||n(),Ge*=at=((at=Math.sqrt(Ge*Ge+Ke*Ke))-Se[vt])/at*ge*ye[vt],Ke*=at,Ue.vx-=Ge*(st=ue[vt]),Ue.vy-=Ke*st,Le.vx+=Ge*(st=1-st),Le.vy+=Ke*st}function Ce(){if(Ie){var ge,Me,Ee=Ie.length,Fe=me.length,Le=(0,h.kH)(Ie,ae);for(ge=0,xe=new Array(Ee);ge<Fe;++ge)(Me=me[ge]).index=ge,typeof Me.source!="object"&&(Me.source=w(Le,Me.source)),typeof Me.target!="object"&&(Me.target=w(Le,Me.target)),xe[Me.source.index]=(xe[Me.source.index]||0)+1,xe[Me.target.index]=(xe[Me.target.index]||0)+1;for(ge=0,ue=new Array(Fe);ge<Fe;++ge)Me=me[ge],ue[ge]=xe[Me.source.index]/(xe[Me.source.index]+xe[Me.target.index]);ye=new Array(Fe),Re(),Se=new Array(Fe),Ne()}}function Re(){if(Ie)for(var ge=0,Me=me.length;ge<Me;++ge)ye[ge]=+pe(me[ge],ge,me)}function Ne(){if(Ie)for(var ge=0,Me=me.length;ge<Me;++ge)Se[ge]=+De(me[ge],ge,me)}return me==null&&(me=[]),Ae.initialize=function(ge){Ie=ge,Ce()},Ae.links=function(ge){return arguments.length?(me=ge,Ce(),Ae):me},Ae.id=function(ge){return arguments.length?(ae=ge,Ae):ae},Ae.iterations=function(ge){return arguments.length?(Te=+ge,Ae):Te},Ae.strength=function(ge){return arguments.length?(pe=typeof ge=="function"?ge:y(+ge),Re(),Ae):pe},Ae.distance=function(ge){return arguments.length?(De=typeof ge=="function"?ge:y(+ge),Ne(),Ae):De},Ae}var v={value:function(){}};function m(){for(var me,ye=0,Se=arguments.length,Ie={};ye<Se;++ye){if(!(me=arguments[ye]+"")||me in Ie||/[\s.]/.test(me))throw new Error("illegal type: "+me);Ie[me]=[]}return new T(Ie)}function T(me){this._=me}function _(me,ye){for(var Se,Ie=0,xe=me.length;Ie<xe;++Ie)if((Se=me[Ie]).name===ye)return Se.value}function A(me,ye,Se){for(var Ie=0,xe=me.length;Ie<xe;++Ie)if(me[Ie].name===ye){me[Ie]=v,me=me.slice(0,Ie).concat(me.slice(Ie+1));break}return Se!=null&&me.push({name:ye,value:Se}),me}T.prototype=m.prototype={constructor:T,on:function(me,ye){var Se,Ie,xe=this._,ue=(Ie=xe,(me+"").trim().split(/^|\s+/).map(function(De){var Te="",Ae=De.indexOf(".");if(Ae>=0&&(Te=De.slice(Ae+1),De=De.slice(0,Ae)),De&&!Ie.hasOwnProperty(De))throw new Error("unknown type: "+De);return{type:De,name:Te}})),ae=-1,pe=ue.length;if(!(arguments.length<2)){if(ye!=null&&typeof ye!="function")throw new Error("invalid callback: "+ye);for(;++ae<pe;)if(Se=(me=ue[ae]).type)xe[Se]=A(xe[Se],me.name,ye);else if(ye==null)for(Se in xe)xe[Se]=A(xe[Se],me.name,null);return this}for(;++ae<pe;)if((Se=(me=ue[ae]).type)&&(Se=_(xe[Se],me.name)))return Se},copy:function(){var me={},ye=this._;for(var Se in ye)me[Se]=ye[Se].slice();return new T(me)},call:function(me,ye){if((Se=arguments.length-2)>0)for(var Se,Ie,xe=new Array(Se),ue=0;ue<Se;++ue)xe[ue]=arguments[ue+2];if(!this._.hasOwnProperty(me))throw new Error("unknown type: "+me);for(ue=0,Se=(Ie=this._[me]).length;ue<Se;++ue)Ie[ue].value.apply(ye,xe)},apply:function(me,ye,Se){if(!this._.hasOwnProperty(me))throw new Error("unknown type: "+me);for(var Ie=this._[me],xe=0,ue=Ie.length;xe<ue;++xe)Ie[xe].value.apply(ye,Se)}};var d,C,k=m,D=0,O=0,L=0,R=1e3,z=0,q=0,N=0,V=typeof performance=="object"&&performance.now?performance:Date,Z=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(me){setTimeout(me,17)};function j(){return q||(Z(H),q=V.now()+N)}function H(){q=0}function Y(){this._call=this._time=this._next=null}function ie(me,ye,Se){var Ie=new Y;return Ie.restart(me,ye,Se),Ie}function re(){q=(z=V.now())+N,D=O=0;try{(function(){j(),++D;for(var me,ye=d;ye;)(me=q-ye._time)>=0&&ye._call.call(null,me),ye=ye._next;--D})()}finally{D=0,function(){for(var me,ye,Se=d,Ie=1/0;Se;)Se._call?(Ie>Se._time&&(Ie=Se._time),me=Se,Se=Se._next):(ye=Se._next,Se._next=null,Se=me?me._next=ye:d=ye);C=me,ee(Ie)}(),q=0}}function ne(){var me=V.now(),ye=me-z;ye>R&&(N-=ye,z=me)}function ee(me){D||(O&&(O=clearTimeout(O)),me-q>24?(me<1/0&&(O=setTimeout(re,me-V.now()-N)),L&&(L=clearInterval(L))):(L||(z=V.now(),L=setInterval(ne,R)),D=1,Z(re)))}function Q(me){return me.x}function X(me){return me.y}Y.prototype=ie.prototype={constructor:Y,restart:function(me,ye,Se){if(typeof me!="function")throw new TypeError("callback is not a function");Se=(Se==null?j():+Se)+(ye==null?0:+ye),this._next||C===this||(C?C._next=this:d=this,C=this),this._call=me,this._time=Se,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};var se=10,ce=Math.PI*(3-Math.sqrt(5));function le(me){var ye,Se=1,Ie=.001,xe=1-Math.pow(Ie,1/300),ue=0,ae=.6,pe=(0,h.kH)(),De=ie(Ae),Te=k("tick","end");function Ae(){Ce(),Te.call("tick",ye),Se<Ie&&(De.stop(),Te.call("end",ye))}function Ce(ge){var Me,Ee,Fe=me.length;ge===void 0&&(ge=1);for(var Le=0;Le<ge;++Le)for(Se+=(ue-Se)*xe,pe.each(function(Ue){Ue(Se)}),Me=0;Me<Fe;++Me)(Ee=me[Me]).fx==null?Ee.x+=Ee.vx*=ae:(Ee.x=Ee.fx,Ee.vx=0),Ee.fy==null?Ee.y+=Ee.vy*=ae:(Ee.y=Ee.fy,Ee.vy=0);return ye}function Re(){for(var ge,Me=0,Ee=me.length;Me<Ee;++Me){if((ge=me[Me]).index=Me,ge.fx!=null&&(ge.x=ge.fx),ge.fy!=null&&(ge.y=ge.fy),isNaN(ge.x)||isNaN(ge.y)){var Fe=se*Math.sqrt(Me),Le=Me*ce;ge.x=Fe*Math.cos(Le),ge.y=Fe*Math.sin(Le)}(isNaN(ge.vx)||isNaN(ge.vy))&&(ge.vx=ge.vy=0)}}function Ne(ge){return ge.initialize&&ge.initialize(me),ge}return me==null&&(me=[]),Re(),ye={tick:Ce,restart:function(){return De.restart(Ae),ye},stop:function(){return De.stop(),ye},nodes:function(ge){return arguments.length?(me=ge,Re(),pe.each(Ne),ye):me},alpha:function(ge){return arguments.length?(Se=+ge,ye):Se},alphaMin:function(ge){return arguments.length?(Ie=+ge,ye):Ie},alphaDecay:function(ge){return arguments.length?(xe=+ge,ye):+xe},alphaTarget:function(ge){return arguments.length?(ue=+ge,ye):ue},velocityDecay:function(ge){return arguments.length?(ae=1-ge,ye):1-ae},force:function(ge,Me){return arguments.length>1?(Me==null?pe.remove(ge):pe.set(ge,Ne(Me)),ye):pe.get(ge)},find:function(ge,Me,Ee){var Fe,Le,Ue,Ge,Ke,at=0,st=me.length;for(Ee==null?Ee=1/0:Ee*=Ee,at=0;at<st;++at)(Ue=(Fe=ge-(Ge=me[at]).x)*Fe+(Le=Me-Ge.y)*Le)<Ee&&(Ke=Ge,Ee=Ue);return Ke},on:function(ge,Me){return arguments.length>1?(Te.on(ge,Me),ye):Te.on(ge)}}}function de(){var me,ye,Se,Ie,xe=y(-30),ue=1,ae=1/0,pe=.81;function De(Re){var Ne,ge=me.length,Me=t(me,Q,X).visitAfter(Ae);for(Se=Re,Ne=0;Ne<ge;++Ne)ye=me[Ne],Me.visit(Ce)}function Te(){if(me){var Re,Ne,ge=me.length;for(Ie=new Array(ge),Re=0;Re<ge;++Re)Ne=me[Re],Ie[Ne.index]=+xe(Ne,Re,me)}}function Ae(Re){var Ne,ge,Me,Ee,Fe,Le=0,Ue=0;if(Re.length){for(Me=Ee=Fe=0;Fe<4;++Fe)(Ne=Re[Fe])&&(ge=Math.abs(Ne.value))&&(Le+=Ne.value,Ue+=ge,Me+=ge*Ne.x,Ee+=ge*Ne.y);Re.x=Me/Ue,Re.y=Ee/Ue}else{(Ne=Re).x=Ne.data.x,Ne.y=Ne.data.y;do Le+=Ie[Ne.data.index];while(Ne=Ne.next)}Re.value=Le}function Ce(Re,Ne,ge,Me){if(!Re.value)return!0;var Ee=Re.x-ye.x,Fe=Re.y-ye.y,Le=Me-Ne,Ue=Ee*Ee+Fe*Fe;if(Le*Le/pe<Ue)return Ue<ae&&(Ee===0&&(Ue+=(Ee=n())*Ee),Fe===0&&(Ue+=(Fe=n())*Fe),Ue<ue&&(Ue=Math.sqrt(ue*Ue)),ye.vx+=Ee*Re.value*Se/Ue,ye.vy+=Fe*Re.value*Se/Ue),!0;if(!(Re.length||Ue>=ae)){(Re.data!==ye||Re.next)&&(Ee===0&&(Ue+=(Ee=n())*Ee),Fe===0&&(Ue+=(Fe=n())*Fe),Ue<ue&&(Ue=Math.sqrt(ue*Ue)));do Re.data!==ye&&(Le=Ie[Re.data.index]*Se/Ue,ye.vx+=Ee*Le,ye.vy+=Fe*Le);while(Re=Re.next)}}return De.initialize=function(Re){me=Re,Te()},De.strength=function(Re){return arguments.length?(xe=typeof Re=="function"?Re:y(+Re),Te(),De):xe},De.distanceMin=function(Re){return arguments.length?(ue=Re*Re,De):Math.sqrt(ue)},De.distanceMax=function(Re){return arguments.length?(ae=Re*Re,De):Math.sqrt(ae)},De.theta=function(Re){return arguments.length?(pe=Re*Re,De):Math.sqrt(pe)},De}function be(me,ye,Se){var Ie,xe,ue,ae=y(.1);function pe(Te){for(var Ae=0,Ce=Ie.length;Ae<Ce;++Ae){var Re=Ie[Ae],Ne=Re.x-ye||1e-6,ge=Re.y-Se||1e-6,Me=Math.sqrt(Ne*Ne+ge*ge),Ee=(ue[Ae]-Me)*xe[Ae]*Te/Me;Re.vx+=Ne*Ee,Re.vy+=ge*Ee}}function De(){if(Ie){var Te,Ae=Ie.length;for(xe=new Array(Ae),ue=new Array(Ae),Te=0;Te<Ae;++Te)ue[Te]=+me(Ie[Te],Te,Ie),xe[Te]=isNaN(ue[Te])?0:+ae(Ie[Te],Te,Ie)}}return typeof me!="function"&&(me=y(+me)),ye==null&&(ye=0),Se==null&&(Se=0),pe.initialize=function(Te){Ie=Te,De()},pe.strength=function(Te){return arguments.length?(ae=typeof Te=="function"?Te:y(+Te),De(),pe):ae},pe.radius=function(Te){return arguments.length?(me=typeof Te=="function"?Te:y(+Te),De(),pe):me},pe.x=function(Te){return arguments.length?(ye=+Te,pe):ye},pe.y=function(Te){return arguments.length?(Se=+Te,pe):Se},pe}function _e(me){var ye,Se,Ie,xe=y(.1);function ue(pe){for(var De,Te=0,Ae=ye.length;Te<Ae;++Te)(De=ye[Te]).vx+=(Ie[Te]-De.x)*Se[Te]*pe}function ae(){if(ye){var pe,De=ye.length;for(Se=new Array(De),Ie=new Array(De),pe=0;pe<De;++pe)Se[pe]=isNaN(Ie[pe]=+me(ye[pe],pe,ye))?0:+xe(ye[pe],pe,ye)}}return typeof me!="function"&&(me=y(me==null?0:+me)),ue.initialize=function(pe){ye=pe,ae()},ue.strength=function(pe){return arguments.length?(xe=typeof pe=="function"?pe:y(+pe),ae(),ue):xe},ue.x=function(pe){return arguments.length?(me=typeof pe=="function"?pe:y(+pe),ae(),ue):me},ue}function ve(me){var ye,Se,Ie,xe=y(.1);function ue(pe){for(var De,Te=0,Ae=ye.length;Te<Ae;++Te)(De=ye[Te]).vy+=(Ie[Te]-De.y)*Se[Te]*pe}function ae(){if(ye){var pe,De=ye.length;for(Se=new Array(De),Ie=new Array(De),pe=0;pe<De;++pe)Se[pe]=isNaN(Ie[pe]=+me(ye[pe],pe,ye))?0:+xe(ye[pe],pe,ye)}}return typeof me!="function"&&(me=y(me==null?0:+me)),ue.initialize=function(pe){ye=pe,ae()},ue.strength=function(pe){return arguments.length?(xe=typeof pe=="function"?pe:y(+pe),ae(),ue):xe},ue.y=function(pe){return arguments.length?(me=typeof pe=="function"?pe:y(+pe),ae(),ue):me},ue}},57624:function(S,x,e){"use strict";function p(u,h){if((c=(u=h?u.toExponential(h-1):u.toExponential()).indexOf("e"))<0)return null;var c,w=u.slice(0,c);return[w.length>1?w[0]+w.slice(2):w,+u.slice(c+1)]}e.d(x,{E9:function(){return r},SO:function(){return l}});var y,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M(u){if(!(h=n.exec(u)))throw new Error("invalid format: "+u);var h;return new b({fill:h[1],align:h[2],sign:h[3],symbol:h[4],zero:h[5],width:h[6],comma:h[7],precision:h[8]&&h[8].slice(1),trim:h[9],type:h[10]})}function b(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function f(u,h){var c=p(u,h);if(!c)return u+"";var w=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+w:w.length>g+1?w.slice(0,g+1)+"."+w.slice(g+1):w+new Array(g-w.length+2).join("0")}M.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,h){return(100*u).toFixed(h)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,h){return u.toExponential(h)},f:function(u,h){return u.toFixed(h)},g:function(u,h){return u.toPrecision(h)},o:function(u){return Math.round(u).toString(8)},p:function(u,h){return f(100*u,h)},r:f,s:function(u,h){var c=p(u,h);if(!c)return u+"";var w=c[0],g=c[1],v=g-(y=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,m=w.length;return v===m?w:v>m?w+new Array(v-m+1).join("0"):v>0?w.slice(0,v)+"."+w.slice(v):"0."+new Array(1-v).join("0")+p(u,Math.max(0,h+v-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var o,r,i=Array.prototype.map,a=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function l(u){var h,c,w=u.grouping===void 0||u.thousands===void 0?t:(h=i.call(u.grouping,Number),c=u.thousands+"",function(k,D){for(var O=k.length,L=[],R=0,z=h[0],q=0;O>0&&z>0&&(q+z+1>D&&(z=Math.max(1,D-q)),L.push(k.substring(O-=z,O+z)),!((q+=z+1)>D));)z=h[R=(R+1)%h.length];return L.reverse().join(c)}),g=u.currency===void 0?"":u.currency[0]+"",v=u.currency===void 0?"":u.currency[1]+"",m=u.decimal===void 0?".":u.decimal+"",T=u.numerals===void 0?t:function(k){return function(D){return D.replace(/[0-9]/g,function(O){return k[+O]})}}(i.call(u.numerals,String)),_=u.percent===void 0?"%":u.percent+"",A=u.minus===void 0?"-":u.minus+"",d=u.nan===void 0?"NaN":u.nan+"";function C(k){var D=(k=M(k)).fill,O=k.align,L=k.sign,R=k.symbol,z=k.zero,q=k.width,N=k.comma,V=k.precision,Z=k.trim,j=k.type;j==="n"?(N=!0,j="g"):s[j]||(V===void 0&&(V=12),Z=!0,j="g"),(z||D==="0"&&O==="=")&&(z=!0,D="0",O="=");var H=R==="$"?g:R==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",Y=R==="$"?v:/[%p]/.test(j)?_:"",ie=s[j],re=/[defgprs%]/.test(j);function ne(ee){var Q,X,se,ce=H,le=Y;if(j==="c")le=ie(ee)+le,ee="";else{var de=(ee=+ee)<0||1/ee<0;if(ee=isNaN(ee)?d:ie(Math.abs(ee),V),Z&&(ee=function(ve){e:for(var me,ye=ve.length,Se=1,Ie=-1;Se<ye;++Se)switch(ve[Se]){case".":Ie=me=Se;break;case"0":Ie===0&&(Ie=Se),me=Se;break;default:if(!+ve[Se])break e;Ie>0&&(Ie=0)}return Ie>0?ve.slice(0,Ie)+ve.slice(me+1):ve}(ee)),de&&+ee==0&&L!=="+"&&(de=!1),ce=(de?L==="("?L:A:L==="-"||L==="("?"":L)+ce,le=(j==="s"?a[8+y/3]:"")+le+(de&&L==="("?")":""),re){for(Q=-1,X=ee.length;++Q<X;)if(48>(se=ee.charCodeAt(Q))||se>57){le=(se===46?m+ee.slice(Q+1):ee.slice(Q))+le,ee=ee.slice(0,Q);break}}}N&&!z&&(ee=w(ee,1/0));var be=ce.length+ee.length+le.length,_e=be<q?new Array(q-be+1).join(D):"";switch(N&&z&&(ee=w(_e+ee,_e.length?q-le.length:1/0),_e=""),O){case"<":ee=ce+ee+le+_e;break;case"=":ee=ce+_e+ee+le;break;case"^":ee=_e.slice(0,be=_e.length>>1)+ce+ee+le+_e.slice(be);break;default:ee=_e+ce+ee+le}return T(ee)}return V=V===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V)),ne.toString=function(){return k+""},ne}return{format:C,formatPrefix:function(k,D){var O,L=C(((k=M(k)).type="f",k)),R=3*Math.max(-8,Math.min(8,Math.floor((O=D,((O=p(Math.abs(O)))?O[1]:NaN)/3)))),z=Math.pow(10,-R),q=a[8+R/3];return function(N){return L(z*N)+q}}}}o=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=o.format,o.formatPrefix},87108:function(S,x,e){"use strict";e.r(x),e.d(x,{geoAiry:function(){return N},geoAiryRaw:function(){return q},geoAitoff:function(){return Z},geoAitoffRaw:function(){return V},geoArmadillo:function(){return H},geoArmadilloRaw:function(){return j},geoAugust:function(){return ie},geoAugustRaw:function(){return Y},geoBaker:function(){return Q},geoBakerRaw:function(){return ee},geoBerghaus:function(){return ce},geoBerghausRaw:function(){return se},geoBertin1953:function(){return Se},geoBertin1953Raw:function(){return ye},geoBoggs:function(){return Ae},geoBoggsRaw:function(){return Te},geoBonne:function(){return Me},geoBonneRaw:function(){return ge},geoBottomley:function(){return Fe},geoBottomleyRaw:function(){return Ee},geoBromley:function(){return Ue},geoBromleyRaw:function(){return Le},geoChamberlin:function(){return et},geoChamberlinAfrica:function(){return nt},geoChamberlinRaw:function(){return xt},geoCollignon:function(){return Pt},geoCollignonRaw:function(){return At},geoCraig:function(){return Et},geoCraigRaw:function(){return Rt},geoCraster:function(){return Ve},geoCrasterRaw:function(){return Xe},geoCylindricalEqualArea:function(){return lt},geoCylindricalEqualAreaRaw:function(){return Ze},geoCylindricalStereographic:function(){return Be},geoCylindricalStereographicRaw:function(){return it},geoEckert1:function(){return ot},geoEckert1Raw:function(){return je},geoEckert2:function(){return dt},geoEckert2Raw:function(){return $e},geoEckert3:function(){return yt},geoEckert3Raw:function(){return mt},geoEckert4:function(){return kt},geoEckert4Raw:function(){return ht},geoEckert5:function(){return St},geoEckert5Raw:function(){return bt},geoEckert6:function(){return Ot},geoEckert6Raw:function(){return Lt},geoEisenlohr:function(){return on},geoEisenlohrRaw:function(){return $t},geoFahey:function(){return jt},geoFaheyRaw:function(){return Zt},geoFoucaut:function(){return Tn},geoFoucautRaw:function(){return Ln},geoFoucautSinusoidal:function(){return Qt},geoFoucautSinusoidalRaw:function(){return gn},geoGilbert:function(){return wn},geoGingery:function(){return Bn},geoGingeryRaw:function(){return En},geoGinzburg4:function(){return Gn},geoGinzburg4Raw:function(){return Kn},geoGinzburg5:function(){return $n},geoGinzburg5Raw:function(){return nr},geoGinzburg6:function(){return en},geoGinzburg6Raw:function(){return fr},geoGinzburg8:function(){return Cn},geoGinzburg8Raw:function(){return rn},geoGinzburg9:function(){return On},geoGinzburg9Raw:function(){return mn},geoGringorten:function(){return Zn},geoGringortenQuincuncial:function(){return Bo},geoGringortenRaw:function(){return Un},geoGuyou:function(){return Dt},geoGuyouRaw:function(){return vn},geoHammer:function(){return _e},geoHammerRaw:function(){return de},geoHammerRetroazimuthal:function(){return dn},geoHammerRetroazimuthalRaw:function(){return Jt},geoHealpix:function(){return Nn},geoHealpixRaw:function(){return tn},geoHill:function(){return er},geoHillRaw:function(){return jn},geoHomolosine:function(){return br},geoHomolosineRaw:function(){return hr},geoHufnagel:function(){return ar},geoHufnagelRaw:function(){return gr},geoHyperelliptical:function(){return Si},geoHyperellipticalRaw:function(){return Rr},geoInterrupt:function(){return Ai},geoInterruptedBoggs:function(){return zo},geoInterruptedHomolosine:function(){return co},geoInterruptedMollweide:function(){return ao},geoInterruptedMollweideHemispheres:function(){return ms},geoInterruptedQuarticAuthalic:function(){return Ic},geoInterruptedSinuMollweide:function(){return Ba},geoInterruptedSinusoidal:function(){return vs},geoKavrayskiy7:function(){return _a},geoKavrayskiy7Raw:function(){return ca},geoLagrange:function(){return wi},geoLagrangeRaw:function(){return wa},geoLarrivee:function(){return Ua},geoLarriveeRaw:function(){return ts},geoLaskowski:function(){return ys},geoLaskowskiRaw:function(){return Ta},geoLittrow:function(){return xs},geoLittrowRaw:function(){return Va},geoLoximuthal:function(){return bs},geoLoximuthalRaw:function(){return ns},geoMiller:function(){return Cu},geoMillerRaw:function(){return Ha},geoModifiedStereographic:function(){return $s},geoModifiedStereographicAlaska:function(){return Ec},geoModifiedStereographicGs48:function(){return Cc},geoModifiedStereographicGs50:function(){return Ys},geoModifiedStereographicLee:function(){return pl},geoModifiedStereographicMiller:function(){return qa},geoModifiedStereographicRaw:function(){return su},geoMollweide:function(){return ae},geoMollweideRaw:function(){return ue},geoMtFlatPolarParabolic:function(){return Du},geoMtFlatPolarParabolicRaw:function(){return Ma},geoMtFlatPolarQuartic:function(){return rs},geoMtFlatPolarQuarticRaw:function(){return _s},geoMtFlatPolarSinusoidal:function(){return ws},geoMtFlatPolarSinusoidalRaw:function(){return is},geoNaturalEarth:function(){return ei.c},geoNaturalEarth2:function(){return Dc},geoNaturalEarth2Raw:function(){return ml},geoNaturalEarthRaw:function(){return ei.g},geoNellHammer:function(){return vl},geoNellHammerRaw:function(){return lu},geoNicolosi:function(){return Lc},geoNicolosiRaw:function(){return uu},geoPatterson:function(){return nc},geoPattersonRaw:function(){return fu},geoPeirceQuincuncial:function(){return tl},geoPierceQuincuncial:function(){return tl},geoPolyconic:function(){return Ks},geoPolyconicRaw:function(){return xl},geoPolyhedral:function(){return xi},geoPolyhedralButterfly:function(){return _l},geoPolyhedralCollignon:function(){return jl},geoPolyhedralWaterman:function(){return Ul},geoProject:function(){return Vl},geoQuantize:function(){return as},geoQuincuncial:function(){return Ss},geoRectangularPolyconic:function(){return pa},geoRectangularPolyconicRaw:function(){return da},geoRobinson:function(){return Mr},geoRobinsonRaw:function(){return Ea},geoSatellite:function(){return Iu},geoSatelliteRaw:function(){return Hl},geoSinuMollweide:function(){return Qn},geoSinuMollweideRaw:function(){return rr},geoSinusoidal:function(){return Ne},geoSinusoidalRaw:function(){return Re},geoStitch:function(){return _o},geoTimes:function(){return Ya},geoTimesRaw:function(){return jo},geoTwoPointAzimuthal:function(){return Vo},geoTwoPointAzimuthalRaw:function(){return Tl},geoTwoPointAzimuthalUsa:function(){return Ml},geoTwoPointEquidistant:function(){return rl},geoTwoPointEquidistantRaw:function(){return ri},geoTwoPointEquidistantUsa:function(){return $a},geoVanDerGrinten:function(){return Al},geoVanDerGrinten2:function(){return Ia},geoVanDerGrinten2Raw:function(){return kl},geoVanDerGrinten3:function(){return il},geoVanDerGrinten3Raw:function(){return Di},geoVanDerGrinten4:function(){return Pr},geoVanDerGrinten4Raw:function(){return Sr},geoVanDerGrintenRaw:function(){return Da},geoWagner:function(){return Za},geoWagner4:function(){return rc},geoWagner4Raw:function(){return bi},geoWagner6:function(){return Ti},geoWagner6Raw:function(){return oa},geoWagner7:function(){return us},geoWagnerRaw:function(){return ia},geoWiechel:function(){return Xo},geoWiechelRaw:function(){return Ni},geoWinkel3:function(){return Lu},geoWinkel3Raw:function(){return Ls}});var p=e(87952),y=Math.abs,n=Math.atan,M=Math.atan2,b=Math.cos,f=Math.exp,s=Math.floor,t=Math.log,o=Math.max,r=Math.min,i=Math.pow,a=Math.round,l=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},u=Math.sin,h=Math.tan,c=1e-6,w=1e-12,g=Math.PI,v=g/2,m=g/4,T=Math.SQRT1_2,_=L(2),A=L(g),d=2*g,C=180/g,k=g/180;function D(Je){return Je>1?v:Je<-1?-v:Math.asin(Je)}function O(Je){return Je>1?0:Je<-1?g:Math.acos(Je)}function L(Je){return Je>0?Math.sqrt(Je):0}function R(Je){return(f(Je)-f(-Je))/2}function z(Je){return(f(Je)+f(-Je))/2}function q(Je){var tt=h(Je/2),ut=2*t(b(Je/2))/(tt*tt);function U($,W){var I=b($),G=b(W),te=u(W),oe=G*I,he=-((1-oe?t((1+oe)/2)/(1-oe):-.5)+ut/(1+oe));return[he*G*u($),he*te]}return U.invert=function($,W){var I,G=L($*$+W*W),te=-Je/2,oe=50;if(!G)return[0,0];do{var he=te/2,we=b(he),Oe=u(he),ze=Oe/we,qe=-t(y(we));te-=I=(2/ze*qe-ut*ze-G)/(-qe/(Oe*Oe)+1-ut/(2*we*we))*(we<0?.7:1)}while(y(I)>c&&--oe>0);var We=u(te);return[M($*We,G*b(te)),D(W*We/G)]},U}function N(){var Je=v,tt=(0,p.U)(q),ut=tt(Je);return ut.radius=function(U){return arguments.length?tt(Je=U*k):Je*C},ut.scale(179.976).clipAngle(147)}function V(Je,tt){var ut=b(tt),U=function($){return $?$/Math.sin($):1}(O(ut*b(Je/=2)));return[2*ut*u(Je)*U,u(tt)*U]}function Z(){return(0,p.c)(V).scale(152.63)}function j(Je){var tt=u(Je),ut=b(Je),U=Je>=0?1:-1,$=h(U*Je),W=(1+tt-ut)/2;function I(G,te){var oe=b(te),he=b(G/=2);return[(1+oe)*u(G),(U*te>-M(he,$)-.001?0:10*-U)+W+u(te)*ut-(1+oe)*tt*he]}return I.invert=function(G,te){var oe=0,he=0,we=50;do{var Oe=b(oe),ze=u(oe),qe=b(he),We=u(he),rt=1+qe,ft=rt*ze-G,pt=W+We*ut-rt*tt*Oe-te,wt=rt*Oe/2,Ct=-ze*We,Mt=tt*rt*ze/2,zt=ut*qe+tt*Oe*We,It=Ct*Mt-zt*wt,Xt=(pt*Ct-ft*zt)/It/2,Gt=(ft*Mt-pt*wt)/It;y(Gt)>2&&(Gt/=2),oe-=Xt,he-=Gt}while((y(Xt)>c||y(Gt)>c)&&--we>0);return U*he>-M(b(oe),$)-.001?[2*oe,he]:null},I}function H(){var Je=20*k,tt=Je>=0?1:-1,ut=h(tt*Je),U=(0,p.U)(j),$=U(Je),W=$.stream;return $.parallel=function(I){return arguments.length?(ut=h((tt=(Je=I*k)>=0?1:-1)*Je),U(Je)):Je*C},$.stream=function(I){var G=$.rotate(),te=W(I),oe=($.rotate([0,0]),W(I)),he=$.precision();return $.rotate(G),te.sphere=function(){oe.polygonStart(),oe.lineStart();for(var we=-180*tt;tt*we<180;we+=90*tt)oe.point(we,90*tt);if(Je)for(;tt*(we-=3*tt*he)>=-180;)oe.point(we,tt*-M(b(we*k/2),ut)*C);oe.lineEnd(),oe.polygonEnd()},te},$.scale(218.695).center([0,28.0974])}function Y(Je,tt){var ut=h(tt/2),U=L(1-ut*ut),$=1+U*b(Je/=2),W=u(Je)*U/$,I=ut/$,G=W*W,te=I*I;return[1.3333333333333333*W*(3+G-3*te),1.3333333333333333*I*(3+3*G-te)]}function ie(){return(0,p.c)(Y).scale(66.1603)}V.invert=function(Je,tt){if(!(Je*Je+4*tt*tt>g*g+c)){var ut=Je,U=tt,$=25;do{var W,I=u(ut),G=u(ut/2),te=b(ut/2),oe=u(U),he=b(U),we=u(2*U),Oe=oe*oe,ze=he*he,qe=G*G,We=1-ze*te*te,rt=We?O(he*te)*L(W=1/We):W=0,ft=2*rt*he*G-Je,pt=rt*oe-tt,wt=W*(ze*qe+rt*he*te*Oe),Ct=W*(.5*I*we-2*rt*oe*G),Mt=.25*W*(we*G-rt*oe*ze*I),zt=W*(Oe*te+rt*qe*he),It=Ct*Mt-zt*wt;if(!It)break;var Xt=(pt*Ct-ft*zt)/It,Gt=(ft*Mt-pt*wt)/It;ut-=Xt,U-=Gt}while((y(Xt)>c||y(Gt)>c)&&--$>0);return[ut,U]}},Y.invert=function(Je,tt){if(tt*=.375,!(Je*=.375)&&y(tt)>1)return null;var ut=1+Je*Je+tt*tt,U=L((ut-L(ut*ut-4*tt*tt))/2),$=D(U)/3,W=U?function(oe){return t(oe+L(oe*oe-1))}(y(tt/U))/3:function(oe){return t(oe+L(oe*oe+1))}(y(Je))/3,I=b($),G=z(W),te=G*G-I*I;return[2*l(Je)*M(R(W)*I,.25-te),2*l(tt)*M(G*u($),.25+te)]};var re=L(8),ne=t(1+_);function ee(Je,tt){var ut=y(tt);return ut<m?[Je,t(h(m+tt/2))]:[Je*b(ut)*(2*_-1/u(ut)),l(tt)*(2*_*(ut-m)-t(h(ut/2)))]}function Q(){return(0,p.c)(ee).scale(112.314)}ee.invert=function(Je,tt){if((U=y(tt))<ne)return[Je,2*n(f(tt))-v];var ut,U,$=m,W=25;do{var I=b($/2),G=h($/2);$-=ut=(re*($-m)-t(G)-U)/(re-I*I/(2*G))}while(y(ut)>w&&--W>0);return[Je/(b($)*(re-1/u($))),l(tt)*$]};var X=e(69020);function se(Je){var tt=2*g/Je;function ut(U,$){var W=(0,X.O)(U,$);if(y(U)>v){var I=M(W[1],W[0]),G=L(W[0]*W[0]+W[1]*W[1]),te=tt*a((I-v)/tt)+v,oe=M(u(I-=te),2-b(I));I=te+D(g/G*u(oe))-oe,W[0]=G*b(I),W[1]=G*u(I)}return W}return ut.invert=function(U,$){var W=L(U*U+$*$);if(W>v){var I=M($,U),G=tt*a((I-v)/tt)+v,te=I>G?-1:1,oe=W*b(G-I),he=1/h(te*O((oe-g)/L(g*(g-2*oe)+W*W)));I=G+2*n((he+te*L(he*he-3))/3),U=W*b(I),$=W*u(I)}return X.O.invert(U,$)},ut}function ce(){var Je=5,tt=(0,p.U)(se),ut=tt(Je),U=ut.stream,$=.01,W=-b($*k),I=u($*k);return ut.lobes=function(G){return arguments.length?tt(Je=+G):Je},ut.stream=function(G){var te=ut.rotate(),oe=U(G),he=(ut.rotate([0,0]),U(G));return ut.rotate(te),oe.sphere=function(){he.polygonStart(),he.lineStart();for(var we=0,Oe=360/Je,ze=2*g/Je,qe=90-180/Je,We=v;we<Je;++we,qe-=Oe,We-=ze)he.point(M(I*b(We),W)*C,D(I*u(We))*C),qe<-90?(he.point(-90,-180-qe-$),he.point(-90,-180-qe+$)):(he.point(90,qe+$),he.point(90,qe-$));he.lineEnd(),he.polygonEnd()},oe},ut.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(54724);function de(Je,tt){if(arguments.length<2&&(tt=Je),tt===1)return le.y;if(tt===1/0)return be;function ut(U,$){var W=(0,le.y)(U/tt,$);return W[0]*=Je,W}return ut.invert=function(U,$){var W=le.y.invert(U/Je,$);return W[0]*=tt,W},ut}function be(Je,tt){return[Je*b(tt)/b(tt/=2),2*u(tt)]}function _e(){var Je=2,tt=(0,p.U)(de),ut=tt(Je);return ut.coefficient=function(U){return arguments.length?tt(Je=+U):Je},ut.scale(169.529)}function ve(Je,tt,ut){var U,$,W,I=100;ut=ut===void 0?0:+ut,tt=+tt;do($=Je(ut))===(W=Je(ut+c))&&(W=$+c),ut-=U=-1*c*($-tt)/($-W);while(I-- >0&&y(U)>c);return I<0?NaN:ut}function me(Je,tt,ut){return tt===void 0&&(tt=40),ut===void 0&&(ut=w),function(U,$,W,I){var G,te,oe;W=W===void 0?0:+W,I=I===void 0?0:+I;for(var he=0;he<tt;he++){var we=Je(W,I),Oe=we[0]-U,ze=we[1]-$;if(y(Oe)<ut&&y(ze)<ut)break;var qe=Oe*Oe+ze*ze;if(qe>G)W-=te/=2,I-=oe/=2;else{G=qe;var We=(W>0?-1:1)*ut,rt=(I>0?-1:1)*ut,ft=Je(W+We,I),pt=Je(W,I+rt),wt=(ft[0]-we[0])/We,Ct=(ft[1]-we[1])/We,Mt=(pt[0]-we[0])/rt,zt=(pt[1]-we[1])/rt,It=zt*wt-Ct*Mt,Xt=(y(It)<.5?.5:1)/It;if(W+=te=(ze*Mt-Oe*zt)*Xt,I+=oe=(Oe*Ct-ze*wt)*Xt,y(te)<ut&&y(oe)<ut)break}}return[W,I]}}function ye(){var Je=de(1.68,2);function tt(ut,U){if(ut+U<-1.4){var $=(ut-U+1.6)*(ut+U+1.4)/8;ut+=$,U-=.8*$*u(U+g/2)}var W=Je(ut,U),I=(1-b(ut*U))/12;return W[1]<0&&(W[0]*=1+I),W[1]>0&&(W[1]*=1+I/1.5*W[0]*W[0]),W}return tt.invert=me(tt),tt}function Se(){return(0,p.c)(ye()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ie(Je,tt){var ut,U=Je*u(tt),$=30;do tt-=ut=(tt+u(tt)-U)/(1+b(tt));while(y(ut)>c&&--$>0);return tt/2}function xe(Je,tt,ut){function U($,W){return[Je*$*b(W=Ie(ut,W)),tt*u(W)]}return U.invert=function($,W){return W=D(W/tt),[$/(Je*b(W)),D((2*W+u(2*W))/ut)]},U}be.invert=function(Je,tt){var ut=2*D(tt/2);return[Je*b(ut/2)/b(ut),ut]};var ue=xe(_/v,_,g);function ae(){return(0,p.c)(ue).scale(169.529)}var pe=2.00276,De=1.11072;function Te(Je,tt){var ut=Ie(g,tt);return[pe*Je/(1/b(tt)+De/b(ut)),(tt+_*u(ut))/pe]}function Ae(){return(0,p.c)(Te).scale(160.857)}function Ce(Je){var tt=0,ut=(0,p.U)(Je),U=ut(tt);return U.parallel=function($){return arguments.length?ut(tt=$*k):tt*C},U}function Re(Je,tt){return[Je*b(tt),tt]}function Ne(){return(0,p.c)(Re).scale(152.63)}function ge(Je){if(!Je)return Re;var tt=1/h(Je);function ut(U,$){var W=tt+Je-$,I=W&&U*b($)/W;return[W*u(I),tt-W*b(I)]}return ut.invert=function(U,$){var W=L(U*U+($=tt-$)*$),I=tt+Je-W;return[W/b(I)*M(U,$),I]},ut}function Me(){return Ce(ge).scale(123.082).center([0,26.1441]).parallel(45)}function Ee(Je){function tt(ut,U){var $=v-U,W=$&&ut*Je*u($)/$;return[$*u(W)/Je,v-$*b(W)]}return tt.invert=function(ut,U){var $=ut*Je,W=v-U,I=L($*$+W*W),G=M($,W);return[(I?I/u(I):1)*G/Je,v-I]},tt}function Fe(){var Je=.5,tt=(0,p.U)(Ee),ut=tt(Je);return ut.fraction=function(U){return arguments.length?tt(Je=+U):Je},ut.scale(158.837)}Te.invert=function(Je,tt){var ut,U,$=pe*tt,W=tt<0?-m:m,I=25;do U=$-_*u(W),W-=ut=(u(2*W)+2*W-g*u(U))/(2*b(2*W)+2+g*b(U)*_*b(W));while(y(ut)>c&&--I>0);return U=$-_*u(W),[Je*(1/b(U)+De/b(W))/pe,U]},Re.invert=function(Je,tt){return[Je/b(tt),tt]};var Le=xe(1,4/g,g);function Ue(){return(0,p.c)(Le).scale(152.63)}var Ge=e(24052),Ke=e(92992);function at(Je,tt,ut,U,$,W){var I,G=b(W);if(y(Je)>1||y(W)>1)I=O(ut*$+tt*U*G);else{var te=u(Je/2),oe=u(W/2);I=2*D(L(te*te+tt*U*oe*oe))}return y(I)>c?[I,M(U*u(W),tt*$-ut*U*G)]:[0,0]}function st(Je,tt,ut){return O((Je*Je+tt*tt-ut*ut)/(2*Je*tt))}function vt(Je){return Je-2*g*s((Je+g)/(2*g))}function xt(Je,tt,ut){for(var U,$=[[Je[0],Je[1],u(Je[1]),b(Je[1])],[tt[0],tt[1],u(tt[1]),b(tt[1])],[ut[0],ut[1],u(ut[1]),b(ut[1])]],W=$[2],I=0;I<3;++I,W=U)U=$[I],W.v=at(U[1]-W[1],W[3],W[2],U[3],U[2],U[0]-W[0]),W.point=[0,0];var G=st($[0].v[0],$[2].v[0],$[1].v[0]),te=st($[0].v[0],$[1].v[0],$[2].v[0]),oe=g-G;$[2].point[1]=0,$[0].point[0]=-($[1].point[0]=$[0].v[0]/2);var he=[$[2].point[0]=$[0].point[0]+$[2].v[0]*b(G),2*($[0].point[1]=$[1].point[1]=$[2].v[0]*u(G))];return function(we,Oe){var ze,qe=u(Oe),We=b(Oe),rt=new Array(3);for(ze=0;ze<3;++ze){var ft=$[ze];if(rt[ze]=at(Oe-ft[1],ft[3],ft[2],We,qe,we-ft[0]),!rt[ze][0])return ft.point;rt[ze][1]=vt(rt[ze][1]-ft.v[1])}var pt=he.slice();for(ze=0;ze<3;++ze){var wt=ze==2?0:ze+1,Ct=st($[ze].v[0],rt[ze][0],rt[wt][0]);rt[ze][1]<0&&(Ct=-Ct),ze?ze==1?(Ct=te-Ct,pt[0]-=rt[ze][0]*b(Ct),pt[1]-=rt[ze][0]*u(Ct)):(Ct=oe-Ct,pt[0]+=rt[ze][0]*b(Ct),pt[1]+=rt[ze][0]*u(Ct)):(pt[0]+=rt[ze][0]*b(Ct),pt[1]-=rt[ze][0]*u(Ct))}return pt[0]/=3,pt[1]/=3,pt}}function gt(Je){return Je[0]*=k,Je[1]*=k,Je}function nt(){return et([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function et(Je,tt,ut){var U=(0,Ge.c)({type:"MultiPoint",coordinates:[Je,tt,ut]}),$=[-U[0],-U[1]],W=(0,Ke.c)($),I=xt(gt(W(Je)),gt(W(tt)),gt(W(ut)));I.invert=me(I);var G=(0,p.c)(I).rotate($),te=G.center;return delete G.rotate,G.center=function(oe){return arguments.length?te(W(oe)):W.invert(te())},G.clipAngle(90)}function At(Je,tt){var ut=L(1-u(tt));return[2/A*Je*ut,A*(1-ut)]}function Pt(){return(0,p.c)(At).scale(95.6464).center([0,30])}function Rt(Je){var tt=h(Je);function ut(U,$){return[U,(U?U/u(U):1)*(u($)*b(U)-tt*b($))]}return ut.invert=tt?function(U,$){U&&($*=u(U)/U);var W=b(U);return[U,2*M(L(W*W+tt*tt-$*$)-W,tt-$)]}:function(U,$){return[U,D(U?$*h(U)/U:$)]},ut}function Et(){return Ce(Rt).scale(249.828).clipAngle(90)}At.invert=function(Je,tt){var ut=(ut=tt/A-1)*ut;return[ut>0?Je*L(g/ut)/2:0,D(1-ut)]};var Ye=L(3);function Xe(Je,tt){return[Ye*Je*(2*b(2*tt/3)-1)/A,Ye*A*u(tt/3)]}function Ve(){return(0,p.c)(Xe).scale(156.19)}function Ze(Je){var tt=b(Je);function ut(U,$){return[U*tt,u($)/tt]}return ut.invert=function(U,$){return[U/tt,D($*tt)]},ut}function lt(){return Ce(Ze).parallel(38.58).scale(195.044)}function it(Je){var tt=b(Je);function ut(U,$){return[U*tt,(1+tt)*h($/2)]}return ut.invert=function(U,$){return[U/tt,2*n($/(1+tt))]},ut}function Be(){return Ce(it).scale(124.75)}function je(Je,tt){var ut=L(8/(3*g));return[ut*Je*(1-y(tt)/g),ut*tt]}function ot(){return(0,p.c)(je).scale(165.664)}function $e(Je,tt){var ut=L(4-3*u(y(tt)));return[2/L(6*g)*Je*ut,l(tt)*L(2*g/3)*(2-ut)]}function dt(){return(0,p.c)($e).scale(165.664)}function mt(Je,tt){var ut=L(g*(4+g));return[2/ut*Je*(1+L(1-4*tt*tt/(g*g))),4/ut*tt]}function yt(){return(0,p.c)(mt).scale(180.739)}function ht(Je,tt){var ut=(2+v)*u(tt);tt/=2;for(var U=0,$=1/0;U<10&&y($)>c;U++){var W=b(tt);tt-=$=(tt+u(tt)*(W+2)-ut)/(2*W*(1+W))}return[2/L(g*(4+g))*Je*(1+b(tt)),2*L(g/(4+g))*u(tt)]}function kt(){return(0,p.c)(ht).scale(180.739)}function bt(Je,tt){return[Je*(1+b(tt))/L(2+g),2*tt/L(2+g)]}function St(){return(0,p.c)(bt).scale(173.044)}function Lt(Je,tt){for(var ut=(1+v)*u(tt),U=0,$=1/0;U<10&&y($)>c;U++)tt-=$=(tt+u(tt)-ut)/(1+b(tt));return ut=L(2+g),[Je*(1+b(tt))/ut,2*tt/ut]}function Ot(){return(0,p.c)(Lt).scale(173.044)}Xe.invert=function(Je,tt){var ut=3*D(tt/(Ye*A));return[A*Je/(Ye*(2*b(2*ut/3)-1)),ut]},je.invert=function(Je,tt){var ut=L(8/(3*g)),U=tt/ut;return[Je/(ut*(1-y(U)/g)),U]},$e.invert=function(Je,tt){var ut=2-y(tt)/L(2*g/3);return[Je*L(6*g)/(2*ut),l(tt)*D((4-ut*ut)/3)]},mt.invert=function(Je,tt){var ut=L(g*(4+g))/2;return[Je*ut/(1+L(1-tt*tt*(4+g)/(4*g))),tt*ut/2]},ht.invert=function(Je,tt){var ut=tt*L((4+g)/g)/2,U=D(ut),$=b(U);return[Je/(2/L(g*(4+g))*(1+$)),D((U+ut*($+2))/(2+v))]},bt.invert=function(Je,tt){var ut=L(2+g),U=tt*ut/2;return[ut*Je/(1+b(U)),U]},Lt.invert=function(Je,tt){var ut=1+v,U=L(ut/2);return[2*Je*U/(1+b(tt*=U)),D((tt+u(tt))/ut)]};var Ft=3+2*_;function $t(Je,tt){var ut=u(Je/=2),U=b(Je),$=L(b(tt)),W=b(tt/=2),I=u(tt)/(W+_*U*$),G=L(2/(1+I*I)),te=L((_*W+(U+ut)*$)/(_*W+(U-ut)*$));return[Ft*(G*(te-1/te)-2*t(te)),Ft*(G*I*(te+1/te)-2*n(I))]}function on(){return(0,p.c)($t).scale(62.5271)}$t.invert=function(Je,tt){if(!(ut=Y.invert(Je/1.2,1.065*tt)))return null;var ut,U=ut[0],$=ut[1],W=20;Je/=Ft,tt/=Ft;do{var I=U/2,G=$/2,te=u(I),oe=b(I),he=u(G),we=b(G),Oe=b($),ze=L(Oe),qe=he/(we+_*oe*ze),We=qe*qe,rt=L(2/(1+We)),ft=(_*we+(oe+te)*ze)/(_*we+(oe-te)*ze),pt=L(ft),wt=pt-1/pt,Ct=pt+1/pt,Mt=rt*wt-2*t(pt)-Je,zt=rt*qe*Ct-2*n(qe)-tt,It=he&&T*ze*te*We/he,Xt=(_*oe*we+ze)/(2*(we+_*oe*ze)*(we+_*oe*ze)*ze),Gt=-.5*qe*rt*rt*rt,Vt=Gt*It,pn=Gt*Xt,yn=(yn=2*we+_*ze*(oe-te))*yn*pt,Sn=(_*oe*we*ze+Oe)/yn,Pn=-_*te*he/(ze*yn),Vn=wt*Vt-2*Sn/pt+rt*(Sn+Sn/ft),ir=wt*pn-2*Pn/pt+rt*(Pn+Pn/ft),ur=qe*Ct*Vt-2*It/(1+We)+rt*Ct*It+rt*qe*(Sn-Sn/ft),Yn=qe*Ct*pn-2*Xt/(1+We)+rt*Ct*Xt+rt*qe*(Pn-Pn/ft),lr=ir*ur-Yn*Vn;if(!lr)break;var xr=(zt*ir-Mt*Yn)/lr,Er=(Mt*ur-zt*Vn)/lr;U-=xr,$=o(-v,r(v,$-Er))}while((y(xr)>c||y(Er)>c)&&--W>0);return y(y($)-v)<c?[0,$]:W&&[U,$]};var Ht=b(35*k);function Zt(Je,tt){var ut=h(tt/2);return[Je*Ht*L(1-ut*ut),(1+Ht)*ut]}function jt(){return(0,p.c)(Zt).scale(137.152)}function Ln(Je,tt){var ut=tt/2,U=b(ut);return[2*Je/A*b(tt)*U*U,A*h(ut)]}function Tn(){return(0,p.c)(Ln).scale(135.264)}function gn(Je){var tt=1-Je,ut=$(g,0)[0]-$(-g,0)[0],U=L(2*($(0,v)[1]-$(0,-v)[1])/ut);function $(G,te){var oe=b(te),he=u(te);return[oe/(tt+Je*oe)*G,tt*te+Je*he]}function W(G,te){var oe=$(G,te);return[oe[0]*U,oe[1]/U]}function I(G){return W(0,G)[1]}return W.invert=function(G,te){var oe=ve(I,te);return[G/U*(Je+tt/b(oe)),oe]},W}function Qt(){var Je=.5,tt=(0,p.U)(gn),ut=tt(Je);return ut.alpha=function(U){return arguments.length?tt(Je=+U):Je},ut.scale(168.725)}Zt.invert=function(Je,tt){var ut=tt/(1+Ht);return[Je&&Je/(Ht*L(1-ut*ut)),2*n(ut)]},Ln.invert=function(Je,tt){var ut=n(tt/A),U=b(ut),$=2*ut;return[Je*A/2/(b($)*U*U),$]};var cn=e(4888),nn=e(69604);function hn(Je){return[Je[0]/2,D(h(Je[1]/2*k))*C]}function bn(Je){return[2*Je[0],2*n(u(Je[1]*k))*C]}function wn(Je){Je==null&&(Je=cn.c);var tt=Je(),ut=(0,nn.c)().scale(C).precision(0).clipAngle(null).translate([0,0]);function U(W){return tt(hn(W))}function $(W){U[W]=function(){return arguments.length?(tt[W].apply(tt,arguments),U):tt[W]()}}return tt.invert&&(U.invert=function(W){return bn(tt.invert(W))}),U.stream=function(W){var I=tt.stream(W),G=ut.stream({point:function(te,oe){I.point(te/2,D(h(-oe/2*k))*C)},lineStart:function(){I.lineStart()},lineEnd:function(){I.lineEnd()},polygonStart:function(){I.polygonStart()},polygonEnd:function(){I.polygonEnd()}});return G.sphere=I.sphere,G},U.rotate=function(W){return arguments.length?(ut.rotate(W),U):ut.rotate()},U.center=function(W){return arguments.length?(tt.center(hn(W)),U):bn(tt.center())},$("angle"),$("clipAngle"),$("clipExtent"),$("fitExtent"),$("fitHeight"),$("fitSize"),$("fitWidth"),$("scale"),$("translate"),$("precision"),U.scale(249.5)}function En(Je,tt){var ut=2*g/tt,U=Je*Je;function $(W,I){var G=(0,X.O)(W,I),te=G[0],oe=G[1],he=te*te+oe*oe;if(he>U){var we=L(he),Oe=M(oe,te),ze=ut*a(Oe/ut),qe=Oe-ze,We=Je*b(qe),rt=(Je*u(qe)-qe*u(We))/(v-We),ft=Dn(qe,rt),pt=(g-Je)/kn(ft,We,g);te=we;var wt,Ct=50;do te-=wt=(Je+kn(ft,We,te)*pt-we)/(ft(te)*pt);while(y(wt)>c&&--Ct>0);oe=qe*u(te),te<v&&(oe-=rt*(te-v));var Mt=u(ze),zt=b(ze);G[0]=te*zt-oe*Mt,G[1]=te*Mt+oe*zt}return G}return $.invert=function(W,I){var G=W*W+I*I;if(G>U){var te=L(G),oe=M(I,W),he=ut*a(oe/ut),we=oe-he;W=te*b(we),I=te*u(we);for(var Oe=W-v,ze=u(W),qe=I/ze,We=W<v?1/0:0,rt=10;;){var ft=Je*u(qe),pt=Je*b(qe),wt=u(pt),Ct=v-pt,Mt=(ft-qe*wt)/Ct,zt=Dn(qe,Mt);if(y(We)<w||!--rt)break;qe-=We=(qe*ze-Mt*Oe-I)/(ze-2*Oe*(Ct*(pt+qe*ft*b(pt)-wt)-ft*(ft-qe*wt))/(Ct*Ct))}W=(te=Je+kn(zt,pt,W)*(g-Je)/kn(zt,pt,g))*b(oe=he+qe),I=te*u(oe)}return X.O.invert(W,I)},$}function Dn(Je,tt){return function(ut){var U=Je*b(ut);return ut<v&&(U-=tt),L(1+U*U)}}function kn(Je,tt,ut){for(var U=(ut-tt)/50,$=Je(tt)+Je(ut),W=1,I=tt;W<50;++W)$+=2*Je(I+=U);return .5*$*U}function Bn(){var Je=6,tt=30*k,ut=b(tt),U=u(tt),$=(0,p.U)(En),W=$(tt,Je),I=W.stream,G=-b(.01*k),te=u(.01*k);return W.radius=function(oe){return arguments.length?(ut=b(tt=oe*k),U=u(tt),$(tt,Je)):tt*C},W.lobes=function(oe){return arguments.length?$(tt,Je=+oe):Je},W.stream=function(oe){var he=W.rotate(),we=I(oe),Oe=(W.rotate([0,0]),I(oe));return W.rotate(he),we.sphere=function(){Oe.polygonStart(),Oe.lineStart();for(var ze=0,qe=2*g/Je,We=0;ze<Je;++ze,We-=qe)Oe.point(M(te*b(We),G)*C,D(te*u(We))*C),Oe.point(M(U*b(We-qe/2),ut)*C,D(U*u(We-qe/2))*C);Oe.lineEnd(),Oe.polygonEnd()},we},W.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Rn(Je,tt,ut,U,$,W,I,G){function te(oe,he){if(!he)return[Je*oe/g,0];var we=he*he,Oe=Je+we*(tt+we*(ut+we*U)),ze=he*($-1+we*(W-G+we*I)),qe=(Oe*Oe+ze*ze)/(2*ze),We=oe*D(Oe/qe)/g;return[qe*u(We),he*(1+we*G)+qe*(1-b(We))]}return arguments.length<8&&(G=0),te.invert=function(oe,he){var we,Oe,ze=g*oe/Je,qe=he,We=50;do{var rt=qe*qe,ft=Je+rt*(tt+rt*(ut+rt*U)),pt=qe*($-1+rt*(W-G+rt*I)),wt=ft*ft+pt*pt,Ct=2*pt,Mt=wt/Ct,zt=Mt*Mt,It=D(ft/Mt)/g,Xt=ze*It,Gt=ft*ft,Vt=(2*tt+rt*(4*ut+6*rt*U))*qe,pn=$+rt*(3*W+5*rt*I),yn=(2*(ft*Vt+pt*(pn-1))*Ct-wt*(2*(pn-1)))/(Ct*Ct),Sn=b(Xt),Pn=u(Xt),Vn=Mt*Sn,ir=Mt*Pn,ur=ze/g*(1/L(1-Gt/zt))*(Vt*Mt-ft*yn)/zt,Yn=ir-oe,lr=qe*(1+rt*G)+Mt-Vn-he,xr=yn*Pn+Vn*ur,Er=Vn*It,tr=1+yn-(yn*Sn-ir*ur),sr=ir*It,wr=xr*sr-tr*Er;if(!wr)break;ze-=we=(lr*xr-Yn*tr)/wr,qe-=Oe=(Yn*sr-lr*Er)/wr}while((y(we)>c||y(Oe)>c)&&--We>0);return[ze,qe]},te}var Kn=Rn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Gn(){return(0,p.c)(Kn).scale(149.995)}var nr=Rn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function $n(){return(0,p.c)(nr).scale(153.93)}var fr=Rn(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function en(){return(0,p.c)(fr).scale(130.945)}function rn(Je,tt){var ut=Je*Je,U=tt*tt;return[Je*(1-.162388*U)*(.87-952426e-9*ut*ut),tt*(1+U/12)]}function Cn(){return(0,p.c)(rn).scale(131.747)}rn.invert=function(Je,tt){var ut,U=Je,$=tt,W=50;do{var I=$*$;$-=ut=($*(1+I/12)-tt)/(1+I/4)}while(y(ut)>c&&--W>0);W=50,Je/=1-.162388*I;do{var G=(G=U*U)*G;U-=ut=(U*(.87-952426e-9*G)-Je)/(.87-.00476213*G)}while(y(ut)>c&&--W>0);return[U,$]};var mn=Rn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function On(){return(0,p.c)(mn).scale(131.087)}function Hn(Je){var tt=Je(v,0)[0]-Je(-v,0)[0];function ut(U,$){var W=U>0?-.5:.5,I=Je(U+W*g,$);return I[0]-=W*tt,I}return Je.invert&&(ut.invert=function(U,$){var W=U>0?-.5:.5,I=Je.invert(U+W*tt,$),G=I[0]-W*g;return G<-g?G+=2*g:G>g&&(G-=2*g),I[0]=G,I}),ut}function Un(Je,tt){var ut=l(Je),U=l(tt),$=b(tt),W=b(Je)*$,I=u(Je)*$,G=u(U*tt);Je=y(M(I,G)),tt=D(W),y(Je-v)>c&&(Je%=v);var te=function(oe,he){if(he===v)return[0,0];var we,Oe,ze=u(he),qe=ze*ze,We=qe*qe,rt=1+We,ft=1+3*We,pt=1-We,wt=D(1/L(rt)),Ct=pt+qe*rt*wt,Mt=(1-ze)/Ct,zt=L(Mt),It=Mt*rt,Xt=L(It),Gt=zt*pt;if(oe===0)return[0,-(Gt+qe*Xt)];var Vt,pn=b(he),yn=1/pn,Sn=2*ze*pn,Pn=(-Ct*pn-(1-ze)*((-3*qe+wt*ft)*Sn))/(Ct*Ct),Vn=-yn*Sn,ir=-yn*(qe*rt*Pn+Mt*ft*Sn),ur=-2*yn*(pt*(.5*Pn/zt)-2*qe*zt*Sn),Yn=4*oe/g;if(oe>.222*g||he<g/4&&oe>.175*g){if(we=(Gt+qe*L(It*(1+We)-Gt*Gt))/(1+We),oe>g/4)return[we,we];var lr=we,xr=.5*we;we=.5*(xr+lr),Oe=50;do{var Er=we*(ur+Vn*L(It-we*we))+ir*D(we/Xt)-Yn;if(!Er)break;Er<0?xr=we:lr=we,we=.5*(xr+lr)}while(y(lr-xr)>c&&--Oe>0)}else{we=c,Oe=25;do{var tr=we*we,sr=L(It-tr),wr=ur+Vn*sr,cr=we*wr+ir*D(we/Xt)-Yn;we-=Vt=sr?cr/(wr+(ir-Vn*tr)/sr):0}while(y(Vt)>c&&--Oe>0)}return[we,-Gt-qe*L(It-we*we)]}(Je>g/4?v-Je:Je,tt);return Je>g/4&&(G=te[0],te[0]=-te[1],te[1]=-G),te[0]*=ut,te[1]*=-U,te}function Zn(){return(0,p.c)(Hn(Un)).scale(239.75)}function pr(Je,tt){var ut,U,$,W,I,G;if(tt<c)return[(W=u(Je))-(ut=tt*(Je-W*(U=b(Je)))/4)*U,U+ut*W,1-tt*W*W/2,Je-ut];if(tt>=1-c)return ut=(1-tt)/4,$=1/(U=z(Je)),[(W=((G=f(2*(G=Je)))-1)/(G+1))+ut*((I=U*R(Je))-Je)/(U*U),$-ut*W*$*(I-Je),$+ut*W*$*(I+Je),2*n(f(Je))-v+ut*(I-Je)/U];var te=[1,0,0,0,0,0,0,0,0],oe=[L(tt),0,0,0,0,0,0,0,0],he=0;for(U=L(1-tt),I=1;y(oe[he]/te[he])>c&&he<8;)ut=te[he++],oe[he]=(ut-U)/2,te[he]=(ut+U)/2,U=L(ut*U),I*=2;$=I*te[he]*Je;do $=(D(W=oe[he]*u(U=$)/te[he])+$)/2;while(--he);return[u($),W=b($),W/b($-U),$]}function Kt(Je,tt){if(!tt)return Je;if(tt===1)return t(h(Je/2+m));for(var ut=1,U=L(1-tt),$=L(tt),W=0;y($)>c;W++){if(Je%g){var I=n(U*h(Je)/ut);I<0&&(I+=g),Je+=I+~~(Je/g)*g}else Je+=Je;$=(ut+U)/2,U=L(ut*U),$=((ut=$)-U)/2}return Je/(i(2,W)*ut)}function vn(Je,tt){var ut=(_-1)/(_+1),U=L(1-ut*ut),$=Kt(v,U*U),W=t(h(g/4+y(tt)/2)),I=f(-1*W)/L(ut),G=function(oe,he){var we=oe*oe,Oe=he+1,ze=1-we-he*he;return[.5*((oe>=0?v:-v)-M(ze,2*oe)),-.25*t(ze*ze+4*we)+.5*t(Oe*Oe+we)]}(I*b(-1*Je),I*u(-1*Je)),te=function(oe,he,we){var Oe=y(oe),ze=R(y(he));if(Oe){var qe=1/u(Oe),We=1/(h(Oe)*h(Oe)),rt=-(We+we*(ze*ze*qe*qe)-1+we),ft=(-rt+L(rt*rt-(we-1)*We*4))/2;return[Kt(n(1/L(ft)),we)*l(oe),Kt(n(L((ft/We-1)/we)),1-we)*l(he)]}return[0,Kt(n(ze),1-we)*l(he)]}(G[0],G[1],U*U);return[-te[1],(tt>=0?1:-1)*(.5*$-te[0])]}function Dt(){return(0,p.c)(Hn(vn)).scale(151.496)}Un.invert=function(Je,tt){y(Je)>1&&(Je=2*l(Je)-Je),y(tt)>1&&(tt=2*l(tt)-tt);var ut=l(Je),U=l(tt),$=-ut*Je,W=-U*tt,I=W/$<1,G=function(we,Oe){for(var ze=0,qe=1,We=.5,rt=50;;){var ft=We*We,pt=L(We),wt=D(1/L(1+ft)),Ct=1-ft+We*(1+ft)*wt,Mt=(1-pt)/Ct,zt=L(Mt),It=Mt*(1+ft),Xt=zt*(1-ft),Gt=L(It-we*we),Vt=Oe+Xt+We*Gt;if(y(qe-ze)<w||--rt==0||Vt===0)break;Vt>0?ze=We:qe=We,We=.5*(ze+qe)}if(!rt)return null;var pn=D(pt),yn=b(pn),Sn=1/yn,Pn=2*pt*yn,Vn=(-Ct*yn-(-3*We+wt*(1+3*ft))*Pn*(1-pt))/(Ct*Ct);return[g/4*(we*(-2*Sn*((1-ft)*(.5*Vn/zt)-2*We*zt*Pn)+-Sn*Pn*Gt)+-Sn*(We*(1+ft)*Vn+Mt*(1+3*ft)*Pn)*D(we/L(It))),pn]}(I?W:$,I?$:W),te=G[0],oe=G[1],he=b(oe);return I&&(te=-v-te),[ut*(M(u(te)*he,-u(oe))+g),U*D(b(te)*he)]},vn.invert=function(Je,tt){var ut,U,$,W,I,G,te=(_-1)/(_+1),oe=L(1-te*te),he=(U=-Je,$=oe*oe,(ut=.5*Kt(v,oe*oe)-tt)?(W=pr(ut,$),U?(G=(I=pr(U,1-$))[1]*I[1]+$*W[0]*W[0]*I[0]*I[0],[[W[0]*I[2]/G,W[1]*W[2]*I[0]*I[1]/G],[W[1]*I[1]/G,-W[0]*W[2]*I[0]*I[2]/G],[W[2]*I[1]*I[2]/G,-$*W[0]*W[1]*I[0]/G]]):[[W[0],0],[W[1],0],[W[2],0]]):[[0,(I=pr(U,1-$))[0]/I[1]],[1/I[1],0],[I[2]/I[1],0]]),we=function(Oe,ze){var qe=ze[0]*ze[0]+ze[1]*ze[1];return[(Oe[0]*ze[0]+Oe[1]*ze[1])/qe,(Oe[1]*ze[0]-Oe[0]*ze[1])/qe]}(he[0],he[1]);return[M(we[1],we[0])/-1,2*n(f(-.5*t(te*we[0]*we[0]+te*we[1]*we[1])))-v]};var Bt=e(61780);function Jt(Je){var tt=u(Je),ut=b(Je),U=fn(Je);function $(W,I){var G=U(W,I);W=G[0],I=G[1];var te=u(I),oe=b(I),he=b(W),we=O(tt*te+ut*oe*he),Oe=u(we),ze=y(Oe)>c?we/Oe:1;return[ze*ut*u(W),(y(W)>v?ze:-ze)*(tt*oe-ut*te*he)]}return U.invert=fn(-Je),$.invert=function(W,I){var G=L(W*W+I*I),te=-u(G),oe=b(G),he=G*oe,we=-I*te,Oe=G*tt,ze=L(he*he+we*we-Oe*Oe),qe=M(he*Oe+we*ze,we*Oe-he*ze),We=(G>v?-1:1)*M(W*te,G*b(qe)*oe+I*u(qe)*te);return U.invert(We,qe)},$}function fn(Je){var tt=u(Je),ut=b(Je);return function(U,$){var W=b($),I=b(U)*W,G=u(U)*W,te=u($);return[M(G,I*ut-te*tt),D(te*ut+I*tt)]}}function dn(){var Je=0,tt=(0,p.U)(Jt),ut=tt(Je),U=ut.rotate,$=ut.stream,W=(0,Bt.c)();return ut.parallel=function(I){if(!arguments.length)return Je*C;var G=ut.rotate();return tt(Je=I*k).rotate(G)},ut.rotate=function(I){return arguments.length?(U.call(ut,[I[0],I[1]-Je*C]),W.center([-I[0],-I[1]]),ut):((I=U.call(ut))[1]+=Je*C,I)},ut.stream=function(I){return(I=$(I)).sphere=function(){I.polygonStart();var G,te=W.radius(89.99)().coordinates[0],oe=te.length-1,he=-1;for(I.lineStart();++he<oe;)I.point((G=te[he])[0],G[1]);for(I.lineEnd(),oe=(te=W.radius(90.01)().coordinates[0]).length-1,I.lineStart();--he>=0;)I.point((G=te[he])[0],G[1]);I.lineEnd(),I.polygonEnd()},I},ut.scale(79.4187).parallel(45).clipAngle(179.999)}var xn=e(84706),sn=e(16016),Yt=D(1-1/3)*C,Wt=Ze(0);function tn(Je){var tt=Yt*k,ut=At(g,tt)[0]-At(-g,tt)[0],U=Wt(0,tt)[1],$=At(0,tt)[1],W=A-$,I=d/Je,G=4/d,te=U+W*W*4/d;function oe(he,we){var Oe,ze=y(we);if(ze>tt){var qe=r(Je-1,o(0,s((he+g)/I)));(Oe=At(he+=g*(Je-1)/Je-qe*I,ze))[0]=Oe[0]*d/ut-d*(Je-1)/(2*Je)+qe*d/Je,Oe[1]=U+4*(Oe[1]-$)*W/d,we<0&&(Oe[1]=-Oe[1])}else Oe=Wt(he,we);return Oe[0]*=G,Oe[1]/=te,Oe}return oe.invert=function(he,we){he/=G;var Oe=y(we*=te);if(Oe>U){var ze=r(Je-1,o(0,s((he+g)/I)));he=(he+g*(Je-1)/Je-ze*I)*ut/d;var qe=At.invert(he,.25*(Oe-U)*d/W+$);return qe[0]-=g*(Je-1)/Je-ze*I,we<0&&(qe[1]=-qe[1]),qe}return Wt.invert(he,we)},oe}function ln(Je,tt){return[Je,1&tt?90-c:Yt]}function An(Je,tt){return[Je,1&tt?-90+c:-Yt]}function In(Je){return[Je[0]*(1-c),Je[1]]}function Nn(){var Je=4,tt=(0,p.U)(tn),ut=tt(Je),U=ut.stream;return ut.lobes=function($){return arguments.length?tt(Je=+$):Je},ut.stream=function($){var W=ut.rotate(),I=U($),G=(ut.rotate([0,0]),U($));return ut.rotate(W),I.sphere=function(){var te,oe;(0,sn.c)((te=180/Je,oe=[].concat((0,xn.ik)(-180,180+te/2,te).map(ln),(0,xn.ik)(180,-180-te/2,-te).map(An)),{type:"Polygon",coordinates:[te===180?oe.map(In):oe]}),G)},I},ut.scale(239.75)}function jn(Je){var tt,ut=1+Je,U=D(u(1/ut)),$=2*L(g/(tt=g+4*U*ut)),W=.5*$*(ut+L(Je*(2+Je))),I=Je*Je,G=ut*ut;function te(oe,he){var we,Oe,ze=1-u(he);if(ze&&ze<2){var qe,We=v-he,rt=25;do{var ft=u(We),pt=b(We),wt=U+M(ft,ut-pt),Ct=1+G-2*ut*pt;We-=qe=(We-I*U-ut*ft+Ct*wt-.5*ze*tt)/(2*ut*ft*wt)}while(y(qe)>w&&--rt>0);we=$*L(Ct),Oe=oe*wt/g}else we=$*(Je+ze),Oe=oe*U/g;return[we*u(Oe),W-we*b(Oe)]}return te.invert=function(oe,he){var we=oe*oe+(he-=W)*he,Oe=(1+G-we/($*$))/(2*ut),ze=O(Oe),qe=u(ze),We=U+M(qe,ut-Oe);return[D(oe/L(we))*g/We,D(1-2*(ze-I*U-ut*qe+(1+G-2*ut*Oe)*We)/tt)]},te}function er(){var Je=1,tt=(0,p.U)(jn),ut=tt(Je);return ut.ratio=function(U){return arguments.length?tt(Je=+U):Je},ut.scale(167.774).center([0,18.67])}var Wn=.7109889596207567,Jn=.0528035274542;function rr(Je,tt){return tt>-Wn?((Je=ue(Je,tt))[1]+=Jn,Je):Re(Je,tt)}function Qn(){return(0,p.c)(rr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function hr(Je,tt){return y(tt)>Wn?((Je=ue(Je,tt))[1]-=tt>0?Jn:-Jn,Je):Re(Je,tt)}function br(){return(0,p.c)(hr).scale(152.63)}function gr(Je,tt,ut,U){var $=L(4*g/(2*ut+(1+Je-tt/2)*u(2*ut)+(Je+tt)/2*u(4*ut)+tt/2*u(6*ut))),W=L(U*u(ut)*L((1+Je*b(2*ut)+tt*b(4*ut))/(1+Je+tt))),I=ut*te(1);function G(we){return L(1+Je*b(2*we)+tt*b(4*we))}function te(we){var Oe=we*ut;return(2*Oe+(1+Je-tt/2)*u(2*Oe)+(Je+tt)/2*u(4*Oe)+tt/2*u(6*Oe))/ut}function oe(we){return G(we)*u(we)}var he=function(we,Oe){var ze=ut*ve(te,I*u(Oe)/ut,Oe/g);isNaN(ze)&&(ze=ut*l(Oe));var qe=$*G(ze);return[qe*W*we/g*b(ze),qe/W*u(ze)]};return he.invert=function(we,Oe){var ze=ve(oe,Oe*W/$);return[we*g/(b(ze)*$*W*G(ze)),D(ut*te(ze/ut)/I)]},ut===0&&($=L(U/g),(he=function(we,Oe){return[we*$,u(Oe)/$]}).invert=function(we,Oe){return[we/$,D(Oe*$)]}),he}function ar(){var Je=1,tt=0,ut=45*k,U=2,$=(0,p.U)(gr),W=$(Je,tt,ut,U);return W.a=function(I){return arguments.length?$(Je=+I,tt,ut,U):Je},W.b=function(I){return arguments.length?$(Je,tt=+I,ut,U):tt},W.psiMax=function(I){return arguments.length?$(Je,tt,ut=+I*k,U):ut*C},W.ratio=function(I){return arguments.length?$(Je,tt,ut,U=+I):U},W.scale(180.739)}function mr(Je,tt,ut,U,$,W,I,G,te,oe,he){if(he.nanEncountered)return NaN;var we,Oe,ze,qe,We,rt,ft,pt,wt,Ct;if(Oe=Je(tt+.25*(we=ut-tt)),ze=Je(ut-.25*we),isNaN(Oe))he.nanEncountered=!0;else{if(!isNaN(ze))return Ct=((rt=(qe=we*(U+4*Oe+$)/12)+(We=we*($+4*ze+W)/12))-I)/15,oe>te?(he.maxDepthCount++,rt+Ct):Math.abs(Ct)<G?rt+Ct:(pt=mr(Je,tt,ft=tt+.5*we,U,Oe,$,qe,.5*G,te,oe+1,he),isNaN(pt)?(he.nanEncountered=!0,NaN):(wt=mr(Je,ft,ut,$,ze,W,We,.5*G,te,oe+1,he),isNaN(wt)?(he.nanEncountered=!0,NaN):pt+wt));he.nanEncountered=!0}}function kr(Je,tt,ut,U,$){U===void 0&&(U=1e-8),$===void 0&&($=20);var W=Je(tt),I=Je(.5*(tt+ut)),G=Je(ut);return mr(Je,tt,ut,W,I,G,(W+4*I+G)*(ut-tt)/6,U,$,1,{maxDepthCount:0,nanEncountered:!1})}function Rr(Je,tt,ut){function U(ze){return Je+(1-Je)*i(1-i(ze,tt),1/tt)}function $(ze){return kr(U,0,ze,1e-4)}for(var W=1/$(1),I=1e3,G=1.00000001*W,te=[],oe=0;oe<=I;oe++)te.push($(oe/I)*G);function he(ze){var qe=0,We=I,rt=500;do te[rt]>ze?We=rt:qe=rt,rt=qe+We>>1;while(rt>qe);var ft=te[rt+1]-te[rt];return ft&&(ft=(ze-te[rt+1])/ft),(rt+1+ft)/I}var we=2*he(1)/g*W/ut,Oe=function(ze,qe){var We=he(y(u(qe))),rt=U(We)*ze;return We/=we,[rt,qe>=0?We:-We]};return Oe.invert=function(ze,qe){var We;return y(qe*=we)<1&&(We=l(qe)*D($(y(qe))*W)),[ze/U(y(qe)),We]},Oe}function Si(){var Je=0,tt=2.5,ut=1.183136,U=(0,p.U)(Rr),$=U(Je,tt,ut);return $.alpha=function(W){return arguments.length?U(Je=+W,tt,ut):Je},$.k=function(W){return arguments.length?U(Je,tt=+W,ut):tt},$.gamma=function(W){return arguments.length?U(Je,tt,ut=+W):ut},$.scale(152.63)}function Ei(Je,tt){return y(Je[0]-tt[0])<c&&y(Je[1]-tt[1])<c}function io(Je,tt){for(var ut,U,$,W=-1,I=Je.length,G=Je[0],te=[];++W<I;){U=((ut=Je[W])[0]-G[0])/tt,$=(ut[1]-G[1])/tt;for(var oe=0;oe<tt;++oe)te.push([G[0]+oe*U,G[1]+oe*$]);G=ut}return te.push(ut),te}function Ai(Je,tt,ut){var U,$;function W(te,oe){for(var he=oe<0?-1:1,we=tt[+(oe<0)],Oe=0,ze=we.length-1;Oe<ze&&te>we[Oe][2][0];++Oe);var qe=Je(te-we[Oe][1][0],oe);return qe[0]+=Je(we[Oe][1][0],he*oe>he*we[Oe][0][1]?we[Oe][0][1]:oe)[0],qe}ut?W.invert=ut(W):Je.invert&&(W.invert=function(te,oe){for(var he=$[+(oe<0)],we=tt[+(oe<0)],Oe=0,ze=he.length;Oe<ze;++Oe){var qe=he[Oe];if(qe[0][0]<=te&&te<qe[1][0]&&qe[0][1]<=oe&&oe<qe[1][1]){var We=Je.invert(te-Je(we[Oe][1][0],0)[0],oe);return We[0]+=we[Oe][1][0],Ei(W(We[0],We[1]),[te,oe])?We:null}}});var I=(0,p.c)(W),G=I.stream;return I.stream=function(te){var oe=I.rotate(),he=G(te),we=(I.rotate([0,0]),G(te));return I.rotate(oe),he.sphere=function(){(0,sn.c)(U,we)},he},I.lobes=function(te){return arguments.length?(U=function(oe){var he,we,Oe,ze,qe,We,rt,ft=[],pt=oe[0].length;for(rt=0;rt<pt;++rt)we=(he=oe[0][rt])[0][0],Oe=he[0][1],ze=he[1][1],qe=he[2][0],We=he[2][1],ft.push(io([[we+c,Oe+c],[we+c,ze-c],[qe-c,ze-c],[qe-c,We+c]],30));for(rt=oe[1].length-1;rt>=0;--rt)we=(he=oe[1][rt])[0][0],Oe=he[0][1],ze=he[1][1],qe=he[2][0],We=he[2][1],ft.push(io([[qe-c,We-c],[qe-c,ze+c],[we+c,ze+c],[we+c,Oe-c]],30));return{type:"Polygon",coordinates:[(0,xn.Uf)(ft)]}}(te),tt=te.map(function(oe){return oe.map(function(he){return[[he[0][0]*k,he[0][1]*k],[he[1][0]*k,he[1][1]*k],[he[2][0]*k,he[2][1]*k]]})}),$=tt.map(function(oe){return oe.map(function(he){var we,Oe=Je(he[0][0],he[0][1])[0],ze=Je(he[2][0],he[2][1])[0],qe=Je(he[1][0],he[0][1])[1],We=Je(he[1][0],he[1][1])[1];return qe>We&&(we=qe,qe=We,We=we),[[Oe,qe],[ze,We]]})}),I):tt.map(function(oe){return oe.map(function(he){return[[he[0][0]*C,he[0][1]*C],[he[1][0]*C,he[1][1]*C],[he[2][0]*C,he[2][1]*C]]})})},tt!=null&&I.lobes(tt),I}rr.invert=function(Je,tt){return tt>-Wn?ue.invert(Je,tt-Jn):Re.invert(Je,tt)},hr.invert=function(Je,tt){return y(tt)>Wn?ue.invert(Je,tt+(tt>0?Jn:-Jn)):Re.invert(Je,tt)};var Vi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function zo(){return Ai(Te,Vi).scale(160.857)}var Nr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function co(){return Ai(hr,Nr).scale(152.63)}var ua=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ao(){return Ai(ue,ua).scale(169.529)}var es=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ms(){return Ai(ue,es).scale(169.529).rotate([20,0])}var Ao=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Ba(){return Ai(rr,Ao,me).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ja=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function vs(){return Ai(Re,ja).scale(152.63).rotate([-20,0])}function ca(Je,tt){return[3/d*Je*L(g*g/3-tt*tt),tt]}function _a(){return(0,p.c)(ca).scale(158.837)}function wa(Je){function tt(ut,U){if(y(y(U)-v)<c)return[0,U<0?-2:2];var $=u(U),W=i((1+$)/(1-$),Je/2),I=.5*(W+1/W)+b(ut*=Je);return[2*u(ut)/I,(W-1/W)/I]}return tt.invert=function(ut,U){var $=y(U);if(y($-2)<c)return ut?null:[0,l(U)*v];if($>2)return null;var W=(ut/=2)*ut,I=(U/=2)*U,G=2*U/(1+W+I);return G=i((1+G)/(1-G),1/Je),[M(2*ut,1-W-I)/Je,D((G-1)/(G+1))]},tt}function wi(){var Je=.5,tt=(0,p.U)(wa),ut=tt(Je);return ut.spacing=function(U){return arguments.length?tt(Je=+U):Je},ut.scale(124.75)}ca.invert=function(Je,tt){return[d/3*Je/L(g*g/3-tt*tt),tt]};var fo=g/_;function ts(Je,tt){return[Je*(1+L(b(tt)))/2,tt/(b(tt/2)*b(Je/6))]}function Ua(){return(0,p.c)(ts).scale(97.2672)}function Ta(Je,tt){var ut=Je*Je,U=tt*tt;return[Je*(.975534+U*(-.0143059*ut-.119161+-.0547009*U)),tt*(1.00384+ut*(.0802894+-.02855*U+199025e-9*ut)+U*(.0998909+-.0491032*U))]}function ys(){return(0,p.c)(Ta).scale(139.98)}function Va(Je,tt){return[u(Je)/b(tt),h(tt)*b(Je)]}function xs(){return(0,p.c)(Va).scale(144.049).clipAngle(89.999)}function ns(Je){var tt=b(Je),ut=h(m+Je/2);function U($,W){var I=W-Je,G=y(I)<c?$*tt:y(G=m+W/2)<c||y(y(G)-v)<c?0:$*I/t(h(G)/ut);return[G,I]}return U.invert=function($,W){var I,G=W+Je;return[y(W)<c?$/tt:y(I=m+G/2)<c||y(y(I)-v)<c?0:$*t(h(I)/ut)/W,G]},U}function bs(){return Ce(ns).parallel(40).scale(158.837)}function Ha(Je,tt){return[Je,1.25*t(h(m+.4*tt))]}function Cu(){return(0,p.c)(Ha).scale(108.318)}function su(Je){var tt=Je.length-1;function ut(U,$){for(var W,I=b($),G=2/(1+I*b(U)),te=G*I*u(U),oe=G*u($),he=tt,we=Je[he],Oe=we[0],ze=we[1];--he>=0;)Oe=(we=Je[he])[0]+te*(W=Oe)-oe*ze,ze=we[1]+te*ze+oe*W;return[Oe=te*(W=Oe)-oe*ze,ze=te*ze+oe*W]}return ut.invert=function(U,$){var W=20,I=U,G=$;do{for(var te,oe=tt,he=Je[oe],we=he[0],Oe=he[1],ze=0,qe=0;--oe>=0;)ze=we+I*(te=ze)-G*qe,qe=Oe+I*qe+G*te,we=(he=Je[oe])[0]+I*(te=we)-G*Oe,Oe=he[1]+I*Oe+G*te;var We,rt,ft=(ze=we+I*(te=ze)-G*qe)*ze+(qe=Oe+I*qe+G*te)*qe;I-=We=((we=I*(te=we)-G*Oe-U)*ze+(Oe=I*Oe+G*te-$)*qe)/ft,G-=rt=(Oe*ze-we*qe)/ft}while(y(We)+y(rt)>c*c&&--W>0);if(W){var pt=L(I*I+G*G),wt=2*n(.5*pt),Ct=u(wt);return[M(I*Ct,pt*b(wt)),pt?D(G*Ct/pt):0]}},ut}ts.invert=function(Je,tt){var ut=y(Je),U=y(tt),$=c,W=v;U<fo?W*=U/fo:$+=6*O(fo/U);for(var I=0;I<25;I++){var G=u(W),te=L(b(W)),oe=u(W/2),he=b(W/2),we=u($/6),Oe=b($/6),ze=.5*$*(1+te)-ut,qe=W/(he*Oe)-U,We=te?-.25*$*G/te:0,rt=.5*(1+te),ft=(1+.5*W*oe/he)/(he*Oe),pt=W/he*(we/6)/(Oe*Oe),wt=We*pt-ft*rt,Ct=(ze*pt-qe*rt)/wt,Mt=(qe*We-ze*ft)/wt;if(W-=Ct,$-=Mt,y(Ct)<c&&y(Mt)<c)break}return[Je<0?-$:$,tt<0?-W:W]},Ta.invert=function(Je,tt){var ut=l(Je)*g,U=tt/2,$=50;do{var W=ut*ut,I=U*U,G=ut*U,te=ut*(.975534+I*(-.0143059*W-.119161+-.0547009*I))-Je,oe=U*(1.00384+W*(.0802894+-.02855*I+199025e-9*W)+I*(.0998909+-.0491032*I))-tt,he=.975534-I*(.119161+3*W*.0143059+.0547009*I),we=-G*(.238322+.2188036*I+.0286118*W),Oe=G*(.1605788+7961e-7*W+-.0571*I),ze=1.00384+W*(.0802894+199025e-9*W)+I*(3*(.0998909-.02855*W)-.245516*I),qe=we*Oe-ze*he,We=(oe*we-te*ze)/qe,rt=(te*Oe-oe*he)/qe;ut-=We,U-=rt}while((y(We)>c||y(rt)>c)&&--$>0);return $&&[ut,U]},Va.invert=function(Je,tt){var ut=Je*Je,U=tt*tt+1,$=ut+U,W=Je?T*L(($-L($*$-4*ut))/ut):1/L(U);return[D(Je*W),l(tt)*O(W)]},Ha.invert=function(Je,tt){return[Je,2.5*n(f(.8*tt))-.625*g]};var Gs=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ku=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ju=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Ws=[[.9245,0],[0,0],[.01943,0]],Qu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Ec(){return $s(Gs,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Cc(){return $s(Ku,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Ys(){return $s(Ju,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function qa(){return $s(Ws,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function pl(){return $s(Qu,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function $s(Je,tt){var ut=(0,p.c)(su(Je)).rotate(tt).clipAngle(90),U=(0,Ke.c)(tt),$=ut.center;return delete ut.rotate,ut.center=function(W){return arguments.length?$(U(W)):U.invert($())},ut}var Nl=L(6),Zs=L(7);function Ma(Je,tt){var ut=D(7*u(tt)/(3*Nl));return[Nl*Je*(2*b(2*ut/3)-1)/Zs,9*u(ut/3)/Zs]}function Du(){return(0,p.c)(Ma).scale(164.859)}function _s(Je,tt){for(var ut,U=(1+T)*u(tt),$=tt,W=0;W<25&&($-=ut=(u($/2)+u($)-U)/(.5*b($/2)+b($)),!(y(ut)<c));W++);return[Je*(1+2*b($)/b($/2))/(3*_),2*L(3)*u($/2)/L(2+_)]}function rs(){return(0,p.c)(_s).scale(188.209)}function is(Je,tt){for(var ut,U=L(6/(4+g)),$=(1+g/4)*u(tt),W=tt/2,I=0;I<25&&(W-=ut=(W/2+u(W)-$)/(.5+b(W)),!(y(ut)<c));I++);return[U*(.5+b(W))*Je/1.5,U*W]}function ws(){return(0,p.c)(is).scale(166.518)}Ma.invert=function(Je,tt){var ut=3*D(tt*Zs/9);return[Je*Zs/(Nl*(2*b(2*ut/3)-1)),D(3*u(ut)*Nl/7)]},_s.invert=function(Je,tt){var ut=tt*L(2+_)/(2*L(3)),U=2*D(ut);return[3*_*Je/(1+2*b(U)/b(U/2)),D((ut+u(U))/(1+T))]},is.invert=function(Je,tt){var ut=L(6/(4+g)),U=tt/ut;return y(y(U)-v)<c&&(U=U<0?-v:v),[1.5*Je/(ut*(.5+b(U))),D((U/2+u(U))/(1+g/4))]};var ei=e(47984);function ml(Je,tt){var ut=tt*tt,U=ut*ut,$=ut*U;return[Je*(.84719-.13063*ut+$*$*(.05494*ut-.04515-.02326*U+.00331*$)),tt*(1.01183+U*U*(.01926*ut-.02625-.00396*U))]}function Dc(){return(0,p.c)(ml).scale(175.295)}function lu(Je,tt){return[Je*(1+b(tt))/2,2*(tt-h(tt/2))]}function vl(){return(0,p.c)(lu).scale(152.63)}ml.invert=function(Je,tt){var ut,U,$,W,I=tt,G=25;do I-=ut=(I*(1.01183+($=(U=I*I)*U)*$*(.01926*U-.02625-.00396*$))-tt)/(1.01183+$*$*(.21186*U-.23625+-.05148*$));while(y(ut)>w&&--G>0);return[Je/(.84719-.13063*(U=I*I)+(W=U*($=U*U))*W*(.05494*U-.04515-.02326*$+.00331*W)),I]},lu.invert=function(Je,tt){for(var ut=tt/2,U=0,$=1/0;U<10&&y($)>c;++U){var W=b(tt/2);tt-=$=(tt-h(tt/2)-ut)/(1-.5/(W*W))}return[2*Je/(1+b(tt)),tt]};var ec=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ic(){return Ai(de(1/0),ec).rotate([20,0]).scale(152.63)}function uu(Je,tt){var ut=u(tt),U=b(tt),$=l(Je);if(Je===0||y(tt)===v)return[0,tt];if(tt===0)return[Je,0];if(y(Je)===v)return[Je*U,v*ut];var W=g/(2*Je)-2*Je/g,I=2*tt/g,G=(1-I*I)/(ut-I),te=W*W,oe=G*G,he=1+te/oe,we=1+oe/te,Oe=(W*ut/G-W/2)/he,ze=(oe*ut/te+G/2)/we,qe=ze*ze-(oe*ut*ut/te+G*ut-1)/we;return[v*(Oe+L(Oe*Oe+U*U/he)*$),v*(ze+L(qe<0?0:qe)*l(-tt*W)*$)]}function Lc(){return(0,p.c)(uu).scale(127.267)}uu.invert=function(Je,tt){var ut=(Je/=v)*Je,U=ut+(tt/=v)*tt,$=g*g;return[Je?(U-1+L((1-U)*(1-U)+4*ut))/(2*Je)*v:0,ve(function(W){return U*(g*u(W)-2*W)*g+4*W*W*(tt-u(W))+2*g*W-$*tt},0)]};var Ts=1.0148,Xs=.23185,os=-.14499,Aa=.02406,yl=Ts,tc=5*Xs,Fl=7*os,cu=9*Aa,na=1.790857183;function fu(Je,tt){var ut=tt*tt;return[Je,tt*(Ts+ut*ut*(Xs+ut*(os+Aa*ut)))]}function nc(){return(0,p.c)(fu).scale(139.319)}function xl(Je,tt){if(y(tt)<c)return[Je,0];var ut=h(tt),U=Je*u(tt);return[u(U)/ut,tt+(1-b(U))/ut]}function Ks(){return(0,p.c)(xl).scale(103.74)}fu.invert=function(Je,tt){tt>na?tt=na:tt<-1.790857183&&(tt=-1.790857183);var ut,U=tt;do{var $=U*U;U-=ut=(U*(Ts+$*$*(Xs+$*(os+Aa*$)))-tt)/(yl+$*$*(tc+$*(Fl+cu*$)))}while(y(ut)>c);return[Je,U]},xl.invert=function(Je,tt){if(y(tt)<c)return[Je,0];var ut,U=Je*Je+tt*tt,$=.5*tt,W=10;do{var I=h($),G=1/b($),te=U-2*tt*$+$*$;$-=ut=(I*te+2*($-tt))/(2+te*G*G+2*($-tt)*I)}while(y(ut)>c&&--W>0);return I=h($),[(y(tt)<y($+1/I)?D(Je*I):l(tt)*l(Je)*(O(y(Je*I))+v))/u($),$]};var bl=e(13696),Js=e(27284);function Qs(Je,tt){return[Je[0]*tt[0]+Je[1]*tt[3],Je[0]*tt[1]+Je[1]*tt[4],Je[0]*tt[2]+Je[1]*tt[5]+Je[2],Je[3]*tt[0]+Je[4]*tt[3],Je[3]*tt[1]+Je[4]*tt[4],Je[3]*tt[2]+Je[4]*tt[5]+Je[5]]}function zl(Je,tt){return[Je[0]-tt[0],Je[1]-tt[1]]}function hu(Je){return L(Je[0]*Je[0]+Je[1]*Je[1])}function xi(Je,tt,ut){function U(G,te){var oe,he=tt(G,te),we=he.project([G*C,te*C]);return(oe=he.transform)?[oe[0]*we[0]+oe[1]*we[1]+oe[2],-(oe[3]*we[0]+oe[4]*we[1]+oe[5])]:(we[1]=-we[1],we)}function $(G,te){var oe=G.project.invert,he=G.transform,we=te;if(he&&(he=function(rt){var ft=1/(rt[0]*rt[4]-rt[1]*rt[3]);return[ft*rt[4],-ft*rt[1],ft*(rt[1]*rt[5]-rt[2]*rt[4]),-ft*rt[3],ft*rt[0],ft*(rt[2]*rt[3]-rt[0]*rt[5])]}(he),we=[he[0]*we[0]+he[1]*we[1]+he[2],he[3]*we[0]+he[4]*we[1]+he[5]]),oe&&G===function(rt){return tt(rt[0]*k,rt[1]*k)}(Oe=oe(we)))return Oe;for(var Oe,ze=G.children,qe=0,We=ze&&ze.length;qe<We;++qe)if(Oe=$(ze[qe],te))return Oe}(function G(te,oe){if(te.edges=function(Mt){for(var zt=Mt.length,It=[],Xt=Mt[zt-1],Gt=0;Gt<zt;++Gt)It.push([Xt,Xt=Mt[Gt]]);return It}(te.face),oe.face){var he=te.shared=function(Mt,zt){for(var It,Xt,Gt=Mt.length,Vt=null,pn=0;pn<Gt;++pn){It=Mt[pn];for(var yn=zt.length;--yn>=0;)if(Xt=zt[yn],It[0]===Xt[0]&&It[1]===Xt[1]){if(Vt)return[Vt,It];Vt=It}}}(te.face,oe.face),we=(We=he.map(oe.project),rt=he.map(te.project),ft=zl(We[1],We[0]),pt=zl(rt[1],rt[0]),wt=function(Mt,zt){return M(Mt[0]*zt[1]-Mt[1]*zt[0],Mt[0]*zt[0]+Mt[1]*zt[1])}(ft,pt),Ct=hu(ft)/hu(pt),Qs([1,0,We[0][0],0,1,We[0][1]],Qs([Ct,0,0,0,Ct,0],Qs([b(wt),u(wt),0,-u(wt),b(wt),0],[1,0,-rt[0][0],0,1,-rt[0][1]]))));te.transform=oe.transform?Qs(oe.transform,we):we;for(var Oe=oe.edges,ze=0,qe=Oe.length;ze<qe;++ze)ko(he[0],Oe[ze][1])&&ko(he[1],Oe[ze][0])&&(Oe[ze]=te),ko(he[0],Oe[ze][0])&&ko(he[1],Oe[ze][1])&&(Oe[ze]=te);for(ze=0,qe=(Oe=te.edges).length;ze<qe;++ze)ko(he[0],Oe[ze][0])&&ko(he[1],Oe[ze][1])&&(Oe[ze]=oe),ko(he[0],Oe[ze][1])&&ko(he[1],Oe[ze][0])&&(Oe[ze]=oe)}else te.transform=oe.transform;var We,rt,ft,pt,wt,Ct;return te.children&&te.children.forEach(function(Mt){G(Mt,te)}),te})(Je,{transform:null}),ka(Je)&&(U.invert=function(G,te){var oe=$(Je,[G,-te]);return oe&&(oe[0]*=k,oe[1]*=k,oe)});var W=(0,p.c)(U),I=W.stream;return W.stream=function(G){var te=W.rotate(),oe=I(G),he=(W.rotate([0,0]),I(G));return W.rotate(te),oe.sphere=function(){he.polygonStart(),he.lineStart(),Ms(he,Je),he.lineEnd(),he.polygonEnd()},oe},W.angle(ut==null?-30:ut*C)}function Ms(Je,tt,ut){var U,$,W=tt.edges,I=W.length,G={type:"MultiPoint",coordinates:tt.face},te=tt.face.filter(function(We){return y(We[1])!==90}),oe=(0,bl.c)({type:"MultiPoint",coordinates:te}),he=!1,we=-1,Oe=oe[1][0]-oe[0][0],ze=Oe===180||Oe===360?[(oe[0][0]+oe[1][0])/2,(oe[0][1]+oe[1][1])/2]:(0,Ge.c)(G);if(ut)for(;++we<I&&W[we]!==ut;);++we;for(var qe=0;qe<I;++qe)$=W[(qe+we)%I],Array.isArray($)?(he||(Je.point((U=(0,Js.c)($[0],ze)(c))[0],U[1]),he=!0),Je.point((U=(0,Js.c)($[1],ze)(c))[0],U[1])):(he=!1,$!==ut&&Ms(Je,$,tt))}function ko(Je,tt){return Je&&tt&&Je[0]===tt[0]&&Je[1]===tt[1]}function ka(Je){return Je.project.invert||Je.children&&Je.children.some(ka)}var li=e(53285),vi=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ra=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(tt){return vi[tt]})});function _l(Je){Je=Je||function(ut){var U=(0,Ge.c)({type:"MultiPoint",coordinates:ut});return(0,li.c)().scale(1).translate([0,0]).rotate([-U[0],-U[1]])};var tt=ra.map(function(ut){return{face:ut,project:Je(ut)}});return[-1,0,0,1,0,1,4,5].forEach(function(ut,U){var $=tt[ut];$&&($.children||($.children=[])).push(tt[U])}),xi(tt[0],function(ut,U){return tt[ut<-g/2?U<0?6:4:ut<0?U<0?2:0:ut<g/2?U<0?3:1:U<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Bl=2/L(3);function du(Je,tt){var ut=At(Je,tt);return[ut[0]*Bl,ut[1]]}function jl(Je){Je=Je||function(ut){var U=(0,Ge.c)({type:"MultiPoint",coordinates:ut});return(0,p.c)(du).translate([0,0]).scale(1).rotate(U[1]>0?[-U[0],0]:[180-U[0],180])};var tt=ra.map(function(ut){return{face:ut,project:Je(ut)}});return[-1,0,0,1,0,1,4,5].forEach(function(ut,U){var $=tt[ut];$&&($.children||($.children=[])).push(tt[U])}),xi(tt[0],function(ut,U){return tt[ut<-g/2?U<0?6:4:ut<0?U<0?2:0:ut<g/2?U<0?3:1:U<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ul(Je){Je=Je||function(W){var I=W.length===6?(0,Ge.c)({type:"MultiPoint",coordinates:W}):W[0];return(0,li.c)().scale(1).translate([0,0]).rotate([-I[0],-I[1]])};var tt=ra.map(function(W){for(var I,G=W.map(ks),te=G.length,oe=G[te-1],he=[],we=0;we<te;++we)I=G[we],he.push(As([.9486832980505138*oe[0]+.31622776601683794*I[0],.9486832980505138*oe[1]+.31622776601683794*I[1],.9486832980505138*oe[2]+.31622776601683794*I[2]]),As([.9486832980505138*I[0]+.31622776601683794*oe[0],.9486832980505138*I[1]+.31622776601683794*oe[1],.9486832980505138*I[2]+.31622776601683794*oe[2]])),oe=I;return he}),ut=[],U=[-1,0,0,1,0,1,4,5];tt.forEach(function(W,I){for(var G,te,oe=ra[I],he=oe.length,we=ut[I]=[],Oe=0;Oe<he;++Oe)tt.push([oe[Oe],W[(2*Oe+2)%(2*he)],W[(2*Oe+1)%(2*he)]]),U.push(I),we.push((G=ks(W[(2*Oe+2)%(2*he)]),te=ks(W[(2*Oe+1)%(2*he)]),[G[1]*te[2]-G[2]*te[1],G[2]*te[0]-G[0]*te[2],G[0]*te[1]-G[1]*te[0]]))});var $=tt.map(function(W){return{project:Je(W),face:W}});return U.forEach(function(W,I){var G=$[W];G&&(G.children||(G.children=[])).push($[I])}),xi($[0],function(W,I){var G=b(I),te=[G*b(W),G*u(W),u(I)],oe=W<-g/2?I<0?6:4:W<0?I<0?2:0:W<g/2?I<0?3:1:I<0?7:5,he=ut[oe];return $[fa(he[0],te)<0?8+3*oe:fa(he[1],te)<0?8+3*oe+1:fa(he[2],te)<0?8+3*oe+2:oe]}).angle(-30).scale(110.625).center([0,45])}function fa(Je,tt){for(var ut=0,U=Je.length,$=0;ut<U;++ut)$+=Je[ut]*tt[ut];return $}function As(Je){return[M(Je[1],Je[0])*C,D(o(-1,r(1,Je[2])))*C]}function ks(Je){var tt=Je[0]*k,ut=Je[1]*k,U=b(ut);return[U*b(tt),U*u(tt),u(ut)]}function Lo(){}function Vl(Je,tt){var ut,U=tt.stream;if(!U)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":ut=ho;break;case"FeatureCollection":ut=ha;break;default:ut=xo}return ut(Je,U)}function ha(Je,tt){return{type:"FeatureCollection",features:Je.features.map(function(ut){return ho(ut,tt)})}}function ho(Je,tt){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:xo(Je.geometry,tt)}}function xo(Je,tt){if(!Je)return null;if(Je.type==="GeometryCollection")return function(U,$){return{type:"GeometryCollection",geometries:U.geometries.map(function(W){return xo(W,$)})}}(Je,tt);var ut;switch(Je.type){case"Point":case"MultiPoint":ut=Ga;break;case"LineString":case"MultiLineString":ut=el;break;case"Polygon":case"MultiPolygon":case"Sphere":ut=Sa;break;default:return null}return(0,sn.c)(Je,tt(ut)),ut.result()}du.invert=function(Je,tt){return At.invert(Je/Bl,tt)};var ki=[],bo=[],Ga={point:function(Je,tt){ki.push([Je,tt])},result:function(){var Je=ki.length?ki.length<2?{type:"Point",coordinates:ki[0]}:{type:"MultiPoint",coordinates:ki}:null;return ki=[],Je}},el={lineStart:Lo,point:function(Je,tt){ki.push([Je,tt])},lineEnd:function(){ki.length&&(bo.push(ki),ki=[])},result:function(){var Je=bo.length?bo.length<2?{type:"LineString",coordinates:bo[0]}:{type:"MultiLineString",coordinates:bo}:null;return bo=[],Je}},Sa={polygonStart:Lo,lineStart:Lo,point:function(Je,tt){ki.push([Je,tt])},lineEnd:function(){var Je=ki.length;if(Je){do ki.push(ki[0].slice());while(++Je<4);bo.push(ki),ki=[]}},polygonEnd:Lo,result:function(){if(!bo.length)return null;var Je=[],tt=[];return bo.forEach(function(ut){(function(U){if(($=U.length)<4)return!1;for(var $,W=0,I=U[$-1][1]*U[0][0]-U[$-1][0]*U[0][1];++W<$;)I+=U[W-1][1]*U[W][0]-U[W-1][0]*U[W][1];return I<=0})(ut)?Je.push([ut]):tt.push(ut)}),tt.forEach(function(ut){var U=ut[0];Je.some(function($){if(function(W,I){for(var G=I[0],te=I[1],oe=!1,he=0,we=W.length,Oe=we-1;he<we;Oe=he++){var ze=W[he],qe=ze[0],We=ze[1],rt=W[Oe],ft=rt[0],pt=rt[1];We>te^pt>te&&G<(ft-qe)*(te-We)/(pt-We)+qe&&(oe=!oe)}return oe}($[0],U))return $.push(ut),!0})||Je.push([ut])}),bo=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function Ss(Je){var tt=Je(v,0)[0]-Je(-v,0)[0];function ut(U,$){var W=y(U)<v,I=Je(W?U:U>0?U-g:U+g,$),G=(I[0]-I[1])*T,te=(I[0]+I[1])*T;if(W)return[G,te];var oe=tt*T,he=G>0^te>0?-1:1;return[he*G-l(te)*oe,he*te-l(G)*oe]}return Je.invert&&(ut.invert=function(U,$){var W=(U+$)*T,I=($-U)*T,G=y(W)<.5*tt&&y(I)<.5*tt;if(!G){var te=tt*T,oe=W>0^I>0?-1:1,he=-oe*U+(I>0?1:-1)*te,we=-oe*$+(W>0?1:-1)*te;W=(-he-we)*T,I=(he-we)*T}var Oe=Je.invert(W,I);return G||(Oe[0]+=W>0?g:-g),Oe}),(0,p.c)(ut).rotate([-90,-90,45]).clipAngle(179.999)}function Bo(){return Ss(Un).scale(176.423)}function tl(){return Ss(vn).scale(111.48)}function as(Je,tt){if(!(0<=(tt=+tt)&&tt<=20))throw new Error("invalid digits");function ut(oe){var he=oe.length,we=2,Oe=new Array(he);for(Oe[0]=+oe[0].toFixed(tt),Oe[1]=+oe[1].toFixed(tt);we<he;)Oe[we]=oe[we],++we;return Oe}function U(oe){return oe.map(ut)}function $(oe){for(var he=ut(oe[0]),we=[he],Oe=1;Oe<oe.length;Oe++){var ze=ut(oe[Oe]);(ze.length>2||ze[0]!=he[0]||ze[1]!=he[1])&&(we.push(ze),he=ze)}return we.length===1&&oe.length>1&&we.push(ut(oe[oe.length-1])),we}function W(oe){return oe.map($)}function I(oe){if(oe==null)return oe;var he;switch(oe.type){case"GeometryCollection":he={type:"GeometryCollection",geometries:oe.geometries.map(I)};break;case"Point":he={type:"Point",coordinates:ut(oe.coordinates)};break;case"MultiPoint":he={type:oe.type,coordinates:U(oe.coordinates)};break;case"LineString":he={type:oe.type,coordinates:$(oe.coordinates)};break;case"MultiLineString":case"Polygon":he={type:oe.type,coordinates:W(oe.coordinates)};break;case"MultiPolygon":he={type:"MultiPolygon",coordinates:oe.coordinates.map(W)};break;default:return oe}return oe.bbox!=null&&(he.bbox=oe.bbox),he}function G(oe){var he={type:"Feature",properties:oe.properties,geometry:I(oe.geometry)};return oe.id!=null&&(he.id=oe.id),oe.bbox!=null&&(he.bbox=oe.bbox),he}if(Je!=null)switch(Je.type){case"Feature":return G(Je);case"FeatureCollection":var te={type:"FeatureCollection",features:Je.features.map(G)};return Je.bbox!=null&&(te.bbox=Je.bbox),te;default:return I(Je)}return Je}function da(Je){var tt=u(Je);function ut(U,$){var W=tt?h(U*tt/2)/tt:U/2;if(!$)return[2*W,-Je];var I=2*n(W*u($)),G=1/h($);return[u(I)*G,$+(1-b(I))*G-Je]}return ut.invert=function(U,$){if(y($+=Je)<c)return[tt?2*n(tt*U/2)/tt:U,0];var W,I=U*U+$*$,G=0,te=10;do{var oe=h(G),he=1/b(G),we=I-2*$*G+G*G;G-=W=(oe*we+2*(G-$))/(2+we*he*he+2*(G-$)*oe)}while(y(W)>c&&--te>0);var Oe=U*(oe=h(G)),ze=h(y($)<y(G+1/oe)?.5*D(Oe):.5*O(Oe)+g/4)/u(G);return[tt?2*n(tt*ze)/tt:2*ze,G]},ut}function pa(){return Ce(da).scale(131.215)}var Ci=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Ea(Je,tt){var ut,U=r(18,36*y(tt)/g),$=s(U),W=U-$,I=(ut=Ci[$])[0],G=ut[1],te=(ut=Ci[++$])[0],oe=ut[1],he=(ut=Ci[r(19,++$)])[0],we=ut[1];return[Je*(te+W*(he-I)/2+W*W*(he-2*te+I)/2),(tt>0?v:-v)*(oe+W*(we-G)/2+W*W*(we-2*oe+G)/2)]}function Mr(){return(0,p.c)(Ea).scale(152.63)}function Hl(Je,tt){var ut=function(I){function G(te,oe){var he=b(oe),we=(I-1)/(I-he*b(te));return[we*he*u(te),we*u(oe)]}return G.invert=function(te,oe){var he=te*te+oe*oe,we=L(he),Oe=(I-L(1-he*(I+1)/(I-1)))/((I-1)/we+we/(I-1));return[M(te*Oe,we*L(1-Oe*Oe)),we?D(oe*Oe/we):0]},G}(Je);if(!tt)return ut;var U=b(tt),$=u(tt);function W(I,G){var te=ut(I,G),oe=te[1],he=oe*$/(Je-1)+U;return[te[0]*U/he,oe/he]}return W.invert=function(I,G){var te=(Je-1)/(Je-1-G*$);return ut.invert(te*I,te*G*U)},W}function Iu(){var Je=2,tt=0,ut=(0,p.U)(Hl),U=ut(Je,tt);return U.distance=function($){return arguments.length?ut(Je=+$,tt):Je},U.tilt=function($){return arguments.length?ut(Je,tt=$*k):tt*C},U.scale(432.147).clipAngle(O(1/Je)*C-1e-6)}Ci.forEach(function(Je){Je[1]*=1.0144}),Ea.invert=function(Je,tt){var ut=tt/v,U=90*ut,$=r(18,y(U/5)),W=o(0,s($));do{var I=Ci[W][1],G=Ci[W+1][1],te=Ci[r(19,W+2)][1],oe=te-I,he=te-2*G+I,we=2*(y(ut)-G)/oe,Oe=he/oe,ze=we*(1-Oe*we*(1-2*Oe*we));if(ze>=0||W===1){U=(tt>=0?5:-5)*(ze+$);var qe,We=50;do ze=($=r(18,y(U)/5))-(W=s($)),I=Ci[W][1],G=Ci[W+1][1],te=Ci[r(19,W+2)][1],U-=(qe=(tt>=0?v:-v)*(G+ze*(te-I)/2+ze*ze*(te-2*G+I)/2)-tt)*C;while(y(qe)>w&&--We>0);break}}while(--W>=0);var rt=Ci[W][0],ft=Ci[W+1][0],pt=Ci[r(19,W+2)][0];return[Je/(ft+ze*(pt-rt)/2+ze*ze*(pt-2*ft+rt)/2),U*k]};var Es=1e-4,Cs=1e4,nl=-180,wl=nl+Es,yr=180,ql=yr-Es,ss=-90,po=ss+Es,Ds=90,Ca=Ds-Es;function ga(Je){return Je.length>0}function Oo(Je){return Je===ss||Je===Ds?[0,Je]:[nl,(tt=Je,Math.floor(tt*Cs)/Cs)];var tt}function Wa(Je){var tt=Je[0],ut=Je[1],U=!1;return tt<=wl?(tt=nl,U=!0):tt>=ql&&(tt=yr,U=!0),ut<=po?(ut=ss,U=!0):ut>=Ca&&(ut=Ds,U=!0),U?[tt,ut]:Je}function ma(Je){return Je.map(Wa)}function ls(Je,tt,ut){for(var U=0,$=Je.length;U<$;++U){var W=Je[U].slice();ut.push({index:-1,polygon:tt,ring:W});for(var I=0,G=W.length;I<G;++I){var te=W[I],oe=te[0],he=te[1];if(oe<=wl||oe>=ql||he<=po||he>=Ca){W[I]=Wa(te);for(var we=I+1;we<G;++we){var Oe=W[we],ze=Oe[0],qe=Oe[1];if(ze>wl&&ze<ql&&qe>po&&qe<Ca)break}if(we===I+1)continue;if(I){var We={index:-1,polygon:tt,ring:W.slice(0,I+1)};We.ring[We.ring.length-1]=Oo(he),ut[ut.length-1]=We}else ut.pop();if(we>=G)break;ut.push({index:-1,polygon:tt,ring:W=W.slice(we-1)}),W[0]=Oo(W[0][1]),I=-1,G=W.length}}}}function Gl(Je){var tt,ut,U,$,W,I,G=Je.length,te={},oe={};for(tt=0;tt<G;++tt)U=(ut=Je[tt]).ring[0],W=ut.ring[ut.ring.length-1],U[0]!==W[0]||U[1]!==W[1]?(ut.index=tt,te[U]=oe[W]=ut):(ut.polygon.push(ut.ring),Je[tt]=null);for(tt=0;tt<G;++tt)if(ut=Je[tt]){if(U=ut.ring[0],W=ut.ring[ut.ring.length-1],$=oe[U],I=te[W],delete te[U],delete oe[W],U[0]===W[0]&&U[1]===W[1]){ut.polygon.push(ut.ring);continue}$?(delete oe[U],delete te[$.ring[0]],$.ring.pop(),Je[$.index]=null,ut={index:-1,polygon:$.polygon,ring:$.ring.concat(ut.ring)},$===I?ut.polygon.push(ut.ring):(ut.index=G++,Je.push(te[ut.ring[0]]=oe[ut.ring[ut.ring.length-1]]=ut))):I?(delete te[W],delete oe[I.ring[I.ring.length-1]],ut.ring.pop(),ut={index:G++,polygon:I.polygon,ring:ut.ring.concat(I.ring)},Je[I.index]=null,Je.push(te[ut.ring[0]]=oe[ut.ring[ut.ring.length-1]]=ut)):(ut.ring.push(ut.ring[0]),ut.polygon.push(ut.ring))}}function Is(Je){var tt={type:"Feature",geometry:ai(Je.geometry)};return Je.id!=null&&(tt.id=Je.id),Je.bbox!=null&&(tt.bbox=Je.bbox),Je.properties!=null&&(tt.properties=Je.properties),tt}function ai(Je){if(Je==null)return Je;var tt,ut,U,$;switch(Je.type){case"GeometryCollection":tt={type:"GeometryCollection",geometries:Je.geometries.map(ai)};break;case"Point":tt={type:"Point",coordinates:Wa(Je.coordinates)};break;case"MultiPoint":case"LineString":tt={type:Je.type,coordinates:ma(Je.coordinates)};break;case"MultiLineString":tt={type:"MultiLineString",coordinates:Je.coordinates.map(ma)};break;case"Polygon":var W=[];ls(Je.coordinates,W,ut=[]),Gl(ut),tt={type:"Polygon",coordinates:W};break;case"MultiPolygon":ut=[],U=-1,$=Je.coordinates.length;for(var I=new Array($);++U<$;)ls(Je.coordinates[U],I[U]=[],ut);Gl(ut),tt={type:"MultiPolygon",coordinates:I.filter(ga)};break;default:return Je}return Je.bbox!=null&&(tt.bbox=Je.bbox),tt}function _o(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return Is(Je);case"FeatureCollection":var tt={type:"FeatureCollection",features:Je.features.map(Is)};return Je.bbox!=null&&(tt.bbox=Je.bbox),tt;default:return ai(Je)}}function jo(Je,tt){var ut=h(tt/2),U=u(m*ut);return[Je*(.74482-.34588*U*U),1.70711*ut]}function Ya(){return(0,p.c)(jo).scale(146.153)}function Uo(Je,tt,ut){var U=(0,Js.c)(tt,ut),$=U(.5),W=(0,Ke.c)([-$[0],-$[1]])(tt),I=U.distance/2,G=-D(u(W[1]*k)/u(I)),te=[-$[0],-$[1],-(W[0]>0?g-G:G)*C],oe=(0,p.c)(Je(I)).rotate(te),he=(0,Ke.c)(te),we=oe.center;return delete oe.rotate,oe.center=function(Oe){return arguments.length?we(he(Oe)):he.invert(we())},oe.clipAngle(90)}function Tl(Je){var tt=b(Je);function ut(U,$){var W=(0,li.Y)(U,$);return W[0]*=tt,W}return ut.invert=function(U,$){return li.Y.invert(U/tt,$)},ut}function Ml(){return Vo([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Vo(Je,tt){return Uo(Tl,Je,tt)}function ri(Je){if(!(Je*=2))return X.O;var tt=-Je/2,ut=-tt,U=Je*Je,$=h(ut),W=.5/u(ut);function I(G,te){var oe=O(b(te)*b(G-tt)),he=O(b(te)*b(G-ut));return[((oe*=oe)-(he*=he))/(2*Je),(te<0?-1:1)*L(4*U*he-(U-oe+he)*(U-oe+he))/(2*Je)]}return I.invert=function(G,te){var oe,he,we=te*te,Oe=b(L(we+(oe=G+tt)*oe)),ze=b(L(we+(oe=G+ut)*oe));return[M(he=Oe-ze,oe=(Oe+ze)*$),(te<0?-1:1)*O(L(oe*oe+he*he)*W)]},I}function $a(){return rl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function rl(Je,tt){return Uo(ri,Je,tt)}function Da(Je,tt){if(y(tt)<c)return[Je,0];var ut=y(tt/v),U=D(ut);if(y(Je)<c||y(y(tt)-v)<c)return[0,l(tt)*g*h(U/2)];var $=b(U),W=y(g/Je-Je/g)/2,I=W*W,G=$/(ut+$-1),te=G*(2/ut-1),oe=te*te,he=oe+I,we=G-oe,Oe=I+G;return[l(Je)*g*(W*we+L(I*we*we-he*(G*G-oe)))/he,l(tt)*g*(te*Oe-W*L((I+1)*he-Oe*Oe))/he]}function Al(){return(0,p.c)(Da).scale(79.4183)}function kl(Je,tt){if(y(tt)<c)return[Je,0];var ut=y(tt/v),U=D(ut);if(y(Je)<c||y(y(tt)-v)<c)return[0,l(tt)*g*h(U/2)];var $=b(U),W=y(g/Je-Je/g)/2,I=W*W,G=$*(L(1+I)-W*$)/(1+I*ut*ut);return[l(Je)*g*G,l(tt)*g*L(1-G*(2*W+G))]}function Ia(){return(0,p.c)(kl).scale(79.4183)}function Di(Je,tt){if(y(tt)<c)return[Je,0];var ut=tt/v,U=D(ut);if(y(Je)<c||y(y(tt)-v)<c)return[0,g*h(U/2)];var $=(g/Je-Je/g)/2,W=ut/(1+b(U));return[g*(l(Je)*L($*$+1-W*W)-$),g*W]}function il(){return(0,p.c)(Di).scale(79.4183)}function Sr(Je,tt){if(!tt)return[Je,0];var ut=y(tt);if(!Je||ut===v)return[0,tt];var U=ut/v,$=U*U,W=(8*U-$*($+2)-5)/(2*$*(U-1)),I=W*W,G=U*W,te=$+I+2*G,oe=U+3*W,he=Je/v,we=he+1/he,Oe=l(y(Je)-v)*L(we*we-4),ze=Oe*Oe,qe=(Oe*(te+I-1)+2*L(te*($+I*ze-1)+(1-$)*($*(oe*oe+4*I)+12*G*I+4*I*I)))/(4*te+ze);return[l(Je)*v*qe,l(tt)*v*L(1+Oe*y(qe)-qe*qe)]}function Pr(){return(0,p.c)(Sr).scale(127.16)}function ia(Je,tt,ut,U){var $=g/3;Je=o(Je,c),tt=o(tt,c),Je=r(Je,v),tt=r(tt,g-c),ut=o(ut,0),ut=r(ut,100-c);var W=(U=o(U,c))/100,I=O((ut/100+1)*b($))/$,G=u(Je)/u(I*v),te=tt/g,oe=L(W*u(Je/2)/u(tt/2));return function(he,we,Oe,ze,qe){function We(rt,ft){var pt=Oe*u(ze*ft),wt=L(1-pt*pt),Ct=L(2/(1+wt*b(rt*=qe)));return[he*wt*Ct*u(rt),we*pt*Ct]}return We.invert=function(rt,ft){var pt=rt/he,wt=ft/we,Ct=L(pt*pt+wt*wt),Mt=2*D(Ct/2);return[M(rt*h(Mt),he*Ct)/qe,Ct&&D(ft*u(Mt)/(we*Oe*Ct))/ze]},We}(oe/L(te*G*I),1/(oe*L(te*G*I)),G,I,te)}function Za(){var Je=65*k,tt=60*k,ut=20,U=200,$=(0,p.U)(ia),W=$(Je,tt,ut,U);return W.poleline=function(I){return arguments.length?$(Je=+I*k,tt,ut,U):Je*C},W.parallels=function(I){return arguments.length?$(Je,tt=+I*k,ut,U):tt*C},W.inflation=function(I){return arguments.length?$(Je,tt,ut=+I,U):ut},W.ratio=function(I){return arguments.length?$(Je,tt,ut,U=+I):U},W.scale(163.775)}function us(){return Za().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}jo.invert=function(Je,tt){var ut=tt/1.70711,U=u(m*ut);return[Je/(.74482-.34588*U*U),2*n(ut)]},Da.invert=function(Je,tt){if(y(tt)<c)return[Je,0];if(y(Je)<c)return[0,v*u(2*n(tt/g))];var ut=(Je/=g)*Je,U=(tt/=g)*tt,$=ut+U,W=$*$,I=-y(tt)*(1+$),G=I-2*U+ut,te=-2*I+1+2*U+W,oe=U/te+(2*G*G*G/(te*te*te)-9*I*G/(te*te))/27,he=(I-G*G/(3*te))/te,we=2*L(-he/3),Oe=O(3*oe/(he*we))/3;return[g*($-1+L(1+2*(ut-U)+W))/(2*Je),l(tt)*g*(-we*b(Oe+g/3)-G/(3*te))]},kl.invert=function(Je,tt){if(!Je)return[0,v*u(2*n(tt/g))];var ut=y(Je/g),U=(1-ut*ut-(tt/=g)*tt)/(2*ut),$=L(U*U+1);return[l(Je)*g*($-U),l(tt)*v*u(2*M(L((1-2*U*ut)*(U+$)-ut),L($+U+ut)))]},Di.invert=function(Je,tt){if(!tt)return[Je,0];var ut=tt/g,U=(g*g*(1-ut*ut)-Je*Je)/(2*g*Je);return[Je?g*(l(Je)*L(U*U+1)-U):0,v*u(2*n(ut))]},Sr.invert=function(Je,tt){var ut;if(!Je||!tt)return[Je,tt];tt/=g;var U=l(Je)*Je/v,$=(U*U-1+4*tt*tt)/y(U),W=$*$,I=2*tt,G=50;do{var te=I*I,oe=(8*I-te*(te+2)-5)/(2*te*(I-1)),he=(3*I-te*I-10)/(2*te*I),we=oe*oe,Oe=I*oe,ze=I+oe,qe=ze*ze,We=I+3*oe,rt=-2*ze*(4*Oe*we+(1-4*te+3*te*te)*(1+he)+we*(14*te-6-W+(8*te-8-2*W)*he)+Oe*(12*te-8+(10*te-10-W)*he)),ft=L(qe*(te+we*W-1)+(1-te)*(te*(We*We+4*we)+we*(12*Oe+4*we)));I-=ut=($*(qe+we-1)+2*ft-U*(4*qe+W))/($*(2*oe*he+2*ze*(1+he))+rt/ft-8*ze*($*(-1+we+qe)+2*ft)*(1+he)/(W+4*qe))}while(ut>c&&--G>0);return[l(Je)*(L($*$+4)+$)*g/4,v*I]};var eo=4*g+3*L(3),Xa=2*L(2*g*L(3)/eo),bi=xe(Xa*L(3)/g,Xa,eo/6);function rc(){return(0,p.c)(bi).scale(176.84)}function oa(Je,tt){return[Je*L(1-3*tt*tt/(g*g)),tt]}function Ti(){return(0,p.c)(oa).scale(152.63)}function Ni(Je,tt){var ut=b(tt),U=b(Je)*ut,$=1-U,W=b(Je=M(u(Je)*ut,-u(tt))),I=u(Je);return[I*(ut=L(1-U*U))-W*$,-W*ut-I*$]}function Xo(){return(0,p.c)(Ni).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Ls(Je,tt){var ut=V(Je,tt);return[(ut[0]+Je/v)/2,(ut[1]+tt)/2]}function Lu(){return(0,p.c)(Ls).scale(158.837)}oa.invert=function(Je,tt){return[Je/L(1-3*tt*tt/(g*g)),tt]},Ni.invert=function(Je,tt){var ut=(Je*Je+tt*tt)/-2,U=L(-ut*(2+ut)),$=tt*ut+Je*U,W=Je*ut-tt*U,I=L(W*W+$*$);return[M(U*$,I*(1+ut)),I?-D(U*W/I):0]},Ls.invert=function(Je,tt){var ut=Je,U=tt,$=25;do{var W,I=b(U),G=u(U),te=u(2*U),oe=G*G,he=I*I,we=u(ut),Oe=b(ut/2),ze=u(ut/2),qe=ze*ze,We=1-he*Oe*Oe,rt=We?O(I*Oe)*L(W=1/We):W=0,ft=.5*(2*rt*I*ze+ut/v)-Je,pt=.5*(rt*G+U)-tt,wt=.5*W*(he*qe+rt*I*Oe*oe)+.5/v,Ct=W*(we*te/4-rt*G*ze),Mt=.125*W*(te*ze-rt*G*he*we),zt=.5*W*(oe*Oe+rt*qe*I)+.5,It=Ct*Mt-zt*wt,Xt=(pt*Ct-ft*zt)/It,Gt=(ft*Mt-pt*wt)/It;ut-=Xt,U-=Gt}while((y(Xt)>c||y(Gt)>c)&&--$>0);return[ut,U]}},88728:function(S,x,e){"use strict";function p(){return new y}function y(){this.reset()}e.d(x,{c:function(){return p}}),y.prototype={constructor:y,reset:function(){this.s=this.t=0},add:function(b){M(n,b,this.t),M(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new y;function M(b,f,s){var t=b.s=f+s,o=t-f,r=t-o;b.t=f-r+(s-o)}},95384:function(S,x,e){"use strict";e.d(x,{cp:function(){return w},mQ:function(){return r},oB:function(){return a}});var p,y,n,M,b,f=e(88728),s=e(64528),t=e(70932),o=e(16016),r=(0,f.c)(),i=(0,f.c)(),a={point:t.c,lineStart:t.c,lineEnd:t.c,polygonStart:function(){r.reset(),a.lineStart=l,a.lineEnd=u},polygonEnd:function(){var g=+r;i.add(g<0?s.kD+g:g),this.lineStart=this.lineEnd=this.point=t.c},sphere:function(){i.add(s.kD)}};function l(){a.point=h}function u(){c(p,y)}function h(g,v){a.point=c,p=g,y=v,g*=s.qw,v*=s.qw,n=g,M=(0,s.W8)(v=v/2+s.wL),b=(0,s.g$)(v)}function c(g,v){g*=s.qw,v=(v*=s.qw)/2+s.wL;var m=g-n,T=m>=0?1:-1,_=T*m,A=(0,s.W8)(v),d=(0,s.g$)(v),C=b*d,k=M*A+C*(0,s.W8)(_),D=C*T*(0,s.g$)(_);r.add((0,s.WE)(D,k)),n=g,M=A,b=d}function w(g){return i.reset(),(0,o.c)(g,a),2*i}},13696:function(S,x,e){"use strict";e.d(x,{c:function(){return O}});var p,y,n,M,b,f,s,t,o,r,i=e(88728),a=e(95384),l=e(84220),u=e(64528),h=e(16016),c=(0,i.c)(),w={point:g,lineStart:m,lineEnd:T,polygonStart:function(){w.point=_,w.lineStart=A,w.lineEnd=d,c.reset(),a.oB.polygonStart()},polygonEnd:function(){a.oB.polygonEnd(),w.point=g,w.lineStart=m,w.lineEnd=T,a.mQ<0?(p=-(n=180),y=-(M=90)):c>u.Gg?M=90:c<-u.Gg&&(y=-90),r[0]=p,r[1]=n},sphere:function(){p=-(n=180),y=-(M=90)}};function g(L,R){o.push(r=[p=L,n=L]),R<y&&(y=R),R>M&&(M=R)}function v(L,R){var z=(0,l.ux)([L*u.qw,R*u.qw]);if(t){var q=(0,l.CW)(t,z),N=[q[1],-q[0],0],V=(0,l.CW)(N,q);(0,l.cJ)(V),V=(0,l.G)(V);var Z,j=L-b,H=j>0?1:-1,Y=V[0]*u.oh*H,ie=(0,u.a2)(j)>180;ie^(H*b<Y&&Y<H*L)?(Z=V[1]*u.oh)>M&&(M=Z):ie^(H*b<(Y=(Y+360)%360-180)&&Y<H*L)?(Z=-V[1]*u.oh)<y&&(y=Z):(R<y&&(y=R),R>M&&(M=R)),ie?L<b?C(p,L)>C(p,n)&&(n=L):C(L,n)>C(p,n)&&(p=L):n>=p?(L<p&&(p=L),L>n&&(n=L)):L>b?C(p,L)>C(p,n)&&(n=L):C(L,n)>C(p,n)&&(p=L)}else o.push(r=[p=L,n=L]);R<y&&(y=R),R>M&&(M=R),t=z,b=L}function m(){w.point=v}function T(){r[0]=p,r[1]=n,w.point=g,t=null}function _(L,R){if(t){var z=L-b;c.add((0,u.a2)(z)>180?z+(z>0?360:-360):z)}else f=L,s=R;a.oB.point(L,R),v(L,R)}function A(){a.oB.lineStart()}function d(){_(f,s),a.oB.lineEnd(),(0,u.a2)(c)>u.Gg&&(p=-(n=180)),r[0]=p,r[1]=n,t=null}function C(L,R){return(R-=L)<0?R+360:R}function k(L,R){return L[0]-R[0]}function D(L,R){return L[0]<=L[1]?L[0]<=R&&R<=L[1]:R<L[0]||L[1]<R}function O(L){var R,z,q,N,V,Z,j;if(M=n=-(p=y=1/0),o=[],(0,h.c)(L,w),z=o.length){for(o.sort(k),R=1,V=[q=o[0]];R<z;++R)D(q,(N=o[R])[0])||D(q,N[1])?(C(q[0],N[1])>C(q[0],q[1])&&(q[1]=N[1]),C(N[0],q[1])>C(q[0],q[1])&&(q[0]=N[0])):V.push(q=N);for(Z=-1/0,R=0,q=V[z=V.length-1];R<=z;q=N,++R)N=V[R],(j=C(q[1],N[0]))>Z&&(Z=j,p=N[0],n=q[1])}return o=r=null,p===1/0||y===1/0?[[NaN,NaN],[NaN,NaN]]:[[p,y],[n,M]]}},84220:function(S,x,e){"use strict";e.d(x,{CW:function(){return b},Ez:function(){return M},G:function(){return y},cJ:function(){return t},mg:function(){return f},ux:function(){return n},wx:function(){return s}});var p=e(64528);function y(o){return[(0,p.WE)(o[1],o[0]),(0,p.qR)(o[2])]}function n(o){var r=o[0],i=o[1],a=(0,p.W8)(i);return[a*(0,p.W8)(r),a*(0,p.g$)(r),(0,p.g$)(i)]}function M(o,r){return o[0]*r[0]+o[1]*r[1]+o[2]*r[2]}function b(o,r){return[o[1]*r[2]-o[2]*r[1],o[2]*r[0]-o[0]*r[2],o[0]*r[1]-o[1]*r[0]]}function f(o,r){o[0]+=r[0],o[1]+=r[1],o[2]+=r[2]}function s(o,r){return[o[0]*r,o[1]*r,o[2]*r]}function t(o){var r=(0,p._I)(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]);o[0]/=r,o[1]/=r,o[2]/=r}},24052:function(S,x,e){"use strict";e.d(x,{c:function(){return z}});var p,y,n,M,b,f,s,t,o,r,i,a,l,u,h,c,w=e(64528),g=e(70932),v=e(16016),m={sphere:g.c,point:T,lineStart:A,lineEnd:k,polygonStart:function(){m.lineStart=D,m.lineEnd=O},polygonEnd:function(){m.lineStart=A,m.lineEnd=k}};function T(q,N){q*=w.qw,N*=w.qw;var V=(0,w.W8)(N);_(V*(0,w.W8)(q),V*(0,w.g$)(q),(0,w.g$)(N))}function _(q,N,V){++p,n+=(q-n)/p,M+=(N-M)/p,b+=(V-b)/p}function A(){m.point=d}function d(q,N){q*=w.qw,N*=w.qw;var V=(0,w.W8)(N);u=V*(0,w.W8)(q),h=V*(0,w.g$)(q),c=(0,w.g$)(N),m.point=C,_(u,h,c)}function C(q,N){q*=w.qw,N*=w.qw;var V=(0,w.W8)(N),Z=V*(0,w.W8)(q),j=V*(0,w.g$)(q),H=(0,w.g$)(N),Y=(0,w.WE)((0,w._I)((Y=h*H-c*j)*Y+(Y=c*Z-u*H)*Y+(Y=u*j-h*Z)*Y),u*Z+h*j+c*H);y+=Y,f+=Y*(u+(u=Z)),s+=Y*(h+(h=j)),t+=Y*(c+(c=H)),_(u,h,c)}function k(){m.point=T}function D(){m.point=L}function O(){R(a,l),m.point=T}function L(q,N){a=q,l=N,q*=w.qw,N*=w.qw,m.point=R;var V=(0,w.W8)(N);u=V*(0,w.W8)(q),h=V*(0,w.g$)(q),c=(0,w.g$)(N),_(u,h,c)}function R(q,N){q*=w.qw,N*=w.qw;var V=(0,w.W8)(N),Z=V*(0,w.W8)(q),j=V*(0,w.g$)(q),H=(0,w.g$)(N),Y=h*H-c*j,ie=c*Z-u*H,re=u*j-h*Z,ne=(0,w._I)(Y*Y+ie*ie+re*re),ee=(0,w.qR)(ne),Q=ne&&-ee/ne;o+=Q*Y,r+=Q*ie,i+=Q*re,y+=ee,f+=ee*(u+(u=Z)),s+=ee*(h+(h=j)),t+=ee*(c+(c=H)),_(u,h,c)}function z(q){p=y=n=M=b=f=s=t=o=r=i=0,(0,v.c)(q,m);var N=o,V=r,Z=i,j=N*N+V*V+Z*Z;return j<w.a8&&(N=f,V=s,Z=t,y<w.Gg&&(N=n,V=M,Z=b),(j=N*N+V*V+Z*Z)<w.a8)?[NaN,NaN]:[(0,w.WE)(V,N)*w.oh,(0,w.qR)(Z/(0,w._I)(j))*w.oh]}},61780:function(S,x,e){"use strict";e.d(x,{Q:function(){return b},c:function(){return s}});var p=e(84220);function y(t){return function(){return t}}var n=e(64528),M=e(92992);function b(t,o,r,i,a,l){if(r){var u=(0,n.W8)(o),h=(0,n.g$)(o),c=i*r;a==null?(a=o+i*n.kD,l=o-c/2):(a=f(u,a),l=f(u,l),(i>0?a<l:a>l)&&(a+=i*n.kD));for(var w,g=a;i>0?g>l:g<l;g-=c)w=(0,p.G)([u,-h*(0,n.W8)(g),-h*(0,n.g$)(g)]),t.point(w[0],w[1])}}function f(t,o){(o=(0,p.ux)(o))[0]-=t,(0,p.cJ)(o);var r=(0,n.mE)(-o[1]);return((-o[2]<0?-r:r)+n.kD-n.Gg)%n.kD}function s(){var t,o,r=y([0,0]),i=y(90),a=y(6),l={point:function(h,c){t.push(h=o(h,c)),h[0]*=n.oh,h[1]*=n.oh}};function u(){var h=r.apply(this,arguments),c=i.apply(this,arguments)*n.qw,w=a.apply(this,arguments)*n.qw;return t=[],o=(0,M.O)(-h[0]*n.qw,-h[1]*n.qw,0).invert,b(l,c,w,1),h={type:"Polygon",coordinates:[t]},t=o=null,h}return u.center=function(h){return arguments.length?(r=typeof h=="function"?h:y([+h[0],+h[1]]),u):r},u.radius=function(h){return arguments.length?(i=typeof h=="function"?h:y(+h),u):i},u.precision=function(h){return arguments.length?(a=typeof h=="function"?h:y(+h),u):a},u}},78284:function(S,x,e){"use strict";var p=e(14229),y=e(64528);x.c=(0,p.c)(function(){return!0},function(n){var M,b=NaN,f=NaN,s=NaN;return{lineStart:function(){n.lineStart(),M=1},point:function(t,o){var r=t>0?y.pi:-y.pi,i=(0,y.a2)(t-b);(0,y.a2)(i-y.pi)<y.Gg?(n.point(b,f=(f+o)/2>0?y.or:-y.or),n.point(s,f),n.lineEnd(),n.lineStart(),n.point(r,f),n.point(t,f),M=0):s!==r&&i>=y.pi&&((0,y.a2)(b-s)<y.Gg&&(b-=s*y.Gg),(0,y.a2)(t-r)<y.Gg&&(t-=r*y.Gg),f=function(a,l,u,h){var c,w,g=(0,y.g$)(a-u);return(0,y.a2)(g)>y.Gg?(0,y.MQ)(((0,y.g$)(l)*(w=(0,y.W8)(h))*(0,y.g$)(u)-(0,y.g$)(h)*(c=(0,y.W8)(l))*(0,y.g$)(a))/(c*w*g)):(l+h)/2}(b,f,t,o),n.point(s,f),n.lineEnd(),n.lineStart(),n.point(r,f),M=0),n.point(b=t,f=o),s=r},lineEnd:function(){n.lineEnd(),b=f=NaN},clean:function(){return 2-M}}},function(n,M,b,f){var s;if(n==null)s=b*y.or,f.point(-y.pi,s),f.point(0,s),f.point(y.pi,s),f.point(y.pi,0),f.point(y.pi,-s),f.point(0,-s),f.point(-y.pi,-s),f.point(-y.pi,0),f.point(-y.pi,s);else if((0,y.a2)(n[0]-M[0])>y.Gg){var t=n[0]<M[0]?y.pi:-y.pi;s=b*t/2,f.point(-t,s),f.point(0,s),f.point(t,s)}else f.point(M[0],M[1])},[-y.pi,-y.or])},97208:function(S,x,e){"use strict";e.d(x,{c:function(){return y}});var p=e(70932);function y(){var n,M=[];return{point:function(b,f,s){n.push([b,f,s])},lineStart:function(){M.push(n=[])},lineEnd:p.c,rejoin:function(){M.length>1&&M.push(M.pop().concat(M.shift()))},result:function(){var b=M;return M=[],n=null,b}}}},2728:function(S,x,e){"use strict";e.d(x,{c:function(){return f}});var p=e(84220),y=e(61780),n=e(64528),M=e(41860),b=e(14229);function f(s){var t=(0,n.W8)(s),o=6*n.qw,r=t>0,i=(0,n.a2)(t)>n.Gg;function a(h,c){return(0,n.W8)(h)*(0,n.W8)(c)>t}function l(h,c,w){var g=(0,p.ux)(h),v=(0,p.ux)(c),m=[1,0,0],T=(0,p.CW)(g,v),_=(0,p.Ez)(T,T),A=T[0],d=_-A*A;if(!d)return!w&&h;var C=t*_/d,k=-t*A/d,D=(0,p.CW)(m,T),O=(0,p.wx)(m,C),L=(0,p.wx)(T,k);(0,p.mg)(O,L);var R=D,z=(0,p.Ez)(O,R),q=(0,p.Ez)(R,R),N=z*z-q*((0,p.Ez)(O,O)-1);if(!(N<0)){var V=(0,n._I)(N),Z=(0,p.wx)(R,(-z-V)/q);if((0,p.mg)(Z,O),Z=(0,p.G)(Z),!w)return Z;var j,H=h[0],Y=c[0],ie=h[1],re=c[1];Y<H&&(j=H,H=Y,Y=j);var ne=Y-H,ee=(0,n.a2)(ne-n.pi)<n.Gg;if(!ee&&re<ie&&(j=ie,ie=re,re=j),ee||ne<n.Gg?ee?ie+re>0^Z[1]<((0,n.a2)(Z[0]-H)<n.Gg?ie:re):ie<=Z[1]&&Z[1]<=re:ne>n.pi^(H<=Z[0]&&Z[0]<=Y)){var Q=(0,p.wx)(R,(-z+V)/q);return(0,p.mg)(Q,O),[Z,(0,p.G)(Q)]}}}function u(h,c){var w=r?s:n.pi-s,g=0;return h<-w?g|=1:h>w&&(g|=2),c<-w?g|=4:c>w&&(g|=8),g}return(0,b.c)(a,function(h){var c,w,g,v,m;return{lineStart:function(){v=g=!1,m=1},point:function(T,_){var A,d=[T,_],C=a(T,_),k=r?C?0:u(T,_):C?u(T+(T<0?n.pi:-n.pi),_):0;if(!c&&(v=g=C)&&h.lineStart(),C!==g&&(!(A=l(c,d))||(0,M.c)(c,A)||(0,M.c)(d,A))&&(d[2]=1),C!==g)m=0,C?(h.lineStart(),A=l(d,c),h.point(A[0],A[1])):(A=l(c,d),h.point(A[0],A[1],2),h.lineEnd()),c=A;else if(i&&c&&r^C){var D;k&w||!(D=l(d,c,!0))||(m=0,r?(h.lineStart(),h.point(D[0][0],D[0][1]),h.point(D[1][0],D[1][1]),h.lineEnd()):(h.point(D[1][0],D[1][1]),h.lineEnd(),h.lineStart(),h.point(D[0][0],D[0][1],3)))}!C||c&&(0,M.c)(c,d)||h.point(d[0],d[1]),c=d,g=C,w=k},lineEnd:function(){g&&h.lineEnd(),c=null},clean:function(){return m|(v&&g)<<1}}},function(h,c,w,g){(0,y.Q)(g,s,o,w,h,c)},r?[0,-s]:[-n.pi,s-n.pi])}},14229:function(S,x,e){"use strict";e.d(x,{c:function(){return f}});var p=e(97208),y=e(32232),n=e(64528),M=e(58196),b=e(84706);function f(o,r,i,a){return function(l){var u,h,c,w=r(l),g=(0,p.c)(),v=r(g),m=!1,T={point:_,lineStart:d,lineEnd:C,polygonStart:function(){T.point=k,T.lineStart=D,T.lineEnd=O,h=[],u=[]},polygonEnd:function(){T.point=_,T.lineStart=d,T.lineEnd=C,h=(0,b.Uf)(h);var L=(0,M.c)(u,a);h.length?(m||(l.polygonStart(),m=!0),(0,y.c)(h,t,L,i,l)):L&&(m||(l.polygonStart(),m=!0),l.lineStart(),i(null,null,1,l),l.lineEnd()),m&&(l.polygonEnd(),m=!1),h=u=null},sphere:function(){l.polygonStart(),l.lineStart(),i(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function _(L,R){o(L,R)&&l.point(L,R)}function A(L,R){w.point(L,R)}function d(){T.point=A,w.lineStart()}function C(){T.point=_,w.lineEnd()}function k(L,R){c.push([L,R]),v.point(L,R)}function D(){v.lineStart(),c=[]}function O(){k(c[0][0],c[0][1]),v.lineEnd();var L,R,z,q,N=v.clean(),V=g.result(),Z=V.length;if(c.pop(),u.push(c),c=null,Z)if(1&N){if((R=(z=V[0]).length-1)>0){for(m||(l.polygonStart(),m=!0),l.lineStart(),L=0;L<R;++L)l.point((q=z[L])[0],q[1]);l.lineEnd()}}else Z>1&&2&N&&V.push(V.pop().concat(V.shift())),h.push(V.filter(s))}return T}}function s(o){return o.length>1}function t(o,r){return((o=o.x)[0]<0?o[1]-n.or-n.Gg:n.or-o[1])-((r=r.x)[0]<0?r[1]-n.or-n.Gg:n.or-r[1])}},21676:function(S,x,e){"use strict";e.d(x,{c:function(){return s}});var p=e(64528),y=e(97208),n=e(32232),M=e(84706),b=1e9,f=-b;function s(t,o,r,i){function a(w,g){return t<=w&&w<=r&&o<=g&&g<=i}function l(w,g,v,m){var T=0,_=0;if(w==null||(T=u(w,v))!==(_=u(g,v))||c(w,g)<0^v>0)do m.point(T===0||T===3?t:r,T>1?i:o);while((T=(T+v+4)%4)!==_);else m.point(g[0],g[1])}function u(w,g){return(0,p.a2)(w[0]-t)<p.Gg?g>0?0:3:(0,p.a2)(w[0]-r)<p.Gg?g>0?2:1:(0,p.a2)(w[1]-o)<p.Gg?g>0?1:0:g>0?3:2}function h(w,g){return c(w.x,g.x)}function c(w,g){var v=u(w,1),m=u(g,1);return v!==m?v-m:v===0?g[1]-w[1]:v===1?w[0]-g[0]:v===2?w[1]-g[1]:g[0]-w[0]}return function(w){var g,v,m,T,_,A,d,C,k,D,O,L=w,R=(0,y.c)(),z={point:q,lineStart:function(){z.point=N,v&&v.push(m=[]),D=!0,k=!1,d=C=NaN},lineEnd:function(){g&&(N(T,_),A&&k&&R.rejoin(),g.push(R.result())),z.point=q,k&&L.lineEnd()},polygonStart:function(){L=R,g=[],v=[],O=!0},polygonEnd:function(){var V=function(){for(var H=0,Y=0,ie=v.length;Y<ie;++Y)for(var re,ne,ee=v[Y],Q=1,X=ee.length,se=ee[0],ce=se[0],le=se[1];Q<X;++Q)re=ce,ne=le,ce=(se=ee[Q])[0],le=se[1],ne<=i?le>i&&(ce-re)*(i-ne)>(le-ne)*(t-re)&&++H:le<=i&&(ce-re)*(i-ne)<(le-ne)*(t-re)&&--H;return H}(),Z=O&&V,j=(g=(0,M.Uf)(g)).length;(Z||j)&&(w.polygonStart(),Z&&(w.lineStart(),l(null,null,1,w),w.lineEnd()),j&&(0,n.c)(g,h,V,l,w),w.polygonEnd()),L=w,g=v=m=null}};function q(V,Z){a(V,Z)&&L.point(V,Z)}function N(V,Z){var j=a(V,Z);if(v&&m.push([V,Z]),D)T=V,_=Z,A=j,D=!1,j&&(L.lineStart(),L.point(V,Z));else if(j&&k)L.point(V,Z);else{var H=[d=Math.max(f,Math.min(b,d)),C=Math.max(f,Math.min(b,C))],Y=[V=Math.max(f,Math.min(b,V)),Z=Math.max(f,Math.min(b,Z))];(function(ie,re,ne,ee,Q,X){var se,ce=ie[0],le=ie[1],de=0,be=1,_e=re[0]-ce,ve=re[1]-le;if(se=ne-ce,_e||!(se>0)){if(se/=_e,_e<0){if(se<de)return;se<be&&(be=se)}else if(_e>0){if(se>be)return;se>de&&(de=se)}if(se=Q-ce,_e||!(se<0)){if(se/=_e,_e<0){if(se>be)return;se>de&&(de=se)}else if(_e>0){if(se<de)return;se<be&&(be=se)}if(se=ee-le,ve||!(se>0)){if(se/=ve,ve<0){if(se<de)return;se<be&&(be=se)}else if(ve>0){if(se>be)return;se>de&&(de=se)}if(se=X-le,ve||!(se<0)){if(se/=ve,ve<0){if(se>be)return;se>de&&(de=se)}else if(ve>0){if(se<de)return;se<be&&(be=se)}return de>0&&(ie[0]=ce+de*_e,ie[1]=le+de*ve),be<1&&(re[0]=ce+be*_e,re[1]=le+be*ve),!0}}}}})(H,Y,t,o,r,i)?(k||(L.lineStart(),L.point(H[0],H[1])),L.point(Y[0],Y[1]),j||L.lineEnd(),O=!1):j&&(L.lineStart(),L.point(V,Z),O=!1)}d=V,C=Z,k=j}return z}}},32232:function(S,x,e){"use strict";e.d(x,{c:function(){return M}});var p=e(41860),y=e(64528);function n(f,s,t,o){this.x=f,this.z=s,this.o=t,this.e=o,this.v=!1,this.n=this.p=null}function M(f,s,t,o,r){var i,a,l=[],u=[];if(f.forEach(function(m){if(!((T=m.length-1)<=0)){var T,_,A=m[0],d=m[T];if((0,p.c)(A,d)){if(!A[2]&&!d[2]){for(r.lineStart(),i=0;i<T;++i)r.point((A=m[i])[0],A[1]);return void r.lineEnd()}d[0]+=2*y.Gg}l.push(_=new n(A,m,null,!0)),u.push(_.o=new n(A,null,_,!1)),l.push(_=new n(d,m,null,!1)),u.push(_.o=new n(d,null,_,!0))}}),l.length){for(u.sort(s),b(l),b(u),i=0,a=u.length;i<a;++i)u[i].e=t=!t;for(var h,c,w=l[0];;){for(var g=w,v=!0;g.v;)if((g=g.n)===w)return;h=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(i=0,a=h.length;i<a;++i)r.point((c=h[i])[0],c[1]);else o(g.x,g.n.x,1,r);g=g.n}else{if(v)for(h=g.p.z,i=h.length-1;i>=0;--i)r.point((c=h[i])[0],c[1]);else o(g.x,g.p.x,-1,r);g=g.p}h=(g=g.o).z,v=!v}while(!g.v);r.lineEnd()}}}function b(f){if(s=f.length){for(var s,t,o=0,r=f[0];++o<s;)r.n=t=f[o],t.p=r,r=t;r.n=t=f[0],t.p=r}}},68120:function(S,x,e){"use strict";function p(y,n){function M(b,f){return b=y(b,f),n(b[0],b[1])}return y.invert&&n.invert&&(M.invert=function(b,f){return(b=n.invert(b,f))&&y.invert(b[0],b[1])}),M}e.d(x,{c:function(){return p}})},7376:function(S,x,e){"use strict";function p(y){return y}e.d(x,{c:function(){return p}})},83356:function(S,x,e){"use strict";e.r(x),e.d(x,{geoAlbers:function(){return yt},geoAlbersUsa:function(){return kt},geoArea:function(){return p.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return St.c},geoAzimuthalEquidistantRaw:function(){return St.O},geoBounds:function(){return y.c},geoCentroid:function(){return n.c},geoCircle:function(){return M.c},geoClipAntimeridian:function(){return b.c},geoClipCircle:function(){return f.c},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.c},geoConicConformal:function(){return Zt},geoConicConformalRaw:function(){return Ht},geoConicEqualArea:function(){return mt},geoConicEqualAreaRaw:function(){return dt},geoConicEquidistant:function(){return Tn},geoConicEquidistantRaw:function(){return Ln},geoContains:function(){return V},geoDistance:function(){return C},geoEqualEarth:function(){return wn},geoEqualEarthRaw:function(){return bn},geoEquirectangular:function(){return jt.c},geoEquirectangularRaw:function(){return jt.u},geoGnomonic:function(){return En.c},geoGnomonicRaw:function(){return En.Y},geoGraticule:function(){return Y},geoGraticule10:function(){return ie},geoIdentity:function(){return kn},geoInterpolate:function(){return X.c},geoLength:function(){return _},geoMercator:function(){return Ft},geoMercatorRaw:function(){return Ot},geoNaturalEarth1:function(){return Bn.c},geoNaturalEarth1Raw:function(){return Bn.g},geoOrthographic:function(){return Rn.c},geoOrthographicRaw:function(){return Rn.t},geoPath:function(){return je},geoProjection:function(){return ot.c},geoProjectionMutator:function(){return ot.U},geoRotation:function(){return Lt.c},geoStereographic:function(){return nr},geoStereographicRaw:function(){return Gn},geoStream:function(){return c.c},geoTransform:function(){return Dn.c},geoTransverseMercator:function(){return fr},geoTransverseMercatorRaw:function(){return $n}});var p=e(95384),y=e(13696),n=e(24052),M=e(61780),b=e(78284),f=e(2728),s=e(21676);function t(){var en,rn,Cn,mn=0,On=0,Hn=960,Un=500;return Cn={stream:function(Zn){return en&&rn===Zn?en:en=(0,s.c)(mn,On,Hn,Un)(rn=Zn)},extent:function(Zn){return arguments.length?(mn=+Zn[0][0],On=+Zn[0][1],Hn=+Zn[1][0],Un=+Zn[1][1],en=rn=null,Cn):[[mn,On],[Hn,Un]]}}}var o,r,i,a=e(58196),l=e(88728),u=e(64528),h=e(70932),c=e(16016),w=(0,l.c)(),g={sphere:h.c,point:h.c,lineStart:function(){g.point=m,g.lineEnd=v},lineEnd:h.c,polygonStart:h.c,polygonEnd:h.c};function v(){g.point=g.lineEnd=h.c}function m(en,rn){en*=u.qw,rn*=u.qw,o=en,r=(0,u.g$)(rn),i=(0,u.W8)(rn),g.point=T}function T(en,rn){en*=u.qw,rn*=u.qw;var Cn=(0,u.g$)(rn),mn=(0,u.W8)(rn),On=(0,u.a2)(en-o),Hn=(0,u.W8)(On),Un=mn*(0,u.g$)(On),Zn=i*Cn-r*mn*Hn,pr=r*Cn+i*mn*Hn;w.add((0,u.WE)((0,u._I)(Un*Un+Zn*Zn),pr)),o=en,r=Cn,i=mn}function _(en){return w.reset(),(0,c.c)(en,g),+w}var A=[null,null],d={type:"LineString",coordinates:A};function C(en,rn){return A[0]=en,A[1]=rn,_(d)}var k={Feature:function(en,rn){return O(en.geometry,rn)},FeatureCollection:function(en,rn){for(var Cn=en.features,mn=-1,On=Cn.length;++mn<On;)if(O(Cn[mn].geometry,rn))return!0;return!1}},D={Sphere:function(){return!0},Point:function(en,rn){return L(en.coordinates,rn)},MultiPoint:function(en,rn){for(var Cn=en.coordinates,mn=-1,On=Cn.length;++mn<On;)if(L(Cn[mn],rn))return!0;return!1},LineString:function(en,rn){return R(en.coordinates,rn)},MultiLineString:function(en,rn){for(var Cn=en.coordinates,mn=-1,On=Cn.length;++mn<On;)if(R(Cn[mn],rn))return!0;return!1},Polygon:function(en,rn){return z(en.coordinates,rn)},MultiPolygon:function(en,rn){for(var Cn=en.coordinates,mn=-1,On=Cn.length;++mn<On;)if(z(Cn[mn],rn))return!0;return!1},GeometryCollection:function(en,rn){for(var Cn=en.geometries,mn=-1,On=Cn.length;++mn<On;)if(O(Cn[mn],rn))return!0;return!1}};function O(en,rn){return!(!en||!D.hasOwnProperty(en.type))&&D[en.type](en,rn)}function L(en,rn){return C(en,rn)===0}function R(en,rn){for(var Cn,mn,On,Hn=0,Un=en.length;Hn<Un;Hn++){if((mn=C(en[Hn],rn))===0||Hn>0&&(On=C(en[Hn],en[Hn-1]))>0&&Cn<=On&&mn<=On&&(Cn+mn-On)*(1-Math.pow((Cn-mn)/On,2))<u.a8*On)return!0;Cn=mn}return!1}function z(en,rn){return!!(0,a.c)(en.map(q),N(rn))}function q(en){return(en=en.map(N)).pop(),en}function N(en){return[en[0]*u.qw,en[1]*u.qw]}function V(en,rn){return(en&&k.hasOwnProperty(en.type)?k[en.type]:O)(en,rn)}var Z=e(84706);function j(en,rn,Cn){var mn=(0,Z.ik)(en,rn-u.Gg,Cn).concat(rn);return function(On){return mn.map(function(Hn){return[On,Hn]})}}function H(en,rn,Cn){var mn=(0,Z.ik)(en,rn-u.Gg,Cn).concat(rn);return function(On){return mn.map(function(Hn){return[Hn,On]})}}function Y(){var en,rn,Cn,mn,On,Hn,Un,Zn,pr,Kt,vn,Dt,Bt=10,Jt=Bt,fn=90,dn=360,xn=2.5;function sn(){return{type:"MultiLineString",coordinates:Yt()}}function Yt(){return(0,Z.ik)((0,u.Km)(mn/fn)*fn,Cn,fn).map(vn).concat((0,Z.ik)((0,u.Km)(Zn/dn)*dn,Un,dn).map(Dt)).concat((0,Z.ik)((0,u.Km)(rn/Bt)*Bt,en,Bt).filter(function(Wt){return(0,u.a2)(Wt%fn)>u.Gg}).map(pr)).concat((0,Z.ik)((0,u.Km)(Hn/Jt)*Jt,On,Jt).filter(function(Wt){return(0,u.a2)(Wt%dn)>u.Gg}).map(Kt))}return sn.lines=function(){return Yt().map(function(Wt){return{type:"LineString",coordinates:Wt}})},sn.outline=function(){return{type:"Polygon",coordinates:[vn(mn).concat(Dt(Un).slice(1),vn(Cn).reverse().slice(1),Dt(Zn).reverse().slice(1))]}},sn.extent=function(Wt){return arguments.length?sn.extentMajor(Wt).extentMinor(Wt):sn.extentMinor()},sn.extentMajor=function(Wt){return arguments.length?(mn=+Wt[0][0],Cn=+Wt[1][0],Zn=+Wt[0][1],Un=+Wt[1][1],mn>Cn&&(Wt=mn,mn=Cn,Cn=Wt),Zn>Un&&(Wt=Zn,Zn=Un,Un=Wt),sn.precision(xn)):[[mn,Zn],[Cn,Un]]},sn.extentMinor=function(Wt){return arguments.length?(rn=+Wt[0][0],en=+Wt[1][0],Hn=+Wt[0][1],On=+Wt[1][1],rn>en&&(Wt=rn,rn=en,en=Wt),Hn>On&&(Wt=Hn,Hn=On,On=Wt),sn.precision(xn)):[[rn,Hn],[en,On]]},sn.step=function(Wt){return arguments.length?sn.stepMajor(Wt).stepMinor(Wt):sn.stepMinor()},sn.stepMajor=function(Wt){return arguments.length?(fn=+Wt[0],dn=+Wt[1],sn):[fn,dn]},sn.stepMinor=function(Wt){return arguments.length?(Bt=+Wt[0],Jt=+Wt[1],sn):[Bt,Jt]},sn.precision=function(Wt){return arguments.length?(xn=+Wt,pr=j(Hn,On,90),Kt=H(rn,en,xn),vn=j(Zn,Un,90),Dt=H(mn,Cn,xn),sn):xn},sn.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function ie(){return Y()()}var re,ne,ee,Q,X=e(27284),se=e(7376),ce=(0,l.c)(),le=(0,l.c)(),de={point:h.c,lineStart:h.c,lineEnd:h.c,polygonStart:function(){de.lineStart=be,de.lineEnd=me},polygonEnd:function(){de.lineStart=de.lineEnd=de.point=h.c,ce.add((0,u.a2)(le)),le.reset()},result:function(){var en=ce/2;return ce.reset(),en}};function be(){de.point=_e}function _e(en,rn){de.point=ve,re=ee=en,ne=Q=rn}function ve(en,rn){le.add(Q*en-ee*rn),ee=en,Q=rn}function me(){ve(re,ne)}var ye,Se,Ie,xe,ue=de,ae=e(73784),pe=0,De=0,Te=0,Ae=0,Ce=0,Re=0,Ne=0,ge=0,Me=0,Ee={point:Fe,lineStart:Le,lineEnd:Ke,polygonStart:function(){Ee.lineStart=at,Ee.lineEnd=st},polygonEnd:function(){Ee.point=Fe,Ee.lineStart=Le,Ee.lineEnd=Ke},result:function(){var en=Me?[Ne/Me,ge/Me]:Re?[Ae/Re,Ce/Re]:Te?[pe/Te,De/Te]:[NaN,NaN];return pe=De=Te=Ae=Ce=Re=Ne=ge=Me=0,en}};function Fe(en,rn){pe+=en,De+=rn,++Te}function Le(){Ee.point=Ue}function Ue(en,rn){Ee.point=Ge,Fe(Ie=en,xe=rn)}function Ge(en,rn){var Cn=en-Ie,mn=rn-xe,On=(0,u._I)(Cn*Cn+mn*mn);Ae+=On*(Ie+en)/2,Ce+=On*(xe+rn)/2,Re+=On,Fe(Ie=en,xe=rn)}function Ke(){Ee.point=Fe}function at(){Ee.point=vt}function st(){xt(ye,Se)}function vt(en,rn){Ee.point=xt,Fe(ye=Ie=en,Se=xe=rn)}function xt(en,rn){var Cn=en-Ie,mn=rn-xe,On=(0,u._I)(Cn*Cn+mn*mn);Ae+=On*(Ie+en)/2,Ce+=On*(xe+rn)/2,Re+=On,Ne+=(On=xe*en-Ie*rn)*(Ie+en),ge+=On*(xe+rn),Me+=3*On,Fe(Ie=en,xe=rn)}var gt=Ee;function nt(en){this._context=en}nt.prototype={_radius:4.5,pointRadius:function(en){return this._radius=en,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(en,rn){switch(this._point){case 0:this._context.moveTo(en,rn),this._point=1;break;case 1:this._context.lineTo(en,rn);break;default:this._context.moveTo(en+this._radius,rn),this._context.arc(en,rn,this._radius,0,u.kD)}},result:h.c};var et,At,Pt,Rt,Et,Ye=(0,l.c)(),Xe={point:h.c,lineStart:function(){Xe.point=Ve},lineEnd:function(){et&&Ze(At,Pt),Xe.point=h.c},polygonStart:function(){et=!0},polygonEnd:function(){et=null},result:function(){var en=+Ye;return Ye.reset(),en}};function Ve(en,rn){Xe.point=Ze,At=Rt=en,Pt=Et=rn}function Ze(en,rn){Rt-=en,Et-=rn,Ye.add((0,u._I)(Rt*Rt+Et*Et)),Rt=en,Et=rn}var lt=Xe;function it(){this._string=[]}function Be(en){return"m0,"+en+"a"+en+","+en+" 0 1,1 0,"+-2*en+"a"+en+","+en+" 0 1,1 0,"+2*en+"z"}function je(en,rn){var Cn,mn,On=4.5;function Hn(Un){return Un&&(typeof On=="function"&&mn.pointRadius(+On.apply(this,arguments)),(0,c.c)(Un,Cn(mn))),mn.result()}return Hn.area=function(Un){return(0,c.c)(Un,Cn(ue)),ue.result()},Hn.measure=function(Un){return(0,c.c)(Un,Cn(lt)),lt.result()},Hn.bounds=function(Un){return(0,c.c)(Un,Cn(ae.c)),ae.c.result()},Hn.centroid=function(Un){return(0,c.c)(Un,Cn(gt)),gt.result()},Hn.projection=function(Un){return arguments.length?(Cn=Un==null?(en=null,se.c):(en=Un).stream,Hn):en},Hn.context=function(Un){return arguments.length?(mn=Un==null?(rn=null,new it):new nt(rn=Un),typeof On!="function"&&mn.pointRadius(On),Hn):rn},Hn.pointRadius=function(Un){return arguments.length?(On=typeof Un=="function"?Un:(mn.pointRadius(+Un),+Un),Hn):On},Hn.projection(en).context(rn)}it.prototype={_radius:4.5,_circle:Be(4.5),pointRadius:function(en){return(en=+en)!==this._radius&&(this._radius=en,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(en,rn){switch(this._point){case 0:this._string.push("M",en,",",rn),this._point=1;break;case 1:this._string.push("L",en,",",rn);break;default:this._circle==null&&(this._circle=Be(this._radius)),this._string.push("M",en,",",rn,this._circle)}},result:function(){if(this._string.length){var en=this._string.join("");return this._string=[],en}return null}};var ot=e(87952);function $e(en){var rn=0,Cn=u.pi/3,mn=(0,ot.U)(en),On=mn(rn,Cn);return On.parallels=function(Hn){return arguments.length?mn(rn=Hn[0]*u.qw,Cn=Hn[1]*u.qw):[rn*u.oh,Cn*u.oh]},On}function dt(en,rn){var Cn=(0,u.g$)(en),mn=(Cn+(0,u.g$)(rn))/2;if((0,u.a2)(mn)<u.Gg)return function(Zn){var pr=(0,u.W8)(Zn);function Kt(vn,Dt){return[vn*pr,(0,u.g$)(Dt)/pr]}return Kt.invert=function(vn,Dt){return[vn/pr,(0,u.qR)(Dt*pr)]},Kt}(en);var On=1+Cn*(2*mn-Cn),Hn=(0,u._I)(On)/mn;function Un(Zn,pr){var Kt=(0,u._I)(On-2*mn*(0,u.g$)(pr))/mn;return[Kt*(0,u.g$)(Zn*=mn),Hn-Kt*(0,u.W8)(Zn)]}return Un.invert=function(Zn,pr){var Kt=Hn-pr,vn=(0,u.WE)(Zn,(0,u.a2)(Kt))*(0,u.kq)(Kt);return Kt*mn<0&&(vn-=u.pi*(0,u.kq)(Zn)*(0,u.kq)(Kt)),[vn/mn,(0,u.qR)((On-(Zn*Zn+Kt*Kt)*mn*mn)/(2*mn))]},Un}function mt(){return $e(dt).scale(155.424).center([0,33.6442])}function yt(){return mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ht=e(86420);function kt(){var en,rn,Cn,mn,On,Hn,Un=yt(),Zn=mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),pr=mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kt={point:function(Bt,Jt){Hn=[Bt,Jt]}};function vn(Bt){var Jt=Bt[0],fn=Bt[1];return Hn=null,Cn.point(Jt,fn),Hn||(mn.point(Jt,fn),Hn)||(On.point(Jt,fn),Hn)}function Dt(){return en=rn=null,vn}return vn.invert=function(Bt){var Jt=Un.scale(),fn=Un.translate(),dn=(Bt[0]-fn[0])/Jt,xn=(Bt[1]-fn[1])/Jt;return(xn>=.12&&xn<.234&&dn>=-.425&&dn<-.214?Zn:xn>=.166&&xn<.234&&dn>=-.214&&dn<-.115?pr:Un).invert(Bt)},vn.stream=function(Bt){return en&&rn===Bt?en:(Jt=[Un.stream(rn=Bt),Zn.stream(Bt),pr.stream(Bt)],fn=Jt.length,en={point:function(dn,xn){for(var sn=-1;++sn<fn;)Jt[sn].point(dn,xn)},sphere:function(){for(var dn=-1;++dn<fn;)Jt[dn].sphere()},lineStart:function(){for(var dn=-1;++dn<fn;)Jt[dn].lineStart()},lineEnd:function(){for(var dn=-1;++dn<fn;)Jt[dn].lineEnd()},polygonStart:function(){for(var dn=-1;++dn<fn;)Jt[dn].polygonStart()},polygonEnd:function(){for(var dn=-1;++dn<fn;)Jt[dn].polygonEnd()}});var Jt,fn},vn.precision=function(Bt){return arguments.length?(Un.precision(Bt),Zn.precision(Bt),pr.precision(Bt),Dt()):Un.precision()},vn.scale=function(Bt){return arguments.length?(Un.scale(Bt),Zn.scale(.35*Bt),pr.scale(Bt),vn.translate(Un.translate())):Un.scale()},vn.translate=function(Bt){if(!arguments.length)return Un.translate();var Jt=Un.scale(),fn=+Bt[0],dn=+Bt[1];return Cn=Un.translate(Bt).clipExtent([[fn-.455*Jt,dn-.238*Jt],[fn+.455*Jt,dn+.238*Jt]]).stream(Kt),mn=Zn.translate([fn-.307*Jt,dn+.201*Jt]).clipExtent([[fn-.425*Jt+u.Gg,dn+.12*Jt+u.Gg],[fn-.214*Jt-u.Gg,dn+.234*Jt-u.Gg]]).stream(Kt),On=pr.translate([fn-.205*Jt,dn+.212*Jt]).clipExtent([[fn-.214*Jt+u.Gg,dn+.166*Jt+u.Gg],[fn-.115*Jt-u.Gg,dn+.234*Jt-u.Gg]]).stream(Kt),Dt()},vn.fitExtent=function(Bt,Jt){return(0,ht.QX)(vn,Bt,Jt)},vn.fitSize=function(Bt,Jt){return(0,ht.UV)(vn,Bt,Jt)},vn.fitWidth=function(Bt,Jt){return(0,ht.Qx)(vn,Bt,Jt)},vn.fitHeight=function(Bt,Jt){return(0,ht.OW)(vn,Bt,Jt)},vn.scale(1070)}var bt=e(54724),St=e(69020),Lt=e(92992);function Ot(en,rn){return[en,(0,u.Yz)((0,u.a6)((u.or+rn)/2))]}function Ft(){return $t(Ot).scale(961/u.kD)}function $t(en){var rn,Cn,mn,On=(0,ot.c)(en),Hn=On.center,Un=On.scale,Zn=On.translate,pr=On.clipExtent,Kt=null;function vn(){var Dt=u.pi*Un(),Bt=On((0,Lt.c)(On.rotate()).invert([0,0]));return pr(Kt==null?[[Bt[0]-Dt,Bt[1]-Dt],[Bt[0]+Dt,Bt[1]+Dt]]:en===Ot?[[Math.max(Bt[0]-Dt,Kt),rn],[Math.min(Bt[0]+Dt,Cn),mn]]:[[Kt,Math.max(Bt[1]-Dt,rn)],[Cn,Math.min(Bt[1]+Dt,mn)]])}return On.scale=function(Dt){return arguments.length?(Un(Dt),vn()):Un()},On.translate=function(Dt){return arguments.length?(Zn(Dt),vn()):Zn()},On.center=function(Dt){return arguments.length?(Hn(Dt),vn()):Hn()},On.clipExtent=function(Dt){return arguments.length?(Dt==null?Kt=rn=Cn=mn=null:(Kt=+Dt[0][0],rn=+Dt[0][1],Cn=+Dt[1][0],mn=+Dt[1][1]),vn()):Kt==null?null:[[Kt,rn],[Cn,mn]]},vn()}function on(en){return(0,u.a6)((u.or+en)/2)}function Ht(en,rn){var Cn=(0,u.W8)(en),mn=en===rn?(0,u.g$)(en):(0,u.Yz)(Cn/(0,u.W8)(rn))/(0,u.Yz)(on(rn)/on(en)),On=Cn*(0,u.g3)(on(en),mn)/mn;if(!mn)return Ot;function Hn(Un,Zn){On>0?Zn<-u.or+u.Gg&&(Zn=-u.or+u.Gg):Zn>u.or-u.Gg&&(Zn=u.or-u.Gg);var pr=On/(0,u.g3)(on(Zn),mn);return[pr*(0,u.g$)(mn*Un),On-pr*(0,u.W8)(mn*Un)]}return Hn.invert=function(Un,Zn){var pr=On-Zn,Kt=(0,u.kq)(mn)*(0,u._I)(Un*Un+pr*pr),vn=(0,u.WE)(Un,(0,u.a2)(pr))*(0,u.kq)(pr);return pr*mn<0&&(vn-=u.pi*(0,u.kq)(Un)*(0,u.kq)(pr)),[vn/mn,2*(0,u.MQ)((0,u.g3)(On/Kt,1/mn))-u.or]},Hn}function Zt(){return $e(Ht).scale(109.5).parallels([30,30])}Ot.invert=function(en,rn){return[en,2*(0,u.MQ)((0,u.oN)(rn))-u.or]};var jt=e(69604);function Ln(en,rn){var Cn=(0,u.W8)(en),mn=en===rn?(0,u.g$)(en):(Cn-(0,u.W8)(rn))/(rn-en),On=Cn/mn+en;if((0,u.a2)(mn)<u.Gg)return jt.u;function Hn(Un,Zn){var pr=On-Zn,Kt=mn*Un;return[pr*(0,u.g$)(Kt),On-pr*(0,u.W8)(Kt)]}return Hn.invert=function(Un,Zn){var pr=On-Zn,Kt=(0,u.WE)(Un,(0,u.a2)(pr))*(0,u.kq)(pr);return pr*mn<0&&(Kt-=u.pi*(0,u.kq)(Un)*(0,u.kq)(pr)),[Kt/mn,On-(0,u.kq)(mn)*(0,u._I)(Un*Un+pr*pr)]},Hn}function Tn(){return $e(Ln).scale(131.154).center([0,13.9389])}var gn=1.340264,Qt=-.081106,cn=893e-6,nn=.003796,hn=(0,u._I)(3)/2;function bn(en,rn){var Cn=(0,u.qR)(hn*(0,u.g$)(rn)),mn=Cn*Cn,On=mn*mn*mn;return[en*(0,u.W8)(Cn)/(hn*(gn+3*Qt*mn+On*(7*cn+9*nn*mn))),Cn*(gn+Qt*mn+On*(cn+nn*mn))]}function wn(){return(0,ot.c)(bn).scale(177.158)}bn.invert=function(en,rn){for(var Cn,mn=rn,On=mn*mn,Hn=On*On*On,Un=0;Un<12&&(Hn=(On=(mn-=Cn=(mn*(gn+Qt*On+Hn*(cn+nn*On))-rn)/(gn+3*Qt*On+Hn*(7*cn+9*nn*On)))*mn)*On*On,!((0,u.a2)(Cn)<u.a8));++Un);return[hn*en*(gn+3*Qt*On+Hn*(7*cn+9*nn*On))/(0,u.W8)(mn),(0,u.qR)((0,u.g$)(mn)/hn)]};var En=e(53285),Dn=e(15196);function kn(){var en,rn,Cn,mn,On,Hn,Un,Zn=1,pr=0,Kt=0,vn=1,Dt=1,Bt=0,Jt=null,fn=1,dn=1,xn=(0,Dn.s)({point:function(tn,ln){var An=Wt([tn,ln]);this.stream.point(An[0],An[1])}}),sn=se.c;function Yt(){return fn=Zn*vn,dn=Zn*Dt,Hn=Un=null,Wt}function Wt(tn){var ln=tn[0]*fn,An=tn[1]*dn;if(Bt){var In=An*en-ln*rn;ln=ln*en+An*rn,An=In}return[ln+pr,An+Kt]}return Wt.invert=function(tn){var ln=tn[0]-pr,An=tn[1]-Kt;if(Bt){var In=An*en+ln*rn;ln=ln*en-An*rn,An=In}return[ln/fn,An/dn]},Wt.stream=function(tn){return Hn&&Un===tn?Hn:Hn=xn(sn(Un=tn))},Wt.postclip=function(tn){return arguments.length?(sn=tn,Jt=Cn=mn=On=null,Yt()):sn},Wt.clipExtent=function(tn){return arguments.length?(sn=tn==null?(Jt=Cn=mn=On=null,se.c):(0,s.c)(Jt=+tn[0][0],Cn=+tn[0][1],mn=+tn[1][0],On=+tn[1][1]),Yt()):Jt==null?null:[[Jt,Cn],[mn,On]]},Wt.scale=function(tn){return arguments.length?(Zn=+tn,Yt()):Zn},Wt.translate=function(tn){return arguments.length?(pr=+tn[0],Kt=+tn[1],Yt()):[pr,Kt]},Wt.angle=function(tn){return arguments.length?(Bt=tn%360*u.qw,rn=(0,u.g$)(Bt),en=(0,u.W8)(Bt),Yt()):Bt*u.oh},Wt.reflectX=function(tn){return arguments.length?(vn=tn?-1:1,Yt()):vn<0},Wt.reflectY=function(tn){return arguments.length?(Dt=tn?-1:1,Yt()):Dt<0},Wt.fitExtent=function(tn,ln){return(0,ht.QX)(Wt,tn,ln)},Wt.fitSize=function(tn,ln){return(0,ht.UV)(Wt,tn,ln)},Wt.fitWidth=function(tn,ln){return(0,ht.Qx)(Wt,tn,ln)},Wt.fitHeight=function(tn,ln){return(0,ht.OW)(Wt,tn,ln)},Wt}var Bn=e(47984),Rn=e(4888),Kn=e(62280);function Gn(en,rn){var Cn=(0,u.W8)(rn),mn=1+(0,u.W8)(en)*Cn;return[Cn*(0,u.g$)(en)/mn,(0,u.g$)(rn)/mn]}function nr(){return(0,ot.c)(Gn).scale(250).clipAngle(142)}function $n(en,rn){return[(0,u.Yz)((0,u.a6)((u.or+rn)/2)),-en]}function fr(){var en=$t($n),rn=en.center,Cn=en.rotate;return en.center=function(mn){return arguments.length?rn([-mn[1],mn[0]]):[(mn=rn())[1],-mn[0]]},en.rotate=function(mn){return arguments.length?Cn([mn[0],mn[1],mn.length>2?mn[2]+90:90]):[(mn=Cn())[0],mn[1],mn[2]-90]},Cn([0,0,90]).scale(159.155)}Gn.invert=(0,Kn.g)(function(en){return 2*(0,u.MQ)(en)}),$n.invert=function(en,rn){return[-rn,2*(0,u.MQ)((0,u.oN)(en))-u.or]}},27284:function(S,x,e){"use strict";e.d(x,{c:function(){return y}});var p=e(64528);function y(n,M){var b=n[0]*p.qw,f=n[1]*p.qw,s=M[0]*p.qw,t=M[1]*p.qw,o=(0,p.W8)(f),r=(0,p.g$)(f),i=(0,p.W8)(t),a=(0,p.g$)(t),l=o*(0,p.W8)(b),u=o*(0,p.g$)(b),h=i*(0,p.W8)(s),c=i*(0,p.g$)(s),w=2*(0,p.qR)((0,p._I)((0,p.SD)(t-f)+o*i*(0,p.SD)(s-b))),g=(0,p.g$)(w),v=w?function(m){var T=(0,p.g$)(m*=w)/g,_=(0,p.g$)(w-m)/g,A=_*l+T*h,d=_*u+T*c,C=_*r+T*a;return[(0,p.WE)(d,A)*p.oh,(0,p.WE)(C,(0,p._I)(A*A+d*d))*p.oh]}:function(){return[b*p.oh,f*p.oh]};return v.distance=w,v}},64528:function(S,x,e){"use strict";e.d(x,{Gg:function(){return p},Km:function(){return l},MQ:function(){return r},SD:function(){return A},W8:function(){return a},WE:function(){return i},Yz:function(){return h},_I:function(){return v},a2:function(){return o},a6:function(){return m},a8:function(){return y},g$:function(){return w},g3:function(){return c},kD:function(){return f},kq:function(){return g},mE:function(){return T},oN:function(){return u},oh:function(){return s},or:function(){return M},pi:function(){return n},qR:function(){return _},qw:function(){return t},wL:function(){return b}});var p=1e-6,y=1e-12,n=Math.PI,M=n/2,b=n/4,f=2*n,s=180/n,t=n/180,o=Math.abs,r=Math.atan,i=Math.atan2,a=Math.cos,l=Math.ceil,u=Math.exp,h=Math.log,c=Math.pow,w=Math.sin,g=Math.sign||function(d){return d>0?1:d<0?-1:0},v=Math.sqrt,m=Math.tan;function T(d){return d>1?0:d<-1?n:Math.acos(d)}function _(d){return d>1?M:d<-1?-M:Math.asin(d)}function A(d){return(d=w(d/2))*d}},70932:function(S,x,e){"use strict";function p(){}e.d(x,{c:function(){return p}})},73784:function(S,x,e){"use strict";var p=e(70932),y=1/0,n=y,M=-y,b=M,f={point:function(s,t){s<y&&(y=s),s>M&&(M=s),t<n&&(n=t),t>b&&(b=t)},lineStart:p.c,lineEnd:p.c,polygonStart:p.c,polygonEnd:p.c,result:function(){var s=[[y,n],[M,b]];return M=b=-(n=y=1/0),s}};x.c=f},41860:function(S,x,e){"use strict";e.d(x,{c:function(){return y}});var p=e(64528);function y(n,M){return(0,p.a2)(n[0]-M[0])<p.Gg&&(0,p.a2)(n[1]-M[1])<p.Gg}},58196:function(S,x,e){"use strict";e.d(x,{c:function(){return f}});var p=e(88728),y=e(84220),n=e(64528),M=(0,p.c)();function b(s){return(0,n.a2)(s[0])<=n.pi?s[0]:(0,n.kq)(s[0])*(((0,n.a2)(s[0])+n.pi)%n.kD-n.pi)}function f(s,t){var o=b(t),r=t[1],i=(0,n.g$)(r),a=[(0,n.g$)(o),-(0,n.W8)(o),0],l=0,u=0;M.reset(),i===1?r=n.or+n.Gg:i===-1&&(r=-n.or-n.Gg);for(var h=0,c=s.length;h<c;++h)if(g=(w=s[h]).length)for(var w,g,v=w[g-1],m=b(v),T=v[1]/2+n.wL,_=(0,n.g$)(T),A=(0,n.W8)(T),d=0;d<g;++d,m=k,_=O,A=L,v=C){var C=w[d],k=b(C),D=C[1]/2+n.wL,O=(0,n.g$)(D),L=(0,n.W8)(D),R=k-m,z=R>=0?1:-1,q=z*R,N=q>n.pi,V=_*O;if(M.add((0,n.WE)(V*z*(0,n.g$)(q),A*L+V*(0,n.W8)(q))),l+=N?R+z*n.kD:R,N^m>=o^k>=o){var Z=(0,y.CW)((0,y.ux)(v),(0,y.ux)(C));(0,y.cJ)(Z);var j=(0,y.CW)(a,Z);(0,y.cJ)(j);var H=(N^R>=0?-1:1)*(0,n.qR)(j[2]);(r>H||r===H&&(Z[0]||Z[1]))&&(u+=N^R>=0?1:-1)}}return(l<-n.Gg||l<n.Gg&&M<-n.Gg)^1&u}},62280:function(S,x,e){"use strict";e.d(x,{a:function(){return y},g:function(){return n}});var p=e(64528);function y(M){return function(b,f){var s=(0,p.W8)(b),t=(0,p.W8)(f),o=M(s*t);return[o*t*(0,p.g$)(b),o*(0,p.g$)(f)]}}function n(M){return function(b,f){var s=(0,p._I)(b*b+f*f),t=M(s),o=(0,p.g$)(t),r=(0,p.W8)(t);return[(0,p.WE)(b*o,s*r),(0,p.qR)(s&&f*o/s)]}}},54724:function(S,x,e){"use strict";e.d(x,{c:function(){return b},y:function(){return M}});var p=e(64528),y=e(62280),n=e(87952),M=(0,y.a)(function(f){return(0,p._I)(2/(1+f))});function b(){return(0,n.c)(M).scale(124.75).clipAngle(179.999)}M.invert=(0,y.g)(function(f){return 2*(0,p.qR)(f/2)})},69020:function(S,x,e){"use strict";e.d(x,{O:function(){return M},c:function(){return b}});var p=e(64528),y=e(62280),n=e(87952),M=(0,y.a)(function(f){return(f=(0,p.mE)(f))&&f/(0,p.g$)(f)});function b(){return(0,n.c)(M).scale(79.4188).clipAngle(179.999)}M.invert=(0,y.g)(function(f){return f})},69604:function(S,x,e){"use strict";e.d(x,{c:function(){return n},u:function(){return y}});var p=e(87952);function y(M,b){return[M,b]}function n(){return(0,p.c)(y).scale(152.63)}y.invert=y},86420:function(S,x,e){"use strict";e.d(x,{OW:function(){return s},QX:function(){return M},Qx:function(){return f},UV:function(){return b}});var p=e(16016),y=e(73784);function n(t,o,r){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),(0,p.c)(r,t.stream(y.c)),o(y.c.result()),i!=null&&t.clipExtent(i),t}function M(t,o,r){return n(t,function(i){var a=o[1][0]-o[0][0],l=o[1][1]-o[0][1],u=Math.min(a/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),h=+o[0][0]+(a-u*(i[1][0]+i[0][0]))/2,c=+o[0][1]+(l-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([h,c])},r)}function b(t,o,r){return M(t,[[0,0],o],r)}function f(t,o,r){return n(t,function(i){var a=+o,l=a/(i[1][0]-i[0][0]),u=(a-l*(i[1][0]+i[0][0]))/2,h=-l*i[0][1];t.scale(150*l).translate([u,h])},r)}function s(t,o,r){return n(t,function(i){var a=+o,l=a/(i[1][1]-i[0][1]),u=-l*i[0][0],h=(a-l*(i[1][1]+i[0][1]))/2;t.scale(150*l).translate([u,h])},r)}},53285:function(S,x,e){"use strict";e.d(x,{Y:function(){return M},c:function(){return b}});var p=e(64528),y=e(62280),n=e(87952);function M(f,s){var t=(0,p.W8)(s),o=(0,p.W8)(f)*t;return[t*(0,p.g$)(f)/o,(0,p.g$)(s)/o]}function b(){return(0,n.c)(M).scale(144.049).clipAngle(60)}M.invert=(0,y.g)(p.MQ)},87952:function(S,x,e){"use strict";e.d(x,{c:function(){return w},U:function(){return g}});var p=e(78284),y=e(2728),n=e(21676),M=e(68120),b=e(7376),f=e(64528),s=e(92992),t=e(15196),o=e(86420),r=e(84220),i=16,a=(0,f.W8)(30*f.qw);function l(v,m){return+m?function(T,_){function A(d,C,k,D,O,L,R,z,q,N,V,Z,j,H){var Y=R-d,ie=z-C,re=Y*Y+ie*ie;if(re>4*_&&j--){var ne=D+N,ee=O+V,Q=L+Z,X=(0,f._I)(ne*ne+ee*ee+Q*Q),se=(0,f.qR)(Q/=X),ce=(0,f.a2)((0,f.a2)(Q)-1)<f.Gg||(0,f.a2)(k-q)<f.Gg?(k+q)/2:(0,f.WE)(ee,ne),le=T(ce,se),de=le[0],be=le[1],_e=de-d,ve=be-C,me=ie*_e-Y*ve;(me*me/re>_||(0,f.a2)((Y*_e+ie*ve)/re-.5)>.3||D*N+O*V+L*Z<a)&&(A(d,C,k,D,O,L,de,be,ce,ne/=X,ee/=X,Q,j,H),H.point(de,be),A(de,be,ce,ne,ee,Q,R,z,q,N,V,Z,j,H))}}return function(d){var C,k,D,O,L,R,z,q,N,V,Z,j,H={point:Y,lineStart:ie,lineEnd:ne,polygonStart:function(){d.polygonStart(),H.lineStart=ee},polygonEnd:function(){d.polygonEnd(),H.lineStart=ie}};function Y(se,ce){se=T(se,ce),d.point(se[0],se[1])}function ie(){q=NaN,H.point=re,d.lineStart()}function re(se,ce){var le=(0,r.ux)([se,ce]),de=T(se,ce);A(q,N,z,V,Z,j,q=de[0],N=de[1],z=se,V=le[0],Z=le[1],j=le[2],i,d),d.point(q,N)}function ne(){H.point=Y,d.lineEnd()}function ee(){ie(),H.point=Q,H.lineEnd=X}function Q(se,ce){re(C=se,ce),k=q,D=N,O=V,L=Z,R=j,H.point=re}function X(){A(q,N,z,V,Z,j,k,D,C,O,L,R,i,d),H.lineEnd=ne,ne()}return H}}(v,m):function(T){return(0,t.s)({point:function(_,A){_=T(_,A),this.stream.point(_[0],_[1])}})}(v)}var u=(0,t.s)({point:function(v,m){this.stream.point(v*f.qw,m*f.qw)}});function h(v,m,T,_,A){function d(C,k){return[m+v*(C*=_),T-v*(k*=A)]}return d.invert=function(C,k){return[(C-m)/v*_,(T-k)/v*A]},d}function c(v,m,T,_,A,d){var C=(0,f.W8)(d),k=(0,f.g$)(d),D=C*v,O=k*v,L=C/v,R=k/v,z=(k*T-C*m)/v,q=(k*m+C*T)/v;function N(V,Z){return[D*(V*=_)-O*(Z*=A)+m,T-O*V-D*Z]}return N.invert=function(V,Z){return[_*(L*V-R*Z+z),A*(q-R*V-L*Z)]},N}function w(v){return g(function(){return v})()}function g(v){var m,T,_,A,d,C,k,D,O,L,R=150,z=480,q=250,N=0,V=0,Z=0,j=0,H=0,Y=0,ie=1,re=1,ne=null,ee=p.c,Q=null,X=b.c,se=.5;function ce(_e){return D(_e[0]*f.qw,_e[1]*f.qw)}function le(_e){return(_e=D.invert(_e[0],_e[1]))&&[_e[0]*f.oh,_e[1]*f.oh]}function de(){var _e=c(R,0,0,ie,re,Y).apply(null,m(N,V)),ve=(Y?c:h)(R,z-_e[0],q-_e[1],ie,re,Y);return T=(0,s.O)(Z,j,H),k=(0,M.c)(m,ve),D=(0,M.c)(T,k),C=l(k,se),be()}function be(){return O=L=null,ce}return ce.stream=function(_e){return O&&L===_e?O:O=u(function(ve){return(0,t.s)({point:function(me,ye){var Se=ve(me,ye);return this.stream.point(Se[0],Se[1])}})}(T)(ee(C(X(L=_e)))))},ce.preclip=function(_e){return arguments.length?(ee=_e,ne=void 0,be()):ee},ce.postclip=function(_e){return arguments.length?(X=_e,Q=_=A=d=null,be()):X},ce.clipAngle=function(_e){return arguments.length?(ee=+_e?(0,y.c)(ne=_e*f.qw):(ne=null,p.c),be()):ne*f.oh},ce.clipExtent=function(_e){return arguments.length?(X=_e==null?(Q=_=A=d=null,b.c):(0,n.c)(Q=+_e[0][0],_=+_e[0][1],A=+_e[1][0],d=+_e[1][1]),be()):Q==null?null:[[Q,_],[A,d]]},ce.scale=function(_e){return arguments.length?(R=+_e,de()):R},ce.translate=function(_e){return arguments.length?(z=+_e[0],q=+_e[1],de()):[z,q]},ce.center=function(_e){return arguments.length?(N=_e[0]%360*f.qw,V=_e[1]%360*f.qw,de()):[N*f.oh,V*f.oh]},ce.rotate=function(_e){return arguments.length?(Z=_e[0]%360*f.qw,j=_e[1]%360*f.qw,H=_e.length>2?_e[2]%360*f.qw:0,de()):[Z*f.oh,j*f.oh,H*f.oh]},ce.angle=function(_e){return arguments.length?(Y=_e%360*f.qw,de()):Y*f.oh},ce.reflectX=function(_e){return arguments.length?(ie=_e?-1:1,de()):ie<0},ce.reflectY=function(_e){return arguments.length?(re=_e?-1:1,de()):re<0},ce.precision=function(_e){return arguments.length?(C=l(k,se=_e*_e),be()):(0,f._I)(se)},ce.fitExtent=function(_e,ve){return(0,o.QX)(ce,_e,ve)},ce.fitSize=function(_e,ve){return(0,o.UV)(ce,_e,ve)},ce.fitWidth=function(_e,ve){return(0,o.Qx)(ce,_e,ve)},ce.fitHeight=function(_e,ve){return(0,o.OW)(ce,_e,ve)},function(){return m=v.apply(this,arguments),ce.invert=m.invert&&le,de()}}},47984:function(S,x,e){"use strict";e.d(x,{c:function(){return M},g:function(){return n}});var p=e(87952),y=e(64528);function n(b,f){var s=f*f,t=s*s;return[b*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),f*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function M(){return(0,p.c)(n).scale(175.295)}n.invert=function(b,f){var s,t=f,o=25;do{var r=t*t,i=r*r;t-=s=(t*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))-f)/(1.007226+r*(.045255+i*(.259866*r-.311325-.06507600000000001*i)))}while((0,y.a2)(s)>y.Gg&&--o>0);return[b/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]}},4888:function(S,x,e){"use strict";e.d(x,{c:function(){return b},t:function(){return M}});var p=e(64528),y=e(62280),n=e(87952);function M(f,s){return[(0,p.W8)(s)*(0,p.g$)(f),(0,p.g$)(s)]}function b(){return(0,n.c)(M).scale(249.5).clipAngle(90+p.Gg)}M.invert=(0,y.g)(p.qR)},92992:function(S,x,e){"use strict";e.d(x,{O:function(){return M},c:function(){return t}});var p=e(68120),y=e(64528);function n(o,r){return[(0,y.a2)(o)>y.pi?o+Math.round(-o/y.kD)*y.kD:o,r]}function M(o,r,i){return(o%=y.kD)?r||i?(0,p.c)(f(o),s(r,i)):f(o):r||i?s(r,i):n}function b(o){return function(r,i){return[(r+=o)>y.pi?r-y.kD:r<-y.pi?r+y.kD:r,i]}}function f(o){var r=b(o);return r.invert=b(-o),r}function s(o,r){var i=(0,y.W8)(o),a=(0,y.g$)(o),l=(0,y.W8)(r),u=(0,y.g$)(r);function h(c,w){var g=(0,y.W8)(w),v=(0,y.W8)(c)*g,m=(0,y.g$)(c)*g,T=(0,y.g$)(w),_=T*i+v*a;return[(0,y.WE)(m*l-_*u,v*i-T*a),(0,y.qR)(_*l+m*u)]}return h.invert=function(c,w){var g=(0,y.W8)(w),v=(0,y.W8)(c)*g,m=(0,y.g$)(c)*g,T=(0,y.g$)(w),_=T*l-m*u;return[(0,y.WE)(m*l+T*u,v*i+_*a),(0,y.qR)(_*i-v*a)]},h}function t(o){function r(i){return(i=o(i[0]*y.qw,i[1]*y.qw))[0]*=y.oh,i[1]*=y.oh,i}return o=M(o[0]*y.qw,o[1]*y.qw,o.length>2?o[2]*y.qw:0),r.invert=function(i){return(i=o.invert(i[0]*y.qw,i[1]*y.qw))[0]*=y.oh,i[1]*=y.oh,i},r}n.invert=n},16016:function(S,x,e){"use strict";function p(s,t){s&&n.hasOwnProperty(s.type)&&n[s.type](s,t)}e.d(x,{c:function(){return f}});var y={Feature:function(s,t){p(s.geometry,t)},FeatureCollection:function(s,t){for(var o=s.features,r=-1,i=o.length;++r<i;)p(o[r].geometry,t)}},n={Sphere:function(s,t){t.sphere()},Point:function(s,t){s=s.coordinates,t.point(s[0],s[1],s[2])},MultiPoint:function(s,t){for(var o=s.coordinates,r=-1,i=o.length;++r<i;)s=o[r],t.point(s[0],s[1],s[2])},LineString:function(s,t){M(s.coordinates,t,0)},MultiLineString:function(s,t){for(var o=s.coordinates,r=-1,i=o.length;++r<i;)M(o[r],t,0)},Polygon:function(s,t){b(s.coordinates,t)},MultiPolygon:function(s,t){for(var o=s.coordinates,r=-1,i=o.length;++r<i;)b(o[r],t)},GeometryCollection:function(s,t){for(var o=s.geometries,r=-1,i=o.length;++r<i;)p(o[r],t)}};function M(s,t,o){var r,i=-1,a=s.length-o;for(t.lineStart();++i<a;)r=s[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function b(s,t){var o=-1,r=s.length;for(t.polygonStart();++o<r;)M(s[o],t,1);t.polygonEnd()}function f(s,t){s&&y.hasOwnProperty(s.type)?y[s.type](s,t):p(s,t)}},15196:function(S,x,e){"use strict";function p(M){return{stream:y(M)}}function y(M){return function(b){var f=new n;for(var s in M)f[s]=M[s];return f.stream=b,f}}function n(){}e.d(x,{c:function(){return p},s:function(){return y}}),n.prototype={constructor:n,point:function(M,b){this.stream.point(M,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(S,x,e){"use strict";function p(ae,pe){return ae.parent===pe.parent?1:2}function y(ae,pe){return ae+pe.x}function n(ae,pe){return Math.max(ae,pe.y)}function M(){var ae=p,pe=1,De=1,Te=!1;function Ae(Ce){var Re,Ne=0;Ce.eachAfter(function(Le){var Ue=Le.children;Ue?(Le.x=function(Ge){return Ge.reduce(y,0)/Ge.length}(Ue),Le.y=function(Ge){return 1+Ge.reduce(n,0)}(Ue)):(Le.x=Re?Ne+=ae(Le,Re):0,Le.y=0,Re=Le)});var ge=function(Le){for(var Ue;Ue=Le.children;)Le=Ue[0];return Le}(Ce),Me=function(Le){for(var Ue;Ue=Le.children;)Le=Ue[Ue.length-1];return Le}(Ce),Ee=ge.x-ae(ge,Me)/2,Fe=Me.x+ae(Me,ge)/2;return Ce.eachAfter(Te?function(Le){Le.x=(Le.x-Ce.x)*pe,Le.y=(Ce.y-Le.y)*De}:function(Le){Le.x=(Le.x-Ee)/(Fe-Ee)*pe,Le.y=(1-(Ce.y?Le.y/Ce.y:1))*De})}return Ae.separation=function(Ce){return arguments.length?(ae=Ce,Ae):ae},Ae.size=function(Ce){return arguments.length?(Te=!1,pe=+Ce[0],De=+Ce[1],Ae):Te?null:[pe,De]},Ae.nodeSize=function(Ce){return arguments.length?(Te=!0,pe=+Ce[0],De=+Ce[1],Ae):Te?[pe,De]:null},Ae}function b(ae){var pe=0,De=ae.children,Te=De&&De.length;if(Te)for(;--Te>=0;)pe+=De[Te].value;else pe=1;ae.value=pe}function f(ae,pe){var De,Te,Ae,Ce,Re,Ne=new r(ae),ge=+ae.value&&(Ne.value=ae.value),Me=[Ne];for(pe==null&&(pe=s);De=Me.pop();)if(ge&&(De.value=+De.data.value),(Ae=pe(De.data))&&(Re=Ae.length))for(De.children=new Array(Re),Ce=Re-1;Ce>=0;--Ce)Me.push(Te=De.children[Ce]=new r(Ae[Ce])),Te.parent=De,Te.depth=De.depth+1;return Ne.eachBefore(o)}function s(ae){return ae.children}function t(ae){ae.data=ae.data.data}function o(ae){var pe=0;do ae.height=pe;while((ae=ae.parent)&&ae.height<++pe)}function r(ae){this.data=ae,this.depth=this.height=0,this.parent=null}e.r(x),e.d(x,{cluster:function(){return M},hierarchy:function(){return f},pack:function(){return R},packEnclose:function(){return a},packSiblings:function(){return C},partition:function(){return j},stratify:function(){return ee},tree:function(){return be},treemap:function(){return Se},treemapBinary:function(){return Ie},treemapDice:function(){return Z},treemapResquarify:function(){return ue},treemapSlice:function(){return _e},treemapSliceDice:function(){return xe},treemapSquarify:function(){return ye}}),r.prototype=f.prototype={constructor:r,count:function(){return this.eachAfter(b)},each:function(ae){var pe,De,Te,Ae,Ce=this,Re=[Ce];do for(pe=Re.reverse(),Re=[];Ce=pe.pop();)if(ae(Ce),De=Ce.children)for(Te=0,Ae=De.length;Te<Ae;++Te)Re.push(De[Te]);while(Re.length);return this},eachAfter:function(ae){for(var pe,De,Te,Ae=this,Ce=[Ae],Re=[];Ae=Ce.pop();)if(Re.push(Ae),pe=Ae.children)for(De=0,Te=pe.length;De<Te;++De)Ce.push(pe[De]);for(;Ae=Re.pop();)ae(Ae);return this},eachBefore:function(ae){for(var pe,De,Te=this,Ae=[Te];Te=Ae.pop();)if(ae(Te),pe=Te.children)for(De=pe.length-1;De>=0;--De)Ae.push(pe[De]);return this},sum:function(ae){return this.eachAfter(function(pe){for(var De=+ae(pe.data)||0,Te=pe.children,Ae=Te&&Te.length;--Ae>=0;)De+=Te[Ae].value;pe.value=De})},sort:function(ae){return this.eachBefore(function(pe){pe.children&&pe.children.sort(ae)})},path:function(ae){for(var pe=this,De=function(Ce,Re){if(Ce===Re)return Ce;var Ne=Ce.ancestors(),ge=Re.ancestors(),Me=null;for(Ce=Ne.pop(),Re=ge.pop();Ce===Re;)Me=Ce,Ce=Ne.pop(),Re=ge.pop();return Me}(pe,ae),Te=[pe];pe!==De;)pe=pe.parent,Te.push(pe);for(var Ae=Te.length;ae!==De;)Te.splice(Ae,0,ae),ae=ae.parent;return Te},ancestors:function(){for(var ae=this,pe=[ae];ae=ae.parent;)pe.push(ae);return pe},descendants:function(){var ae=[];return this.each(function(pe){ae.push(pe)}),ae},leaves:function(){var ae=[];return this.eachBefore(function(pe){pe.children||ae.push(pe)}),ae},links:function(){var ae=this,pe=[];return ae.each(function(De){De!==ae&&pe.push({source:De.parent,target:De})}),pe},copy:function(){return f(this).eachBefore(t)}};var i=Array.prototype.slice;function a(ae){for(var pe,De,Te=0,Ae=(ae=function(Re){for(var Ne,ge,Me=Re.length;Me;)ge=Math.random()*Me--|0,Ne=Re[Me],Re[Me]=Re[ge],Re[ge]=Ne;return Re}(i.call(ae))).length,Ce=[];Te<Ae;)pe=ae[Te],De&&h(De,pe)?++Te:(De=w(Ce=l(Ce,pe)),Te=0);return De}function l(ae,pe){var De,Te;if(c(pe,ae))return[pe];for(De=0;De<ae.length;++De)if(u(pe,ae[De])&&c(g(ae[De],pe),ae))return[ae[De],pe];for(De=0;De<ae.length-1;++De)for(Te=De+1;Te<ae.length;++Te)if(u(g(ae[De],ae[Te]),pe)&&u(g(ae[De],pe),ae[Te])&&u(g(ae[Te],pe),ae[De])&&c(v(ae[De],ae[Te],pe),ae))return[ae[De],ae[Te],pe];throw new Error}function u(ae,pe){var De=ae.r-pe.r,Te=pe.x-ae.x,Ae=pe.y-ae.y;return De<0||De*De<Te*Te+Ae*Ae}function h(ae,pe){var De=ae.r-pe.r+1e-6,Te=pe.x-ae.x,Ae=pe.y-ae.y;return De>0&&De*De>Te*Te+Ae*Ae}function c(ae,pe){for(var De=0;De<pe.length;++De)if(!h(ae,pe[De]))return!1;return!0}function w(ae){switch(ae.length){case 1:return{x:(pe=ae[0]).x,y:pe.y,r:pe.r};case 2:return g(ae[0],ae[1]);case 3:return v(ae[0],ae[1],ae[2])}var pe}function g(ae,pe){var De=ae.x,Te=ae.y,Ae=ae.r,Ce=pe.x,Re=pe.y,Ne=pe.r,ge=Ce-De,Me=Re-Te,Ee=Ne-Ae,Fe=Math.sqrt(ge*ge+Me*Me);return{x:(De+Ce+ge/Fe*Ee)/2,y:(Te+Re+Me/Fe*Ee)/2,r:(Fe+Ae+Ne)/2}}function v(ae,pe,De){var Te=ae.x,Ae=ae.y,Ce=ae.r,Re=pe.x,Ne=pe.y,ge=pe.r,Me=De.x,Ee=De.y,Fe=De.r,Le=Te-Re,Ue=Te-Me,Ge=Ae-Ne,Ke=Ae-Ee,at=ge-Ce,st=Fe-Ce,vt=Te*Te+Ae*Ae-Ce*Ce,xt=vt-Re*Re-Ne*Ne+ge*ge,gt=vt-Me*Me-Ee*Ee+Fe*Fe,nt=Ue*Ge-Le*Ke,et=(Ge*gt-Ke*xt)/(2*nt)-Te,At=(Ke*at-Ge*st)/nt,Pt=(Ue*xt-Le*gt)/(2*nt)-Ae,Rt=(Le*st-Ue*at)/nt,Et=At*At+Rt*Rt-1,Ye=2*(Ce+et*At+Pt*Rt),Xe=et*et+Pt*Pt-Ce*Ce,Ve=-(Et?(Ye+Math.sqrt(Ye*Ye-4*Et*Xe))/(2*Et):Xe/Ye);return{x:Te+et+At*Ve,y:Ae+Pt+Rt*Ve,r:Ve}}function m(ae,pe,De){var Te,Ae,Ce,Re,Ne=ae.x-pe.x,ge=ae.y-pe.y,Me=Ne*Ne+ge*ge;Me?(Ae=pe.r+De.r,Ae*=Ae,Re=ae.r+De.r,Ae>(Re*=Re)?(Te=(Me+Re-Ae)/(2*Me),Ce=Math.sqrt(Math.max(0,Re/Me-Te*Te)),De.x=ae.x-Te*Ne-Ce*ge,De.y=ae.y-Te*ge+Ce*Ne):(Te=(Me+Ae-Re)/(2*Me),Ce=Math.sqrt(Math.max(0,Ae/Me-Te*Te)),De.x=pe.x+Te*Ne-Ce*ge,De.y=pe.y+Te*ge+Ce*Ne)):(De.x=pe.x+De.r,De.y=pe.y)}function T(ae,pe){var De=ae.r+pe.r-1e-6,Te=pe.x-ae.x,Ae=pe.y-ae.y;return De>0&&De*De>Te*Te+Ae*Ae}function _(ae){var pe=ae._,De=ae.next._,Te=pe.r+De.r,Ae=(pe.x*De.r+De.x*pe.r)/Te,Ce=(pe.y*De.r+De.y*pe.r)/Te;return Ae*Ae+Ce*Ce}function A(ae){this._=ae,this.next=null,this.previous=null}function d(ae){if(!(Ae=ae.length))return 0;var pe,De,Te,Ae,Ce,Re,Ne,ge,Me,Ee,Fe;if((pe=ae[0]).x=0,pe.y=0,!(Ae>1))return pe.r;if(De=ae[1],pe.x=-De.r,De.x=pe.r,De.y=0,!(Ae>2))return pe.r+De.r;m(De,pe,Te=ae[2]),pe=new A(pe),De=new A(De),Te=new A(Te),pe.next=Te.previous=De,De.next=pe.previous=Te,Te.next=De.previous=pe;e:for(Ne=3;Ne<Ae;++Ne){m(pe._,De._,Te=ae[Ne]),Te=new A(Te),ge=De.next,Me=pe.previous,Ee=De._.r,Fe=pe._.r;do if(Ee<=Fe){if(T(ge._,Te._)){De=ge,pe.next=De,De.previous=pe,--Ne;continue e}Ee+=ge._.r,ge=ge.next}else{if(T(Me._,Te._)){(pe=Me).next=De,De.previous=pe,--Ne;continue e}Fe+=Me._.r,Me=Me.previous}while(ge!==Me.next);for(Te.previous=pe,Te.next=De,pe.next=De.previous=De=Te,Ce=_(pe);(Te=Te.next)!==De;)(Re=_(Te))<Ce&&(pe=Te,Ce=Re);De=pe.next}for(pe=[De._],Te=De;(Te=Te.next)!==De;)pe.push(Te._);for(Te=a(pe),Ne=0;Ne<Ae;++Ne)(pe=ae[Ne]).x-=Te.x,pe.y-=Te.y;return Te.r}function C(ae){return d(ae),ae}function k(ae){if(typeof ae!="function")throw new Error;return ae}function D(){return 0}function O(ae){return function(){return ae}}function L(ae){return Math.sqrt(ae.value)}function R(){var ae=null,pe=1,De=1,Te=D;function Ae(Ce){return Ce.x=pe/2,Ce.y=De/2,ae?Ce.eachBefore(z(ae)).eachAfter(q(Te,.5)).eachBefore(N(1)):Ce.eachBefore(z(L)).eachAfter(q(D,1)).eachAfter(q(Te,Ce.r/Math.min(pe,De))).eachBefore(N(Math.min(pe,De)/(2*Ce.r))),Ce}return Ae.radius=function(Ce){return arguments.length?(ae=(Re=Ce)==null?null:k(Re),Ae):ae;var Re},Ae.size=function(Ce){return arguments.length?(pe=+Ce[0],De=+Ce[1],Ae):[pe,De]},Ae.padding=function(Ce){return arguments.length?(Te=typeof Ce=="function"?Ce:O(+Ce),Ae):Te},Ae}function z(ae){return function(pe){pe.children||(pe.r=Math.max(0,+ae(pe)||0))}}function q(ae,pe){return function(De){if(Te=De.children){var Te,Ae,Ce,Re=Te.length,Ne=ae(De)*pe||0;if(Ne)for(Ae=0;Ae<Re;++Ae)Te[Ae].r+=Ne;if(Ce=d(Te),Ne)for(Ae=0;Ae<Re;++Ae)Te[Ae].r-=Ne;De.r=Ce+Ne}}}function N(ae){return function(pe){var De=pe.parent;pe.r*=ae,De&&(pe.x=De.x+ae*pe.x,pe.y=De.y+ae*pe.y)}}function V(ae){ae.x0=Math.round(ae.x0),ae.y0=Math.round(ae.y0),ae.x1=Math.round(ae.x1),ae.y1=Math.round(ae.y1)}function Z(ae,pe,De,Te,Ae){for(var Ce,Re=ae.children,Ne=-1,ge=Re.length,Me=ae.value&&(Te-pe)/ae.value;++Ne<ge;)(Ce=Re[Ne]).y0=De,Ce.y1=Ae,Ce.x0=pe,Ce.x1=pe+=Ce.value*Me}function j(){var ae=1,pe=1,De=0,Te=!1;function Ae(Ce){var Re=Ce.height+1;return Ce.x0=Ce.y0=De,Ce.x1=ae,Ce.y1=pe/Re,Ce.eachBefore(function(Ne,ge){return function(Me){Me.children&&Z(Me,Me.x0,Ne*(Me.depth+1)/ge,Me.x1,Ne*(Me.depth+2)/ge);var Ee=Me.x0,Fe=Me.y0,Le=Me.x1-De,Ue=Me.y1-De;Le<Ee&&(Ee=Le=(Ee+Le)/2),Ue<Fe&&(Fe=Ue=(Fe+Ue)/2),Me.x0=Ee,Me.y0=Fe,Me.x1=Le,Me.y1=Ue}}(pe,Re)),Te&&Ce.eachBefore(V),Ce}return Ae.round=function(Ce){return arguments.length?(Te=!!Ce,Ae):Te},Ae.size=function(Ce){return arguments.length?(ae=+Ce[0],pe=+Ce[1],Ae):[ae,pe]},Ae.padding=function(Ce){return arguments.length?(De=+Ce,Ae):De},Ae}var H="$",Y={depth:-1},ie={};function re(ae){return ae.id}function ne(ae){return ae.parentId}function ee(){var ae=re,pe=ne;function De(Te){var Ae,Ce,Re,Ne,ge,Me,Ee,Fe=Te.length,Le=new Array(Fe),Ue={};for(Ce=0;Ce<Fe;++Ce)Ae=Te[Ce],ge=Le[Ce]=new r(Ae),(Me=ae(Ae,Ce,Te))!=null&&(Me+="")&&(Ue[Ee=H+(ge.id=Me)]=Ee in Ue?ie:ge);for(Ce=0;Ce<Fe;++Ce)if(ge=Le[Ce],(Me=pe(Te[Ce],Ce,Te))!=null&&(Me+="")){if(!(Ne=Ue[H+Me]))throw new Error("missing: "+Me);if(Ne===ie)throw new Error("ambiguous: "+Me);Ne.children?Ne.children.push(ge):Ne.children=[ge],ge.parent=Ne}else{if(Re)throw new Error("multiple roots");Re=ge}if(!Re)throw new Error("no root");if(Re.parent=Y,Re.eachBefore(function(Ge){Ge.depth=Ge.parent.depth+1,--Fe}).eachBefore(o),Re.parent=null,Fe>0)throw new Error("cycle");return Re}return De.id=function(Te){return arguments.length?(ae=k(Te),De):ae},De.parentId=function(Te){return arguments.length?(pe=k(Te),De):pe},De}function Q(ae,pe){return ae.parent===pe.parent?1:2}function X(ae){var pe=ae.children;return pe?pe[0]:ae.t}function se(ae){var pe=ae.children;return pe?pe[pe.length-1]:ae.t}function ce(ae,pe,De){var Te=De/(pe.i-ae.i);pe.c-=Te,pe.s+=De,ae.c+=Te,pe.z+=De,pe.m+=De}function le(ae,pe,De){return ae.a.parent===pe.parent?ae.a:De}function de(ae,pe){this._=ae,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=pe}function be(){var ae=Q,pe=1,De=1,Te=null;function Ae(ge){var Me=function(st){for(var vt,xt,gt,nt,et,At=new de(st,0),Pt=[At];vt=Pt.pop();)if(gt=vt._.children)for(vt.children=new Array(et=gt.length),nt=et-1;nt>=0;--nt)Pt.push(xt=vt.children[nt]=new de(gt[nt],nt)),xt.parent=vt;return(At.parent=new de(null,0)).children=[At],At}(ge);if(Me.eachAfter(Ce),Me.parent.m=-Me.z,Me.eachBefore(Re),Te)ge.eachBefore(Ne);else{var Ee=ge,Fe=ge,Le=ge;ge.eachBefore(function(st){st.x<Ee.x&&(Ee=st),st.x>Fe.x&&(Fe=st),st.depth>Le.depth&&(Le=st)});var Ue=Ee===Fe?1:ae(Ee,Fe)/2,Ge=Ue-Ee.x,Ke=pe/(Fe.x+Ue+Ge),at=De/(Le.depth||1);ge.eachBefore(function(st){st.x=(st.x+Ge)*Ke,st.y=st.depth*at})}return ge}function Ce(ge){var Me=ge.children,Ee=ge.parent.children,Fe=ge.i?Ee[ge.i-1]:null;if(Me){(function(Ue){for(var Ge,Ke=0,at=0,st=Ue.children,vt=st.length;--vt>=0;)(Ge=st[vt]).z+=Ke,Ge.m+=Ke,Ke+=Ge.s+(at+=Ge.c)})(ge);var Le=(Me[0].z+Me[Me.length-1].z)/2;Fe?(ge.z=Fe.z+ae(ge._,Fe._),ge.m=ge.z-Le):ge.z=Le}else Fe&&(ge.z=Fe.z+ae(ge._,Fe._));ge.parent.A=function(Ue,Ge,Ke){if(Ge){for(var at,st=Ue,vt=Ue,xt=Ge,gt=st.parent.children[0],nt=st.m,et=vt.m,At=xt.m,Pt=gt.m;xt=se(xt),st=X(st),xt&&st;)gt=X(gt),(vt=se(vt)).a=Ue,(at=xt.z+At-st.z-nt+ae(xt._,st._))>0&&(ce(le(xt,Ue,Ke),Ue,at),nt+=at,et+=at),At+=xt.m,nt+=st.m,Pt+=gt.m,et+=vt.m;xt&&!se(vt)&&(vt.t=xt,vt.m+=At-et),st&&!X(gt)&&(gt.t=st,gt.m+=nt-Pt,Ke=Ue)}return Ke}(ge,Fe,ge.parent.A||Ee[0])}function Re(ge){ge._.x=ge.z+ge.parent.m,ge.m+=ge.parent.m}function Ne(ge){ge.x*=pe,ge.y=ge.depth*De}return Ae.separation=function(ge){return arguments.length?(ae=ge,Ae):ae},Ae.size=function(ge){return arguments.length?(Te=!1,pe=+ge[0],De=+ge[1],Ae):Te?null:[pe,De]},Ae.nodeSize=function(ge){return arguments.length?(Te=!0,pe=+ge[0],De=+ge[1],Ae):Te?[pe,De]:null},Ae}function _e(ae,pe,De,Te,Ae){for(var Ce,Re=ae.children,Ne=-1,ge=Re.length,Me=ae.value&&(Ae-De)/ae.value;++Ne<ge;)(Ce=Re[Ne]).x0=pe,Ce.x1=Te,Ce.y0=De,Ce.y1=De+=Ce.value*Me}de.prototype=Object.create(r.prototype);var ve=(1+Math.sqrt(5))/2;function me(ae,pe,De,Te,Ae,Ce){for(var Re,Ne,ge,Me,Ee,Fe,Le,Ue,Ge,Ke,at,st=[],vt=pe.children,xt=0,gt=0,nt=vt.length,et=pe.value;xt<nt;){ge=Ae-De,Me=Ce-Te;do Ee=vt[gt++].value;while(!Ee&&gt<nt);for(Fe=Le=Ee,at=Ee*Ee*(Ke=Math.max(Me/ge,ge/Me)/(et*ae)),Ge=Math.max(Le/at,at/Fe);gt<nt;++gt){if(Ee+=Ne=vt[gt].value,Ne<Fe&&(Fe=Ne),Ne>Le&&(Le=Ne),at=Ee*Ee*Ke,(Ue=Math.max(Le/at,at/Fe))>Ge){Ee-=Ne;break}Ge=Ue}st.push(Re={value:Ee,dice:ge<Me,children:vt.slice(xt,gt)}),Re.dice?Z(Re,De,Te,Ae,et?Te+=Me*Ee/et:Ce):_e(Re,De,Te,et?De+=ge*Ee/et:Ae,Ce),et-=Ee,xt=gt}return st}var ye=function ae(pe){function De(Te,Ae,Ce,Re,Ne){me(pe,Te,Ae,Ce,Re,Ne)}return De.ratio=function(Te){return ae((Te=+Te)>1?Te:1)},De}(ve);function Se(){var ae=ye,pe=!1,De=1,Te=1,Ae=[0],Ce=D,Re=D,Ne=D,ge=D,Me=D;function Ee(Le){return Le.x0=Le.y0=0,Le.x1=De,Le.y1=Te,Le.eachBefore(Fe),Ae=[0],pe&&Le.eachBefore(V),Le}function Fe(Le){var Ue=Ae[Le.depth],Ge=Le.x0+Ue,Ke=Le.y0+Ue,at=Le.x1-Ue,st=Le.y1-Ue;at<Ge&&(Ge=at=(Ge+at)/2),st<Ke&&(Ke=st=(Ke+st)/2),Le.x0=Ge,Le.y0=Ke,Le.x1=at,Le.y1=st,Le.children&&(Ue=Ae[Le.depth+1]=Ce(Le)/2,Ge+=Me(Le)-Ue,Ke+=Re(Le)-Ue,(at-=Ne(Le)-Ue)<Ge&&(Ge=at=(Ge+at)/2),(st-=ge(Le)-Ue)<Ke&&(Ke=st=(Ke+st)/2),ae(Le,Ge,Ke,at,st))}return Ee.round=function(Le){return arguments.length?(pe=!!Le,Ee):pe},Ee.size=function(Le){return arguments.length?(De=+Le[0],Te=+Le[1],Ee):[De,Te]},Ee.tile=function(Le){return arguments.length?(ae=k(Le),Ee):ae},Ee.padding=function(Le){return arguments.length?Ee.paddingInner(Le).paddingOuter(Le):Ee.paddingInner()},Ee.paddingInner=function(Le){return arguments.length?(Ce=typeof Le=="function"?Le:O(+Le),Ee):Ce},Ee.paddingOuter=function(Le){return arguments.length?Ee.paddingTop(Le).paddingRight(Le).paddingBottom(Le).paddingLeft(Le):Ee.paddingTop()},Ee.paddingTop=function(Le){return arguments.length?(Re=typeof Le=="function"?Le:O(+Le),Ee):Re},Ee.paddingRight=function(Le){return arguments.length?(Ne=typeof Le=="function"?Le:O(+Le),Ee):Ne},Ee.paddingBottom=function(Le){return arguments.length?(ge=typeof Le=="function"?Le:O(+Le),Ee):ge},Ee.paddingLeft=function(Le){return arguments.length?(Me=typeof Le=="function"?Le:O(+Le),Ee):Me},Ee}function Ie(ae,pe,De,Te,Ae){var Ce,Re,Ne=ae.children,ge=Ne.length,Me=new Array(ge+1);for(Me[0]=Re=Ce=0;Ce<ge;++Ce)Me[Ce+1]=Re+=Ne[Ce].value;(function Ee(Fe,Le,Ue,Ge,Ke,at,st){if(Fe>=Le-1){var vt=Ne[Fe];return vt.x0=Ge,vt.y0=Ke,vt.x1=at,void(vt.y1=st)}for(var xt=Me[Fe],gt=Ue/2+xt,nt=Fe+1,et=Le-1;nt<et;){var At=nt+et>>>1;Me[At]<gt?nt=At+1:et=At}gt-Me[nt-1]<Me[nt]-gt&&Fe+1<nt&&--nt;var Pt=Me[nt]-xt,Rt=Ue-Pt;if(at-Ge>st-Ke){var Et=(Ge*Rt+at*Pt)/Ue;Ee(Fe,nt,Pt,Ge,Ke,Et,st),Ee(nt,Le,Rt,Et,Ke,at,st)}else{var Ye=(Ke*Rt+st*Pt)/Ue;Ee(Fe,nt,Pt,Ge,Ke,at,Ye),Ee(nt,Le,Rt,Ge,Ye,at,st)}})(0,ge,ae.value,pe,De,Te,Ae)}function xe(ae,pe,De,Te,Ae){(1&ae.depth?_e:Z)(ae,pe,De,Te,Ae)}var ue=function ae(pe){function De(Te,Ae,Ce,Re,Ne){if((ge=Te._squarify)&&ge.ratio===pe)for(var ge,Me,Ee,Fe,Le,Ue=-1,Ge=ge.length,Ke=Te.value;++Ue<Ge;){for(Ee=(Me=ge[Ue]).children,Fe=Me.value=0,Le=Ee.length;Fe<Le;++Fe)Me.value+=Ee[Fe].value;Me.dice?Z(Me,Ae,Ce,Re,Ce+=(Ne-Ce)*Me.value/Ke):_e(Me,Ae,Ce,Ae+=(Re-Ae)*Me.value/Ke,Ne),Ke-=Me.value}else Te._squarify=ge=me(pe,Te,Ae,Ce,Re,Ne),ge.ratio=pe}return De.ratio=function(Te){return ae((Te=+Te)>1?Te:1)},De}(ve)},10132:function(S,x,e){"use strict";e.d(x,{ak:function(){return h}});var p=Math.PI,y=2*p,n=1e-6,M=y-n;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function f(){return new b}b.prototype=f.prototype={constructor:b,moveTo:function(c,w){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+w)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,w){this._+="L"+(this._x1=+c)+","+(this._y1=+w)},quadraticCurveTo:function(c,w,g,v){this._+="Q"+ +c+","+ +w+","+(this._x1=+g)+","+(this._y1=+v)},bezierCurveTo:function(c,w,g,v,m,T){this._+="C"+ +c+","+ +w+","+ +g+","+ +v+","+(this._x1=+m)+","+(this._y1=+T)},arcTo:function(c,w,g,v,m){c=+c,w=+w,g=+g,v=+v,m=+m;var T=this._x1,_=this._y1,A=g-c,d=v-w,C=T-c,k=_-w,D=C*C+k*k;if(m<0)throw new Error("negative radius: "+m);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=w);else if(D>n)if(Math.abs(k*A-d*C)>n&&m){var O=g-T,L=v-_,R=A*A+d*d,z=O*O+L*L,q=Math.sqrt(R),N=Math.sqrt(D),V=m*Math.tan((p-Math.acos((R+D-z)/(2*q*N)))/2),Z=V/N,j=V/q;Math.abs(Z-1)>n&&(this._+="L"+(c+Z*C)+","+(w+Z*k)),this._+="A"+m+","+m+",0,0,"+ +(k*O>C*L)+","+(this._x1=c+j*A)+","+(this._y1=w+j*d)}else this._+="L"+(this._x1=c)+","+(this._y1=w)},arc:function(c,w,g,v,m,T){c=+c,w=+w,T=!!T;var _=(g=+g)*Math.cos(v),A=g*Math.sin(v),d=c+_,C=w+A,k=1^T,D=T?v-m:m-v;if(g<0)throw new Error("negative radius: "+g);this._x1===null?this._+="M"+d+","+C:(Math.abs(this._x1-d)>n||Math.abs(this._y1-C)>n)&&(this._+="L"+d+","+C),g&&(D<0&&(D=D%y+y),D>M?this._+="A"+g+","+g+",0,1,"+k+","+(c-_)+","+(w-A)+"A"+g+","+g+",0,1,"+k+","+(this._x1=d)+","+(this._y1=C):D>n&&(this._+="A"+g+","+g+",0,"+ +(D>=p)+","+k+","+(this._x1=c+g*Math.cos(m))+","+(this._y1=w+g*Math.sin(m))))},rect:function(c,w,g,v){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+w)+"h"+ +g+"v"+ +v+"h"+-g+"Z"},toString:function(){return this._}};var s=f,t=Array.prototype.slice;function o(c){return function(){return c}}function r(c){return c[0]}function i(c){return c[1]}function a(c){return c.source}function l(c){return c.target}function u(c,w,g,v,m){c.moveTo(w,g),c.bezierCurveTo(w=(w+v)/2,g,w,m,v,m)}function h(){return function(c){var w=a,g=l,v=r,m=i,T=null;function _(){var A,d=t.call(arguments),C=w.apply(this,d),k=g.apply(this,d);if(T||(T=A=s()),c(T,+v.apply(this,(d[0]=C,d)),+m.apply(this,d),+v.apply(this,(d[0]=k,d)),+m.apply(this,d)),A)return T=null,A+""||null}return _.source=function(A){return arguments.length?(w=A,_):w},_.target=function(A){return arguments.length?(g=A,_):g},_.x=function(A){return arguments.length?(v=typeof A=="function"?A:o(+A),_):v},_.y=function(A){return arguments.length?(m=typeof A=="function"?A:o(+A),_):m},_.context=function(A){return arguments.length?(T=A??null,_):T},_}(u)}},94336:function(S,x,e){"use strict";e.d(x,{Yn:function(){return a},m_:function(){return r},E9:function(){return l}});var p=e(8208),y=e(58931),n=e(46192),M=e(68936),b=e(32171),f=e(53528);function s(nt){if(0<=nt.y&&nt.y<100){var et=new Date(-1,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L);return et.setFullYear(nt.y),et}return new Date(nt.y,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L)}function t(nt){if(0<=nt.y&&nt.y<100){var et=new Date(Date.UTC(-1,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L));return et.setUTCFullYear(nt.y),et}return new Date(Date.UTC(nt.y,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L))}function o(nt,et,At){return{y:nt,m:et,d:At,H:0,M:0,S:0,L:0}}function r(nt){var et=nt.dateTime,At=nt.date,Pt=nt.time,Rt=nt.periods,Et=nt.days,Ye=nt.shortDays,Xe=nt.months,Ve=nt.shortMonths,Ze=m(Rt),lt=T(Rt),it=m(Et),Be=T(Et),je=m(Ye),ot=T(Ye),$e=m(Xe),dt=T(Xe),mt=m(Ve),yt=T(Ve),ht={a:function(Ft){return Ye[Ft.getDay()]},A:function(Ft){return Et[Ft.getDay()]},b:function(Ft){return Ve[Ft.getMonth()]},B:function(Ft){return Xe[Ft.getMonth()]},c:null,d:ee,e:ee,f:le,H:Q,I:X,j:se,L:ce,m:de,M:be,p:function(Ft){return Rt[+(Ft.getHours()>=12)]},q:function(Ft){return 1+~~(Ft.getMonth()/3)},Q:xt,s:gt,S:_e,u:ve,U:me,V:ye,w:Se,W:Ie,x:null,X:null,y:xe,Y:ue,Z:ae,"%":vt},kt={a:function(Ft){return Ye[Ft.getUTCDay()]},A:function(Ft){return Et[Ft.getUTCDay()]},b:function(Ft){return Ve[Ft.getUTCMonth()]},B:function(Ft){return Xe[Ft.getUTCMonth()]},c:null,d:pe,e:pe,f:Re,H:De,I:Te,j:Ae,L:Ce,m:Ne,M:ge,p:function(Ft){return Rt[+(Ft.getUTCHours()>=12)]},q:function(Ft){return 1+~~(Ft.getUTCMonth()/3)},Q:xt,s:gt,S:Me,u:Ee,U:Fe,V:Le,w:Ue,W:Ge,x:null,X:null,y:Ke,Y:at,Z:st,"%":vt},bt={a:function(Ft,$t,on){var Ht=je.exec($t.slice(on));return Ht?(Ft.w=ot[Ht[0].toLowerCase()],on+Ht[0].length):-1},A:function(Ft,$t,on){var Ht=it.exec($t.slice(on));return Ht?(Ft.w=Be[Ht[0].toLowerCase()],on+Ht[0].length):-1},b:function(Ft,$t,on){var Ht=mt.exec($t.slice(on));return Ht?(Ft.m=yt[Ht[0].toLowerCase()],on+Ht[0].length):-1},B:function(Ft,$t,on){var Ht=$e.exec($t.slice(on));return Ht?(Ft.m=dt[Ht[0].toLowerCase()],on+Ht[0].length):-1},c:function(Ft,$t,on){return Ot(Ft,et,$t,on)},d:q,e:q,f:Y,H:V,I:V,j:N,L:H,m:z,M:Z,p:function(Ft,$t,on){var Ht=Ze.exec($t.slice(on));return Ht?(Ft.p=lt[Ht[0].toLowerCase()],on+Ht[0].length):-1},q:R,Q:re,s:ne,S:j,u:A,U:d,V:C,w:_,W:k,x:function(Ft,$t,on){return Ot(Ft,At,$t,on)},X:function(Ft,$t,on){return Ot(Ft,Pt,$t,on)},y:O,Y:D,Z:L,"%":ie};function St(Ft,$t){return function(on){var Ht,Zt,jt,Ln=[],Tn=-1,gn=0,Qt=Ft.length;for(on instanceof Date||(on=new Date(+on));++Tn<Qt;)Ft.charCodeAt(Tn)===37&&(Ln.push(Ft.slice(gn,Tn)),(Zt=u[Ht=Ft.charAt(++Tn)])!=null?Ht=Ft.charAt(++Tn):Zt=Ht==="e"?" ":"0",(jt=$t[Ht])&&(Ht=jt(on,Zt)),Ln.push(Ht),gn=Tn+1);return Ln.push(Ft.slice(gn,Tn)),Ln.join("")}}function Lt(Ft,$t){return function(on){var Ht,Zt,jt=o(1900,void 0,1);if(Ot(jt,Ft,on+="",0)!=on.length)return null;if("Q"in jt)return new Date(jt.Q);if("s"in jt)return new Date(1e3*jt.s+("L"in jt?jt.L:0));if($t&&!("Z"in jt)&&(jt.Z=0),"p"in jt&&(jt.H=jt.H%12+12*jt.p),jt.m===void 0&&(jt.m="q"in jt?jt.q:0),"V"in jt){if(jt.V<1||jt.V>53)return null;"w"in jt||(jt.w=1),"Z"in jt?(Zt=(Ht=t(o(jt.y,0,1))).getUTCDay(),Ht=Zt>4||Zt===0?p.ot.ceil(Ht):(0,p.ot)(Ht),Ht=y.c.offset(Ht,7*(jt.V-1)),jt.y=Ht.getUTCFullYear(),jt.m=Ht.getUTCMonth(),jt.d=Ht.getUTCDate()+(jt.w+6)%7):(Zt=(Ht=s(o(jt.y,0,1))).getDay(),Ht=Zt>4||Zt===0?n.qT.ceil(Ht):(0,n.qT)(Ht),Ht=M.c.offset(Ht,7*(jt.V-1)),jt.y=Ht.getFullYear(),jt.m=Ht.getMonth(),jt.d=Ht.getDate()+(jt.w+6)%7)}else("W"in jt||"U"in jt)&&("w"in jt||(jt.w="u"in jt?jt.u%7:"W"in jt?1:0),Zt="Z"in jt?t(o(jt.y,0,1)).getUTCDay():s(o(jt.y,0,1)).getDay(),jt.m=0,jt.d="W"in jt?(jt.w+6)%7+7*jt.W-(Zt+5)%7:jt.w+7*jt.U-(Zt+6)%7);return"Z"in jt?(jt.H+=jt.Z/100|0,jt.M+=jt.Z%100,t(jt)):s(jt)}}function Ot(Ft,$t,on,Ht){for(var Zt,jt,Ln=0,Tn=$t.length,gn=on.length;Ln<Tn;){if(Ht>=gn)return-1;if((Zt=$t.charCodeAt(Ln++))===37){if(Zt=$t.charAt(Ln++),!(jt=bt[Zt in u?$t.charAt(Ln++):Zt])||(Ht=jt(Ft,on,Ht))<0)return-1}else if(Zt!=on.charCodeAt(Ht++))return-1}return Ht}return ht.x=St(At,ht),ht.X=St(Pt,ht),ht.c=St(et,ht),kt.x=St(At,kt),kt.X=St(Pt,kt),kt.c=St(et,kt),{format:function(Ft){var $t=St(Ft+="",ht);return $t.toString=function(){return Ft},$t},parse:function(Ft){var $t=Lt(Ft+="",!1);return $t.toString=function(){return Ft},$t},utcFormat:function(Ft){var $t=St(Ft+="",kt);return $t.toString=function(){return Ft},$t},utcParse:function(Ft){var $t=Lt(Ft+="",!0);return $t.toString=function(){return Ft},$t}}}var i,a,l,u={"-":"",_:" ",0:"0"},h=/^\s*\d+/,c=/^%/,w=/[\\^$*+?|[\]().{}]/g;function g(nt,et,At){var Pt=nt<0?"-":"",Rt=(Pt?-nt:nt)+"",Et=Rt.length;return Pt+(Et<At?new Array(At-Et+1).join(et)+Rt:Rt)}function v(nt){return nt.replace(w,"\\$&")}function m(nt){return new RegExp("^(?:"+nt.map(v).join("|")+")","i")}function T(nt){for(var et={},At=-1,Pt=nt.length;++At<Pt;)et[nt[At].toLowerCase()]=At;return et}function _(nt,et,At){var Pt=h.exec(et.slice(At,At+1));return Pt?(nt.w=+Pt[0],At+Pt[0].length):-1}function A(nt,et,At){var Pt=h.exec(et.slice(At,At+1));return Pt?(nt.u=+Pt[0],At+Pt[0].length):-1}function d(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.U=+Pt[0],At+Pt[0].length):-1}function C(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.V=+Pt[0],At+Pt[0].length):-1}function k(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.W=+Pt[0],At+Pt[0].length):-1}function D(nt,et,At){var Pt=h.exec(et.slice(At,At+4));return Pt?(nt.y=+Pt[0],At+Pt[0].length):-1}function O(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.y=+Pt[0]+(+Pt[0]>68?1900:2e3),At+Pt[0].length):-1}function L(nt,et,At){var Pt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(At,At+6));return Pt?(nt.Z=Pt[1]?0:-(Pt[2]+(Pt[3]||"00")),At+Pt[0].length):-1}function R(nt,et,At){var Pt=h.exec(et.slice(At,At+1));return Pt?(nt.q=3*Pt[0]-3,At+Pt[0].length):-1}function z(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.m=Pt[0]-1,At+Pt[0].length):-1}function q(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.d=+Pt[0],At+Pt[0].length):-1}function N(nt,et,At){var Pt=h.exec(et.slice(At,At+3));return Pt?(nt.m=0,nt.d=+Pt[0],At+Pt[0].length):-1}function V(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.H=+Pt[0],At+Pt[0].length):-1}function Z(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.M=+Pt[0],At+Pt[0].length):-1}function j(nt,et,At){var Pt=h.exec(et.slice(At,At+2));return Pt?(nt.S=+Pt[0],At+Pt[0].length):-1}function H(nt,et,At){var Pt=h.exec(et.slice(At,At+3));return Pt?(nt.L=+Pt[0],At+Pt[0].length):-1}function Y(nt,et,At){var Pt=h.exec(et.slice(At,At+6));return Pt?(nt.L=Math.floor(Pt[0]/1e3),At+Pt[0].length):-1}function ie(nt,et,At){var Pt=c.exec(et.slice(At,At+1));return Pt?At+Pt[0].length:-1}function re(nt,et,At){var Pt=h.exec(et.slice(At));return Pt?(nt.Q=+Pt[0],At+Pt[0].length):-1}function ne(nt,et,At){var Pt=h.exec(et.slice(At));return Pt?(nt.s=+Pt[0],At+Pt[0].length):-1}function ee(nt,et){return g(nt.getDate(),et,2)}function Q(nt,et){return g(nt.getHours(),et,2)}function X(nt,et){return g(nt.getHours()%12||12,et,2)}function se(nt,et){return g(1+M.c.count((0,b.c)(nt),nt),et,3)}function ce(nt,et){return g(nt.getMilliseconds(),et,3)}function le(nt,et){return ce(nt,et)+"000"}function de(nt,et){return g(nt.getMonth()+1,et,2)}function be(nt,et){return g(nt.getMinutes(),et,2)}function _e(nt,et){return g(nt.getSeconds(),et,2)}function ve(nt){var et=nt.getDay();return et===0?7:et}function me(nt,et){return g(n.uU.count((0,b.c)(nt)-1,nt),et,2)}function ye(nt,et){var At=nt.getDay();return nt=At>=4||At===0?(0,n.kD)(nt):n.kD.ceil(nt),g(n.kD.count((0,b.c)(nt),nt)+((0,b.c)(nt).getDay()===4),et,2)}function Se(nt){return nt.getDay()}function Ie(nt,et){return g(n.qT.count((0,b.c)(nt)-1,nt),et,2)}function xe(nt,et){return g(nt.getFullYear()%100,et,2)}function ue(nt,et){return g(nt.getFullYear()%1e4,et,4)}function ae(nt){var et=nt.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+g(et/60|0,"0",2)+g(et%60,"0",2)}function pe(nt,et){return g(nt.getUTCDate(),et,2)}function De(nt,et){return g(nt.getUTCHours(),et,2)}function Te(nt,et){return g(nt.getUTCHours()%12||12,et,2)}function Ae(nt,et){return g(1+y.c.count((0,f.c)(nt),nt),et,3)}function Ce(nt,et){return g(nt.getUTCMilliseconds(),et,3)}function Re(nt,et){return Ce(nt,et)+"000"}function Ne(nt,et){return g(nt.getUTCMonth()+1,et,2)}function ge(nt,et){return g(nt.getUTCMinutes(),et,2)}function Me(nt,et){return g(nt.getUTCSeconds(),et,2)}function Ee(nt){var et=nt.getUTCDay();return et===0?7:et}function Fe(nt,et){return g(p.EV.count((0,f.c)(nt)-1,nt),et,2)}function Le(nt,et){var At=nt.getUTCDay();return nt=At>=4||At===0?(0,p.yA)(nt):p.yA.ceil(nt),g(p.yA.count((0,f.c)(nt),nt)+((0,f.c)(nt).getUTCDay()===4),et,2)}function Ue(nt){return nt.getUTCDay()}function Ge(nt,et){return g(p.ot.count((0,f.c)(nt)-1,nt),et,2)}function Ke(nt,et){return g(nt.getUTCFullYear()%100,et,2)}function at(nt,et){return g(nt.getUTCFullYear()%1e4,et,4)}function st(){return"+0000"}function vt(){return"%"}function xt(nt){return+nt}function gt(nt){return Math.floor(+nt/1e3)}i=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),a=i.format,i.parse,l=i.utcFormat,i.utcParse},68936:function(S,x,e){"use strict";e.d(x,{m:function(){return M}});var p=e(81628),y=e(69792),n=(0,p.c)(function(b){b.setHours(0,0,0,0)},function(b,f){b.setDate(b.getDate()+f)},function(b,f){return(f-b-(f.getTimezoneOffset()-b.getTimezoneOffset())*y.iy)/y.SK},function(b){return b.getDate()-1});x.c=n;var M=n.range},69792:function(S,x,e){"use strict";e.d(x,{KK:function(){return b},SK:function(){return M},cg:function(){return n},iy:function(){return y},yc:function(){return p}});var p=1e3,y=6e4,n=36e5,M=864e5,b=6048e5},73220:function(S,x,e){"use strict";e.r(x),e.d(x,{timeDay:function(){return h.c},timeDays:function(){return h.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return p.c},timeMillisecond:function(){return n},timeMilliseconds:function(){return M},timeMinute:function(){return r},timeMinutes:function(){return i},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return g},timeMonths:function(){return v},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return m.c},timeYears:function(){return m.Q},utcDay:function(){return D.c},utcDays:function(){return D.o},utcFriday:function(){return O.od},utcFridays:function(){return O.iG},utcHour:function(){return C},utcHours:function(){return k},utcMillisecond:function(){return n},utcMilliseconds:function(){return M},utcMinute:function(){return _},utcMinutes:function(){return A},utcMonday:function(){return O.ot},utcMondays:function(){return O.iO},utcMonth:function(){return R},utcMonths:function(){return z},utcSaturday:function(){return O.Ad},utcSaturdays:function(){return O.K8},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return O.EV},utcSundays:function(){return O.Wq},utcThursday:function(){return O.yA},utcThursdays:function(){return O.ob},utcTuesday:function(){return O.sG},utcTuesdays:function(){return O.kl},utcWednesday:function(){return O._6},utcWednesdays:function(){return O.W_},utcWeek:function(){return O.EV},utcWeeks:function(){return O.Wq},utcYear:function(){return q.c},utcYears:function(){return q.i}});var p=e(81628),y=(0,p.c)(function(){},function(N,V){N.setTime(+N+V)},function(N,V){return V-N});y.every=function(N){return N=Math.floor(N),isFinite(N)&&N>0?N>1?(0,p.c)(function(V){V.setTime(Math.floor(V/N)*N)},function(V,Z){V.setTime(+V+Z*N)},function(V,Z){return(Z-V)/N}):y:null};var n=y,M=y.range,b=e(69792),f=(0,p.c)(function(N){N.setTime(N-N.getMilliseconds())},function(N,V){N.setTime(+N+V*b.yc)},function(N,V){return(V-N)/b.yc},function(N){return N.getUTCSeconds()}),s=f,t=f.range,o=(0,p.c)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*b.yc)},function(N,V){N.setTime(+N+V*b.iy)},function(N,V){return(V-N)/b.iy},function(N){return N.getMinutes()}),r=o,i=o.range,a=(0,p.c)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*b.yc-N.getMinutes()*b.iy)},function(N,V){N.setTime(+N+V*b.cg)},function(N,V){return(V-N)/b.cg},function(N){return N.getHours()}),l=a,u=a.range,h=e(68936),c=e(46192),w=(0,p.c)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,V){N.setMonth(N.getMonth()+V)},function(N,V){return V.getMonth()-N.getMonth()+12*(V.getFullYear()-N.getFullYear())},function(N){return N.getMonth()}),g=w,v=w.range,m=e(32171),T=(0,p.c)(function(N){N.setUTCSeconds(0,0)},function(N,V){N.setTime(+N+V*b.iy)},function(N,V){return(V-N)/b.iy},function(N){return N.getUTCMinutes()}),_=T,A=T.range,d=(0,p.c)(function(N){N.setUTCMinutes(0,0,0)},function(N,V){N.setTime(+N+V*b.cg)},function(N,V){return(V-N)/b.cg},function(N){return N.getUTCHours()}),C=d,k=d.range,D=e(58931),O=e(8208),L=(0,p.c)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,V){N.setUTCMonth(N.getUTCMonth()+V)},function(N,V){return V.getUTCMonth()-N.getUTCMonth()+12*(V.getUTCFullYear()-N.getUTCFullYear())},function(N){return N.getUTCMonth()}),R=L,z=L.range,q=e(53528)},81628:function(S,x,e){"use strict";e.d(x,{c:function(){return n}});var p=new Date,y=new Date;function n(M,b,f,s){function t(o){return M(o=arguments.length===0?new Date:new Date(+o)),o}return t.floor=function(o){return M(o=new Date(+o)),o},t.ceil=function(o){return M(o=new Date(o-1)),b(o,1),M(o),o},t.round=function(o){var r=t(o),i=t.ceil(o);return o-r<i-o?r:i},t.offset=function(o,r){return b(o=new Date(+o),r==null?1:Math.floor(r)),o},t.range=function(o,r,i){var a,l=[];if(o=t.ceil(o),i=i==null?1:Math.floor(i),!(o<r&&i>0))return l;do l.push(a=new Date(+o)),b(o,i),M(o);while(a<o&&o<r);return l},t.filter=function(o){return n(function(r){if(r>=r)for(;M(r),!o(r);)r.setTime(r-1)},function(r,i){if(r>=r)if(i<0)for(;++i<=0;)for(;b(r,-1),!o(r););else for(;--i>=0;)for(;b(r,1),!o(r););})},f&&(t.count=function(o,r){return p.setTime(+o),y.setTime(+r),M(p),M(y),Math.floor(f(p,y))},t.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?t.filter(s?function(r){return s(r)%o==0}:function(r){return t.count(0,r)%o==0}):t:null}),t}},58931:function(S,x,e){"use strict";e.d(x,{o:function(){return M}});var p=e(81628),y=e(69792),n=(0,p.c)(function(b){b.setUTCHours(0,0,0,0)},function(b,f){b.setUTCDate(b.getUTCDate()+f)},function(b,f){return(f-b)/y.SK},function(b){return b.getUTCDate()-1});x.c=n;var M=n.range},8208:function(S,x,e){"use strict";e.d(x,{Ad:function(){return r},EV:function(){return M},K8:function(){return w},W_:function(){return u},Wq:function(){return i},_6:function(){return s},iG:function(){return c},iO:function(){return a},kl:function(){return l},ob:function(){return h},od:function(){return o},ot:function(){return b},sG:function(){return f},yA:function(){return t}});var p=e(81628),y=e(69792);function n(g){return(0,p.c)(function(v){v.setUTCDate(v.getUTCDate()-(v.getUTCDay()+7-g)%7),v.setUTCHours(0,0,0,0)},function(v,m){v.setUTCDate(v.getUTCDate()+7*m)},function(v,m){return(m-v)/y.KK})}var M=n(0),b=n(1),f=n(2),s=n(3),t=n(4),o=n(5),r=n(6),i=M.range,a=b.range,l=f.range,u=s.range,h=t.range,c=o.range,w=r.range},53528:function(S,x,e){"use strict";e.d(x,{i:function(){return n}});var p=e(81628),y=(0,p.c)(function(M){M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,b){M.setUTCFullYear(M.getUTCFullYear()+b)},function(M,b){return b.getUTCFullYear()-M.getUTCFullYear()},function(M){return M.getUTCFullYear()});y.every=function(M){return isFinite(M=Math.floor(M))&&M>0?(0,p.c)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/M)*M),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,f){b.setUTCFullYear(b.getUTCFullYear()+f*M)}):null},x.c=y;var n=y.range},46192:function(S,x,e){"use strict";e.d(x,{Ab:function(){return i},Mf:function(){return f},Oc:function(){return l},QP:function(){return a},Wc:function(){return r},aI:function(){return w},eC:function(){return h},eg:function(){return s},iB:function(){return o},kD:function(){return t},qT:function(){return b},sJ:function(){return c},sn:function(){return u},uU:function(){return M}});var p=e(81628),y=e(69792);function n(g){return(0,p.c)(function(v){v.setDate(v.getDate()-(v.getDay()+7-g)%7),v.setHours(0,0,0,0)},function(v,m){v.setDate(v.getDate()+7*m)},function(v,m){return(m-v-(m.getTimezoneOffset()-v.getTimezoneOffset())*y.iy)/y.KK})}var M=n(0),b=n(1),f=n(2),s=n(3),t=n(4),o=n(5),r=n(6),i=M.range,a=b.range,l=f.range,u=s.range,h=t.range,c=o.range,w=r.range},32171:function(S,x,e){"use strict";e.d(x,{Q:function(){return n}});var p=e(81628),y=(0,p.c)(function(M){M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,b){M.setFullYear(M.getFullYear()+b)},function(M,b){return b.getFullYear()-M.getFullYear()},function(M){return M.getFullYear()});y.every=function(M){return isFinite(M=Math.floor(M))&&M>0?(0,p.c)(function(b){b.setFullYear(Math.floor(b.getFullYear()/M)*M),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,f){b.setFullYear(b.getFullYear()+f*M)}):null},x.c=y;var n=y.range},64348:function(S,x,e){"use strict";var p=e(39640)(),y=e(53664),n=p&&y("%Object.defineProperty%",!0);if(n)try{n({},"a",{value:1})}catch{n=!1}var M=y("%SyntaxError%"),b=y("%TypeError%"),f=e(2304);S.exports=function(s,t,o){if(!s||typeof s!="object"&&typeof s!="function")throw new b("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new b("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new b("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new b("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new b("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new b("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],u=!!f&&f(s,t);if(n)n(s,t,{configurable:a===null&&u?u.configurable:!a,enumerable:r===null&&u?u.enumerable:!r,value:o,writable:i===null&&u?u.writable:!i});else{if(!l&&(r||i||a))throw new M("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[t]=o}}},81288:function(S,x,e){"use strict";var p=e(41820),y=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,M=Array.prototype.concat,b=Object.defineProperty,f=e(39640)(),s=b&&f,t=function(r,i,a,l){if(i in r){if(l===!0){if(r[i]===a)return}else if(typeof(u=l)!="function"||n.call(u)!=="[object Function]"||!l())return}var u;s?b(r,i,{configurable:!0,enumerable:!1,value:a,writable:!0}):r[i]=a},o=function(r,i){var a=arguments.length>2?arguments[2]:{},l=p(i);y&&(l=M.call(l,Object.getOwnPropertySymbols(i)));for(var u=0;u<l.length;u+=1)t(r,l[u],i[l[u]],a[l[u]])};o.supportsDescriptors=!!s,S.exports=o},31264:function(S){S.exports=function(){for(var x=0;x<arguments.length;x++)if(arguments[x]!==void 0)return arguments[x]}},63768:function(S){"use strict";S.exports=p;var x=(p.canvas=document.createElement("canvas")).getContext("2d"),e=y([32,126]);function p(n,M){Array.isArray(n)&&(n=n.join(", "));var b,f={},s=16,t=.05;M&&(M.length===2&&typeof M[0]=="number"?b=y(M):Array.isArray(M)?b=M:(M.o?b=y(M.o):M.pairs&&(b=M.pairs),M.fontSize&&(s=M.fontSize),M.threshold!=null&&(t=M.threshold))),b||(b=e),x.font=s+"px "+n;for(var o=0;o<b.length;o++){var r=b[o],i=x.measureText(r[0]).width+x.measureText(r[1]).width,a=x.measureText(r).width;if(Math.abs(i-a)>s*t){var l=(a-i)/s;f[r]=1e3*l}}return f}function y(n){for(var M=[],b=n[0];b<=n[1];b++)for(var f=String.fromCharCode(b),s=n[0];s<n[1];s++){var t=f+String.fromCharCode(s);M.push(t)}return M}p.createPairs=y,p.ascii=e},22235:function(S,x,e){var p=e(49972),y=e(48816),n={M:"moveTo",C:"bezierCurveTo"};S.exports=function(M,b){M.beginPath(),y(p(b)).forEach(function(f){var s=f[0],t=f.slice(1);M[n[s]].apply(M,t)}),M.closePath()}},72512:function(S){S.exports=function(x){switch(x){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(S){"use strict";function x(e,p,y){var n=0|e[y];if(n<=0)return[];var M,b=new Array(n);if(y===e.length-1)for(M=0;M<n;++M)b[M]=p;else for(M=0;M<n;++M)b[M]=x(e,p,y+1);return b}S.exports=function(e,p){switch(p===void 0&&(p=0),typeof e){case"number":if(e>0)return function(y,n){var M,b;for(M=new Array(y),b=0;b<y;++b)M[b]=n;return M}(0|e,p);break;case"object":if(typeof e.length=="number")return x(e,p,0)}return[]}},28912:function(S){"use strict";function x(C,k,D){D=D||2;var O,L,R,z,q,N,V,Z=k&&k.length,j=Z?k[0]*D:C.length,H=e(C,0,j,D,!0),Y=[];if(!H||H.next===H.prev)return Y;if(Z&&(H=function(re,ne,ee,Q){var X,se,ce,le=[];for(X=0,se=ne.length;X<se;X++)(ce=e(re,ne[X]*Q,X<se-1?ne[X+1]*Q:re.length,Q,!1))===ce.next&&(ce.steiner=!0),le.push(i(ce));for(le.sort(s),X=0;X<le.length;X++)t(le[X],ee),ee=p(ee,ee.next);return ee}(C,k,H,D)),C.length>80*D){O=R=C[0],L=z=C[1];for(var ie=D;ie<j;ie+=D)(q=C[ie])<O&&(O=q),(N=C[ie+1])<L&&(L=N),q>R&&(R=q),N>z&&(z=N);V=(V=Math.max(R-O,z-L))!==0?1/V:0}return y(H,Y,D,O,L,V),Y}function e(C,k,D,O,L){var R,z;if(L===d(C,k,D,O)>0)for(R=k;R<D;R+=O)z=T(R,C[R],C[R+1],z);else for(R=D-O;R>=k;R-=O)z=T(R,C[R],C[R+1],z);return z&&h(z,z.next)&&(_(z),z=z.next),z}function p(C,k){if(!C)return C;k||(k=C);var D,O=C;do if(D=!1,O.steiner||!h(O,O.next)&&u(O.prev,O,O.next)!==0)O=O.next;else{if(_(O),(O=k=O.prev)===O.next)break;D=!0}while(D||O!==k);return k}function y(C,k,D,O,L,R,z){if(C){!z&&R&&function(Z,j,H,Y){var ie=Z;do ie.z===null&&(ie.z=r(ie.x,ie.y,j,H,Y)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==Z);ie.prevZ.nextZ=null,ie.prevZ=null,function(re){var ne,ee,Q,X,se,ce,le,de,be=1;do{for(ee=re,re=null,se=null,ce=0;ee;){for(ce++,Q=ee,le=0,ne=0;ne<be&&(le++,Q=Q.nextZ);ne++);for(de=be;le>0||de>0&&Q;)le!==0&&(de===0||!Q||ee.z<=Q.z)?(X=ee,ee=ee.nextZ,le--):(X=Q,Q=Q.nextZ,de--),se?se.nextZ=X:re=X,X.prevZ=se,se=X;ee=Q}se.nextZ=null,be*=2}while(ce>1)}(ie)}(C,O,L,R);for(var q,N,V=C;C.prev!==C.next;)if(q=C.prev,N=C.next,R?M(C,O,L,R):n(C))k.push(q.i/D),k.push(C.i/D),k.push(N.i/D),_(C),C=N.next,V=N.next;else if((C=N)===V){z?z===1?y(C=b(p(C),k,D),k,D,O,L,R,2):z===2&&f(C,k,D,O,L,R):y(p(C),k,D,O,L,R,1);break}}}function n(C){var k=C.prev,D=C,O=C.next;if(u(k,D,O)>=0)return!1;for(var L=C.next.next;L!==C.prev;){if(a(k.x,k.y,D.x,D.y,O.x,O.y,L.x,L.y)&&u(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function M(C,k,D,O){var L=C.prev,R=C,z=C.next;if(u(L,R,z)>=0)return!1;for(var q=L.x<R.x?L.x<z.x?L.x:z.x:R.x<z.x?R.x:z.x,N=L.y<R.y?L.y<z.y?L.y:z.y:R.y<z.y?R.y:z.y,V=L.x>R.x?L.x>z.x?L.x:z.x:R.x>z.x?R.x:z.x,Z=L.y>R.y?L.y>z.y?L.y:z.y:R.y>z.y?R.y:z.y,j=r(q,N,k,D,O),H=r(V,Z,k,D,O),Y=C.prevZ,ie=C.nextZ;Y&&Y.z>=j&&ie&&ie.z<=H;){if(Y!==C.prev&&Y!==C.next&&a(L.x,L.y,R.x,R.y,z.x,z.y,Y.x,Y.y)&&u(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,ie!==C.prev&&ie!==C.next&&a(L.x,L.y,R.x,R.y,z.x,z.y,ie.x,ie.y)&&u(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;Y&&Y.z>=j;){if(Y!==C.prev&&Y!==C.next&&a(L.x,L.y,R.x,R.y,z.x,z.y,Y.x,Y.y)&&u(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;ie&&ie.z<=H;){if(ie!==C.prev&&ie!==C.next&&a(L.x,L.y,R.x,R.y,z.x,z.y,ie.x,ie.y)&&u(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function b(C,k,D){var O=C;do{var L=O.prev,R=O.next.next;!h(L,R)&&c(L,O,O.next,R)&&v(L,R)&&v(R,L)&&(k.push(L.i/D),k.push(O.i/D),k.push(R.i/D),_(O),_(O.next),O=C=R),O=O.next}while(O!==C);return p(O)}function f(C,k,D,O,L,R){var z=C;do{for(var q=z.next.next;q!==z.prev;){if(z.i!==q.i&&l(z,q)){var N=m(z,q);return z=p(z,z.next),N=p(N,N.next),y(z,k,D,O,L,R),void y(N,k,D,O,L,R)}q=q.next}z=z.next}while(z!==C)}function s(C,k){return C.x-k.x}function t(C,k){if(k=function(O,L){var R,z=L,q=O.x,N=O.y,V=-1/0;do{if(N<=z.y&&N>=z.next.y&&z.next.y!==z.y){var Z=z.x+(N-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Z<=q&&Z>V){if(V=Z,Z===q){if(N===z.y)return z;if(N===z.next.y)return z.next}R=z.x<z.next.x?z:z.next}}z=z.next}while(z!==L);if(!R)return null;if(q===V)return R;var j,H=R,Y=R.x,ie=R.y,re=1/0;z=R;do q>=z.x&&z.x>=Y&&q!==z.x&&a(N<ie?q:V,N,Y,ie,N<ie?V:q,N,z.x,z.y)&&(j=Math.abs(N-z.y)/(q-z.x),v(z,O)&&(j<re||j===re&&(z.x>R.x||z.x===R.x&&o(R,z)))&&(R=z,re=j)),z=z.next;while(z!==H);return R}(C,k),k){var D=m(k,C);p(k,k.next),p(D,D.next)}}function o(C,k){return u(C.prev,C,k.prev)<0&&u(k.next,C,C.next)<0}function r(C,k,D,O,L){return(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-D)*L)|C<<8))|C<<4))|C<<2))|C<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-O)*L)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function i(C){var k=C,D=C;do(k.x<D.x||k.x===D.x&&k.y<D.y)&&(D=k),k=k.next;while(k!==C);return D}function a(C,k,D,O,L,R,z,q){return(L-z)*(k-q)-(C-z)*(R-q)>=0&&(C-z)*(O-q)-(D-z)*(k-q)>=0&&(D-z)*(R-q)-(L-z)*(O-q)>=0}function l(C,k){return C.next.i!==k.i&&C.prev.i!==k.i&&!function(D,O){var L=D;do{if(L.i!==D.i&&L.next.i!==D.i&&L.i!==O.i&&L.next.i!==O.i&&c(L,L.next,D,O))return!0;L=L.next}while(L!==D);return!1}(C,k)&&(v(C,k)&&v(k,C)&&function(D,O){var L=D,R=!1,z=(D.x+O.x)/2,q=(D.y+O.y)/2;do L.y>q!=L.next.y>q&&L.next.y!==L.y&&z<(L.next.x-L.x)*(q-L.y)/(L.next.y-L.y)+L.x&&(R=!R),L=L.next;while(L!==D);return R}(C,k)&&(u(C.prev,C,k.prev)||u(C,k.prev,k))||h(C,k)&&u(C.prev,C,C.next)>0&&u(k.prev,k,k.next)>0)}function u(C,k,D){return(k.y-C.y)*(D.x-k.x)-(k.x-C.x)*(D.y-k.y)}function h(C,k){return C.x===k.x&&C.y===k.y}function c(C,k,D,O){var L=g(u(C,k,D)),R=g(u(C,k,O)),z=g(u(D,O,C)),q=g(u(D,O,k));return L!==R&&z!==q||!(L!==0||!w(C,D,k))||!(R!==0||!w(C,O,k))||!(z!==0||!w(D,C,O))||!(q!==0||!w(D,k,O))}function w(C,k,D){return k.x<=Math.max(C.x,D.x)&&k.x>=Math.min(C.x,D.x)&&k.y<=Math.max(C.y,D.y)&&k.y>=Math.min(C.y,D.y)}function g(C){return C>0?1:C<0?-1:0}function v(C,k){return u(C.prev,C,C.next)<0?u(C,k,C.next)>=0&&u(C,C.prev,k)>=0:u(C,k,C.prev)<0||u(C,C.next,k)<0}function m(C,k){var D=new A(C.i,C.x,C.y),O=new A(k.i,k.x,k.y),L=C.next,R=k.prev;return C.next=k,k.prev=C,D.next=L,L.prev=D,O.next=D,D.prev=O,R.next=O,O.prev=R,O}function T(C,k,D,O){var L=new A(C,k,D);return O?(L.next=O.next,L.prev=O,O.next.prev=L,O.next=L):(L.prev=L,L.next=L),L}function _(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function A(C,k,D){this.i=C,this.x=k,this.y=D,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function d(C,k,D,O){for(var L=0,R=k,z=D-O;R<D;R+=O)L+=(C[z]-C[R])*(C[R+1]+C[z+1]),z=R;return L}S.exports=x,S.exports.default=x,x.deviation=function(C,k,D,O){var L=k&&k.length,R=L?k[0]*D:C.length,z=Math.abs(d(C,0,R,D));if(L)for(var q=0,N=k.length;q<N;q++){var V=k[q]*D,Z=q<N-1?k[q+1]*D:C.length;z-=Math.abs(d(C,V,Z,D))}var j=0;for(q=0;q<O.length;q+=3){var H=O[q]*D,Y=O[q+1]*D,ie=O[q+2]*D;j+=Math.abs((C[H]-C[ie])*(C[Y+1]-C[H+1])-(C[H]-C[Y])*(C[ie+1]-C[H+1]))}return z===0&&j===0?0:Math.abs((j-z)/z)},x.flatten=function(C){for(var k=C[0][0].length,D={vertices:[],holes:[],dimensions:k},O=0,L=0;L<C.length;L++){for(var R=0;R<C[L].length;R++)for(var z=0;z<k;z++)D.vertices.push(C[L][R][z]);L>0&&(O+=C[L-1].length,D.holes.push(O))}return D}},6688:function(S,x,e){var p=e(78484);S.exports=function(y,n){var M,b=[],f=[],s=[],t={},o=[];function r(v){s[v]=!1,t.hasOwnProperty(v)&&Object.keys(t[v]).forEach(function(m){delete t[v][m],s[m]&&r(m)})}function i(v){var m,T,_=!1;for(f.push(v),s[v]=!0,m=0;m<o[v].length;m++)(T=o[v][m])===M?(a(M,f),_=!0):s[T]||(_=i(T));if(_)r(v);else for(m=0;m<o[v].length;m++){T=o[v][m];var A=t[T];A||(A={},t[T]=A),A[T]=!0}return f.pop(),_}function a(v,m){var T=[].concat(m).concat(v);n?n(i):b.push(T)}function l(v){(function(D){for(var O=0;O<y.length;O++)O<D&&(y[O]=[]),y[O]=y[O].filter(function(L){return L>=D})})(v);for(var m,T=p(y).components.filter(function(D){return D.length>1}),_=1/0,A=0;A<T.length;A++)for(var d=0;d<T[A].length;d++)T[A][d]<_&&(_=T[A][d],m=A);var C=T[m];if(!C)return!1;var k=y.map(function(D,O){return C.indexOf(O)===-1?[]:D.filter(function(L){return C.indexOf(L)!==-1})});return{leastVertex:_,adjList:k}}M=0;for(var u=y.length;M<u;){var h=l(M);if(M=h.leastVertex,o=h.adjList){for(var c=0;c<o.length;c++)for(var w=0;w<o[c].length;w++){var g=o[c][w];s[+g]=!1,t[g]={}}i(M),M+=1}else M=u}return n?void 0:b}},41476:function(S,x,e){"use strict";var p=e(9252);S.exports=function(){return p(this).length=0,this}},74772:function(S,x,e){"use strict";S.exports=e(44716)()?Array.from:e(80816)},44716:function(S){"use strict";S.exports=function(){var x,e,p=Array.from;return typeof p=="function"&&(e=p(x=["raz","dwa"]),!!(e&&e!==x&&e[1]==="dwa"))}},80816:function(S,x,e){"use strict";var p=e(92664).iterator,y=e(60948),n=e(17024),M=e(81304),b=e(34044),f=e(9252),s=e(42584),t=e(29768),o=Array.isArray,r=Function.prototype.call,i={configurable:!0,enumerable:!0,writable:!0,value:null},a=Object.defineProperty;S.exports=function(l){var u,h,c,w,g,v,m,T,_,A,d=arguments[1],C=arguments[2];if(l=Object(f(l)),s(d)&&b(d),this&&this!==Array&&n(this))u=this;else{if(!d){if(y(l))return(g=l.length)!==1?Array.apply(null,l):((w=new Array(1))[0]=l[0],w);if(o(l)){for(w=new Array(g=l.length),h=0;h<g;++h)w[h]=l[h];return w}}w=[]}if(!o(l)){if((_=l[p])!==void 0){for(m=b(_).call(l),u&&(w=new u),T=m.next(),h=0;!T.done;)A=d?r.call(d,C,T.value,h):T.value,u?(i.value=A,a(w,h,i)):w[h]=A,T=m.next(),++h;g=h}else if(t(l)){for(g=l.length,u&&(w=new u),h=0,c=0;h<g;++h)A=l[h],h+1<g&&(v=A.charCodeAt(0))>=55296&&v<=56319&&(A+=l[++h]),A=d?r.call(d,C,A,c):A,u?(i.value=A,a(w,c,i)):w[c]=A,++c;g=c}}if(g===void 0)for(g=M(l.length),u&&(w=new u(g)),h=0;h<g;++h)A=d?r.call(d,C,l[h],h):l[h],u?(i.value=A,a(w,h,i)):w[h]=A;return u&&(i.value=null,w.length=g),w}},60948:function(S){"use strict";var x=Object.prototype.toString,e=x.call(function(){return arguments}());S.exports=function(p){return x.call(p)===e}},17024:function(S){"use strict";var x=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);S.exports=function(p){return typeof p=="function"&&e(x.call(p))}},33208:function(S){"use strict";S.exports=function(){}},85608:function(S,x,e){"use strict";S.exports=e(37328)()?Math.sign:e(92928)},37328:function(S){"use strict";S.exports=function(){var x=Math.sign;return typeof x=="function"&&x(10)===1&&x(-20)===-1}},92928:function(S){"use strict";S.exports=function(x){return x=Number(x),isNaN(x)||x===0?x:x>0?1:-1}},96936:function(S,x,e){"use strict";var p=e(85608),y=Math.abs,n=Math.floor;S.exports=function(M){return isNaN(M)?0:(M=Number(M))!==0&&isFinite(M)?p(M)*n(y(M)):M}},81304:function(S,x,e){"use strict";var p=e(96936),y=Math.max;S.exports=function(n){return y(0,p(n))}},14428:function(S,x,e){"use strict";var p=e(34044),y=e(9252),n=Function.prototype.bind,M=Function.prototype.call,b=Object.keys,f=Object.prototype.propertyIsEnumerable;S.exports=function(s,t){return function(o,r){var i,a=arguments[2],l=arguments[3];return o=Object(y(o)),p(r),i=b(o),l&&i.sort(typeof l=="function"?n.call(l,o):void 0),typeof s!="function"&&(s=i[s]),M.call(s,i,function(u,h){return f.call(o,u)?M.call(r,a,o[u],u,o,h):t})}}},38452:function(S,x,e){"use strict";S.exports=e(96276)()?Object.assign:e(81892)},96276:function(S){"use strict";S.exports=function(){var x,e=Object.assign;return typeof e=="function"&&(e(x={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),x.foo+x.bar+x.trzy==="razdwatrzy")}},81892:function(S,x,e){"use strict";var p=e(54768),y=e(9252),n=Math.max;S.exports=function(M,b){var f,s,t,o=n(arguments.length,2);for(M=Object(y(M)),t=function(r){try{M[r]=b[r]}catch(i){f||(f=i)}},s=1;s<o;++s)p(b=arguments[s]).forEach(t);if(f!==void 0)throw f;return M}},95920:function(S,x,e){"use strict";var p=e(74772),y=e(38452),n=e(9252);S.exports=function(M){var b=Object(n(M)),f=arguments[1],s=Object(arguments[2]);if(b!==M&&!f)return b;var t={};return f?p(f,function(o){(s.ensure||o in M)&&(t[o]=M[o])}):y(t,M),t}},14452:function(S,x,e){"use strict";var p,y,n,M,b=Object.create;e(63092)()||(p=e(8672)),S.exports=p?p.level!==1?b:(y={},n={},M={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(f){n[f]=f!=="__proto__"?M:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(y,n),Object.defineProperty(p,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:y}),function(f,s){return b(f===null?y:f,s)}):b},42748:function(S,x,e){"use strict";S.exports=e(14428)("forEach")},69127:function(S,x,e){"use strict";var p=e(42584),y={function:!0,object:!0};S.exports=function(n){return p(n)&&y[typeof n]||!1}},42584:function(S,x,e){"use strict";var p=e(33208)();S.exports=function(y){return y!==p&&y!==null}},54768:function(S,x,e){"use strict";S.exports=e(87888)()?Object.keys:e(89592)},87888:function(S){"use strict";S.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(S,x,e){"use strict";var p=e(42584),y=Object.keys;S.exports=function(n){return y(p(n)?Object(n):n)}},84323:function(S,x,e){"use strict";var p=e(34044),y=e(42748),n=Function.prototype.call;S.exports=function(M,b){var f={},s=arguments[2];return p(b),y(M,function(t,o,r,i){f[o]=n.call(b,s,t,o,r,i)}),f}},50868:function(S,x,e){"use strict";var p=e(42584),y=Array.prototype.forEach,n=Object.create;S.exports=function(M){var b=n(null);return y.call(arguments,function(f){p(f)&&function(s,t){var o;for(o in s)t[o]=s[o]}(Object(f),b)}),b}},69932:function(S,x,e){"use strict";S.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(S){"use strict";var x=Object.create,e=Object.getPrototypeOf,p={};S.exports=function(){var y=Object.setPrototypeOf;return typeof y=="function"&&e(y((arguments[0]||x)(null),p))===p}},8672:function(S,x,e){"use strict";var p,y,n,M,b=e(69127),f=e(9252),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,o={configurable:!0,enumerable:!1,writable:!0,value:void 0};p=function(r,i){if(f(r),i===null||b(i))return r;throw new TypeError("Prototype must be null or an object")},S.exports=(y=function(){var r,i=Object.create(null),a={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(r=l.set).call(i,a)}catch{}if(Object.getPrototypeOf(i)===a)return{set:r,level:2}}return i.__proto__=a,Object.getPrototypeOf(i)===a?{level:2}:((i={}).__proto__=a,Object.getPrototypeOf(i)===a&&{level:1})}(),y?(y.level===2?y.set?(M=y.set,n=function(r,i){return M.call(p(r,i),i),r}):n=function(r,i){return p(r,i).__proto__=i,r}:n=function r(i,a){var l;return p(i,a),(l=s.call(r.nullPolyfill,i))&&delete r.nullPolyfill.__proto__,a===null&&(a=r.nullPolyfill),i.__proto__=a,l&&t(r.nullPolyfill,"__proto__",o),i},Object.defineProperty(n,"level",{configurable:!1,enumerable:!1,writable:!1,value:y.level})):null),e(14452)},34044:function(S){"use strict";S.exports=function(x){if(typeof x!="function")throw new TypeError(x+" is not a function");return x}},92584:function(S,x,e){"use strict";var p=e(69127);S.exports=function(y){if(!p(y))throw new TypeError(y+" is not an Object");return y}},9252:function(S,x,e){"use strict";var p=e(42584);S.exports=function(y){if(!p(y))throw new TypeError("Cannot use null or undefined");return y}},71056:function(S,x,e){"use strict";S.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(S){"use strict";var x="razdwatrzy";S.exports=function(){return typeof x.contains=="function"&&x.contains("dwa")===!0&&x.contains("foo")===!1}},93040:function(S){"use strict";var x=String.prototype.indexOf;S.exports=function(e){return x.call(this,e,arguments[1])>-1}},29768:function(S){"use strict";var x=Object.prototype.toString,e=x.call("");S.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||x.call(p)===e)||!1}},82252:function(S){"use strict";var x=Object.create(null),e=Math.random;S.exports=function(){var p;do p=e().toString(36).slice(2);while(x[p]);return p}},52104:function(S,x,e){"use strict";var p,y=e(69932),n=e(71056),M=e(21092),b=e(92664),f=e(85512),s=Object.defineProperty;p=S.exports=function(t,o){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");f.call(this,t),o=o?n.call(o,"key+value")?"key+value":n.call(o,"key")?"key":"value":"value",s(this,"__kind__",M("",o))},y&&y(p,f),delete p.prototype.constructor,p.prototype=Object.create(f.prototype,{_resolve:M(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),s(p.prototype,b.toStringTag,M("c","Array Iterator"))},76024:function(S,x,e){"use strict";var p=e(60948),y=e(34044),n=e(29768),M=e(76252),b=Array.isArray,f=Function.prototype.call,s=Array.prototype.some;S.exports=function(t,o){var r,i,a,l,u,h,c,w,g=arguments[2];if(b(t)||p(t)?r="array":n(t)?r="string":t=M(t),y(o),a=function(){l=!0},r!=="array")if(r!=="string")for(i=t.next();!i.done;){if(f.call(o,g,i.value,a),l)return;i=t.next()}else for(h=t.length,u=0;u<h&&(c=t[u],u+1<h&&(w=c.charCodeAt(0))>=55296&&w<=56319&&(c+=t[++u]),f.call(o,g,c,a),!l);++u);else s.call(t,function(v){return f.call(o,g,v,a),l})}},76252:function(S,x,e){"use strict";var p=e(60948),y=e(29768),n=e(52104),M=e(80940),b=e(52891),f=e(92664).iterator;S.exports=function(s){return typeof b(s)[f]=="function"?s[f]():p(s)?new n(s):y(s)?new M(s):new n(s)}},85512:function(S,x,e){"use strict";var p,y=e(41476),n=e(38452),M=e(34044),b=e(9252),f=e(21092),s=e(27940),t=e(92664),o=Object.defineProperty,r=Object.defineProperties;S.exports=p=function(i,a){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");r(this,{__list__:f("w",b(i)),__context__:f("w",a),__nextIndex__:f("w",0)}),a&&(M(a.on),a.on("_add",this._onAdd),a.on("_delete",this._onDelete),a.on("_clear",this._onClear))},delete p.prototype.constructor,r(p.prototype,n({_next:f(function(){var i;if(this.__list__)return this.__redo__&&(i=this.__redo__.shift())!==void 0?i:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:f(function(){return this._createResult(this._next())}),_createResult:f(function(i){return i===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}}),_resolve:f(function(i){return this.__list__[i]}),_unBind:f(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:f(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:f(function(i){i>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(a,l){a>=i&&(this.__redo__[l]=++a)},this),this.__redo__.push(i)):o(this,"__redo__",f("c",[i])))}),_onDelete:f(function(i){var a;i>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((a=this.__redo__.indexOf(i))!==-1&&this.__redo__.splice(a,1),this.__redo__.forEach(function(l,u){l>i&&(this.__redo__[u]=--l)},this)))}),_onClear:f(function(){this.__redo__&&y.call(this.__redo__),this.__nextIndex__=0})}))),o(p.prototype,t.iterator,f(function(){return this}))},76368:function(S,x,e){"use strict";var p=e(60948),y=e(42584),n=e(29768),M=e(92664).iterator,b=Array.isArray;S.exports=function(f){return!(!y(f)||!b(f)&&!n(f)&&!p(f)&&typeof f[M]!="function")}},80940:function(S,x,e){"use strict";var p,y=e(69932),n=e(21092),M=e(92664),b=e(85512),f=Object.defineProperty;p=S.exports=function(s){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");s=String(s),b.call(this,s),f(this,"__length__",n("",s.length))},y&&y(p,b),delete p.prototype.constructor,p.prototype=Object.create(b.prototype,{_next:n(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:n(function(s){var t,o=this.__list__[s];return this.__nextIndex__===this.__length__?o:(t=o.charCodeAt(0))>=55296&&t<=56319?o+this.__list__[this.__nextIndex__++]:o})}),f(p.prototype,M.toStringTag,n("c","String Iterator"))},52891:function(S,x,e){"use strict";var p=e(76368);S.exports=function(y){if(!p(y))throw new TypeError(y+" is not iterable");return y}},60964:function(S){"use strict";function x(e,p){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var y=Object(e),n=1;n<arguments.length;n++){var M=arguments[n];if(M!=null)for(var b=Object.keys(Object(M)),f=0,s=b.length;f<s;f++){var t=b[f],o=Object.getOwnPropertyDescriptor(M,t);o!==void 0&&o.enumerable&&(y[t]=M[t])}}return y}S.exports={assign:x,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:x})}}},92664:function(S,x,e){"use strict";S.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(S,x,e){"use strict";var p=e(12296),y={object:!0,symbol:!0};S.exports=function(){var n,M=p.Symbol;if(typeof M!="function")return!1;n=M("test symbol");try{String(n)}catch{return!1}return!!y[typeof M.iterator]&&!!y[typeof M.toPrimitive]&&!!y[typeof M.toStringTag]}},53908:function(S){"use strict";S.exports=function(x){return!!x&&(typeof x=="symbol"||!!x.constructor&&x.constructor.name==="Symbol"&&x[x.constructor.toStringTag]==="Symbol")}},96863:function(S,x,e){"use strict";var p=e(21092),y=Object.create,n=Object.defineProperty,M=Object.prototype,b=y(null);S.exports=function(f){for(var s,t,o=0;b[f+(o||"")];)++o;return b[f+=o||""]=!0,n(M,s="@@"+f,p.gs(null,function(r){t||(t=!0,n(this,s,p(r)),t=!1)})),s}},53540:function(S,x,e){"use strict";var p=e(21092),y=e(12296).Symbol;S.exports=function(n){return Object.defineProperties(n,{hasInstance:p("",y&&y.hasInstance||n("hasInstance")),isConcatSpreadable:p("",y&&y.isConcatSpreadable||n("isConcatSpreadable")),iterator:p("",y&&y.iterator||n("iterator")),match:p("",y&&y.match||n("match")),replace:p("",y&&y.replace||n("replace")),search:p("",y&&y.search||n("search")),species:p("",y&&y.species||n("species")),split:p("",y&&y.split||n("split")),toPrimitive:p("",y&&y.toPrimitive||n("toPrimitive")),toStringTag:p("",y&&y.toStringTag||n("toStringTag")),unscopables:p("",y&&y.unscopables||n("unscopables"))})}},73852:function(S,x,e){"use strict";var p=e(21092),y=e(63948),n=Object.create(null);S.exports=function(M){return Object.defineProperties(M,{for:p(function(b){return n[b]?n[b]:n[b]=M(String(b))}),keyFor:p(function(b){var f;for(f in y(b),n)if(n[f]===b)return f})})}},18376:function(S,x,e){"use strict";var p,y,n,M=e(21092),b=e(63948),f=e(12296).Symbol,s=e(96863),t=e(53540),o=e(73852),r=Object.create,i=Object.defineProperties,a=Object.defineProperty;if(typeof f=="function")try{String(f()),n=!0}catch{}else f=null;y=function(l){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return p(l)},S.exports=p=function l(u){var h;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return n?f(u):(h=r(y.prototype),u=u===void 0?"":String(u),i(h,{__description__:M("",u),__name__:M("",s(u))}))},t(p),o(p),i(y.prototype,{constructor:M(p),toString:M("",function(){return this.__name__})}),i(p.prototype,{toString:M(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:M(function(){return b(this)})}),a(p.prototype,p.toPrimitive,M("",function(){var l=b(this);return typeof l=="symbol"?l:l.toString()})),a(p.prototype,p.toStringTag,M("c","Symbol")),a(y.prototype,p.toStringTag,M("c",p.prototype[p.toStringTag])),a(y.prototype,p.toPrimitive,M("c",p.prototype[p.toPrimitive]))},63948:function(S,x,e){"use strict";var p=e(53908);S.exports=function(y){if(!p(y))throw new TypeError(y+" is not a symbol");return y}},60463:function(S,x,e){"use strict";S.exports=e(96979)()?WeakMap:e(64864)},96979:function(S){"use strict";S.exports=function(){var x,e;if(typeof WeakMap!="function")return!1;try{x=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(x)==="[object WeakMap]"&&typeof x.set=="function"&&x.set({},1)===x&&typeof x.delete=="function"&&typeof x.has=="function"&&x.get(e)==="one"}},69876:function(S){"use strict";S.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(S,x,e){"use strict";var p,y=e(42584),n=e(69932),M=e(92584),b=e(9252),f=e(82252),s=e(21092),t=e(76252),o=e(76024),r=e(92664).toStringTag,i=e(69876),a=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,h=Object.getPrototypeOf;S.exports=p=function(){var c,w=arguments[0];if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");return c=i&&n&&WeakMap!==p?n(new WeakMap,h(this)):this,y(w)&&(a(w)||(w=t(w))),l(c,"__weakMapData__",s("c","$weakMap$"+f())),w&&o(w,function(g){b(g),c.set(g[0],g[1])}),c},i&&(n&&n(p,WeakMap),p.prototype=Object.create(WeakMap.prototype,{constructor:s(p)})),Object.defineProperties(p.prototype,{delete:s(function(c){return!!u.call(M(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(M(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(M(c),this.__weakMapData__)}),set:s(function(c,w){return l(M(c),this.__weakMapData__,s("c",w)),this}),toString:s(function(){return"[object WeakMap]"})}),l(p.prototype,r,s("c","WeakMap"))},61252:function(S){"use strict";var x,e=typeof Reflect=="object"?Reflect:null,p=e&&typeof e.apply=="function"?e.apply:function(u,h,c){return Function.prototype.apply.call(u,h,c)};x=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var y=Number.isNaN||function(u){return u!=u};function n(){n.init.call(this)}S.exports=n,S.exports.once=function(u,h){return new Promise(function(c,w){function g(m){u.removeListener(h,v),w(m)}function v(){typeof u.removeListener=="function"&&u.removeListener("error",g),c([].slice.call(arguments))}l(u,h,v,{once:!0}),h!=="error"&&function(m,T,_){typeof m.on=="function"&&l(m,"error",T,{once:!0})}(u,g)})},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var M=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function f(u){return u._maxListeners===void 0?n.defaultMaxListeners:u._maxListeners}function s(u,h,c,w){var g,v,m,T;if(b(c),(v=u._events)===void 0?(v=u._events=Object.create(null),u._eventsCount=0):(v.newListener!==void 0&&(u.emit("newListener",h,c.listener?c.listener:c),v=u._events),m=v[h]),m===void 0)m=v[h]=c,++u._eventsCount;else if(typeof m=="function"?m=v[h]=w?[c,m]:[m,c]:w?m.unshift(c):m.push(c),(g=f(u))>0&&m.length>g&&!m.warned){m.warned=!0;var _=new Error("Possible EventEmitter memory leak detected. "+m.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");_.name="MaxListenersExceededWarning",_.emitter=u,_.type=h,_.count=m.length,T=_,console&&console.warn&&console.warn(T)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(u,h,c){var w={fired:!1,wrapFn:void 0,target:u,type:h,listener:c},g=t.bind(w);return g.listener=c,w.wrapFn=g,g}function r(u,h,c){var w=u._events;if(w===void 0)return[];var g=w[h];return g===void 0?[]:typeof g=="function"?c?[g.listener||g]:[g]:c?function(v){for(var m=new Array(v.length),T=0;T<m.length;++T)m[T]=v[T].listener||v[T];return m}(g):a(g,g.length)}function i(u){var h=this._events;if(h!==void 0){var c=h[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function a(u,h){for(var c=new Array(h),w=0;w<h;++w)c[w]=u[w];return c}function l(u,h,c,w){if(typeof u.on=="function")w.once?u.once(h,c):u.on(h,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(h,function g(v){w.once&&u.removeEventListener(h,g),c(v)})}}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(u){if(typeof u!="number"||u<0||y(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");M=u}}),n.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||y(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},n.prototype.getMaxListeners=function(){return f(this)},n.prototype.emit=function(u){for(var h=[],c=1;c<arguments.length;c++)h.push(arguments[c]);var w=u==="error",g=this._events;if(g!==void 0)w=w&&g.error===void 0;else if(!w)return!1;if(w){var v;if(h.length>0&&(v=h[0]),v instanceof Error)throw v;var m=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw m.context=v,m}var T=g[u];if(T===void 0)return!1;if(typeof T=="function")p(T,this,h);else{var _=T.length,A=a(T,_);for(c=0;c<_;++c)p(A[c],this,h)}return!0},n.prototype.addListener=function(u,h){return s(this,u,h,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(u,h){return s(this,u,h,!0)},n.prototype.once=function(u,h){return b(h),this.on(u,o(this,u,h)),this},n.prototype.prependOnceListener=function(u,h){return b(h),this.prependListener(u,o(this,u,h)),this},n.prototype.removeListener=function(u,h){var c,w,g,v,m;if(b(h),(w=this._events)===void 0)return this;if((c=w[u])===void 0)return this;if(c===h||c.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete w[u],w.removeListener&&this.emit("removeListener",u,c.listener||h));else if(typeof c!="function"){for(g=-1,v=c.length-1;v>=0;v--)if(c[v]===h||c[v].listener===h){m=c[v].listener,g=v;break}if(g<0)return this;g===0?c.shift():function(T,_){for(;_+1<T.length;_++)T[_]=T[_+1];T.pop()}(c,g),c.length===1&&(w[u]=c[0]),w.removeListener!==void 0&&this.emit("removeListener",u,m||h)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(u){var h,c,w;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var g,v=Object.keys(c);for(w=0;w<v.length;++w)(g=v[w])!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=c[u])=="function")this.removeListener(u,h);else if(h!==void 0)for(w=h.length-1;w>=0;w--)this.removeListener(u,h[w]);return this},n.prototype.listeners=function(u){return r(this,u,!0)},n.prototype.rawListeners=function(u){return r(this,u,!1)},n.listenerCount=function(u,h){return typeof u.listenerCount=="function"?u.listenerCount(h):i.call(u,h)},n.prototype.listenerCount=i,n.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]}},39072:function(S){var x=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};S.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return x()}try{return __global__||x()}finally{delete Object.prototype.__global__}}()},12296:function(S,x,e){"use strict";S.exports=e(45072)()?globalThis:e(39072)},45072:function(S){"use strict";S.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(S,x,e){"use strict";var p=e(94576);S.exports=function(y){var n=typeof y;if(n==="string"){var M=y;if((y=+y)==0&&p(M))return!1}else if(n!=="number")return!1;return y-y<1}},47520:function(S,x,e){var p=e(72512);S.exports=function(y,n,M){if(!y)throw new TypeError("must specify data as first parameter");if(M=0|+(M||0),Array.isArray(y)&&y[0]&&typeof y[0][0]=="number"){var b,f,s,t,o=y[0].length,r=y.length*o;n&&typeof n!="string"||(n=new(p(n||"float32"))(r+M));var i=n.length-M;if(r!==i)throw new Error("source length "+r+" ("+o+"x"+y.length+") does not match destination length "+i);for(b=0,s=M;b<y.length;b++)for(f=0;f<o;f++)n[s++]=y[b][f]===null?NaN:y[b][f]}else if(n&&typeof n!="string")n.set(y,M);else{var a=p(n||"float32");if(Array.isArray(y)||n==="array")for(b=0,s=M,t=(n=new a(y.length+M)).length;s<t;s++,b++)n[s]=y[b]===null?NaN:y[b];else M===0?n=new a(y):(n=new a(y.length+M)).set(y,M)}return n}},33888:function(S,x,e){"use strict";var p=e(49395),y=[32,126];S.exports=function(n){var M=(n=n||{}).shape?n.shape:n.canvas?[n.canvas.width,n.canvas.height]:[512,512],b=n.canvas||document.createElement("canvas"),f=n.font,s=typeof n.step=="number"?[n.step,n.step]:n.step||[32,32],t=n.chars||y;if(f&&typeof f!="string"&&(f=p(f)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var o=[],r=t[0],i=0;r<=t[1];r++)o[i++]=String.fromCharCode(r);t=o}}else t=String(t).split("");M=M.slice(),b.width=M[0],b.height=M[1];var a=b.getContext("2d");a.fillStyle="#000",a.fillRect(0,0,b.width,b.height),a.font=f,a.textAlign="center",a.textBaseline="middle",a.fillStyle="#fff";var l=s[0]/2,u=s[1]/2;for(r=0;r<t.length;r++)a.fillText(t[r],l,u),(l+=s[0])>M[0]-s[0]/2&&(l=s[0]/2,u+=s[1]);return b}},71920:function(S){"use strict";function x(n,M){M||(M={}),(typeof n=="string"||Array.isArray(n))&&(M.family=n);var b=Array.isArray(M.family)?M.family.join(", "):M.family;if(!b)throw Error("`family` must be defined");var f=M.size||M.fontSize||M.em||48,s=M.weight||M.fontWeight||"",t=(n=[M.style||M.fontStyle||"",s,f].join(" ")+"px "+b,M.origin||"top");if(x.cache[b]&&f<=x.cache[b].em)return e(x.cache[b],t);var o=M.canvas||x.canvas,r=o.getContext("2d"),i={upper:M.upper!==void 0?M.upper:"H",lower:M.lower!==void 0?M.lower:"x",descent:M.descent!==void 0?M.descent:"p",ascent:M.ascent!==void 0?M.ascent:"h",tittle:M.tittle!==void 0?M.tittle:"i",overshoot:M.overshoot!==void 0?M.overshoot:"O"},a=Math.ceil(1.5*f);o.height=a,o.width=.5*a,r.font=n;var l="H",u={top:0};r.clearRect(0,0,a,a),r.textBaseline="top",r.fillStyle="black",r.fillText(l,0,0);var h=p(r.getImageData(0,0,a,a));r.clearRect(0,0,a,a),r.textBaseline="bottom",r.fillText(l,0,a);var c=p(r.getImageData(0,0,a,a));u.lineHeight=u.bottom=a-c+h,r.clearRect(0,0,a,a),r.textBaseline="alphabetic",r.fillText(l,0,a);var w=a-p(r.getImageData(0,0,a,a))-1+h;u.baseline=u.alphabetic=w,r.clearRect(0,0,a,a),r.textBaseline="middle",r.fillText(l,0,.5*a);var g=p(r.getImageData(0,0,a,a));u.median=u.middle=a-g-1+h-.5*a,r.clearRect(0,0,a,a),r.textBaseline="hanging",r.fillText(l,0,.5*a);var v=p(r.getImageData(0,0,a,a));u.hanging=a-v-1+h-.5*a,r.clearRect(0,0,a,a),r.textBaseline="ideographic",r.fillText(l,0,a);var m=p(r.getImageData(0,0,a,a));if(u.ideographic=a-m-1+h,i.upper&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(i.upper,0,0),u.upper=p(r.getImageData(0,0,a,a)),u.capHeight=u.baseline-u.upper),i.lower&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(i.lower,0,0),u.lower=p(r.getImageData(0,0,a,a)),u.xHeight=u.baseline-u.lower),i.tittle&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(i.tittle,0,0),u.tittle=p(r.getImageData(0,0,a,a))),i.ascent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(i.ascent,0,0),u.ascent=p(r.getImageData(0,0,a,a))),i.descent&&(r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(i.descent,0,0),u.descent=y(r.getImageData(0,0,a,a))),i.overshoot){r.clearRect(0,0,a,a),r.textBaseline="top",r.fillText(i.overshoot,0,0);var T=y(r.getImageData(0,0,a,a));u.overshoot=T-w}for(var _ in u)u[_]/=f;return u.em=f,x.cache[b]=u,e(u,t)}function e(n,M){var b={};for(var f in typeof M=="string"&&(M=n[M]),n)f!=="em"&&(b[f]=n[f]-M);return b}function p(n){for(var M=n.height,b=n.data,f=3;f<b.length;f+=4)if(b[f]!==0)return Math.floor(.25*(f-3)/M)}function y(n){for(var M=n.height,b=n.data,f=b.length-1;f>0;f-=4)if(b[f]!==0)return Math.floor(.25*(f-3)/M)}S.exports=x,x.canvas=document.createElement("canvas"),x.cache={}},46492:function(S,x,e){"use strict";var p=e(90720),y=Object.prototype.toString,n=Object.prototype.hasOwnProperty;S.exports=function(M,b,f){if(!p(b))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=f),y.call(M)==="[object Array]"?function(t,o,r){for(var i=0,a=t.length;i<a;i++)n.call(t,i)&&(r==null?o(t[i],i,t):o.call(r,t[i],i,t))}(M,b,s):typeof M=="string"?function(t,o,r){for(var i=0,a=t.length;i<a;i++)r==null?o(t.charAt(i),i,t):o.call(r,t.charAt(i),i,t)}(M,b,s):function(t,o,r){for(var i in t)n.call(t,i)&&(r==null?o(t[i],i,t):o.call(r,t[i],i,t))}(M,b,s)}},74336:function(S){"use strict";var x=Object.prototype.toString,e=Math.max,p=function(y,n){for(var M=[],b=0;b<y.length;b+=1)M[b]=y[b];for(var f=0;f<n.length;f+=1)M[f+y.length]=n[f];return M};S.exports=function(y){var n=this;if(typeof n!="function"||x.apply(n)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var M,b=function(r,i){for(var a=[],l=1,u=0;l<r.length;l+=1,u+=1)a[u]=r[l];return a}(arguments),f=e(0,n.length-b.length),s=[],t=0;t<f;t++)s[t]="$"+t;if(M=Function("binder","return function ("+function(r,i){for(var a="",l=0;l<r.length;l+=1)a+=r[l],l+1<r.length&&(a+=",");return a}(s)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof M){var r=n.apply(this,p(b,arguments));return Object(r)===r?r:this}return n.apply(y,p(b,arguments))}),n.prototype){var o=function(){};o.prototype=n.prototype,M.prototype=new o,o.prototype=null}return M}},8844:function(S,x,e){"use strict";var p=e(74336);S.exports=Function.prototype.bind||p},13380:function(S){S.exports=function(x,e){if(typeof x!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var p=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(p.width=e.width),typeof e.height=="number"&&(p.height=e.height);var y,n=e;try{var M=[x];x.indexOf("webgl")===0&&M.push("experimental-"+x);for(var b=0;b<M.length;b++)if(y=p.getContext(M[b],n))return y}catch{y=null}return y||null}},53664:function(S,x,e){"use strict";var p,y=SyntaxError,n=Function,M=TypeError,b=function(O){try{return n('"use strict"; return ('+O+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var s=function(){throw new M},t=f?function(){try{return s}catch{try{return f(arguments,"callee").get}catch{return s}}}():s,o=e(71080)(),r=e(69572)(),i=Object.getPrototypeOf||(r?function(O){return O.__proto__}:null),a={},l=typeof Uint8Array<"u"&&i?i(Uint8Array):p,u={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":o&&i?i([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o&&i?i(i([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map<"u"&&o&&i?i(new Map()[Symbol.iterator]()):p,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set<"u"&&o&&i?i(new Set()[Symbol.iterator]()):p,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o&&i?i(""[Symbol.iterator]()):p,"%Symbol%":o?Symbol:p,"%SyntaxError%":y,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":M,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};if(i)try{null.error}catch(O){var h=i(i(O));u["%Error.prototype%"]=h}var c=function O(L){var R;if(L==="%AsyncFunction%")R=b("async function () {}");else if(L==="%GeneratorFunction%")R=b("function* () {}");else if(L==="%AsyncGeneratorFunction%")R=b("async function* () {}");else if(L==="%AsyncGenerator%"){var z=O("%AsyncGeneratorFunction%");z&&(R=z.prototype)}else if(L==="%AsyncIteratorPrototype%"){var q=O("%AsyncGenerator%");q&&i&&(R=i(q.prototype))}return u[L]=R,R},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=e(8844),v=e(92064),m=g.call(Function.call,Array.prototype.concat),T=g.call(Function.apply,Array.prototype.splice),_=g.call(Function.call,String.prototype.replace),A=g.call(Function.call,String.prototype.slice),d=g.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,D=function(O,L){var R,z=O;if(v(w,z)&&(z="%"+(R=w[z])[0]+"%"),v(u,z)){var q=u[z];if(q===a&&(q=c(z)),q===void 0&&!L)throw new M("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:R,name:z,value:q}}throw new y("intrinsic "+O+" does not exist!")};S.exports=function(O,L){if(typeof O!="string"||O.length===0)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new M('"allowMissing" argument must be a boolean');if(d(/^%?[^%]*%?$/,O)===null)throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var R=function(Q){var X=A(Q,0,1),se=A(Q,-1);if(X==="%"&&se!=="%")throw new y("invalid intrinsic syntax, expected closing `%`");if(se==="%"&&X!=="%")throw new y("invalid intrinsic syntax, expected opening `%`");var ce=[];return _(Q,C,function(le,de,be,_e){ce[ce.length]=be?_(_e,k,"$1"):de||le}),ce}(O),z=R.length>0?R[0]:"",q=D("%"+z+"%",L),N=q.name,V=q.value,Z=!1,j=q.alias;j&&(z=j[0],T(R,m([0,1],j)));for(var H=1,Y=!0;H<R.length;H+=1){var ie=R[H],re=A(ie,0,1),ne=A(ie,-1);if((re==='"'||re==="'"||re==="`"||ne==='"'||ne==="'"||ne==="`")&&re!==ne)throw new y("property names with quotes must have matching quotes");if(ie!=="constructor"&&Y||(Z=!0),v(u,N="%"+(z+="."+ie)+"%"))V=u[N];else if(V!=null){if(!(ie in V)){if(!L)throw new M("base intrinsic for "+O+" exists, but the property is not available.");return}if(f&&H+1>=R.length){var ee=f(V,ie);V=(Y=!!ee)&&"get"in ee&&!("originalValue"in ee.get)?ee.get:V[ie]}else Y=v(V,ie),V=V[ie];Y&&!Z&&(u[N]=V)}}return V}},12408:function(S){S.exports=function(x,e){var p=e[0],y=e[1],n=e[2],M=e[3],b=e[4],f=e[5],s=e[6],t=e[7],o=e[8],r=e[9],i=e[10],a=e[11],l=e[12],u=e[13],h=e[14],c=e[15];return x[0]=f*(i*c-a*h)-r*(s*c-t*h)+u*(s*a-t*i),x[1]=-(y*(i*c-a*h)-r*(n*c-M*h)+u*(n*a-M*i)),x[2]=y*(s*c-t*h)-f*(n*c-M*h)+u*(n*t-M*s),x[3]=-(y*(s*a-t*i)-f*(n*a-M*i)+r*(n*t-M*s)),x[4]=-(b*(i*c-a*h)-o*(s*c-t*h)+l*(s*a-t*i)),x[5]=p*(i*c-a*h)-o*(n*c-M*h)+l*(n*a-M*i),x[6]=-(p*(s*c-t*h)-b*(n*c-M*h)+l*(n*t-M*s)),x[7]=p*(s*a-t*i)-b*(n*a-M*i)+o*(n*t-M*s),x[8]=b*(r*c-a*u)-o*(f*c-t*u)+l*(f*a-t*r),x[9]=-(p*(r*c-a*u)-o*(y*c-M*u)+l*(y*a-M*r)),x[10]=p*(f*c-t*u)-b*(y*c-M*u)+l*(y*t-M*f),x[11]=-(p*(f*a-t*r)-b*(y*a-M*r)+o*(y*t-M*f)),x[12]=-(b*(r*h-i*u)-o*(f*h-s*u)+l*(f*i-s*r)),x[13]=p*(r*h-i*u)-o*(y*h-n*u)+l*(y*i-n*r),x[14]=-(p*(f*h-s*u)-b*(y*h-n*u)+l*(y*s-n*f)),x[15]=p*(f*i-s*r)-b*(y*i-n*r)+o*(y*s-n*f),x}},76860:function(S){S.exports=function(x){var e=new Float32Array(16);return e[0]=x[0],e[1]=x[1],e[2]=x[2],e[3]=x[3],e[4]=x[4],e[5]=x[5],e[6]=x[6],e[7]=x[7],e[8]=x[8],e[9]=x[9],e[10]=x[10],e[11]=x[11],e[12]=x[12],e[13]=x[13],e[14]=x[14],e[15]=x[15],e}},64492:function(S){S.exports=function(x,e){return x[0]=e[0],x[1]=e[1],x[2]=e[2],x[3]=e[3],x[4]=e[4],x[5]=e[5],x[6]=e[6],x[7]=e[7],x[8]=e[8],x[9]=e[9],x[10]=e[10],x[11]=e[11],x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15],x}},54212:function(S){S.exports=function(){var x=new Float32Array(16);return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},70800:function(S){S.exports=function(x){var e=x[0],p=x[1],y=x[2],n=x[3],M=x[4],b=x[5],f=x[6],s=x[7],t=x[8],o=x[9],r=x[10],i=x[11],a=x[12],l=x[13],u=x[14],h=x[15];return(e*b-p*M)*(r*h-i*u)-(e*f-y*M)*(o*h-i*l)+(e*s-n*M)*(o*u-r*l)+(p*f-y*b)*(t*h-i*a)-(p*s-n*b)*(t*u-r*a)+(y*s-n*f)*(t*l-o*a)}},61784:function(S){S.exports=function(x,e){var p=e[0],y=e[1],n=e[2],M=e[3],b=p+p,f=y+y,s=n+n,t=p*b,o=y*b,r=y*f,i=n*b,a=n*f,l=n*s,u=M*b,h=M*f,c=M*s;return x[0]=1-r-l,x[1]=o+c,x[2]=i-h,x[3]=0,x[4]=o-c,x[5]=1-t-l,x[6]=a+u,x[7]=0,x[8]=i+h,x[9]=a-u,x[10]=1-t-r,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},91616:function(S){S.exports=function(x,e,p){var y,n,M,b=p[0],f=p[1],s=p[2],t=Math.sqrt(b*b+f*f+s*s);return Math.abs(t)<1e-6?null:(b*=t=1/t,f*=t,s*=t,y=Math.sin(e),M=1-(n=Math.cos(e)),x[0]=b*b*M+n,x[1]=f*b*M+s*y,x[2]=s*b*M-f*y,x[3]=0,x[4]=b*f*M-s*y,x[5]=f*f*M+n,x[6]=s*f*M+b*y,x[7]=0,x[8]=b*s*M+f*y,x[9]=f*s*M-b*y,x[10]=s*s*M+n,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x)}},51944:function(S){S.exports=function(x,e,p){var y=e[0],n=e[1],M=e[2],b=e[3],f=y+y,s=n+n,t=M+M,o=y*f,r=y*s,i=y*t,a=n*s,l=n*t,u=M*t,h=b*f,c=b*s,w=b*t;return x[0]=1-(a+u),x[1]=r+w,x[2]=i-c,x[3]=0,x[4]=r-w,x[5]=1-(o+u),x[6]=l+h,x[7]=0,x[8]=i+c,x[9]=l-h,x[10]=1-(o+a),x[11]=0,x[12]=p[0],x[13]=p[1],x[14]=p[2],x[15]=1,x}},69444:function(S){S.exports=function(x,e){return x[0]=e[0],x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=e[1],x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=e[2],x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},48268:function(S){S.exports=function(x,e){return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=e[0],x[13]=e[1],x[14]=e[2],x[15]=1,x}},21856:function(S){S.exports=function(x,e){var p=Math.sin(e),y=Math.cos(e);return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=y,x[6]=p,x[7]=0,x[8]=0,x[9]=-p,x[10]=y,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},79216:function(S){S.exports=function(x,e){var p=Math.sin(e),y=Math.cos(e);return x[0]=y,x[1]=0,x[2]=-p,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=p,x[9]=0,x[10]=y,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},57736:function(S){S.exports=function(x,e){var p=Math.sin(e),y=Math.cos(e);return x[0]=y,x[1]=p,x[2]=0,x[3]=0,x[4]=-p,x[5]=y,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},38848:function(S){S.exports=function(x,e,p,y,n,M,b){var f=1/(p-e),s=1/(n-y),t=1/(M-b);return x[0]=2*M*f,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=2*M*s,x[6]=0,x[7]=0,x[8]=(p+e)*f,x[9]=(n+y)*s,x[10]=(b+M)*t,x[11]=-1,x[12]=0,x[13]=0,x[14]=b*M*2*t,x[15]=0,x}},36635:function(S){S.exports=function(x){return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}},36524:function(S,x,e){S.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(S){S.exports=function(x,e){var p=e[0],y=e[1],n=e[2],M=e[3],b=e[4],f=e[5],s=e[6],t=e[7],o=e[8],r=e[9],i=e[10],a=e[11],l=e[12],u=e[13],h=e[14],c=e[15],w=p*f-y*b,g=p*s-n*b,v=p*t-M*b,m=y*s-n*f,T=y*t-M*f,_=n*t-M*s,A=o*u-r*l,d=o*h-i*l,C=o*c-a*l,k=r*h-i*u,D=r*c-a*u,O=i*c-a*h,L=w*O-g*D+v*k+m*C-T*d+_*A;return L?(L=1/L,x[0]=(f*O-s*D+t*k)*L,x[1]=(n*D-y*O-M*k)*L,x[2]=(u*_-h*T+c*m)*L,x[3]=(i*T-r*_-a*m)*L,x[4]=(s*C-b*O-t*d)*L,x[5]=(p*O-n*C+M*d)*L,x[6]=(h*v-l*_-c*g)*L,x[7]=(o*_-i*v+a*g)*L,x[8]=(b*D-f*C+t*A)*L,x[9]=(y*C-p*D-M*A)*L,x[10]=(l*T-u*v+c*w)*L,x[11]=(r*v-o*T-a*w)*L,x[12]=(f*d-b*k-s*A)*L,x[13]=(p*k-y*d+n*A)*L,x[14]=(u*g-l*m-h*w)*L,x[15]=(o*m-r*g+i*w)*L,x):null}},56508:function(S,x,e){var p=e(36635);S.exports=function(y,n,M,b){var f,s,t,o,r,i,a,l,u,h,c=n[0],w=n[1],g=n[2],v=b[0],m=b[1],T=b[2],_=M[0],A=M[1],d=M[2];return Math.abs(c-_)<1e-6&&Math.abs(w-A)<1e-6&&Math.abs(g-d)<1e-6?p(y):(a=c-_,l=w-A,u=g-d,f=m*(u*=h=1/Math.sqrt(a*a+l*l+u*u))-T*(l*=h),s=T*(a*=h)-v*u,t=v*l-m*a,(h=Math.sqrt(f*f+s*s+t*t))?(f*=h=1/h,s*=h,t*=h):(f=0,s=0,t=0),o=l*t-u*s,r=u*f-a*t,i=a*s-l*f,(h=Math.sqrt(o*o+r*r+i*i))?(o*=h=1/h,r*=h,i*=h):(o=0,r=0,i=0),y[0]=f,y[1]=o,y[2]=a,y[3]=0,y[4]=s,y[5]=r,y[6]=l,y[7]=0,y[8]=t,y[9]=i,y[10]=u,y[11]=0,y[12]=-(f*c+s*w+t*g),y[13]=-(o*c+r*w+i*g),y[14]=-(a*c+l*w+u*g),y[15]=1,y)}},80944:function(S){S.exports=function(x,e,p){var y=e[0],n=e[1],M=e[2],b=e[3],f=e[4],s=e[5],t=e[6],o=e[7],r=e[8],i=e[9],a=e[10],l=e[11],u=e[12],h=e[13],c=e[14],w=e[15],g=p[0],v=p[1],m=p[2],T=p[3];return x[0]=g*y+v*f+m*r+T*u,x[1]=g*n+v*s+m*i+T*h,x[2]=g*M+v*t+m*a+T*c,x[3]=g*b+v*o+m*l+T*w,g=p[4],v=p[5],m=p[6],T=p[7],x[4]=g*y+v*f+m*r+T*u,x[5]=g*n+v*s+m*i+T*h,x[6]=g*M+v*t+m*a+T*c,x[7]=g*b+v*o+m*l+T*w,g=p[8],v=p[9],m=p[10],T=p[11],x[8]=g*y+v*f+m*r+T*u,x[9]=g*n+v*s+m*i+T*h,x[10]=g*M+v*t+m*a+T*c,x[11]=g*b+v*o+m*l+T*w,g=p[12],v=p[13],m=p[14],T=p[15],x[12]=g*y+v*f+m*r+T*u,x[13]=g*n+v*s+m*i+T*h,x[14]=g*M+v*t+m*a+T*c,x[15]=g*b+v*o+m*l+T*w,x}},97688:function(S){S.exports=function(x,e,p,y,n,M,b){var f=1/(e-p),s=1/(y-n),t=1/(M-b);return x[0]=-2*f,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=-2*s,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=2*t,x[11]=0,x[12]=(e+p)*f,x[13]=(n+y)*s,x[14]=(b+M)*t,x[15]=1,x}},51296:function(S){S.exports=function(x,e,p,y,n){var M=1/Math.tan(e/2),b=1/(y-n);return x[0]=M/p,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=M,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=(n+y)*b,x[11]=-1,x[12]=0,x[13]=0,x[14]=2*n*y*b,x[15]=0,x}},63688:function(S){S.exports=function(x,e,p,y){var n=Math.tan(e.upDegrees*Math.PI/180),M=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),f=Math.tan(e.rightDegrees*Math.PI/180),s=2/(b+f),t=2/(n+M);return x[0]=s,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=t,x[6]=0,x[7]=0,x[8]=-(b-f)*s*.5,x[9]=(n-M)*t*.5,x[10]=y/(p-y),x[11]=-1,x[12]=0,x[13]=0,x[14]=y*p/(p-y),x[15]=0,x}},30016:function(S){S.exports=function(x,e,p,y){var n,M,b,f,s,t,o,r,i,a,l,u,h,c,w,g,v,m,T,_,A,d,C,k,D=y[0],O=y[1],L=y[2],R=Math.sqrt(D*D+O*O+L*L);return Math.abs(R)<1e-6?null:(D*=R=1/R,O*=R,L*=R,n=Math.sin(p),b=1-(M=Math.cos(p)),f=e[0],s=e[1],t=e[2],o=e[3],r=e[4],i=e[5],a=e[6],l=e[7],u=e[8],h=e[9],c=e[10],w=e[11],g=D*D*b+M,v=O*D*b+L*n,m=L*D*b-O*n,T=D*O*b-L*n,_=O*O*b+M,A=L*O*b+D*n,d=D*L*b+O*n,C=O*L*b-D*n,k=L*L*b+M,x[0]=f*g+r*v+u*m,x[1]=s*g+i*v+h*m,x[2]=t*g+a*v+c*m,x[3]=o*g+l*v+w*m,x[4]=f*T+r*_+u*A,x[5]=s*T+i*_+h*A,x[6]=t*T+a*_+c*A,x[7]=o*T+l*_+w*A,x[8]=f*d+r*C+u*k,x[9]=s*d+i*C+h*k,x[10]=t*d+a*C+c*k,x[11]=o*d+l*C+w*k,e!==x&&(x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15]),x)}},15456:function(S){S.exports=function(x,e,p){var y=Math.sin(p),n=Math.cos(p),M=e[4],b=e[5],f=e[6],s=e[7],t=e[8],o=e[9],r=e[10],i=e[11];return e!==x&&(x[0]=e[0],x[1]=e[1],x[2]=e[2],x[3]=e[3],x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15]),x[4]=M*n+t*y,x[5]=b*n+o*y,x[6]=f*n+r*y,x[7]=s*n+i*y,x[8]=t*n-M*y,x[9]=o*n-b*y,x[10]=r*n-f*y,x[11]=i*n-s*y,x}},64840:function(S){S.exports=function(x,e,p){var y=Math.sin(p),n=Math.cos(p),M=e[0],b=e[1],f=e[2],s=e[3],t=e[8],o=e[9],r=e[10],i=e[11];return e!==x&&(x[4]=e[4],x[5]=e[5],x[6]=e[6],x[7]=e[7],x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15]),x[0]=M*n-t*y,x[1]=b*n-o*y,x[2]=f*n-r*y,x[3]=s*n-i*y,x[8]=M*y+t*n,x[9]=b*y+o*n,x[10]=f*y+r*n,x[11]=s*y+i*n,x}},4192:function(S){S.exports=function(x,e,p){var y=Math.sin(p),n=Math.cos(p),M=e[0],b=e[1],f=e[2],s=e[3],t=e[4],o=e[5],r=e[6],i=e[7];return e!==x&&(x[8]=e[8],x[9]=e[9],x[10]=e[10],x[11]=e[11],x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15]),x[0]=M*n+t*y,x[1]=b*n+o*y,x[2]=f*n+r*y,x[3]=s*n+i*y,x[4]=t*n-M*y,x[5]=o*n-b*y,x[6]=r*n-f*y,x[7]=i*n-s*y,x}},68152:function(S){S.exports=function(x,e,p){var y=p[0],n=p[1],M=p[2];return x[0]=e[0]*y,x[1]=e[1]*y,x[2]=e[2]*y,x[3]=e[3]*y,x[4]=e[4]*n,x[5]=e[5]*n,x[6]=e[6]*n,x[7]=e[7]*n,x[8]=e[8]*M,x[9]=e[9]*M,x[10]=e[10]*M,x[11]=e[11]*M,x[12]=e[12],x[13]=e[13],x[14]=e[14],x[15]=e[15],x}},89412:function(S){S.exports=function(x){return"mat4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+", "+x[4]+", "+x[5]+", "+x[6]+", "+x[7]+", "+x[8]+", "+x[9]+", "+x[10]+", "+x[11]+", "+x[12]+", "+x[13]+", "+x[14]+", "+x[15]+")"}},35176:function(S){S.exports=function(x,e,p){var y,n,M,b,f,s,t,o,r,i,a,l,u=p[0],h=p[1],c=p[2];return e===x?(x[12]=e[0]*u+e[4]*h+e[8]*c+e[12],x[13]=e[1]*u+e[5]*h+e[9]*c+e[13],x[14]=e[2]*u+e[6]*h+e[10]*c+e[14],x[15]=e[3]*u+e[7]*h+e[11]*c+e[15]):(y=e[0],n=e[1],M=e[2],b=e[3],f=e[4],s=e[5],t=e[6],o=e[7],r=e[8],i=e[9],a=e[10],l=e[11],x[0]=y,x[1]=n,x[2]=M,x[3]=b,x[4]=f,x[5]=s,x[6]=t,x[7]=o,x[8]=r,x[9]=i,x[10]=a,x[11]=l,x[12]=y*u+f*h+r*c+e[12],x[13]=n*u+s*h+i*c+e[13],x[14]=M*u+t*h+a*c+e[14],x[15]=b*u+o*h+l*c+e[15]),x}},86520:function(S){S.exports=function(x,e){if(x===e){var p=e[1],y=e[2],n=e[3],M=e[6],b=e[7],f=e[11];x[1]=e[4],x[2]=e[8],x[3]=e[12],x[4]=p,x[6]=e[9],x[7]=e[13],x[8]=y,x[9]=M,x[11]=e[14],x[12]=n,x[13]=b,x[14]=f}else x[0]=e[0],x[1]=e[4],x[2]=e[8],x[3]=e[12],x[4]=e[1],x[5]=e[5],x[6]=e[9],x[7]=e[13],x[8]=e[2],x[9]=e[6],x[10]=e[10],x[11]=e[14],x[12]=e[3],x[13]=e[7],x[14]=e[11],x[15]=e[15];return x}},23352:function(S,x,e){"use strict";var p=e(42771),y=e(55616),n=e(28624),M=e(55212),b=e(60463),f=e(72160),s=e(33888),t=e(14144),o=e(51160),r=e(58908),i=e(65819),a=e(23464),l=e(63768),u=e(50896),h=e(71920),c=e(47520),w=e(308).nextPow2,g=new b,v=!1;if(document.body){var m=document.body.appendChild(document.createElement("div"));m.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(m).fontStretch&&(v=!0),document.body.removeChild(m)}var T=function(_){(function(A){return typeof A=="function"&&A._gl&&A.prop&&A.texture&&A.buffer})(_)?(_={regl:_},this.gl=_.regl._gl):this.gl=M(_),this.shader=g.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=_.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),g.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(_)?_:{})};T.prototype.createShader=function(){var _=this.regl,A=_({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:_.prop("count"),offset:_.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:_.this("sizeBuffer")},width:{offset:0,stride:8,buffer:_.this("sizeBuffer")},char:_.this("charBuffer"),position:_.this("position")},uniforms:{atlasSize:function(d,C){return[C.atlas.width,C.atlas.height]},atlasDim:function(d,C){return[C.atlas.cols,C.atlas.rows]},atlas:function(d,C){return C.atlas.texture},charStep:function(d,C){return C.atlas.step},em:function(d,C){return C.atlas.em},color:_.prop("color"),opacity:_.prop("opacity"),viewport:_.this("viewportArray"),scale:_.this("scale"),align:_.prop("align"),baseline:_.prop("baseline"),translate:_.this("translate"),positionOffset:_.prop("positionOffset")},primitive:"points",viewport:_.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:_,draw:A,atlas:{}}},T.prototype.update=function(_){var A=this;if(typeof _=="string")_={text:_};else if(!_)return;(_=y(_,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(_.opacity)?this.opacity=_.opacity.map(function(pe){return parseFloat(pe)}):this.opacity=parseFloat(_.opacity)),_.viewport!=null&&(this.viewport=o(_.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),_.kerning!=null&&(this.kerning=_.kerning),_.offset!=null&&(typeof _.offset=="number"&&(_.offset=[_.offset,0]),this.positionOffset=c(_.offset)),_.direction&&(this.direction=_.direction),_.range&&(this.range=_.range,this.scale=[1/(_.range[2]-_.range[0]),1/(_.range[3]-_.range[1])],this.translate=[-_.range[0],-_.range[1]]),_.scale&&(this.scale=_.scale),_.translate&&(this.translate=_.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||_.font||(_.font=T.baseFontSize+"px sans-serif");var d,C=!1,k=!1;if(_.font&&(Array.isArray(_.font)?_.font:[_.font]).forEach(function(pe,De){if(typeof pe=="string")try{pe=p.parse(pe)}catch{pe=p.parse(T.baseFontSize+"px "+pe)}else{var Te=pe.style,Ae=pe.weight,Ce=pe.stretch,Re=pe.variant;pe=p.parse(p.stringify(pe)),Te&&(pe.style=Te),Ae&&(pe.weight=Ae),Ce&&(pe.stretch=Ce),Re&&(pe.variant=Re)}var Ne=p.stringify({size:T.baseFontSize,family:pe.family,stretch:v?pe.stretch:void 0,variant:pe.variant,weight:pe.weight,style:pe.style}),ge=i(pe.size),Me=Math.round(ge[0]*a(ge[1]));if(Me!==A.fontSize[De]&&(k=!0,A.fontSize[De]=Me),!(A.font[De]&&Ne==A.font[De].baseString||(C=!0,A.font[De]=T.fonts[Ne],A.font[De]))){var Ee=pe.family.join(", "),Fe=[pe.style];pe.style!=pe.variant&&Fe.push(pe.variant),pe.variant!=pe.weight&&Fe.push(pe.weight),v&&pe.weight!=pe.stretch&&Fe.push(pe.stretch),A.font[De]={baseString:Ne,family:Ee,weight:pe.weight,stretch:pe.stretch,style:pe.style,variant:pe.variant,width:{},kerning:{},metrics:h(Ee,{origin:"top",fontSize:T.baseFontSize,fontStyle:Fe.join(" ")})},T.fonts[Ne]=A.font[De]}}),(C||k)&&this.font.forEach(function(pe,De){var Te=p.stringify({size:A.fontSize[De],family:pe.family,stretch:v?pe.stretch:void 0,variant:pe.variant,weight:pe.weight,style:pe.style});if(A.fontAtlas[De]=A.shader.atlas[Te],!A.fontAtlas[De]){var Ae=pe.metrics;A.shader.atlas[Te]=A.fontAtlas[De]={fontString:Te,step:2*Math.ceil(A.fontSize[De]*Ae.bottom*.5),em:A.fontSize[De],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}_.text==null&&(_.text=A.text)}),typeof _.text=="string"&&_.position&&_.position.length>2){for(var D=Array(.5*_.position.length),O=0;O<D.length;O++)D[O]=_.text;_.text=D}if(_.text!=null||C){if(this.textOffsets=[0],Array.isArray(_.text)){this.count=_.text[0].length,this.counts=[this.count];for(var L=1;L<_.text.length;L++)this.textOffsets[L]=this.textOffsets[L-1]+_.text[L-1].length,this.count+=_.text[L].length,this.counts.push(_.text[L].length);this.text=_.text.join("")}else this.text=_.text,this.count=this.text.length,this.counts=[this.count];d=[],this.font.forEach(function(pe,De){T.atlasContext.font=pe.baseString;for(var Te=A.fontAtlas[De],Ae=0;Ae<A.text.length;Ae++){var Ce=A.text.charAt(Ae);if(Te.ids[Ce]==null&&(Te.ids[Ce]=Te.chars.length,Te.chars.push(Ce),d.push(Ce)),pe.width[Ce]==null&&(pe.width[Ce]=T.atlasContext.measureText(Ce).width/T.baseFontSize,A.kerning)){var Re=[];for(var Ne in pe.width)Re.push(Ne+Ce,Ce+Ne);u(pe.kerning,l(pe.family,{pairs:Re}))}}})}if(_.position)if(_.position.length>2){for(var R=!_.position[0].length,z=t.mallocFloat(2*this.count),q=0,N=0;q<this.counts.length;q++){var V=this.counts[q];if(R)for(var Z=0;Z<V;Z++)z[N++]=_.position[2*q],z[N++]=_.position[2*q+1];else for(var j=0;j<V;j++)z[N++]=_.position[q][0],z[N++]=_.position[q][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:_.position};if(_.text||C){var H=t.mallocUint8(this.count),Y=t.mallocFloat(2*this.count);this.textWidth=[];for(var ie=0,re=0;ie<this.counts.length;ie++){for(var ne=this.counts[ie],ee=this.font[ie]||this.font[0],Q=this.fontAtlas[ie]||this.fontAtlas[0],X=0;X<ne;X++){var se=this.text.charAt(re),ce=this.text.charAt(re-1);if(H[re]=Q.ids[se],Y[2*re]=ee.width[se],X){var le=Y[2*re-2],de=Y[2*re],be=Y[2*re-1]+.5*le+.5*de;if(this.kerning){var _e=ee.kerning[ce+se];_e&&(be+=.001*_e)}Y[2*re+1]=be}else Y[2*re+1]=.5*Y[2*re];re++}this.textWidth.push(Y.length?.5*Y[2*re-2]+Y[2*re-1]:0)}_.align||(_.align=this.align),this.charBuffer({data:H,type:"uint8",usage:"stream"}),this.sizeBuffer({data:Y,type:"float",usage:"stream"}),t.freeUint8(H),t.freeFloat(Y),d.length&&this.font.forEach(function(pe,De){var Te=A.fontAtlas[De],Ae=Te.step,Ce=Math.floor(T.maxAtlasSize/Ae),Re=Math.min(Ce,Te.chars.length),Ne=Math.ceil(Te.chars.length/Re),ge=w(Re*Ae),Me=w(Ne*Ae);Te.width=ge,Te.height=Me,Te.rows=Ne,Te.cols=Re,Te.em&&Te.texture({data:s({canvas:T.atlasCanvas,font:Te.fontString,chars:Te.chars,shape:[ge,Me],step:[Ae,Ae]})})})}if(_.align&&(this.align=_.align,this.alignOffset=this.textWidth.map(function(pe,De){var Te=Array.isArray(A.align)?A.align.length>1?A.align[De]:A.align[0]:A.align;if(typeof Te=="number")return Te;switch(Te){case"right":case"end":return-pe;case"center":case"centre":case"middle":return .5*-pe}return 0})),this.baseline==null&&_.baseline==null&&(_.baseline=0),_.baseline!=null&&(this.baseline=_.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(pe,De){var Te=(A.font[De]||A.font[0]).metrics,Ae=0;return Ae+=.5*Te.bottom,-1*(Ae+=typeof pe=="number"?pe-Te.baseline:-Te[pe])})),_.color!=null)if(_.color||(_.color="transparent"),typeof _.color!="string"&&isNaN(_.color)){var ve;if(typeof _.color[0]=="number"&&_.color.length>this.counts.length){var me=_.color.length;ve=t.mallocUint8(me);for(var ye=(_.color.subarray||_.color.slice).bind(_.color),Se=0;Se<me;Se+=4)ve.set(f(ye(Se,Se+4),"uint8"),Se)}else{var Ie=_.color.length;ve=t.mallocUint8(4*Ie);for(var xe=0;xe<Ie;xe++)ve.set(f(_.color[xe]||0,"uint8"),4*xe)}this.color=ve}else this.color=f(_.color,"uint8");if(_.position||_.text||_.color||_.baseline||_.align||_.font||_.offset||_.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var ue=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(ue);for(var ae=0;ae<this.batch.length;ae++)this.batch[ae]={count:this.counts.length>1?this.counts[ae]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[ae]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*ae,4*ae+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[ae]:this.opacity,baseline:this.baselineOffset[ae]!=null?this.baselineOffset[ae]:this.baselineOffset[0],align:this.align?this.alignOffset[ae]!=null?this.alignOffset[ae]:this.alignOffset[0]:0,atlas:this.fontAtlas[ae]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*ae,2*ae+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text="",T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.maxAtlasSize=1024,T.atlasCanvas=document.createElement("canvas"),T.atlasContext=T.atlasCanvas.getContext("2d",{alpha:!1}),T.baseFontSize=64,T.fonts={},S.exports=T},55212:function(S,x,e){"use strict";var p=e(55616);function y(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var f=b.container.getBoundingClientRect();b.canvas.width=b.width||f.right-f.left,b.canvas.height=b.height||f.bottom-f.top}}function n(b){return typeof b.getContext=="function"&&"width"in b&&"height"in b}function M(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}S.exports=function(b){var f;if(b?typeof b=="string"&&(b={container:b}):b={},(b=n(b)||typeof(f=b).nodeName=="string"&&typeof f.appendChild=="function"&&typeof f.getBoundingClientRect=="function"?{container:b}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(b)?{gl:b}:p(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if(typeof b.container=="string"){var s=document.querySelector(b.container);if(!s)throw Error("Element "+b.container+" is not found");b.container=s}n(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=M(),b.container.appendChild(b.canvas),y(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=M(),b.container.appendChild(b.canvas),y(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},26444:function(S){S.exports=function(x){typeof x=="string"&&(x=[x]);for(var e=[].slice.call(arguments,1),p=[],y=0;y<x.length-1;y++)p.push(x[y],e[y]||"");return p.push(x[y]),p.join("")}},2304:function(S,x,e){"use strict";var p=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(p)try{p([],"length")}catch{p=null}S.exports=p},52264:function(S,x,e){"use strict";var p,y=e(24200);p=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:y,S.exports=p},89184:function(S,x,e){"use strict";var p=e(24200);S.exports=p&&function(){var y=!1;try{var n=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{y=!1}return y}()},39640:function(S,x,e){"use strict";var p=e(53664)("%Object.defineProperty%",!0),y=function(){if(p)try{return p({},"a",{value:1}),!0}catch{return!1}return!1};y.hasArrayLengthDefineBug=function(){if(!y())return null;try{return p([],"length",{value:1}).length!==1}catch{return!0}},S.exports=y},69572:function(S){"use strict";var x={foo:{}},e=Object;S.exports=function(){return{__proto__:x}.foo===x.foo&&!({__proto__:null}instanceof e)}},71080:function(S,x,e){"use strict";var p=typeof Symbol<"u"&&Symbol,y=e(89320);S.exports=function(){return typeof p=="function"&&typeof Symbol=="function"&&typeof p("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&y()}},89320:function(S){"use strict";S.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var x={},e=Symbol("test"),p=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(p)!=="[object Symbol]")return!1;for(e in x[e]=42,x)return!1;if(typeof Object.keys=="function"&&Object.keys(x).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(x).length!==0)return!1;var y=Object.getOwnPropertySymbols(x);if(y.length!==1||y[0]!==e||!Object.prototype.propertyIsEnumerable.call(x,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var n=Object.getOwnPropertyDescriptor(x,e);if(n.value!==42||n.enumerable!==!0)return!1}return!0}},46672:function(S,x,e){"use strict";var p=e(89320);S.exports=function(){return p()&&!!Symbol.toStringTag}},92064:function(S,x,e){"use strict";var p=Function.prototype.call,y=Object.prototype.hasOwnProperty,n=e(8844);S.exports=n.call(p,y)},35984:function(S,x){x.read=function(e,p,y,n,M){var b,f,s=8*M-n-1,t=(1<<s)-1,o=t>>1,r=-7,i=y?M-1:0,a=y?-1:1,l=e[p+i];for(i+=a,b=l&(1<<-r)-1,l>>=-r,r+=s;r>0;b=256*b+e[p+i],i+=a,r-=8);for(f=b&(1<<-r)-1,b>>=-r,r+=n;r>0;f=256*f+e[p+i],i+=a,r-=8);if(b===0)b=1-o;else{if(b===t)return f?NaN:1/0*(l?-1:1);f+=Math.pow(2,n),b-=o}return(l?-1:1)*f*Math.pow(2,b-n)},x.write=function(e,p,y,n,M,b){var f,s,t,o=8*b-M-1,r=(1<<o)-1,i=r>>1,a=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:b-1,u=n?1:-1,h=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(s=isNaN(p)?1:0,f=r):(f=Math.floor(Math.log(p)/Math.LN2),p*(t=Math.pow(2,-f))<1&&(f--,t*=2),(p+=f+i>=1?a/t:a*Math.pow(2,1-i))*t>=2&&(f++,t/=2),f+i>=r?(s=0,f=r):f+i>=1?(s=(p*t-1)*Math.pow(2,M),f+=i):(s=p*Math.pow(2,i-1)*Math.pow(2,M),f=0));M>=8;e[y+l]=255&s,l+=u,s/=256,M-=8);for(f=f<<M|s,o+=M;o>0;e[y+l]=255&f,l+=u,f/=256,o-=8);e[y+l-u]|=128*h}},6768:function(S){typeof Object.create=="function"?S.exports=function(x,e){e&&(x.super_=e,x.prototype=Object.create(e.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}))}:S.exports=function(x,e){if(e){x.super_=e;var p=function(){};p.prototype=e.prototype,x.prototype=new p,x.prototype.constructor=x}}},91148:function(S,x,e){"use strict";var p=e(46672)(),y=e(99676)("Object.prototype.toString"),n=function(f){return!(p&&f&&typeof f=="object"&&Symbol.toStringTag in f)&&y(f)==="[object Arguments]"},M=function(f){return!!n(f)||f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&y(f)!=="[object Array]"&&y(f.callee)==="[object Function]"},b=function(){return n(arguments)}();n.isLegacyArguments=M,S.exports=b?n:M},24200:function(S){S.exports=!0},90720:function(S){"use strict";var x,e,p=Function.prototype.toString,y=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof y=="function"&&typeof Object.defineProperty=="function")try{x=Object.defineProperty({},"length",{get:function(){throw e}}),e={},y(function(){throw 42},null,x)}catch(i){i!==e&&(y=null)}else y=null;var n=/^\s*class\b/,M=function(i){try{var a=p.call(i);return n.test(a)}catch{return!1}},b=function(i){try{return!M(i)&&(p.call(i),!0)}catch{return!1}},f=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),o=function(){return!1};if(typeof document=="object"){var r=document.all;f.call(r)===f.call(document.all)&&(o=function(i){if((t||!i)&&(i===void 0||typeof i=="object"))try{var a=f.call(i);return(a==="[object HTMLAllCollection]"||a==="[object HTML document.all class]"||a==="[object HTMLCollection]"||a==="[object Object]")&&i("")==null}catch{}return!1})}S.exports=y?function(i){if(o(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;try{y(i,null,x)}catch(a){if(a!==e)return!1}return!M(i)&&b(i)}:function(i){if(o(i))return!0;if(!i||typeof i!="function"&&typeof i!="object")return!1;if(s)return b(i);if(M(i))return!1;var a=f.call(i);return!(a!=="[object Function]"&&a!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(a))&&b(i)}},84420:function(S,x,e){"use strict";var p,y=Object.prototype.toString,n=Function.prototype.toString,M=/^\s*(?:function)?\*/,b=e(46672)(),f=Object.getPrototypeOf;S.exports=function(s){if(typeof s!="function")return!1;if(M.test(n.call(s)))return!0;if(!b)return y.call(s)==="[object GeneratorFunction]";if(!f)return!1;if(p===void 0){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();p=!!t&&f(t)}return f(s)===p}},96604:function(S){"use strict";S.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(S){"use strict";S.exports=function(x){return x!=x}},1560:function(S,x,e){"use strict";var p=e(57916),y=e(81288),n=e(85992),M=e(57740),b=e(59736),f=p(M(),Number);y(f,{getPolyfill:M,implementation:n,shim:b}),S.exports=f},57740:function(S,x,e){"use strict";var p=e(85992);S.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},59736:function(S,x,e){"use strict";var p=e(81288),y=e(57740);S.exports=function(){var n=y();return p(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n}},18400:function(S){"use strict";S.exports=function(x){var e=typeof x;return x!==null&&(e==="object"||e==="function")}},58908:function(S){"use strict";var x=Object.prototype.toString;S.exports=function(e){var p;return x.call(e)==="[object Object]"&&((p=Object.getPrototypeOf(e))===null||p===Object.getPrototypeOf({}))}},94576:function(S){"use strict";S.exports=function(x){for(var e,p=x.length,y=0;y<p;y++)if(((e=x.charCodeAt(y))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(S){"use strict";S.exports=function(x){return typeof x=="string"&&(x=x.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(x)&&/[\dz]$/i.test(x)&&x.length>4))}},7728:function(S,x,e){"use strict";var p=e(46492),y=e(63436),n=e(99676),M=n("Object.prototype.toString"),b=e(46672)(),f=e(2304),s=typeof globalThis>"u"?e.g:globalThis,t=y(),o=n("Array.prototype.indexOf",!0)||function(l,u){for(var h=0;h<l.length;h+=1)if(l[h]===u)return h;return-1},r=n("String.prototype.slice"),i={},a=Object.getPrototypeOf;b&&f&&a&&p(t,function(l){var u=new s[l];if(Symbol.toStringTag in u){var h=a(u),c=f(h,Symbol.toStringTag);if(!c){var w=a(h);c=f(w,Symbol.toStringTag)}i[l]=c.get}}),S.exports=function(l){if(!l||typeof l!="object")return!1;if(!b||!(Symbol.toStringTag in l)){var u=r(M(l),8,-1);return o(t,u)>-1}return!!f&&function(h){var c=!1;return p(i,function(w,g){if(!c)try{c=w.call(h)===g}catch{}}),c}(l)}},76244:function(S){"use strict";S.exports=Math.log2||function(x){return Math.log(x)*Math.LOG2E}},62644:function(S,x,e){"use strict";S.exports=function(y,n){n||(n=y,y=window);var M=0,b=0,f=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function o(v){var m=!1;return"altKey"in v&&(m=m||v.altKey!==s.alt,s.alt=!!v.altKey),"shiftKey"in v&&(m=m||v.shiftKey!==s.shift,s.shift=!!v.shiftKey),"ctrlKey"in v&&(m=m||v.ctrlKey!==s.control,s.control=!!v.ctrlKey),"metaKey"in v&&(m=m||v.metaKey!==s.meta,s.meta=!!v.metaKey),m}function r(v,m){var T=p.x(m),_=p.y(m);"buttons"in m&&(v=0|m.buttons),(v!==M||T!==b||_!==f||o(m))&&(M=0|v,b=T||0,f=_||0,n&&n(M,b,f,s))}function i(v){r(0,v)}function a(){(M||b||f||s.shift||s.alt||s.meta||s.control)&&(b=f=0,M=0,s.shift=s.alt=s.control=s.meta=!1,n&&n(0,0,0,s))}function l(v){o(v)&&n&&n(M,b,f,s)}function u(v){p.buttons(v)===0?r(0,v):r(M,v)}function h(v){r(M|p.buttons(v),v)}function c(v){r(M&~p.buttons(v),v)}function w(){t||(t=!0,y.addEventListener("mousemove",u),y.addEventListener("mousedown",h),y.addEventListener("mouseup",c),y.addEventListener("mouseleave",i),y.addEventListener("mouseenter",i),y.addEventListener("mouseout",i),y.addEventListener("mouseover",i),y.addEventListener("blur",a),y.addEventListener("keyup",l),y.addEventListener("keydown",l),y.addEventListener("keypress",l),y!==window&&(window.addEventListener("blur",a),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}w();var g={element:y};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(v){v?w():t&&(t=!1,y.removeEventListener("mousemove",u),y.removeEventListener("mousedown",h),y.removeEventListener("mouseup",c),y.removeEventListener("mouseleave",i),y.removeEventListener("mouseenter",i),y.removeEventListener("mouseout",i),y.removeEventListener("mouseover",i),y.removeEventListener("blur",a),y.removeEventListener("keyup",l),y.removeEventListener("keydown",l),y.removeEventListener("keypress",l),y!==window&&(window.removeEventListener("blur",a),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return M},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return f},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),g};var p=e(93784)},29128:function(S){var x={left:0,top:0};S.exports=function(e,p,y){p=p||e.currentTarget||e.srcElement,Array.isArray(y)||(y=[0,0]);var n,M=e.clientX||0,b=e.clientY||0,f=(n=p)===window||n===document||n===document.body?x:n.getBoundingClientRect();return y[0]=M-f.left,y[1]=b-f.top,y}},93784:function(S,x){"use strict";function e(p){return p.target||p.srcElement||window}x.buttons=function(p){if(typeof p=="object"){if("buttons"in p)return p.buttons;if("which"in p){if((y=p.which)===2)return 4;if(y===3)return 2;if(y>0)return 1<<y-1}else if("button"in p){var y;if((y=p.button)===1)return 4;if(y===2)return 2;if(y>=0)return 1<<y}}return 0},x.element=e,x.x=function(p){if(typeof p=="object"){if("offsetX"in p)return p.offsetX;var y=e(p).getBoundingClientRect();return p.clientX-y.left}return 0},x.y=function(p){if(typeof p=="object"){if("offsetY"in p)return p.offsetY;var y=e(p).getBoundingClientRect();return p.clientY-y.top}return 0}},97264:function(S,x,e){"use strict";var p=e(23464);S.exports=function(y,n,M){typeof y=="function"&&(M=!!n,n=y,y=window);var b=p("ex",y),f=function(s){M&&s.preventDefault();var t=s.deltaX||0,o=s.deltaY||0,r=s.deltaZ||0,i=1;switch(s.deltaMode){case 1:i=b;break;case 2:i=window.innerHeight}if(o*=i,r*=i,(t*=i)||o||r)return n(t,o,r,s)};return y.addEventListener("wheel",f),f}},88324:function(S,x,e){var p;(function(y,n,M){n[y]=n[y]||function(){"use strict";var b,f,s,t=Object.prototype.toString,o=typeof setImmediate<"u"?function(T){return setImmediate(T)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(T,_,A,d){return Object.defineProperty(T,_,{value:A,writable:!0,configurable:d!==!1})}}catch{b=function(_,A,d){return _[A]=d,_}}function r(T,_){s.add(T,_),f||(f=o(s.drain))}function i(T){var _,A=typeof T;return T==null||A!="object"&&A!="function"||(_=T.then),typeof _=="function"&&_}function a(){for(var T=0;T<this.chain.length;T++)l(this,this.state===1?this.chain[T].success:this.chain[T].failure,this.chain[T]);this.chain.length=0}function l(T,_,A){var d,C;try{_===!1?A.reject(T.msg):(d=_===!0?T.msg:_.call(void 0,T.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(C=i(d))?C.call(d,A.resolve,A.reject):A.resolve(d)}catch(k){A.reject(k)}}function u(T){var _,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(_=i(T))?r(function(){var d=new w(A);try{_.call(T,function(){u.apply(d,arguments)},function(){h.apply(d,arguments)})}catch(C){h.call(d,C)}}):(A.msg=T,A.state=1,A.chain.length>0&&r(a,A))}catch(d){h.call(new w(A),d)}}}function h(T){var _=this;_.triggered||(_.triggered=!0,_.def&&(_=_.def),_.msg=T,_.state=2,_.chain.length>0&&r(a,_))}function c(T,_,A,d){for(var C=0;C<_.length;C++)(function(k){T.resolve(_[k]).then(function(D){A(k,D)},d)})(C)}function w(T){this.def=T,this.triggered=!1}function g(T){this.promise=T,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(T){if(typeof T!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _=new g(this);this.then=function(A,d){var C={success:typeof A!="function"||A,failure:typeof d=="function"&&d};return C.promise=new this.constructor(function(k,D){if(typeof k!="function"||typeof D!="function")throw TypeError("Not a function");C.resolve=k,C.reject=D}),_.chain.push(C),_.state!==0&&r(a,_),C.promise},this.catch=function(A){return this.then(void 0,A)};try{T.call(void 0,function(A){u.call(_,A)},function(A){h.call(_,A)})}catch(A){h.call(_,A)}}s=function(){var T,_,A;function d(C,k){this.fn=C,this.self=k,this.next=void 0}return{add:function(C,k){A=new d(C,k),_?_.next=A:T=A,_=A,A=void 0},drain:function(){var C=T;for(T=_=f=void 0;C;)C.fn.call(C.self),C=C.next}}}();var m=b({},"constructor",v,!1);return v.prototype=m,b(m,"__NPO__",0,!1),b(v,"resolve",function(T){return T&&typeof T=="object"&&T.__NPO__===1?T:new this(function(_,A){if(typeof _!="function"||typeof A!="function")throw TypeError("Not a function");_(T)})}),b(v,"reject",function(T){return new this(function(_,A){if(typeof _!="function"||typeof A!="function")throw TypeError("Not a function");A(T)})}),b(v,"all",function(T){var _=this;return t.call(T)!="[object Array]"?_.reject(TypeError("Not an array")):T.length===0?_.resolve([]):new _(function(A,d){if(typeof A!="function"||typeof d!="function")throw TypeError("Not a function");var C=T.length,k=Array(C),D=0;c(_,T,function(O,L){k[O]=L,++D===C&&A(k)},d)})}),b(v,"race",function(T){var _=this;return t.call(T)!="[object Array]"?_.reject(TypeError("Not an array")):new _(function(A,d){if(typeof A!="function"||typeof d!="function")throw TypeError("Not a function");c(_,T,function(C,k){A(k)},d)})}),v}(),S.exports?S.exports=n[y]:(p=(function(){return n[y]}).call(x,e,x,S))===void 0||(S.exports=p)})("Promise",e.g!==void 0?e.g:this)},48816:function(S){var x=Math.PI,e=b(120);function p(f,s,t,o){return["C",f,s,t,o,t,o]}function y(f,s,t,o,r,i){return["C",f/3+.6666666666666666*t,s/3+.6666666666666666*o,r/3+.6666666666666666*t,i/3+.6666666666666666*o,r,i]}function n(f,s,t,o,r,i,a,l,u,h){if(h)C=h[0],k=h[1],A=h[2],d=h[3];else{var c=M(f,s,-r);f=c.x,s=c.y;var w=(f-(l=(c=M(l,u,-r)).x))/2,g=(s-(u=c.y))/2,v=w*w/(t*t)+g*g/(o*o);v>1&&(t*=v=Math.sqrt(v),o*=v);var m=t*t,T=o*o,_=(i==a?-1:1)*Math.sqrt(Math.abs((m*T-m*g*g-T*w*w)/(m*g*g+T*w*w)));_==1/0&&(_=1);var A=_*t*g/o+(f+l)/2,d=_*-o*w/t+(s+u)/2,C=Math.asin(((s-d)/o).toFixed(9)),k=Math.asin(((u-d)/o).toFixed(9));(C=f<A?x-C:C)<0&&(C=2*x+C),(k=l<A?x-k:k)<0&&(k=2*x+k),a&&C>k&&(C-=2*x),!a&&k>C&&(k-=2*x)}if(Math.abs(k-C)>e){var D=k,O=l,L=u;k=C+e*(a&&k>C?1:-1);var R=n(l=A+t*Math.cos(k),u=d+o*Math.sin(k),t,o,r,0,a,O,L,[k,D,A,d])}var z=Math.tan((k-C)/4),q=4/3*t*z,N=4/3*o*z,V=[2*f-(f+q*Math.sin(C)),2*s-(s-N*Math.cos(C)),l+q*Math.sin(k),u-N*Math.cos(k),l,u];if(h)return V;R&&(V=V.concat(R));for(var Z=0;Z<V.length;){var j=M(V[Z],V[Z+1],r);V[Z++]=j.x,V[Z++]=j.y}return V}function M(f,s,t){return{x:f*Math.cos(t)-s*Math.sin(t),y:f*Math.sin(t)+s*Math.cos(t)}}function b(f){return f*(x/180)}S.exports=function(f){for(var s,t=[],o=0,r=0,i=0,a=0,l=null,u=null,h=0,c=0,w=0,g=f.length;w<g;w++){var v=f[w],m=v[0];switch(m){case"M":i=v[1],a=v[2];break;case"A":(v=n(h,c,v[1],v[2],b(v[3]),v[4],v[5],v[6],v[7])).unshift("C"),v.length>7&&(t.push(v.splice(0,7)),v.unshift("C"));break;case"S":var T=h,_=c;s!="C"&&s!="S"||(T+=T-o,_+=_-r),v=["C",T,_,v[1],v[2],v[3],v[4]];break;case"T":s=="Q"||s=="T"?(l=2*h-l,u=2*c-u):(l=h,u=c),v=y(h,c,l,u,v[1],v[2]);break;case"Q":l=v[1],u=v[2],v=y(h,c,v[1],v[2],v[3],v[4]);break;case"L":v=p(h,c,v[1],v[2]);break;case"H":v=p(h,c,v[1],c);break;case"V":v=p(h,c,h,v[1]);break;case"Z":v=p(h,c,i,a)}s=m,h=v[v.length-2],c=v[v.length-1],v.length>4?(o=v[v.length-4],r=v[v.length-3]):(o=h,r=c),t.push(v)}return t}},50896:function(S){"use strict";var x=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;S.exports=function(){try{if(!Object.assign)return!1;var y=new String("abc");if(y[5]="de",Object.getOwnPropertyNames(y)[0]==="5")return!1;for(var n={},M=0;M<10;M++)n["_"+String.fromCharCode(M)]=M;if(Object.getOwnPropertyNames(n).map(function(f){return n[f]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(f){b[f]=f}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(y,n){for(var M,b,f=function(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(y),s=1;s<arguments.length;s++){for(var t in M=Object(arguments[s]))e.call(M,t)&&(f[t]=M[t]);if(x){b=x(M);for(var o=0;o<b.length;o++)p.call(M,b[o])&&(f[b[o]]=M[b[o]])}}return f}},76835:function(S){"use strict";var x=function(e){return e!=e};S.exports=function(e,p){return e===0&&p===0?1/e==1/p:e===p||!(!x(e)||!x(p))}},39896:function(S,x,e){"use strict";var p=e(81288),y=e(57916),n=e(76835),M=e(66148),b=e(16408),f=y(M(),Object);p(f,{getPolyfill:M,implementation:n,shim:b}),S.exports=f},66148:function(S,x,e){"use strict";var p=e(76835);S.exports=function(){return typeof Object.is=="function"?Object.is:p}},16408:function(S,x,e){"use strict";var p=e(66148),y=e(81288);S.exports=function(){var n=p();return y(Object,{is:n},{is:function(){return Object.is!==n}}),n}},32764:function(S,x,e){"use strict";var p;if(!Object.keys){var y=Object.prototype.hasOwnProperty,n=Object.prototype.toString,M=e(97344),b=Object.prototype.propertyIsEnumerable,f=!b.call({toString:null},"toString"),s=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(a){var l=a.constructor;return l&&l.prototype===a},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},i=function(){if(typeof window>"u")return!1;for(var a in window)try{if(!r["$"+a]&&y.call(window,a)&&window[a]!==null&&typeof window[a]=="object")try{o(window[a])}catch{return!0}}catch{return!0}return!1}();p=function(a){var l=a!==null&&typeof a=="object",u=n.call(a)==="[object Function]",h=M(a),c=l&&n.call(a)==="[object String]",w=[];if(!l&&!u&&!h)throw new TypeError("Object.keys called on a non-object");var g=s&&u;if(c&&a.length>0&&!y.call(a,0))for(var v=0;v<a.length;++v)w.push(String(v));if(h&&a.length>0)for(var m=0;m<a.length;++m)w.push(String(m));else for(var T in a)g&&T==="prototype"||!y.call(a,T)||w.push(String(T));if(f)for(var _=function(d){if(typeof window>"u"||!i)return o(d);try{return o(d)}catch{return!1}}(a),A=0;A<t.length;++A)_&&t[A]==="constructor"||!y.call(a,t[A])||w.push(t[A]);return w}}S.exports=p},41820:function(S,x,e){"use strict";var p=Array.prototype.slice,y=e(97344),n=Object.keys,M=n?function(f){return n(f)}:e(32764),b=Object.keys;M.shim=function(){if(Object.keys){var f=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);f||(Object.keys=function(s){return y(s)?b(p.call(s)):b(s)})}else Object.keys=M;return Object.keys||M},S.exports=M},97344:function(S){"use strict";var x=Object.prototype.toString;S.exports=function(e){var p=x.call(e),y=p==="[object Arguments]";return y||(y=p!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&x.call(e.callee)==="[object Function]"),y}},32868:function(S){"use strict";function x(y,n){if(typeof y!="string")return[y];var M=[y];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var b=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],f=n.escape||"___",s=!!n.flat;b.forEach(function(o){var r=new RegExp(["\\",o[0],"[^\\",o[0],"\\",o[1],"]*\\",o[1]].join("")),i=[];function a(l,u,h){var c=M.push(l.slice(o[0].length,-o[1].length))-1;return i.push(c),f+c+f}M.forEach(function(l,u){for(var h,c=0;l!=h;)if(h=l,l=l.replace(r,a),c++>1e4)throw Error("References have circular dependency. Please, check them.");M[u]=l}),i=i.reverse(),M=M.map(function(l){return i.forEach(function(u){l=l.replace(new RegExp("(\\"+f+u+"\\"+f+")","g"),o[0]+"$1"+o[1])}),l})});var t=new RegExp("\\"+f+"([0-9]+)\\"+f);return s?M:function o(r,i,a){for(var l,u=[],h=0;l=t.exec(r);){if(h++>1e4)throw Error("Circular references in parenthesis");u.push(r.slice(0,l.index)),u.push(o(i[l[1]],i)),r=r.slice(l.index+l[0].length)}return u.push(r),u}(M[0],M)}function e(y,n){if(n&&n.flat){var M,b=n&&n.escape||"___",f=y[0];if(!f)return"";for(var s=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;f!=M;){if(t++>1e4)throw Error("Circular references in "+y);M=f,f=f.replace(s,o)}return f}return y.reduce(function r(i,a){return Array.isArray(a)&&(a=a.reduce(r,"")),i+a},"");function o(r,i){if(y[i]==null)throw Error("Reference "+i+"is undefined");return y[i]}}function p(y,n){return Array.isArray(y)?e(y,n):x(y,n)}p.parse=x,p.stringify=e,S.exports=p},51160:function(S,x,e){"use strict";var p=e(55616);S.exports=function(y){var n;return arguments.length>1&&(y=arguments),typeof y=="string"?y=y.split(/\s/).map(parseFloat):typeof y=="number"&&(y=[y]),y.length&&typeof y[0]=="number"?n=y.length===1?{width:y[0],height:y[0],x:0,y:0}:y.length===2?{width:y[0],height:y[1],x:0,y:0}:{x:y[0],y:y[1],width:y[2]-y[0]||0,height:y[3]-y[1]||0}:y&&(n={x:(y=p(y,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:y.top||0},y.width==null?y.right?n.width=y.right-n.x:n.width=0:n.width=y.width,y.height==null?y.bottom?n.height=y.bottom-n.y:n.height=0:n.height=y.height),n}},21984:function(S){S.exports=function(y){var n=[];return y.replace(e,function(M,b,f){var s=b.toLowerCase();for(f=function(t){var o=t.match(p);return o?o.map(Number):[]}(f),s=="m"&&f.length>2&&(n.push([b].concat(f.splice(0,2))),s="l",b=b=="m"?"l":"L");;){if(f.length==x[s])return f.unshift(b),n.push(f);if(f.length<x[s])throw new Error("malformed path data");n.push([b].concat(f.splice(0,x[s])))}}),n};var x={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,p=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(S){S.exports=function(x,e){e||(e=[0,""]),x=String(x);var p=parseFloat(x,10);return e[0]=p,e[1]=x.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(S,x,e){var p=e(4168);(function(){var y,n,M,b,f,s;typeof performance<"u"&&performance!==null&&performance.now?S.exports=function(){return performance.now()}:p!=null&&p.hrtime?(S.exports=function(){return(y()-f)/1e6},n=p.hrtime,b=(y=function(){var t;return 1e9*(t=n())[0]+t[1]})(),s=1e9*p.uptime(),f=b-s):Date.now?(S.exports=function(){return Date.now()-M},M=Date.now()):(S.exports=function(){return new Date().getTime()-M},M=new Date().getTime())}).call(this)},55616:function(S){"use strict";S.exports=function(p,y,n){var M,b,f={};if(typeof y=="string"&&(y=e(y)),Array.isArray(y)){var s={};for(b=0;b<y.length;b++)s[y[b]]=!0;y=s}for(M in y)y[M]=e(y[M]);var t={};for(M in y){var o=y[M];if(Array.isArray(o))for(b=0;b<o.length;b++){var r=o[b];if(n&&(t[r]=!0),r in p){if(f[M]=p[r],n)for(var i=b;i<o.length;i++)t[o[i]]=!0;break}}else M in p&&(y[M]&&(f[M]=p[M]),n&&(t[M]=!0))}if(n)for(M in p)t[M]||(f[M]=p[M]);return f};var x={};function e(p){return x[p]?x[p]:(typeof p=="string"&&(p=x[p]=p.split(/\s*,\s*|\s+/)),p)}},61456:function(S){S.exports=function(x,e,p,y){var n=x[0],M=x[1],b=!1;p===void 0&&(p=0),y===void 0&&(y=e.length);for(var f=y-p,s=0,t=f-1;s<f;t=s++){var o=e[s+p][0],r=e[s+p][1],i=e[t+p][0],a=e[t+p][1];r>M!=a>M&&n<(i-o)*(M-r)/(a-r)+o&&(b=!b)}return b}},14756:function(S,x,e){var p,y=e(7688),n=e(28648),M=e(72200),b=e(11403),f=e(82368),s=e(17792),t=!1,o=n();function r(i,a,l){var u=p.segments(i),h=p.segments(a),c=l(p.combine(u,h));return p.polygon(c)}p={buildLog:function(i){return i===!0?t=y():i===!1&&(t=!1),t!==!1&&t.list},epsilon:function(i){return o.epsilon(i)},segments:function(i){var a=M(!0,o,t);return i.regions.forEach(a.addRegion),{segments:a.calculate(i.inverted),inverted:i.inverted}},combine:function(i,a){return{combined:M(!1,o,t).calculate(i.segments,i.inverted,a.segments,a.inverted),inverted1:i.inverted,inverted2:a.inverted}},selectUnion:function(i){return{segments:f.union(i.combined,t),inverted:i.inverted1||i.inverted2}},selectIntersect:function(i){return{segments:f.intersect(i.combined,t),inverted:i.inverted1&&i.inverted2}},selectDifference:function(i){return{segments:f.difference(i.combined,t),inverted:i.inverted1&&!i.inverted2}},selectDifferenceRev:function(i){return{segments:f.differenceRev(i.combined,t),inverted:!i.inverted1&&i.inverted2}},selectXor:function(i){return{segments:f.xor(i.combined,t),inverted:i.inverted1!==i.inverted2}},polygon:function(i){return{regions:b(i.segments,o,t),inverted:i.inverted}},polygonFromGeoJSON:function(i){return s.toPolygon(p,i)},polygonToGeoJSON:function(i){return s.fromPolygon(p,o,i)},union:function(i,a){return r(i,a,p.selectUnion)},intersect:function(i,a){return r(i,a,p.selectIntersect)},difference:function(i,a){return r(i,a,p.selectDifference)},differenceRev:function(i,a){return r(i,a,p.selectDifferenceRev)},xor:function(i,a){return r(i,a,p.selectXor)}},typeof window=="object"&&(window.PolyBool=p),S.exports=p},7688:function(S){S.exports=function(){var x,e=0,p=!1;function y(n,M){return x.list.push({type:n,data:M?JSON.parse(JSON.stringify(M)):void 0}),x}return x={list:[],segmentId:function(){return e++},checkIntersection:function(n,M){return y("check",{seg1:n,seg2:M})},segmentChop:function(n,M){return y("div_seg",{seg:n,pt:M}),y("chop",{seg:n,pt:M})},statusRemove:function(n){return y("pop_seg",{seg:n})},segmentUpdate:function(n){return y("seg_update",{seg:n})},segmentNew:function(n,M){return y("new_seg",{seg:n,primary:M})},segmentRemove:function(n){return y("rem_seg",{seg:n})},tempStatus:function(n,M,b){return y("temp_status",{seg:n,above:M,below:b})},rewind:function(n){return y("rewind",{seg:n})},status:function(n,M,b){return y("status",{seg:n,above:M,below:b})},vert:function(n){return n===p?x:(p=n,y("vert",{x:n}))},log:function(n){return typeof n!="string"&&(n=JSON.stringify(n,!1,"  ")),y("log",{txt:n})},reset:function(){return y("reset")},selected:function(n){return y("selected",{segs:n})},chainStart:function(n){return y("chain_start",{seg:n})},chainRemoveHead:function(n,M){return y("chain_rem_head",{index:n,pt:M})},chainRemoveTail:function(n,M){return y("chain_rem_tail",{index:n,pt:M})},chainNew:function(n,M){return y("chain_new",{pt1:n,pt2:M})},chainMatch:function(n){return y("chain_match",{index:n})},chainClose:function(n){return y("chain_close",{index:n})},chainAddHead:function(n,M){return y("chain_add_head",{index:n,pt:M})},chainAddTail:function(n,M){return y("chain_add_tail",{index:n,pt:M})},chainConnect:function(n,M){return y("chain_con",{index1:n,index2:M})},chainReverse:function(n){return y("chain_rev",{index:n})},chainJoin:function(n,M){return y("chain_join",{index1:n,index2:M})},done:function(){return y("done")}}}},28648:function(S){S.exports=function(x){typeof x!="number"&&(x=1e-10);var e={epsilon:function(p){return typeof p=="number"&&(x=p),x},pointAboveOrOnLine:function(p,y,n){var M=y[0],b=y[1],f=n[0],s=n[1],t=p[0];return(f-M)*(p[1]-b)-(s-b)*(t-M)>=-x},pointBetween:function(p,y,n){var M=p[1]-y[1],b=n[0]-y[0],f=p[0]-y[0],s=n[1]-y[1],t=f*b+M*s;return!(t<x||t-(b*b+s*s)>-x)},pointsSameX:function(p,y){return Math.abs(p[0]-y[0])<x},pointsSameY:function(p,y){return Math.abs(p[1]-y[1])<x},pointsSame:function(p,y){return e.pointsSameX(p,y)&&e.pointsSameY(p,y)},pointsCompare:function(p,y){return e.pointsSameX(p,y)?e.pointsSameY(p,y)?0:p[1]<y[1]?-1:1:p[0]<y[0]?-1:1},pointsCollinear:function(p,y,n){var M=p[0]-y[0],b=p[1]-y[1],f=y[0]-n[0],s=y[1]-n[1];return Math.abs(M*s-f*b)<x},linesIntersect:function(p,y,n,M){var b=y[0]-p[0],f=y[1]-p[1],s=M[0]-n[0],t=M[1]-n[1],o=b*t-f*s;if(Math.abs(o)<x)return!1;var r=p[0]-n[0],i=p[1]-n[1],a=(s*i-t*r)/o,l=(b*i-f*r)/o,u={alongA:0,alongB:0,pt:[p[0]+a*b,p[1]+a*f]};return u.alongA=a<=-x?-2:a<x?-1:a-1<=-x?0:a-1<x?1:2,u.alongB=l<=-x?-2:l<x?-1:l-1<=-x?0:l-1<x?1:2,u},pointInsideRegion:function(p,y){for(var n=p[0],M=p[1],b=y[y.length-1][0],f=y[y.length-1][1],s=!1,t=0;t<y.length;t++){var o=y[t][0],r=y[t][1];r-M>x!=f-M>x&&(b-o)*(M-r)/(f-r)+o-n>x&&(s=!s),b=o,f=r}return s}};return e}},17792:function(S){var x={toPolygon:function(e,p){function y(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function f(o){var r=o.slice(0,o.length-1);return e.segments({inverted:!1,regions:[r]})}for(var s=f(b[0]),t=1;t<b.length;t++)s=e.selectDifference(e.combine(s,f(b[t])));return s}if(p.type==="Polygon")return e.polygon(y(p.coordinates));if(p.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),M=0;M<p.coordinates.length;M++)n=e.selectUnion(e.combine(n,y(p.coordinates[M])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,y){function n(l,u){return p.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function M(l){return{region:l,children:[]}}y=e.polygon(e.segments(y));var b=M(null);function f(l,u){for(var h=0;h<l.children.length;h++)if(n(u,(w=l.children[h]).region))return void f(w,u);var c=M(u);for(h=0;h<l.children.length;h++){var w;n((w=l.children[h]).region,u)&&(c.children.push(w),l.children.splice(h,1),h--)}l.children.push(c)}for(var s=0;s<y.regions.length;s++){var t=y.regions[s];t.length<3||f(b,t)}function o(l,u){for(var h=0,c=l[l.length-1][0],w=l[l.length-1][1],g=[],v=0;v<l.length;v++){var m=l[v][0],T=l[v][1];g.push([m,T]),h+=T*c-m*w,c=m,w=T}return h<0!==u&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var r=[];function i(l){var u=[o(l.region,!1)];r.push(u);for(var h=0;h<l.children.length;h++)u.push(a(l.children[h]))}function a(l){for(var u=0;u<l.children.length;u++)i(l.children[u]);return o(l.region,!0)}for(s=0;s<b.children.length;s++)i(b.children[s]);return r.length<=0?{type:"Polygon",coordinates:[]}:r.length==1?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}};S.exports=x},72200:function(S,x,e){var p=e(48088);S.exports=function(y,n,M){function b(i,a,l){return{id:M?M.segmentId():-1,start:i,end:a,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var f=p.create();function s(i,a){f.insertBefore(i,function(l){return u=i.isStart,h=i.pt,c=a,w=l.isStart,g=l.pt,v=l.other.pt,((m=n.pointsCompare(h,g))!==0?m:n.pointsSame(c,v)?0:u!==w?u?1:-1:n.pointAboveOrOnLine(c,w?g:v,w?v:g)?1:-1)<0;var u,h,c,w,g,v,m})}function t(i,a){var l=function(u,h){var c=p.node({isStart:!0,pt:u.start,seg:u,primary:h,other:null,status:null});return s(c,u.end),c}(i,a);return function(u,h,c){var w=p.node({isStart:!1,pt:h.end,seg:h,primary:c,other:u,status:null});u.other=w,s(w,u.pt)}(l,i,a),l}function o(i,a){var l=b(a,i.seg.end,i.seg);return function(u,h){M&&M.segmentChop(u.seg,h),u.other.remove(),u.seg.end=h,u.other.pt=h,s(u.other,u.pt)}(i,a),t(l,i.primary)}function r(i,a){var l=p.create();function u(D){return l.findTransition(function(O){var L,R,z,q,N,V;return L=D,R=O.ev,z=L.seg.start,q=L.seg.end,N=R.seg.start,V=R.seg.end,(n.pointsCollinear(z,N,V)?n.pointsCollinear(q,N,V)||n.pointAboveOrOnLine(q,N,V)?1:-1:n.pointAboveOrOnLine(z,N,V)?1:-1)>0})}function h(D,O){var L=D.seg,R=O.seg,z=L.start,q=L.end,N=R.start,V=R.end;M&&M.checkIntersection(L,R);var Z=n.linesIntersect(z,q,N,V);if(Z===!1){if(!n.pointsCollinear(z,q,N)||n.pointsSame(z,V)||n.pointsSame(q,N))return!1;var j=n.pointsSame(z,N),H=n.pointsSame(q,V);if(j&&H)return O;var Y=!j&&n.pointBetween(z,N,V),ie=!H&&n.pointBetween(q,N,V);if(j)return ie?o(O,q):o(D,V),O;Y&&(H||(ie?o(O,q):o(D,V)),o(O,z))}else Z.alongA===0&&(Z.alongB===-1?o(D,N):Z.alongB===0?o(D,Z.pt):Z.alongB===1&&o(D,V)),Z.alongB===0&&(Z.alongA===-1?o(O,z):Z.alongA===0?o(O,Z.pt):Z.alongA===1&&o(O,q));return!1}for(var c=[];!f.isEmpty();){var w=f.getHead();if(M&&M.vert(w.pt[0]),w.isStart){let D=function(){if(v){var O=h(w,v);if(O)return O}return!!m&&h(w,m)};var k=D;M&&M.segmentNew(w.seg,w.primary);var g=u(w),v=g.before?g.before.ev:null,m=g.after?g.after.ev:null;M&&M.tempStatus(w.seg,!!v&&v.seg,!!m&&m.seg);var T,_,A=D();if(A&&(y?(_=w.seg.myFill.below===null||w.seg.myFill.above!==w.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=w.seg.myFill,M&&M.segmentUpdate(A.seg),w.other.remove(),w.remove()),f.getHead()!==w){M&&M.rewind(w.seg);continue}y?(_=w.seg.myFill.below===null||w.seg.myFill.above!==w.seg.myFill.below,w.seg.myFill.below=m?m.seg.myFill.above:i,w.seg.myFill.above=_?!w.seg.myFill.below:w.seg.myFill.below):w.seg.otherFill===null&&(T=m?w.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:w.primary?a:i,w.seg.otherFill={above:T,below:T}),M&&M.status(w.seg,!!v&&v.seg,!!m&&m.seg),w.other.status=g.insert(p.node({ev:w}))}else{var d=w.status;if(d===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(d.prev)&&l.exists(d.next)&&h(d.prev.ev,d.next.ev),M&&M.statusRemove(d.ev.seg),d.remove(),!w.primary){var C=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=C}c.push(w.seg)}f.getHead().remove()}return M&&M.done(),c}return y?{addRegion:function(i){for(var a,l,u,h=i[i.length-1],c=0;c<i.length;c++){a=h,h=i[c];var w=n.pointsCompare(a,h);w!==0&&t((l=w<0?a:h,u=w<0?h:a,{id:M?M.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(i){return r(i,!1)}}:{calculate:function(i,a,l,u){return i.forEach(function(h){t(b(h.start,h.end,h),!0)}),l.forEach(function(h){t(b(h.start,h.end,h),!1)}),r(a,u)}}}},48088:function(S){S.exports={create:function(){var x={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==x.root},isEmpty:function(){return x.root.next===null},getHead:function(){return x.root.next},insertBefore:function(e,p){for(var y=x.root,n=x.root.next;n!==null;){if(p(n))return e.prev=n.prev,e.next=n,n.prev.next=e,void(n.prev=e);y=n,n=n.next}y.next=e,e.prev=y,e.next=null},findTransition:function(e){for(var p=x.root,y=x.root.next;y!==null&&!e(y);)p=y,y=y.next;return{before:p===x.root?null:p,after:y,insert:function(n){return n.prev=p,n.next=y,p.next=n,y!==null&&(y.prev=n),n}}}};return x},node:function(x){return x.prev=null,x.next=null,x.remove=function(){x.prev.next=x.next,x.next&&(x.next.prev=x.prev),x.prev=null,x.next=null},x}}},11403:function(S){S.exports=function(x,e,p){var y=[],n=[];return x.forEach(function(M){var b=M.start,f=M.end;if(e.pointsSame(b,f))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{p&&p.chainStart(M);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},o=s,r=0;r<y.length;r++){var i=(c=y[r])[0],a=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(i,b)){if(d(r,!0,!0))break}else if(e.pointsSame(i,f)){if(d(r,!0,!1))break}else if(e.pointsSame(a,b)){if(d(r,!1,!0))break}else if(e.pointsSame(a,f)&&d(r,!1,!1))break}if(o===s)return y.push([b,f]),void(p&&p.chainNew(b,f));if(o===t){p&&p.chainMatch(s.index);var l=s.index,u=s.matches_pt1?f:b,h=s.matches_head,c=y[l],w=h?c[0]:c[c.length-1],g=h?c[1]:c[c.length-2],v=h?c[c.length-1]:c[0],m=h?c[c.length-2]:c[1];return e.pointsCollinear(g,w,u)&&(h?(p&&p.chainRemoveHead(s.index,u),c.shift()):(p&&p.chainRemoveTail(s.index,u),c.pop()),w=g),e.pointsSame(v,u)?(y.splice(l,1),e.pointsCollinear(m,v,w)&&(h?(p&&p.chainRemoveTail(s.index,w),c.pop()):(p&&p.chainRemoveHead(s.index,w),c.shift())),p&&p.chainClose(s.index),void n.push(c)):void(h?(p&&p.chainAddHead(s.index,u),c.unshift(u)):(p&&p.chainAddTail(s.index,u),c.push(u)))}var T=s.index,_=t.index;p&&p.chainConnect(T,_);var A=y[T].length<y[_].length;s.matches_head?t.matches_head?A?(C(T),k(T,_)):(C(_),k(_,T)):k(_,T):t.matches_head?k(T,_):A?(C(T),k(_,T)):(C(_),k(T,_))}function d(D,O,L){return o.index=D,o.matches_head=O,o.matches_pt1=L,o===s?(o=t,!1):(o=null,!0)}function C(D){p&&p.chainReverse(D),y[D].reverse()}function k(D,O){var L=y[D],R=y[O],z=L[L.length-1],q=L[L.length-2],N=R[0],V=R[1];e.pointsCollinear(q,z,N)&&(p&&p.chainRemoveTail(D,z),L.pop(),z=q),e.pointsCollinear(z,N,V)&&(p&&p.chainRemoveHead(O,N),R.shift()),p&&p.chainJoin(D,O),y[D]=L.concat(R),y.splice(O,1)}}),n}},82368:function(S){function x(p,y,n){var M=[];return p.forEach(function(b){var f=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);y[f]!==0&&M.push({id:n?n.segmentId():-1,start:b.start,end:b.end,myFill:{above:y[f]===1,below:y[f]===2},otherFill:null})}),n&&n.selected(M),M}var e={union:function(p,y){return x(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],y)},intersect:function(p,y){return x(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],y)},difference:function(p,y){return x(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],y)},differenceRev:function(p,y){return x(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],y)},xor:function(p,y){return x(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],y)}};S.exports=e},9696:function(S,x,e){"use strict";var p=e(29936).Transform,y=e(55619);function n(){p.call(this,{readableObjectMode:!0})}function M(b,f,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,f&&(this.code=f),s&&(this.statusCode=s)}n.prototype=Object.create(p.prototype),n.prototype.constructor=n,y(n.prototype),x.gS=function(b,f,s){for(var t=f,o=0;o<s.length;)if(b[t++]!==s[o++])return!1;return!0},x.wR=function(b,f){var s=[],t=0;if(f&&f==="hex")for(;t<b.length;)s.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)s.push(255&b.charCodeAt(t));return s},x.Bz=function(b,f){return b[f]|b[f+1]<<8},x.eW=function(b,f){return b[f+1]|b[f]<<8},x.st=function(b,f){return b[f]|b[f+1]<<8|b[f+2]<<16|16777216*b[f+3]},x.eI=function(b,f){return b[f+3]|b[f+2]<<8|b[f+1]<<16|16777216*b[f]},M.prototype=Object.create(Error.prototype),M.prototype.constructor=M},11688:function(S){"use strict";function x(y,n){var M=new Error(y);return M.code=n,M}function e(y){try{return decodeURIComponent(escape(y))}catch{return y}}function p(y,n,M){this.input=y.subarray(n,M),this.start=n;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw x("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}p.prototype.each=function(y){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var M=this.ifds_to_read.shift();M.offset&&this.scan_ifd(M.id,M.offset,y)}},p.prototype.read_uint16=function(y){var n=this.input;if(y+2>n.length)throw x("unexpected EOF","EBADDATA");return this.big_endian?256*n[y]+n[y+1]:n[y]+256*n[y+1]},p.prototype.read_uint32=function(y){var n=this.input;if(y+4>n.length)throw x("unexpected EOF","EBADDATA");return this.big_endian?16777216*n[y]+65536*n[y+1]+256*n[y+2]+n[y+3]:n[y]+256*n[y+1]+65536*n[y+2]+16777216*n[y+3]},p.prototype.is_subifd_link=function(y,n){return y===0&&n===34665||y===0&&n===34853||y===34665&&n===40965},p.prototype.exif_format_length=function(y){switch(y){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(y,n){var M;switch(y){case 1:case 2:return this.input[n];case 6:return(M=this.input[n])|33554430*(128&M);case 3:return this.read_uint16(n);case 8:return(M=this.read_uint16(n))|131070*(32768&M);case 4:return this.read_uint32(n);case 9:return 0|this.read_uint32(n);default:return null}},p.prototype.scan_ifd=function(y,n,M){var b=this.read_uint16(n);n+=2;for(var f=0;f<b;f++){var s=this.read_uint16(n),t=this.read_uint16(n+2),o=this.read_uint32(n+4),r=this.exif_format_length(t),i=o*r,a=i<=4?n+8:this.read_uint32(n+8),l=!1;if(a+i>this.input.length)throw x("unexpected EOF","EBADDATA");for(var u=[],h=a,c=0;c<o;c++,h+=r){var w=this.exif_format_read(t,h);if(w===null){u=null;break}u.push(w)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(y,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),l=!0),M({is_big_endian:this.big_endian,ifd:y,tag:s,format:t,count:o,entry_offset:n+this.start,data_length:i,data_offset:a+this.start,value:u,is_subifd_link:l})===!1)return void(this.aborted=!0);n+=12}y===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},S.exports.ExifParser=p,S.exports.get_orientation=function(y){var n=0;try{return new p(y,0,y.length).each(function(M){if(M.ifd===0&&M.tag===274&&Array.isArray(M.value))return n=M.value[0],!1}),n}catch{return-1}}},44600:function(S,x,e){"use strict";var p=e(9696).eW,y=e(9696).eI;function n(o,r){if(o.length<4+r)return null;var i=y(o,r);return o.length<i+r||i<8?null:{boxtype:String.fromCharCode.apply(null,o.slice(r+4,r+8)),data:o.slice(r+8,r+i),end:r+i}}function M(o,r){for(var i=0;;){var a=n(o,i);if(!a)break;switch(a.boxtype){case"ispe":r.sizes.push({width:y(a.data,4),height:y(a.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&a.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&a.data[0]})}i=a.end}}function b(o,r,i){for(var a=0,l=0;l<i;l++)a=256*a+(o[r+l]||0);return a}function f(o,r){for(var i=o[4]>>4&15,a=15&o[4],l=o[5]>>4&15,u=p(o,6),h=8,c=0;c<u;c++){var w=p(o,h),g=p(o,h+=2),v=b(o,h+=2,l),m=p(o,h+=l);if(h+=2,g===0&&m===1){var T=b(o,h,i),_=b(o,h+i,a);r.item_loc[w]={length:_,offset:T+v}}h+=m*(i+a)}}function s(o,r){for(var i=p(o,4),a=6,l=0;l<i;l++){var u=n(o,a);if(!u)break;if(u.boxtype==="infe"){for(var h=p(u.data,4),c="",w=8;w<u.data.length&&u.data[w];w++)c+=String.fromCharCode(u.data[w]);r.item_inf[c]=h}a=u.end}}function t(o,r){for(var i=0;;){var a=n(o,i);if(!a)break;a.boxtype==="ipco"&&M(a.data,r),i=a.end}}S.exports.unbox=n,S.exports.readSizeFromMeta=function(o){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(w,g){for(var v=4;;){var m=n(w,v);if(!m)break;m.boxtype==="iprp"&&t(m.data,g),m.boxtype==="iloc"&&f(m.data,g),m.boxtype==="iinf"&&s(m.data,g),v=m.end}}(o,r),r.sizes.length){var i,a,l,u=(a=(i=r.sizes).reduce(function(w,g){return w.width>g.width||w.width===g.width&&w.height>g.height?w:g}),l=i.reduce(function(w,g){return w.height>g.height||w.height===g.height&&w.width>g.width?w:g}),a.width>l.height||a.width===l.height&&a.height>l.width?a:l),h=1;r.transforms.forEach(function(w){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},v={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(w.type==="imir"&&(h=w.value===0?v[h]:g[h=g[h=v[h]]]),w.type==="irot")for(var m=0;m<w.value;m++)h=g[h]});var c=null;return r.item_inf.Exif&&(c=r.item_loc[r.item_inf.Exif]),{width:u.width,height:u.height,orientation:r.transforms.length?h:null,variants:r.sizes,exif_location:c}}},S.exports.getMimeType=function(o){var r=String.fromCharCode.apply(null,o.slice(0,4)),i={};i[r]=!0;for(var a=8;a<o.length;a+=4)i[String.fromCharCode.apply(null,o.slice(a,a+4))]=!0;if(i.mif1||i.msf1||i.miaf)return r==="avif"||r==="avis"||r==="avio"?{type:"avif",mime:"image/avif"}:r==="heic"||r==="heix"?{type:"heic",mime:"image/heic"}:r==="hevc"||r==="hevx"?{type:"heic",mime:"image/heic-sequence"}:i.avif||i.avis?{type:"avif",mime:"image/avif"}:i.heic||i.heix||i.hevc||i.hevx||i.heis?i.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).eI,M=e(44600),b=e(11688),f=p("ftyp");S.exports=function(s){if(y(s,4,f)){var t=M.unbox(s,0);if(t){var o=M.getMimeType(t.data);if(o){for(var r,i=t.end;;){var a=M.unbox(s,i);if(!a)break;if(i=a.end,a.boxtype==="mdat")return;if(a.boxtype==="meta"){r=a.data;break}}if(r){var l=M.readSizeFromMeta(r);if(l){var u={width:l.width,height:l.height,type:o.type,mime:o.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=s.length){var h=n(s,l.exif_location.offset),c=s.slice(l.exif_location.offset+h+4,l.exif_location.offset+l.exif_location.length),w=b.get_orientation(c);w>0&&(u.orientation=w)}return u}}}}}}},38728:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).Bz,M=p("BM");S.exports=function(b){if(!(b.length<26)&&y(b,0,M))return{width:n(b,18),height:n(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).Bz,M=p("GIF87a"),b=p("GIF89a");S.exports=function(f){if(!(f.length<10)&&(y(f,0,M)||y(f,0,b)))return{width:n(f,6),height:n(f,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(S,x,e){"use strict";var p=e(9696).Bz;S.exports=function(y){var n=p(y,0),M=p(y,2),b=p(y,4);if(n===0&&M===1&&b){for(var f=[],s={width:0,height:0},t=0;t<b;t++){var o=y[6+16*t]||256,r=y[6+16*t+1]||256,i={width:o,height:r};f.push(i),(o>s.width||r>s.height)&&(s=i)}return{width:s.width,height:s.height,variants:f,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(S,x,e){"use strict";var p=e(9696).eW,y=e(9696).wR,n=e(9696).gS,M=e(11688),b=y("Exif\0\0");S.exports=function(f){if(!(f.length<2)&&f[0]===255&&f[1]===216&&f[2]===255)for(var s=2;;){for(;;){if(f.length-s<2)return;if(f[s++]===255)break}for(var t,o,r=f[s++];r===255;)r=f[s++];if(208<=r&&r<=217||r===1)t=0;else{if(!(192<=r&&r<=254)||f.length-s<2)return;t=p(f,s)-2,s+=2}if(r===217||r===218)return;if(r===225&&t>=10&&n(f,s,b)&&(o=M.get_orientation(f.slice(s+6,s+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(f.length-s<t)return;var i={width:p(f,s+3),height:p(f,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return o>0&&(i.orientation=o),i}s+=t}}},37276:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).eI,M=p(`\x89PNG\r

`),b=p("IHDR");S.exports=function(f){if(!(f.length<24)&&y(f,0,M)&&y(f,12,b))return{width:n(f,16),height:n(f,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).eI,M=p("8BPS\0");S.exports=function(b){if(!(b.length<22)&&y(b,0,M))return{width:n(b,18),height:n(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(S){"use strict";function x(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,p=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,y=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,n=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,M=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function f(s){return b.test(s)?s.match(b)[0]:"px"}S.exports=function(s){if(function(v){var m,T=0,_=v.length;for(v[0]===239&&v[1]===187&&v[2]===191&&(T=3);T<_&&((m=v[T])===32||m===9||m===13||m===10);)T++;return T!==_&&v[T]===60}(s)){for(var t="",o=0;o<s.length;o++)t+=String.fromCharCode(s[o]);var r=(t.match(e)||[""])[0];if(p.test(r)){var i=function(v){var m=v.match(y),T=v.match(n),_=v.match(M);return{width:m&&(m[1]||m[2]),height:T&&(T[1]||T[2]),viewbox:_&&(_[1]||_[2])}}(r),a=parseFloat(i.width),l=parseFloat(i.height);if(i.width&&i.height)return!x(a)||!x(l)?void 0:{width:a,height:l,type:"svg",mime:"image/svg+xml",wUnits:f(i.width),hUnits:f(i.height)};var u=(i.viewbox||"").split(" "),h={width:u[2],height:u[3]},c=parseFloat(h.width),w=parseFloat(h.height);if(x(c)&&x(w)&&f(h.width)===f(h.height)){var g=c/w;return i.width?x(a)?{width:a,height:a/g,type:"svg",mime:"image/svg+xml",wUnits:f(i.width),hUnits:f(i.width)}:void 0:i.height?x(l)?{width:l*g,height:l,type:"svg",mime:"image/svg+xml",wUnits:f(i.height),hUnits:f(i.height)}:void 0:{width:c,height:w,type:"svg",mime:"image/svg+xml",wUnits:f(h.width),hUnits:f(h.height)}}}}}},98792:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).Bz,M=e(9696).eW,b=e(9696).st,f=e(9696).eI,s=p("II*\0"),t=p("MM\0*");function o(a,l,u){return u?M(a,l):n(a,l)}function r(a,l,u){return u?f(a,l):b(a,l)}function i(a,l,u){var h=o(a,l+2,u);return r(a,l+4,u)!==1||h!==3&&h!==4?null:h===3?o(a,l+8,u):r(a,l+8,u)}S.exports=function(a){if(!(a.length<8)&&(y(a,0,s)||y(a,0,t))){var l=a[0]===77,u=r(a,4,l)-8;if(!(u<0)){var h=u+8;if(!(a.length-h<2)){var c=12*o(a,h+0,l);if(!(c<=0||(h+=2,a.length-h<c))){var w,g,v,m;for(w=0;w<c;w+=12)(m=o(a,h+w,l))===256?g=i(a,h+w,l):m===257&&(v=i(a,h+w,l));return g&&v?{width:g,height:v,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(S,x,e){"use strict";var p=e(9696).wR,y=e(9696).gS,n=e(9696).Bz,M=e(9696).st,b=e(11688),f=p("RIFF"),s=p("WEBP");function t(i,a){if(i[a+3]===157&&i[a+4]===1&&i[a+5]===42)return{width:16383&n(i,a+6),height:16383&n(i,a+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function o(i,a){if(i[a]===47){var l=M(i,a+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(i,a){return{width:1+(i[a+6]<<16|i[a+5]<<8|i[a+4]),height:1+(i[a+9]<<a|i[a+8]<<8|i[a+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}S.exports=function(i){if(!(i.length<16)&&(y(i,0,f)||y(i,8,s))){var a=12,l=null,u=0,h=M(i,4)+8;if(!(h>i.length)){for(;a+8<h;)if(i[a]!==0){var c=String.fromCharCode.apply(null,i.slice(a,a+4)),w=M(i,a+4);c==="VP8 "&&w>=10?l=l||t(i,a+8):c==="VP8L"&&w>=9?l=l||o(i,a+8):c==="VP8X"&&w>=10?l=l||r(i,a+8):c==="EXIF"&&(u=b.get_orientation(i.slice(a+8,a+8+w)),a=1/0),a+=8+w}else a++;if(l)return u>0&&(l.orientation=u),l}}}},87480:function(S,x,e){"use strict";S.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(S,x,e){"use strict";var p=e(87480);S.exports=function(y){return function(n){for(var M=Object.keys(p),b=0;b<M.length;b++){var f=p[M[b]](n);if(f)return f}return null}(y)},S.exports.parsers=p},4168:function(S){var x,e,p=S.exports={};function y(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function M(l){if(x===setTimeout)return setTimeout(l,0);if((x===y||!x)&&setTimeout)return x=setTimeout,setTimeout(l,0);try{return x(l,0)}catch{try{return x.call(null,l,0)}catch{return x.call(this,l,0)}}}(function(){try{x=typeof setTimeout=="function"?setTimeout:y}catch{x=y}try{e=typeof clearTimeout=="function"?clearTimeout:n}catch{e=n}})();var b,f=[],s=!1,t=-1;function o(){s&&b&&(s=!1,b.length?f=b.concat(f):t=-1,f.length&&r())}function r(){if(!s){var l=M(o);s=!0;for(var u=f.length;u;){for(b=f,f=[];++t<u;)b&&b[t].run();t=-1,u=f.length}b=null,s=!1,function(h){if(e===clearTimeout)return clearTimeout(h);if((e===n||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(h);try{return e(h)}catch{try{return e.call(null,h)}catch{return e.call(this,h)}}}(l)}}function i(l,u){this.fun=l,this.array=u}function a(){}p.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)u[h-1]=arguments[h];f.push(new i(l,u)),f.length!==1||s||M(r)},i.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.prependListener=a,p.prependOnceListener=a,p.listeners=function(l){return[]},p.binding=function(l){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(l){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},3951:function(S,x,e){for(var p=e(41984),y=typeof window>"u"?e.g:window,n=["moz","webkit"],M="AnimationFrame",b=y["request"+M],f=y["cancel"+M]||y["cancelRequest"+M],s=0;!b&&s<n.length;s++)b=y[n[s]+"Request"+M],f=y[n[s]+"Cancel"+M]||y[n[s]+"CancelRequest"+M];if(!b||!f){var t=0,o=0,r=[];b=function(i){if(r.length===0){var a=p(),l=Math.max(0,16.666666666666668-(a-t));t=l+a,setTimeout(function(){var u=r.slice(0);r.length=0;for(var h=0;h<u.length;h++)if(!u[h].cancelled)try{u[h].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(l))}return r.push({handle:++o,callback:i,cancelled:!1}),o},f=function(i){for(var a=0;a<r.length;a++)r[a].handle===i&&(r[a].cancelled=!0)}}S.exports=function(i){return b.call(y,i)},S.exports.cancel=function(){f.apply(y,arguments)},S.exports.polyfill=function(i){i||(i=y),i.requestAnimationFrame=b,i.cancelAnimationFrame=f}},24544:function(S,x,e){"use strict";var p=e(76752),y=e(72160),n=e(45223),M=e(55616),b=e(50896),f=e(47520),s=e(37816),t=s.float32,o=s.fract32;S.exports=function(i,a){if(typeof i=="function"?(a||(a={}),a.regl=i):a=i,a.length&&(a.positions=a),!(i=a.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,h,c,w,g,v=i._gl,m={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},T=[];return c=i.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),h=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=i.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=i.buffer({usage:"static",type:"float",data:r}),C(a),l=i({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:i.prop("range"),lineWidth:i.prop("lineWidth"),capSize:i.prop("capSize"),opacity:i.prop("opacity"),scale:i.prop("scale"),translate:i.prop("translate"),scaleFract:i.prop("scaleFract"),translateFract:i.prop("translateFract"),viewport:function(D,O){return[O.viewport.x,O.viewport.y,D.viewportWidth,D.viewportHeight]}},attributes:{color:{buffer:c,offset:function(D,O){return 4*O.offset},divisor:1},position:{buffer:u,offset:function(D,O){return 8*O.offset},divisor:1},positionFract:{buffer:h,offset:function(D,O){return 8*O.offset},divisor:1},error:{buffer:w,offset:function(D,O){return 16*O.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:!1,instances:i.prop("count"),count:r.length}),b(_,{update:C,draw:A,destroy:k,regl:i,gl:v,canvas:v.canvas,groups:T}),_;function _(D){D?C(D):D===null&&k(),A()}function A(D){if(typeof D=="number")return d(D);D&&!Array.isArray(D)&&(D=[D]),i._refresh(),T.forEach(function(O,L){O&&(D&&(D[L]?O.draw=!0:O.draw=!1),O.draw?d(L):O.draw=!0)})}function d(D){typeof D=="number"&&(D=T[D]),D!=null&&D&&D.count&&D.color&&D.opacity&&D.positions&&D.positions.length>1&&(D.scaleRatio=[D.scale[0]*D.viewport.width,D.scale[1]*D.viewport.height],l(D),D.after&&D.after(D))}function C(D){if(D){D.length!=null?typeof D[0]=="number"&&(D=[{positions:D}]):Array.isArray(D)||(D=[D]);var O=0,L=0;if(_.groups=T=D.map(function(j,H){var Y=T[H];return j&&(typeof j=="function"?j={after:j}:typeof j[0]=="number"&&(j={positions:j}),j=M(j,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),Y||(T[H]=Y={id:H,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},j=b({},m,j)),n(Y,j,[{lineWidth:function(ie){return .5*+ie},capSize:function(ie){return .5*+ie},opacity:parseFloat,errors:function(ie){return ie=f(ie),L+=ie.length,ie},positions:function(ie,re){return ie=f(ie,"float64"),re.count=Math.floor(ie.length/2),re.bounds=p(ie,2),re.offset=O,O+=re.count,ie}},{color:function(ie,re){var ne=re.count;if(ie||(ie="transparent"),!Array.isArray(ie)||typeof ie[0]=="number"){var ee=ie;ie=Array(ne);for(var Q=0;Q<ne;Q++)ie[Q]=ee}if(ie.length<ne)throw Error("Not enough colors");for(var X=new Uint8Array(4*ne),se=0;se<ne;se++){var ce=y(ie[se],"uint8");X.set(ce,4*se)}return X},range:function(ie,re,ne){var ee=re.bounds;return ie||(ie=ee),re.scale=[1/(ie[2]-ie[0]),1/(ie[3]-ie[1])],re.translate=[-ie[0],-ie[1]],re.scaleFract=o(re.scale),re.translateFract=o(re.translate),ie},viewport:function(ie){var re;return Array.isArray(ie)?re={x:ie[0],y:ie[1],width:ie[2]-ie[0],height:ie[3]-ie[1]}:ie?(re={x:ie.x||ie.left||0,y:ie.y||ie.top||0},ie.right?re.width=ie.right-re.x:re.width=ie.w||ie.width||0,ie.bottom?re.height=ie.bottom-re.y:re.height=ie.h||ie.height||0):re={x:0,y:0,width:v.drawingBufferWidth,height:v.drawingBufferHeight},re}}])),Y}),O||L){var R=T.reduce(function(j,H,Y){return j+(H?H.count:0)},0),z=new Float64Array(2*R),q=new Uint8Array(4*R),N=new Float32Array(4*R);T.forEach(function(j,H){if(j){var Y=j.positions,ie=j.count,re=j.offset,ne=j.color,ee=j.errors;ie&&(q.set(ne,4*re),N.set(ee,4*re),z.set(Y,2*re))}});var V=t(z);u(V);var Z=o(z,V);h(Z),c(q),w(N)}}}function k(){u.destroy(),h.destroy(),c.destroy(),w.destroy(),g.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(S,x,e){"use strict";var p=e(72160),y=e(76752),n=e(50896),M=e(55616),b=e(47520),f=e(28912),s=e(71152),t=e(37816),o=t.float32,r=t.fract32,i=e(60463),a=e(51160),l=e(10272);function u(h,c){if(!(this instanceof u))return new u(h,c);if(typeof h=="function"?(c||(c={}),c.regl=h):c=h,c.length&&(c.positions=c),!(h=c.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=u.shaders.has(h)?u.shaders.get(h):u.shaders.set(h,u.createShaders(h)).get(h),this.update(c)}S.exports=u,u.dashMult=2,u.maxPatternLength=256,u.precisionThreshold=3e6,u.maxPoints=1e4,u.maxLines=2048,u.shaders=new i,u.createShaders=function(h){var c,w=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),g={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(m,T){return T.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(m,T){return[T.viewport.x,T.viewport.y,m.viewportWidth,m.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(m,T){return!T.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},v=h(n({vert:`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},g));try{c=h(n({cull:{enable:!0,face:"back"},vert:`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,frag:`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},g))}catch{c=v}return{fill:h({primitive:"triangle",elements:function(m,T){return T.triangles},offset:0,vert:`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,frag:`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(m,T){return[T.viewport.x,T.viewport.y,m.viewportWidth,m.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:g.blend,depth:{enable:!1},scissor:g.scissor,stencil:g.stencil,viewport:g.viewport}),rect:v,miter:c}},u.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},u.prototype.render=function(){for(var h,c=[],w=arguments.length;w--;)c[w]=arguments[w];c.length&&(h=this).update.apply(h,c),this.draw()},u.prototype.draw=function(){for(var h=this,c=[],w=arguments.length;w--;)c[w]=arguments[w];return(c.length?c:this.passes).forEach(function(g,v){var m;if(g&&Array.isArray(g))return(m=h).draw.apply(m,g);typeof g=="number"&&(g=h.passes[g]),g&&g.count>1&&g.opacity&&(h.regl._refresh(),g.fill&&g.triangles&&g.triangles.length>2&&h.shaders.fill(g),g.thickness&&(g.scale[0]*g.viewport.width>u.precisionThreshold||g.scale[1]*g.viewport.height>u.precisionThreshold||g.join==="rect"||!g.join&&(g.thickness<=2||g.count>=u.maxPoints)?h.shaders.rect(g):h.shaders.miter(g)))}),this},u.prototype.update=function(h){var c=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var w=this.regl,g=this.gl;if(h.forEach(function(A,d){var C=c.passes[d];if(A!==void 0)if(A!==null){if(typeof A[0]=="number"&&(A={positions:A}),A=M(A,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),C||(c.passes[d]=C={id:d,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:w.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:w.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:w.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:w.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},A=n({},u.defaults,A)),A.thickness!=null&&(C.thickness=parseFloat(A.thickness)),A.opacity!=null&&(C.opacity=parseFloat(A.opacity)),A.miterLimit!=null&&(C.miterLimit=parseFloat(A.miterLimit)),A.overlay!=null&&(C.overlay=!!A.overlay,d<u.maxLines&&(C.depth=2*(u.maxLines-1-d%u.maxLines)/u.maxLines-1)),A.join!=null&&(C.join=A.join),A.hole!=null&&(C.hole=A.hole),A.fill!=null&&(C.fill=A.fill?p(A.fill,"uint8"):null),A.viewport!=null&&(C.viewport=a(A.viewport)),C.viewport||(C.viewport=a([g.drawingBufferWidth,g.drawingBufferHeight])),A.close!=null&&(C.close=A.close),A.positions===null&&(A.positions=[]),A.positions){var k,D;if(A.positions.x&&A.positions.y){var O=A.positions.x,L=A.positions.y;D=C.count=Math.max(O.length,L.length),k=new Float64Array(2*D);for(var R=0;R<D;R++)k[2*R]=O[R],k[2*R+1]=L[R]}else k=b(A.positions,"float64"),D=C.count=Math.floor(k.length/2);var z=C.bounds=y(k,2);if(C.fill){for(var q=[],N={},V=0,Z=0,j=0,H=C.count;Z<H;Z++){var Y=k[2*Z],ie=k[2*Z+1];isNaN(Y)||isNaN(ie)||Y==null||ie==null?(Y=k[2*V],ie=k[2*V+1],N[Z]=V):V=Z,q[j++]=Y,q[j++]=ie}if(A.splitNull){C.count-1 in N||(N[C.count]=C.count-1);var re=Object.keys(N).map(Number).sort(function(xt,gt){return xt-gt}),ne=[],ee=0,Q=C.hole!=null?C.hole[0]:null;if(Q!=null){var X=l(re,function(xt){return xt>=Q});(re=re.slice(0,X)).push(Q)}for(var se=function(xt){var gt=q.slice(2*ee,2*re[xt]).concat(Q?q.slice(2*Q):[]),nt=(C.hole||[]).map(function(At){return At-Q+(re[xt]-ee)}),et=f(gt,nt);et=et.map(function(At){return At+ee+(At+ee<re[xt]?0:Q-re[xt])}),ne.push.apply(ne,et),ee=re[xt]+1},ce=0;ce<re.length;ce++)se(ce);for(var le=0,de=ne.length;le<de;le++)N[ne[le]]!=null&&(ne[le]=N[ne[le]]);C.triangles=ne}else{for(var be=f(q,C.hole||[]),_e=0,ve=be.length;_e<ve;_e++)N[be[_e]]!=null&&(be[_e]=N[be[_e]]);C.triangles=be}}var me=new Float64Array(k);s(me,2,z);var ye=new Float64Array(2*D+6);C.close?k[0]===k[2*D-2]&&k[1]===k[2*D-1]?(ye[0]=me[2*D-4],ye[1]=me[2*D-3]):(ye[0]=me[2*D-2],ye[1]=me[2*D-1]):(ye[0]=me[0],ye[1]=me[1]),ye.set(me,2),C.close?k[0]===k[2*D-2]&&k[1]===k[2*D-1]?(ye[2*D+2]=me[2],ye[2*D+3]=me[3],C.count-=1):(ye[2*D+2]=me[0],ye[2*D+3]=me[1],ye[2*D+4]=me[2],ye[2*D+5]=me[3]):(ye[2*D+2]=me[2*D-2],ye[2*D+3]=me[2*D-1],ye[2*D+4]=me[2*D-2],ye[2*D+5]=me[2*D-1]);var Se=o(ye);C.positionBuffer(Se);var Ie=r(ye,Se);C.positionFractBuffer(Ie)}if(A.range?C.range=A.range:C.range||(C.range=C.bounds),(A.range||A.positions)&&C.count){var xe=C.bounds,ue=xe[2]-xe[0],ae=xe[3]-xe[1],pe=C.range[2]-C.range[0],De=C.range[3]-C.range[1];C.scale=[ue/pe,ae/De],C.translate=[-C.range[0]/pe+xe[0]/pe||0,-C.range[1]/De+xe[1]/De||0],C.scaleFract=r(C.scale),C.translateFract=r(C.translate)}if(A.dashes){var Te,Ae=0;if(!A.dashes||A.dashes.length<2)Ae=1,Te=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ae=0;for(var Ce=0;Ce<A.dashes.length;++Ce)Ae+=A.dashes[Ce];Te=new Uint8Array(Ae*u.dashMult);for(var Re=0,Ne=255,ge=0;ge<2;ge++)for(var Me=0;Me<A.dashes.length;++Me){for(var Ee=0,Fe=A.dashes[Me]*u.dashMult*.5;Ee<Fe;++Ee)Te[Re++]=Ne;Ne^=255}}C.dashLength=Ae,C.dashTexture({channels:1,data:Te,width:Te.length,height:1,mag:"linear",min:"linear"},0,0)}if(A.color){var Le=C.count,Ue=A.color;Ue||(Ue="transparent");var Ge=new Uint8Array(4*Le+4);if(Array.isArray(Ue)&&typeof Ue[0]!="number"){for(var Ke=0;Ke<Le;Ke++){var at=p(Ue[Ke],"uint8");Ge.set(at,4*Ke)}Ge.set(p(Ue[0],"uint8"),4*Le)}else for(var st=p(Ue,"uint8"),vt=0;vt<Le+1;vt++)Ge.set(st,4*vt);C.colorBuffer({usage:"dynamic",type:"uint8",data:Ge})}}else c.passes[d]=null}),h.length<this.passes.length){for(var v=h.length;v<this.passes.length;v++){var m=this.passes[v];m&&(m.colorBuffer.destroy(),m.positionBuffer.destroy(),m.dashTexture.destroy())}this.passes.length=h.length}for(var T=[],_=0;_<this.passes.length;_++)this.passes[_]!==null&&T.push(this.passes[_]);return this.passes=T,this}},u.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(S,x,e){"use strict";function p(v,m){return function(T){if(Array.isArray(T))return T}(v)||function(T,_){var A=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(A!=null){var d,C,k,D,O=[],L=!0,R=!1;try{if(k=(A=A.call(T)).next,_===0){if(Object(A)!==A)return;L=!1}else for(;!(L=(d=k.call(A)).done)&&(O.push(d.value),O.length!==_);L=!0);}catch(z){R=!0,C=z}finally{try{if(!L&&A.return!=null&&(D=A.return(),Object(D)!==D))return}finally{if(R)throw C}}return O}}(v,m)||y(v,m)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(v,m){if(v){if(typeof v=="string")return n(v,m);var T=Object.prototype.toString.call(v).slice(8,-1);return T==="Object"&&v.constructor&&(T=v.constructor.name),T==="Map"||T==="Set"?Array.from(v):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?n(v,m):void 0}}function n(v,m){(m==null||m>v.length)&&(m=v.length);for(var T=0,_=new Array(m);T<m;T++)_[T]=v[T];return _}var M=e(72160),b=e(76752),f=e(3808),s=e(3108),t=e(50896),o=e(26444),r=e(55616),i=e(45223),a=e(47520),l=e(96604),u=e(37816),h=e(51160),c=w;function w(v,m){var T=this;if(!(this instanceof w))return new w(v,m);typeof v=="function"?(m||(m={}),m.regl=v):(m=v,v=null),m&&m.length&&(m.positions=m);var _,A=(v=m.regl)._gl,d=[];this.tooManyColors=l,_=v.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:v,gl:A,groups:[],markerCache:[null],markerTextures:[null],palette:d,paletteIds:{},paletteTexture:_,maxColors:255,maxSize:100,canvas:A.canvas}),this.update(m);var C={uniforms:{constPointSize:!!m.constPointSize,opacity:v.prop("opacity"),paletteSize:function(O,L){return[T.tooManyColors?0:255,_.height]},pixelRatio:v.context("pixelRatio"),scale:v.prop("scale"),scaleFract:v.prop("scaleFract"),translate:v.prop("translate"),translateFract:v.prop("translateFract"),markerTexture:v.prop("markerTexture"),paletteTexture:_},attributes:{x:function(O,L){return L.xAttr||{buffer:L.positionBuffer,stride:8,offset:0}},y:function(O,L){return L.yAttr||{buffer:L.positionBuffer,stride:8,offset:4}},xFract:function(O,L){return L.xAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:0}},yFract:function(O,L){return L.yAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:4}},size:function(O,L){return L.size.length?{buffer:L.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*L.size/T.maxSize)]}},borderSize:function(O,L){return L.borderSize.length?{buffer:L.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*L.borderSize/T.maxSize)]}},colorId:function(O,L){return L.color.length?{buffer:L.colorBuffer,stride:T.tooManyColors?8:4,offset:0}:{constant:T.tooManyColors?d.slice(4*L.color,4*L.color+4):[L.color]}},borderColorId:function(O,L){return L.borderColor.length?{buffer:L.colorBuffer,stride:T.tooManyColors?8:4,offset:T.tooManyColors?4:2}:{constant:T.tooManyColors?d.slice(4*L.borderColor,4*L.borderColor+4):[L.borderColor]}},isActive:function(O,L){return L.activation===!0?{constant:[1]}:L.activation?L.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:v.prop("viewport")},viewport:v.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:v.prop("elements"),count:v.prop("count"),offset:v.prop("offset"),primitive:"points"},k=t({},C);k.frag=o([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),k.vert=o([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=v(k);var D=t({},C);D.frag=o([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),D.vert=o([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),l&&(D.frag=D.frag.replace("smoothstep","smoothStep"),k.frag=k.frag.replace("smoothstep","smoothStep")),this.drawCircle=v(D)}w.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},w.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},w.prototype.draw=function(){for(var v=this,m=arguments.length,T=new Array(m),_=0;_<m;_++)T[_]=arguments[_];var A=this.groups;if(T.length===1&&Array.isArray(T[0])&&(T[0][0]===null||Array.isArray(T[0][0]))&&(T=T[0]),this.regl._refresh(),T.length)for(var d=0;d<T.length;d++)this.drawItem(d,T[d]);else A.forEach(function(C,k){v.drawItem(k)});return this},w.prototype.drawItem=function(v,m){var T,_=this.groups,A=_[v];if(typeof m=="number"&&(v=m,A=_[m],m=null),A&&A.count&&A.opacity){A.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,A,m));for(var d=[],C=1;C<A.activation.length;C++)A.activation[C]&&(A.activation[C]===!0||A.activation[C].data.length)&&d.push.apply(d,function(k){if(Array.isArray(k))return n(k)}(T=this.getMarkerDrawOptions(C,A,m))||function(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}(T)||y(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());d.length&&this.drawMarker(d)}},w.prototype.getMarkerDrawOptions=function(v,m,T){var _=m.range,A=m.tree,d=m.viewport,C=m.activation,k=m.selectionBuffer,D=m.count;if(this.regl,!A)return T?[t({},m,{markerTexture:this.markerTextures[v],activation:C[v],count:T.length,elements:T,offset:0})]:[t({},m,{markerTexture:this.markerTextures[v],activation:C[v],offset:0})];var O=[],L=A.range(_,{lod:!0,px:[(_[2]-_[0])/d.width,(_[3]-_[1])/d.height]});if(T){for(var R=C[v].data,z=new Uint8Array(D),q=0;q<T.length;q++){var N=T[q];z[N]=R?R[N]:1}k.subdata(z)}for(var V=L.length;V--;){var Z=p(L[V],2),j=Z[0],H=Z[1];O.push(t({},m,{markerTexture:this.markerTextures[v],activation:T?k:C[v],offset:j,count:H-j}))}return O},w.prototype.update=function(){for(var v=this,m=arguments.length,T=new Array(m),_=0;_<m;_++)T[_]=arguments[_];if(T.length){T.length===1&&Array.isArray(T[0])&&(T=T[0]);var A=this.groups,d=this.gl,C=this.regl,k=this.maxSize,D=this.maxColors,O=this.palette;this.groups=A=T.map(function(L,R){var z=A[R];if(L===void 0)return z;L===null?L={positions:null}:typeof L=="function"?L={ondraw:L}:typeof L[0]=="number"&&(L={positions:L}),(L=r(L,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(L.positions=[]),L.tooManyColors!=null&&(v.tooManyColors=L.tooManyColors),z||(A[R]=z={id:R,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:C.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:C.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},L=t({},w.defaults,L)),L.positions&&!("marker"in L)&&(L.marker=z.marker,delete z.marker),L.marker&&!("positions"in L)&&(L.positions=z.positions,delete z.positions);var q=0,N=0;if(i(z,L,[{snap:!0,size:function(ve,me){return ve==null&&(ve=w.defaults.size),q+=ve&&ve.length?1:0,ve},borderSize:function(ve,me){return ve==null&&(ve=w.defaults.borderSize),q+=ve&&ve.length?1:0,ve},opacity:parseFloat,color:function(ve,me){return ve==null&&(ve=w.defaults.color),ve=v.updateColor(ve),N++,ve},borderColor:function(ve,me){return ve==null&&(ve=w.defaults.borderColor),ve=v.updateColor(ve),N++,ve},bounds:function(ve,me,ye){return"range"in ye||(ye.range=null),ve},positions:function(ve,me,ye){var Se=me.snap,Ie=me.positionBuffer,xe=me.positionFractBuffer,ue=me.selectionBuffer;if(ve.x||ve.y)return ve.x.length?me.xAttr={buffer:C.buffer(ve.x),offset:0,stride:4,count:ve.x.length}:me.xAttr={buffer:ve.x.buffer,offset:4*ve.x.offset||0,stride:4*(ve.x.stride||1),count:ve.x.count},ve.y.length?me.yAttr={buffer:C.buffer(ve.y),offset:0,stride:4,count:ve.y.length}:me.yAttr={buffer:ve.y.buffer,offset:4*ve.y.offset||0,stride:4*(ve.y.stride||1),count:ve.y.count},me.count=Math.max(me.xAttr.count,me.yAttr.count),ve;ve=a(ve,"float64");var ae=me.count=Math.floor(ve.length/2),pe=me.bounds=ae?b(ve,2):null;if(ye.range||me.range||(delete me.range,ye.range=pe),ye.marker||me.marker||(delete me.marker,ye.marker=null),Se&&(Se===!0||ae>Se)?me.tree=s(ve,{bounds:pe}):Se&&Se.length&&(me.tree=Se),me.tree){var De={primitive:"points",usage:"static",data:me.tree,type:"uint32"};me.elements?me.elements(De):me.elements=C.elements(De)}var Te=u.float32(ve);return Ie({data:Te,usage:"dynamic"}),xe({data:u.fract32(ve,Te),usage:"dynamic"}),ue({data:new Uint8Array(ae),type:"uint8",usage:"stream"}),ve}},{marker:function(ve,me,ye){var Se=me.activation;if(Se.forEach(function(Te){return Te&&Te.destroy&&Te.destroy()}),Se.length=0,ve&&typeof ve[0]!="number"){for(var Ie=[],xe=0,ue=Math.min(ve.length,me.count);xe<ue;xe++){var ae=v.addMarker(ve[xe]);Ie[ae]||(Ie[ae]=new Uint8Array(me.count)),Ie[ae][xe]=1}for(var pe=0;pe<Ie.length;pe++)if(Ie[pe]){var De={data:Ie[pe],type:"uint8",usage:"static"};Se[pe]?Se[pe](De):Se[pe]=C.buffer(De),Se[pe].data=Ie[pe]}}else Se[v.addMarker(ve)]=!0;return ve},range:function(ve,me,ye){var Se=me.bounds;if(Se)return ve||(ve=Se),me.scale=[1/(ve[2]-ve[0]),1/(ve[3]-ve[1])],me.translate=[-ve[0],-ve[1]],me.scaleFract=u.fract(me.scale),me.translateFract=u.fract(me.translate),ve},viewport:function(ve){return h(ve||[d.drawingBufferWidth,d.drawingBufferHeight])}}]),q){var V=z,Z=V.count,j=V.size,H=V.borderSize,Y=V.sizeBuffer,ie=new Uint8Array(2*Z);if(j.length||H.length)for(var re=0;re<Z;re++)ie[2*re]=Math.round(255*(j[re]==null?j:j[re])/k),ie[2*re+1]=Math.round(255*(H[re]==null?H:H[re])/k);Y({data:ie,usage:"dynamic"})}if(N){var ne,ee=z,Q=ee.count,X=ee.color,se=ee.borderColor,ce=ee.colorBuffer;if(v.tooManyColors){if(X.length||se.length){ne=new Uint8Array(8*Q);for(var le=0;le<Q;le++){var de=X[le];ne[8*le]=O[4*de],ne[8*le+1]=O[4*de+1],ne[8*le+2]=O[4*de+2],ne[8*le+3]=O[4*de+3];var be=se[le];ne[8*le+4]=O[4*be],ne[8*le+5]=O[4*be+1],ne[8*le+6]=O[4*be+2],ne[8*le+7]=O[4*be+3]}}}else if(X.length||se.length){ne=new Uint8Array(4*Q+2);for(var _e=0;_e<Q;_e++)X[_e]!=null&&(ne[4*_e]=X[_e]%D,ne[4*_e+1]=Math.floor(X[_e]/D)),se[_e]!=null&&(ne[4*_e+2]=se[_e]%D,ne[4*_e+3]=Math.floor(se[_e]/D))}ce({data:ne||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return z})}},w.prototype.addMarker=function(v){var m,T=this.markerTextures,_=this.regl,A=this.markerCache,d=v==null?0:A.indexOf(v);if(d>=0)return d;if(v instanceof Uint8Array||v instanceof Uint8ClampedArray)m=v;else{m=new Uint8Array(v.length);for(var C=0,k=v.length;C<k;C++)m[C]=255*v[C]}var D=Math.floor(Math.sqrt(m.length));return d=T.length,A.push(v),T.push(_.texture({channels:1,data:m,radius:D,mag:"linear",min:"linear"})),d},w.prototype.updateColor=function(v){var m=this.paletteIds,T=this.palette,_=this.maxColors;Array.isArray(v)||(v=[v]);var A=[];if(typeof v[0]=="number"){var d=[];if(Array.isArray(v))for(var C=0;C<v.length;C+=4)d.push(v.slice(C,C+4));else for(var k=0;k<v.length;k+=4)d.push(v.subarray(k,k+4));v=d}for(var D=0;D<v.length;D++){var O=v[D];O=M(O,"uint8");var L=f(O,!1);if(m[L]==null){var R=T.length;m[L]=Math.floor(R/4),T[R]=O[0],T[R+1]=O[1],T[R+2]=O[2],T[R+3]=O[3]}A[D]=m[L]}return!this.tooManyColors&&T.length>4*_&&(this.tooManyColors=!0),this.updatePalette(T),A.length===1?A[0]:A},w.prototype.updatePalette=function(v){if(!this.tooManyColors){var m=this.maxColors,T=this.paletteTexture,_=Math.ceil(.25*v.length/m);if(_>1)for(var A=.25*(v=v.slice()).length%m;A<_*m;A++)v.push(0,0,0,0);T.height<_&&T.resize(m,_),T.subimage({width:Math.min(.25*v.length,m),height:_,data:v},0,0)}},w.prototype.destroy=function(){return this.groups.forEach(function(v){v.sizeBuffer.destroy(),v.positionBuffer.destroy(),v.positionFractBuffer.destroy(),v.colorBuffer.destroy(),v.activation.forEach(function(m){return m&&m.destroy&&m.destroy()}),v.selectionBuffer.destroy(),v.elements&&v.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(v){return v&&v.destroy&&v.destroy()}),this};var g=e(50896);S.exports=function(v,m){var T=new c(v,m),_=T.render.bind(T);return g(_,{render:_,update:T.update.bind(T),draw:T.draw.bind(T),destroy:T.destroy.bind(T),regl:T.regl,gl:T.gl,canvas:T.gl.canvas,groups:T.groups,markers:T.markerCache,palette:T.palette}),_}},55795:function(S,x,e){"use strict";var p=e(38540),y=e(55616),n=e(76752),M=e(3951),b=e(67752),f=e(51160),s=e(47520);function t(a,l){if(!(this instanceof t))return new t(a,l);this.traces=[],this.passes={},this.regl=a,this.scatter=p(a),this.canvas=this.scatter.canvas}function o(a,l,u){return(a.id!=null?a.id:a)<<16|(255&l)<<8|255&u}function r(a,l,u){var h,c,w,g,v=a[l],m=a[u];return v.length>2?(v[0],v[2],h=v[1],c=v[3]):v.length?(h=v[0],c=v[1]):(v.x,h=v.y,v.x,v.width,c=v.y+v.height),m.length>2?(w=m[0],g=m[2],m[1],m[3]):m.length?(w=m[0],g=m[1]):(w=m.x,m.y,g=m.x+m.width,m.y,m.height),[w,h,g,c]}function i(a){if(typeof a=="number")return[a,a,a,a];if(a.length===2)return[a[0],a[1],a[0],a[1]];var l=f(a);return[l.x,l.y,l.x+l.width,l.y+l.height]}S.exports=t,t.prototype.render=function(){for(var a,l=this,u=[],h=arguments.length;h--;)u[h]=arguments[h];return u.length&&(a=this).update.apply(a,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=M(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,M(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var a,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=0;h<l.length;h++)this.updateItem(h,l[h]);this.traces=this.traces.filter(Boolean);for(var c=[],w=0,g=0;g<this.traces.length;g++){for(var v=this.traces[g],m=this.traces[g].passes,T=0;T<m.length;T++)c.push(this.passes[m[T]]);v.passOffset=w,w+=v.passes.length}return(a=this.scatter).update.apply(a,c),this}},t.prototype.updateItem=function(a,l){var u=this.regl;if(l===null)return this.traces[a]=null,this;if(!l)return this;var h,c=y(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[a]||(this.traces[a]={id:a,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:f([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(w.color=c.color),c.size!=null&&(w.size=c.size),c.marker!=null&&(w.marker=c.marker),c.borderColor!=null&&(w.borderColor=c.borderColor),c.borderSize!=null&&(w.borderSize=c.borderSize),c.opacity!=null&&(w.opacity=c.opacity),c.viewport&&(w.viewport=f(c.viewport)),c.diagonal!=null&&(w.diagonal=c.diagonal),c.upper!=null&&(w.upper=c.upper),c.lower!=null&&(w.lower=c.lower),c.data){w.buffer(s(c.data)),w.columns=c.data.length,w.count=c.data[0].length,w.bounds=[];for(var g=0;g<w.columns;g++)w.bounds[g]=n(c.data[g],1)}c.range&&(w.range=c.range,h=w.range&&typeof w.range[0]!="number"),c.domain&&(w.domain=c.domain);var v=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===w.columns&&typeof c.padding[c.padding.length-1]=="number"?(w.padding=c.padding.map(i),v=!0):w.padding=i(c.padding));var m=w.columns,T=w.count,_=w.viewport.width,A=w.viewport.height,d=w.viewport.x,C=w.viewport.y,k=_/m,D=A/m;w.passes=[];for(var O=0;O<m;O++)for(var L=0;L<m;L++)if((w.diagonal||L!==O)&&(w.upper||!(O>L))&&(w.lower||!(O<L))){var R=o(w.id,O,L),z=this.passes[R]||(this.passes[R]={});if(c.data&&(c.transpose?z.positions={x:{buffer:w.buffer,offset:L,count:T,stride:m},y:{buffer:w.buffer,offset:O,count:T,stride:m}}:z.positions={x:{buffer:w.buffer,offset:L*T,count:T},y:{buffer:w.buffer,offset:O*T,count:T}},z.bounds=r(w.bounds,O,L)),c.domain||c.viewport||c.data){var q=v?r(w.padding,O,L):w.padding;if(w.domain){var N=r(w.domain,O,L),V=N[0],Z=N[1],j=N[2],H=N[3];z.viewport=[d+V*_+q[0],C+Z*A+q[1],d+j*_-q[2],C+H*A-q[3]]}else z.viewport=[d+L*k+k*q[0],C+O*D+D*q[1],d+(L+1)*k-k*q[2],C+(O+1)*D-D*q[3]]}c.color&&(z.color=w.color),c.size&&(z.size=w.size),c.marker&&(z.marker=w.marker),c.borderSize&&(z.borderSize=w.borderSize),c.borderColor&&(z.borderColor=w.borderColor),c.opacity&&(z.opacity=w.opacity),c.range&&(z.range=h?r(w.range,O,L):w.range||z.bounds),w.passes.push(R)}return this},t.prototype.draw=function(){for(var a,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var h=[],c=0;c<l.length;c++)if(typeof l[c]=="number"){var w=this.traces[l[c]],g=w.passes,v=w.passOffset;h.push.apply(h,b(v,v+g.length))}else if(l[c].length){var m=l[c],T=this.traces[c],_=T.passes,A=T.passOffset;_=_.map(function(d,C){h[A+C]=m})}(a=this.scatter).draw.apply(a,h)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(a){a.buffer&&a.buffer.destroy&&a.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(S){S.exports=function(){function x(Ve,Ze){this.id=se++,this.type=Ve,this.data=Ze}function e(Ve){if(Ve.length===0)return[];var Ze=Ve.charAt(0),lt=Ve.charAt(Ve.length-1);if(1<Ve.length&&Ze===lt&&(Ze==='"'||Ze==="'"))return['"'+Ve.substr(1,Ve.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ze=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ve))return e(Ve.substr(0,Ze.index)).concat(e(Ze[1])).concat(e(Ve.substr(Ze.index+Ze[0].length)));if((Ze=Ve.split(".")).length===1)return['"'+Ve.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ve=[],lt=0;lt<Ze.length;++lt)Ve=Ve.concat(e(Ze[lt]));return Ve}function p(Ve){return"["+e(Ve).join("][")+"]"}function y(Ve){return typeof Ve=="string"?Ve.split():Ve}function n(Ve){return typeof Ve=="string"?document.querySelector(Ve):Ve}function M(Ve){var Ze,lt,it,Be,je=Ve||{};Ve={};var ot=[],$e=[],dt=typeof window>"u"?1:window.devicePixelRatio,mt=!1,yt={},ht=function(bt){},kt=function(){};if(typeof je=="string"?Ze=document.querySelector(je):typeof je=="object"&&(typeof je.nodeName=="string"&&typeof je.appendChild=="function"&&typeof je.getBoundingClientRect=="function"?Ze=je:typeof je.drawArrays=="function"||typeof je.drawElements=="function"?it=(Be=je).canvas:("gl"in je?Be=je.gl:"canvas"in je?it=n(je.canvas):"container"in je&&(lt=n(je.container)),"attributes"in je&&(Ve=je.attributes),"extensions"in je&&(ot=y(je.extensions)),"optionalExtensions"in je&&($e=y(je.optionalExtensions)),"onDone"in je&&(ht=je.onDone),"profile"in je&&(mt=!!je.profile),"pixelRatio"in je&&(dt=+je.pixelRatio),"cachedCode"in je&&(yt=je.cachedCode))),Ze&&(Ze.nodeName.toLowerCase()==="canvas"?it=Ze:lt=Ze),!Be){if(!it){if(!(Ze=function(bt,St,Lt){function Ot(){var on=window.innerWidth,Ht=window.innerHeight;bt!==document.body&&(on=(Ht=$t.getBoundingClientRect()).right-Ht.left,Ht=Ht.bottom-Ht.top),$t.width=Lt*on,$t.height=Lt*Ht}var Ft,$t=document.createElement("canvas");return X($t.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),bt.appendChild($t),bt===document.body&&($t.style.position="absolute",X(bt.style,{margin:0,padding:0})),bt!==document.body&&typeof ResizeObserver=="function"?(Ft=new ResizeObserver(function(){setTimeout(Ot)})).observe(bt):window.addEventListener("resize",Ot,!1),Ot(),{canvas:$t,onDestroy:function(){Ft?Ft.disconnect():window.removeEventListener("resize",Ot),bt.removeChild($t)}}}(lt||document.body,0,dt)))return null;it=Ze.canvas,kt=Ze.onDestroy}Ve.premultipliedAlpha===void 0&&(Ve.premultipliedAlpha=!0),Be=function(bt,St){function Lt(Ot){try{return bt.getContext(Ot,St)}catch{return null}}return Lt("webgl")||Lt("experimental-webgl")||Lt("webgl-experimental")}(it,Ve)}return Be?{gl:Be,canvas:it,container:lt,extensions:ot,optionalExtensions:$e,pixelRatio:dt,profile:mt,cachedCode:yt,onDone:ht,onDestroy:kt}:(kt(),ht("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(Ve,Ze){for(var lt=Array(Ve),it=0;it<Ve;++it)lt[it]=Ze(it);return lt}function f(Ve){var Ze,lt;return Ze=(65535<Ve)<<4,Ze|=lt=(255<(Ve>>>=Ze))<<3,(Ze|=lt=(15<(Ve>>>=lt))<<2)|(lt=(3<(Ve>>>=lt))<<1)|Ve>>>lt>>1}function s(){function Ve(it){e:{for(var Be=16;268435456>=Be;Be*=16)if(it<=Be){it=Be;break e}it=0}return 0<(Be=lt[f(it)>>2]).length?Be.pop():new ArrayBuffer(it)}function Ze(it){lt[f(it.byteLength)>>2].push(it)}var lt=b(8,function(){return[]});return{alloc:Ve,free:Ze,allocType:function(it,Be){var je=null;switch(it){case 5120:je=new Int8Array(Ve(Be),0,Be);break;case 5121:je=new Uint8Array(Ve(Be),0,Be);break;case 5122:je=new Int16Array(Ve(2*Be),0,Be);break;case 5123:je=new Uint16Array(Ve(2*Be),0,Be);break;case 5124:je=new Int32Array(Ve(4*Be),0,Be);break;case 5125:je=new Uint32Array(Ve(4*Be),0,Be);break;case 5126:je=new Float32Array(Ve(4*Be),0,Be);break;default:return null}return je.length!==Be?je.subarray(0,Be):je},freeType:function(it){Ze(it.buffer)}}}function t(Ve){return!!Ve&&typeof Ve=="object"&&Array.isArray(Ve.shape)&&Array.isArray(Ve.stride)&&typeof Ve.offset=="number"&&Ve.shape.length===Ve.stride.length&&(Array.isArray(Ve.data)||ve(Ve.data))}function o(Ve,Ze,lt,it,Be,je){for(var ot=0;ot<Ze;++ot)for(var $e=Ve[ot],dt=0;dt<lt;++dt)for(var mt=$e[dt],yt=0;yt<it;++yt)Be[je++]=mt[yt]}function r(Ve,Ze,lt,it,Be){for(var je=1,ot=lt+1;ot<Ze.length;++ot)je*=Ze[ot];var $e=Ze[lt];if(Ze.length-lt==4){var dt=Ze[lt+1],mt=Ze[lt+2];for(Ze=Ze[lt+3],ot=0;ot<$e;++ot)o(Ve[ot],dt,mt,Ze,it,Be),Be+=je}else for(ot=0;ot<$e;++ot)r(Ve[ot],Ze,lt+1,it,Be),Be+=je}function i(Ve){return 0|Se[Object.prototype.toString.call(Ve)]}function a(Ve,Ze){for(var lt=0;lt<Ze.length;++lt)Ve[lt]=Ze[lt]}function l(Ve,Ze,lt,it,Be,je,ot){for(var $e=0,dt=0;dt<lt;++dt)for(var mt=0;mt<it;++mt)Ve[$e++]=Ze[Be*dt+je*mt+ot]}function u(Ve,Ze,lt,it){function Be(ht){this.id=dt++,this.buffer=Ve.createBuffer(),this.type=ht,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,lt.profile&&(this.stats={size:0})}function je(ht,kt,bt){ht.byteLength=kt.byteLength,Ve.bufferData(ht.type,kt,bt)}function ot(ht,kt,bt,St,Lt,Ot){if(ht.usage=bt,Array.isArray(kt)){if(ht.dtype=St||5126,0<kt.length)if(Array.isArray(kt[0])){Lt=ae(kt);for(var Ft=St=1;Ft<Lt.length;++Ft)St*=Lt[Ft];ht.dimension=St,je(ht,kt=ue(kt,Lt,ht.dtype),bt),Ot?ht.persistentData=kt:be.freeType(kt)}else typeof kt[0]=="number"?(ht.dimension=Lt,a(Lt=be.allocType(ht.dtype,kt.length),kt),je(ht,Lt,bt),Ot?ht.persistentData=Lt:be.freeType(Lt)):ve(kt[0])&&(ht.dimension=kt[0].length,ht.dtype=St||i(kt[0])||5126,je(ht,kt=ue(kt,[kt.length,kt[0].length],ht.dtype),bt),Ot?ht.persistentData=kt:be.freeType(kt))}else if(ve(kt))ht.dtype=St||i(kt),ht.dimension=Lt,je(ht,kt,bt),Ot&&(ht.persistentData=new Uint8Array(new Uint8Array(kt.buffer)));else if(t(kt)){Lt=kt.shape;var $t=kt.stride,on=(Ft=kt.offset,0),Ht=0,Zt=0,jt=0;Lt.length===1?(on=Lt[0],Ht=1,Zt=$t[0],jt=0):Lt.length===2&&(on=Lt[0],Ht=Lt[1],Zt=$t[0],jt=$t[1]),ht.dtype=St||i(kt.data)||5126,ht.dimension=Ht,l(Lt=be.allocType(ht.dtype,on*Ht),kt.data,on,Ht,Zt,jt,Ft),je(ht,Lt,bt),Ot?ht.persistentData=Lt:be.freeType(Lt)}else kt instanceof ArrayBuffer&&(ht.dtype=5121,ht.dimension=Lt,je(ht,kt,bt),Ot&&(ht.persistentData=new Uint8Array(new Uint8Array(kt))))}function $e(ht){Ze.bufferCount--,it(ht),Ve.deleteBuffer(ht.buffer),ht.buffer=null,delete mt[ht.id]}var dt=0,mt={};Be.prototype.bind=function(){Ve.bindBuffer(this.type,this.buffer)},Be.prototype.destroy=function(){$e(this)};var yt=[];return lt.profile&&(Ze.getTotalBufferSize=function(){var ht=0;return Object.keys(mt).forEach(function(kt){ht+=mt[kt].stats.size}),ht}),{create:function(ht,kt,bt,St){function Lt(Ft){var $t=35044,on=null,Ht=0,Zt=0,jt=1;return Array.isArray(Ft)||ve(Ft)||t(Ft)||Ft instanceof ArrayBuffer?on=Ft:typeof Ft=="number"?Ht=0|Ft:Ft&&("data"in Ft&&(on=Ft.data),"usage"in Ft&&($t=xe[Ft.usage]),"type"in Ft&&(Zt=Ie[Ft.type]),"dimension"in Ft&&(jt=0|Ft.dimension),"length"in Ft&&(Ht=0|Ft.length)),Ot.bind(),on?ot(Ot,on,$t,Zt,jt,St):(Ht&&Ve.bufferData(Ot.type,Ht,$t),Ot.dtype=Zt||5121,Ot.usage=$t,Ot.dimension=jt,Ot.byteLength=Ht),lt.profile&&(Ot.stats.size=Ot.byteLength*pe[Ot.dtype]),Lt}Ze.bufferCount++;var Ot=new Be(kt);return mt[Ot.id]=Ot,bt||Lt(ht),Lt._reglType="buffer",Lt._buffer=Ot,Lt.subdata=function(Ft,$t){var on,Ht=0|($t||0);if(Ot.bind(),ve(Ft)||Ft instanceof ArrayBuffer)Ve.bufferSubData(Ot.type,Ht,Ft);else if(Array.isArray(Ft)){if(0<Ft.length)if(typeof Ft[0]=="number"){var Zt=be.allocType(Ot.dtype,Ft.length);a(Zt,Ft),Ve.bufferSubData(Ot.type,Ht,Zt),be.freeType(Zt)}else(Array.isArray(Ft[0])||ve(Ft[0]))&&(on=ae(Ft),Zt=ue(Ft,on,Ot.dtype),Ve.bufferSubData(Ot.type,Ht,Zt),be.freeType(Zt))}else if(t(Ft)){on=Ft.shape;var jt=Ft.stride,Ln=Zt=0,Tn=0,gn=0;on.length===1?(Zt=on[0],Ln=1,Tn=jt[0],gn=0):on.length===2&&(Zt=on[0],Ln=on[1],Tn=jt[0],gn=jt[1]),on=Array.isArray(Ft.data)?Ot.dtype:i(Ft.data),l(on=be.allocType(on,Zt*Ln),Ft.data,Zt,Ln,Tn,gn,Ft.offset),Ve.bufferSubData(Ot.type,Ht,on),be.freeType(on)}return Lt},lt.profile&&(Lt.stats=Ot.stats),Lt.destroy=function(){$e(Ot)},Lt},createStream:function(ht,kt){var bt=yt.pop();return bt||(bt=new Be(ht)),bt.bind(),ot(bt,kt,35040,0,1,!1),bt},destroyStream:function(ht){yt.push(ht)},clear:function(){me(mt).forEach($e),yt.forEach($e)},getBuffer:function(ht){return ht&&ht._buffer instanceof Be?ht._buffer:null},restore:function(){me(mt).forEach(function(ht){ht.buffer=Ve.createBuffer(),Ve.bindBuffer(ht.type,ht.buffer),Ve.bufferData(ht.type,ht.persistentData||ht.byteLength,ht.usage)})},_initBuffer:ot}}function h(Ve,Ze,lt,it){function Be(ht){this.id=dt++,$e[this.id]=this,this.buffer=ht,this.primType=4,this.type=this.vertCount=0}function je(ht,kt,bt,St,Lt,Ot,Ft){var $t;if(ht.buffer.bind(),kt?(($t=Ft)||ve(kt)&&(!t(kt)||ve(kt.data))||($t=Ze.oes_element_index_uint?5125:5123),lt._initBuffer(ht.buffer,kt,bt,$t,3)):(Ve.bufferData(34963,Ot,bt),ht.buffer.dtype=$t||5121,ht.buffer.usage=bt,ht.buffer.dimension=3,ht.buffer.byteLength=Ot),$t=Ft,!Ft){switch(ht.buffer.dtype){case 5121:case 5120:$t=5121;break;case 5123:case 5122:$t=5123;break;case 5125:case 5124:$t=5125}ht.buffer.dtype=$t}ht.type=$t,0>(kt=Lt)&&(kt=ht.buffer.byteLength,$t===5123?kt>>=1:$t===5125&&(kt>>=2)),ht.vertCount=kt,kt=St,0>St&&(kt=4,(St=ht.buffer.dimension)===1&&(kt=0),St===2&&(kt=1),St===3&&(kt=4)),ht.primType=kt}function ot(ht){it.elementsCount--,delete $e[ht.id],ht.buffer.destroy(),ht.buffer=null}var $e={},dt=0,mt={uint8:5121,uint16:5123};Ze.oes_element_index_uint&&(mt.uint32=5125),Be.prototype.bind=function(){this.buffer.bind()};var yt=[];return{create:function(ht,kt){function bt(Ot){if(Ot)if(typeof Ot=="number")St(Ot),Lt.primType=4,Lt.vertCount=0|Ot,Lt.type=5121;else{var Ft=null,$t=35044,on=-1,Ht=-1,Zt=0,jt=0;Array.isArray(Ot)||ve(Ot)||t(Ot)?Ft=Ot:("data"in Ot&&(Ft=Ot.data),"usage"in Ot&&($t=xe[Ot.usage]),"primitive"in Ot&&(on=De[Ot.primitive]),"count"in Ot&&(Ht=0|Ot.count),"type"in Ot&&(jt=mt[Ot.type]),"length"in Ot?Zt=0|Ot.length:(Zt=Ht,jt===5123||jt===5122?Zt*=2:jt!==5125&&jt!==5124||(Zt*=4))),je(Lt,Ft,$t,on,Ht,Zt,jt)}else St(),Lt.primType=4,Lt.vertCount=0,Lt.type=5121;return bt}var St=lt.create(null,34963,!0),Lt=new Be(St._buffer);return it.elementsCount++,bt(ht),bt._reglType="elements",bt._elements=Lt,bt.subdata=function(Ot,Ft){return St.subdata(Ot,Ft),bt},bt.destroy=function(){ot(Lt)},bt},createStream:function(ht){var kt=yt.pop();return kt||(kt=new Be(lt.create(null,34963,!0,!1)._buffer)),je(kt,ht,35040,-1,-1,0,0),kt},destroyStream:function(ht){yt.push(ht)},getElements:function(ht){return typeof ht=="function"&&ht._elements instanceof Be?ht._elements:null},clear:function(){me($e).forEach(ot)}}}function c(Ve){for(var Ze=be.allocType(5123,Ve.length),lt=0;lt<Ve.length;++lt)if(isNaN(Ve[lt]))Ze[lt]=65535;else if(Ve[lt]===1/0)Ze[lt]=31744;else if(Ve[lt]===-1/0)Ze[lt]=64512;else{Te[0]=Ve[lt];var it=(je=Ae[0])>>>31<<15,Be=(je<<1>>>24)-127,je=je>>13&1023;Ze[lt]=-24>Be?it:-14>Be?it+(je+1024>>-14-Be):15<Be?it+31744:it+(Be+15<<10)+je}return Ze}function w(Ve){return Array.isArray(Ve)||ve(Ve)}function g(Ve){return"[object "+Ve+"]"}function v(Ve){return Array.isArray(Ve)&&(Ve.length===0||typeof Ve[0]=="number")}function m(Ve){return!(!Array.isArray(Ve)||Ve.length===0||!w(Ve[0]))}function T(Ve){return Object.prototype.toString.call(Ve)}function _(Ve){if(!Ve)return!1;var Ze=T(Ve);return 0<=Ge.indexOf(Ze)||v(Ve)||m(Ve)||t(Ve)}function A(Ve,Ze){Ve.type===36193?(Ve.data=c(Ze),be.freeType(Ze)):Ve.data=Ze}function d(Ve,Ze,lt,it,Be,je){if(Ve=at[Ve]!==void 0?at[Ve]:Ne[Ve]*Ke[Ze],je&&(Ve*=6),Be){for(it=0;1<=lt;)it+=Ve*lt*lt,lt/=2;return it}return Ve*lt*it}function C(Ve,Ze,lt,it,Be,je,ot){function $e(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function dt(Kt,vn){Kt.internalformat=vn.internalformat,Kt.format=vn.format,Kt.type=vn.type,Kt.compressed=vn.compressed,Kt.premultiplyAlpha=vn.premultiplyAlpha,Kt.flipY=vn.flipY,Kt.unpackAlignment=vn.unpackAlignment,Kt.colorSpace=vn.colorSpace,Kt.width=vn.width,Kt.height=vn.height,Kt.channels=vn.channels}function mt(Kt,vn){if(typeof vn=="object"&&vn){"premultiplyAlpha"in vn&&(Kt.premultiplyAlpha=vn.premultiplyAlpha),"flipY"in vn&&(Kt.flipY=vn.flipY),"alignment"in vn&&(Kt.unpackAlignment=vn.alignment),"colorSpace"in vn&&(Kt.colorSpace=Dn[vn.colorSpace]),"type"in vn&&(Kt.type=kn[vn.type]);var Dt=Kt.width,Bt=Kt.height,Jt=Kt.channels,fn=!1;"shape"in vn?(Dt=vn.shape[0],Bt=vn.shape[1],vn.shape.length===3&&(Jt=vn.shape[2],fn=!0)):("radius"in vn&&(Dt=Bt=vn.radius),"width"in vn&&(Dt=vn.width),"height"in vn&&(Bt=vn.height),"channels"in vn&&(Jt=vn.channels,fn=!0)),Kt.width=0|Dt,Kt.height=0|Bt,Kt.channels=0|Jt,Dt=!1,"format"in vn&&(Dt=vn.format,Bt=Kt.internalformat=Bn[Dt],Kt.format=Cn[Bt],Dt in kn&&!("type"in vn)&&(Kt.type=kn[Dt]),Dt in Rn&&(Kt.compressed=!0),Dt=!0),!fn&&Dt?Kt.channels=Ne[Kt.format]:fn&&!Dt&&Kt.channels!==Re[Kt.format]&&(Kt.format=Kt.internalformat=Re[Kt.channels])}}function yt(Kt){Ve.pixelStorei(37440,Kt.flipY),Ve.pixelStorei(37441,Kt.premultiplyAlpha),Ve.pixelStorei(37443,Kt.colorSpace),Ve.pixelStorei(3317,Kt.unpackAlignment)}function ht(){$e.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function kt(Kt,vn){var Dt=null;if(_(vn)?Dt=vn:vn&&(mt(Kt,vn),"x"in vn&&(Kt.xOffset=0|vn.x),"y"in vn&&(Kt.yOffset=0|vn.y),_(vn.data)&&(Dt=vn.data)),vn.copy){var Bt=Be.viewportWidth,Jt=Be.viewportHeight;Kt.width=Kt.width||Bt-Kt.xOffset,Kt.height=Kt.height||Jt-Kt.yOffset,Kt.needsCopy=!0}else if(Dt){if(ve(Dt))Kt.channels=Kt.channels||4,Kt.data=Dt,"type"in vn||Kt.type!==5121||(Kt.type=0|Se[Object.prototype.toString.call(Dt)]);else if(v(Dt)){switch(Kt.channels=Kt.channels||4,Jt=(Bt=Dt).length,Kt.type){case 5121:case 5123:case 5125:case 5126:(Jt=be.allocType(Kt.type,Jt)).set(Bt),Kt.data=Jt;break;case 36193:Kt.data=c(Bt)}Kt.alignment=1,Kt.needsFree=!0}else if(t(Dt)){Bt=Dt.data,Array.isArray(Bt)||Kt.type!==5121||(Kt.type=0|Se[Object.prototype.toString.call(Bt)]),Jt=Dt.shape;var fn,dn,xn,sn,Yt=Dt.stride;Jt.length===3?(xn=Jt[2],sn=Yt[2]):sn=xn=1,fn=Jt[0],dn=Jt[1],Jt=Yt[0],Yt=Yt[1],Kt.alignment=1,Kt.width=fn,Kt.height=dn,Kt.channels=xn,Kt.format=Kt.internalformat=Re[xn],Kt.needsFree=!0,fn=sn,Dt=Dt.offset,xn=Kt.width,sn=Kt.height,dn=Kt.channels;for(var Wt=be.allocType(Kt.type===36193?5126:Kt.type,xn*sn*dn),tn=0,ln=0;ln<sn;++ln)for(var An=0;An<xn;++An)for(var In=0;In<dn;++In)Wt[tn++]=Bt[Jt*An+Yt*ln+fn*In+Dt];A(Kt,Wt)}else if(T(Dt)===ge||T(Dt)===Me||T(Dt)===Ee)T(Dt)===ge||T(Dt)===Me?Kt.element=Dt:Kt.element=Dt.canvas,Kt.width=Kt.element.width,Kt.height=Kt.element.height,Kt.channels=4;else if(T(Dt)===Fe)Kt.element=Dt,Kt.width=Dt.width,Kt.height=Dt.height,Kt.channels=4;else if(T(Dt)===Le)Kt.element=Dt,Kt.width=Dt.naturalWidth,Kt.height=Dt.naturalHeight,Kt.channels=4;else if(T(Dt)===Ue)Kt.element=Dt,Kt.width=Dt.videoWidth,Kt.height=Dt.videoHeight,Kt.channels=4;else if(m(Dt)){for(Bt=Kt.width||Dt[0].length,Jt=Kt.height||Dt.length,Yt=Kt.channels,Yt=w(Dt[0][0])?Yt||Dt[0][0].length:Yt||1,fn=ye.shape(Dt),xn=1,sn=0;sn<fn.length;++sn)xn*=fn[sn];xn=be.allocType(Kt.type===36193?5126:Kt.type,xn),ye.flatten(Dt,fn,"",xn),A(Kt,xn),Kt.alignment=1,Kt.width=Bt,Kt.height=Jt,Kt.channels=Yt,Kt.format=Kt.internalformat=Re[Yt],Kt.needsFree=!0}}else Kt.width=Kt.width||1,Kt.height=Kt.height||1,Kt.channels=Kt.channels||4}function bt(Kt,vn,Dt,Bt,Jt){var fn=Kt.element,dn=Kt.data,xn=Kt.internalformat,sn=Kt.format,Yt=Kt.type,Wt=Kt.width,tn=Kt.height;yt(Kt),fn?Ve.texSubImage2D(vn,Jt,Dt,Bt,sn,Yt,fn):Kt.compressed?Ve.compressedTexSubImage2D(vn,Jt,Dt,Bt,xn,Wt,tn,dn):Kt.needsCopy?(it(),Ve.copyTexSubImage2D(vn,Jt,Dt,Bt,Kt.xOffset,Kt.yOffset,Wt,tn)):Ve.texSubImage2D(vn,Jt,Dt,Bt,Wt,tn,sn,Yt,dn)}function St(){return mn.pop()||new ht}function Lt(Kt){Kt.needsFree&&be.freeType(Kt.data),ht.call(Kt),mn.push(Kt)}function Ot(){$e.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ft(Kt,vn,Dt){var Bt=Kt.images[0]=St();Kt.mipmask=1,Bt.width=Kt.width=vn,Bt.height=Kt.height=Dt,Bt.channels=Kt.channels=4}function $t(Kt,vn){var Dt=null;if(_(vn))dt(Dt=Kt.images[0]=St(),Kt),kt(Dt,vn),Kt.mipmask=1;else if(mt(Kt,vn),Array.isArray(vn.mipmap))for(var Bt=vn.mipmap,Jt=0;Jt<Bt.length;++Jt)dt(Dt=Kt.images[Jt]=St(),Kt),Dt.width>>=Jt,Dt.height>>=Jt,kt(Dt,Bt[Jt]),Kt.mipmask|=1<<Jt;else dt(Dt=Kt.images[0]=St(),Kt),kt(Dt,vn),Kt.mipmask=1;dt(Kt,Kt.images[0])}function on(Kt,vn){for(var Dt=Kt.images,Bt=0;Bt<Dt.length&&Dt[Bt];++Bt){var Jt=Dt[Bt],fn=vn,dn=Bt,xn=Jt.element,sn=Jt.data,Yt=Jt.internalformat,Wt=Jt.format,tn=Jt.type,ln=Jt.width,An=Jt.height;yt(Jt),xn?Ve.texImage2D(fn,dn,Wt,Wt,tn,xn):Jt.compressed?Ve.compressedTexImage2D(fn,dn,Yt,ln,An,0,sn):Jt.needsCopy?(it(),Ve.copyTexImage2D(fn,dn,Wt,Jt.xOffset,Jt.yOffset,ln,An,0)):Ve.texImage2D(fn,dn,Wt,ln,An,0,Wt,tn,sn||null)}}function Ht(){var Kt=On.pop()||new Ot;$e.call(Kt);for(var vn=Kt.mipmask=0;16>vn;++vn)Kt.images[vn]=null;return Kt}function Zt(Kt){for(var vn=Kt.images,Dt=0;Dt<vn.length;++Dt)vn[Dt]&&Lt(vn[Dt]),vn[Dt]=null;On.push(Kt)}function jt(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Ln(Kt,vn){"min"in vn&&(Kt.minFilter=En[vn.min],0<=Ce.indexOf(Kt.minFilter)&&!("faces"in vn)&&(Kt.genMipmaps=!0)),"mag"in vn&&(Kt.magFilter=wn[vn.mag]);var Dt=Kt.wrapS,Bt=Kt.wrapT;if("wrap"in vn){var Jt=vn.wrap;typeof Jt=="string"?Dt=Bt=bn[Jt]:Array.isArray(Jt)&&(Dt=bn[Jt[0]],Bt=bn[Jt[1]])}else"wrapS"in vn&&(Dt=bn[vn.wrapS]),"wrapT"in vn&&(Bt=bn[vn.wrapT]);if(Kt.wrapS=Dt,Kt.wrapT=Bt,"anisotropic"in vn&&(Kt.anisotropic=vn.anisotropic),"mipmap"in vn){switch(Dt=!1,typeof vn.mipmap){case"string":Kt.mipmapHint=hn[vn.mipmap],Dt=Kt.genMipmaps=!0;break;case"boolean":Dt=Kt.genMipmaps=vn.mipmap;break;case"object":Kt.genMipmaps=!1,Dt=!0}!Dt||"min"in vn||(Kt.minFilter=9984)}}function Tn(Kt,vn){Ve.texParameteri(vn,10241,Kt.minFilter),Ve.texParameteri(vn,10240,Kt.magFilter),Ve.texParameteri(vn,10242,Kt.wrapS),Ve.texParameteri(vn,10243,Kt.wrapT),Ze.ext_texture_filter_anisotropic&&Ve.texParameteri(vn,34046,Kt.anisotropic),Kt.genMipmaps&&(Ve.hint(33170,Kt.mipmapHint),Ve.generateMipmap(vn))}function gn(Kt){$e.call(this),this.mipmask=0,this.internalformat=6408,this.id=Hn++,this.refCount=1,this.target=Kt,this.texture=Ve.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new jt,ot.profile&&(this.stats={size:0})}function Qt(Kt){Ve.activeTexture(33984),Ve.bindTexture(Kt.target,Kt.texture)}function cn(){var Kt=pr[0];Kt?Ve.bindTexture(Kt.target,Kt.texture):Ve.bindTexture(3553,null)}function nn(Kt){var vn=Kt.texture,Dt=Kt.unit,Bt=Kt.target;0<=Dt&&(Ve.activeTexture(33984+Dt),Ve.bindTexture(Bt,null),pr[Dt]=null),Ve.deleteTexture(vn),Kt.texture=null,Kt.params=null,Kt.pixels=null,Kt.refCount=0,delete Un[Kt.id],je.textureCount--}var hn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},bn={repeat:10497,clamp:33071,mirror:33648},wn={nearest:9728,linear:9729},En=X({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},wn),Dn={none:0,browser:37444},kn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Bn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Rn={};Ze.ext_srgb&&(Bn.srgb=35904,Bn.srgba=35906),Ze.oes_texture_float&&(kn.float32=kn.float=5126),Ze.oes_texture_half_float&&(kn.float16=kn["half float"]=36193),Ze.webgl_depth_texture&&(X(Bn,{depth:6402,"depth stencil":34041}),X(kn,{uint16:5123,uint32:5125,"depth stencil":34042})),Ze.webgl_compressed_texture_s3tc&&X(Rn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ze.webgl_compressed_texture_atc&&X(Rn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ze.webgl_compressed_texture_pvrtc&&X(Rn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ze.webgl_compressed_texture_etc1&&(Rn["rgb etc1"]=36196);var Kn=Array.prototype.slice.call(Ve.getParameter(34467));Object.keys(Rn).forEach(function(Kt){var vn=Rn[Kt];0<=Kn.indexOf(vn)&&(Bn[Kt]=vn)});var Gn=Object.keys(Bn);lt.textureFormats=Gn;var nr=[];Object.keys(Bn).forEach(function(Kt){nr[Bn[Kt]]=Kt});var $n=[];Object.keys(kn).forEach(function(Kt){$n[kn[Kt]]=Kt});var fr=[];Object.keys(wn).forEach(function(Kt){fr[wn[Kt]]=Kt});var en=[];Object.keys(En).forEach(function(Kt){en[En[Kt]]=Kt});var rn=[];Object.keys(bn).forEach(function(Kt){rn[bn[Kt]]=Kt});var Cn=Gn.reduce(function(Kt,vn){var Dt=Bn[vn];return Dt===6409||Dt===6406||Dt===6409||Dt===6410||Dt===6402||Dt===34041||Ze.ext_srgb&&(Dt===35904||Dt===35906)?Kt[Dt]=Dt:Dt===32855||0<=vn.indexOf("rgba")?Kt[Dt]=6408:Kt[Dt]=6407,Kt},{}),mn=[],On=[],Hn=0,Un={},Zn=lt.maxTextureUnits,pr=Array(Zn).map(function(){return null});return X(gn.prototype,{bind:function(){this.bindCount+=1;var Kt=this.unit;if(0>Kt){for(var vn=0;vn<Zn;++vn){var Dt=pr[vn];if(Dt){if(0<Dt.bindCount)continue;Dt.unit=-1}pr[vn]=this,Kt=vn;break}ot.profile&&je.maxTextureUnits<Kt+1&&(je.maxTextureUnits=Kt+1),this.unit=Kt,Ve.activeTexture(33984+Kt),Ve.bindTexture(this.target,this.texture)}return Kt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&nn(this)}}),ot.profile&&(je.getTotalTextureSize=function(){var Kt=0;return Object.keys(Un).forEach(function(vn){Kt+=Un[vn].stats.size}),Kt}),{create2D:function(Kt,vn){function Dt(Jt,fn){var dn=Bt.texInfo;jt.call(dn);var xn=Ht();return typeof Jt=="number"?Ft(xn,0|Jt,typeof fn=="number"?0|fn:0|Jt):Jt?(Ln(dn,Jt),$t(xn,Jt)):Ft(xn,1,1),dn.genMipmaps&&(xn.mipmask=(xn.width<<1)-1),Bt.mipmask=xn.mipmask,dt(Bt,xn),Bt.internalformat=xn.internalformat,Dt.width=xn.width,Dt.height=xn.height,Qt(Bt),on(xn,3553),Tn(dn,3553),cn(),Zt(xn),ot.profile&&(Bt.stats.size=d(Bt.internalformat,Bt.type,xn.width,xn.height,dn.genMipmaps,!1)),Dt.format=nr[Bt.internalformat],Dt.type=$n[Bt.type],Dt.mag=fr[dn.magFilter],Dt.min=en[dn.minFilter],Dt.wrapS=rn[dn.wrapS],Dt.wrapT=rn[dn.wrapT],Dt}var Bt=new gn(3553);return Un[Bt.id]=Bt,je.textureCount++,Dt(Kt,vn),Dt.subimage=function(Jt,fn,dn,xn){fn|=0,dn|=0,xn|=0;var sn=St();return dt(sn,Bt),sn.width=0,sn.height=0,kt(sn,Jt),sn.width=sn.width||(Bt.width>>xn)-fn,sn.height=sn.height||(Bt.height>>xn)-dn,Qt(Bt),bt(sn,3553,fn,dn,xn),cn(),Lt(sn),Dt},Dt.resize=function(Jt,fn){var dn=0|Jt,xn=0|fn||dn;if(dn===Bt.width&&xn===Bt.height)return Dt;Dt.width=Bt.width=dn,Dt.height=Bt.height=xn,Qt(Bt);for(var sn=0;Bt.mipmask>>sn;++sn){var Yt=dn>>sn,Wt=xn>>sn;if(!Yt||!Wt)break;Ve.texImage2D(3553,sn,Bt.format,Yt,Wt,0,Bt.format,Bt.type,null)}return cn(),ot.profile&&(Bt.stats.size=d(Bt.internalformat,Bt.type,dn,xn,!1,!1)),Dt},Dt._reglType="texture2d",Dt._texture=Bt,ot.profile&&(Dt.stats=Bt.stats),Dt.destroy=function(){Bt.decRef()},Dt},createCube:function(Kt,vn,Dt,Bt,Jt,fn){function dn(Yt,Wt,tn,ln,An,In){var Nn,jn=xn.texInfo;for(jt.call(jn),Nn=0;6>Nn;++Nn)sn[Nn]=Ht();if(typeof Yt!="number"&&Yt){if(typeof Yt=="object")if(Wt)$t(sn[0],Yt),$t(sn[1],Wt),$t(sn[2],tn),$t(sn[3],ln),$t(sn[4],An),$t(sn[5],In);else if(Ln(jn,Yt),mt(xn,Yt),"faces"in Yt)for(Yt=Yt.faces,Nn=0;6>Nn;++Nn)dt(sn[Nn],xn),$t(sn[Nn],Yt[Nn]);else for(Nn=0;6>Nn;++Nn)$t(sn[Nn],Yt)}else for(Yt=0|Yt||1,Nn=0;6>Nn;++Nn)Ft(sn[Nn],Yt,Yt);for(dt(xn,sn[0]),xn.mipmask=jn.genMipmaps?(sn[0].width<<1)-1:sn[0].mipmask,xn.internalformat=sn[0].internalformat,dn.width=sn[0].width,dn.height=sn[0].height,Qt(xn),Nn=0;6>Nn;++Nn)on(sn[Nn],34069+Nn);for(Tn(jn,34067),cn(),ot.profile&&(xn.stats.size=d(xn.internalformat,xn.type,dn.width,dn.height,jn.genMipmaps,!0)),dn.format=nr[xn.internalformat],dn.type=$n[xn.type],dn.mag=fr[jn.magFilter],dn.min=en[jn.minFilter],dn.wrapS=rn[jn.wrapS],dn.wrapT=rn[jn.wrapT],Nn=0;6>Nn;++Nn)Zt(sn[Nn]);return dn}var xn=new gn(34067);Un[xn.id]=xn,je.cubeCount++;var sn=Array(6);return dn(Kt,vn,Dt,Bt,Jt,fn),dn.subimage=function(Yt,Wt,tn,ln,An){tn|=0,ln|=0,An|=0;var In=St();return dt(In,xn),In.width=0,In.height=0,kt(In,Wt),In.width=In.width||(xn.width>>An)-tn,In.height=In.height||(xn.height>>An)-ln,Qt(xn),bt(In,34069+Yt,tn,ln,An),cn(),Lt(In),dn},dn.resize=function(Yt){if((Yt|=0)!==xn.width){dn.width=xn.width=Yt,dn.height=xn.height=Yt,Qt(xn);for(var Wt=0;6>Wt;++Wt)for(var tn=0;xn.mipmask>>tn;++tn)Ve.texImage2D(34069+Wt,tn,xn.format,Yt>>tn,Yt>>tn,0,xn.format,xn.type,null);return cn(),ot.profile&&(xn.stats.size=d(xn.internalformat,xn.type,dn.width,dn.height,!1,!0)),dn}},dn._reglType="textureCube",dn._texture=xn,ot.profile&&(dn.stats=xn.stats),dn.destroy=function(){xn.decRef()},dn},clear:function(){for(var Kt=0;Kt<Zn;++Kt)Ve.activeTexture(33984+Kt),Ve.bindTexture(3553,null),pr[Kt]=null;me(Un).forEach(nn),je.cubeCount=0,je.textureCount=0},getTexture:function(Kt){return null},restore:function(){for(var Kt=0;Kt<Zn;++Kt){var vn=pr[Kt];vn&&(vn.bindCount=0,vn.unit=-1,pr[Kt]=null)}me(Un).forEach(function(Dt){Dt.texture=Ve.createTexture(),Ve.bindTexture(Dt.target,Dt.texture);for(var Bt=0;32>Bt;++Bt)if(Dt.mipmask&1<<Bt)if(Dt.target===3553)Ve.texImage2D(3553,Bt,Dt.internalformat,Dt.width>>Bt,Dt.height>>Bt,0,Dt.internalformat,Dt.type,null);else for(var Jt=0;6>Jt;++Jt)Ve.texImage2D(34069+Jt,Bt,Dt.internalformat,Dt.width>>Bt,Dt.height>>Bt,0,Dt.internalformat,Dt.type,null);Tn(Dt.texInfo,Dt.target)})},refresh:function(){for(var Kt=0;Kt<Zn;++Kt){var vn=pr[Kt];vn&&(vn.bindCount=0,vn.unit=-1,pr[Kt]=null),Ve.activeTexture(33984+Kt),Ve.bindTexture(3553,null),Ve.bindTexture(34067,null)}}}}function k(Ve,Ze,lt,it,Be,je){function ot(gn,Qt,cn){this.target=gn,this.texture=Qt,this.renderbuffer=cn;var nn=gn=0;Qt?(gn=Qt.width,nn=Qt.height):cn&&(gn=cn.width,nn=cn.height),this.width=gn,this.height=nn}function $e(gn){gn&&(gn.texture&&gn.texture._texture.decRef(),gn.renderbuffer&&gn.renderbuffer._renderbuffer.decRef())}function dt(gn,Qt,cn){gn&&(gn.texture?gn.texture._texture.refCount+=1:gn.renderbuffer._renderbuffer.refCount+=1)}function mt(gn,Qt){Qt&&(Qt.texture?Ve.framebufferTexture2D(36160,gn,Qt.target,Qt.texture._texture.texture,0):Ve.framebufferRenderbuffer(36160,gn,36161,Qt.renderbuffer._renderbuffer.renderbuffer))}function yt(gn){var Qt=3553,cn=null,nn=null,hn=gn;return typeof gn=="object"&&(hn=gn.data,"target"in gn&&(Qt=0|gn.target)),(gn=hn._reglType)==="texture2d"||gn==="textureCube"?cn=hn:gn==="renderbuffer"&&(nn=hn,Qt=36161),new ot(Qt,cn,nn)}function ht(gn,Qt,cn,nn,hn){return cn?((gn=it.create2D({width:gn,height:Qt,format:nn,type:hn}))._texture.refCount=0,new ot(3553,gn,null)):((gn=Be.create({width:gn,height:Qt,format:nn}))._renderbuffer.refCount=0,new ot(36161,null,gn))}function kt(gn){return gn&&(gn.texture||gn.renderbuffer)}function bt(gn,Qt,cn){gn&&(gn.texture?gn.texture.resize(Qt,cn):gn.renderbuffer&&gn.renderbuffer.resize(Qt,cn),gn.width=Qt,gn.height=cn)}function St(){this.id=Ln++,Tn[this.id]=this,this.framebuffer=Ve.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Lt(gn){gn.colorAttachments.forEach($e),$e(gn.depthAttachment),$e(gn.stencilAttachment),$e(gn.depthStencilAttachment)}function Ot(gn){Ve.deleteFramebuffer(gn.framebuffer),gn.framebuffer=null,je.framebufferCount--,delete Tn[gn.id]}function Ft(gn){var Qt;Ve.bindFramebuffer(36160,gn.framebuffer);var cn=gn.colorAttachments;for(Qt=0;Qt<cn.length;++Qt)mt(36064+Qt,cn[Qt]);for(Qt=cn.length;Qt<lt.maxColorAttachments;++Qt)Ve.framebufferTexture2D(36160,36064+Qt,3553,null,0);Ve.framebufferTexture2D(36160,33306,3553,null,0),Ve.framebufferTexture2D(36160,36096,3553,null,0),Ve.framebufferTexture2D(36160,36128,3553,null,0),mt(36096,gn.depthAttachment),mt(36128,gn.stencilAttachment),mt(33306,gn.depthStencilAttachment),Ve.checkFramebufferStatus(36160),Ve.isContextLost(),Ve.bindFramebuffer(36160,on.next?on.next.framebuffer:null),on.cur=on.next,Ve.getError()}function $t(gn,Qt){function cn(hn,bn){var wn,En=0,Dn=0,kn=!0,Bn=!0;wn=null;var Rn=!0,Kn="rgba",Gn="uint8",nr=1,$n=null,fr=null,en=null,rn=!1;typeof hn=="number"?(En=0|hn,Dn=0|bn||En):hn?("shape"in hn?(En=(Dn=hn.shape)[0],Dn=Dn[1]):("radius"in hn&&(En=Dn=hn.radius),"width"in hn&&(En=hn.width),"height"in hn&&(Dn=hn.height)),("color"in hn||"colors"in hn)&&(wn=hn.color||hn.colors,Array.isArray(wn)),wn||("colorCount"in hn&&(nr=0|hn.colorCount),"colorTexture"in hn&&(Rn=!!hn.colorTexture,Kn="rgba4"),"colorType"in hn&&(Gn=hn.colorType,!Rn)&&(Gn==="half float"||Gn==="float16"?Kn="rgba16f":Gn!=="float"&&Gn!=="float32"||(Kn="rgba32f")),"colorFormat"in hn&&(Kn=hn.colorFormat,0<=Ht.indexOf(Kn)?Rn=!0:0<=Zt.indexOf(Kn)&&(Rn=!1))),("depthTexture"in hn||"depthStencilTexture"in hn)&&(rn=!(!hn.depthTexture&&!hn.depthStencilTexture)),"depth"in hn&&(typeof hn.depth=="boolean"?kn=hn.depth:($n=hn.depth,Bn=!1)),"stencil"in hn&&(typeof hn.stencil=="boolean"?Bn=hn.stencil:(fr=hn.stencil,kn=!1)),"depthStencil"in hn&&(typeof hn.depthStencil=="boolean"?kn=Bn=hn.depthStencil:(en=hn.depthStencil,Bn=kn=!1))):En=Dn=1;var Cn=null,mn=null,On=null,Hn=null;if(Array.isArray(wn))Cn=wn.map(yt);else if(wn)Cn=[yt(wn)];else for(Cn=Array(nr),wn=0;wn<nr;++wn)Cn[wn]=ht(En,Dn,Rn,Kn,Gn);for(En=En||Cn[0].width,Dn=Dn||Cn[0].height,$n?mn=yt($n):kn&&!Bn&&(mn=ht(En,Dn,rn,"depth","uint32")),fr?On=yt(fr):Bn&&!kn&&(On=ht(En,Dn,!1,"stencil","uint8")),en?Hn=yt(en):!$n&&!fr&&Bn&&kn&&(Hn=ht(En,Dn,rn,"depth stencil","depth stencil")),kn=null,wn=0;wn<Cn.length;++wn)dt(Cn[wn]),Cn[wn]&&Cn[wn].texture&&(Bn=xt[Cn[wn].texture._texture.format]*gt[Cn[wn].texture._texture.type],kn===null&&(kn=Bn));return dt(mn),dt(On),dt(Hn),Lt(nn),nn.width=En,nn.height=Dn,nn.colorAttachments=Cn,nn.depthAttachment=mn,nn.stencilAttachment=On,nn.depthStencilAttachment=Hn,cn.color=Cn.map(kt),cn.depth=kt(mn),cn.stencil=kt(On),cn.depthStencil=kt(Hn),cn.width=nn.width,cn.height=nn.height,Ft(nn),cn}var nn=new St;return je.framebufferCount++,cn(gn,Qt),X(cn,{resize:function(hn,bn){var wn=Math.max(0|hn,1),En=Math.max(0|bn||wn,1);if(wn===nn.width&&En===nn.height)return cn;for(var Dn=nn.colorAttachments,kn=0;kn<Dn.length;++kn)bt(Dn[kn],wn,En);return bt(nn.depthAttachment,wn,En),bt(nn.stencilAttachment,wn,En),bt(nn.depthStencilAttachment,wn,En),nn.width=cn.width=wn,nn.height=cn.height=En,Ft(nn),cn},_reglType:"framebuffer",_framebuffer:nn,destroy:function(){Ot(nn),Lt(nn)},use:function(hn){on.setFBO({framebuffer:cn},hn)}})}var on={cur:null,next:null,dirty:!1,setFBO:null},Ht=["rgba"],Zt=["rgba4","rgb565","rgb5 a1"];Ze.ext_srgb&&Zt.push("srgba"),Ze.ext_color_buffer_half_float&&Zt.push("rgba16f","rgb16f"),Ze.webgl_color_buffer_float&&Zt.push("rgba32f");var jt=["uint8"];Ze.oes_texture_half_float&&jt.push("half float","float16"),Ze.oes_texture_float&&jt.push("float","float32");var Ln=0,Tn={};return X(on,{getFramebuffer:function(gn){return typeof gn=="function"&&gn._reglType==="framebuffer"&&(gn=gn._framebuffer)instanceof St?gn:null},create:$t,createCube:function(gn){function Qt(nn){var hn,bn={color:null},wn=0,En=null;hn="rgba";var Dn="uint8",kn=1;if(typeof nn=="number"?wn=0|nn:nn?("shape"in nn?wn=nn.shape[0]:("radius"in nn&&(wn=0|nn.radius),"width"in nn?wn=0|nn.width:"height"in nn&&(wn=0|nn.height)),("color"in nn||"colors"in nn)&&(En=nn.color||nn.colors,Array.isArray(En)),En||("colorCount"in nn&&(kn=0|nn.colorCount),"colorType"in nn&&(Dn=nn.colorType),"colorFormat"in nn&&(hn=nn.colorFormat)),"depth"in nn&&(bn.depth=nn.depth),"stencil"in nn&&(bn.stencil=nn.stencil),"depthStencil"in nn&&(bn.depthStencil=nn.depthStencil)):wn=1,En)if(Array.isArray(En))for(nn=[],hn=0;hn<En.length;++hn)nn[hn]=En[hn];else nn=[En];else for(nn=Array(kn),En={radius:wn,format:hn,type:Dn},hn=0;hn<kn;++hn)nn[hn]=it.createCube(En);for(bn.color=Array(nn.length),hn=0;hn<nn.length;++hn)kn=nn[hn],wn=wn||kn.width,bn.color[hn]={target:34069,data:nn[hn]};for(hn=0;6>hn;++hn){for(kn=0;kn<nn.length;++kn)bn.color[kn].target=34069+hn;0<hn&&(bn.depth=cn[0].depth,bn.stencil=cn[0].stencil,bn.depthStencil=cn[0].depthStencil),cn[hn]?cn[hn](bn):cn[hn]=$t(bn)}return X(Qt,{width:wn,height:wn,color:nn})}var cn=Array(6);return Qt(gn),X(Qt,{faces:cn,resize:function(nn){var hn=0|nn;if(hn===Qt.width)return Qt;var bn=Qt.color;for(nn=0;nn<bn.length;++nn)bn[nn].resize(hn);for(nn=0;6>nn;++nn)cn[nn].resize(hn);return Qt.width=Qt.height=hn,Qt},_reglType:"framebufferCube",destroy:function(){cn.forEach(function(nn){nn.destroy()})}})},clear:function(){me(Tn).forEach(Ot)},restore:function(){on.cur=null,on.next=null,on.dirty=!0,me(Tn).forEach(function(gn){gn.framebuffer=Ve.createFramebuffer(),Ft(gn)})}})}function D(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function O(Ve,Ze,lt,it,Be,je,ot){function $e(){this.id=++yt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var bt=Ze.oes_vertex_array_object;this.vao=bt?bt.createVertexArrayOES():null,ht[this.id]=this,this.buffers=[]}var dt=lt.maxAttributes,mt=Array(dt);for(lt=0;lt<dt;++lt)mt[lt]=new D;var yt=0,ht={},kt={Record:D,scope:{},state:mt,currentVAO:null,targetVAO:null,restore:Ze.oes_vertex_array_object?function(){Ze.oes_vertex_array_object&&me(ht).forEach(function(bt){bt.refresh()})}:function(){},createVAO:function(bt){function St(Ot){var Ft;Array.isArray(Ot)?(Ft=Ot,Lt.elements&&Lt.ownsElements&&Lt.elements.destroy(),Lt.elements=null,Lt.ownsElements=!1,Lt.offset=0,Lt.count=0,Lt.instances=-1,Lt.primitive=4):(Ot.elements?(Ft=Ot.elements,Lt.ownsElements?(typeof Ft=="function"&&Ft._reglType==="elements"?Lt.elements.destroy():Lt.elements(Ft),Lt.ownsElements=!1):je.getElements(Ot.elements)?(Lt.elements=Ot.elements,Lt.ownsElements=!1):(Lt.elements=je.create(Ot.elements),Lt.ownsElements=!0)):(Lt.elements=null,Lt.ownsElements=!1),Ft=Ot.attributes,Lt.offset=0,Lt.count=-1,Lt.instances=-1,Lt.primitive=4,Lt.elements&&(Lt.count=Lt.elements._elements.vertCount,Lt.primitive=Lt.elements._elements.primType),"offset"in Ot&&(Lt.offset=0|Ot.offset),"count"in Ot&&(Lt.count=0|Ot.count),"instances"in Ot&&(Lt.instances=0|Ot.instances),"primitive"in Ot&&(Lt.primitive=De[Ot.primitive])),Ot={};var $t=Lt.attributes;$t.length=Ft.length;for(var on=0;on<Ft.length;++on){var Ht,Zt=Ft[on],jt=$t[on]=new D,Ln=Zt.data||Zt;Array.isArray(Ln)||ve(Ln)||t(Ln)?(Lt.buffers[on]&&(Ht=Lt.buffers[on],ve(Ln)&&Ht._buffer.byteLength>=Ln.byteLength?Ht.subdata(Ln):(Ht.destroy(),Lt.buffers[on]=null)),Lt.buffers[on]||(Ht=Lt.buffers[on]=Be.create(Zt,34962,!1,!0)),jt.buffer=Be.getBuffer(Ht),jt.size=0|jt.buffer.dimension,jt.normalized=!1,jt.type=jt.buffer.dtype,jt.offset=0,jt.stride=0,jt.divisor=0,jt.state=1,Ot[on]=1):Be.getBuffer(Zt)?(jt.buffer=Be.getBuffer(Zt),jt.size=0|jt.buffer.dimension,jt.normalized=!1,jt.type=jt.buffer.dtype,jt.offset=0,jt.stride=0,jt.divisor=0,jt.state=1):Be.getBuffer(Zt.buffer)?(jt.buffer=Be.getBuffer(Zt.buffer),jt.size=0|(+Zt.size||jt.buffer.dimension),jt.normalized=!!Zt.normalized||!1,jt.type="type"in Zt?Ie[Zt.type]:jt.buffer.dtype,jt.offset=0|(Zt.offset||0),jt.stride=0|(Zt.stride||0),jt.divisor=0|(Zt.divisor||0),jt.state=1):"x"in Zt&&(jt.x=+Zt.x||0,jt.y=+Zt.y||0,jt.z=+Zt.z||0,jt.w=+Zt.w||0,jt.state=2)}for(Ht=0;Ht<Lt.buffers.length;++Ht)!Ot[Ht]&&Lt.buffers[Ht]&&(Lt.buffers[Ht].destroy(),Lt.buffers[Ht]=null);return Lt.refresh(),St}var Lt=new $e;return it.vaoCount+=1,St.destroy=function(){for(var Ot=0;Ot<Lt.buffers.length;++Ot)Lt.buffers[Ot]&&Lt.buffers[Ot].destroy();Lt.buffers.length=0,Lt.ownsElements&&(Lt.elements.destroy(),Lt.elements=null,Lt.ownsElements=!1),Lt.destroy()},St._vao=Lt,St._reglType="vao",St(bt)},getVAO:function(bt){return typeof bt=="function"&&bt._vao?bt._vao:null},destroyBuffer:function(bt){for(var St=0;St<mt.length;++St){var Lt=mt[St];Lt.buffer===bt&&(Ve.disableVertexAttribArray(St),Lt.buffer=null)}},setVAO:Ze.oes_vertex_array_object?function(bt){if(bt!==kt.currentVAO){var St=Ze.oes_vertex_array_object;bt?St.bindVertexArrayOES(bt.vao):St.bindVertexArrayOES(null),kt.currentVAO=bt}}:function(bt){if(bt!==kt.currentVAO){if(bt)bt.bindAttrs();else{for(var St=Ze.angle_instanced_arrays,Lt=0;Lt<mt.length;++Lt){var Ot=mt[Lt];Ot.buffer?(Ve.enableVertexAttribArray(Lt),Ot.buffer.bind(),Ve.vertexAttribPointer(Lt,Ot.size,Ot.type,Ot.normalized,Ot.stride,Ot.offfset),St&&Ot.divisor&&St.vertexAttribDivisorANGLE(Lt,Ot.divisor)):(Ve.disableVertexAttribArray(Lt),Ve.vertexAttrib4f(Lt,Ot.x,Ot.y,Ot.z,Ot.w))}ot.elements?Ve.bindBuffer(34963,ot.elements.buffer.buffer):Ve.bindBuffer(34963,null)}kt.currentVAO=bt}},clear:Ze.oes_vertex_array_object?function(){me(ht).forEach(function(bt){bt.destroy()})}:function(){}};return $e.prototype.bindAttrs=function(){for(var bt=Ze.angle_instanced_arrays,St=this.attributes,Lt=0;Lt<St.length;++Lt){var Ot=St[Lt];Ot.buffer?(Ve.enableVertexAttribArray(Lt),Ve.bindBuffer(34962,Ot.buffer.buffer),Ve.vertexAttribPointer(Lt,Ot.size,Ot.type,Ot.normalized,Ot.stride,Ot.offset),bt&&Ot.divisor&&bt.vertexAttribDivisorANGLE(Lt,Ot.divisor)):(Ve.disableVertexAttribArray(Lt),Ve.vertexAttrib4f(Lt,Ot.x,Ot.y,Ot.z,Ot.w))}for(bt=St.length;bt<dt;++bt)Ve.disableVertexAttribArray(bt);(bt=je.getElements(this.elements))?Ve.bindBuffer(34963,bt.buffer.buffer):Ve.bindBuffer(34963,null)},$e.prototype.refresh=function(){var bt=Ze.oes_vertex_array_object;bt&&(bt.bindVertexArrayOES(this.vao),this.bindAttrs(),kt.currentVAO=null,bt.bindVertexArrayOES(null))},$e.prototype.destroy=function(){if(this.vao){var bt=Ze.oes_vertex_array_object;this===kt.currentVAO&&(kt.currentVAO=null,bt.bindVertexArrayOES(null)),bt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ht[this.id]&&(delete ht[this.id],--it.vaoCount)},kt}function L(Ve,Ze,lt,it){function Be(St,Lt,Ot,Ft){this.name=St,this.id=Lt,this.location=Ot,this.info=Ft}function je(St,Lt){for(var Ot=0;Ot<St.length;++Ot)if(St[Ot].id===Lt.id)return void(St[Ot].location=Lt.location);St.push(Lt)}function ot(St,Lt,Ot){if(!($t=(Ot=St===35632?mt:yt)[Lt])){var Ft=Ze.str(Lt),$t=Ve.createShader(St);Ve.shaderSource($t,Ft),Ve.compileShader($t),Ot[Lt]=$t}return $t}function $e(St,Lt){this.id=bt++,this.fragId=St,this.vertId=Lt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,it.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function dt(St,Lt,Ot){var Ft;Ft=ot(35632,St.fragId);var $t=ot(35633,St.vertId);if(Lt=St.program=Ve.createProgram(),Ve.attachShader(Lt,Ft),Ve.attachShader(Lt,$t),Ot)for(Ft=0;Ft<Ot.length;++Ft)$t=Ot[Ft],Ve.bindAttribLocation(Lt,$t[0],$t[1]);Ve.linkProgram(Lt),$t=Ve.getProgramParameter(Lt,35718),it.profile&&(St.stats.uniformsCount=$t);var on=St.uniforms;for(Ft=0;Ft<$t;++Ft)if(Ot=Ve.getActiveUniform(Lt,Ft))if(1<Ot.size)for(var Ht=0;Ht<Ot.size;++Ht){var Zt=Ot.name.replace("[0]","["+Ht+"]");je(on,new Be(Zt,Ze.id(Zt),Ve.getUniformLocation(Lt,Zt),Ot))}else je(on,new Be(Ot.name,Ze.id(Ot.name),Ve.getUniformLocation(Lt,Ot.name),Ot));for($t=Ve.getProgramParameter(Lt,35721),it.profile&&(St.stats.attributesCount=$t),St=St.attributes,Ft=0;Ft<$t;++Ft)(Ot=Ve.getActiveAttrib(Lt,Ft))&&je(St,new Be(Ot.name,Ze.id(Ot.name),Ve.getAttribLocation(Lt,Ot.name),Ot))}var mt={},yt={},ht={},kt=[],bt=0;return it.profile&&(lt.getMaxUniformsCount=function(){var St=0;return kt.forEach(function(Lt){Lt.stats.uniformsCount>St&&(St=Lt.stats.uniformsCount)}),St},lt.getMaxAttributesCount=function(){var St=0;return kt.forEach(function(Lt){Lt.stats.attributesCount>St&&(St=Lt.stats.attributesCount)}),St}),{clear:function(){var St=Ve.deleteShader.bind(Ve);me(mt).forEach(St),mt={},me(yt).forEach(St),yt={},kt.forEach(function(Lt){Ve.deleteProgram(Lt.program)}),kt.length=0,ht={},lt.shaderCount=0},program:function(St,Lt,Ot,Ft){var $t=ht[Lt];$t||($t=ht[Lt]={});var on=$t[St];if(on&&(on.refCount++,!Ft))return on;var Ht=new $e(Lt,St);return lt.shaderCount++,dt(Ht,Ot,Ft),on||($t[St]=Ht),kt.push(Ht),X(Ht,{destroy:function(){if(Ht.refCount--,0>=Ht.refCount){Ve.deleteProgram(Ht.program);var Zt=kt.indexOf(Ht);kt.splice(Zt,1),lt.shaderCount--}0>=$t[Ht.vertId].refCount&&(Ve.deleteShader(yt[Ht.vertId]),delete yt[Ht.vertId],delete ht[Ht.fragId][Ht.vertId]),Object.keys(ht[Ht.fragId]).length||(Ve.deleteShader(mt[Ht.fragId]),delete mt[Ht.fragId],delete ht[Ht.fragId])}})},restore:function(){mt={},yt={};for(var St=0;St<kt.length;++St)dt(kt[St],null,kt[St].attributes.map(function(Lt){return[Lt.location,Lt.name]}))},shader:ot,frag:-1,vert:-1}}function R(Ve,Ze,lt,it,Be,je,ot){function $e(dt){var mt;mt=Ze.next===null?5121:Ze.next.colorAttachments[0].texture._texture.type;var yt=0,ht=0,kt=it.framebufferWidth,bt=it.framebufferHeight,St=null;return ve(dt)?St=dt:dt&&(yt=0|dt.x,ht=0|dt.y,kt=0|(dt.width||it.framebufferWidth-yt),bt=0|(dt.height||it.framebufferHeight-ht),St=dt.data||null),lt(),dt=kt*bt*4,St||(mt===5121?St=new Uint8Array(dt):mt===5126&&(St=St||new Float32Array(dt))),Ve.pixelStorei(3333,4),Ve.readPixels(yt,ht,kt,bt,6408,mt,St),St}return function(dt){return dt&&"framebuffer"in dt?function(mt){var yt;return Ze.setFBO({framebuffer:mt.framebuffer},function(){yt=$e(mt)}),yt}(dt):$e(dt)}}function z(Ve,Ze){return Ve>>>Ze|Ve<<32-Ze}function q(Ve,Ze){var lt=(65535&Ve)+(65535&Ze);return(Ve>>16)+(Ze>>16)+(lt>>16)<<16|65535&lt}function N(Ve){return Array.prototype.slice.call(Ve)}function V(Ve){return N(Ve).join("")}function Z(Ve){function Ze(){var yt=[],ht=[];return X(function(){yt.push.apply(yt,N(arguments))},{def:function(){var kt="v"+Be++;return ht.push(kt),0<arguments.length&&(yt.push(kt,"="),yt.push.apply(yt,N(arguments)),yt.push(";")),kt},toString:function(){return V([0<ht.length?"var "+ht.join(",")+";":"",V(yt)])}})}function lt(){function yt(Lt,Ot){kt(Lt,Ot,"=",ht.def(Lt,Ot),";")}var ht=Ze(),kt=Ze(),bt=ht.toString,St=kt.toString;return X(function(){ht.apply(ht,N(arguments))},{def:ht.def,entry:ht,exit:kt,save:yt,set:function(Lt,Ot,Ft){yt(Lt,Ot),ht(Lt,Ot,"=",Ft,";")},toString:function(){return bt()+St()}})}var it=Ve&&Ve.cache,Be=0,je=[],ot=[],$e=[],dt=Ze(),mt={};return{global:dt,link:function(yt,ht){var kt=ht&&ht.stable;if(!kt){for(var bt=0;bt<ot.length;++bt)if(ot[bt]===yt&&!$e[bt])return je[bt]}return bt="g"+Be++,je.push(bt),ot.push(yt),$e.push(kt),bt},block:Ze,proc:function(yt,ht){function kt(){var Ot="a"+bt.length;return bt.push(Ot),Ot}var bt=[];ht=ht||0;for(var St=0;St<ht;++St)kt();var Lt=(St=lt()).toString;return mt[yt]=X(St,{arg:kt,toString:function(){return V(["function(",bt.join(),"){",Lt(),"}"])}})},scope:lt,cond:function(){var yt=V(arguments),ht=lt(),kt=lt(),bt=ht.toString,St=kt.toString;return X(ht,{then:function(){return ht.apply(ht,N(arguments)),this},else:function(){return kt.apply(kt,N(arguments)),this},toString:function(){var Lt=St();return Lt&&(Lt="else{"+Lt+"}"),V(["if(",yt,"){",bt(),"}",Lt])}})},compile:function(){var yt=['"use strict";',dt,"return {"];Object.keys(mt).forEach(function(bt){yt.push('"',bt,'":',mt[bt].toString(),",")}),yt.push("}");var ht,kt=V(yt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return it&&(ht=function(bt){for(var St,Lt="",Ot=0;Ot<bt.length;Ot++)St=bt.charCodeAt(Ot),Lt+="0123456789abcdef".charAt(St>>>4&15)+"0123456789abcdef".charAt(15&St);return Lt}(function(bt){for(var St=Array(bt.length>>2),Lt=0;Lt<St.length;Lt++)St[Lt]=0;for(Lt=0;Lt<8*bt.length;Lt+=8)St[Lt>>5]|=(255&bt.charCodeAt(Lt/8))<<24-Lt%32;var Ot,Ft,$t,on,Ht,Zt,jt,Ln,Tn,gn,Qt,cn=8*bt.length;for(bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Lt=Array(64),St[cn>>5]|=128<<24-cn%32,St[15+(cn+64>>9<<4)]=cn,Ln=0;Ln<St.length;Ln+=16){for(cn=bt[0],Ot=bt[1],Ft=bt[2],$t=bt[3],on=bt[4],Ht=bt[5],Zt=bt[6],jt=bt[7],Tn=0;64>Tn;Tn++){var nn;16>Tn?Lt[Tn]=St[Tn+Ln]:(gn=Tn,Qt=q(Qt=z(Qt=Lt[Tn-2],17)^z(Qt,19)^Qt>>>10,Lt[Tn-7]),nn=z(nn=Lt[Tn-15],7)^z(nn,18)^nn>>>3,Lt[gn]=q(q(Qt,nn),Lt[Tn-16])),gn=q(q(q(q(jt,gn=z(gn=on,6)^z(gn,11)^z(gn,25)),on&Ht^~on&Zt),nt[Tn]),Lt[Tn]),Qt=q(jt=z(jt=cn,2)^z(jt,13)^z(jt,22),cn&Ot^cn&Ft^Ot&Ft),jt=Zt,Zt=Ht,Ht=on,on=q($t,gn),$t=Ft,Ft=Ot,Ot=cn,cn=q(gn,Qt)}bt[0]=q(cn,bt[0]),bt[1]=q(Ot,bt[1]),bt[2]=q(Ft,bt[2]),bt[3]=q($t,bt[3]),bt[4]=q(on,bt[4]),bt[5]=q(Ht,bt[5]),bt[6]=q(Zt,bt[6]),bt[7]=q(jt,bt[7])}for(St="",Lt=0;Lt<32*bt.length;Lt+=8)St+=String.fromCharCode(bt[Lt>>5]>>>24-Lt%32&255);return St}(function(bt){for(var St,Lt,Ot="",Ft=-1;++Ft<bt.length;)St=bt.charCodeAt(Ft),Lt=Ft+1<bt.length?bt.charCodeAt(Ft+1):0,55296<=St&&56319>=St&&56320<=Lt&&57343>=Lt&&(St=65536+((1023&St)<<10)+(1023&Lt),Ft++),127>=St?Ot+=String.fromCharCode(St):2047>=St?Ot+=String.fromCharCode(192|St>>>6&31,128|63&St):65535>=St?Ot+=String.fromCharCode(224|St>>>12&15,128|St>>>6&63,128|63&St):2097151>=St&&(Ot+=String.fromCharCode(240|St>>>18&7,128|St>>>12&63,128|St>>>6&63,128|63&St));return Ot}(kt))),it[ht])?it[ht].apply(null,ot):(kt=Function.apply(null,je.concat(kt)),it&&(it[ht]=kt),kt.apply(null,ot))}}}function j(Ve){return Array.isArray(Ve)||ve(Ve)||t(Ve)}function H(Ve){return Ve.sort(function(Ze,lt){return Ze==="viewport"?-1:lt==="viewport"?1:Ze<lt?-1:1})}function Y(Ve,Ze,lt,it){this.thisDep=Ve,this.contextDep=Ze,this.propDep=lt,this.append=it}function ie(Ve){return Ve&&!(Ve.thisDep||Ve.contextDep||Ve.propDep)}function re(Ve){return new Y(!1,!1,!1,Ve)}function ne(Ve,Ze){var lt=Ve.type;if(lt===0)return new Y(!0,1<=(lt=Ve.data.length),2<=lt,Ze);if(lt===4)return new Y((lt=Ve.data).thisDep,lt.contextDep,lt.propDep,Ze);if(lt===5)return new Y(!1,!1,!1,Ze);if(lt===6){for(var it=lt=!1,Be=!1,je=0;je<Ve.data.length;++je){var ot=Ve.data[je];ot.type===1?Be=!0:ot.type===2?it=!0:ot.type===3?lt=!0:ot.type===0?(lt=!0,1<=(ot=ot.data)&&(it=!0),2<=ot&&(Be=!0)):ot.type===4&&(lt=lt||ot.data.thisDep,it=it||ot.data.contextDep,Be=Be||ot.data.propDep)}return new Y(lt,it,Be,Ze)}return new Y(lt===3,lt===2,lt===1,Ze)}function ee(Ve,Ze,lt,it,Be,je,ot,$e,dt,mt,yt,ht,kt,bt,St,Lt){function Ot(Dt){return Dt.replace(".","_")}function Ft(Dt,Bt,Jt){var fn=Ot(Dt);Hn.push(Dt),On[fn]=mn[fn]=!!Jt,Un[fn]=Bt}function $t(Dt,Bt,Jt){var fn=Ot(Dt);Hn.push(Dt),Array.isArray(Jt)?(mn[fn]=Jt.slice(),On[fn]=Jt.slice()):mn[fn]=On[fn]=Jt,Zn[fn]=Bt}function on(){var Dt=Z({cache:St}),Bt=Dt.link,Jt=Dt.global;Dt.id=vn++,Dt.batchId="0";var fn=Bt(pr),dn=Dt.shared={props:"a0"};Object.keys(pr).forEach(function(tn){dn[tn]=Jt.def(fn,".",tn)});var xn=Dt.next={},sn=Dt.current={};Object.keys(Zn).forEach(function(tn){Array.isArray(mn[tn])&&(xn[tn]=Jt.def(dn.next,".",tn),sn[tn]=Jt.def(dn.current,".",tn))});var Yt=Dt.constants={};Object.keys(Kt).forEach(function(tn){Yt[tn]=Jt.def(JSON.stringify(Kt[tn]))}),Dt.invoke=function(tn,ln){switch(ln.type){case 0:var An=["this",dn.context,dn.props,Dt.batchId];return tn.def(Bt(ln.data),".call(",An.slice(0,Math.max(ln.data.length+1,4)),")");case 1:return tn.def(dn.props,ln.data);case 2:return tn.def(dn.context,ln.data);case 3:return tn.def("this",ln.data);case 4:return ln.data.append(Dt,tn),ln.data.ref;case 5:return ln.data.toString();case 6:return ln.data.map(function(In){return Dt.invoke(tn,In)})}},Dt.attribCache={};var Wt={};return Dt.scopeAttrib=function(tn){if((tn=Ze.id(tn))in Wt)return Wt[tn];var ln=mt.scope[tn];return ln||(ln=mt.scope[tn]=new $n),Wt[tn]=Bt(ln)},Dt}function Ht(Dt,Bt){var Jt=Dt.static,fn=Dt.dynamic;if("framebuffer"in Jt){var dn=Jt.framebuffer;return dn?(dn=$e.getFramebuffer(dn),re(function(sn,Yt){var Wt=sn.link(dn),tn=sn.shared;return Yt.set(tn.framebuffer,".next",Wt),tn=tn.context,Yt.set(tn,".framebufferWidth",Wt+".width"),Yt.set(tn,".framebufferHeight",Wt+".height"),Wt})):re(function(sn,Yt){var Wt=sn.shared;return Yt.set(Wt.framebuffer,".next","null"),Wt=Wt.context,Yt.set(Wt,".framebufferWidth",Wt+".drawingBufferWidth"),Yt.set(Wt,".framebufferHeight",Wt+".drawingBufferHeight"),"null"})}if("framebuffer"in fn){var xn=fn.framebuffer;return ne(xn,function(sn,Yt){var Wt=sn.invoke(Yt,xn),tn=sn.shared,ln=tn.framebuffer;return Wt=Yt.def(ln,".getFramebuffer(",Wt,")"),Yt.set(ln,".next",Wt),tn=tn.context,Yt.set(tn,".framebufferWidth",Wt+"?"+Wt+".width:"+tn+".drawingBufferWidth"),Yt.set(tn,".framebufferHeight",Wt+"?"+Wt+".height:"+tn+".drawingBufferHeight"),Wt})}return null}function Zt(Dt,Bt,Jt){function fn(tn){if(tn in dn){var ln=Ze.id(dn[tn]);return(tn=re(function(){return ln})).id=ln,tn}if(tn in xn){var An=xn[tn];return ne(An,function(In,Nn){var jn=In.invoke(Nn,An);return Nn.def(In.shared.strings,".id(",jn,")")})}return null}var dn=Dt.static,xn=Dt.dynamic,sn=fn("frag"),Yt=fn("vert"),Wt=null;return ie(sn)&&ie(Yt)?(Wt=yt.program(Yt.id,sn.id,null,Jt),Dt=re(function(tn,ln){return tn.link(Wt)})):Dt=new Y(sn&&sn.thisDep||Yt&&Yt.thisDep,sn&&sn.contextDep||Yt&&Yt.contextDep,sn&&sn.propDep||Yt&&Yt.propDep,function(tn,ln){var An,In,Nn=tn.shared.shader;return An=sn?sn.append(tn,ln):ln.def(Nn,".","frag"),In=Yt?Yt.append(tn,ln):ln.def(Nn,".","vert"),ln.def(Nn+".program("+In+","+An+")")}),{frag:sn,vert:Yt,progVar:Dt,program:Wt}}function jt(Dt,Bt){function Jt(jn,er){if(jn in fn){var Wn=0|fn[jn];return er?xn.offset=Wn:xn.instances=Wn,re(function(rr,Qn){return er&&(rr.OFFSET=Wn),Wn})}if(jn in dn){var Jn=dn[jn];return ne(Jn,function(rr,Qn){var hr=rr.invoke(Qn,Jn);return er&&(rr.OFFSET=hr),hr})}if(er){if(Wt)return re(function(rr,Qn){return rr.OFFSET=0});if(sn)return new Y(Yt.thisDep,Yt.contextDep,Yt.propDep,function(rr,Qn){return Qn.def(rr.shared.vao+".currentVAO?"+rr.shared.vao+".currentVAO.offset:0")})}else if(sn)return new Y(Yt.thisDep,Yt.contextDep,Yt.propDep,function(rr,Qn){return Qn.def(rr.shared.vao+".currentVAO?"+rr.shared.vao+".currentVAO.instances:-1")});return null}var fn=Dt.static,dn=Dt.dynamic,xn={},sn=!1,Yt=function(){if("vao"in fn){var jn=fn.vao;return jn!==null&&mt.getVAO(jn)===null&&(jn=mt.createVAO(jn)),sn=!0,xn.vao=jn,re(function(Wn){var Jn=mt.getVAO(jn);return Jn?Wn.link(Jn):"null"})}if("vao"in dn){sn=!0;var er=dn.vao;return ne(er,function(Wn,Jn){var rr=Wn.invoke(Jn,er);return Jn.def(Wn.shared.vao+".getVAO("+rr+")")})}return null}(),Wt=!1,tn=function(){if("elements"in fn){var jn=fn.elements;if(xn.elements=jn,j(jn)){var er=xn.elements=je.create(jn,!0);jn=je.getElements(er),Wt=!0}else jn&&(jn=je.getElements(jn),Wt=!0);return er=re(function(Jn,rr){if(jn){var Qn=Jn.link(jn);return Jn.ELEMENTS=Qn}return Jn.ELEMENTS=null}),er.value=jn,er}if("elements"in dn){Wt=!0;var Wn=dn.elements;return ne(Wn,function(Jn,rr){var Qn=(hr=Jn.shared).isBufferArgs,hr=hr.elements,br=Jn.invoke(rr,Wn),gr=rr.def("null");return Qn=rr.def(Qn,"(",br,")"),br=Jn.cond(Qn).then(gr,"=",hr,".createStream(",br,");").else(gr,"=",hr,".getElements(",br,");"),rr.entry(br),rr.exit(Jn.cond(Qn).then(hr,".destroyStream(",gr,");")),Jn.ELEMENTS=gr})}return sn?new Y(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Jn,rr){return rr.def(Jn.shared.vao+".currentVAO?"+Jn.shared.elements+".getElements("+Jn.shared.vao+".currentVAO.elements):null")}):null}(),ln=Jt("offset",!0),An=function(){if("primitive"in fn){var jn=fn.primitive;return xn.primitive=jn,re(function(Wn,Jn){return De[jn]})}if("primitive"in dn){var er=dn.primitive;return ne(er,function(Wn,Jn){var rr=Wn.constants.primTypes,Qn=Wn.invoke(Jn,er);return Jn.def(rr,"[",Qn,"]")})}return Wt?ie(tn)?tn.value?re(function(Wn,Jn){return Jn.def(Wn.ELEMENTS,".primType")}):re(function(){return 4}):new Y(tn.thisDep,tn.contextDep,tn.propDep,function(Wn,Jn){var rr=Wn.ELEMENTS;return Jn.def(rr,"?",rr,".primType:",4)}):sn?new Y(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Wn,Jn){return Jn.def(Wn.shared.vao+".currentVAO?"+Wn.shared.vao+".currentVAO.primitive:4")}):null}(),In=function(){if("count"in fn){var jn=0|fn.count;return xn.count=jn,re(function(){return jn})}if("count"in dn){var er=dn.count;return ne(er,function(Wn,Jn){return Wn.invoke(Jn,er)})}return Wt?ie(tn)?tn?ln?new Y(ln.thisDep,ln.contextDep,ln.propDep,function(Wn,Jn){return Jn.def(Wn.ELEMENTS,".vertCount-",Wn.OFFSET)}):re(function(Wn,Jn){return Jn.def(Wn.ELEMENTS,".vertCount")}):re(function(){return-1}):new Y(tn.thisDep||ln.thisDep,tn.contextDep||ln.contextDep,tn.propDep||ln.propDep,function(Wn,Jn){var rr=Wn.ELEMENTS;return Wn.OFFSET?Jn.def(rr,"?",rr,".vertCount-",Wn.OFFSET,":-1"):Jn.def(rr,"?",rr,".vertCount:-1")}):sn?new Y(Yt.thisDep,Yt.contextDep,Yt.propDep,function(Wn,Jn){return Jn.def(Wn.shared.vao,".currentVAO?",Wn.shared.vao,".currentVAO.count:-1")}):null}(),Nn=Jt("instances",!1);return{elements:tn,primitive:An,count:In,instances:Nn,offset:ln,vao:Yt,vaoActive:sn,elementsActive:Wt,static:xn}}function Ln(Dt,Bt){var Jt=Dt.static,fn=Dt.dynamic,dn={};return Object.keys(Jt).forEach(function(xn){var sn=Jt[xn],Yt=Ze.id(xn),Wt=new $n;if(j(sn))Wt.state=1,Wt.buffer=Be.getBuffer(Be.create(sn,34962,!1,!0)),Wt.type=0;else if(ln=Be.getBuffer(sn))Wt.state=1,Wt.buffer=ln,Wt.type=0;else if("constant"in sn){var tn=sn.constant;Wt.buffer="null",Wt.state=2,typeof tn=="number"?Wt.x=tn:et.forEach(function(Wn,Jn){Jn<tn.length&&(Wt[Wn]=tn[Jn])})}else{var ln=j(sn.buffer)?Be.getBuffer(Be.create(sn.buffer,34962,!1,!0)):Be.getBuffer(sn.buffer),An=0|sn.offset,In=0|sn.stride,Nn=0|sn.size,jn=!!sn.normalized,er=0;"type"in sn&&(er=Ie[sn.type]),sn=0|sn.divisor,Wt.buffer=ln,Wt.state=1,Wt.size=Nn,Wt.normalized=jn,Wt.type=er||ln.dtype,Wt.offset=An,Wt.stride=In,Wt.divisor=sn}dn[xn]=re(function(Wn,Jn){var rr=Wn.attribCache;if(Yt in rr)return rr[Yt];var Qn={isStream:!1};return Object.keys(Wt).forEach(function(hr){Qn[hr]=Wt[hr]}),Wt.buffer&&(Qn.buffer=Wn.link(Wt.buffer),Qn.type=Qn.type||Qn.buffer+".dtype"),rr[Yt]=Qn})}),Object.keys(fn).forEach(function(xn){var sn=fn[xn];dn[xn]=ne(sn,function(Yt,Wt){function tn(rr){Wt(jn[rr],"=",ln,".",rr,"|0;")}var ln=Yt.invoke(Wt,sn),An=Yt.shared,In=Yt.constants,Nn=An.isBufferArgs,jn=(An=An.buffer,{isStream:Wt.def(!1)}),er=new $n;er.state=1,Object.keys(er).forEach(function(rr){jn[rr]=Wt.def(""+er[rr])});var Wn=jn.buffer,Jn=jn.type;return Wt("if(",Nn,"(",ln,")){",jn.isStream,"=true;",Wn,"=",An,".createStream(",34962,",",ln,");",Jn,"=",Wn,".dtype;","}else{",Wn,"=",An,".getBuffer(",ln,");","if(",Wn,"){",Jn,"=",Wn,".dtype;",'}else if("constant" in ',ln,"){",jn.state,"=",2,";","if(typeof "+ln+'.constant === "number"){',jn[et[0]],"=",ln,".constant;",et.slice(1).map(function(rr){return jn[rr]}).join("="),"=0;","}else{",et.map(function(rr,Qn){return jn[rr]+"="+ln+".constant.length>"+Qn+"?"+ln+".constant["+Qn+"]:0;"}).join(""),"}}else{","if(",Nn,"(",ln,".buffer)){",Wn,"=",An,".createStream(",34962,",",ln,".buffer);","}else{",Wn,"=",An,".getBuffer(",ln,".buffer);","}",Jn,'="type" in ',ln,"?",In.glTypes,"[",ln,".type]:",Wn,".dtype;",jn.normalized,"=!!",ln,".normalized;"),tn("size"),tn("offset"),tn("stride"),tn("divisor"),Wt("}}"),Wt.exit("if(",jn.isStream,"){",An,".destroyStream(",Wn,");","}"),jn})}),dn}function Tn(Dt,Bt,Jt,fn,dn){function xn(er){var Wn=Yt[er];Wn&&(tn[er]=Wn)}var sn=function(er,Wn){if(typeof(Jn=er.static).frag=="string"&&typeof Jn.vert=="string"){if(0<Object.keys(Wn.dynamic).length)return null;var Jn=Wn.static,rr=Object.keys(Jn);if(0<rr.length&&typeof Jn[rr[0]]=="number"){for(var Qn=[],hr=0;hr<rr.length;++hr)Qn.push([0|Jn[rr[hr]],rr[hr]]);return Qn}}return null}(Dt,Bt),Yt=function(er,Wn,Jn){function rr(gr){if(gr in Qn){var ar=Qn[gr];gr=!0;var mr,kr,Rr=0|ar.x,Si=0|ar.y;return"width"in ar?mr=0|ar.width:gr=!1,"height"in ar?kr=0|ar.height:gr=!1,new Y(!gr&&Wn&&Wn.thisDep,!gr&&Wn&&Wn.contextDep,!gr&&Wn&&Wn.propDep,function(io,Ai){var Vi=io.shared.context,zo=mr;"width"in ar||(zo=Ai.def(Vi,".","framebufferWidth","-",Rr));var Nr=kr;return"height"in ar||(Nr=Ai.def(Vi,".","framebufferHeight","-",Si)),[Rr,Si,zo,Nr]})}if(gr in hr){var Ei=hr[gr];return gr=ne(Ei,function(io,Ai){var Vi=io.invoke(Ai,Ei),zo=io.shared.context,Nr=Ai.def(Vi,".x|0"),co=Ai.def(Vi,".y|0");return[Nr,co,Ai.def('"width" in ',Vi,"?",Vi,".width|0:","(",zo,".","framebufferWidth","-",Nr,")"),Vi=Ai.def('"height" in ',Vi,"?",Vi,".height|0:","(",zo,".","framebufferHeight","-",co,")")]}),Wn&&(gr.thisDep=gr.thisDep||Wn.thisDep,gr.contextDep=gr.contextDep||Wn.contextDep,gr.propDep=gr.propDep||Wn.propDep),gr}return Wn?new Y(Wn.thisDep,Wn.contextDep,Wn.propDep,function(io,Ai){var Vi=io.shared.context;return[0,0,Ai.def(Vi,".","framebufferWidth"),Ai.def(Vi,".","framebufferHeight")]}):null}var Qn=er.static,hr=er.dynamic;if(er=rr("viewport")){var br=er;er=new Y(er.thisDep,er.contextDep,er.propDep,function(gr,ar){var mr=br.append(gr,ar),kr=gr.shared.context;return ar.set(kr,".viewportWidth",mr[2]),ar.set(kr,".viewportHeight",mr[3]),mr})}return{viewport:er,scissor_box:rr("scissor.box")}}(Dt,An=Ht(Dt)),Wt=jt(Dt),tn=function(er,Wn){var Jn=er.static,rr=er.dynamic,Qn={};return Hn.forEach(function(hr){function br(ar,mr){if(hr in Jn){var kr=ar(Jn[hr]);Qn[gr]=re(function(){return kr})}else if(hr in rr){var Rr=rr[hr];Qn[gr]=ne(Rr,function(Si,Ei){return mr(Si,Ei,Si.invoke(Ei,Rr))})}}var gr=Ot(hr);switch(hr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return br(function(ar){return ar},function(ar,mr,kr){return kr});case"depth.func":return br(function(ar){return Rt[ar]},function(ar,mr,kr){return mr.def(ar.constants.compareFuncs,"[",kr,"]")});case"depth.range":return br(function(ar){return ar},function(ar,mr,kr){return[mr.def("+",kr,"[0]"),mr=mr.def("+",kr,"[1]")]});case"blend.func":return br(function(ar){return[Pt["srcRGB"in ar?ar.srcRGB:ar.src],Pt["dstRGB"in ar?ar.dstRGB:ar.dst],Pt["srcAlpha"in ar?ar.srcAlpha:ar.src],Pt["dstAlpha"in ar?ar.dstAlpha:ar.dst]]},function(ar,mr,kr){function Rr(Ai,Vi){return mr.def('"',Ai,Vi,'" in ',kr,"?",kr,".",Ai,Vi,":",kr,".",Ai)}ar=ar.constants.blendFuncs;var Si=Rr("src","RGB"),Ei=Rr("dst","RGB"),io=(Si=mr.def(ar,"[",Si,"]"),mr.def(ar,"[",Rr("src","Alpha"),"]"));return[Si,Ei=mr.def(ar,"[",Ei,"]"),io,ar=mr.def(ar,"[",Rr("dst","Alpha"),"]")]});case"blend.equation":return br(function(ar){return typeof ar=="string"?[fr[ar],fr[ar]]:typeof ar=="object"?[fr[ar.rgb],fr[ar.alpha]]:void 0},function(ar,mr,kr){var Rr=ar.constants.blendEquations,Si=mr.def(),Ei=mr.def();return(ar=ar.cond("typeof ",kr,'==="string"')).then(Si,"=",Ei,"=",Rr,"[",kr,"];"),ar.else(Si,"=",Rr,"[",kr,".rgb];",Ei,"=",Rr,"[",kr,".alpha];"),mr(ar),[Si,Ei]});case"blend.color":return br(function(ar){return b(4,function(mr){return+ar[mr]})},function(ar,mr,kr){return b(4,function(Rr){return mr.def("+",kr,"[",Rr,"]")})});case"stencil.mask":return br(function(ar){return 0|ar},function(ar,mr,kr){return mr.def(kr,"|0")});case"stencil.func":return br(function(ar){return[Rt[ar.cmp||"keep"],ar.ref||0,"mask"in ar?ar.mask:-1]},function(ar,mr,kr){return[ar=mr.def('"cmp" in ',kr,"?",ar.constants.compareFuncs,"[",kr,".cmp]",":",7680),mr.def(kr,".ref|0"),mr=mr.def('"mask" in ',kr,"?",kr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return br(function(ar){return[hr==="stencil.opBack"?1029:1028,Et[ar.fail||"keep"],Et[ar.zfail||"keep"],Et[ar.zpass||"keep"]]},function(ar,mr,kr){function Rr(Ei){return mr.def('"',Ei,'" in ',kr,"?",Si,"[",kr,".",Ei,"]:",7680)}var Si=ar.constants.stencilOps;return[hr==="stencil.opBack"?1029:1028,Rr("fail"),Rr("zfail"),Rr("zpass")]});case"polygonOffset.offset":return br(function(ar){return[0|ar.factor,0|ar.units]},function(ar,mr,kr){return[mr.def(kr,".factor|0"),mr=mr.def(kr,".units|0")]});case"cull.face":return br(function(ar){var mr=0;return ar==="front"?mr=1028:ar==="back"&&(mr=1029),mr},function(ar,mr,kr){return mr.def(kr,'==="front"?',1028,":",1029)});case"frontFace":return br(function(ar){return Ye[ar]},function(ar,mr,kr){return mr.def(kr+'==="cw"?2304:2305')});case"colorMask":return br(function(ar){return ar.map(function(mr){return!!mr})},function(ar,mr,kr){return b(4,function(Rr){return"!!"+kr+"["+Rr+"]"})});case"sample.coverage":return br(function(ar){return["value"in ar?ar.value:1,!!ar.invert]},function(ar,mr,kr){return[mr.def('"value" in ',kr,"?+",kr,".value:1"),mr=mr.def("!!",kr,".invert")]})}}),Qn}(Dt),ln=Zt(Dt,0,sn);xn("viewport"),xn(Ot("scissor.box"));var An,In=0<Object.keys(tn).length;if((An={framebuffer:An,draw:Wt,shader:ln,state:tn,dirty:In,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(er){var Wn,Jn=er.static;if(er=er.dynamic,"profile"in Jn){var rr=!!Jn.profile;(Wn=re(function(hr,br){return rr})).enable=rr}else if("profile"in er){var Qn=er.profile;Wn=ne(Qn,function(hr,br){return hr.invoke(br,Qn)})}return Wn}(Dt),An.uniforms=function(er,Wn){var Jn=er.static,rr=er.dynamic,Qn={};return Object.keys(Jn).forEach(function(hr){var br,gr=Jn[hr];if(typeof gr=="number"||typeof gr=="boolean")br=re(function(){return gr});else if(typeof gr=="function"){var ar=gr._reglType;ar==="texture2d"||ar==="textureCube"?br=re(function(mr){return mr.link(gr)}):ar!=="framebuffer"&&ar!=="framebufferCube"||(br=re(function(mr){return mr.link(gr.color[0])}))}else w(gr)&&(br=re(function(mr){return mr.global.def("[",b(gr.length,function(kr){return gr[kr]}),"]")}));br.value=gr,Qn[hr]=br}),Object.keys(rr).forEach(function(hr){var br=rr[hr];Qn[hr]=ne(br,function(gr,ar){return gr.invoke(ar,br)})}),Qn}(Jt),An.drawVAO=An.scopeVAO=Wt.vao,!An.drawVAO&&ln.program&&!sn&&lt.angle_instanced_arrays&&Wt.static.elements){var Nn=!0;if(Dt=ln.program.attributes.map(function(er){return er=Bt.static[er],Nn=Nn&&!!er,er}),Nn&&0<Dt.length){var jn=mt.getVAO(mt.createVAO({attributes:Dt,elements:Wt.static.elements}));An.drawVAO=new Y(null,null,null,function(er,Wn){return er.link(jn)}),An.useVAO=!0}}return sn?An.useVAO=!0:An.attributes=Ln(Bt),An.context=function(er){var Wn=er.static,Jn=er.dynamic,rr={};return Object.keys(Wn).forEach(function(Qn){var hr=Wn[Qn];rr[Qn]=re(function(br,gr){return typeof hr=="number"||typeof hr=="boolean"?""+hr:br.link(hr)})}),Object.keys(Jn).forEach(function(Qn){var hr=Jn[Qn];rr[Qn]=ne(hr,function(br,gr){return br.invoke(gr,hr)})}),rr}(fn),An}function gn(Dt,Bt,Jt){var fn=Dt.shared.context,dn=Dt.scope();Object.keys(Jt).forEach(function(xn){Bt.save(fn,"."+xn);var sn=Jt[xn].append(Dt,Bt);Array.isArray(sn)?dn(fn,".",xn,"=[",sn.join(),"];"):dn(fn,".",xn,"=",sn,";")}),Bt(dn)}function Qt(Dt,Bt,Jt,fn){var dn,xn=(Yt=Dt.shared).gl,sn=Yt.framebuffer;rn&&(dn=Bt.def(Yt.extensions,".webgl_draw_buffers"));var Yt=(Wt=Dt.constants).drawBuffer,Wt=Wt.backBuffer;Dt=Jt?Jt.append(Dt,Bt):Bt.def(sn,".next"),fn||Bt("if(",Dt,"!==",sn,".cur){"),Bt("if(",Dt,"){",xn,".bindFramebuffer(",36160,",",Dt,".framebuffer);"),rn&&Bt(dn,".drawBuffersWEBGL(",Yt,"[",Dt,".colorAttachments.length]);"),Bt("}else{",xn,".bindFramebuffer(",36160,",null);"),rn&&Bt(dn,".drawBuffersWEBGL(",Wt,");"),Bt("}",sn,".cur=",Dt,";"),fn||Bt("}")}function cn(Dt,Bt,Jt){var fn=Dt.shared,dn=fn.gl,xn=Dt.current,sn=Dt.next,Yt=fn.current,Wt=fn.next,tn=Dt.cond(Yt,".dirty");Hn.forEach(function(ln){var An,In;if(!((ln=Ot(ln))in Jt.state))if(ln in sn){An=sn[ln],In=xn[ln];var Nn=b(mn[ln].length,function(jn){return tn.def(An,"[",jn,"]")});tn(Dt.cond(Nn.map(function(jn,er){return jn+"!=="+In+"["+er+"]"}).join("||")).then(dn,".",Zn[ln],"(",Nn,");",Nn.map(function(jn,er){return In+"["+er+"]="+jn}).join(";"),";"))}else An=tn.def(Wt,".",ln),Nn=Dt.cond(An,"!==",Yt,".",ln),tn(Nn),ln in Un?Nn(Dt.cond(An).then(dn,".enable(",Un[ln],");").else(dn,".disable(",Un[ln],");"),Yt,".",ln,"=",An,";"):Nn(dn,".",Zn[ln],"(",An,");",Yt,".",ln,"=",An,";")}),Object.keys(Jt.state).length===0&&tn(Yt,".dirty=false;"),Bt(tn)}function nn(Dt,Bt,Jt,fn){var dn,xn=Dt.shared,sn=Dt.current,Yt=xn.current,Wt=xn.gl;H(Object.keys(Jt)).forEach(function(tn){var ln=Jt[tn];if(!fn||fn(ln)){var An=ln.append(Dt,Bt);if(Un[tn]){var In=Un[tn];ie(ln)?(dn=Dt.link(An,{stable:!0}),Bt(Dt.cond(dn).then(Wt,".enable(",In,");").else(Wt,".disable(",In,");")),Bt(Yt,".",tn,"=",dn,";")):(Bt(Dt.cond(An).then(Wt,".enable(",In,");").else(Wt,".disable(",In,");")),Bt(Yt,".",tn,"=",An,";"))}else if(w(An)){var Nn=sn[tn];Bt(Wt,".",Zn[tn],"(",An,");",An.map(function(jn,er){return Nn+"["+er+"]="+jn}).join(";"),";")}else ie(ln)?(dn=Dt.link(An,{stable:!0}),Bt(Wt,".",Zn[tn],"(",dn,");",Yt,".",tn,"=",dn,";")):Bt(Wt,".",Zn[tn],"(",An,");",Yt,".",tn,"=",An,";")}})}function hn(Dt,Bt){en&&(Dt.instancing=Bt.def(Dt.shared.extensions,".angle_instanced_arrays"))}function bn(Dt,Bt,Jt,fn,dn){function xn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function sn(er){er(tn=Bt.def(),"=",xn(),";"),typeof dn=="string"?er(In,".count+=",dn,";"):er(In,".count++;"),bt&&(fn?er(ln=Bt.def(),"=",jn,".getNumPendingQueries();"):er(jn,".beginQuery(",In,");"))}function Yt(er){er(In,".cpuTime+=",xn(),"-",tn,";"),bt&&(fn?er(jn,".pushScopeStats(",ln,",",jn,".getNumPendingQueries(),",In,");"):er(jn,".endQuery();"))}function Wt(er){var Wn=Bt.def(Nn,".profile");Bt(Nn,".profile=",er,";"),Bt.exit(Nn,".profile=",Wn,";")}var tn,ln,An=Dt.shared,In=Dt.stats,Nn=An.current,jn=An.timer;if(Jt=Jt.profile){if(ie(Jt))return void(Jt.enable?(sn(Bt),Yt(Bt.exit),Wt("true")):Wt("false"));Wt(Jt=Jt.append(Dt,Bt))}else Jt=Bt.def(Nn,".profile");sn(An=Dt.block()),Bt("if(",Jt,"){",An,"}"),Yt(Dt=Dt.block()),Bt.exit("if(",Jt,"){",Dt,"}")}function wn(Dt,Bt,Jt,fn,dn){function xn(Yt,Wt,tn){function ln(){Bt("if(!",jn,".buffer){",In,".enableVertexAttribArray(",Nn,");}");var rr,Qn=tn.type;rr=tn.size?Bt.def(tn.size,"||",Wt):Wt,Bt("if(",jn,".type!==",Qn,"||",jn,".size!==",rr,"||",Jn.map(function(hr){return jn+"."+hr+"!=="+tn[hr]}).join("||"),"){",In,".bindBuffer(",34962,",",er,".buffer);",In,".vertexAttribPointer(",[Nn,rr,Qn,tn.normalized,tn.stride,tn.offset],");",jn,".type=",Qn,";",jn,".size=",rr,";",Jn.map(function(hr){return jn+"."+hr+"="+tn[hr]+";"}).join(""),"}"),en&&(Qn=tn.divisor,Bt("if(",jn,".divisor!==",Qn,"){",Dt.instancing,".vertexAttribDivisorANGLE(",[Nn,Qn],");",jn,".divisor=",Qn,";}"))}function An(){Bt("if(",jn,".buffer){",In,".disableVertexAttribArray(",Nn,");",jn,".buffer=null;","}if(",et.map(function(rr,Qn){return jn+"."+rr+"!=="+Wn[Qn]}).join("||"),"){",In,".vertexAttrib4f(",Nn,",",Wn,");",et.map(function(rr,Qn){return jn+"."+rr+"="+Wn[Qn]+";"}).join(""),"}")}var In=sn.gl,Nn=Bt.def(Yt,".location"),jn=Bt.def(sn.attributes,"[",Nn,"]");Yt=tn.state;var er=tn.buffer,Wn=[tn.x,tn.y,tn.z,tn.w],Jn=["buffer","normalized","offset","stride"];Yt===1?ln():Yt===2?An():(Bt("if(",Yt,"===",1,"){"),ln(),Bt("}else{"),An(),Bt("}"))}var sn=Dt.shared;fn.forEach(function(Yt){var Wt,tn=Yt.name,ln=Jt.attributes[tn];if(ln){if(!dn(ln))return;Wt=ln.append(Dt,Bt)}else{if(!dn(Xe))return;var An=Dt.scopeAttrib(tn);Wt={},Object.keys(new $n).forEach(function(In){Wt[In]=Bt.def(An,".",In)})}xn(Dt.link(Yt),function(In){switch(In){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Yt.info.type),Wt)})}function En(Dt,Bt,Jt,fn,dn,xn){for(var sn,Yt=Dt.shared,Wt=Yt.gl,tn=0;tn<fn.length;++tn){var ln,An=(jn=fn[tn]).name,In=jn.info.type,Nn=Jt.uniforms[An],jn=Dt.link(jn)+".location";if(Nn){if(!dn(Nn))continue;if(ie(Nn)){if(An=Nn.value,In===35678||In===35680)Bt(Wt,".uniform1i(",jn,",",(In=Dt.link(An._texture||An.color[0]._texture))+".bind());"),Bt.exit(In,".unbind();");else if(In===35674||In===35675||In===35676)Nn=2,In===35675?Nn=3:In===35676&&(Nn=4),Bt(Wt,".uniformMatrix",Nn,"fv(",jn,",false,",An=Dt.global.def("new Float32Array(["+Array.prototype.slice.call(An)+"])"),");");else{switch(In){case 5126:sn="1f";break;case 35664:sn="2f";break;case 35665:sn="3f";break;case 35666:sn="4f";break;case 35670:case 5124:sn="1i";break;case 35671:case 35667:sn="2i";break;case 35672:case 35668:sn="3i";break;case 35673:case 35669:sn="4i"}Bt(Wt,".uniform",sn,"(",jn,",",w(An)?Array.prototype.slice.call(An):An,");")}continue}ln=Nn.append(Dt,Bt)}else{if(!dn(Xe))continue;ln=Bt.def(Yt.uniforms,"[",Ze.id(An),"]")}switch(In===35678?Bt("if(",ln,"&&",ln,'._reglType==="framebuffer"){',ln,"=",ln,".color[0];","}"):In===35680&&Bt("if(",ln,"&&",ln,'._reglType==="framebufferCube"){',ln,"=",ln,".color[0];","}"),An=1,In){case 35678:case 35680:In=Bt.def(ln,"._texture"),Bt(Wt,".uniform1i(",jn,",",In,".bind());"),Bt.exit(In,".unbind();");continue;case 5124:case 35670:sn="1i";break;case 35667:case 35671:sn="2i",An=2;break;case 35668:case 35672:sn="3i",An=3;break;case 35669:case 35673:sn="4i",An=4;break;case 5126:sn="1f";break;case 35664:sn="2f",An=2;break;case 35665:sn="3f",An=3;break;case 35666:sn="4f",An=4;break;case 35674:sn="Matrix2fv";break;case 35675:sn="Matrix3fv";break;case 35676:sn="Matrix4fv"}if(sn.charAt(0)==="M"){Bt(Wt,".uniform",sn,"(",jn,","),jn=Math.pow(In-35674+2,2);var er=Dt.global.def("new Float32Array(",jn,")");Array.isArray(ln)?Bt("false,(",b(jn,function(Jn){return er+"["+Jn+"]="+ln[Jn]}),",",er,")"):Bt("false,(Array.isArray(",ln,")||",ln," instanceof Float32Array)?",ln,":(",b(jn,function(Jn){return er+"["+Jn+"]="+ln+"["+Jn+"]"}),",",er,")"),Bt(");")}else{if(1<An){In=[];var Wn=[];for(Nn=0;Nn<An;++Nn)Array.isArray(ln)?Wn.push(ln[Nn]):Wn.push(Bt.def(ln+"["+Nn+"]")),xn&&In.push(Bt.def());xn&&Bt("if(!",Dt.batchId,"||",In.map(function(Jn,rr){return Jn+"!=="+Wn[rr]}).join("||"),"){",In.map(function(Jn,rr){return Jn+"="+Wn[rr]+";"}).join("")),Bt(Wt,".uniform",sn,"(",jn,",",Wn.join(","),");")}else xn&&(In=Bt.def(),Bt("if(!",Dt.batchId,"||",In,"!==",ln,"){",In,"=",ln,";")),Bt(Wt,".uniform",sn,"(",jn,",",ln,");");xn&&Bt("}")}}}function Dn(Dt,Bt,Jt,fn){function dn(Qn){var hr=In[Qn];return hr?hr.contextDep&&fn.contextDynamic||hr.propDep?hr.append(Dt,Jt):hr.append(Dt,Bt):Bt.def(An,".",Qn)}function xn(){function Qn(){Jt(Wt,".drawElementsInstancedANGLE(",[jn,Wn,Jn,er+"<<(("+Jn+"-5121)>>1)",Yt],");")}function hr(){Jt(Wt,".drawArraysInstancedANGLE(",[jn,er,Wn,Yt],");")}Nn&&Nn!=="null"?rr?Qn():(Jt("if(",Nn,"){"),Qn(),Jt("}else{"),hr(),Jt("}")):hr()}function sn(){function Qn(){Jt(ln+".drawElements("+[jn,Wn,Jn,er+"<<(("+Jn+"-5121)>>1)"]+");")}function hr(){Jt(ln+".drawArrays("+[jn,er,Wn]+");")}Nn&&Nn!=="null"?rr?Qn():(Jt("if(",Nn,"){"),Qn(),Jt("}else{"),hr(),Jt("}")):hr()}var Yt,Wt,tn=Dt.shared,ln=tn.gl,An=tn.draw,In=fn.draw,Nn=function(){var Qn=In.elements,hr=Bt;return Qn?((Qn.contextDep&&fn.contextDynamic||Qn.propDep)&&(hr=Jt),Qn=Qn.append(Dt,hr),In.elementsActive&&hr("if("+Qn+")"+ln+".bindBuffer(34963,"+Qn+".buffer.buffer);")):(Qn=hr.def(),hr(Qn,"=",An,".","elements",";","if(",Qn,"){",ln,".bindBuffer(",34963,",",Qn,".buffer.buffer);}","else if(",tn.vao,".currentVAO){",Qn,"=",Dt.shared.elements+".getElements("+tn.vao,".currentVAO.elements);",Cn?"":"if("+Qn+")"+ln+".bindBuffer(34963,"+Qn+".buffer.buffer);","}")),Qn}(),jn=dn("primitive"),er=dn("offset"),Wn=function(){var Qn=In.count,hr=Bt;return Qn?((Qn.contextDep&&fn.contextDynamic||Qn.propDep)&&(hr=Jt),Qn=Qn.append(Dt,hr)):Qn=hr.def(An,".","count"),Qn}();if(typeof Wn=="number"){if(Wn===0)return}else Jt("if(",Wn,"){"),Jt.exit("}");en&&(Yt=dn("instances"),Wt=Dt.instancing);var Jn=Nn+".type",rr=In.elements&&ie(In.elements)&&!In.vaoActive;en&&(typeof Yt!="number"||0<=Yt)?typeof Yt=="string"?(Jt("if(",Yt,">0){"),xn(),Jt("}else if(",Yt,"<0){"),sn(),Jt("}")):xn():sn()}function kn(Dt,Bt,Jt,fn,dn){return dn=(Bt=on()).proc("body",dn),en&&(Bt.instancing=dn.def(Bt.shared.extensions,".angle_instanced_arrays")),Dt(Bt,dn,Jt,fn),Bt.compile().body}function Bn(Dt,Bt,Jt,fn){hn(Dt,Bt),Jt.useVAO?Jt.drawVAO?Bt(Dt.shared.vao,".setVAO(",Jt.drawVAO.append(Dt,Bt),");"):Bt(Dt.shared.vao,".setVAO(",Dt.shared.vao,".targetVAO);"):(Bt(Dt.shared.vao,".setVAO(null);"),wn(Dt,Bt,Jt,fn.attributes,function(){return!0})),En(Dt,Bt,Jt,fn.uniforms,function(){return!0},!1),Dn(Dt,Bt,Bt,Jt)}function Rn(Dt,Bt,Jt,fn){function dn(){return!0}Dt.batchId="a1",hn(Dt,Bt),wn(Dt,Bt,Jt,fn.attributes,dn),En(Dt,Bt,Jt,fn.uniforms,dn,!1),Dn(Dt,Bt,Bt,Jt)}function Kn(Dt,Bt,Jt,fn){function dn(An){return An.contextDep&&sn||An.propDep}function xn(An){return!dn(An)}hn(Dt,Bt);var sn=Jt.contextDep,Yt=Bt.def(),Wt=Bt.def();Dt.shared.props=Wt,Dt.batchId=Yt;var tn=Dt.scope(),ln=Dt.scope();Bt(tn.entry,"for(",Yt,"=0;",Yt,"<","a1",";++",Yt,"){",Wt,"=","a0","[",Yt,"];",ln,"}",tn.exit),Jt.needsContext&&gn(Dt,ln,Jt.context),Jt.needsFramebuffer&&Qt(Dt,ln,Jt.framebuffer),nn(Dt,ln,Jt.state,dn),Jt.profile&&dn(Jt.profile)&&bn(Dt,ln,Jt,!1,!0),fn?(Jt.useVAO?Jt.drawVAO?dn(Jt.drawVAO)?ln(Dt.shared.vao,".setVAO(",Jt.drawVAO.append(Dt,ln),");"):tn(Dt.shared.vao,".setVAO(",Jt.drawVAO.append(Dt,tn),");"):tn(Dt.shared.vao,".setVAO(",Dt.shared.vao,".targetVAO);"):(tn(Dt.shared.vao,".setVAO(null);"),wn(Dt,tn,Jt,fn.attributes,xn),wn(Dt,ln,Jt,fn.attributes,dn)),En(Dt,tn,Jt,fn.uniforms,xn,!1),En(Dt,ln,Jt,fn.uniforms,dn,!0),Dn(Dt,tn,ln,Jt)):(Bt=Dt.global.def("{}"),fn=Jt.shader.progVar.append(Dt,ln),Wt=ln.def(fn,".id"),tn=ln.def(Bt,"[",Wt,"]"),ln(Dt.shared.gl,".useProgram(",fn,".program);","if(!",tn,"){",tn,"=",Bt,"[",Wt,"]=",Dt.link(function(An){return kn(Rn,Dt,Jt,An,2)}),"(",fn,");}",tn,".call(this,a0[",Yt,"],",Yt,");"))}function Gn(Dt,Bt){function Jt(Yt){var Wt=Bt.shader[Yt];Wt&&(Wt=Wt.append(Dt,fn),isNaN(Wt)?fn.set(dn.shader,"."+Yt,Wt):fn.set(dn.shader,"."+Yt,Dt.link(Wt,{stable:!0})))}var fn=Dt.proc("scope",3);Dt.batchId="a2";var dn=Dt.shared,xn=dn.current;if(gn(Dt,fn,Bt.context),Bt.framebuffer&&Bt.framebuffer.append(Dt,fn),H(Object.keys(Bt.state)).forEach(function(Yt){var Wt=Bt.state[Yt],tn=Wt.append(Dt,fn);w(tn)?tn.forEach(function(ln,An){isNaN(ln)?fn.set(Dt.next[Yt],"["+An+"]",ln):fn.set(Dt.next[Yt],"["+An+"]",Dt.link(ln,{stable:!0}))}):ie(Wt)?fn.set(dn.next,"."+Yt,Dt.link(tn,{stable:!0})):fn.set(dn.next,"."+Yt,tn)}),bn(Dt,fn,Bt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Yt){var Wt=Bt.draw[Yt];Wt&&(Wt=Wt.append(Dt,fn),isNaN(Wt)?fn.set(dn.draw,"."+Yt,Wt):fn.set(dn.draw,"."+Yt,Dt.link(Wt),{stable:!0}))}),Object.keys(Bt.uniforms).forEach(function(Yt){var Wt=Bt.uniforms[Yt].append(Dt,fn);Array.isArray(Wt)&&(Wt="["+Wt.map(function(tn){return isNaN(tn)?tn:Dt.link(tn,{stable:!0})})+"]"),fn.set(dn.uniforms,"["+Dt.link(Ze.id(Yt),{stable:!0})+"]",Wt)}),Object.keys(Bt.attributes).forEach(function(Yt){var Wt=Bt.attributes[Yt].append(Dt,fn),tn=Dt.scopeAttrib(Yt);Object.keys(new $n).forEach(function(ln){fn.set(tn,"."+ln,Wt[ln])})}),Bt.scopeVAO){var sn=Bt.scopeVAO.append(Dt,fn);isNaN(sn)?fn.set(dn.vao,".targetVAO",sn):fn.set(dn.vao,".targetVAO",Dt.link(sn,{stable:!0}))}Jt("vert"),Jt("frag"),0<Object.keys(Bt.state).length&&(fn(xn,".dirty=true;"),fn.exit(xn,".dirty=true;")),fn("a1(",Dt.shared.context,",a0,",Dt.batchId,");")}function nr(Dt,Bt,Jt){var fn=Bt.static[Jt];if(fn&&function(ln){if(typeof ln=="object"&&!w(ln)){for(var An=Object.keys(ln),In=0;In<An.length;++In)if(ce.isDynamic(ln[An[In]]))return!0;return!1}}(fn)){var dn=Dt.global,xn=Object.keys(fn),sn=!1,Yt=!1,Wt=!1,tn=Dt.global.def("{}");xn.forEach(function(ln){var An=fn[ln];if(ce.isDynamic(An))typeof An=="function"&&(An=fn[ln]=ce.unbox(An)),ln=ne(An,null),sn=sn||ln.thisDep,Wt=Wt||ln.propDep,Yt=Yt||ln.contextDep;else{switch(dn(tn,".",ln,"="),typeof An){case"number":dn(An);break;case"string":dn('"',An,'"');break;case"object":Array.isArray(An)&&dn("[",An.join(),"]");break;default:dn(Dt.link(An))}dn(";")}}),Bt.dynamic[Jt]=new ce.DynamicVariable(4,{thisDep:sn,contextDep:Yt,propDep:Wt,ref:tn,append:function(ln,An){xn.forEach(function(In){var Nn=fn[In];ce.isDynamic(Nn)&&(Nn=ln.invoke(An,Nn),An(tn,".",In,"=",Nn,";"))})}}),delete Bt.static[Jt]}}var $n=mt.Record,fr={add:32774,subtract:32778,"reverse subtract":32779};lt.ext_blend_minmax&&(fr.min=32775,fr.max=32776);var en=lt.angle_instanced_arrays,rn=lt.webgl_draw_buffers,Cn=lt.oes_vertex_array_object,mn={dirty:!0,profile:Lt.profile},On={},Hn=[],Un={},Zn={};Ft("dither",3024),Ft("blend.enable",3042),$t("blend.color","blendColor",[0,0,0,0]),$t("blend.equation","blendEquationSeparate",[32774,32774]),$t("blend.func","blendFuncSeparate",[1,0,1,0]),Ft("depth.enable",2929,!0),$t("depth.func","depthFunc",513),$t("depth.range","depthRange",[0,1]),$t("depth.mask","depthMask",!0),$t("colorMask","colorMask",[!0,!0,!0,!0]),Ft("cull.enable",2884),$t("cull.face","cullFace",1029),$t("frontFace","frontFace",2305),$t("lineWidth","lineWidth",1),Ft("polygonOffset.enable",32823),$t("polygonOffset.offset","polygonOffset",[0,0]),Ft("sample.alpha",32926),Ft("sample.enable",32928),$t("sample.coverage","sampleCoverage",[1,!1]),Ft("stencil.enable",2960),$t("stencil.mask","stencilMask",-1),$t("stencil.func","stencilFunc",[519,0,-1]),$t("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),$t("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ft("scissor.enable",3089),$t("scissor.box","scissor",[0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight]),$t("viewport","viewport",[0,0,Ve.drawingBufferWidth,Ve.drawingBufferHeight]);var pr={gl:Ve,context:kt,strings:Ze,next:On,current:mn,draw:ht,elements:je,buffer:Be,shader:yt,attributes:mt.state,vao:mt,uniforms:dt,framebuffer:$e,extensions:lt,timer:bt,isBufferArgs:j},Kt={primTypes:De,compareFuncs:Rt,blendFuncs:Pt,blendEquations:fr,stencilOps:Et,glTypes:Ie,orientationType:Ye};rn&&(Kt.backBuffer=[1029],Kt.drawBuffer=b(it.maxDrawbuffers,function(Dt){return Dt===0?[0]:b(Dt,function(Bt){return 36064+Bt})}));var vn=0;return{next:On,current:mn,procs:function(){var Dt=on(),Bt=Dt.proc("poll"),Jt=Dt.proc("refresh"),fn=Dt.block();Bt(fn),Jt(fn);var dn,xn=(Wt=Dt.shared).gl,sn=Wt.next,Yt=Wt.current;fn(Yt,".dirty=false;"),Qt(Dt,Bt),Qt(Dt,Jt,null,!0),en&&(dn=Dt.link(en)),lt.oes_vertex_array_object&&Jt(Dt.link(lt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Wt=Jt.def(Wt.attributes),tn=Jt.def(0),ln=Dt.cond(tn,".buffer");ln.then(xn,".enableVertexAttribArray(i);",xn,".bindBuffer(",34962,",",tn,".buffer.buffer);",xn,".vertexAttribPointer(i,",tn,".size,",tn,".type,",tn,".normalized,",tn,".stride,",tn,".offset);").else(xn,".disableVertexAttribArray(i);",xn,".vertexAttrib4f(i,",tn,".x,",tn,".y,",tn,".z,",tn,".w);",tn,".buffer=null;");var An=Dt.link(it.maxAttributes,{stable:!0});return Jt("for(var i=0;i<",An,";++i){",tn,"=",Wt,"[i];",ln,"}"),en&&Jt("for(var i=0;i<",An,";++i){",dn,".vertexAttribDivisorANGLE(i,",Wt,"[i].divisor);","}"),Jt(Dt.shared.vao,".currentVAO=null;",Dt.shared.vao,".setVAO(",Dt.shared.vao,".targetVAO);"),Object.keys(Un).forEach(function(In){var Nn=Un[In],jn=fn.def(sn,".",In),er=Dt.block();er("if(",jn,"){",xn,".enable(",Nn,")}else{",xn,".disable(",Nn,")}",Yt,".",In,"=",jn,";"),Jt(er),Bt("if(",jn,"!==",Yt,".",In,"){",er,"}")}),Object.keys(Zn).forEach(function(In){var Nn,jn,er=Zn[In],Wn=mn[In],Jn=Dt.block();Jn(xn,".",er,"("),w(Wn)?(er=Wn.length,Nn=Dt.global.def(sn,".",In),jn=Dt.global.def(Yt,".",In),Jn(b(er,function(rr){return Nn+"["+rr+"]"}),");",b(er,function(rr){return jn+"["+rr+"]="+Nn+"["+rr+"];"}).join("")),Bt("if(",b(er,function(rr){return Nn+"["+rr+"]!=="+jn+"["+rr+"]"}).join("||"),"){",Jn,"}")):(Nn=fn.def(sn,".",In),jn=fn.def(Yt,".",In),Jn(Nn,");",Yt,".",In,"=",Nn,";"),Bt("if(",Nn,"!==",jn,"){",Jn,"}")),Jt(Jn)}),Dt.compile()}(),compile:function(Dt,Bt,Jt,fn,dn){var xn=on();xn.stats=xn.link(dn),Object.keys(Bt.static).forEach(function(Yt){nr(xn,Bt,Yt)}),At.forEach(function(Yt){nr(xn,Dt,Yt)});var sn=Tn(Dt,Bt,Jt,fn);return sn.shader.program&&(sn.shader.program.attributes.sort(function(Yt,Wt){return Yt.name<Wt.name?-1:1}),sn.shader.program.uniforms.sort(function(Yt,Wt){return Yt.name<Wt.name?-1:1})),function(Yt,Wt){var tn=Yt.proc("draw",1);hn(Yt,tn),gn(Yt,tn,Wt.context),Qt(Yt,tn,Wt.framebuffer),cn(Yt,tn,Wt),nn(Yt,tn,Wt.state),bn(Yt,tn,Wt,!1,!0);var ln=Wt.shader.progVar.append(Yt,tn);if(tn(Yt.shared.gl,".useProgram(",ln,".program);"),Wt.shader.program)Bn(Yt,tn,Wt,Wt.shader.program);else{tn(Yt.shared.vao,".setVAO(null);");var An=Yt.global.def("{}"),In=tn.def(ln,".id"),Nn=tn.def(An,"[",In,"]");tn(Yt.cond(Nn).then(Nn,".call(this,a0);").else(Nn,"=",An,"[",In,"]=",Yt.link(function(jn){return kn(Bn,Yt,Wt,jn,1)}),"(",ln,");",Nn,".call(this,a0);"))}0<Object.keys(Wt.state).length&&tn(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&tn(Yt.shared.vao,".setVAO(null);")}(xn,sn),Gn(xn,sn),function(Yt,Wt){function tn(Wn){return Wn.contextDep&&An||Wn.propDep}var ln=Yt.proc("batch",2);Yt.batchId="0",hn(Yt,ln);var An=!1,In=!0;Object.keys(Wt.context).forEach(function(Wn){An=An||Wt.context[Wn].propDep}),An||(gn(Yt,ln,Wt.context),In=!1);var Nn=!1;if((jn=Wt.framebuffer)?(jn.propDep?An=Nn=!0:jn.contextDep&&An&&(Nn=!0),Nn||Qt(Yt,ln,jn)):Qt(Yt,ln,null),Wt.state.viewport&&Wt.state.viewport.propDep&&(An=!0),cn(Yt,ln,Wt),nn(Yt,ln,Wt.state,function(Wn){return!tn(Wn)}),Wt.profile&&tn(Wt.profile)||bn(Yt,ln,Wt,!1,"a1"),Wt.contextDep=An,Wt.needsContext=In,Wt.needsFramebuffer=Nn,(In=Wt.shader.progVar).contextDep&&An||In.propDep)Kn(Yt,ln,Wt,null);else if(In=In.append(Yt,ln),ln(Yt.shared.gl,".useProgram(",In,".program);"),Wt.shader.program)Kn(Yt,ln,Wt,Wt.shader.program);else{ln(Yt.shared.vao,".setVAO(null);");var jn=Yt.global.def("{}"),er=(Nn=ln.def(In,".id"),ln.def(jn,"[",Nn,"]"));ln(Yt.cond(er).then(er,".call(this,a0,a1);").else(er,"=",jn,"[",Nn,"]=",Yt.link(function(Wn){return kn(Kn,Yt,Wt,Wn,2)}),"(",In,");",er,".call(this,a0,a1);"))}0<Object.keys(Wt.state).length&&ln(Yt.shared.current,".dirty=true;"),Yt.shared.vao&&ln(Yt.shared.vao,".setVAO(null);")}(xn,sn),X(xn.compile(),{destroy:function(){sn.shader.program.destroy()}})}}}function Q(Ve,Ze){for(var lt=0;lt<Ve.length;++lt)if(Ve[lt]===Ze)return lt;return-1}var X=function(Ve,Ze){for(var lt=Object.keys(Ze),it=0;it<lt.length;++it)Ve[lt[it]]=Ze[lt[it]];return Ve},se=0,ce={DynamicVariable:x,define:function(Ve,Ze){return new x(Ve,p(Ze+""))},isDynamic:function(Ve){return typeof Ve=="function"&&!Ve._reglType||Ve instanceof x},unbox:function Ve(Ze,lt){return typeof Ze=="function"?new x(0,Ze):typeof Ze=="number"||typeof Ze=="boolean"?new x(5,Ze):Array.isArray(Ze)?new x(6,Ze.map(function(it,Be){return Ve(it,lt+"["+Be+"]")})):Ze instanceof x?Ze:void 0},accessor:p},le={next:typeof requestAnimationFrame=="function"?function(Ve){return requestAnimationFrame(Ve)}:function(Ve){return setTimeout(Ve,16)},cancel:typeof cancelAnimationFrame=="function"?function(Ve){return cancelAnimationFrame(Ve)}:clearTimeout},de=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},be=s();be.zero=s();var _e=function(Ve,Ze){var lt=1;Ze.ext_texture_filter_anisotropic&&(lt=Ve.getParameter(34047));var it=1,Be=1;Ze.webgl_draw_buffers&&(it=Ve.getParameter(34852),Be=Ve.getParameter(36063));var je=!!Ze.oes_texture_float;if(je){je=Ve.createTexture(),Ve.bindTexture(3553,je),Ve.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ot=Ve.createFramebuffer();if(Ve.bindFramebuffer(36160,ot),Ve.framebufferTexture2D(36160,36064,3553,je,0),Ve.bindTexture(3553,null),Ve.checkFramebufferStatus(36160)!==36053)je=!1;else{Ve.viewport(0,0,1,1),Ve.clearColor(1,0,0,1),Ve.clear(16384);var $e=be.allocType(5126,4);Ve.readPixels(0,0,1,1,6408,5126,$e),Ve.getError()?je=!1:(Ve.deleteFramebuffer(ot),Ve.deleteTexture(je),je=$e[0]===1),be.freeType($e)}}return $e=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||($e=Ve.createTexture(),ot=be.allocType(5121,36),Ve.activeTexture(33984),Ve.bindTexture(34067,$e),Ve.texImage2D(34069,0,6408,3,3,0,6408,5121,ot),be.freeType(ot),Ve.bindTexture(34067,null),Ve.deleteTexture($e),$e=!Ve.getError()),{colorBits:[Ve.getParameter(3410),Ve.getParameter(3411),Ve.getParameter(3412),Ve.getParameter(3413)],depthBits:Ve.getParameter(3414),stencilBits:Ve.getParameter(3415),subpixelBits:Ve.getParameter(3408),extensions:Object.keys(Ze).filter(function(dt){return!!Ze[dt]}),maxAnisotropic:lt,maxDrawbuffers:it,maxColorAttachments:Be,pointSizeDims:Ve.getParameter(33901),lineWidthDims:Ve.getParameter(33902),maxViewportDims:Ve.getParameter(3386),maxCombinedTextureUnits:Ve.getParameter(35661),maxCubeMapSize:Ve.getParameter(34076),maxRenderbufferSize:Ve.getParameter(34024),maxTextureUnits:Ve.getParameter(34930),maxTextureSize:Ve.getParameter(3379),maxAttributes:Ve.getParameter(34921),maxVertexUniforms:Ve.getParameter(36347),maxVertexTextureUnits:Ve.getParameter(35660),maxVaryingVectors:Ve.getParameter(36348),maxFragmentUniforms:Ve.getParameter(36349),glsl:Ve.getParameter(35724),renderer:Ve.getParameter(7937),vendor:Ve.getParameter(7936),version:Ve.getParameter(7938),readFloat:je,npotTextureCube:$e}},ve=function(Ve){return Ve instanceof Uint8Array||Ve instanceof Uint16Array||Ve instanceof Uint32Array||Ve instanceof Int8Array||Ve instanceof Int16Array||Ve instanceof Int32Array||Ve instanceof Float32Array||Ve instanceof Float64Array||Ve instanceof Uint8ClampedArray},me=function(Ve){return Object.keys(Ve).map(function(Ze){return Ve[Ze]})},ye={shape:function(Ve){for(var Ze=[];Ve.length;Ve=Ve[0])Ze.push(Ve.length);return Ze},flatten:function(Ve,Ze,lt,it){var Be=1;if(Ze.length)for(var je=0;je<Ze.length;++je)Be*=Ze[je];else Be=0;switch(lt=it||be.allocType(lt,Be),Ze.length){case 0:break;case 1:for(it=Ze[0],Ze=0;Ze<it;++Ze)lt[Ze]=Ve[Ze];break;case 2:for(it=Ze[0],Ze=Ze[1],je=Be=0;je<it;++je)for(var ot=Ve[je],$e=0;$e<Ze;++$e)lt[Be++]=ot[$e];break;case 3:o(Ve,Ze[0],Ze[1],Ze[2],lt,0);break;default:r(Ve,Ze,0,lt,0)}return lt}},Se={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ie={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},xe={dynamic:35048,stream:35040,static:35044},ue=ye.flatten,ae=ye.shape,pe=[];pe[5120]=1,pe[5122]=2,pe[5124]=4,pe[5121]=1,pe[5123]=2,pe[5125]=4,pe[5126]=4;var De={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Te=new Float32Array(1),Ae=new Uint32Array(Te.buffer),Ce=[9984,9986,9985,9987],Re=[0,6409,6410,6407,6408],Ne={};Ne[6409]=Ne[6406]=Ne[6402]=1,Ne[34041]=Ne[6410]=2,Ne[6407]=Ne[35904]=3,Ne[6408]=Ne[35906]=4;var ge=g("HTMLCanvasElement"),Me=g("OffscreenCanvas"),Ee=g("CanvasRenderingContext2D"),Fe=g("ImageBitmap"),Le=g("HTMLImageElement"),Ue=g("HTMLVideoElement"),Ge=Object.keys(Se).concat([ge,Me,Ee,Fe,Le,Ue]),Ke=[];Ke[5121]=1,Ke[5126]=4,Ke[36193]=2,Ke[5123]=2,Ke[5125]=4;var at=[];at[32854]=2,at[32855]=2,at[36194]=2,at[34041]=4,at[33776]=.5,at[33777]=.5,at[33778]=1,at[33779]=1,at[35986]=.5,at[35987]=1,at[34798]=1,at[35840]=.5,at[35841]=.25,at[35842]=.5,at[35843]=.25,at[36196]=.5;var st=[];st[32854]=2,st[32855]=2,st[36194]=2,st[33189]=2,st[36168]=1,st[34041]=4,st[35907]=4,st[34836]=16,st[34842]=8,st[34843]=6;var vt=function(Ve,Ze,lt,it,Be){function je(ht){this.id=mt++,this.refCount=1,this.renderbuffer=ht,this.format=32854,this.height=this.width=0,Be.profile&&(this.stats={size:0})}function ot(ht){var kt=ht.renderbuffer;Ve.bindRenderbuffer(36161,null),Ve.deleteRenderbuffer(kt),ht.renderbuffer=null,ht.refCount=0,delete yt[ht.id],it.renderbufferCount--}var $e={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ze.ext_srgb&&($e.srgba=35907),Ze.ext_color_buffer_half_float&&($e.rgba16f=34842,$e.rgb16f=34843),Ze.webgl_color_buffer_float&&($e.rgba32f=34836);var dt=[];Object.keys($e).forEach(function(ht){dt[$e[ht]]=ht});var mt=0,yt={};return je.prototype.decRef=function(){0>=--this.refCount&&ot(this)},Be.profile&&(it.getTotalRenderbufferSize=function(){var ht=0;return Object.keys(yt).forEach(function(kt){ht+=yt[kt].stats.size}),ht}),{create:function(ht,kt){function bt(Lt,Ot){var Ft=0,$t=0,on=32854;if(typeof Lt=="object"&&Lt?("shape"in Lt?(Ft=0|($t=Lt.shape)[0],$t=0|$t[1]):("radius"in Lt&&(Ft=$t=0|Lt.radius),"width"in Lt&&(Ft=0|Lt.width),"height"in Lt&&($t=0|Lt.height)),"format"in Lt&&(on=$e[Lt.format])):typeof Lt=="number"?(Ft=0|Lt,$t=typeof Ot=="number"?0|Ot:Ft):Lt||(Ft=$t=1),Ft!==St.width||$t!==St.height||on!==St.format)return bt.width=St.width=Ft,bt.height=St.height=$t,St.format=on,Ve.bindRenderbuffer(36161,St.renderbuffer),Ve.renderbufferStorage(36161,on,Ft,$t),Be.profile&&(St.stats.size=st[St.format]*St.width*St.height),bt.format=dt[St.format],bt}var St=new je(Ve.createRenderbuffer());return yt[St.id]=St,it.renderbufferCount++,bt(ht,kt),bt.resize=function(Lt,Ot){var Ft=0|Lt,$t=0|Ot||Ft;return Ft===St.width&&$t===St.height||(bt.width=St.width=Ft,bt.height=St.height=$t,Ve.bindRenderbuffer(36161,St.renderbuffer),Ve.renderbufferStorage(36161,St.format,Ft,$t),Be.profile&&(St.stats.size=st[St.format]*St.width*St.height)),bt},bt._reglType="renderbuffer",bt._renderbuffer=St,Be.profile&&(bt.stats=St.stats),bt.destroy=function(){St.decRef()},bt},clear:function(){me(yt).forEach(ot)},restore:function(){me(yt).forEach(function(ht){ht.renderbuffer=Ve.createRenderbuffer(),Ve.bindRenderbuffer(36161,ht.renderbuffer),Ve.renderbufferStorage(36161,ht.format,ht.width,ht.height)}),Ve.bindRenderbuffer(36161,null)}}},xt=[];xt[6408]=4,xt[6407]=3;var gt=[];gt[5121]=1,gt[5126]=4,gt[36193]=2;var nt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],et=["x","y","z","w"],At="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Pt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Rt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Et={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ye={cw:2304,ccw:2305},Xe=new Y(!1,!1,!1,function(){});return function(Ve){function Ze(){if(Rn.length===0)Ht&&Ht.update(),$n=null;else{$n=le.next(Ze),yt();for(var en=Rn.length-1;0<=en;--en){var rn=Rn[en];rn&&rn(Tn,null,0)}bt.flush(),Ht&&Ht.update()}}function lt(){!$n&&0<Rn.length&&($n=le.next(Ze))}function it(){$n&&(le.cancel(Ze),$n=null)}function Be(en){en.preventDefault(),it(),Kn.forEach(function(rn){rn()})}function je(en){bt.getError(),Lt.restore(),hn.restore(),Qt.restore(),bn.restore(),wn.restore(),En.restore(),nn.restore(),Ht&&Ht.restore(),Dn.procs.refresh(),lt(),Gn.forEach(function(rn){rn()})}function ot(en){function rn(Dt,Bt){var Jt={},fn={};return Object.keys(Dt).forEach(function(dn){var xn=Dt[dn];if(ce.isDynamic(xn))fn[dn]=ce.unbox(xn,dn);else{if(Bt&&Array.isArray(xn)){for(var sn=0;sn<xn.length;++sn)if(ce.isDynamic(xn[sn]))return void(fn[dn]=ce.unbox(xn,dn))}Jt[dn]=xn}}),{dynamic:fn,static:Jt}}var Cn=rn(en.context||{},!0),mn=rn(en.uniforms||{},!0),On=rn(en.attributes||{},!1);en=rn(function(Dt){function Bt(fn){if(fn in Jt){var dn=Jt[fn];delete Jt[fn],Object.keys(dn).forEach(function(xn){Jt[fn+"."+xn]=dn[xn]})}}var Jt=X({},Dt);return delete Jt.uniforms,delete Jt.attributes,delete Jt.context,delete Jt.vao,"stencil"in Jt&&Jt.stencil.op&&(Jt.stencil.opBack=Jt.stencil.opFront=Jt.stencil.op,delete Jt.stencil.op),Bt("blend"),Bt("depth"),Bt("cull"),Bt("stencil"),Bt("polygonOffset"),Bt("scissor"),Bt("sample"),"vao"in Dt&&(Jt.vao=Dt.vao),Jt}(en),!1);var Hn={gpuTime:0,cpuTime:0,count:0},Un=Dn.compile(en,On,mn,Cn,Hn),Zn=Un.draw,pr=Un.batch,Kt=Un.scope,vn=[];return X(function(Dt,Bt){var Jt;if(typeof Dt=="function")return Kt.call(this,null,Dt,0);if(typeof Bt=="function")if(typeof Dt=="number")for(Jt=0;Jt<Dt;++Jt)Kt.call(this,null,Bt,Jt);else{if(!Array.isArray(Dt))return Kt.call(this,Dt,Bt,0);for(Jt=0;Jt<Dt.length;++Jt)Kt.call(this,Dt[Jt],Bt,Jt)}else if(typeof Dt=="number"){if(0<Dt)return pr.call(this,function(fn){for(;vn.length<fn;)vn.push(null);return vn}(0|Dt),0|Dt)}else{if(!Array.isArray(Dt))return Zn.call(this,Dt);if(Dt.length)return pr.call(this,Dt,Dt.length)}},{stats:Hn,destroy:function(){Un.destroy()}})}function $e(en,rn){var Cn=0;Dn.procs.poll();var mn=rn.color;mn&&(bt.clearColor(+mn[0]||0,+mn[1]||0,+mn[2]||0,+mn[3]||0),Cn|=16384),"depth"in rn&&(bt.clearDepth(+rn.depth),Cn|=256),"stencil"in rn&&(bt.clearStencil(0|rn.stencil),Cn|=1024),bt.clear(Cn)}function dt(en){return Rn.push(en),lt(),{cancel:function(){var rn=Q(Rn,en);Rn[rn]=function Cn(){var mn=Q(Rn,Cn);Rn[mn]=Rn[Rn.length-1],--Rn.length,0>=Rn.length&&it()}}}}function mt(){var en=kn.viewport,rn=kn.scissor_box;en[0]=en[1]=rn[0]=rn[1]=0,Tn.viewportWidth=Tn.framebufferWidth=Tn.drawingBufferWidth=en[2]=rn[2]=bt.drawingBufferWidth,Tn.viewportHeight=Tn.framebufferHeight=Tn.drawingBufferHeight=en[3]=rn[3]=bt.drawingBufferHeight}function yt(){Tn.tick+=1,Tn.time=kt(),mt(),Dn.procs.poll()}function ht(){bn.refresh(),mt(),Dn.procs.refresh(),Ht&&Ht.update()}function kt(){return(de()-Zt)/1e3}if(!(Ve=M(Ve)))return null;var bt=Ve.gl,St=bt.getContextAttributes();bt.isContextLost();var Lt=function(en,rn){function Cn(Un){var Zn;Un=Un.toLowerCase();try{Zn=mn[Un]=en.getExtension(Un)}catch{}return!!Zn}for(var mn={},On=0;On<rn.extensions.length;++On){var Hn=rn.extensions[On];if(!Cn(Hn))return rn.onDestroy(),rn.onDone('"'+Hn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return rn.optionalExtensions.forEach(Cn),{extensions:mn,restore:function(){Object.keys(mn).forEach(function(Un){if(mn[Un]&&!Cn(Un))throw Error("(regl): error restoring extension "+Un)})}}}(bt,Ve);if(!Lt)return null;var Ot=function(){var en={"":0},rn=[""];return{id:function(Cn){var mn=en[Cn];return mn||(mn=en[Cn]=rn.length,rn.push(Cn),mn)},str:function(Cn){return rn[Cn]}}}(),Ft={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},$t=Ve.cachedCode||{},on=Lt.extensions,Ht=function(en,rn){function Cn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mn(vn,Dt,Bt){var Jt=Un.pop()||new Cn;Jt.startQueryIndex=vn,Jt.endQueryIndex=Dt,Jt.sum=0,Jt.stats=Bt,Zn.push(Jt)}if(!rn.ext_disjoint_timer_query)return null;var On=[],Hn=[],Un=[],Zn=[],pr=[],Kt=[];return{beginQuery:function(vn){var Dt=On.pop()||rn.ext_disjoint_timer_query.createQueryEXT();rn.ext_disjoint_timer_query.beginQueryEXT(35007,Dt),Hn.push(Dt),mn(Hn.length-1,Hn.length,vn)},endQuery:function(){rn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mn,update:function(){var vn,Dt;if((vn=Hn.length)!==0){Kt.length=Math.max(Kt.length,vn+1),pr.length=Math.max(pr.length,vn+1),pr[0]=0;var Bt=Kt[0]=0;for(Dt=vn=0;Dt<Hn.length;++Dt){var Jt=Hn[Dt];rn.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Bt+=rn.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),On.push(Jt)):Hn[vn++]=Jt,pr[Dt+1]=Bt,Kt[Dt+1]=vn}for(Hn.length=vn,Dt=vn=0;Dt<Zn.length;++Dt){var fn=(Bt=Zn[Dt]).startQueryIndex;Jt=Bt.endQueryIndex,Bt.sum+=pr[Jt]-pr[fn],fn=Kt[fn],(Jt=Kt[Jt])===fn?(Bt.stats.gpuTime+=Bt.sum/1e6,Un.push(Bt)):(Bt.startQueryIndex=fn,Bt.endQueryIndex=Jt,Zn[vn++]=Bt)}Zn.length=vn}},getNumPendingQueries:function(){return Hn.length},clear:function(){On.push.apply(On,Hn);for(var vn=0;vn<On.length;vn++)rn.ext_disjoint_timer_query.deleteQueryEXT(On[vn]);Hn.length=0,On.length=0},restore:function(){Hn.length=0,On.length=0}}}(0,on),Zt=de(),jt=bt.drawingBufferWidth,Ln=bt.drawingBufferHeight,Tn={tick:0,time:0,viewportWidth:jt,viewportHeight:Ln,framebufferWidth:jt,framebufferHeight:Ln,drawingBufferWidth:jt,drawingBufferHeight:Ln,pixelRatio:Ve.pixelRatio},gn=(jt={elements:null,primitive:4,count:-1,offset:0,instances:-1},_e(bt,on)),Qt=u(bt,Ft,Ve,function(en){return nn.destroyBuffer(en)}),cn=h(bt,on,Qt,Ft),nn=O(bt,on,gn,Ft,Qt,cn,jt),hn=L(bt,Ot,Ft,Ve),bn=C(bt,on,gn,function(){Dn.procs.poll()},Tn,Ft,Ve),wn=vt(bt,on,0,Ft,Ve),En=k(bt,on,gn,bn,wn,Ft),Dn=ee(bt,Ot,on,gn,Qt,cn,0,En,{},nn,hn,jt,Tn,Ht,$t,Ve),kn=(Ot=R(bt,En,Dn.procs.poll,Tn),Dn.next),Bn=bt.canvas,Rn=[],Kn=[],Gn=[],nr=[Ve.onDestroy],$n=null;Bn&&(Bn.addEventListener("webglcontextlost",Be,!1),Bn.addEventListener("webglcontextrestored",je,!1));var fr=En.setFBO=ot({framebuffer:ce.define.call(null,1,"framebuffer")});return ht(),St=X(ot,{clear:function(en){if("framebuffer"in en)if(en.framebuffer&&en.framebuffer_reglType==="framebufferCube")for(var rn=0;6>rn;++rn)fr(X({framebuffer:en.framebuffer.faces[rn]},en),$e);else fr(en,$e);else $e(0,en)},prop:ce.define.bind(null,1),context:ce.define.bind(null,2),this:ce.define.bind(null,3),draw:ot({}),buffer:function(en){return Qt.create(en,34962,!1,!1)},elements:function(en){return cn.create(en,!1)},texture:bn.create2D,cube:bn.createCube,renderbuffer:wn.create,framebuffer:En.create,framebufferCube:En.createCube,vao:nn.createVAO,attributes:St,frame:dt,on:function(en,rn){var Cn;switch(en){case"frame":return dt(rn);case"lost":Cn=Kn;break;case"restore":Cn=Gn;break;case"destroy":Cn=nr}return Cn.push(rn),{cancel:function(){for(var mn=0;mn<Cn.length;++mn)if(Cn[mn]===rn){Cn[mn]=Cn[Cn.length-1],Cn.pop();break}}}},limits:gn,hasExtension:function(en){return 0<=gn.extensions.indexOf(en.toLowerCase())},read:Ot,destroy:function(){Rn.length=0,it(),Bn&&(Bn.removeEventListener("webglcontextlost",Be),Bn.removeEventListener("webglcontextrestored",je)),hn.clear(),En.clear(),wn.clear(),nn.clear(),bn.clear(),cn.clear(),Qt.clear(),Ht&&Ht.clear(),nr.forEach(function(en){en()})},_gl:bt,_refresh:ht,poll:function(){yt(),Ht&&Ht.update()},now:kt,stats:Ft,getCachedCode:function(){return $t},preloadCachedCode:function(en){Object.entries(en).forEach(function(rn){$t[rn[0]]=rn[1]})}}),Ve.onDone(null,St),St}}()},30456:function(S,x,e){var p=e(33576),y=p.Buffer;function n(b,f){for(var s in b)f[s]=b[s]}function M(b,f,s){return y(b,f,s)}y.from&&y.alloc&&y.allocUnsafe&&y.allocUnsafeSlow?S.exports=p:(n(p,x),x.Buffer=M),M.prototype=Object.create(y.prototype),n(y,M),M.from=function(b,f,s){if(typeof b=="number")throw new TypeError("Argument must not be a number");return y(b,f,s)},M.alloc=function(b,f,s){if(typeof b!="number")throw new TypeError("Argument must be a number");var t=y(b);return f!==void 0?typeof s=="string"?t.fill(f,s):t.fill(f):t.fill(0),t},M.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return y(b)},M.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(b)}},14500:function(S,x,e){"use strict";var p=e(53664),y=e(64348),n=e(39640)(),M=e(2304),b=p("%TypeError%"),f=p("%Math.floor%");S.exports=function(s,t){if(typeof s!="function")throw new b("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||f(t)!==t)throw new b("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],r=!0,i=!0;if("length"in s&&M){var a=M(s,"length");a&&!a.configurable&&(r=!1),a&&!a.writable&&(i=!1)}return(r||i||!o)&&(n?y(s,"length",t,!0,!0):y(s,"length",t)),s}},29936:function(S,x,e){S.exports=y;var p=e(61252).EventEmitter;function y(){p.call(this)}e(6768)(y,p),y.Readable=e(12348),y.Writable=e(11288),y.Duplex=e(15316),y.Transform=e(22477),y.PassThrough=e(27136),y.finished=e(15932),y.pipeline=e(38180),y.Stream=y,y.prototype.pipe=function(n,M){var b=this;function f(l){n.writable&&n.write(l)===!1&&b.pause&&b.pause()}function s(){b.readable&&b.resume&&b.resume()}b.on("data",f),n.on("drain",s),n._isStdio||M&&M.end===!1||(b.on("end",o),b.on("close",r));var t=!1;function o(){t||(t=!0,n.end())}function r(){t||(t=!0,typeof n.destroy=="function"&&n.destroy())}function i(l){if(a(),p.listenerCount(this,"error")===0)throw l}function a(){b.removeListener("data",f),n.removeListener("drain",s),b.removeListener("end",o),b.removeListener("close",r),b.removeListener("error",i),n.removeListener("error",i),b.removeListener("end",a),b.removeListener("close",a),n.removeListener("close",a)}return b.on("error",i),n.on("error",i),b.on("end",a),b.on("close",a),n.on("close",a),n.emit("pipe",b),n}},92784:function(S){"use strict";var x={};function e(y,n,M){M||(M=Error);var b=function(f){var s,t;function o(r,i,a){return f.call(this,function(l,u,h){return typeof n=="string"?n:n(l,u,h)}(r,i,a))||this}return t=f,(s=o).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,o}(M);b.prototype.name=M.name,b.prototype.code=y,x[y]=b}function p(y,n){if(Array.isArray(y)){var M=y.length;return y=y.map(function(b){return String(b)}),M>2?"one of ".concat(n," ").concat(y.slice(0,M-1).join(", "),", or ")+y[M-1]:M===2?"one of ".concat(n," ").concat(y[0]," or ").concat(y[1]):"of ".concat(n," ").concat(y[0])}return"of ".concat(n," ").concat(String(y))}e("ERR_INVALID_OPT_VALUE",function(y,n){return'The value "'+n+'" is invalid for option "'+y+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(y,n,M){var b,f,s,t,o;if(typeof n=="string"&&(f="not ",n.substr(0,4)===f)?(b="must not be",n=n.replace(/^not /,"")):b="must be",function(i,a,l){return(l===void 0||l>i.length)&&(l=i.length),i.substring(l-9,l)===a}(y," argument"))s="The ".concat(y," ").concat(b," ").concat(p(n,"type"));else{var r=(typeof o!="number"&&(o=0),o+1>(t=y).length||t.indexOf(".",o)===-1?"argument":"property");s='The "'.concat(y,'" ').concat(r," ").concat(b," ").concat(p(n,"type"))}return s+". Received type ".concat(typeof M)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),S.exports.i=x},15316:function(S,x,e){"use strict";var p=e(4168),y=Object.keys||function(i){var a=[];for(var l in i)a.push(l);return a};S.exports=t;var n=e(12348),M=e(11288);e(6768)(t,n);for(var b=y(M.prototype),f=0;f<b.length;f++){var s=b[f];t.prototype[s]||(t.prototype[s]=M.prototype[s])}function t(i){if(!(this instanceof t))return new t(i);n.call(this,i),M.call(this,i),this.allowHalfOpen=!0,i&&(i.readable===!1&&(this.readable=!1),i.writable===!1&&(this.writable=!1),i.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}function o(){this._writableState.ended||p.nextTick(r,this)}function r(i){i.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(i){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=i,this._writableState.destroyed=i)}})},27136:function(S,x,e){"use strict";S.exports=y;var p=e(22477);function y(n){if(!(this instanceof y))return new y(n);p.call(this,n)}e(6768)(y,p),y.prototype._transform=function(n,M,b){b(null,n)}},12348:function(S,x,e){"use strict";var p,y=e(4168);S.exports=A,A.ReadableState=_,e(61252).EventEmitter;var n,M=function(re,ne){return re.listeners(ne).length},b=e(4776),f=e(33576).Buffer,s=e.g.Uint8Array||function(){},t=e(19768);n=t&&t.debuglog?t.debuglog("stream"):function(){};var o,r,i,a=e(47264),l=e(55324),u=e(24888).getHighWaterMark,h=e(92784).i,c=h.ERR_INVALID_ARG_TYPE,w=h.ERR_STREAM_PUSH_AFTER_EOF,g=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(A,b);var m=l.errorOrDestroy,T=["error","close","destroy","pause","resume"];function _(re,ne,ee){p=p||e(15316),re=re||{},typeof ee!="boolean"&&(ee=ne instanceof p),this.objectMode=!!re.objectMode,ee&&(this.objectMode=this.objectMode||!!re.readableObjectMode),this.highWaterMark=u(this,re,"readableHighWaterMark",ee),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=re.emitClose!==!1,this.autoDestroy=!!re.autoDestroy,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(o||(o=e(86032).o),this.decoder=new o(re.encoding),this.encoding=re.encoding)}function A(re){if(p=p||e(15316),!(this instanceof A))return new A(re);var ne=this instanceof p;this._readableState=new _(re,this,ne),this.readable=!0,re&&(typeof re.read=="function"&&(this._read=re.read),typeof re.destroy=="function"&&(this._destroy=re.destroy)),b.call(this)}function d(re,ne,ee,Q,X){n("readableAddChunk",ne);var se,ce=re._readableState;if(ne===null)ce.reading=!1,function(le,de){if(n("onEofChunk"),!de.ended){if(de.decoder){var be=de.decoder.end();be&&be.length&&(de.buffer.push(be),de.length+=de.objectMode?1:be.length)}de.ended=!0,de.sync?O(le):(de.needReadable=!1,de.emittedReadable||(de.emittedReadable=!0,L(le)))}}(re,ce);else if(X||(se=function(le,de){var be,_e;return _e=de,f.isBuffer(_e)||_e instanceof s||typeof de=="string"||de===void 0||le.objectMode||(be=new c("chunk",["string","Buffer","Uint8Array"],de)),be}(ce,ne)),se)m(re,se);else if(ce.objectMode||ne&&ne.length>0)if(typeof ne=="string"||ce.objectMode||Object.getPrototypeOf(ne)===f.prototype||(ne=function(le){return f.from(le)}(ne)),Q)ce.endEmitted?m(re,new v):C(re,ce,ne,!0);else if(ce.ended)m(re,new w);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!ee?(ne=ce.decoder.write(ne),ce.objectMode||ne.length!==0?C(re,ce,ne,!1):R(re,ce)):C(re,ce,ne,!1)}else Q||(ce.reading=!1,R(re,ce));return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function C(re,ne,ee,Q){ne.flowing&&ne.length===0&&!ne.sync?(ne.awaitDrain=0,re.emit("data",ee)):(ne.length+=ne.objectMode?1:ee.length,Q?ne.buffer.unshift(ee):ne.buffer.push(ee),ne.needReadable&&O(re)),R(re,ne)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(re){this._readableState&&(this._readableState.destroyed=re)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(re,ne){ne(re)},A.prototype.push=function(re,ne){var ee,Q=this._readableState;return Q.objectMode?ee=!0:typeof re=="string"&&((ne=ne||Q.defaultEncoding)!==Q.encoding&&(re=f.from(re,ne),ne=""),ee=!0),d(this,re,ne,!1,ee)},A.prototype.unshift=function(re){return d(this,re,null,!0,!1)},A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(re){o||(o=e(86032).o);var ne=new o(re);this._readableState.decoder=ne,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,Q="";ee!==null;)Q+=ne.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};var k=1073741824;function D(re,ne){return re<=0||ne.length===0&&ne.ended?0:ne.objectMode?1:re!=re?ne.flowing&&ne.length?ne.buffer.head.data.length:ne.length:(re>ne.highWaterMark&&(ne.highWaterMark=function(ee){return ee>=k?ee=k:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}(re)),re<=ne.length?re:ne.ended?ne.length:(ne.needReadable=!0,0))}function O(re){var ne=re._readableState;n("emitReadable",ne.needReadable,ne.emittedReadable),ne.needReadable=!1,ne.emittedReadable||(n("emitReadable",ne.flowing),ne.emittedReadable=!0,y.nextTick(L,re))}function L(re){var ne=re._readableState;n("emitReadable_",ne.destroyed,ne.length,ne.ended),ne.destroyed||!ne.length&&!ne.ended||(re.emit("readable"),ne.emittedReadable=!1),ne.needReadable=!ne.flowing&&!ne.ended&&ne.length<=ne.highWaterMark,Z(re)}function R(re,ne){ne.readingMore||(ne.readingMore=!0,y.nextTick(z,re,ne))}function z(re,ne){for(;!ne.reading&&!ne.ended&&(ne.length<ne.highWaterMark||ne.flowing&&ne.length===0);){var ee=ne.length;if(n("maybeReadMore read 0"),re.read(0),ee===ne.length)break}ne.readingMore=!1}function q(re){var ne=re._readableState;ne.readableListening=re.listenerCount("readable")>0,ne.resumeScheduled&&!ne.paused?ne.flowing=!0:re.listenerCount("data")>0&&re.resume()}function N(re){n("readable nexttick read 0"),re.read(0)}function V(re,ne){n("resume",ne.reading),ne.reading||re.read(0),ne.resumeScheduled=!1,re.emit("resume"),Z(re),ne.flowing&&!ne.reading&&re.read(0)}function Z(re){var ne=re._readableState;for(n("flow",ne.flowing);ne.flowing&&re.read()!==null;);}function j(re,ne){return ne.length===0?null:(ne.objectMode?ee=ne.buffer.shift():!re||re>=ne.length?(ee=ne.decoder?ne.buffer.join(""):ne.buffer.length===1?ne.buffer.first():ne.buffer.concat(ne.length),ne.buffer.clear()):ee=ne.buffer.consume(re,ne.decoder),ee);var ee}function H(re){var ne=re._readableState;n("endReadable",ne.endEmitted),ne.endEmitted||(ne.ended=!0,y.nextTick(Y,ne,re))}function Y(re,ne){if(n("endReadableNT",re.endEmitted,re.length),!re.endEmitted&&re.length===0&&(re.endEmitted=!0,ne.readable=!1,ne.emit("end"),re.autoDestroy)){var ee=ne._writableState;(!ee||ee.autoDestroy&&ee.finished)&&ne.destroy()}}function ie(re,ne){for(var ee=0,Q=re.length;ee<Q;ee++)if(re[ee]===ne)return ee;return-1}A.prototype.read=function(re){n("read",re),re=parseInt(re,10);var ne=this._readableState,ee=re;if(re!==0&&(ne.emittedReadable=!1),re===0&&ne.needReadable&&((ne.highWaterMark!==0?ne.length>=ne.highWaterMark:ne.length>0)||ne.ended))return n("read: emitReadable",ne.length,ne.ended),ne.length===0&&ne.ended?H(this):O(this),null;if((re=D(re,ne))===0&&ne.ended)return ne.length===0&&H(this),null;var Q,X=ne.needReadable;return n("need readable",X),(ne.length===0||ne.length-re<ne.highWaterMark)&&n("length less than watermark",X=!0),ne.ended||ne.reading?n("reading or ended",X=!1):X&&(n("do read"),ne.reading=!0,ne.sync=!0,ne.length===0&&(ne.needReadable=!0),this._read(ne.highWaterMark),ne.sync=!1,ne.reading||(re=D(ee,ne))),(Q=re>0?j(re,ne):null)===null?(ne.needReadable=ne.length<=ne.highWaterMark,re=0):(ne.length-=re,ne.awaitDrain=0),ne.length===0&&(ne.ended||(ne.needReadable=!0),ee!==re&&ne.ended&&H(this)),Q!==null&&this.emit("data",Q),Q},A.prototype._read=function(re){m(this,new g("_read()"))},A.prototype.pipe=function(re,ne){var ee=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=re;break;case 1:Q.pipes=[Q.pipes,re];break;default:Q.pipes.push(re)}Q.pipesCount+=1,n("pipe count=%d opts=%j",Q.pipesCount,ne);var X=ne&&ne.end===!1||re===y.stdout||re===y.stderr?me:se;function se(){n("onend"),re.end()}Q.endEmitted?y.nextTick(X):ee.once("end",X),re.on("unpipe",function ye(Se,Ie){n("onunpipe"),Se===ee&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,n("cleanup"),re.removeListener("close",_e),re.removeListener("finish",ve),re.removeListener("drain",ce),re.removeListener("error",be),re.removeListener("unpipe",ye),ee.removeListener("end",se),ee.removeListener("end",me),ee.removeListener("data",de),le=!0,!Q.awaitDrain||re._writableState&&!re._writableState.needDrain||ce())});var ce=function(ye){return function(){var Se=ye._readableState;n("pipeOnDrain",Se.awaitDrain),Se.awaitDrain&&Se.awaitDrain--,Se.awaitDrain===0&&M(ye,"data")&&(Se.flowing=!0,Z(ye))}}(ee);re.on("drain",ce);var le=!1;function de(ye){n("ondata");var Se=re.write(ye);n("dest.write",Se),Se===!1&&((Q.pipesCount===1&&Q.pipes===re||Q.pipesCount>1&&ie(Q.pipes,re)!==-1)&&!le&&(n("false write response, pause",Q.awaitDrain),Q.awaitDrain++),ee.pause())}function be(ye){n("onerror",ye),me(),re.removeListener("error",be),M(re,"error")===0&&m(re,ye)}function _e(){re.removeListener("finish",ve),me()}function ve(){n("onfinish"),re.removeListener("close",_e),me()}function me(){n("unpipe"),ee.unpipe(re)}return ee.on("data",de),function(ye,Se,Ie){if(typeof ye.prependListener=="function")return ye.prependListener(Se,Ie);ye._events&&ye._events[Se]?Array.isArray(ye._events[Se])?ye._events[Se].unshift(Ie):ye._events[Se]=[Ie,ye._events[Se]]:ye.on(Se,Ie)}(re,"error",be),re.once("close",_e),re.once("finish",ve),re.emit("pipe",ee),Q.flowing||(n("pipe resume"),ee.resume()),re},A.prototype.unpipe=function(re){var ne=this._readableState,ee={hasUnpiped:!1};if(ne.pipesCount===0)return this;if(ne.pipesCount===1)return re&&re!==ne.pipes||(re||(re=ne.pipes),ne.pipes=null,ne.pipesCount=0,ne.flowing=!1,re&&re.emit("unpipe",this,ee)),this;if(!re){var Q=ne.pipes,X=ne.pipesCount;ne.pipes=null,ne.pipesCount=0,ne.flowing=!1;for(var se=0;se<X;se++)Q[se].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=ie(ne.pipes,re);return ce===-1||(ne.pipes.splice(ce,1),ne.pipesCount-=1,ne.pipesCount===1&&(ne.pipes=ne.pipes[0]),re.emit("unpipe",this,ee)),this},A.prototype.on=function(re,ne){var ee=b.prototype.on.call(this,re,ne),Q=this._readableState;return re==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):re==="readable"&&(Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,n("on readable",Q.length,Q.reading),Q.length?O(this):Q.reading||y.nextTick(N,this))),ee},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(re,ne){var ee=b.prototype.removeListener.call(this,re,ne);return re==="readable"&&y.nextTick(q,this),ee},A.prototype.removeAllListeners=function(re){var ne=b.prototype.removeAllListeners.apply(this,arguments);return re!=="readable"&&re!==void 0||y.nextTick(q,this),ne},A.prototype.resume=function(){var re=this._readableState;return re.flowing||(n("resume"),re.flowing=!re.readableListening,function(ne,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,y.nextTick(V,ne,ee))}(this,re)),re.paused=!1,this},A.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(re){var ne=this,ee=this._readableState,Q=!1;for(var X in re.on("end",function(){if(n("wrapped end"),ee.decoder&&!ee.ended){var ce=ee.decoder.end();ce&&ce.length&&ne.push(ce)}ne.push(null)}),re.on("data",function(ce){n("wrapped data"),ee.decoder&&(ce=ee.decoder.write(ce)),ee.objectMode&&ce==null||(ee.objectMode||ce&&ce.length)&&(ne.push(ce)||(Q=!0,re.pause()))}),re)this[X]===void 0&&typeof re[X]=="function"&&(this[X]=function(ce){return function(){return re[ce].apply(re,arguments)}}(X));for(var se=0;se<T.length;se++)re.on(T[se],this.emit.bind(this,T[se]));return this._read=function(ce){n("wrapped _read",ce),Q&&(Q=!1,re.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return r===void 0&&(r=e(60328)),r(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(re){this._readableState&&(this._readableState.flowing=re)}}),A._fromList=j,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(A.from=function(re,ne){return i===void 0&&(i=e(90555)),i(A,re,ne)})},22477:function(S,x,e){"use strict";S.exports=t;var p=e(92784).i,y=p.ERR_METHOD_NOT_IMPLEMENTED,n=p.ERR_MULTIPLE_CALLBACK,M=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=p.ERR_TRANSFORM_WITH_LENGTH_0,f=e(15316);function s(i,a){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new n);l.writechunk=null,l.writecb=null,a!=null&&this.push(a),u(i);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function t(i){if(!(this instanceof t))return new t(i);f.call(this,i),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",o)}function o(){var i=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(a,l){r(i,a,l)})}function r(i,a,l){if(a)return i.emit("error",a);if(l!=null&&i.push(l),i._writableState.length)throw new b;if(i._transformState.transforming)throw new M;return i.push(null)}e(6768)(t,f),t.prototype.push=function(i,a){return this._transformState.needTransform=!1,f.prototype.push.call(this,i,a)},t.prototype._transform=function(i,a,l){l(new y("_transform()"))},t.prototype._write=function(i,a,l){var u=this._transformState;if(u.writecb=l,u.writechunk=i,u.writeencoding=a,!u.transforming){var h=this._readableState;(u.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},t.prototype._read=function(i){var a=this._transformState;a.writechunk===null||a.transforming?a.needTransform=!0:(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform))},t.prototype._destroy=function(i,a){f.prototype._destroy.call(this,i,function(l){a(l)})}},11288:function(S,x,e){"use strict";var p,y=e(4168);function n(R){var z=this;this.next=null,this.entry=null,this.finish=function(){(function(q,N,V){var Z=q.entry;for(q.entry=null;Z;){var j=Z.callback;N.pendingcb--,j(void 0),Z=Z.next}N.corkedRequestsFree.next=q})(z,R)}}S.exports=A,A.WritableState=_;var M,b={deprecate:e(96656)},f=e(4776),s=e(33576).Buffer,t=e.g.Uint8Array||function(){},o=e(55324),r=e(24888).getHighWaterMark,i=e(92784).i,a=i.ERR_INVALID_ARG_TYPE,l=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,h=i.ERR_STREAM_CANNOT_PIPE,c=i.ERR_STREAM_DESTROYED,w=i.ERR_STREAM_NULL_VALUES,g=i.ERR_STREAM_WRITE_AFTER_END,v=i.ERR_UNKNOWN_ENCODING,m=o.errorOrDestroy;function T(){}function _(R,z,q){p=p||e(15316),R=R||{},typeof q!="boolean"&&(q=z instanceof p),this.objectMode=!!R.objectMode,q&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=r(this,R,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=R.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(Z,j){var H=Z._writableState,Y=H.sync,ie=H.writecb;if(typeof ie!="function")throw new u;if(function(ne){ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0}(H),j)(function(ne,ee,Q,X,se){--ee.pendingcb,Q?(y.nextTick(se,X),y.nextTick(L,ne,ee),ne._writableState.errorEmitted=!0,m(ne,X)):(se(X),ne._writableState.errorEmitted=!0,m(ne,X),L(ne,ee))})(Z,H,Y,j,ie);else{var re=D(H)||Z.destroyed;re||H.corked||H.bufferProcessing||!H.bufferedRequest||k(Z,H),Y?y.nextTick(C,Z,H,re,ie):C(Z,H,re,ie)}})(z,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function A(R){var z=this instanceof(p=p||e(15316));if(!z&&!M.call(A,this))return new A(R);this._writableState=new _(R,this,z),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),f.call(this)}function d(R,z,q,N,V,Z,j){z.writelen=N,z.writecb=j,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new c("write")):q?R._writev(V,z.onwrite):R._write(V,Z,z.onwrite),z.sync=!1}function C(R,z,q,N){q||function(V,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,V.emit("drain"))}(R,z),z.pendingcb--,N(),L(R,z)}function k(R,z){z.bufferProcessing=!0;var q=z.bufferedRequest;if(R._writev&&q&&q.next){var N=z.bufferedRequestCount,V=new Array(N),Z=z.corkedRequestsFree;Z.entry=q;for(var j=0,H=!0;q;)V[j]=q,q.isBuf||(H=!1),q=q.next,j+=1;V.allBuffers=H,d(R,z,!0,z.length,V,"",Z.finish),z.pendingcb++,z.lastBufferedRequest=null,Z.next?(z.corkedRequestsFree=Z.next,Z.next=null):z.corkedRequestsFree=new n(z),z.bufferedRequestCount=0}else{for(;q;){var Y=q.chunk,ie=q.encoding,re=q.callback;if(d(R,z,!1,z.objectMode?1:Y.length,Y,ie,re),q=q.next,z.bufferedRequestCount--,z.writing)break}q===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=q,z.bufferProcessing=!1}function D(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function O(R,z){R._final(function(q){z.pendingcb--,q&&m(R,q),z.prefinished=!0,R.emit("prefinish"),L(R,z)})}function L(R,z){var q=D(z);if(q&&(function(V,Z){Z.prefinished||Z.finalCalled||(typeof V._final!="function"||Z.destroyed?(Z.prefinished=!0,V.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,y.nextTick(O,V,Z)))}(R,z),z.pendingcb===0&&(z.finished=!0,R.emit("finish"),z.autoDestroy))){var N=R._readableState;(!N||N.autoDestroy&&N.endEmitted)&&R.destroy()}return q}e(6768)(A,f),_.prototype.getBuffer=function(){for(var R=this.bufferedRequest,z=[];R;)z.push(R),R=R.next;return z},function(){try{Object.defineProperty(_.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(R){return!!M.call(this,R)||this===A&&R&&R._writableState instanceof _}})):M=function(R){return R instanceof this},A.prototype.pipe=function(){m(this,new h)},A.prototype.write=function(R,z,q){var N,V=this._writableState,Z=!1,j=!V.objectMode&&(N=R,s.isBuffer(N)||N instanceof t);return j&&!s.isBuffer(R)&&(R=function(H){return s.from(H)}(R)),typeof z=="function"&&(q=z,z=null),j?z="buffer":z||(z=V.defaultEncoding),typeof q!="function"&&(q=T),V.ending?function(H,Y){var ie=new g;m(H,ie),y.nextTick(Y,ie)}(this,q):(j||function(H,Y,ie,re){var ne;return ie===null?ne=new w:typeof ie=="string"||Y.objectMode||(ne=new a("chunk",["string","Buffer"],ie)),!ne||(m(H,ne),y.nextTick(re,ne),!1)}(this,V,R,q))&&(V.pendingcb++,Z=function(H,Y,ie,re,ne,ee){if(!ie){var Q=function(le,de,be){return le.objectMode||le.decodeStrings===!1||typeof de!="string"||(de=s.from(de,be)),de}(Y,re,ne);re!==Q&&(ie=!0,ne="buffer",re=Q)}var X=Y.objectMode?1:re.length;Y.length+=X;var se=Y.length<Y.highWaterMark;if(se||(Y.needDrain=!0),Y.writing||Y.corked){var ce=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:re,encoding:ne,isBuf:ie,callback:ee,next:null},ce?ce.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else d(H,Y,!1,X,re,ne,ee);return se}(this,V,j,R,z,q)),Z},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,R.writing||R.corked||R.bufferProcessing||!R.bufferedRequest||k(this,R))},A.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new v(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(R,z,q){q(new l("_write()"))},A.prototype._writev=null,A.prototype.end=function(R,z,q){var N=this._writableState;return typeof R=="function"?(q=R,R=null,z=null):typeof z=="function"&&(q=z,z=null),R!=null&&this.write(R,z),N.corked&&(N.corked=1,this.uncork()),N.ending||function(V,Z,j){Z.ending=!0,L(V,Z),j&&(Z.finished?y.nextTick(j):V.once("finish",j)),Z.ended=!0,V.writable=!1}(this,N,q),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),A.prototype.destroy=o.destroy,A.prototype._undestroy=o.undestroy,A.prototype._destroy=function(R,z){z(R)}},60328:function(S,x,e){"use strict";var p,y=e(4168);function n(w,g,v){return g in w?Object.defineProperty(w,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):w[g]=v,w}var M=e(15932),b=Symbol("lastResolve"),f=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),o=Symbol("lastPromise"),r=Symbol("handlePromise"),i=Symbol("stream");function a(w,g){return{value:w,done:g}}function l(w){var g=w[b];if(g!==null){var v=w[i].read();v!==null&&(w[o]=null,w[b]=null,w[f]=null,g(a(v,!1)))}}function u(w){y.nextTick(l,w)}var h=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((n(p={get stream(){return this[i]},next:function(){var w=this,g=this[s];if(g!==null)return Promise.reject(g);if(this[t])return Promise.resolve(a(void 0,!0));if(this[i].destroyed)return new Promise(function(_,A){y.nextTick(function(){w[s]?A(w[s]):_(a(void 0,!0))})});var v,m=this[o];if(m)v=new Promise(function(_,A){return function(d,C){_.then(function(){A[t]?d(a(void 0,!0)):A[r](d,C)},C)}}(m,this));else{var T=this[i].read();if(T!==null)return Promise.resolve(a(T,!1));v=new Promise(this[r])}return this[o]=v,v}},Symbol.asyncIterator,function(){return this}),n(p,"return",function(){var w=this;return new Promise(function(g,v){w[i].destroy(null,function(m){m?v(m):g(a(void 0,!0))})})}),p),h);S.exports=function(w){var g,v=Object.create(c,(n(g={},i,{value:w,writable:!0}),n(g,b,{value:null,writable:!0}),n(g,f,{value:null,writable:!0}),n(g,s,{value:null,writable:!0}),n(g,t,{value:w._readableState.endEmitted,writable:!0}),n(g,r,{value:function(m,T){var _=v[i].read();_?(v[o]=null,v[b]=null,v[f]=null,m(a(_,!1))):(v[b]=m,v[f]=T)},writable:!0}),g));return v[o]=null,M(w,function(m){if(m&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"){var T=v[f];return T!==null&&(v[o]=null,v[b]=null,v[f]=null,T(m)),void(v[s]=m)}var _=v[b];_!==null&&(v[o]=null,v[b]=null,v[f]=null,_(a(void 0,!0))),v[t]=!0}),w.on("readable",u.bind(null,v)),v}},47264:function(S,x,e){"use strict";function p(s,t){var o=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),o.push.apply(o,r)}return o}function y(s,t,o){return t in s?Object.defineProperty(s,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[t]=o,s}function n(s,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}var M=e(33576).Buffer,b=e(21576).inspect,f=b&&b.custom||"inspect";S.exports=function(){function s(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var t,o;return t=s,o=[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,a=""+i.data;i=i.next;)a+=r+i.data;return a}},{key:"concat",value:function(r){if(this.length===0)return M.alloc(0);for(var i,a,l,u=M.allocUnsafe(r>>>0),h=this.head,c=0;h;)i=h.data,a=u,l=c,M.prototype.copy.call(i,a,l),c+=h.data.length,h=h.next;return u}},{key:"consume",value:function(r,i){var a;return r<this.head.data.length?(a=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):a=r===this.head.data.length?this.shift():i?this._getString(r):this._getBuffer(r),a}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,a=1,l=i.data;for(r-=l.length;i=i.next;){var u=i.data,h=r>u.length?u.length:r;if(h===u.length?l+=u:l+=u.slice(0,r),(r-=h)==0){h===u.length?(++a,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=u.slice(h));break}++a}return this.length-=a,l}},{key:"_getBuffer",value:function(r){var i=M.allocUnsafe(r),a=this.head,l=1;for(a.data.copy(i),r-=a.data.length;a=a.next;){var u=a.data,h=r>u.length?u.length:r;if(u.copy(i,i.length-r,0,h),(r-=h)==0){h===u.length?(++l,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=u.slice(h));break}++l}return this.length-=l,i}},{key:f,value:function(r,i){return b(this,function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?p(Object(u),!0).forEach(function(h){y(a,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):p(Object(u)).forEach(function(h){Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(u,h))})}return a}({},i,{depth:0,customInspect:!1}))}}],o&&n(t.prototype,o),s}()},55324:function(S,x,e){"use strict";var p=e(4168);function y(b,f){M(b,f),n(b)}function n(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function M(b,f){b.emit("error",f)}S.exports={destroy:function(b,f){var s=this,t=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return t||o?(f?f(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(M,this,b)):p.nextTick(M,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(r){!f&&r?s._writableState?s._writableState.errorEmitted?p.nextTick(n,s):(s._writableState.errorEmitted=!0,p.nextTick(y,s,r)):p.nextTick(y,s,r):f?(p.nextTick(n,s),f(r)):p.nextTick(n,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,f){var s=b._readableState,t=b._writableState;s&&s.autoDestroy||t&&t.autoDestroy?b.destroy(f):b.emit("error",f)}}},15932:function(S,x,e){"use strict";var p=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function y(){}S.exports=function n(M,b,f){if(typeof b=="function")return n(M,null,b);b||(b={}),f=function(w){var g=!1;return function(){if(!g){g=!0;for(var v=arguments.length,m=new Array(v),T=0;T<v;T++)m[T]=arguments[T];w.apply(this,m)}}}(f||y);var s=b.readable||b.readable!==!1&&M.readable,t=b.writable||b.writable!==!1&&M.writable,o=function(){M.writable||i()},r=M._writableState&&M._writableState.finished,i=function(){t=!1,r=!0,s||f.call(M)},a=M._readableState&&M._readableState.endEmitted,l=function(){s=!1,a=!0,t||f.call(M)},u=function(w){f.call(M,w)},h=function(){var w;return s&&!a?(M._readableState&&M._readableState.ended||(w=new p),f.call(M,w)):t&&!r?(M._writableState&&M._writableState.ended||(w=new p),f.call(M,w)):void 0},c=function(){M.req.on("finish",i)};return function(w){return w.setHeader&&typeof w.abort=="function"}(M)?(M.on("complete",i),M.on("abort",h),M.req?c():M.on("request",c)):t&&!M._writableState&&(M.on("end",o),M.on("close",o)),M.on("end",l),M.on("finish",i),b.error!==!1&&M.on("error",u),M.on("close",h),function(){M.removeListener("complete",i),M.removeListener("abort",h),M.removeListener("request",c),M.req&&M.req.removeListener("finish",i),M.removeListener("end",o),M.removeListener("close",o),M.removeListener("finish",i),M.removeListener("end",l),M.removeListener("error",u),M.removeListener("close",h)}}},90555:function(S){S.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(S,x,e){"use strict";var p,y=e(92784).i,n=y.ERR_MISSING_ARGS,M=y.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function f(t){t()}function s(t,o){return t.pipe(o)}S.exports=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var i,a=function(u){return u.length?typeof u[u.length-1]!="function"?b:u.pop():b}(o);if(Array.isArray(o[0])&&(o=o[0]),o.length<2)throw new n("streams");var l=o.map(function(u,h){var c=h<o.length-1;return function(w,g,v,m){m=function(A){var d=!1;return function(){d||(d=!0,A.apply(void 0,arguments))}}(m);var T=!1;w.on("close",function(){T=!0}),p===void 0&&(p=e(15932)),p(w,{readable:g,writable:v},function(A){if(A)return m(A);T=!0,m()});var _=!1;return function(A){if(!T&&!_)return _=!0,function(d){return d.setHeader&&typeof d.abort=="function"}(w)?w.abort():typeof w.destroy=="function"?w.destroy():void m(A||new M("pipe"))}}(u,c,h>0,function(w){i||(i=w),w&&l.forEach(f),c||(l.forEach(f),a(i))})});return o.reduce(s)}},24888:function(S,x,e){"use strict";var p=e(92784).i.ERR_INVALID_OPT_VALUE;S.exports={getHighWaterMark:function(y,n,M,b){var f=function(s,t,o){return s.highWaterMark!=null?s.highWaterMark:t?s[o]:null}(n,b,M);if(f!=null){if(!isFinite(f)||Math.floor(f)!==f||f<0)throw new p(b?M:"highWaterMark",f);return Math.floor(f)}return y.objectMode?16:16384}}},4776:function(S,x,e){S.exports=e(61252).EventEmitter},86032:function(S,x,e){"use strict";var p=e(30456).Buffer,y=p.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(a){var l;switch(this.encoding=function(u){var h=function(c){if(!c)return"utf8";for(var w;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(w)return;c=(""+c).toLowerCase(),w=!0}}(u);if(typeof h!="string"&&(p.isEncoding===y||!y(u)))throw new Error("Unknown encoding: "+u);return h||u}(a),this.encoding){case"utf16le":this.text=f,this.end=s,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=t,this.end=o,l=3;break;default:return this.write=r,void(this.end=i)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(l)}function M(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:a>>6==2?-1:-2}function b(a){var l=this.lastTotal-this.lastNeed,u=function(h,c,w){if((192&c[0])!=128)return h.lastNeed=0,"\uFFFD";if(h.lastNeed>1&&c.length>1){if((192&c[1])!=128)return h.lastNeed=1,"\uFFFD";if(h.lastNeed>2&&c.length>2&&(192&c[2])!=128)return h.lastNeed=2,"\uFFFD"}}(this,a);return u!==void 0?u:this.lastNeed<=a.length?(a.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,l,0,a.length),void(this.lastNeed-=a.length))}function f(a,l){if((a.length-l)%2==0){var u=a.toString("utf16le",l);if(u){var h=u.charCodeAt(u.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",l,a.length-1)}function s(a){var l=a&&a.length?this.write(a):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function t(a,l){var u=(a.length-l)%3;return u===0?a.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",l,a.length-u))}function o(a){var l=a&&a.length?this.write(a):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function r(a){return a.toString(this.encoding)}function i(a){return a&&a.length?this.write(a):""}x.o=n,n.prototype.write=function(a){if(a.length===0)return"";var l,u;if(this.lastNeed){if((l=this.fillLast(a))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<a.length?l?l+this.text(a,u):this.text(a,u):l||""},n.prototype.end=function(a){var l=a&&a.length?this.write(a):"";return this.lastNeed?l+"\uFFFD":l},n.prototype.text=function(a,l){var u=function(c,w,g){var v=w.length-1;if(v<g)return 0;var m=M(w[v]);return m>=0?(m>0&&(c.lastNeed=m-1),m):--v<g||m===-2?0:(m=M(w[v]))>=0?(m>0&&(c.lastNeed=m-2),m):--v<g||m===-2?0:(m=M(w[v]))>=0?(m>0&&(m===2?m=0:c.lastNeed=m-3),m):0}(this,a,l);if(!this.lastNeed)return a.toString("utf8",l);this.lastTotal=u;var h=a.length-(u-this.lastNeed);return a.copy(this.lastChar,0,h),a.toString("utf8",l,h)},n.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},55619:function(S,x,e){var p=e(45408),y=e(86844)("stream-parser");S.exports=function(c){var w=c&&typeof c._transform=="function",g=c&&typeof c._write=="function";if(!w&&!g)throw new Error("must pass a Writable or Transform stream in");y("extending Parser into stream"),c._bytes=t,c._skipBytes=o,w&&(c._passthrough=r),w?c._transform=a:c._write=i};var n=-1,M=0,b=1,f=2;function s(c){y("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=n,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,w){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),y("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=w,this._parserState=M}function o(c,w){p(!this._parserCallback,'there is already a "callback" set!'),p(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),y("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=w,this._parserState=b}function r(c,w){p(!this._parserCallback,'There is already a "callback" set!'),p(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),y("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=w,this._parserState=f}function i(c,w,g){this._parserInit||s(this),y("write(%o bytes)",c.length),typeof w=="function"&&(g=w),u(this,c,null,g)}function a(c,w,g){this._parserInit||s(this),y("transform(%o bytes)",c.length),typeof w!="function"&&(w=this._parserOutput),u(this,c,w,g)}function l(c,w,g,v){if(c._parserBytesLeft-=w.length,y("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===M?(c._parserBuffers.push(w),c._parserBuffered+=w.length):c._parserState===f&&g(w),c._parserBytesLeft!==0)return v;var m=c._parserCallback;if(m&&c._parserState===M&&c._parserBuffers.length>1&&(w=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==M&&(w=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=n,c._parserBuffers.splice(0),m){var T=[];w&&T.push(w),g&&T.push(g);var _=m.length>T.length;_&&T.push(h(v));var A=m.apply(c,T);if(!_||v===A)return v}}var u=h(function c(w,g,v,m){return w._parserBytesLeft<=0?m(new Error("got data but not currently parsing anything")):g.length<=w._parserBytesLeft?function(){return l(w,g,v,m)}:function(){var T=g.slice(0,w._parserBytesLeft);return l(w,T,v,function(_){return _?m(_):g.length>T.length?function(){return c(w,g.slice(T.length),v,m)}:void 0})}});function h(c){return function(){for(var w=c.apply(this,arguments);typeof w=="function";)w=w();return w}}},86844:function(S,x,e){var p=e(4168);function y(){var n;try{n=x.storage.debug}catch{}return!n&&p!==void 0&&"env"in p&&(n=p.env.DEBUG),n}(x=S.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},x.formatArgs=function(n){var M=this.useColors;if(n[0]=(M?"%c":"")+this.namespace+(M?" %c":" ")+n[0]+(M?"%c ":" ")+"+"+x.humanize(this.diff),M){var b="color: "+this.color;n.splice(1,0,b,"color: inherit");var f=0,s=0;n[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(f++,t==="%c"&&(s=f))}),n.splice(s,0,b)}},x.save=function(n){try{n==null?x.storage.removeItem("debug"):x.storage.debug=n}catch{}},x.load=y,x.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},x.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),x.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],x.formatters.j=function(n){try{return JSON.stringify(n)}catch(M){return"[UnexpectedJSONParseError]: "+M.message}},x.enable(y())},89416:function(S,x,e){var p;function y(n){function M(){if(M.enabled){var b=M,f=+new Date,s=f-(p||f);b.diff=s,b.prev=p,b.curr=f,p=f;for(var t=new Array(arguments.length),o=0;o<t.length;o++)t[o]=arguments[o];t[0]=x.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(i,a){if(i==="%%")return i;r++;var l=x.formatters[a];if(typeof l=="function"){var u=t[r];i=l.call(b,u),t.splice(r,1),r--}return i}),x.formatArgs.call(b,t),(M.log||x.log||console.log.bind(console)).apply(b,t)}}return M.namespace=n,M.enabled=x.enabled(n),M.useColors=x.useColors(),M.color=function(b){var f,s=0;for(f in b)s=(s<<5)-s+b.charCodeAt(f),s|=0;return x.colors[Math.abs(s)%x.colors.length]}(n),typeof x.init=="function"&&x.init(M),M}(x=S.exports=y.debug=y.default=y).coerce=function(n){return n instanceof Error?n.stack||n.message:n},x.disable=function(){x.enable("")},x.enable=function(n){x.save(n),x.names=[],x.skips=[];for(var M=(typeof n=="string"?n:"").split(/[\s,]+/),b=M.length,f=0;f<b;f++)M[f]&&((n=M[f].replace(/\*/g,".*?"))[0]==="-"?x.skips.push(new RegExp("^"+n.substr(1)+"$")):x.names.push(new RegExp("^"+n+"$")))},x.enabled=function(n){var M,b;for(M=0,b=x.skips.length;M<b;M++)if(x.skips[M].test(n))return!1;for(M=0,b=x.names.length;M<b;M++)if(x.names[M].test(n))return!0;return!1},x.humanize=e(93744),x.names=[],x.skips=[],x.formatters={}},93744:function(S){var x=1e3,e=60*x,p=60*e,y=24*p;function n(M,b,f){if(!(M<b))return M<1.5*b?Math.floor(M/b)+" "+f:Math.ceil(M/b)+" "+f+"s"}S.exports=function(M,b){b=b||{};var f,s=typeof M;if(s==="string"&&M.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(o){var r=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*y;case"hours":case"hour":case"hrs":case"hr":case"h":return r*p;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*x;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(M);if(s==="number"&&isNaN(M)===!1)return b.long?n(f=M,y,"day")||n(f,p,"hour")||n(f,e,"minute")||n(f,x,"second")||f+" ms":function(t){return t>=y?Math.round(t/y)+"d":t>=p?Math.round(t/p)+"h":t>=e?Math.round(t/e)+"m":t>=x?Math.round(t/x)+"s":t+"ms"}(M);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(M))}},39956:function(S,x,e){"use strict";var p=e(32868);S.exports=function(y,n,M){if(y==null)throw Error("First argument should be a string");if(n==null)throw Error("Separator should be a string or a RegExp");M?(typeof M=="string"||Array.isArray(M))&&(M={ignore:M}):M={},M.escape==null&&(M.escape=!0),M.ignore==null?M.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof M.ignore=="string"&&(M.ignore=[M.ignore]),M.ignore=M.ignore.map(function(i){return i.length===1&&(i+=i),i}));var b=p.parse(y,{flat:!0,brackets:M.ignore}),f=b[0].split(n);if(M.escape){for(var s=[],t=0;t<f.length;t++){var o=f[t],r=f[t+1];o[o.length-1]==="\\"&&o[o.length-2]!=="\\"?(s.push(o+n+r),t++):s.push(o)}f=s}for(t=0;t<f.length;t++)b[0]=f[t],f[t]=p.stringify(b,{flat:!0});return f}},78484:function(S){"use strict";S.exports=function(x){for(var e=x.length,p=new Array(e),y=new Array(e),n=new Array(e),M=new Array(e),b=new Array(e),f=new Array(e),s=0;s<e;++s)p[s]=-1,y[s]=0,n[s]=!1,M[s]=0,b[s]=-1,f[s]=[];var t,o=0,r=[],i=[];function a(h){var c=[h],w=[h];for(p[h]=y[h]=o,n[h]=!0,o+=1;w.length>0;){h=w[w.length-1];var g=x[h];if(M[h]<g.length){for(var v=M[h];v<g.length;++v){var m=g[v];if(p[m]<0){p[m]=y[m]=o,n[m]=!0,o+=1,c.push(m),w.push(m);break}n[m]&&(y[h]=0|Math.min(y[h],y[m])),b[m]>=0&&f[h].push(b[m])}M[h]=v}else{if(y[h]===p[h]){var T=[],_=[],A=0;for(v=c.length-1;v>=0;--v){var d=c[v];if(n[d]=!1,T.push(d),_.push(f[d]),A+=f[d].length,b[d]=r.length,d===h){c.length=v;break}}r.push(T);var C=new Array(A);for(v=0;v<_.length;v++)for(var k=0;k<_[v].length;k++)C[--A]=_[v][k];i.push(C)}w.pop()}}}for(s=0;s<e;++s)p[s]<0&&a(s);for(s=0;s<i.length;s++){var l=i[s];if(l.length!==0){l.sort(function(h,c){return h-c}),t=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&t.push(l[u]);i[s]=t}}return{components:r,adjacencyList:i}}},92848:function(S,x,e){"use strict";e.r(x);var p=2*Math.PI,y=function(b,f,s,t,o,r,i){var a=b.x,l=b.y;return{x:t*(a*=f)-o*(l*=s)+r,y:o*a+t*l+i}},n=function(b,f){var s=f===1.5707963267948966?.551915024494:f===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(f/4),t=Math.cos(b),o=Math.sin(b),r=Math.cos(b+f),i=Math.sin(b+f);return[{x:t-o*s,y:o+t*s},{x:r+i*s,y:i-r*s},{x:r,y:i}]},M=function(b,f,s,t){var o=b*s+f*t;return o>1&&(o=1),o<-1&&(o=-1),(b*t-f*s<0?-1:1)*Math.acos(o)};x.default=function(b){var f=b.px,s=b.py,t=b.cx,o=b.cy,r=b.rx,i=b.ry,a=b.xAxisRotation,l=a===void 0?0:a,u=b.largeArcFlag,h=u===void 0?0:u,c=b.sweepFlag,w=c===void 0?0:c,g=[];if(r===0||i===0)return[];var v=Math.sin(l*p/360),m=Math.cos(l*p/360),T=m*(f-t)/2+v*(s-o)/2,_=-v*(f-t)/2+m*(s-o)/2;if(T===0&&_===0)return[];r=Math.abs(r),i=Math.abs(i);var A=Math.pow(T,2)/Math.pow(r,2)+Math.pow(_,2)/Math.pow(i,2);A>1&&(r*=Math.sqrt(A),i*=Math.sqrt(A));var d=function(N,V,Z,j,H,Y,ie,re,ne,ee,Q,X){var se=Math.pow(H,2),ce=Math.pow(Y,2),le=Math.pow(Q,2),de=Math.pow(X,2),be=se*ce-se*de-ce*le;be<0&&(be=0),be/=se*de+ce*le;var _e=(be=Math.sqrt(be)*(ie===re?-1:1))*H/Y*X,ve=be*-Y/H*Q,me=ee*_e-ne*ve+(N+Z)/2,ye=ne*_e+ee*ve+(V+j)/2,Se=(Q-_e)/H,Ie=(X-ve)/Y,xe=(-Q-_e)/H,ue=(-X-ve)/Y,ae=M(1,0,Se,Ie),pe=M(Se,Ie,xe,ue);return re===0&&pe>0&&(pe-=p),re===1&&pe<0&&(pe+=p),[me,ye,ae,pe]}(f,s,t,o,r,i,h,w,v,m,T,_),C=function(N,V){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(Z,j){var H=[],Y=!0,ie=!1,re=void 0;try{for(var ne,ee=Z[Symbol.iterator]();!(Y=(ne=ee.next()).done)&&(H.push(ne.value),!j||H.length!==j);Y=!0);}catch(Q){ie=!0,re=Q}finally{try{!Y&&ee.return&&ee.return()}finally{if(ie)throw re}}return H}(N,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(d,4),k=C[0],D=C[1],O=C[2],L=C[3],R=Math.abs(L)/(p/4);Math.abs(1-R)<1e-7&&(R=1);var z=Math.max(Math.ceil(R),1);L/=z;for(var q=0;q<z;q++)g.push(n(O,L)),O+=L;return g.map(function(N){var V=y(N[0],r,i,m,v,k,D),Z=V.x,j=V.y,H=y(N[1],r,i,m,v,k,D),Y=H.x,ie=H.y,re=y(N[2],r,i,m,v,k,D);return{x1:Z,y1:j,x2:Y,y2:ie,x:re.x,y:re.y}})}},74840:function(S,x,e){"use strict";var p=e(21984),y=e(49972),n=e(41976),M=e(53520),b=e(45408);S.exports=function(f){if(Array.isArray(f)&&f.length===1&&typeof f[0]=="string"&&(f=f[0]),typeof f=="string"&&(b(M(f),"String is not an SVG path."),f=p(f)),b(Array.isArray(f),"Argument should be a string or an array of path segments."),f=y(f),!(f=n(f)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,o=f.length;t<o;t++)for(var r=f[t].slice(1),i=0;i<r.length;i+=2)r[i+0]<s[0]&&(s[0]=r[i+0]),r[i+1]<s[1]&&(s[1]=r[i+1]),r[i+0]>s[2]&&(s[2]=r[i+0]),r[i+1]>s[3]&&(s[3]=r[i+1]);return s}},41976:function(S,x,e){"use strict";S.exports=function(M){for(var b,f=[],s=0,t=0,o=0,r=0,i=null,a=null,l=0,u=0,h=0,c=M.length;h<c;h++){var w=M[h],g=w[0];switch(g){case"M":o=w[1],r=w[2];break;case"A":var v=p({px:l,py:u,cx:w[6],cy:w[7],rx:w[1],ry:w[2],xAxisRotation:w[3],largeArcFlag:w[4],sweepFlag:w[5]});if(!v.length)continue;for(var m,T=0;T<v.length;T++)w=["C",(m=v[T]).x1,m.y1,m.x2,m.y2,m.x,m.y],T<v.length-1&&f.push(w);break;case"S":var _=l,A=u;b!="C"&&b!="S"||(_+=_-s,A+=A-t),w=["C",_,A,w[1],w[2],w[3],w[4]];break;case"T":b=="Q"||b=="T"?(i=2*l-i,a=2*u-a):(i=l,a=u),w=n(l,u,i,a,w[1],w[2]);break;case"Q":i=w[1],a=w[2],w=n(l,u,w[1],w[2],w[3],w[4]);break;case"L":w=y(l,u,w[1],w[2]);break;case"H":w=y(l,u,w[1],u);break;case"V":w=y(l,u,l,w[1]);break;case"Z":w=y(l,u,o,r)}b=g,l=w[w.length-2],u=w[w.length-1],w.length>4?(s=w[w.length-4],t=w[w.length-3]):(s=l,t=u),f.push(w)}return f};var p=e(92848);function y(M,b,f,s){return["C",M,b,f,s,f,s]}function n(M,b,f,s,t,o){return["C",M/3+.6666666666666666*f,b/3+.6666666666666666*s,t/3+.6666666666666666*f,o/3+.6666666666666666*s,t,o]}},20472:function(S,x,e){"use strict";var p,y=e(74840),n=e(21984),M=e(22235),b=e(53520),f=e(29620),s=document.createElement("canvas"),t=s.getContext("2d");S.exports=function(o,r){if(!b(o))throw Error("Argument should be valid svg path string");var i,a;r||(r={}),r.shape?(i=r.shape[0],a=r.shape[1]):(i=s.width=r.w||r.width||200,a=s.height=r.h||r.height||200);var l=Math.min(i,a),u=r.stroke||0,h=r.viewbox||r.viewBox||y(o),c=[i/(h[2]-h[0]),a/(h[3]-h[1])],w=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,i,a),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*i,.5*a),t.scale(w,w),function(){if(p!=null)return p;var m=document.createElement("canvas").getContext("2d");if(m.canvas.width=m.canvas.height=1,!window.Path2D)return p=!1;var T=new Path2D("M0,0h1v1h-1v-1Z");m.fillStyle="black",m.fill(T);var _=m.getImageData(0,0,1,1);return p=_&&_.data&&_.data[3]===255}()){var g=new Path2D(o);t.fill(g),u&&t.stroke(g)}else{var v=n(o);M(t,v),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),f(t,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:.5*l})}},49760:function(S,x,e){var p;(function(y){var n=/^\s+/,M=/\s+$/,b=0,f=y.round,s=y.min,t=y.max,o=y.random;function r(Q,X){if(X=X||{},(Q=Q||"")instanceof r)return Q;if(!(this instanceof r))return new r(Q,X);var se=function(ce){var le,de,be,_e={r:0,g:0,b:0},ve=1,me=null,ye=null,Se=null,Ie=!1,xe=!1;return typeof ce=="string"&&(ce=function(ue){ue=ue.replace(n,"").replace(M,"").toLowerCase();var ae,pe=!1;if(O[ue])ue=O[ue],pe=!0;else if(ue=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(ae=ne.rgb.exec(ue))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=ne.rgba.exec(ue))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=ne.hsl.exec(ue))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=ne.hsla.exec(ue))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=ne.hsv.exec(ue))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=ne.hsva.exec(ue))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=ne.hex8.exec(ue))?{r:N(ae[1]),g:N(ae[2]),b:N(ae[3]),a:H(ae[4]),format:pe?"name":"hex8"}:(ae=ne.hex6.exec(ue))?{r:N(ae[1]),g:N(ae[2]),b:N(ae[3]),format:pe?"name":"hex"}:(ae=ne.hex4.exec(ue))?{r:N(ae[1]+""+ae[1]),g:N(ae[2]+""+ae[2]),b:N(ae[3]+""+ae[3]),a:H(ae[4]+""+ae[4]),format:pe?"name":"hex8"}:!!(ae=ne.hex3.exec(ue))&&{r:N(ae[1]+""+ae[1]),g:N(ae[2]+""+ae[2]),b:N(ae[3]+""+ae[3]),format:pe?"name":"hex"}}(ce)),typeof ce=="object"&&(ee(ce.r)&&ee(ce.g)&&ee(ce.b)?(le=ce.r,de=ce.g,be=ce.b,_e={r:255*z(le,255),g:255*z(de,255),b:255*z(be,255)},Ie=!0,xe=String(ce.r).substr(-1)==="%"?"prgb":"rgb"):ee(ce.h)&&ee(ce.s)&&ee(ce.v)?(me=Z(ce.s),ye=Z(ce.v),_e=function(ue,ae,pe){ue=6*z(ue,360),ae=z(ae,100),pe=z(pe,100);var De=y.floor(ue),Te=ue-De,Ae=pe*(1-ae),Ce=pe*(1-Te*ae),Re=pe*(1-(1-Te)*ae),Ne=De%6;return{r:255*[pe,Ce,Ae,Ae,Re,pe][Ne],g:255*[Re,pe,pe,Ce,Ae,Ae][Ne],b:255*[Ae,Ae,Re,pe,pe,Ce][Ne]}}(ce.h,me,ye),Ie=!0,xe="hsv"):ee(ce.h)&&ee(ce.s)&&ee(ce.l)&&(me=Z(ce.s),Se=Z(ce.l),_e=function(ue,ae,pe){var De,Te,Ae;function Ce(ge,Me,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?ge+6*(Me-ge)*Ee:Ee<.5?Me:Ee<2/3?ge+(Me-ge)*(2/3-Ee)*6:ge}if(ue=z(ue,360),ae=z(ae,100),pe=z(pe,100),ae===0)De=Te=Ae=pe;else{var Re=pe<.5?pe*(1+ae):pe+ae-pe*ae,Ne=2*pe-Re;De=Ce(Ne,Re,ue+1/3),Te=Ce(Ne,Re,ue),Ae=Ce(Ne,Re,ue-1/3)}return{r:255*De,g:255*Te,b:255*Ae}}(ce.h,me,Se),Ie=!0,xe="hsl"),ce.hasOwnProperty("a")&&(ve=ce.a)),ve=R(ve),{ok:Ie,format:ce.format||xe,r:s(255,t(_e.r,0)),g:s(255,t(_e.g,0)),b:s(255,t(_e.b,0)),a:ve}}(Q);this._originalInput=Q,this._r=se.r,this._g=se.g,this._b=se.b,this._a=se.a,this._roundA=f(100*this._a)/100,this._format=X.format||se.format,this._gradientType=X.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=se.ok,this._tc_id=b++}function i(Q,X,se){Q=z(Q,255),X=z(X,255),se=z(se,255);var ce,le,de=t(Q,X,se),be=s(Q,X,se),_e=(de+be)/2;if(de==be)ce=le=0;else{var ve=de-be;switch(le=_e>.5?ve/(2-de-be):ve/(de+be),de){case Q:ce=(X-se)/ve+(X<se?6:0);break;case X:ce=(se-Q)/ve+2;break;case se:ce=(Q-X)/ve+4}ce/=6}return{h:ce,s:le,l:_e}}function a(Q,X,se){Q=z(Q,255),X=z(X,255),se=z(se,255);var ce,le,de=t(Q,X,se),be=s(Q,X,se),_e=de,ve=de-be;if(le=de===0?0:ve/de,de==be)ce=0;else{switch(de){case Q:ce=(X-se)/ve+(X<se?6:0);break;case X:ce=(se-Q)/ve+2;break;case se:ce=(Q-X)/ve+4}ce/=6}return{h:ce,s:le,v:_e}}function l(Q,X,se,ce){var le=[V(f(Q).toString(16)),V(f(X).toString(16)),V(f(se).toString(16))];return ce&&le[0].charAt(0)==le[0].charAt(1)&&le[1].charAt(0)==le[1].charAt(1)&&le[2].charAt(0)==le[2].charAt(1)?le[0].charAt(0)+le[1].charAt(0)+le[2].charAt(0):le.join("")}function u(Q,X,se,ce){return[V(j(ce)),V(f(Q).toString(16)),V(f(X).toString(16)),V(f(se).toString(16))].join("")}function h(Q,X){X=X===0?0:X||10;var se=r(Q).toHsl();return se.s-=X/100,se.s=q(se.s),r(se)}function c(Q,X){X=X===0?0:X||10;var se=r(Q).toHsl();return se.s+=X/100,se.s=q(se.s),r(se)}function w(Q){return r(Q).desaturate(100)}function g(Q,X){X=X===0?0:X||10;var se=r(Q).toHsl();return se.l+=X/100,se.l=q(se.l),r(se)}function v(Q,X){X=X===0?0:X||10;var se=r(Q).toRgb();return se.r=t(0,s(255,se.r-f(-X/100*255))),se.g=t(0,s(255,se.g-f(-X/100*255))),se.b=t(0,s(255,se.b-f(-X/100*255))),r(se)}function m(Q,X){X=X===0?0:X||10;var se=r(Q).toHsl();return se.l-=X/100,se.l=q(se.l),r(se)}function T(Q,X){var se=r(Q).toHsl(),ce=(se.h+X)%360;return se.h=ce<0?360+ce:ce,r(se)}function _(Q){var X=r(Q).toHsl();return X.h=(X.h+180)%360,r(X)}function A(Q){var X=r(Q).toHsl(),se=X.h;return[r(Q),r({h:(se+120)%360,s:X.s,l:X.l}),r({h:(se+240)%360,s:X.s,l:X.l})]}function d(Q){var X=r(Q).toHsl(),se=X.h;return[r(Q),r({h:(se+90)%360,s:X.s,l:X.l}),r({h:(se+180)%360,s:X.s,l:X.l}),r({h:(se+270)%360,s:X.s,l:X.l})]}function C(Q){var X=r(Q).toHsl(),se=X.h;return[r(Q),r({h:(se+72)%360,s:X.s,l:X.l}),r({h:(se+216)%360,s:X.s,l:X.l})]}function k(Q,X,se){X=X||6,se=se||30;var ce=r(Q).toHsl(),le=360/se,de=[r(Q)];for(ce.h=(ce.h-(le*X>>1)+720)%360;--X;)ce.h=(ce.h+le)%360,de.push(r(ce));return de}function D(Q,X){X=X||6;for(var se=r(Q).toHsv(),ce=se.h,le=se.s,de=se.v,be=[],_e=1/X;X--;)be.push(r({h:ce,s:le,v:de})),de=(de+_e)%1;return be}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Q=this.toRgb();return(299*Q.r+587*Q.g+114*Q.b)/1e3},getLuminance:function(){var Q,X,se,ce=this.toRgb();return Q=ce.r/255,X=ce.g/255,se=ce.b/255,.2126*(Q<=.03928?Q/12.92:y.pow((Q+.055)/1.055,2.4))+.7152*(X<=.03928?X/12.92:y.pow((X+.055)/1.055,2.4))+.0722*(se<=.03928?se/12.92:y.pow((se+.055)/1.055,2.4))},setAlpha:function(Q){return this._a=R(Q),this._roundA=f(100*this._a)/100,this},toHsv:function(){var Q=a(this._r,this._g,this._b);return{h:360*Q.h,s:Q.s,v:Q.v,a:this._a}},toHsvString:function(){var Q=a(this._r,this._g,this._b),X=f(360*Q.h),se=f(100*Q.s),ce=f(100*Q.v);return this._a==1?"hsv("+X+", "+se+"%, "+ce+"%)":"hsva("+X+", "+se+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var Q=i(this._r,this._g,this._b);return{h:360*Q.h,s:Q.s,l:Q.l,a:this._a}},toHslString:function(){var Q=i(this._r,this._g,this._b),X=f(360*Q.h),se=f(100*Q.s),ce=f(100*Q.l);return this._a==1?"hsl("+X+", "+se+"%, "+ce+"%)":"hsla("+X+", "+se+"%, "+ce+"%, "+this._roundA+")"},toHex:function(Q){return l(this._r,this._g,this._b,Q)},toHexString:function(Q){return"#"+this.toHex(Q)},toHex8:function(Q){return function(X,se,ce,le,de){var be=[V(f(X).toString(16)),V(f(se).toString(16)),V(f(ce).toString(16)),V(j(le))];return de&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)&&be[3].charAt(0)==be[3].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0)+be[3].charAt(0):be.join("")}(this._r,this._g,this._b,this._a,Q)},toHex8String:function(Q){return"#"+this.toHex8(Q)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*z(this._r,255))+"%",g:f(100*z(this._g,255))+"%",b:f(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(100*z(this._r,255))+"%, "+f(100*z(this._g,255))+"%, "+f(100*z(this._b,255))+"%)":"rgba("+f(100*z(this._r,255))+"%, "+f(100*z(this._g,255))+"%, "+f(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(L[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Q){var X="#"+u(this._r,this._g,this._b,this._a),se=X,ce=this._gradientType?"GradientType = 1, ":"";if(Q){var le=r(Q);se="#"+u(le._r,le._g,le._b,le._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+X+",endColorstr="+se+")"},toString:function(Q){var X=!!Q;Q=Q||this._format;var se=!1,ce=this._a<1&&this._a>=0;return X||!ce||Q!=="hex"&&Q!=="hex6"&&Q!=="hex3"&&Q!=="hex4"&&Q!=="hex8"&&Q!=="name"?(Q==="rgb"&&(se=this.toRgbString()),Q==="prgb"&&(se=this.toPercentageRgbString()),Q!=="hex"&&Q!=="hex6"||(se=this.toHexString()),Q==="hex3"&&(se=this.toHexString(!0)),Q==="hex4"&&(se=this.toHex8String(!0)),Q==="hex8"&&(se=this.toHex8String()),Q==="name"&&(se=this.toName()),Q==="hsl"&&(se=this.toHslString()),Q==="hsv"&&(se=this.toHsvString()),se||this.toHexString()):Q==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(Q,X){var se=Q.apply(null,[this].concat([].slice.call(X)));return this._r=se._r,this._g=se._g,this._b=se._b,this.setAlpha(se._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(Q,X){return Q.apply(null,[this].concat([].slice.call(X)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(d,arguments)}},r.fromRatio=function(Q,X){if(typeof Q=="object"){var se={};for(var ce in Q)Q.hasOwnProperty(ce)&&(se[ce]=ce==="a"?Q[ce]:Z(Q[ce]));Q=se}return r(Q,X)},r.equals=function(Q,X){return!(!Q||!X)&&r(Q).toRgbString()==r(X).toRgbString()},r.random=function(){return r.fromRatio({r:o(),g:o(),b:o()})},r.mix=function(Q,X,se){se=se===0?0:se||50;var ce=r(Q).toRgb(),le=r(X).toRgb(),de=se/100;return r({r:(le.r-ce.r)*de+ce.r,g:(le.g-ce.g)*de+ce.g,b:(le.b-ce.b)*de+ce.b,a:(le.a-ce.a)*de+ce.a})},r.readability=function(Q,X){var se=r(Q),ce=r(X);return(y.max(se.getLuminance(),ce.getLuminance())+.05)/(y.min(se.getLuminance(),ce.getLuminance())+.05)},r.isReadable=function(Q,X,se){var ce,le,de,be,_e,ve=r.readability(Q,X);switch(le=!1,(de=se,(be=((de=de||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&be!=="AAA"&&(be="AA"),(_e=(de.size||"small").toLowerCase())!=="small"&&_e!=="large"&&(_e="small"),ce={level:be,size:_e}).level+ce.size){case"AAsmall":case"AAAlarge":le=ve>=4.5;break;case"AAlarge":le=ve>=3;break;case"AAAsmall":le=ve>=7}return le},r.mostReadable=function(Q,X,se){var ce,le,de,be,_e=null,ve=0;le=(se=se||{}).includeFallbackColors,de=se.level,be=se.size;for(var me=0;me<X.length;me++)(ce=r.readability(Q,X[me]))>ve&&(ve=ce,_e=r(X[me]));return r.isReadable(Q,_e,{level:de,size:be})||!le?_e:(se.includeFallbackColors=!1,r.mostReadable(Q,["#fff","#000"],se))};var O=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=r.hexNames=function(Q){var X={};for(var se in Q)Q.hasOwnProperty(se)&&(X[Q[se]]=se);return X}(O);function R(Q){return Q=parseFloat(Q),(isNaN(Q)||Q<0||Q>1)&&(Q=1),Q}function z(Q,X){(function(ce){return typeof ce=="string"&&ce.indexOf(".")!=-1&&parseFloat(ce)===1})(Q)&&(Q="100%");var se=function(ce){return typeof ce=="string"&&ce.indexOf("%")!=-1}(Q);return Q=s(X,t(0,parseFloat(Q))),se&&(Q=parseInt(Q*X,10)/100),y.abs(Q-X)<1e-6?1:Q%X/parseFloat(X)}function q(Q){return s(1,t(0,Q))}function N(Q){return parseInt(Q,16)}function V(Q){return Q.length==1?"0"+Q:""+Q}function Z(Q){return Q<=1&&(Q=100*Q+"%"),Q}function j(Q){return y.round(255*parseFloat(Q)).toString(16)}function H(Q){return N(Q)/255}var Y,ie,re,ne=(ie="[\\s|\\(]+("+(Y="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",re="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+ie),rgba:new RegExp("rgba"+re),hsl:new RegExp("hsl"+ie),hsla:new RegExp("hsla"+re),hsv:new RegExp("hsv"+ie),hsva:new RegExp("hsva"+re),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function ee(Q){return!!ne.CSS_UNIT.exec(Q)}S.exports?S.exports=r:(p=(function(){return r}).call(x,e,x,S))===void 0||(S.exports=p)})(Math)},37816:function(S){"use strict";S.exports=e,S.exports.float32=S.exports.float=e,S.exports.fract32=S.exports.fract=function(p,y){if(p.length){if(p instanceof Float32Array)return new Float32Array(p.length);y instanceof Float32Array||(y=e(p));for(var n=0,M=y.length;n<M;n++)y[n]=p[n]-y[n];return y}return e(p-e(p))};var x=new Float32Array(1);function e(p){return p.length?p instanceof Float32Array?p:new Float32Array(p):(x[0]=p,x[0])}},23464:function(S,x,e){"use strict";var p=e(65819);S.exports=M;var y=96;function n(b,f){var s=p(getComputedStyle(b).getPropertyValue(f));return s[0]*M(s[1],b)}function M(b,f){switch(f=f||document.body,b=(b||"px").trim().toLowerCase(),f!==window&&f!==document||(f=document.body),b){case"%":return f.clientHeight/100;case"ch":case"ex":return function(s,t){var o=document.createElement("div");o.style["font-size"]="128"+s,t.appendChild(o);var r=n(o,"font-size")/128;return t.removeChild(o),r}(b,f);case"em":return n(f,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return y;case"cm":return y/2.54;case"mm":return y/25.4;case"pt":return y/72;case"pc":return y/6}return 1}},55712:function(S,x,e){"use strict";function p(M){return M}function y(M,b){return typeof b=="string"&&(b=M.objects[b]),b.type==="GeometryCollection"?{type:"FeatureCollection",features:b.geometries.map(function(f){return n(M,f)})}:n(M,b)}function n(M,b){var f=b.id,s=b.bbox,t=b.properties==null?{}:b.properties,o=function(r,i){var a=function(v){if(v==null)return p;var m,T,_=v.scale[0],A=v.scale[1],d=v.translate[0],C=v.translate[1];return function(k,D){D||(m=T=0);var O=2,L=k.length,R=new Array(L);for(R[0]=(m+=k[0])*_+d,R[1]=(T+=k[1])*A+C;O<L;)R[O]=k[O],++O;return R}}(r.transform),l=r.arcs;function u(v,m){m.length&&m.pop();for(var T=l[v<0?~v:v],_=0,A=T.length;_<A;++_)m.push(a(T[_],_));v<0&&function(d,C){for(var k,D=d.length,O=D-C;O<--D;)k=d[O],d[O++]=d[D],d[D]=k}(m,A)}function h(v){return a(v)}function c(v){for(var m=[],T=0,_=v.length;T<_;++T)u(v[T],m);return m.length<2&&m.push(m[0]),m}function w(v){for(var m=c(v);m.length<4;)m.push(m[0]);return m}function g(v){return v.map(w)}return function v(m){var T,_=m.type;switch(_){case"GeometryCollection":return{type:_,geometries:m.geometries.map(v)};case"Point":T=h(m.coordinates);break;case"MultiPoint":T=m.coordinates.map(h);break;case"LineString":T=c(m.arcs);break;case"MultiLineString":T=m.arcs.map(c);break;case"Polygon":T=g(m.arcs);break;case"MultiPolygon":T=m.arcs.map(g);break;default:return null}return{type:_,coordinates:T}}(i)}(M,b);return f==null&&s==null?{type:"Feature",properties:t,geometry:o}:s==null?{type:"Feature",id:f,properties:t,geometry:o}:{type:"Feature",id:f,bbox:s,properties:t,geometry:o}}e.d(x,{NO:function(){return y}})},73384:function(S,x,e){"use strict";var p=e(54612);S.exports=function(y){if(typeof y!="function"||!hasOwnProperty.call(y,"length"))return!1;try{if(typeof y.length!="number"||typeof y.call!="function"||typeof y.apply!="function")return!1}catch{return!1}return!p(y)}},57980:function(S,x,e){"use strict";var p=e(81680),y=e(7328),n=e(33940),M=e(18856),b=function(f,s){return f.replace("%v",M(s))};S.exports=function(f,s,t){if(!y(t))throw new TypeError(b(s,f));if(!p(f)){if("default"in t)return t.default;if(t.isOptional)return null}var o=n(t.errorMessage);throw p(o)||(o=s),new TypeError(b(o,f))}},32336:function(S){"use strict";S.exports=function(x){try{return x.toString()}catch{try{return String(x)}catch{return null}}}},18856:function(S,x,e){"use strict";var p=e(32336),y=/[\n\r\u2028\u2029]/g;S.exports=function(n){var M=p(n);return M===null?"<Non-coercible to string value>":(M.length>100&&(M=M.slice(0,99)+"\u2026"),M=M.replace(y,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(S,x,e){"use strict";var p=e(81680),y={object:!0,function:!0,undefined:!0};S.exports=function(n){return!!p(n)&&hasOwnProperty.call(y,typeof n)}},87396:function(S,x,e){"use strict";var p=e(57980),y=e(85488);S.exports=function(n){return y(n)?n:p(n,"%v is not a plain function",arguments[1])}},85488:function(S,x,e){"use strict";var p=e(73384),y=/^\s*class[\s{/}]/,n=Function.prototype.toString;S.exports=function(M){return!!p(M)&&!y.test(n.call(M))}},54612:function(S,x,e){"use strict";var p=e(7328);S.exports=function(y){if(!p(y))return!1;try{return!!y.constructor&&y.constructor.prototype===y}catch{return!1}}},33940:function(S,x,e){"use strict";var p=e(81680),y=e(7328),n=Object.prototype.toString;S.exports=function(M){if(!p(M))return null;if(y(M)){var b=M.toString;if(typeof b!="function"||b===n)return null}try{return""+M}catch{return null}}},18496:function(S,x,e){"use strict";var p=e(57980),y=e(81680);S.exports=function(n){return y(n)?n:p(n,"Cannot use %v",arguments[1])}},81680:function(S){"use strict";S.exports=function(x){return x!=null}},14144:function(S,x,e){"use strict";var p=e(308),y=e(10352),n=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:y([32,0]),UINT16:y([32,0]),UINT32:y([32,0]),BIGUINT64:y([32,0]),INT8:y([32,0]),INT16:y([32,0]),INT32:y([32,0]),BIGINT64:y([32,0]),FLOAT:y([32,0]),DOUBLE:y([32,0]),DATA:y([32,0]),UINT8C:y([32,0]),BUFFER:y([32,0])});var M=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=y([32,0])),s.BIGUINT64||(s.BIGUINT64=y([32,0])),s.BIGINT64||(s.BIGINT64=y([32,0])),s.BUFFER||(s.BUFFER=y([32,0]));var t=s.DATA,o=s.BUFFER;function r(C){if(C){var k=C.length||C.byteLength,D=p.log2(k);t[D].push(C)}}function i(C){C=p.nextPow2(C);var k=p.log2(C),D=t[k];return D.length>0?D.pop():new ArrayBuffer(C)}function a(C){return new Uint8Array(i(C),0,C)}function l(C){return new Uint16Array(i(2*C),0,C)}function u(C){return new Uint32Array(i(4*C),0,C)}function h(C){return new Int8Array(i(C),0,C)}function c(C){return new Int16Array(i(2*C),0,C)}function w(C){return new Int32Array(i(4*C),0,C)}function g(C){return new Float32Array(i(4*C),0,C)}function v(C){return new Float64Array(i(8*C),0,C)}function m(C){return M?new Uint8ClampedArray(i(C),0,C):a(C)}function T(C){return b?new BigUint64Array(i(8*C),0,C):null}function _(C){return f?new BigInt64Array(i(8*C),0,C):null}function A(C){return new DataView(i(C),0,C)}function d(C){C=p.nextPow2(C);var k=p.log2(C),D=o[k];return D.length>0?D.pop():new n(C)}x.free=function(C){if(n.isBuffer(C))o[p.log2(C.length)].push(C);else{if(Object.prototype.toString.call(C)!=="[object ArrayBuffer]"&&(C=C.buffer),!C)return;var k=C.length||C.byteLength,D=0|p.log2(k);t[D].push(C)}},x.freeUint8=x.freeUint16=x.freeUint32=x.freeBigUint64=x.freeInt8=x.freeInt16=x.freeInt32=x.freeBigInt64=x.freeFloat32=x.freeFloat=x.freeFloat64=x.freeDouble=x.freeUint8Clamped=x.freeDataView=function(C){r(C.buffer)},x.freeArrayBuffer=r,x.freeBuffer=function(C){o[p.log2(C.length)].push(C)},x.malloc=function(C,k){if(k===void 0||k==="arraybuffer")return i(C);switch(k){case"uint8":return a(C);case"uint16":return l(C);case"uint32":return u(C);case"int8":return h(C);case"int16":return c(C);case"int32":return w(C);case"float":case"float32":return g(C);case"double":case"float64":return v(C);case"uint8_clamped":return m(C);case"bigint64":return _(C);case"biguint64":return T(C);case"buffer":return d(C);case"data":case"dataview":return A(C);default:return null}return null},x.mallocArrayBuffer=i,x.mallocUint8=a,x.mallocUint16=l,x.mallocUint32=u,x.mallocInt8=h,x.mallocInt16=c,x.mallocInt32=w,x.mallocFloat32=x.mallocFloat=g,x.mallocFloat64=x.mallocDouble=v,x.mallocUint8Clamped=m,x.mallocBigUint64=T,x.mallocBigInt64=_,x.mallocDataView=A,x.mallocBuffer=d,x.clearCache=function(){for(var C=0;C<32;++C)s.UINT8[C].length=0,s.UINT16[C].length=0,s.UINT32[C].length=0,s.INT8[C].length=0,s.INT16[C].length=0,s.INT32[C].length=0,s.FLOAT[C].length=0,s.DOUBLE[C].length=0,s.BIGUINT64[C].length=0,s.BIGINT64[C].length=0,s.UINT8C[C].length=0,t[C].length=0,o[C].length=0}},92384:function(S){var x=/[\'\"]/;S.exports=function(e){return e?(x.test(e.charAt(0))&&(e=e.substr(1)),x.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(S){"use strict";S.exports=function(x,e,p){Array.isArray(p)||(p=[].slice.call(arguments,2));for(var y=0,n=p.length;y<n;y++){var M=p[y];for(var b in M)if((e[b]===void 0||Array.isArray(e[b])||x[b]!==e[b])&&b in e){var f;if(M[b]===!0)f=e[b];else if(M[b]===!1||typeof M[b]=="function"&&(f=M[b](e[b],x,e))===void 0)continue;x[b]=f}}return x}},96656:function(S,x,e){function p(y){try{if(!e.g.localStorage)return!1}catch{return!1}var n=e.g.localStorage[y];return n!=null&&String(n).toLowerCase()==="true"}S.exports=function(y,n){if(p("noDeprecation"))return y;var M=!1;return function(){if(!M){if(p("throwDeprecation"))throw new Error(n);p("traceDeprecation")?console.trace(n):console.warn(n),M=!0}return y.apply(this,arguments)}}},75272:function(S){S.exports=function(x){return x&&typeof x=="object"&&typeof x.copy=="function"&&typeof x.fill=="function"&&typeof x.readUInt8=="function"}},41088:function(S,x,e){"use strict";var p=e(91148),y=e(84420),n=e(96632),M=e(7728);function b(z){return z.call.bind(z)}var f=typeof BigInt<"u",s=typeof Symbol<"u",t=b(Object.prototype.toString),o=b(Number.prototype.valueOf),r=b(String.prototype.valueOf),i=b(Boolean.prototype.valueOf);if(f)var a=b(BigInt.prototype.valueOf);if(s)var l=b(Symbol.prototype.valueOf);function u(z,q){if(typeof z!="object")return!1;try{return q(z),!0}catch{return!1}}function h(z){return t(z)==="[object Map]"}function c(z){return t(z)==="[object Set]"}function w(z){return t(z)==="[object WeakMap]"}function g(z){return t(z)==="[object WeakSet]"}function v(z){return t(z)==="[object ArrayBuffer]"}function m(z){return typeof ArrayBuffer<"u"&&(v.working?v(z):z instanceof ArrayBuffer)}function T(z){return t(z)==="[object DataView]"}function _(z){return typeof DataView<"u"&&(T.working?T(z):z instanceof DataView)}x.isArgumentsObject=p,x.isGeneratorFunction=y,x.isTypedArray=M,x.isPromise=function(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"},x.isArrayBufferView=function(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):M(z)||_(z)},x.isUint8Array=function(z){return n(z)==="Uint8Array"},x.isUint8ClampedArray=function(z){return n(z)==="Uint8ClampedArray"},x.isUint16Array=function(z){return n(z)==="Uint16Array"},x.isUint32Array=function(z){return n(z)==="Uint32Array"},x.isInt8Array=function(z){return n(z)==="Int8Array"},x.isInt16Array=function(z){return n(z)==="Int16Array"},x.isInt32Array=function(z){return n(z)==="Int32Array"},x.isFloat32Array=function(z){return n(z)==="Float32Array"},x.isFloat64Array=function(z){return n(z)==="Float64Array"},x.isBigInt64Array=function(z){return n(z)==="BigInt64Array"},x.isBigUint64Array=function(z){return n(z)==="BigUint64Array"},h.working=typeof Map<"u"&&h(new Map),x.isMap=function(z){return typeof Map<"u"&&(h.working?h(z):z instanceof Map)},c.working=typeof Set<"u"&&c(new Set),x.isSet=function(z){return typeof Set<"u"&&(c.working?c(z):z instanceof Set)},w.working=typeof WeakMap<"u"&&w(new WeakMap),x.isWeakMap=function(z){return typeof WeakMap<"u"&&(w.working?w(z):z instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),x.isWeakSet=function(z){return g(z)},v.working=typeof ArrayBuffer<"u"&&v(new ArrayBuffer),x.isArrayBuffer=m,T.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&T(new DataView(new ArrayBuffer(1),0,1)),x.isDataView=_;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function d(z){return t(z)==="[object SharedArrayBuffer]"}function C(z){return A!==void 0&&(d.working===void 0&&(d.working=d(new A)),d.working?d(z):z instanceof A)}function k(z){return u(z,o)}function D(z){return u(z,r)}function O(z){return u(z,i)}function L(z){return f&&u(z,a)}function R(z){return s&&u(z,l)}x.isSharedArrayBuffer=C,x.isAsyncFunction=function(z){return t(z)==="[object AsyncFunction]"},x.isMapIterator=function(z){return t(z)==="[object Map Iterator]"},x.isSetIterator=function(z){return t(z)==="[object Set Iterator]"},x.isGeneratorObject=function(z){return t(z)==="[object Generator]"},x.isWebAssemblyCompiledModule=function(z){return t(z)==="[object WebAssembly.Module]"},x.isNumberObject=k,x.isStringObject=D,x.isBooleanObject=O,x.isBigIntObject=L,x.isSymbolObject=R,x.isBoxedPrimitive=function(z){return k(z)||D(z)||O(z)||L(z)||R(z)},x.isAnyArrayBuffer=function(z){return typeof Uint8Array<"u"&&(m(z)||C(z))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(x,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})},35840:function(S,x,e){var p=e(4168),y=Object.getOwnPropertyDescriptors||function(R){for(var z=Object.keys(R),q={},N=0;N<z.length;N++)q[z[N]]=Object.getOwnPropertyDescriptor(R,z[N]);return q},n=/%[sdj%]/g;x.format=function(R){if(!w(R)){for(var z=[],q=0;q<arguments.length;q++)z.push(s(arguments[q]));return z.join(" ")}q=1;for(var N=arguments,V=N.length,Z=String(R).replace(n,function(H){if(H==="%%")return"%";if(q>=V)return H;switch(H){case"%s":return String(N[q++]);case"%d":return Number(N[q++]);case"%j":try{return JSON.stringify(N[q++])}catch{return"[Circular]"}default:return H}}),j=N[q];q<V;j=N[++q])h(j)||!m(j)?Z+=" "+j:Z+=" "+s(j);return Z},x.deprecate=function(R,z){if(p!==void 0&&p.noDeprecation===!0)return R;if(p===void 0)return function(){return x.deprecate(R,z).apply(this,arguments)};var q=!1;return function(){if(!q){if(p.throwDeprecation)throw new Error(z);p.traceDeprecation?console.trace(z):console.error(z),q=!0}return R.apply(this,arguments)}};var M={},b=/^$/;if(p.env.NODE_DEBUG){var f=p.env.NODE_DEBUG;f=f.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+f+"$","i")}function s(R,z){var q={seen:[],stylize:o};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),u(z)?q.showHidden=z:z&&x._extend(q,z),g(q.showHidden)&&(q.showHidden=!1),g(q.depth)&&(q.depth=2),g(q.colors)&&(q.colors=!1),g(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=t),r(q,R,q.depth)}function t(R,z){var q=s.styles[z];return q?"\x1B["+s.colors[q][0]+"m"+R+"\x1B["+s.colors[q][1]+"m":R}function o(R,z){return R}function r(R,z,q){if(R.customInspect&&z&&A(z.inspect)&&z.inspect!==x.inspect&&(!z.constructor||z.constructor.prototype!==z)){var N=z.inspect(q,R);return w(N)||(N=r(R,N,q)),N}var V=function(ee,Q){if(g(Q))return ee.stylize("undefined","undefined");if(w(Q)){var X="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(X,"string")}return c(Q)?ee.stylize(""+Q,"number"):u(Q)?ee.stylize(""+Q,"boolean"):h(Q)?ee.stylize("null","null"):void 0}(R,z);if(V)return V;var Z=Object.keys(z),j=function(ee){var Q={};return ee.forEach(function(X,se){Q[X]=!0}),Q}(Z);if(R.showHidden&&(Z=Object.getOwnPropertyNames(z)),_(z)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return i(z);if(Z.length===0){if(A(z)){var H=z.name?": "+z.name:"";return R.stylize("[Function"+H+"]","special")}if(v(z))return R.stylize(RegExp.prototype.toString.call(z),"regexp");if(T(z))return R.stylize(Date.prototype.toString.call(z),"date");if(_(z))return i(z)}var Y,ie="",re=!1,ne=["{","}"];return l(z)&&(re=!0,ne=["[","]"]),A(z)&&(ie=" [Function"+(z.name?": "+z.name:"")+"]"),v(z)&&(ie=" "+RegExp.prototype.toString.call(z)),T(z)&&(ie=" "+Date.prototype.toUTCString.call(z)),_(z)&&(ie=" "+i(z)),Z.length!==0||re&&z.length!=0?q<0?v(z)?R.stylize(RegExp.prototype.toString.call(z),"regexp"):R.stylize("[Object]","special"):(R.seen.push(z),Y=re?function(ee,Q,X,se,ce){for(var le=[],de=0,be=Q.length;de<be;++de)D(Q,String(de))?le.push(a(ee,Q,X,se,String(de),!0)):le.push("");return ce.forEach(function(_e){_e.match(/^\d+$/)||le.push(a(ee,Q,X,se,_e,!0))}),le}(R,z,q,j,Z):Z.map(function(ee){return a(R,z,q,j,ee,re)}),R.seen.pop(),function(ee,Q,X){return ee.reduce(function(se,ce){return ce.indexOf(`
`),se+ce.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?X[0]+(Q===""?"":Q+`
 `)+" "+ee.join(`,
  `)+" "+X[1]:X[0]+Q+" "+ee.join(", ")+" "+X[1]}(Y,ie,ne)):ne[0]+ie+ne[1]}function i(R){return"["+Error.prototype.toString.call(R)+"]"}function a(R,z,q,N,V,Z){var j,H,Y;if((Y=Object.getOwnPropertyDescriptor(z,V)||{value:z[V]}).get?H=Y.set?R.stylize("[Getter/Setter]","special"):R.stylize("[Getter]","special"):Y.set&&(H=R.stylize("[Setter]","special")),D(N,V)||(j="["+V+"]"),H||(R.seen.indexOf(Y.value)<0?(H=h(q)?r(R,Y.value,null):r(R,Y.value,q-1)).indexOf(`
`)>-1&&(H=Z?H.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):`
`+H.split(`
`).map(function(ie){return"   "+ie}).join(`
`)):H=R.stylize("[Circular]","special")),g(j)){if(Z&&V.match(/^\d+$/))return H;(j=JSON.stringify(""+V)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=R.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=R.stylize(j,"string"))}return j+": "+H}function l(R){return Array.isArray(R)}function u(R){return typeof R=="boolean"}function h(R){return R===null}function c(R){return typeof R=="number"}function w(R){return typeof R=="string"}function g(R){return R===void 0}function v(R){return m(R)&&d(R)==="[object RegExp]"}function m(R){return typeof R=="object"&&R!==null}function T(R){return m(R)&&d(R)==="[object Date]"}function _(R){return m(R)&&(d(R)==="[object Error]"||R instanceof Error)}function A(R){return typeof R=="function"}function d(R){return Object.prototype.toString.call(R)}function C(R){return R<10?"0"+R.toString(10):R.toString(10)}x.debuglog=function(R){if(R=R.toUpperCase(),!M[R])if(b.test(R)){var z=p.pid;M[R]=function(){var q=x.format.apply(x,arguments);console.error("%s %d: %s",R,z,q)}}else M[R]=function(){};return M[R]},x.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.types=e(41088),x.isArray=l,x.isBoolean=u,x.isNull=h,x.isNullOrUndefined=function(R){return R==null},x.isNumber=c,x.isString=w,x.isSymbol=function(R){return typeof R=="symbol"},x.isUndefined=g,x.isRegExp=v,x.types.isRegExp=v,x.isObject=m,x.isDate=T,x.types.isDate=T,x.isError=_,x.types.isNativeError=_,x.isFunction=A,x.isPrimitive=function(R){return R===null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||typeof R=="symbol"||R===void 0},x.isBuffer=e(75272);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(R,z){return Object.prototype.hasOwnProperty.call(R,z)}x.log=function(){var R,z;console.log("%s - %s",(z=[C((R=new Date).getHours()),C(R.getMinutes()),C(R.getSeconds())].join(":"),[R.getDate(),k[R.getMonth()],z].join(" ")),x.format.apply(x,arguments))},x.inherits=e(6768),x._extend=function(R,z){if(!z||!m(z))return R;for(var q=Object.keys(z),N=q.length;N--;)R[q[N]]=z[q[N]];return R};var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function L(R,z){if(!R){var q=new Error("Promise was rejected with a falsy value");q.reason=R,R=q}return z(R)}x.promisify=function(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&R[O]){var z;if(typeof(z=R[O])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(z,O,{value:z,enumerable:!1,writable:!1,configurable:!0}),z}function z(){for(var q,N,V=new Promise(function(H,Y){q=H,N=Y}),Z=[],j=0;j<arguments.length;j++)Z.push(arguments[j]);Z.push(function(H,Y){H?N(H):q(Y)});try{R.apply(this,Z)}catch(H){N(H)}return V}return Object.setPrototypeOf(z,Object.getPrototypeOf(R)),O&&Object.defineProperty(z,O,{value:z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(z,y(R))},x.promisify.custom=O,x.callbackify=function(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var q=[],N=0;N<arguments.length;N++)q.push(arguments[N]);var V=q.pop();if(typeof V!="function")throw new TypeError("The last argument must be of type Function");var Z=this,j=function(){return V.apply(Z,arguments)};R.apply(this,q).then(function(H){p.nextTick(j.bind(null,null,H))},function(H){p.nextTick(L.bind(null,H,j))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(R)),Object.defineProperties(z,y(R)),z}},5408:function(S,x,e){var p=e(13380);S.exports=function(y){return p("webgl",y)}},96632:function(S,x,e){"use strict";var p=e(46492),y=e(63436),n=e(57916),M=e(99676),b=e(2304),f=M("Object.prototype.toString"),s=e(46672)(),t=typeof globalThis>"u"?e.g:globalThis,o=y(),r=M("String.prototype.slice"),i=Object.getPrototypeOf,a=M("Array.prototype.indexOf",!0)||function(u,h){for(var c=0;c<u.length;c+=1)if(u[c]===h)return c;return-1},l={__proto__:null};p(o,s&&b&&i?function(u){var h=new t[u];if(Symbol.toStringTag in h){var c=i(h),w=b(c,Symbol.toStringTag);if(!w){var g=i(c);w=b(g,Symbol.toStringTag)}l["$"+u]=n(w.get)}}:function(u){var h=new t[u],c=h.slice||h.set;c&&(l["$"+u]=n(c))}),S.exports=function(u){if(!u||typeof u!="object")return!1;if(!s){var h=r(f(u),8,-1);return a(o,h)>-1?h:h==="Object"&&function(c){var w=!1;return p(l,function(g,v){if(!w)try{g(c),w=r(v,1)}catch{}}),w}(u)}return b?function(c){var w=!1;return p(l,function(g,v){if(!w)try{"$"+g(c)===v&&(w=r(v,1))}catch{}}),w}(u):null}},67020:function(S,x,e){var p=e(38700),y=e(50896),n=p.instance();function M(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}M.prototype=new p.baseCalendar,y(M.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(i,a){if(typeof i=="string"){var l=i.match(f);return l?l[0]:""}var u=this._validateYear(i),h=i.month(),c=""+this.toChineseMonth(u,h);return a&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,h)&&(c+="i"),c},monthNames:function(i){if(typeof i=="string"){var a=i.match(s);return a?a[0]:""}var l=this._validateYear(i),u=i.month(),h=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h="\u95F0"+h),h},monthNamesShort:function(i){if(typeof i=="string"){var a=i.match(t);return a?a[0]:""}var l=this._validateYear(i),u=i.month(),h=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(h="\u95F0"+h),h},parseMonth:function(i,a){i=this._validateYear(i);var l,u=parseInt(a);if(isNaN(u))a[0]==="\u95F0"&&(l=!0,a=a.substring(1)),a[a.length-1]==="\u6708"&&(a=a.substring(0,a.length-1)),u=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(a);else{var h=a[a.length-1];l=h==="i"||h==="I"}return this.toMonthIndex(i,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(i,a){if(i.year&&(i=i.year()),typeof i!="number"||i<1888||i>2111)throw a.replace(/\{0\}/,this.local.name);return i},toMonthIndex:function(i,a,l){var u=this.intercalaryMonth(i);if(l&&a!==u||a<1||a>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&a<=u?a-1:a:a-1},toChineseMonth:function(i,a){i.year&&(a=(i=i.year()).month());var l=this.intercalaryMonth(i);if(a<0||a>(l?12:11))throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?a<l?a+1:a:a+1},intercalaryMonth:function(i){return i=this._validateYear(i),o[i-o[0]]>>13},isIntercalaryMonth:function(i,a){i.year&&(a=(i=i.year()).month());var l=this.intercalaryMonth(i);return!!l&&l===a},leapYear:function(i){return this.intercalaryMonth(i)!==0},weekOfYear:function(i,a,l){var u,h=this._validateYear(i,p.local.invalidyear),c=r[h-r[0]],w=c>>9&4095,g=c>>5&15,v=31&c;(u=n.newDate(w,g,v)).add(4-(u.dayOfWeek()||7),"d");var m=this.toJD(i,a,l)-u.toJD();return 1+Math.floor(m/7)},monthsInYear:function(i){return this.leapYear(i)?13:12},daysInMonth:function(i,a){i.year&&(a=i.month(),i=i.year()),i=this._validateYear(i);var l=o[i-o[0]];if(a>(l>>13?12:11))throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-a?30:29},weekDay:function(i,a,l){return(this.dayOfWeek(i,a,l)||7)<6},toJD:function(i,a,l){var u=this._validate(i,c,l,p.local.invalidDate);i=this._validateYear(u.year()),a=u.month(),l=u.day();var h=this.isIntercalaryMonth(i,a),c=this.toChineseMonth(i,a),w=function(g,v,m,T,_){var A,d,C;if(typeof g=="object")d=g,A=v||{};else{var k;if(!(typeof g=="number"&&g>=1888&&g<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof v=="number"&&v>=1&&v<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof m=="number"&&m>=1&&m<=30))throw new Error("Lunar day outside range 1 - 30");typeof T=="object"?(k=!1,A=T):(k=!!T,A={}),d={year:g,month:v,day:m,isIntercalary:k}}C=d.day-1;var D,O=o[d.year-o[0]],L=O>>13;D=L&&(d.month>L||d.isIntercalary)?d.month:d.month-1;for(var R=0;R<D;R++)C+=O&1<<12-R?30:29;var z=r[d.year-r[0]],q=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+C);return A.year=q.getFullYear(),A.month=1+q.getMonth(),A.day=q.getDate(),A}(i,c,l,h);return n.toJD(w.year,w.month,w.day)},fromJD:function(i){var a=n.fromJD(i),l=function(h,c,w,g){var v,m;if(typeof h=="object")v=h,m=c||{};else{if(!(typeof h=="number"&&h>=1888&&h<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof w=="number"&&w>=1&&w<=31))throw new Error("Solar day outside range 1 - 31");v={year:h,month:c,day:w},m={}}var T=r[v.year-r[0]],_=v.year<<9|v.month<<5|v.day;m.year=_>=T?v.year:v.year-1,T=r[m.year-r[0]];var A,d=new Date(T>>9&4095,(T>>5&15)-1,31&T),C=new Date(v.year,v.month-1,v.day);A=Math.round((C-d)/864e5);var k,D=o[m.year-o[0]];for(k=0;k<13;k++){var O=D&1<<12-k?30:29;if(A<O)break;A-=O}var L=D>>13;return!L||k<L?(m.isIntercalary=!1,m.month=1+k):k===L?(m.isIntercalary=!0,m.month=k):(m.isIntercalary=!1,m.month=k),m.day=1+A,m}(a.year(),a.month(),a.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(i){var a=i.match(b),l=this._validateYear(+a[1]),u=+a[2],h=!!a[3],c=this.toMonthIndex(l,u,h),w=+a[4];return this.newDate(l,c,w)},add:function(i,a,l){var u=i.year(),h=i.month(),c=this.isIntercalaryMonth(u,h),w=this.toChineseMonth(u,h),g=Object.getPrototypeOf(M.prototype).add.call(this,i,a,l);if(l==="y"){var v=g.year(),m=g.month(),T=this.isIntercalaryMonth(v,w),_=c&&T?this.toMonthIndex(v,w,!0):this.toMonthIndex(v,w,!1);_!==m&&g.month(_)}return g}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,s=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;p.calendars.chinese=M;var o=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(S,x,e){var p=e(38700),y=e(50896);function n(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var b=this._validate(M,this.minMonth,this.minDay,p.local.invalidYear);return(M=b.year()+(b.year()<0?1:0))%4==3||M%4==-1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(M,b,f){var s=this.newDate(M,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(M,b){var f=this._validate(M,b,this.minDay,p.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(M,b,f){return(this.dayOfWeek(M,b,f)||7)<6},toJD:function(M,b,f){var s=this._validate(M,b,f,p.local.invalidDate);return(M=s.year())<0&&M++,s.day()+30*(s.month()-1)+365*(M-1)+Math.floor(M/4)+this.jdEpoch-1},fromJD:function(M){var b=Math.floor(M)+.5-this.jdEpoch,f=Math.floor((b-Math.floor((b+366)/1461))/365)+1;f<=0&&f--,b=Math.floor(M)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(f,s,t)}}),p.calendars.coptic=n},55668:function(S,x,e){var p=e(38700),y=e(50896);function n(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,f,s){return(this._validate(b,f,s,p.local.invalidDate).day()+1)%8},weekDay:function(b,f,s){var t=this.dayOfWeek(b,f,s);return t>=2&&t<=6},extraInfo:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);return{century:M[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);return b=t.year()+(t.year()<0?1:0),f=t.month(),(s=t.day())+(f>1?16:0)+(f>2?32*(f-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(b/400)+1;b-=400*(f-1),b+=b>15?16:0;var s=Math.floor(b/32)+1,t=b-32*(s-1)+1;return this.newDate(f<=0?f-1:f,s,t)}});var M={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=n},65168:function(S,x,e){var p=e(38700),y=e(50896);function n(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var b=this._validate(M,this.minMonth,this.minDay,p.local.invalidYear);return(M=b.year()+(b.year()<0?1:0))%4==3||M%4==-1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(M,b,f){var s=this.newDate(M,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(M,b){var f=this._validate(M,b,this.minDay,p.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(M,b,f){return(this.dayOfWeek(M,b,f)||7)<6},toJD:function(M,b,f){var s=this._validate(M,b,f,p.local.invalidDate);return(M=s.year())<0&&M++,s.day()+30*(s.month()-1)+365*(M-1)+Math.floor(M/4)+this.jdEpoch-1},fromJD:function(M){var b=Math.floor(M)+.5-this.jdEpoch,f=Math.floor((b-Math.floor((b+366)/1461))/365)+1;f<=0&&f--,b=Math.floor(M)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(b/30)+1,t=b-30*(s-1)+1;return this.newDate(f,s,t)}}),p.calendars.ethiopian=n},2084:function(S,x,e){var p=e(38700),y=e(50896);function n(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function M(b,f){return b-f*Math.floor(b/f)}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(b){return M(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear).year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,f){return b.year&&(f=b.month(),b=b.year()),this._validate(b,f,this.minDay,p.local.invalidMonth),f===12&&this.leapYear(b)||f===8&&M(this.daysInYear(b),10)===5?30:f===9&&M(this.daysInYear(b),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==6},extraInfo:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);b=t.year(),f=t.month(),s=t.day();var o=b<=0?b+1:b,r=this.jdEpoch+this._delay1(o)+this._delay2(o)+s+1;if(f<7){for(var i=7;i<=this.monthsInYear(b);i++)r+=this.daysInMonth(b,i);for(i=1;i<f;i++)r+=this.daysInMonth(b,i)}else for(i=7;i<f;i++)r+=this.daysInMonth(b,i);return r},_delay1:function(b){var f=Math.floor((235*b-234)/19),s=12084+13753*f,t=29*f+Math.floor(s/25920);return M(3*(t+1),7)<3&&t++,t},_delay2:function(b){var f=this._delay1(b-1),s=this._delay1(b);return this._delay1(b+1)-s==356?2:s-f==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var f=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var s=b<this.toJD(f,1,1)?7:1;b>this.toJD(f,s,this.daysInMonth(f,s));)s++;var t=b-this.toJD(f,s,1)+1;return this.newDate(f,s,t)}}),p.calendars.hebrew=n},26368:function(S,x,e){var p=e(38700),y=e(50896);function n(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){return(11*this._validate(M,this.minMonth,this.minDay,p.local.invalidYear).year()+14)%30<11},weekOfYear:function(M,b,f){var s=this.newDate(M,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(M){return this.leapYear(M)?355:354},daysInMonth:function(M,b){var f=this._validate(M,b,this.minDay,p.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(M,b,f){return this.dayOfWeek(M,b,f)!==5},toJD:function(M,b,f){var s=this._validate(M,b,f,p.local.invalidDate);return M=s.year(),b=s.month(),M=M<=0?M+1:M,(f=s.day())+Math.ceil(29.5*(b-1))+354*(M-1)+Math.floor((3+11*M)/30)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M)+.5;var b=Math.floor((30*(M-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var f=Math.min(12,Math.ceil((M-29-this.toJD(b,1,1))/29.5)+1),s=M-this.toJD(b,f,1)+1;return this.newDate(b,f,s)}}),p.calendars.islamic=n},24747:function(S,x,e){var p=e(38700),y=e(50896);function n(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var b=this._validate(M,this.minMonth,this.minDay,p.local.invalidYear);return(M=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(M,b,f){var s=this.newDate(M,b,f);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(M,b){var f=this._validate(M,b,this.minDay,p.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(M,b,f){return(this.dayOfWeek(M,b,f)||7)<6},toJD:function(M,b,f){var s=this._validate(M,b,f,p.local.invalidDate);return M=s.year(),b=s.month(),f=s.day(),M<0&&M++,b<=2&&(M--,b+=12),Math.floor(365.25*(M+4716))+Math.floor(30.6001*(b+1))+f-1524.5},fromJD:function(M){var b=Math.floor(M+.5)+1524,f=Math.floor((b-122.1)/365.25),s=Math.floor(365.25*f),t=Math.floor((b-s)/30.6001),o=t-Math.floor(t<14?1:13),r=f-Math.floor(o>2?4716:4715),i=b-s-Math.floor(30.6001*t);return r<=0&&r--,this.newDate(r,o,i)}}),p.calendars.julian=n},65616:function(S,x,e){var p=e(38700),y=e(50896);function n(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function M(f,s){return f-s*Math.floor(f/s)}function b(f,s){return M(f-1,s)+1}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(f){f=this._validate(f,this.minMonth,this.minDay,p.local.invalidYear).year();var s=Math.floor(f/400);return f%=400,f+=f<0?400:0,s+"."+Math.floor(f/20)+"."+f%20},forYear:function(f){if((f=f.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<f.length;t++){var o=parseInt(f[t],10);if(Math.abs(o)>19||t>0&&o<0)throw"Invalid Mayan year";s=20*s+o}return s},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(f,s,t){return this._validate(f,s,t,p.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(f,s){return this._validate(f,s,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,s,t){return this._validate(f,s,t,p.local.invalidDate).day()},weekDay:function(f,s,t){return this._validate(f,s,t,p.local.invalidDate),!0},extraInfo:function(f,s,t){var o=this._validate(f,s,t,p.local.invalidDate).toJD(),r=this._toHaab(o),i=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[i[0]-1],tzolkinDay:i[0],tzolkinTrecena:i[1]}},_toHaab:function(f){var s=M(8+(f-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,M(s,20)]},_toTzolkin:function(f){return[b(20+(f-=this.jdEpoch),20),b(f+4,13)]},toJD:function(f,s,t){var o=this._validate(f,s,t,p.local.invalidDate);return o.day()+20*o.month()+360*o.year()+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var s=Math.floor(f/360);f%=360,f+=f<0?360:0;var t=Math.floor(f/20),o=f%20;return this.newDate(s,t,o)}}),p.calendars.mayan=n},30632:function(S,x,e){var p=e(38700),y=e(50896);function n(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar;var M=p.instance("gregorian");y(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return M.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidMonth);(b=t.year())<0&&b++;for(var o=t.day(),r=1;r<t.month();r++)o+=this.daysPerMonth[r-1];return o+M.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var f=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(f+1,1,1);)f++;for(var s=b-Math.floor(this.toJD(f,1,1)+.5)+1,t=1;s>this.daysInMonth(f,t);)s-=this.daysInMonth(f,t),t++;return this.newDate(f,t,s)}}),p.calendars.nanakshahi=n},73040:function(S,x,e){var p=e(38700),y=e(50896);function n(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(M){return this.daysInYear(M)!==this.daysPerYear},weekOfYear:function(M,b,f){var s=this.newDate(M,b,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(M){if(M=this._validate(M,this.minMonth,this.minDay,p.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[M]===void 0)return this.daysPerYear;for(var b=0,f=this.minMonth;f<=12;f++)b+=this.NEPALI_CALENDAR_DATA[M][f];return b},daysInMonth:function(M,b){return M.year&&(b=M.month(),M=M.year()),this._validate(M,b,this.minDay,p.local.invalidMonth),this.NEPALI_CALENDAR_DATA[M]===void 0?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[M][b]},weekDay:function(M,b,f){return this.dayOfWeek(M,b,f)!==6},toJD:function(M,b,f){var s=this._validate(M,b,f,p.local.invalidDate);M=s.year(),b=s.month(),f=s.day();var t=p.instance(),o=0,r=b,i=M;this._createMissingCalendarData(M);var a=M-(r>9||r===9&&f>=this.NEPALI_CALENDAR_DATA[i][0]?56:57);for(b!==9&&(o=f,r--);r!==9;)r<=0&&(r=12,i--),o+=this.NEPALI_CALENDAR_DATA[i][r],r--;return b===9?(o+=f-this.NEPALI_CALENDAR_DATA[i][0])<0&&(o+=t.daysInYear(a)):o+=this.NEPALI_CALENDAR_DATA[i][9]-this.NEPALI_CALENDAR_DATA[i][0],t.newDate(a,1,1).add(o,"d").toJD()},fromJD:function(M){var b=p.instance().fromJD(M),f=b.year(),s=b.dayOfYear(),t=f+56;this._createMissingCalendarData(t);for(var o=9,r=this.NEPALI_CALENDAR_DATA[t][0],i=this.NEPALI_CALENDAR_DATA[t][o]-r+1;s>i;)++o>12&&(o=1,t++),i+=this.NEPALI_CALENDAR_DATA[t][o];var a=this.NEPALI_CALENDAR_DATA[t][o]-(i-s);return this.newDate(t,o,a)},_createMissingCalendarData:function(M){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var f=M-1;f<M+2;f++)this.NEPALI_CALENDAR_DATA[f]===void 0&&(this.NEPALI_CALENDAR_DATA[f]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=n},1104:function(S,x,e){var p=e(38700),y=e(50896);function n(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function M(b,f){return b-f*Math.floor(b/f)}n.prototype=new p.baseCalendar,y(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return 682*((f.year()-(f.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==5},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);b=t.year(),f=t.month(),s=t.day();var o=b-(b>=0?474:473),r=474+M(o,2820);return s+(f<=7?31*(f-1):30*(f-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(b){var f=(b=Math.floor(b)+.5)-this.toJD(475,1,1),s=Math.floor(f/1029983),t=M(f,1029983),o=2820;if(t!==1029982){var r=Math.floor(t/366),i=M(t,366);o=Math.floor((2134*r+2816*i+2815)/1028522)+r+1}var a=o+2820*s+474;a=a<=0?a-1:a;var l=b-this.toJD(a,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),h=b-this.toJD(a,u,1)+1;return this.newDate(a,u,h)}}),p.calendars.persian=n,p.calendars.jalali=n},51456:function(S,x,e){var p=e(38700),y=e(50896),n=p.instance();function M(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}M.prototype=new p.baseCalendar,y(M.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return b=this._t2gYear(f.year()),n.leapYear(b)},weekOfYear:function(b,f,s){var t=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return b=this._t2gYear(t.year()),n.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);return b=this._t2gYear(t.year()),n.toJD(b,t.month(),t.day())},fromJD:function(b){var f=n.fromJD(b),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),p.calendars.taiwan=M},4592:function(S,x,e){var p=e(38700),y=e(50896),n=p.instance();function M(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}M.prototype=new p.baseCalendar,y(M.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return b=this._t2gYear(f.year()),n.leapYear(b)},weekOfYear:function(b,f,s){var t=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return b=this._t2gYear(t.year()),n.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,f){var s=this._validate(b,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(b,f,s){return(this.dayOfWeek(b,f,s)||7)<6},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate);return b=this._t2gYear(t.year()),n.toJD(b,t.month(),t.day())},fromJD:function(b){var f=n.fromJD(b),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),p.calendars.thai=M},45348:function(S,x,e){var p=e(38700),y=e(50896);function n(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,y(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var f=this._validate(b,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(b,f,s){var t=this.newDate(b,f,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var f=0,s=1;s<=12;s++)f+=this.daysInMonth(b,s);return f},daysInMonth:function(b,f){for(var s=this._validate(b,f,this.minDay,p.local.invalidMonth).toJD()-24e5+.5,t=0,o=0;o<M.length;o++){if(M[o]>s)return M[t]-M[t-1];t++}return 30},weekDay:function(b,f,s){return this.dayOfWeek(b,f,s)!==5},toJD:function(b,f,s){var t=this._validate(b,f,s,p.local.invalidDate),o=12*(t.year()-1)+t.month()-15292;return t.day()+M[o-1]-1+24e5-.5},fromJD:function(b){for(var f=b-24e5+.5,s=0,t=0;t<M.length&&!(M[t]>f);t++)s++;var o=s+15292,r=Math.floor((o-1)/12),i=r+1,a=o-12*r,l=f-M[s-1]+1;return this.newDate(i,a,l)},isValid:function(b,f,s){var t=p.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=b.year!=null?b.year:b)>=1276&&b<=1500),t},_validate:function(b,f,s,t){var o=p.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw t.replace(/\{0\}/,this.local.name);return o}}),p.calendars.ummalqura=n;var M=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(S,x,e){var p=e(50896);function y(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function n(t,o,r,i){if(this._calendar=t,this._year=o,this._month=r,this._day=i,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function M(t,o){return"000000".substring(0,o-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function f(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}p(y.prototype,{instance:function(t,o){t=(t||"gregorian").toLowerCase(),o=o||"";var r=this._localCals[t+"-"+o];if(!r&&this.calendars[t]&&(r=new this.calendars[t](o),this._localCals[t+"-"+o]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,o,r,i,a){return(i=(t!=null&&t.year?t.calendar():typeof i=="string"?this.instance(i,a):i)||this.instance()).newDate(t,o,r)},substituteDigits:function(t){return function(o){return(o+"").replace(/[0-9]/g,function(r){return t[r]})}},substituteChineseDigits:function(t,o){return function(r){for(var i="",a=0;r>0;){var l=r%10;i=(l===0?"":t[l]+o[a])+i,a++,r=Math.floor(r/10)}return i.indexOf(t[1]+o[1])===0&&(i=i.substr(1)),i||t[0]}}}),p(n.prototype,{newDate:function(t,o,r){return this._calendar.newDate(t??this,o,r)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,o,r){if(!this._calendar.isValid(t,o,r))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=o,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,o){return this._calendar.add(this,t,o)},set:function(t,o){return this._calendar.set(this,t,o)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var o=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return o===0?0:o<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+M(Math.abs(this.year()),4)+"-"+M(this.month(),2)+"-"+M(this.day(),2)}}),p(b.prototype,{_validateLevel:0,newDate:function(t,o,r){return t==null?this.today():(t.year&&(this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),r=t.day(),o=t.month(),t=t.year()),new n(this,t,o,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var o=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(o.year()<0?"-":"")+M(Math.abs(o.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,o){var r=this._validate(t,o,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,o){var r=(o+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var o=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(o)?366:365},dayOfYear:function(t,o,r){var i=this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return i.toJD()-this.newDate(i.year(),this.fromMonthOfYear(i.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,o,r){var i=this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(i))+2)%this.daysInWeek()},extraInfo:function(t,o,r){return this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,o,r){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,o,r),o,r)},_add:function(t,o,r){if(this._validateLevel++,r==="d"||r==="w"){var i=t.toJD()+o*(r==="w"?this.daysInWeek():1),a=t.calendar().fromJD(i);return this._validateLevel--,[a.year(),a.month(),a.day()]}try{var l=t.year()+(r==="y"?o:0),u=t.monthOfYear()+(r==="m"?o:0);a=t.day(),r==="y"?(t.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),a=Math.min(a,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):r==="m"&&(function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var w=c.monthsInYear(l);u>w-1+c.minMonth;)l++,u-=w,w=c.monthsInYear(l)}(this),a=Math.min(a,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var h=[l,this.fromMonthOfYear(l,u),a];return this._validateLevel--,h}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,o,r,i){if(!(this.hasYearZero||i!=="y"&&i!=="m"||o[0]!==0&&t.year()>0==o[0]>0)){var a={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[i],l=r<0?-1:1;o=this._add(t,r*a[0]+l*a[1],a[2])}return t.date(o[0],o[1],o[2])},set:function(t,o,r){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var i=r==="y"?o:t.year(),a=r==="m"?o:t.month(),l=r==="d"?o:t.day();return r!=="y"&&r!=="m"||(l=Math.min(l,this.daysInMonth(i,a))),t.date(i,a,l)},isValid:function(t,o,r){this._validateLevel++;var i=this.hasYearZero||t!==0;if(i){var a=this.newDate(t,o,this.minDay);i=o>=this.minMonth&&o-this.minMonth<this.monthsInYear(a)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(a)}return this._validateLevel--,i},toJSDate:function(t,o,r){var i=this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(i)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,o,r,i){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,o,r))throw i.replace(/\{0\}/,this.local.name);var a=this.newDate(t,o,r);return this._validateLevel--,a}catch(l){throw this._validateLevel--,l}}}),f.prototype=new b,p(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var o=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=o.year()+(o.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,o,r){var i=this.newDate(t,o,r);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(t,o){var r=this._validate(t,o,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(t,o,r){return(this.dayOfWeek(t,o,r)||7)<6},toJD:function(t,o,r){var i=this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=i.year(),o=i.month(),r=i.day(),t<0&&t++,o<3&&(o+=12,t--);var a=Math.floor(t/100),l=2-a+Math.floor(a/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(o+1))+r+l-1524.5},fromJD:function(t){var o=Math.floor(t+.5),r=Math.floor((o-186721625e-2)/36524.25),i=1524+(r=o+1+r-Math.floor(r/4)),a=Math.floor((i-122.1)/365.25),l=Math.floor(365.25*a),u=Math.floor((i-l)/30.6001),h=i-l-Math.floor(30.6001*u),c=u-(u>13.5?13:1),w=a-(c>2.5?4716:4715);return w<=0&&w--,this.newDate(w,c,h)},toJSDate:function(t,o,r){var i=this._validate(t,o,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),a=new Date(i.year(),i.month()-1,i.day());return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a.setHours(a.getHours()>12?a.getHours()+2:0),a},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=S.exports=new y;s.cdate=n,s.baseCalendar=b,s.calendars.gregorian=f},15168:function(S,x,e){var p=e(50896),y=e(38700);p(y.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),y.local=y.regionalOptions[""],p(y.cdate.prototype,{formatDate:function(n,M){return typeof n!="string"&&(M=n,n=""),this._calendar.formatDate(n||"",this,M)}}),p(y.baseCalendar.prototype,{UNIX_EPOCH:y.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:y.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,M,b){if(typeof n!="string"&&(b=M,M=n,n=""),!M)return"";if(M.calendar()!==this)throw y.local.invalidFormat||y.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat;for(var f,s,t,o=(b=b||{}).dayNamesShort||this.local.dayNamesShort,r=b.dayNames||this.local.dayNames,i=b.monthNumbers||this.local.monthNumbers,a=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(d,C){for(var k=1;A+k<n.length&&n.charAt(A+k)===d;)k++;return A+=k-1,Math.floor(k/(C||1))>1}),h=function(d,C,k,D){var O=""+C;if(u(d,D))for(;O.length<k;)O="0"+O;return O},c=this,w=function(d){return typeof i=="function"?i.call(c,d,u("m")):m(h("m",d.month(),2))},g=function(d,C){return C?typeof l=="function"?l.call(c,d):l[d.month()-c.minMonth]:typeof a=="function"?a.call(c,d):a[d.month()-c.minMonth]},v=this.local.digits,m=function(d){return b.localNumbers&&v?v(d):d},T="",_=!1,A=0;A<n.length;A++)if(_)n.charAt(A)!=="'"||u("'")?T+=n.charAt(A):_=!1;else switch(n.charAt(A)){case"d":T+=m(h("d",M.day(),2));break;case"D":T+=(f=M.dayOfWeek(),s=o,t=r,u("D")?t[f]:s[f]);break;case"o":T+=h("o",M.dayOfYear(),3);break;case"w":T+=h("w",M.weekOfYear(),2);break;case"m":T+=w(M);break;case"M":T+=g(M,u("M"));break;case"y":T+=u("y",2)?M.year():(M.year()%100<10?"0":"")+M.year()%100;break;case"Y":u("Y",2),T+=M.formatYear();break;case"J":T+=M.toJD();break;case"@":T+=(M.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":T+=(M.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?T+="'":_=!0;break;default:T+=n.charAt(A)}return T},parseDate:function(n,M,b){if(M==null)throw y.local.invalidArguments||y.regionalOptions[""].invalidArguments;if((M=typeof M=="object"?M.toString():M+"")==="")return null;n=n||this.local.dateFormat;var f=(b=b||{}).shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var s=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,o=b.parseMonth||this.local.parseMonth,r=b.monthNumbers||this.local.monthNumbers,i=b.monthNamesShort||this.local.monthNamesShort,a=b.monthNames||this.local.monthNames,l=-1,u=-1,h=-1,c=-1,w=-1,g=!1,v=!1,m=function(z,q){for(var N=1;O+N<n.length&&n.charAt(O+N)===z;)N++;return O+=N-1,Math.floor(N/(q||1))>1},T=function(z,q){var N=m(z,q),V=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],Z=new RegExp("^-?\\d{1,"+V+"}"),j=M.substring(D).match(Z);if(!j)throw(y.local.missingNumberAt||y.regionalOptions[""].missingNumberAt).replace(/\{0\}/,D);return D+=j[0].length,parseInt(j[0],10)},_=this,A=function(){if(typeof r=="function"){m("m");var z=r.call(_,M.substring(D));return D+=z.length,z}return T("m")},d=function(z,q,N,V){for(var Z=m(z,V)?N:q,j=0;j<Z.length;j++)if(M.substr(D,Z[j].length).toLowerCase()===Z[j].toLowerCase())return D+=Z[j].length,j+_.minMonth;throw(y.local.unknownNameAt||y.regionalOptions[""].unknownNameAt).replace(/\{0\}/,D)},C=function(){if(typeof a=="function"){var z=m("M")?a.call(_,M.substring(D)):i.call(_,M.substring(D));return D+=z.length,z}return d("M",i,a)},k=function(){if(M.charAt(D)!==n.charAt(O))throw(y.local.unexpectedLiteralAt||y.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,D);D++},D=0,O=0;O<n.length;O++)if(v)n.charAt(O)!=="'"||m("'")?k():v=!1;else switch(n.charAt(O)){case"d":c=T("d");break;case"D":d("D",s,t);break;case"o":w=T("o");break;case"w":T("w");break;case"m":h=A();break;case"M":h=C();break;case"y":var L=O;g=!m("y",2),O=L,u=T("y",2);break;case"Y":u=T("Y",2);break;case"J":l=T("J")+.5,M.charAt(D)==="."&&(D++,T("J"));break;case"@":l=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":D=M.length;break;case"'":m("'")?k():v=!0;break;default:k()}if(D<M.length)throw y.local.unexpectedText||y.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&g&&(u+=f===-1?1900:this.today().year()-this.today().year()%100-(u<=f?0:100)),typeof h=="string"&&(h=o.call(this,u,h)),w>-1){h=1,c=w;for(var R=this.daysInMonth(u,h);c>R;R=this.daysInMonth(u,h))h++,c-=R}return l>-1?this.fromJD(l):this.newDate(u,h,c)},determineDate:function(n,M,b,f,s){b&&typeof b!="object"&&(s=f,f=b,b=null),typeof f!="string"&&(s=f,f="");var t=this;return M=M?M.newDate():null,n==null?M:typeof n=="string"?function(o){try{return t.parseDate(f,o,s)}catch{}for(var r=((o=o.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),i=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,a=i.exec(o);a;)r.add(parseInt(a[1],10),a[2]||"d"),a=i.exec(o);return r}(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?M:t.today().add(n,"d"):t.newDate(n)}})},21576:function(){},19768:function(){},63436:function(S,x,e){"use strict";var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],y=typeof globalThis>"u"?e.g:globalThis;S.exports=function(){for(var n=[],M=0;M<p.length;M++)typeof y[p[M]]=="function"&&(n[n.length]=p[M]);return n}},67756:function(S,x,e){"use strict";function p(ve,me,ye){ve.prototype=me.prototype=ye,ye.constructor=ve}function y(ve,me){var ye=Object.create(ve.prototype);for(var Se in me)ye[Se]=me[Se];return ye}function n(){}e.d(x,{qy:function(){return _e},Gz:function(){return ee}});var M=.7,b=1/M,f="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(f,",").concat(f,",").concat(f,"\\)$")),i=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),a=new RegExp("^rgba\\(".concat(f,",").concat(f,",").concat(f,",").concat(s,"\\)$")),l=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),h=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function v(ve){var me,ye;return ve=(ve+"").trim().toLowerCase(),(me=o.exec(ve))?(ye=me[1].length,me=parseInt(me[1],16),ye===6?m(me):ye===3?new A(me>>8&15|me>>4&240,me>>4&15|240&me,(15&me)<<4|15&me,1):ye===8?T(me>>24&255,me>>16&255,me>>8&255,(255&me)/255):ye===4?T(me>>12&15|me>>8&240,me>>8&15|me>>4&240,me>>4&15|240&me,((15&me)<<4|15&me)/255):null):(me=r.exec(ve))?new A(me[1],me[2],me[3],1):(me=i.exec(ve))?new A(255*me[1]/100,255*me[2]/100,255*me[3]/100,1):(me=a.exec(ve))?T(me[1],me[2],me[3],me[4]):(me=l.exec(ve))?T(255*me[1]/100,255*me[2]/100,255*me[3]/100,me[4]):(me=u.exec(ve))?L(me[1],me[2]/100,me[3]/100,1):(me=h.exec(ve))?L(me[1],me[2]/100,me[3]/100,me[4]):c.hasOwnProperty(ve)?m(c[ve]):ve==="transparent"?new A(NaN,NaN,NaN,0):null}function m(ve){return new A(ve>>16&255,ve>>8&255,255&ve,1)}function T(ve,me,ye,Se){return Se<=0&&(ve=me=ye=NaN),new A(ve,me,ye,Se)}function _(ve,me,ye,Se){return arguments.length===1?((Ie=ve)instanceof n||(Ie=v(Ie)),Ie?new A((Ie=Ie.rgb()).r,Ie.g,Ie.b,Ie.opacity):new A):new A(ve,me,ye,Se??1);var Ie}function A(ve,me,ye,Se){this.r=+ve,this.g=+me,this.b=+ye,this.opacity=+Se}function d(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b))}function C(){var ve=k(this.opacity);return"".concat(ve===1?"rgb(":"rgba(").concat(D(this.r),", ").concat(D(this.g),", ").concat(D(this.b)).concat(ve===1?")":", ".concat(ve,")"))}function k(ve){return isNaN(ve)?1:Math.max(0,Math.min(1,ve))}function D(ve){return Math.max(0,Math.min(255,Math.round(ve)||0))}function O(ve){return((ve=D(ve))<16?"0":"")+ve.toString(16)}function L(ve,me,ye,Se){return Se<=0?ve=me=ye=NaN:ye<=0||ye>=1?ve=me=NaN:me<=0&&(ve=NaN),new z(ve,me,ye,Se)}function R(ve){if(ve instanceof z)return new z(ve.h,ve.s,ve.l,ve.opacity);if(ve instanceof n||(ve=v(ve)),!ve)return new z;if(ve instanceof z)return ve;var me=(ve=ve.rgb()).r/255,ye=ve.g/255,Se=ve.b/255,Ie=Math.min(me,ye,Se),xe=Math.max(me,ye,Se),ue=NaN,ae=xe-Ie,pe=(xe+Ie)/2;return ae?(ue=me===xe?(ye-Se)/ae+6*(ye<Se):ye===xe?(Se-me)/ae+2:(me-ye)/ae+4,ae/=pe<.5?xe+Ie:2-xe-Ie,ue*=60):ae=pe>0&&pe<1?0:ue,new z(ue,ae,pe,ve.opacity)}function z(ve,me,ye,Se){this.h=+ve,this.s=+me,this.l=+ye,this.opacity=+Se}function q(ve){return(ve=(ve||0)%360)<0?ve+360:ve}function N(ve){return Math.max(0,Math.min(1,ve||0))}function V(ve,me,ye){return 255*(ve<60?me+(ye-me)*ve/60:ve<180?ye:ve<240?me+(ye-me)*(240-ve)/60:me)}function Z(ve,me,ye,Se,Ie){var xe=ve*ve,ue=xe*ve;return((1-3*ve+3*xe-ue)*me+(4-6*xe+3*ue)*ye+(1+3*ve+3*xe-3*ue)*Se+ue*Ie)/6}p(n,v,{copy:function(ve){return Object.assign(new this.constructor,this,ve)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return R(this).formatHsl()},formatRgb:g,toString:g}),p(A,_,y(n,{brighter:function(ve){return ve=ve==null?b:Math.pow(b,ve),new A(this.r*ve,this.g*ve,this.b*ve,this.opacity)},darker:function(ve){return ve=ve==null?M:Math.pow(M,ve),new A(this.r*ve,this.g*ve,this.b*ve,this.opacity)},rgb:function(){return this},clamp:function(){return new A(D(this.r),D(this.g),D(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d,formatHex:d,formatHex8:function(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b)).concat(O(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:C,toString:C})),p(z,function(ve,me,ye,Se){return arguments.length===1?R(ve):new z(ve,me,ye,Se??1)},y(n,{brighter:function(ve){return ve=ve==null?b:Math.pow(b,ve),new z(this.h,this.s,this.l*ve,this.opacity)},darker:function(ve){return ve=ve==null?M:Math.pow(M,ve),new z(this.h,this.s,this.l*ve,this.opacity)},rgb:function(){var ve=this.h%360+360*(this.h<0),me=isNaN(ve)||isNaN(this.s)?0:this.s,ye=this.l,Se=ye+(ye<.5?ye:1-ye)*me,Ie=2*ye-Se;return new A(V(ve>=240?ve-240:ve+120,Ie,Se),V(ve,Ie,Se),V(ve<120?ve+240:ve-120,Ie,Se),this.opacity)},clamp:function(){return new z(q(this.h),N(this.s),N(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ve=k(this.opacity);return"".concat(ve===1?"hsl(":"hsla(").concat(q(this.h),", ").concat(100*N(this.s),"%, ").concat(100*N(this.l),"%").concat(ve===1?")":", ".concat(ve,")"))}}));var j=function(ve){return function(){return ve}};function H(ve,me){var ye=me-ve;return ye?function(Se,Ie){return function(xe){return Se+xe*Ie}}(ve,ye):j(isNaN(ve)?me:ve)}var Y=function ve(me){var ye=function(Ie){return(Ie=+Ie)==1?H:function(xe,ue){return ue-xe?function(ae,pe,De){return ae=Math.pow(ae,De),pe=Math.pow(pe,De)-ae,De=1/De,function(Te){return Math.pow(ae+Te*pe,De)}}(xe,ue,Ie):j(isNaN(xe)?ue:xe)}}(me);function Se(Ie,xe){var ue=ye((Ie=_(Ie)).r,(xe=_(xe)).r),ae=ye(Ie.g,xe.g),pe=ye(Ie.b,xe.b),De=H(Ie.opacity,xe.opacity);return function(Te){return Ie.r=ue(Te),Ie.g=ae(Te),Ie.b=pe(Te),Ie.opacity=De(Te),Ie+""}}return Se.gamma=ve,Se}(1);function ie(ve){return function(me){var ye,Se,Ie=me.length,xe=new Array(Ie),ue=new Array(Ie),ae=new Array(Ie);for(ye=0;ye<Ie;++ye)Se=_(me[ye]),xe[ye]=Se.r||0,ue[ye]=Se.g||0,ae[ye]=Se.b||0;return xe=ve(xe),ue=ve(ue),ae=ve(ae),Se.opacity=1,function(pe){return Se.r=xe(pe),Se.g=ue(pe),Se.b=ae(pe),Se+""}}}function re(ve,me){var ye,Se=me?me.length:0,Ie=ve?Math.min(Se,ve.length):0,xe=new Array(Ie),ue=new Array(Se);for(ye=0;ye<Ie;++ye)xe[ye]=_e(ve[ye],me[ye]);for(;ye<Se;++ye)ue[ye]=me[ye];return function(ae){for(ye=0;ye<Ie;++ye)ue[ye]=xe[ye](ae);return ue}}function ne(ve,me){var ye=new Date;return ve=+ve,me=+me,function(Se){return ye.setTime(ve*(1-Se)+me*Se),ye}}function ee(ve,me){return ve=+ve,me=+me,function(ye){return ve*(1-ye)+me*ye}}function Q(ve){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},Q(ve)}function X(ve,me){var ye,Se={},Ie={};for(ye in ve!==null&&Q(ve)==="object"||(ve={}),me!==null&&Q(me)==="object"||(me={}),me)ye in ve?Se[ye]=_e(ve[ye],me[ye]):Ie[ye]=me[ye];return function(xe){for(ye in Se)Ie[ye]=Se[ye](xe);return Ie}}ie(function(ve){var me=ve.length-1;return function(ye){var Se=ye<=0?ye=0:ye>=1?(ye=1,me-1):Math.floor(ye*me),Ie=ve[Se],xe=ve[Se+1],ue=Se>0?ve[Se-1]:2*Ie-xe,ae=Se<me-1?ve[Se+2]:2*xe-Ie;return Z((ye-Se/me)*me,ue,Ie,xe,ae)}}),ie(function(ve){var me=ve.length;return function(ye){var Se=Math.floor(((ye%=1)<0?++ye:ye)*me),Ie=ve[(Se+me-1)%me],xe=ve[Se%me],ue=ve[(Se+1)%me],ae=ve[(Se+2)%me];return Z((ye-Se/me)*me,Ie,xe,ue,ae)}});var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ce=new RegExp(se.source,"g");function le(ve,me){var ye,Se,Ie,xe=se.lastIndex=ce.lastIndex=0,ue=-1,ae=[],pe=[];for(ve+="",me+="";(ye=se.exec(ve))&&(Se=ce.exec(me));)(Ie=Se.index)>xe&&(Ie=me.slice(xe,Ie),ae[ue]?ae[ue]+=Ie:ae[++ue]=Ie),(ye=ye[0])===(Se=Se[0])?ae[ue]?ae[ue]+=Se:ae[++ue]=Se:(ae[++ue]=null,pe.push({i:ue,x:ee(ye,Se)})),xe=ce.lastIndex;return xe<me.length&&(Ie=me.slice(xe),ae[ue]?ae[ue]+=Ie:ae[++ue]=Ie),ae.length<2?pe[0]?function(De){return function(Te){return De(Te)+""}}(pe[0].x):function(De){return function(){return De}}(me):(me=pe.length,function(De){for(var Te,Ae=0;Ae<me;++Ae)ae[(Te=pe[Ae]).i]=Te.x(De);return ae.join("")})}function de(ve,me){me||(me=[]);var ye,Se=ve?Math.min(me.length,ve.length):0,Ie=me.slice();return function(xe){for(ye=0;ye<Se;++ye)Ie[ye]=ve[ye]*(1-xe)+me[ye]*xe;return Ie}}function be(ve){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},be(ve)}function _e(ve,me){var ye,Se,Ie=be(me);return me==null||Ie==="boolean"?j(me):(Ie==="number"?ee:Ie==="string"?(ye=v(me))?(me=ye,Y):le:me instanceof v?Y:me instanceof Date?ne:(Se=me,!ArrayBuffer.isView(Se)||Se instanceof DataView?Array.isArray(me)?re:typeof me.valueOf!="function"&&typeof me.toString!="function"||isNaN(me)?X:ee:de))(ve,me)}},30584:function(S){"use strict";S.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(S){"use strict";S.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(S){"use strict";S.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(S){"use strict";S.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(S){"use strict";S.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(S){"use strict";S.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},P={};function J(S){var x=P[S];if(x!==void 0)return x.exports;var e=P[S]={exports:{}};return B[S].call(e.exports,e,e.exports,J),e.exports}return J.n=function(S){var x=S&&S.__esModule?function(){return S.default}:function(){return S};return J.d(x,{a:x}),x},J.d=function(S,x){for(var e in x)J.o(x,e)&&!J.o(S,e)&&Object.defineProperty(S,e,{enumerable:!0,get:x[e]})},J.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),J.o=function(S,x){return Object.prototype.hasOwnProperty.call(S,x)},J.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},J(13792)}()})});var vm=null;var mm=1,S2=Symbol("SIGNAL");function $i(B){let P=vm;return vm=B,P}function E2(){return vm}var ym={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Z5(B){if(!(Tm(B)&&!B.dirty)&&!(!B.dirty&&B.lastCleanEpoch===mm)){if(!B.producerMustRecompute(B)&&!bm(B)){B.dirty=!1,B.lastCleanEpoch=mm;return}B.producerRecomputeValue(B),B.dirty=!1,B.lastCleanEpoch=mm}}function xm(B){return B&&(B.nextProducerIndex=0),$i(B)}function C2(B,P){if($i(P),!(!B||B.producerNode===void 0||B.producerIndexOfThis===void 0||B.producerLastReadVersion===void 0)){if(Tm(B))for(let J=B.nextProducerIndex;J<B.producerNode.length;J++)wm(B.producerNode[J],B.producerIndexOfThis[J]);for(;B.producerNode.length>B.nextProducerIndex;)B.producerNode.pop(),B.producerLastReadVersion.pop(),B.producerIndexOfThis.pop()}}function bm(B){Mm(B);for(let P=0;P<B.producerNode.length;P++){let J=B.producerNode[P],S=B.producerLastReadVersion[P];if(S!==J.version||(Z5(J),S!==J.version))return!0}return!1}function _m(B){if(Mm(B),Tm(B))for(let P=0;P<B.producerNode.length;P++)wm(B.producerNode[P],B.producerIndexOfThis[P]);B.producerNode.length=B.producerLastReadVersion.length=B.producerIndexOfThis.length=0,B.liveConsumerNode&&(B.liveConsumerNode.length=B.liveConsumerIndexOfThis.length=0)}function wm(B,P){if(X5(B),B.liveConsumerNode.length===1&&K5(B))for(let S=0;S<B.producerNode.length;S++)wm(B.producerNode[S],B.producerIndexOfThis[S]);let J=B.liveConsumerNode.length-1;if(B.liveConsumerNode[P]=B.liveConsumerNode[J],B.liveConsumerIndexOfThis[P]=B.liveConsumerIndexOfThis[J],B.liveConsumerNode.length--,B.liveConsumerIndexOfThis.length--,P<B.liveConsumerNode.length){let S=B.liveConsumerIndexOfThis[P],x=B.liveConsumerNode[P];Mm(x),x.producerIndexOfThis[S]=P}}function Tm(B){return B.consumerIsAlwaysLive||(B?.liveConsumerNode?.length??0)>0}function Mm(B){B.producerNode??=[],B.producerIndexOfThis??=[],B.producerLastReadVersion??=[]}function X5(B){B.liveConsumerNode??=[],B.liveConsumerIndexOfThis??=[]}function K5(B){return B.producerNode!==void 0}function J5(){throw new Error}var Q5=J5;function D2(B){Q5=B}function oi(B){return typeof B=="function"}function Hf(B){let J=B(S=>{Error.call(S),S.stack=new Error().stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}var Hp=Hf(B=>function(J){B(this),this.message=J?`${J.length} errors occurred during unsubscription:
${J.map((S,x)=>`${x+1}) ${S.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=J});function id(B,P){if(B){let J=B.indexOf(P);0<=J&&B.splice(J,1)}}var ta=class B{constructor(P){this.initialTeardown=P,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let P;if(!this.closed){this.closed=!0;let{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(let e of J)e.remove(this);else J.remove(this);let{initialTeardown:S}=this;if(oi(S))try{S()}catch(e){P=e instanceof Hp?e.errors:[e]}let{_finalizers:x}=this;if(x){this._finalizers=null;for(let e of x)try{I2(e)}catch(p){P=P??[],p instanceof Hp?P=[...P,...p.errors]:P.push(p)}}if(P)throw new Hp(P)}}add(P){var J;if(P&&P!==this)if(this.closed)I2(P);else{if(P instanceof B){if(P.closed||P._hasParent(this))return;P._addParent(this)}(this._finalizers=(J=this._finalizers)!==null&&J!==void 0?J:[]).push(P)}}_hasParent(P){let{_parentage:J}=this;return J===P||Array.isArray(J)&&J.includes(P)}_addParent(P){let{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(P),J):J?[J,P]:P}_removeParent(P){let{_parentage:J}=this;J===P?this._parentage=null:Array.isArray(J)&&id(J,P)}remove(P){let{_finalizers:J}=this;J&&id(J,P),P instanceof B&&P._removeParent(this)}};ta.EMPTY=(()=>{let B=new ta;return B.closed=!0,B})();var Am=ta.EMPTY;function qp(B){return B instanceof ta||B&&"closed"in B&&oi(B.remove)&&oi(B.add)&&oi(B.unsubscribe)}function I2(B){oi(B)?B():B.unsubscribe()}var Ql={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qf={setTimeout(B,P,...J){let{delegate:S}=qf;return S?.setTimeout?S.setTimeout(B,P,...J):setTimeout(B,P,...J)},clearTimeout(B){let{delegate:P}=qf;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0};function Gp(B){qf.setTimeout(()=>{let{onUnhandledError:P}=Ql;if(P)P(B);else throw B})}function od(){}var L2=km("C",void 0,void 0);function O2(B){return km("E",void 0,B)}function P2(B){return km("N",B,void 0)}function km(B,P,J){return{kind:B,value:P,error:J}}var Gc=null;function Gf(B){if(Ql.useDeprecatedSynchronousErrorHandling){let P=!Gc;if(P&&(Gc={errorThrown:!1,error:null}),B(),P){let{errorThrown:J,error:S}=Gc;if(Gc=null,J)throw S}}else B()}function R2(B){Ql.useDeprecatedSynchronousErrorHandling&&Gc&&(Gc.errorThrown=!0,Gc.error=B)}var Wc=class extends ta{constructor(P){super(),this.isStopped=!1,P?(this.destination=P,qp(P)&&P.add(this)):this.destination=n6}static create(P,J,S){return new Wf(P,J,S)}next(P){this.isStopped?Em(P2(P),this):this._next(P)}error(P){this.isStopped?Em(O2(P),this):(this.isStopped=!0,this._error(P))}complete(){this.isStopped?Em(L2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(P){this.destination.next(P)}_error(P){try{this.destination.error(P)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},e6=Function.prototype.bind;function Sm(B,P){return e6.call(B,P)}var Cm=class{constructor(P){this.partialObserver=P}next(P){let{partialObserver:J}=this;if(J.next)try{J.next(P)}catch(S){Wp(S)}}error(P){let{partialObserver:J}=this;if(J.error)try{J.error(P)}catch(S){Wp(S)}else Wp(P)}complete(){let{partialObserver:P}=this;if(P.complete)try{P.complete()}catch(J){Wp(J)}}},Wf=class extends Wc{constructor(P,J,S){super();let x;if(oi(P)||!P)x={next:P??void 0,error:J??void 0,complete:S??void 0};else{let e;this&&Ql.useDeprecatedNextContext?(e=Object.create(P),e.unsubscribe=()=>this.unsubscribe(),x={next:P.next&&Sm(P.next,e),error:P.error&&Sm(P.error,e),complete:P.complete&&Sm(P.complete,e)}):x=P}this.destination=new Cm(x)}};function Wp(B){Ql.useDeprecatedSynchronousErrorHandling?R2(B):Gp(B)}function t6(B){throw B}function Em(B,P){let{onStoppedNotification:J}=Ql;J&&qf.setTimeout(()=>J(B,P))}var n6={closed:!0,next:od,error:t6,complete:od};var Yf=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ol(B){return B}function Dm(...B){return Im(B)}function Im(B){return B.length===0?ol:B.length===1?B[0]:function(J){return B.reduce((S,x)=>x(S),J)}}var Ui=(()=>{class B{constructor(J){J&&(this._subscribe=J)}lift(J){let S=new B;return S.source=this,S.operator=J,S}subscribe(J,S,x){let e=i6(J)?J:new Wf(J,S,x);return Gf(()=>{let{operator:p,source:y}=this;e.add(p?p.call(e,y):y?this._subscribe(e):this._trySubscribe(e))}),e}_trySubscribe(J){try{return this._subscribe(J)}catch(S){J.error(S)}}forEach(J,S){return S=N2(S),new S((x,e)=>{let p=new Wf({next:y=>{try{J(y)}catch(n){e(n),p.unsubscribe()}},error:e,complete:x});this.subscribe(p)})}_subscribe(J){var S;return(S=this.source)===null||S===void 0?void 0:S.subscribe(J)}[Yf](){return this}pipe(...J){return Im(J)(this)}toPromise(J){return J=N2(J),new J((S,x)=>{let e;this.subscribe(p=>e=p,p=>x(p),()=>S(e))})}}return B.create=P=>new B(P),B})();function N2(B){var P;return(P=B??Ql.Promise)!==null&&P!==void 0?P:Promise}function r6(B){return B&&oi(B.next)&&oi(B.error)&&oi(B.complete)}function i6(B){return B&&B instanceof Wc||r6(B)&&qp(B)}function Lm(B){return oi(B?.lift)}function Pi(B){return P=>{if(Lm(P))return P.lift(function(J){try{return B(J,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ri(B,P,J,S,x){return new Om(B,P,J,S,x)}var Om=class extends Wc{constructor(P,J,S,x,e,p){super(P),this.onFinalize=e,this.shouldUnsubscribe=p,this._next=J?function(y){try{J(y)}catch(n){P.error(n)}}:super._next,this._error=x?function(y){try{x(y)}catch(n){P.error(n)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(y){P.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:J}=this;super.unsubscribe(),!J&&((P=this.onFinalize)===null||P===void 0||P.call(this))}}};function $f(){return Pi((B,P)=>{let J=null;B._refCount++;let S=Ri(P,void 0,void 0,void 0,()=>{if(!B||B._refCount<=0||0<--B._refCount){J=null;return}let x=B._connection,e=J;J=null,x&&(!e||x===e)&&x.unsubscribe(),P.unsubscribe()});B.subscribe(S),S.closed||(J=B.connect())})}var Zf=class extends Ui{constructor(P,J){super(),this.source=P,this.subjectFactory=J,this._subject=null,this._refCount=0,this._connection=null,Lm(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){let P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ta;let J=this.getSubject();P.add(this.source.subscribe(Ri(J,void 0,()=>{this._teardown(),J.complete()},S=>{this._teardown(),J.error(S)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ta.EMPTY)}return P}refCount(){return $f()(this)}};var F2=Hf(B=>function(){B(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ps=(()=>{class B extends Ui{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){let S=new Yp(this,this);return S.operator=J,S}_throwIfClosed(){if(this.closed)throw new F2}next(J){Gf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let S of this.currentObservers)S.next(J)}})}error(J){Gf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;let{observers:S}=this;for(;S.length;)S.shift().error(J)}})}complete(){Gf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return((J=this.observers)===null||J===void 0?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){let{hasError:S,isStopped:x,observers:e}=this;return S||x?Am:(this.currentObservers=null,e.push(J),new ta(()=>{this.currentObservers=null,id(e,J)}))}_checkFinalizedStatuses(J){let{hasError:S,thrownError:x,isStopped:e}=this;S?J.error(x):e&&J.complete()}asObservable(){let J=new Ui;return J.source=this,J}}return B.create=(P,J)=>new Yp(P,J),B})(),Yp=class extends ps{constructor(P,J){super(),this.destination=P,this.source=J}next(P){var J,S;(S=(J=this.destination)===null||J===void 0?void 0:J.next)===null||S===void 0||S.call(J,P)}error(P){var J,S;(S=(J=this.destination)===null||J===void 0?void 0:J.error)===null||S===void 0||S.call(J,P)}complete(){var P,J;(J=(P=this.destination)===null||P===void 0?void 0:P.complete)===null||J===void 0||J.call(P)}_subscribe(P){var J,S;return(S=(J=this.source)===null||J===void 0?void 0:J.subscribe(P))!==null&&S!==void 0?S:Am}};var Ra=class extends ps{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){let J=super._subscribe(P);return!J.closed&&P.next(this._value),J}getValue(){let{hasError:P,thrownError:J,_value:S}=this;if(P)throw J;return this._throwIfClosed(),S}next(P){super.next(this._value=P)}};var al=new Ui(B=>B.complete());function z2(B){return B&&oi(B.schedule)}function B2(B){return B[B.length-1]}function j2(B){return oi(B2(B))?B.pop():void 0}function cc(B){return z2(B2(B))?B.pop():void 0}function V2(B,P,J,S){function x(e){return e instanceof J?e:new J(function(p){p(e)})}return new(J||(J=Promise))(function(e,p){function y(b){try{M(S.next(b))}catch(f){p(f)}}function n(b){try{M(S.throw(b))}catch(f){p(f)}}function M(b){b.done?e(b.value):x(b.value).then(y,n)}M((S=S.apply(B,P||[])).next())})}function U2(B){var P=typeof Symbol=="function"&&Symbol.iterator,J=P&&B[P],S=0;if(J)return J.call(B);if(B&&typeof B.length=="number")return{next:function(){return B&&S>=B.length&&(B=void 0),{value:B&&B[S++],done:!B}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yc(B){return this instanceof Yc?(this.v=B,this):new Yc(B)}function H2(B,P,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S=J.apply(B,P||[]),x,e=[];return x={},y("next"),y("throw"),y("return",p),x[Symbol.asyncIterator]=function(){return this},x;function p(t){return function(o){return Promise.resolve(o).then(t,f)}}function y(t,o){S[t]&&(x[t]=function(r){return new Promise(function(i,a){e.push([t,r,i,a])>1||n(t,r)})},o&&(x[t]=o(x[t])))}function n(t,o){try{M(S[t](o))}catch(r){s(e[0][3],r)}}function M(t){t.value instanceof Yc?Promise.resolve(t.value.v).then(b,f):s(e[0][2],t)}function b(t){n("next",t)}function f(t){n("throw",t)}function s(t,o){t(o),e.shift(),e.length&&n(e[0][0],e[0][1])}}function q2(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=B[Symbol.asyncIterator],J;return P?P.call(B):(B=typeof U2=="function"?U2(B):B[Symbol.iterator](),J={},S("next"),S("throw"),S("return"),J[Symbol.asyncIterator]=function(){return this},J);function S(e){J[e]=B[e]&&function(p){return new Promise(function(y,n){p=B[e](p),x(y,n,p.done,p.value)})}}function x(e,p,y,n){Promise.resolve(n).then(function(M){e({value:M,done:y})},p)}}var $p=B=>B&&typeof B.length=="number"&&typeof B!="function";function Zp(B){return oi(B?.then)}function Xp(B){return oi(B[Yf])}function Kp(B){return Symbol.asyncIterator&&oi(B?.[Symbol.asyncIterator])}function Jp(B){return new TypeError(`You provided ${B!==null&&typeof B=="object"?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function o6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qp=o6();function e0(B){return oi(B?.[Qp])}function t0(B){return H2(this,arguments,function*(){let J=B.getReader();try{for(;;){let{value:S,done:x}=yield Yc(J.read());if(x)return yield Yc(void 0);yield yield Yc(S)}}finally{J.releaseLock()}})}function n0(B){return oi(B?.getReader)}function xa(B){if(B instanceof Ui)return B;if(B!=null){if(Xp(B))return a6(B);if($p(B))return s6(B);if(Zp(B))return l6(B);if(Kp(B))return G2(B);if(e0(B))return u6(B);if(n0(B))return c6(B)}throw Jp(B)}function a6(B){return new Ui(P=>{let J=B[Yf]();if(oi(J.subscribe))return J.subscribe(P);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function s6(B){return new Ui(P=>{for(let J=0;J<B.length&&!P.closed;J++)P.next(B[J]);P.complete()})}function l6(B){return new Ui(P=>{B.then(J=>{P.closed||(P.next(J),P.complete())},J=>P.error(J)).then(null,Gp)})}function u6(B){return new Ui(P=>{for(let J of B)if(P.next(J),P.closed)return;P.complete()})}function G2(B){return new Ui(P=>{f6(B,P).catch(J=>P.error(J))})}function c6(B){return G2(t0(B))}function f6(B,P){var J,S,x,e;return V2(this,void 0,void 0,function*(){try{for(J=q2(B);S=yield J.next(),!S.done;){let p=S.value;if(P.next(p),P.closed)return}}catch(p){x={error:p}}finally{try{S&&!S.done&&(e=J.return)&&(yield e.call(J))}finally{if(x)throw x.error}}P.complete()})}function Ns(B,P,J,S=0,x=!1){let e=P.schedule(function(){J(),x?B.add(this.schedule(null,S)):this.unsubscribe()},S);if(B.add(e),!x)return e}function r0(B,P=0){return Pi((J,S)=>{J.subscribe(Ri(S,x=>Ns(S,B,()=>S.next(x),P),()=>Ns(S,B,()=>S.complete(),P),x=>Ns(S,B,()=>S.error(x),P)))})}function i0(B,P=0){return Pi((J,S)=>{S.add(B.schedule(()=>J.subscribe(S),P))})}function W2(B,P){return xa(B).pipe(i0(P),r0(P))}function Y2(B,P){return xa(B).pipe(i0(P),r0(P))}function $2(B,P){return new Ui(J=>{let S=0;return P.schedule(function(){S===B.length?J.complete():(J.next(B[S++]),J.closed||this.schedule())})})}function Z2(B,P){return new Ui(J=>{let S;return Ns(J,P,()=>{S=B[Qp](),Ns(J,P,()=>{let x,e;try{({value:x,done:e}=S.next())}catch(p){J.error(p);return}e?J.complete():J.next(x)},0,!0)}),()=>oi(S?.return)&&S.return()})}function o0(B,P){if(!B)throw new Error("Iterable cannot be null");return new Ui(J=>{Ns(J,P,()=>{let S=B[Symbol.asyncIterator]();Ns(J,P,()=>{S.next().then(x=>{x.done?J.complete():J.next(x.value)})},0,!0)})})}function X2(B,P){return o0(t0(B),P)}function K2(B,P){if(B!=null){if(Xp(B))return W2(B,P);if($p(B))return $2(B,P);if(Zp(B))return Y2(B,P);if(Kp(B))return o0(B,P);if(e0(B))return Z2(B,P);if(n0(B))return X2(B,P)}throw Jp(B)}function $o(B,P){return P?K2(B,P):xa(B)}function ti(...B){let P=cc(B);return $o(B,P)}function Xf(B,P){let J=oi(B)?B:()=>B,S=x=>x.error(J());return new Ui(P?x=>P.schedule(S,0,x):S)}function Pm(B){return!!B&&(B instanceof Ui||oi(B.lift)&&oi(B.subscribe))}var zu=Hf(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"});function pi(B,P){return Pi((J,S)=>{let x=0;J.subscribe(Ri(S,e=>{S.next(B.call(P,e,x++))}))})}var{isArray:h6}=Array;function d6(B,P){return h6(P)?B(...P):B(P)}function J2(B){return pi(P=>d6(B,P))}var{isArray:p6}=Array,{getPrototypeOf:g6,prototype:m6,keys:v6}=Object;function Q2(B){if(B.length===1){let P=B[0];if(p6(P))return{args:P,keys:null};if(y6(P)){let J=v6(P);return{args:J.map(S=>P[S]),keys:J}}}return{args:B,keys:null}}function y6(B){return B&&typeof B=="object"&&g6(B)===m6}function eb(B,P){return B.reduce((J,S,x)=>(J[S]=P[x],J),{})}function a0(...B){let P=cc(B),J=j2(B),{args:S,keys:x}=Q2(B);if(S.length===0)return $o([],P);let e=new Ui(x6(S,P,x?p=>eb(x,p):ol));return J?e.pipe(J2(J)):e}function x6(B,P,J=ol){return S=>{tb(P,()=>{let{length:x}=B,e=new Array(x),p=x,y=x;for(let n=0;n<x;n++)tb(P,()=>{let M=$o(B[n],P),b=!1;M.subscribe(Ri(S,f=>{e[n]=f,b||(b=!0,y--),y||S.next(J(e.slice()))},()=>{--p||S.complete()}))},S)},S)}}function tb(B,P,J){B?Ns(J,B,P):P()}function nb(B,P,J,S,x,e,p,y){let n=[],M=0,b=0,f=!1,s=()=>{f&&!n.length&&!M&&P.complete()},t=r=>M<S?o(r):n.push(r),o=r=>{e&&P.next(r),M++;let i=!1;xa(J(r,b++)).subscribe(Ri(P,a=>{x?.(a),e?t(a):P.next(a)},()=>{i=!0},void 0,()=>{if(i)try{for(M--;n.length&&M<S;){let a=n.shift();p?Ns(P,p,()=>o(a)):o(a)}s()}catch(a){P.error(a)}}))};return B.subscribe(Ri(P,t,()=>{f=!0,s()})),()=>{y?.()}}function la(B,P,J=1/0){return oi(P)?la((S,x)=>pi((e,p)=>P(S,e,x,p))(xa(B(S,x))),J):(typeof P=="number"&&(J=P),Pi((S,x)=>nb(S,x,B,J)))}function Rm(B=1/0){return la(ol,B)}function rb(){return Rm(1)}function Kf(...B){return rb()($o(B,cc(B)))}function s0(B){return new Ui(P=>{xa(B()).subscribe(P)})}function sl(B,P){return Pi((J,S)=>{let x=0;J.subscribe(Ri(S,e=>B.call(P,e,x++)&&S.next(e)))})}function fc(B){return Pi((P,J)=>{let S=null,x=!1,e;S=P.subscribe(Ri(J,void 0,void 0,p=>{e=xa(B(p,fc(B)(P))),S?(S.unsubscribe(),S=null,e.subscribe(J)):x=!0})),x&&(S.unsubscribe(),S=null,e.subscribe(J))})}function ib(B,P,J,S,x){return(e,p)=>{let y=J,n=P,M=0;e.subscribe(Ri(p,b=>{let f=M++;n=y?B(n,b,f):(y=!0,b),S&&p.next(n)},x&&(()=>{y&&p.next(n),p.complete()})))}}function hc(B,P){return oi(P)?la(B,P,1):la(B,1)}function dc(B){return Pi((P,J)=>{let S=!1;P.subscribe(Ri(J,x=>{S=!0,J.next(x)},()=>{S||J.next(B),J.complete()}))})}function Bu(B){return B<=0?()=>al:Pi((P,J)=>{let S=0;P.subscribe(Ri(J,x=>{++S<=B&&(J.next(x),B<=S&&J.complete())}))})}function Nm(B){return pi(()=>B)}function l0(B=b6){return Pi((P,J)=>{let S=!1;P.subscribe(Ri(J,x=>{S=!0,J.next(x)},()=>S?J.complete():J.error(B())))})}function b6(){return new zu}function $c(B){return Pi((P,J)=>{try{P.subscribe(J)}finally{J.add(B)}})}function xu(B,P){let J=arguments.length>=2;return S=>S.pipe(B?sl((x,e)=>B(x,e,S)):ol,Bu(1),J?dc(P):l0(()=>new zu))}function Jf(B){return B<=0?()=>al:Pi((P,J)=>{let S=[];P.subscribe(Ri(J,x=>{S.push(x),B<S.length&&S.shift()},()=>{for(let x of S)J.next(x);J.complete()},void 0,()=>{S=null}))})}function Fm(B,P){let J=arguments.length>=2;return S=>S.pipe(B?sl((x,e)=>B(x,e,S)):ol,Jf(1),J?dc(P):l0(()=>new zu))}function zm(B,P){return Pi(ib(B,P,arguments.length>=2,!0))}function Bm(...B){let P=cc(B);return Pi((J,S)=>{(P?Kf(B,J,P):Kf(B,J)).subscribe(S)})}function ll(B,P){return Pi((J,S)=>{let x=null,e=0,p=!1,y=()=>p&&!x&&S.complete();J.subscribe(Ri(S,n=>{x?.unsubscribe();let M=0,b=e++;xa(B(n,b)).subscribe(x=Ri(S,f=>S.next(P?P(n,f,b,M++):f),()=>{x=null,y()}))},()=>{p=!0,y()}))})}function jm(B){return Pi((P,J)=>{xa(B).subscribe(Ri(J,()=>J.complete(),od)),!J.closed&&P.subscribe(J)})}function ba(B,P,J){let S=oi(B)||P||J?{next:B,error:P,complete:J}:B;return S?Pi((x,e)=>{var p;(p=S.subscribe)===null||p===void 0||p.call(S);let y=!0;x.subscribe(Ri(e,n=>{var M;(M=S.next)===null||M===void 0||M.call(S,n),e.next(n)},()=>{var n;y=!1,(n=S.complete)===null||n===void 0||n.call(S),e.complete()},n=>{var M;y=!1,(M=S.error)===null||M===void 0||M.call(S,n),e.error(n)},()=>{var n,M;y&&((n=S.unsubscribe)===null||n===void 0||n.call(S)),(M=S.finalize)===null||M===void 0||M.call(S)}))}):ol}var Yr=class extends Error{constructor(P,J){super(R0(P,J)),this.code=P}};function R0(B,P){return`${`NG0${Math.abs(B)}`}${P?": "+P:""}`}function vd(B){return{toString:B}.toString()}var u0="__parameters__";function _6(B){return function(...J){if(B){let S=B(...J);for(let x in S)this[x]=S[x]}}}function Ub(B,P,J){return vd(()=>{let S=_6(P);function x(...e){if(this instanceof x)return S.apply(this,e),this;let p=new x(...e);return y.annotation=p,y;function y(n,M,b){let f=n.hasOwnProperty(u0)?n[u0]:Object.defineProperty(n,u0,{value:[]})[u0];for(;f.length<=b;)f.push(null);return(f[b]=f[b]||[]).push(p),n}}return J&&(x.prototype=Object.create(J.prototype)),x.prototype.ngMetadataName=B,x.annotationCls=x,x})}var Kc=globalThis;function uo(B){for(let P in B)if(B[P]===uo)return P;throw Error("Could not find renamed property on target object.")}function zs(B){if(typeof B=="string")return B;if(Array.isArray(B))return"["+B.map(zs).join(", ")+"]";if(B==null)return""+B;if(B.overriddenName)return`${B.overriddenName}`;if(B.name)return`${B.name}`;let P=B.toString();if(P==null)return""+P;let J=P.indexOf(`
`);return J===-1?P:P.substring(0,J)}function ob(B,P){return B==null||B===""?P===null?"":P:P==null||P===""?B:B+" "+P}var w6=uo({__forward_ref__:uo});function Vb(B){return B.__forward_ref__=Vb,B.toString=function(){return zs(this())},B}function gs(B){return Hb(B)?B():B}function Hb(B){return typeof B=="function"&&B.hasOwnProperty(w6)&&B.__forward_ref__===Vb}function Vr(B){return{token:B.token,providedIn:B.providedIn||null,factory:B.factory,value:void 0}}function Hu(B){return{providers:B.providers||[],imports:B.imports||[]}}function N0(B){return ab(B,Gb)||ab(B,Wb)}function qb(B){return N0(B)!==null}function ab(B,P){return B.hasOwnProperty(P)?B[P]:null}function T6(B){let P=B&&(B[Gb]||B[Wb]);return P||null}function sb(B){return B&&(B.hasOwnProperty(lb)||B.hasOwnProperty(M6))?B[lb]:null}var Gb=uo({\u0275prov:uo}),lb=uo({\u0275inj:uo}),Wb=uo({ngInjectableDef:uo}),M6=uo({ngInjectorDef:uo}),Qr=class{constructor(P,J){this._desc=P,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof J=="number"?this.__NG_ELEMENT_ID__=J:J!==void 0&&(this.\u0275prov=Vr({token:this,providedIn:J.providedIn||"root",factory:J.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Yb(B){return B&&!!B.\u0275providers}var A6=uo({\u0275cmp:uo}),k6=uo({\u0275dir:uo}),S6=uo({\u0275pipe:uo}),E6=uo({\u0275mod:uo}),m0=uo({\u0275fac:uo}),ad=uo({__NG_ELEMENT_ID__:uo}),ub=uo({__NG_ENV_ID__:uo});function Zv(B){return typeof B=="string"?B:B==null?"":String(B)}function C6(B){return typeof B=="function"?B.name||B.toString():typeof B=="object"&&B!=null&&typeof B.type=="function"?B.type.name||B.type.toString():Zv(B)}function D6(B,P){let J=P?`. Dependency path: ${P.join(" > ")} > ${B}`:"";throw new Yr(-200,B)}function Xv(B,P){throw new Yr(-201,!1)}var mi=function(B){return B[B.Default=0]="Default",B[B.Host=1]="Host",B[B.Self=2]="Self",B[B.SkipSelf=4]="SkipSelf",B[B.Optional=8]="Optional",B}(mi||{}),Qm;function $b(){return Qm}function Fs(B){let P=Qm;return Qm=B,P}function Zb(B,P,J){let S=N0(B);if(S&&S.providedIn=="root")return S.value===void 0?S.value=S.factory():S.value;if(J&mi.Optional)return null;if(P!==void 0)return P;Xv(B,"Injector")}var I6={},sd=I6,ev="__NG_DI_FLAG__",v0="ngTempTokenPath",L6="ngTokenPath",O6=/\n/gm,P6="\u0275",cb="__source",nh;function R6(){return nh}function pc(B){let P=nh;return nh=B,P}function N6(B,P=mi.Default){if(nh===void 0)throw new Yr(-203,!1);return nh===null?Zb(B,void 0,P):nh.get(B,P&mi.Optional?null:void 0,P)}function ni(B,P=mi.Default){return($b()||N6)(gs(B),P)}function Dr(B,P=mi.Default){return ni(B,F0(P))}function F0(B){return typeof B>"u"||typeof B=="number"?B:0|(B.optional&&8)|(B.host&&1)|(B.self&&2)|(B.skipSelf&&4)}function tv(B){let P=[];for(let J=0;J<B.length;J++){let S=gs(B[J]);if(Array.isArray(S)){if(S.length===0)throw new Yr(900,!1);let x,e=mi.Default;for(let p=0;p<S.length;p++){let y=S[p],n=F6(y);typeof n=="number"?n===-1?x=y.token:e|=n:x=y}P.push(ni(x,e))}else P.push(ni(S))}return P}function Xb(B,P){return B[ev]=P,B.prototype[ev]=P,B}function F6(B){return B[ev]}function z6(B,P,J,S){let x=B[v0];throw P[cb]&&x.unshift(P[cb]),B.message=B6(`
`+B.message,x,J,S),B[L6]=x,B[v0]=null,B}function B6(B,P,J,S=null){B=B&&B.charAt(0)===`
`&&B.charAt(1)==P6?B.slice(2):B;let x=zs(P);if(Array.isArray(P))x=P.map(zs).join(" -> ");else if(typeof P=="object"){let e=[];for(let p in P)if(P.hasOwnProperty(p)){let y=P[p];e.push(p+":"+(typeof y=="string"?JSON.stringify(y):zs(y)))}x=`{${e.join(", ")}}`}return`${J}${S?"("+S+")":""}[${x}]: ${B.replace(O6,`
  `)}`}var z0=Xb(Ub("Optional"),8);var Kv=Xb(Ub("SkipSelf"),4);function Qc(B,P){let J=B.hasOwnProperty(m0);return J?B[m0]:null}function j6(B,P,J){if(B.length!==P.length)return!1;for(let S=0;S<B.length;S++){let x=B[S],e=P[S];if(J&&(x=J(x),e=J(e)),e!==x)return!1}return!0}function U6(B){return B.flat(Number.POSITIVE_INFINITY)}function Jv(B,P){B.forEach(J=>Array.isArray(J)?Jv(J,P):P(J))}function Kb(B,P,J){P>=B.length?B.push(J):B.splice(P,0,J)}function y0(B,P){return P>=B.length-1?B.pop():B.splice(P,1)[0]}function V6(B,P){let J=[];for(let S=0;S<B;S++)J.push(P);return J}var ld={},bu=[],ih=new Qr(""),Jb=new Qr("",-1),Qb=new Qr(""),x0=class{get(P,J=sd){if(J===sd){let S=new Error(`NullInjectorError: No provider for ${zs(P)}!`);throw S.name="NullInjectorError",S}return J}},e_=function(B){return B[B.OnPush=0]="OnPush",B[B.Default=1]="Default",B}(e_||{}),Tu=function(B){return B[B.Emulated=0]="Emulated",B[B.None=2]="None",B[B.ShadowDom=3]="ShadowDom",B}(Tu||{}),oh=function(B){return B[B.None=0]="None",B[B.SignalBased=1]="SignalBased",B[B.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",B}(oh||{});function H6(B,P,J){let S=B.length;for(;;){let x=B.indexOf(P,J);if(x===-1)return x;if(x===0||B.charCodeAt(x-1)<=32){let e=P.length;if(x+e===S||B.charCodeAt(x+e)<=32)return x}J=x+1}}function nv(B,P,J){let S=0;for(;S<J.length;){let x=J[S];if(typeof x=="number"){if(x!==0)break;S++;let e=J[S++],p=J[S++],y=J[S++];B.setAttribute(P,p,y,e)}else{let e=x,p=J[++S];G6(e)?B.setProperty(P,e,p):B.setAttribute(P,e,p),S++}}return S}function q6(B){return B===3||B===4||B===6}function G6(B){return B.charCodeAt(0)===64}function Qv(B,P){if(!(P===null||P.length===0))if(B===null||B.length===0)B=P.slice();else{let J=-1;for(let S=0;S<P.length;S++){let x=P[S];typeof x=="number"?J=x:J===0||(J===-1||J===2?fb(B,J,x,null,P[++S]):fb(B,J,x,null,null))}}return B}function fb(B,P,J,S,x){let e=0,p=B.length;if(P===-1)p=-1;else for(;e<B.length;){let y=B[e++];if(typeof y=="number"){if(y===P){p=-1;break}else if(y>P){p=e-1;break}}}for(;e<B.length;){let y=B[e];if(typeof y=="number")break;if(y===J){if(S===null){x!==null&&(B[e+1]=x);return}else if(S===B[e+1]){B[e+2]=x;return}}e++,S!==null&&e++,x!==null&&e++}p!==-1&&(B.splice(p,0,P),e=p+1),B.splice(e++,0,J),S!==null&&B.splice(e++,0,S),x!==null&&B.splice(e++,0,x)}var t_="ng-template";function W6(B,P,J,S){let x=0;if(S){for(;x<P.length&&typeof P[x]=="string";x+=2)if(P[x]==="class"&&H6(P[x+1].toLowerCase(),J,0)!==-1)return!0}else if(ey(B))return!1;if(x=P.indexOf(1,x),x>-1){let e;for(;++x<P.length&&typeof(e=P[x])=="string";)if(e.toLowerCase()===J)return!0}return!1}function ey(B){return B.type===4&&B.value!==t_}function Y6(B,P,J){let S=B.type===4&&!J?t_:B.value;return P===S}function $6(B,P,J){let S=4,x=B.attrs,e=x!==null?K6(x):0,p=!1;for(let y=0;y<P.length;y++){let n=P[y];if(typeof n=="number"){if(!p&&!eu(S)&&!eu(n))return!1;if(p&&eu(n))continue;p=!1,S=n|S&1;continue}if(!p)if(S&4){if(S=2|S&1,n!==""&&!Y6(B,n,J)||n===""&&P.length===1){if(eu(S))return!1;p=!0}}else if(S&8){if(x===null||!W6(B,x,n,J)){if(eu(S))return!1;p=!0}}else{let M=P[++y],b=Z6(n,x,ey(B),J);if(b===-1){if(eu(S))return!1;p=!0;continue}if(M!==""){let f;if(b>e?f="":f=x[b+1].toLowerCase(),S&2&&M!==f){if(eu(S))return!1;p=!0}}}}return eu(S)||p}function eu(B){return(B&1)===0}function Z6(B,P,J,S){if(P===null)return-1;let x=0;if(S||!J){let e=!1;for(;x<P.length;){let p=P[x];if(p===B)return x;if(p===3||p===6)e=!0;else if(p===1||p===2){let y=P[++x];for(;typeof y=="string";)y=P[++x];continue}else{if(p===4)break;if(p===0){x+=4;continue}}x+=e?1:2}return-1}else return J6(P,B)}function n_(B,P,J=!1){for(let S=0;S<P.length;S++)if($6(B,P[S],J))return!0;return!1}function X6(B){let P=B.attrs;if(P!=null){let J=P.indexOf(5);if(!(J&1))return P[J+1]}return null}function K6(B){for(let P=0;P<B.length;P++){let J=B[P];if(q6(J))return P}return B.length}function J6(B,P){let J=B.indexOf(4);if(J>-1)for(J++;J<B.length;){let S=B[J];if(typeof S=="number")return-1;if(S===P)return J;J++}return-1}function Q6(B,P){e:for(let J=0;J<P.length;J++){let S=P[J];if(B.length===S.length){for(let x=0;x<B.length;x++)if(B[x]!==S[x])continue e;return!0}}return!1}function hb(B,P){return B?":not("+P.trim()+")":P}function eM(B){let P=B[0],J=1,S=2,x="",e=!1;for(;J<B.length;){let p=B[J];if(typeof p=="string")if(S&2){let y=B[++J];x+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else S&8?x+="."+p:S&4&&(x+=" "+p);else x!==""&&!eu(p)&&(P+=hb(e,x),x=""),S=p,e=e||!eu(S);J++}return x!==""&&(P+=hb(e,x)),P}function tM(B){return B.map(eM).join(",")}function nM(B){let P=[],J=[],S=1,x=2;for(;S<B.length;){let e=B[S];if(typeof e=="string")x===2?e!==""&&P.push(e,B[++S]):x===8&&J.push(e);else{if(!eu(x))break;x=e}S++}return{attrs:P,classes:J}}function Qa(B){return vd(()=>{let P=l_(B),J=Yo(zr({},P),{decls:B.decls,vars:B.vars,template:B.template,consts:B.consts||null,ngContentSelectors:B.ngContentSelectors,onPush:B.changeDetection===e_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:P.standalone&&B.dependencies||null,getStandaloneInjector:null,signals:B.signals??!1,data:B.data||{},encapsulation:B.encapsulation||Tu.Emulated,styles:B.styles||bu,_:null,schemas:B.schemas||null,tView:null,id:""});u_(J);let S=B.dependencies;return J.directiveDefs=pb(S,!1),J.pipeDefs=pb(S,!0),J.id=oM(J),J})}function rM(B){return ef(B)||i_(B)}function iM(B){return B!==null}function qu(B){return vd(()=>({type:B.type,bootstrap:B.bootstrap||bu,declarations:B.declarations||bu,imports:B.imports||bu,exports:B.exports||bu,transitiveCompileScopes:null,schemas:B.schemas||null,id:B.id||null}))}function db(B,P){if(B==null)return ld;let J={};for(let S in B)if(B.hasOwnProperty(S)){let x=B[S],e,p,y=oh.None;Array.isArray(x)?(y=x[0],e=x[1],p=x[2]??e):(e=x,p=x),P?(J[e]=y!==oh.None?[S,y]:S,P[e]=p):J[e]=S}return J}function hf(B){return vd(()=>{let P=l_(B);return u_(P),P})}function r_(B){return{type:B.type,name:B.name,factory:null,pure:B.pure!==!1,standalone:B.standalone===!0,onDestroy:B.type.prototype.ngOnDestroy||null}}function ef(B){return B[A6]||null}function i_(B){return B[k6]||null}function o_(B){return B[S6]||null}function a_(B){let P=ef(B)||i_(B)||o_(B);return P!==null?P.standalone:!1}function s_(B,P){let J=B[E6]||null;if(!J&&P===!0)throw new Error(`Type ${zs(B)} does not have '\u0275mod' property.`);return J}function l_(B){let P={};return{type:B.type,providersResolver:null,factory:null,hostBindings:B.hostBindings||null,hostVars:B.hostVars||0,hostAttrs:B.hostAttrs||null,contentQueries:B.contentQueries||null,declaredInputs:P,inputTransforms:null,inputConfig:B.inputs||ld,exportAs:B.exportAs||null,standalone:B.standalone===!0,signals:B.signals===!0,selectors:B.selectors||bu,viewQuery:B.viewQuery||null,features:B.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:db(B.inputs,P),outputs:db(B.outputs),debugInfo:null}}function u_(B){B.features?.forEach(P=>P(B))}function pb(B,P){if(!B)return null;let J=P?o_:rM;return()=>(typeof B=="function"?B():B).map(S=>J(S)).filter(iM)}function oM(B){let P=0,J=[B.selectors,B.ngContentSelectors,B.hostVars,B.hostAttrs,B.consts,B.vars,B.decls,B.encapsulation,B.standalone,B.signals,B.exportAs,JSON.stringify(B.inputs),JSON.stringify(B.outputs),Object.getOwnPropertyNames(B.type.prototype),!!B.contentQueries,!!B.viewQuery].join("|");for(let x of J)P=Math.imul(31,P)+x.charCodeAt(0)<<0;return P+=2147483648,"c"+P}function fh(B){return{\u0275providers:B}}function aM(...B){return{\u0275providers:c_(!0,B),\u0275fromNgModule:!0}}function c_(B,...P){let J=[],S=new Set,x,e=p=>{J.push(p)};return Jv(P,p=>{let y=p;rv(y,e,[],S)&&(x||=[],x.push(y))}),x!==void 0&&f_(x,e),J}function f_(B,P){for(let J=0;J<B.length;J++){let{ngModule:S,providers:x}=B[J];ty(x,e=>{P(e,S)})}}function rv(B,P,J,S){if(B=gs(B),!B)return!1;let x=null,e=sb(B),p=!e&&ef(B);if(!e&&!p){let n=B.ngModule;if(e=sb(n),e)x=n;else return!1}else{if(p&&!p.standalone)return!1;x=B}let y=S.has(x);if(p){if(y)return!1;if(S.add(x),p.dependencies){let n=typeof p.dependencies=="function"?p.dependencies():p.dependencies;for(let M of n)rv(M,P,J,S)}}else if(e){if(e.imports!=null&&!y){S.add(x);let M;try{Jv(e.imports,b=>{rv(b,P,J,S)&&(M||=[],M.push(b))})}finally{}M!==void 0&&f_(M,P)}if(!y){let M=Qc(x)||(()=>new x);P({provide:x,useFactory:M,deps:bu},x),P({provide:Qb,useValue:x,multi:!0},x),P({provide:ih,useValue:()=>ni(x),multi:!0},x)}let n=e.providers;if(n!=null&&!y){let M=B;ty(n,b=>{P(b,M)})}}else return!1;return x!==B&&B.providers!==void 0}function ty(B,P){for(let J of B)Yb(J)&&(J=J.\u0275providers),Array.isArray(J)?ty(J,P):P(J)}var sM=uo({provide:String,useValue:uo});function h_(B){return B!==null&&typeof B=="object"&&sM in B}function lM(B){return!!(B&&B.useExisting)}function uM(B){return!!(B&&B.useFactory)}function ah(B){return typeof B=="function"}function cM(B){return!!B.useClass}var B0=new Qr(""),c0={},fM={},Um;function ny(){return Um===void 0&&(Um=new x0),Um}var Bs=class{},ud=class extends Bs{get destroyed(){return this._destroyed}constructor(P,J,S,x){super(),this.parent=J,this.source=S,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ov(P,p=>this.processProvider(p)),this.records.set(Jb,Qf(void 0,this)),x.has("environment")&&this.records.set(Bs,Qf(void 0,this));let e=this.records.get(B0);e!=null&&typeof e.value=="string"&&this.scopes.add(e.value),this.injectorDefTypes=new Set(this.get(Qb,bu,mi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let P=$i(null);try{for(let S of this._ngOnDestroyHooks)S.ngOnDestroy();let J=this._onDestroyHooks;this._onDestroyHooks=[];for(let S of J)S()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$i(P)}}onDestroy(P){return this.assertNotDestroyed(),this._onDestroyHooks.push(P),()=>this.removeOnDestroy(P)}runInContext(P){this.assertNotDestroyed();let J=pc(this),S=Fs(void 0),x;try{return P()}finally{pc(J),Fs(S)}}get(P,J=sd,S=mi.Default){if(this.assertNotDestroyed(),P.hasOwnProperty(ub))return P[ub](this);S=F0(S);let x,e=pc(this),p=Fs(void 0);try{if(!(S&mi.SkipSelf)){let n=this.records.get(P);if(n===void 0){let M=mM(P)&&N0(P);M&&this.injectableDefInScope(M)?n=Qf(iv(P),c0):n=null,this.records.set(P,n)}if(n!=null)return this.hydrate(P,n)}let y=S&mi.Self?ny():this.parent;return J=S&mi.Optional&&J===sd?null:J,y.get(P,J)}catch(y){if(y.name==="NullInjectorError"){if((y[v0]=y[v0]||[]).unshift(zs(P)),e)throw y;return z6(y,P,"R3InjectorError",this.source)}else throw y}finally{Fs(p),pc(e)}}resolveInjectorInitializers(){let P=$i(null),J=pc(this),S=Fs(void 0),x;try{let e=this.get(ih,bu,mi.Self);for(let p of e)p()}finally{pc(J),Fs(S),$i(P)}}toString(){let P=[],J=this.records;for(let S of J.keys())P.push(zs(S));return`R3Injector[${P.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Yr(205,!1)}processProvider(P){P=gs(P);let J=ah(P)?P:gs(P&&P.provide),S=dM(P);if(!ah(P)&&P.multi===!0){let x=this.records.get(J);x||(x=Qf(void 0,c0,!0),x.factory=()=>tv(x.multi),this.records.set(J,x)),J=P,x.multi.push(P)}this.records.set(J,S)}hydrate(P,J){let S=$i(null);try{return J.value===c0&&(J.value=fM,J.value=J.factory()),typeof J.value=="object"&&J.value&&gM(J.value)&&this._ngOnDestroyHooks.add(J.value),J.value}finally{$i(S)}}injectableDefInScope(P){if(!P.providedIn)return!1;let J=gs(P.providedIn);return typeof J=="string"?J==="any"||this.scopes.has(J):this.injectorDefTypes.has(J)}removeOnDestroy(P){let J=this._onDestroyHooks.indexOf(P);J!==-1&&this._onDestroyHooks.splice(J,1)}};function iv(B){let P=N0(B),J=P!==null?P.factory:Qc(B);if(J!==null)return J;if(B instanceof Qr)throw new Yr(204,!1);if(B instanceof Function)return hM(B);throw new Yr(204,!1)}function hM(B){if(B.length>0)throw new Yr(204,!1);let J=T6(B);return J!==null?()=>J.factory(B):()=>new B}function dM(B){if(h_(B))return Qf(void 0,B.useValue);{let P=d_(B);return Qf(P,c0)}}function d_(B,P,J){let S;if(ah(B)){let x=gs(B);return Qc(x)||iv(x)}else if(h_(B))S=()=>gs(B.useValue);else if(uM(B))S=()=>B.useFactory(...tv(B.deps||[]));else if(lM(B))S=()=>ni(gs(B.useExisting));else{let x=gs(B&&(B.useClass||B.provide));if(pM(B))S=()=>new x(...tv(B.deps));else return Qc(x)||iv(x)}return S}function Qf(B,P,J=!1){return{factory:B,value:P,multi:J?[]:void 0}}function pM(B){return!!B.deps}function gM(B){return B!==null&&typeof B=="object"&&typeof B.ngOnDestroy=="function"}function mM(B){return typeof B=="function"||typeof B=="object"&&B instanceof Qr}function ov(B,P){for(let J of B)Array.isArray(J)?ov(J,P):J&&Yb(J)?ov(J.\u0275providers,P):P(J)}function ru(B,P){B instanceof ud&&B.assertNotDestroyed();let J,S=pc(B),x=Fs(void 0);try{return P()}finally{pc(S),Fs(x)}}function vM(){return $b()!==void 0||R6()!=null}function yM(B){return typeof B=="function"}var Gu=0,ci=1,Jr=2,Ja=3,tu=4,js=5,cd=6,b0=7,nu=8,sh=9,ju=10,Na=11,fd=12,gb=13,hh=14,Ll=15,tf=16,eh=17,Uu=18,j0=19,p_=20,gc=21,Vm=22,Il=23,Ol=25,g_=1;var nf=7,_0=8,lh=9,ul=10,w0=function(B){return B[B.None=0]="None",B[B.HasTransplantedViews=2]="HasTransplantedViews",B}(w0||{});function mc(B){return Array.isArray(B)&&typeof B[g_]=="object"}function Wu(B){return Array.isArray(B)&&B[g_]===!0}function m_(B){return(B.flags&4)!==0}function U0(B){return B.componentOffset>-1}function ry(B){return(B.flags&1)===1}function dh(B){return!!B.template}function av(B){return(B[Jr]&512)!==0}var sv=class{constructor(P,J,S){this.previousValue=P,this.currentValue=J,this.firstChange=S}isFirstChange(){return this.firstChange}};function v_(B,P,J,S){P!==null?P.applyValueToInputSignal(P,S):B[J]=S}function ph(){return y_}function y_(B){return B.type.prototype.ngOnChanges&&(B.setInput=bM),xM}ph.ngInherit=!0;function xM(){let B=b_(this),P=B?.current;if(P){let J=B.previous;if(J===ld)B.previous=P;else for(let S in P)J[S]=P[S];B.current=null,this.ngOnChanges(P)}}function bM(B,P,J,S,x){let e=this.declaredInputs[S],p=b_(B)||_M(B,{previous:ld,current:null}),y=p.current||(p.current={}),n=p.previous,M=n[e];y[e]=new sv(M&&M.currentValue,J,n===ld),v_(B,P,x,J)}var x_="__ngSimpleChanges__";function b_(B){return B[x_]||null}function _M(B,P){return B[x_]=P}var mb=null;var _u=function(B,P,J){mb?.(B,P,J)},__="svg",wM="math";function Mu(B){for(;Array.isArray(B);)B=B[Gu];return B}function TM(B,P){return Mu(P[B])}function Pl(B,P){return Mu(P[B.index])}function w_(B,P){return B.data[P]}function MM(B,P){return B[P]}function yc(B,P){let J=P[B];return mc(J)?J:J[Gu]}function AM(B){return(B[Jr]&4)===4}function iy(B){return(B[Jr]&128)===128}function kM(B){return Wu(B[Ja])}function T0(B,P){return P==null?null:B[P]}function T_(B){B[eh]=0}function M_(B){B[Jr]&1024||(B[Jr]|=1024,iy(B)&&V0(B))}function SM(B,P){for(;B>0;)P=P[hh],B--;return P}function hd(B){return!!(B[Jr]&9216||B[Il]?.dirty)}function lv(B){B[ju].changeDetectionScheduler?.notify(7),B[Jr]&64&&(B[Jr]|=1024),hd(B)&&V0(B)}function V0(B){B[ju].changeDetectionScheduler?.notify(0);let P=rf(B);for(;P!==null&&!(P[Jr]&8192||(P[Jr]|=8192,!iy(P)));)P=rf(P)}function A_(B,P){if((B[Jr]&256)===256)throw new Yr(911,!1);B[gc]===null&&(B[gc]=[]),B[gc].push(P)}function EM(B,P){if(B[gc]===null)return;let J=B[gc].indexOf(P);J!==-1&&B[gc].splice(J,1)}function rf(B){let P=B[Ja];return Wu(P)?P[Ja]:P}var yi={lFrame:B_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var k_=!1;function CM(){return yi.lFrame.elementDepthCount}function DM(){yi.lFrame.elementDepthCount++}function IM(){yi.lFrame.elementDepthCount--}function S_(){return yi.bindingsEnabled}function E_(){return yi.skipHydrationRootTNode!==null}function LM(B){return yi.skipHydrationRootTNode===B}function OM(){yi.skipHydrationRootTNode=null}function ro(){return yi.lFrame.lView}function Us(){return yi.lFrame.tView}function C_(B){return yi.lFrame.contextLView=B,B[nu]}function D_(B){return yi.lFrame.contextLView=null,B}function cl(){let B=I_();for(;B!==null&&B.type===64;)B=B.parent;return B}function I_(){return yi.lFrame.currentTNode}function PM(){let B=yi.lFrame,P=B.currentTNode;return B.isParent?P:P.parent}function yd(B,P){let J=yi.lFrame;J.currentTNode=B,J.isParent=P}function L_(){return yi.lFrame.isParent}function O_(){yi.lFrame.isParent=!1}function P_(){return k_}function vb(B){k_=B}function R_(){let B=yi.lFrame,P=B.bindingRootIndex;return P===-1&&(P=B.bindingRootIndex=B.tView.bindingStartIndex),P}function RM(B){return yi.lFrame.bindingIndex=B}function oy(){return yi.lFrame.bindingIndex++}function NM(){return yi.lFrame.inI18n}function FM(B,P){let J=yi.lFrame;J.bindingIndex=J.bindingRootIndex=B,uv(P)}function zM(){return yi.lFrame.currentDirectiveIndex}function uv(B){yi.lFrame.currentDirectiveIndex=B}function N_(){return yi.lFrame.currentQueryIndex}function ay(B){yi.lFrame.currentQueryIndex=B}function BM(B){let P=B[ci];return P.type===2?P.declTNode:P.type===1?B[js]:null}function F_(B,P,J){if(J&mi.SkipSelf){let x=P,e=B;for(;x=x.parent,x===null&&!(J&mi.Host);)if(x=BM(e),x===null||(e=e[hh],x.type&10))break;if(x===null)return!1;P=x,B=e}let S=yi.lFrame=z_();return S.currentTNode=P,S.lView=B,!0}function sy(B){let P=z_(),J=B[ci];yi.lFrame=P,P.currentTNode=J.firstChild,P.lView=B,P.tView=J,P.contextLView=B,P.bindingIndex=J.bindingStartIndex,P.inI18n=!1}function z_(){let B=yi.lFrame,P=B===null?null:B.child;return P===null?B_(B):P}function B_(B){let P={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:B,child:null,inI18n:!1};return B!==null&&(B.child=P),P}function j_(){let B=yi.lFrame;return yi.lFrame=B.parent,B.currentTNode=null,B.lView=null,B}var U_=j_;function ly(){let B=j_();B.isParent=!0,B.tView=null,B.selectedIndex=-1,B.contextLView=null,B.elementDepthCount=0,B.currentDirectiveIndex=-1,B.currentNamespace=null,B.bindingRootIndex=-1,B.bindingIndex=-1,B.currentQueryIndex=0}function jM(B){return(yi.lFrame.contextLView=SM(B,yi.lFrame.contextLView))[nu]}function uy(){return yi.lFrame.selectedIndex}function of(B){yi.lFrame.selectedIndex=B}function V_(){let B=yi.lFrame;return w_(B.tView,B.selectedIndex)}function xd(){yi.lFrame.currentNamespace=__}function H0(){UM()}function UM(){yi.lFrame.currentNamespace=null}function VM(){return yi.lFrame.currentNamespace}var H_=!0;function cy(){return H_}function fy(B){H_=B}function HM(B,P,J){let{ngOnChanges:S,ngOnInit:x,ngDoCheck:e}=P.type.prototype;if(S){let p=y_(P);(J.preOrderHooks??=[]).push(B,p),(J.preOrderCheckHooks??=[]).push(B,p)}x&&(J.preOrderHooks??=[]).push(0-B,x),e&&((J.preOrderHooks??=[]).push(B,e),(J.preOrderCheckHooks??=[]).push(B,e))}function hy(B,P){for(let J=P.directiveStart,S=P.directiveEnd;J<S;J++){let e=B.data[J].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:n,ngAfterViewChecked:M,ngOnDestroy:b}=e;p&&(B.contentHooks??=[]).push(-J,p),y&&((B.contentHooks??=[]).push(J,y),(B.contentCheckHooks??=[]).push(J,y)),n&&(B.viewHooks??=[]).push(-J,n),M&&((B.viewHooks??=[]).push(J,M),(B.viewCheckHooks??=[]).push(J,M)),b!=null&&(B.destroyHooks??=[]).push(J,b)}}function f0(B,P,J){q_(B,P,3,J)}function h0(B,P,J,S){(B[Jr]&3)===J&&q_(B,P,J,S)}function Hm(B,P){let J=B[Jr];(J&3)===P&&(J&=16383,J+=1,B[Jr]=J)}function q_(B,P,J,S){let x=S!==void 0?B[eh]&65535:0,e=S??-1,p=P.length-1,y=0;for(let n=x;n<p;n++)if(typeof P[n+1]=="number"){if(y=P[n],S!=null&&y>=S)break}else P[n]<0&&(B[eh]+=65536),(y<e||e==-1)&&(qM(B,J,P,n),B[eh]=(B[eh]&4294901760)+n+2),n++}function yb(B,P){_u(4,B,P);let J=$i(null);try{P.call(B)}finally{$i(J),_u(5,B,P)}}function qM(B,P,J,S){let x=J[S]<0,e=J[S+1],p=x?-J[S]:J[S],y=B[p];x?B[Jr]>>14<B[eh]>>16&&(B[Jr]&3)===P&&(B[Jr]+=16384,yb(y,e)):yb(y,e)}var rh=-1,af=class{constructor(P,J,S){this.factory=P,this.resolving=!1,this.canSeeViewProviders=J,this.injectImpl=S}};function GM(B){return B instanceof af}function WM(B){return(B.flags&8)!==0}function YM(B){return(B.flags&16)!==0}function G_(B){return B!==rh}function M0(B){return B&32767}function $M(B){return B>>16}function A0(B,P){let J=$M(B),S=P;for(;J>0;)S=S[hh],J--;return S}var cv=!0;function k0(B){let P=cv;return cv=B,P}var ZM=256,W_=ZM-1,Y_=5,XM=0,wu={};function KM(B,P,J){let S;typeof J=="string"?S=J.charCodeAt(0)||0:J.hasOwnProperty(ad)&&(S=J[ad]),S==null&&(S=J[ad]=XM++);let x=S&W_,e=1<<x;P.data[B+(x>>Y_)]|=e}function S0(B,P){let J=$_(B,P);if(J!==-1)return J;let S=P[ci];S.firstCreatePass&&(B.injectorIndex=P.length,qm(S.data,B),qm(P,null),qm(S.blueprint,null));let x=dy(B,P),e=B.injectorIndex;if(G_(x)){let p=M0(x),y=A0(x,P),n=y[ci].data;for(let M=0;M<8;M++)P[e+M]=y[p+M]|n[p+M]}return P[e+8]=x,e}function qm(B,P){B.push(0,0,0,0,0,0,0,0,P)}function $_(B,P){return B.injectorIndex===-1||B.parent&&B.parent.injectorIndex===B.injectorIndex||P[B.injectorIndex+8]===null?-1:B.injectorIndex}function dy(B,P){if(B.parent&&B.parent.injectorIndex!==-1)return B.parent.injectorIndex;let J=0,S=null,x=P;for(;x!==null;){if(S=Q_(x),S===null)return rh;if(J++,x=x[hh],S.injectorIndex!==-1)return S.injectorIndex|J<<16}return rh}function fv(B,P,J){KM(B,P,J)}function Z_(B,P,J){if(J&mi.Optional||B!==void 0)return B;Xv(P,"NodeInjector")}function X_(B,P,J,S){if(J&mi.Optional&&S===void 0&&(S=null),!(J&(mi.Self|mi.Host))){let x=B[sh],e=Fs(void 0);try{return x?x.get(P,S,J&mi.Optional):Zb(P,S,J&mi.Optional)}finally{Fs(e)}}return Z_(S,P,J)}function K_(B,P,J,S=mi.Default,x){if(B!==null){if(P[Jr]&2048&&!(S&mi.Self)){let p=tA(B,P,J,S,wu);if(p!==wu)return p}let e=J_(B,P,J,S,wu);if(e!==wu)return e}return X_(P,J,S,x)}function J_(B,P,J,S,x){let e=QM(J);if(typeof e=="function"){if(!F_(P,B,S))return S&mi.Host?Z_(x,J,S):X_(P,J,S,x);try{let p;if(p=e(S),p==null&&!(S&mi.Optional))Xv(J);else return p}finally{U_()}}else if(typeof e=="number"){let p=null,y=$_(B,P),n=rh,M=S&mi.Host?P[Ll][js]:null;for((y===-1||S&mi.SkipSelf)&&(n=y===-1?dy(B,P):P[y+8],n===rh||!bb(S,!1)?y=-1:(p=P[ci],y=M0(n),P=A0(n,P)));y!==-1;){let b=P[ci];if(xb(e,y,b.data)){let f=JM(y,P,J,p,S,M);if(f!==wu)return f}n=P[y+8],n!==rh&&bb(S,P[ci].data[y+8]===M)&&xb(e,y,P)?(p=b,y=M0(n),P=A0(n,P)):y=-1}}return x}function JM(B,P,J,S,x,e){let p=P[ci],y=p.data[B+8],n=S==null?U0(y)&&cv:S!=p&&(y.type&3)!==0,M=x&mi.Host&&e===y,b=d0(y,p,J,n,M);return b!==null?sf(P,p,b,y):wu}function d0(B,P,J,S,x){let e=B.providerIndexes,p=P.data,y=e&1048575,n=B.directiveStart,M=B.directiveEnd,b=e>>20,f=S?y:y+b,s=x?y+b:M;for(let t=f;t<s;t++){let o=p[t];if(t<n&&J===o||t>=n&&o.type===J)return t}if(x){let t=p[n];if(t&&dh(t)&&t.type===J)return n}return null}function sf(B,P,J,S){let x=B[J],e=P.data;if(GM(x)){let p=x;p.resolving&&D6(C6(e[J]));let y=k0(p.canSeeViewProviders);p.resolving=!0;let n,M=p.injectImpl?Fs(p.injectImpl):null,b=F_(B,S,mi.Default);try{x=B[J]=p.factory(void 0,e,B,S),P.firstCreatePass&&J>=S.directiveStart&&HM(J,e[J],P)}finally{M!==null&&Fs(M),k0(y),p.resolving=!1,U_()}}return x}function QM(B){if(typeof B=="string")return B.charCodeAt(0)||0;let P=B.hasOwnProperty(ad)?B[ad]:void 0;return typeof P=="number"?P>=0?P&W_:eA:P}function xb(B,P,J){let S=1<<B;return!!(J[P+(B>>Y_)]&S)}function bb(B,P){return!(B&mi.Self)&&!(B&mi.Host&&P)}var Jc=class{constructor(P,J){this._tNode=P,this._lView=J}get(P,J,S){return K_(this._tNode,this._lView,P,F0(S),J)}};function eA(){return new Jc(cl(),ro())}function py(B){return vd(()=>{let P=B.prototype.constructor,J=P[m0]||hv(P),S=Object.prototype,x=Object.getPrototypeOf(B.prototype).constructor;for(;x&&x!==S;){let e=x[m0]||hv(x);if(e&&e!==J)return e;x=Object.getPrototypeOf(x)}return e=>new e})}function hv(B){return Hb(B)?()=>{let P=hv(gs(B));return P&&P()}:Qc(B)}function tA(B,P,J,S,x){let e=B,p=P;for(;e!==null&&p!==null&&p[Jr]&2048&&!(p[Jr]&512);){let y=J_(e,p,J,S|mi.Self,wu);if(y!==wu)return y;let n=e.parent;if(!n){let M=p[p_];if(M){let b=M.get(J,wu,S);if(b!==wu)return b}n=Q_(p),p=p[hh]}e=n}return x}function Q_(B){let P=B[ci],J=P.type;return J===2?P.declTNode:J===1?B[js]:null}function _b(B,P=null,J=null,S){let x=ew(B,P,J,S);return x.resolveInjectorInitializers(),x}function ew(B,P=null,J=null,S,x=new Set){let e=[J||bu,aM(B)];return S=S||(typeof B=="object"?void 0:zs(B)),new ud(e,P||ny(),S||null,x)}var Xc=class Xc{static create(P,J){if(Array.isArray(P))return _b({name:""},J,P,"");{let S=P.name??"";return _b({name:S},P.parent,P.providers,S)}}};Xc.THROW_IF_NOT_FOUND=sd,Xc.NULL=new x0,Xc.\u0275prov=Vr({token:Xc,providedIn:"any",factory:()=>ni(Jb)}),Xc.__NG_ELEMENT_ID__=-1;var lf=Xc;var nA=new Qr("");nA.__NG_ELEMENT_ID__=B=>{let P=cl();if(P===null)throw new Yr(204,!1);if(P.type&2)return P.value;if(B&mi.Optional)return null;throw new Yr(204,!1)};var rA="ngOriginalError";function Gm(B){return B[rA]}var Vu=class{constructor(){this._console=console}handleError(P){let J=this._findOriginalError(P);this._console.error("ERROR",P),J&&this._console.error("ORIGINAL ERROR",J)}_findOriginalError(P){let J=P&&Gm(P);for(;J&&Gm(J);)J=Gm(J);return J||null}},tw=new Qr("",{providedIn:"root",factory:()=>Dr(Vu).handleError.bind(void 0)}),nw=(()=>{let P=class P{};P.__NG_ELEMENT_ID__=iA,P.__NG_ENV_ID__=S=>S;let B=P;return B})(),dv=class extends nw{constructor(P){super(),this._lView=P}onDestroy(P){return A_(this._lView,P),()=>EM(this._lView,P)}};function iA(){return new dv(ro())}function oA(){return gh(cl(),ro())}function gh(B,P){return new Yu(Pl(B,P))}var Yu=(()=>{let P=class P{constructor(S){this.nativeElement=S}};P.__NG_ELEMENT_ID__=oA;let B=P;return B})();function aA(B){return B instanceof Yu?B.nativeElement:B}var xc=(()=>{let P=class P{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ra(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let S=this.taskId++;return this.pendingTasks.add(S),S}remove(S){this.pendingTasks.delete(S),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};P.\u0275prov=Vr({token:P,providedIn:"root",factory:()=>new P});let B=P;return B})();var pv=class extends ps{constructor(P=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=P,vM()&&(this.destroyRef=Dr(nw,{optional:!0})??void 0,this.pendingTasks=Dr(xc,{optional:!0})??void 0)}emit(P){let J=$i(null);try{super.next(P)}finally{$i(J)}}subscribe(P,J,S){let x=P,e=J||(()=>null),p=S;if(P&&typeof P=="object"){let n=P;x=n.next?.bind(n),e=n.error?.bind(n),p=n.complete?.bind(n)}this.__isAsync&&(e=this.wrapInTimeout(e),x&&(x=this.wrapInTimeout(x)),p&&(p=this.wrapInTimeout(p)));let y=super.subscribe({next:x,error:e,complete:p});return P instanceof ta&&P.add(y),y}wrapInTimeout(P){return J=>{let S=this.pendingTasks?.add();setTimeout(()=>{P(J),S!==void 0&&this.pendingTasks?.remove(S)})}}},Gr=pv;function sA(){return this._results[Symbol.iterator]()}var gv=class B{get changes(){return this._changes??=new Gr}constructor(P=!1){this._emitDistinctChangesOnly=P,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let J=B.prototype;J[Symbol.iterator]||(J[Symbol.iterator]=sA)}get(P){return this._results[P]}map(P){return this._results.map(P)}filter(P){return this._results.filter(P)}find(P){return this._results.find(P)}reduce(P,J){return this._results.reduce(P,J)}forEach(P){this._results.forEach(P)}some(P){return this._results.some(P)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(P,J){this.dirty=!1;let S=U6(P);(this._changesDetected=!j6(this._results,S,J))&&(this._results=S,this.length=S.length,this.last=S[this.length-1],this.first=S[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(P){this._onDirty=P}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function rw(B){return(B.flags&128)===128}var iw=new Map,lA=0;function uA(){return lA++}function cA(B){iw.set(B[j0],B)}function fA(B){iw.delete(B[j0])}var wb="__ngContext__";function uf(B,P){mc(P)?(B[wb]=P[j0],cA(P)):B[wb]=P}function ow(B){return sw(B[fd])}function aw(B){return sw(B[tu])}function sw(B){for(;B!==null&&!Wu(B);)B=B[tu];return B}var mv;function lw(B){mv=B}function hA(){if(mv!==void 0)return mv;if(typeof document<"u")return document;throw new Yr(210,!1)}var gy=new Qr("",{providedIn:"root",factory:()=>dA}),dA="ng",my=new Qr(""),bc=new Qr("",{providedIn:"platform",factory:()=>"unknown"});var vy=new Qr("",{providedIn:"root",factory:()=>hA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pA="h",gA="b";var mA=()=>null;function yy(B,P,J=!1){return mA(B,P,J)}var uw=!1,vA=new Qr("",{providedIn:"root",factory:()=>uw});function cw(B){return B instanceof Function?B():B}var _c=function(B){return B[B.Important=1]="Important",B[B.DashCase=2]="DashCase",B}(_c||{}),yA;function xy(B,P){return yA(B,P)}function th(B,P,J,S,x){if(S!=null){let e,p=!1;Wu(S)?e=S:mc(S)&&(p=!0,S=S[Gu]);let y=Mu(S);B===0&&J!==null?x==null?mw(P,J,y):E0(P,J,y,x||null,!0):B===1&&J!==null?E0(P,J,y,x||null,!0):B===2?LA(P,y,p):B===3&&P.destroyNode(y),e!=null&&PA(P,B,e,J,x)}}function xA(B,P){return B.createText(P)}function bA(B,P,J){B.setValue(P,J)}function fw(B,P,J){return B.createElement(P,J)}function _A(B,P){hw(B,P),P[Gu]=null,P[js]=null}function wA(B,P,J,S,x,e){S[Gu]=x,S[js]=P,q0(B,S,J,1,x,e)}function hw(B,P){P[ju].changeDetectionScheduler?.notify(8),q0(B,P,P[Na],2,null,null)}function TA(B){let P=B[fd];if(!P)return Wm(B[ci],B);for(;P;){let J=null;if(mc(P))J=P[fd];else{let S=P[ul];S&&(J=S)}if(!J){for(;P&&!P[tu]&&P!==B;)mc(P)&&Wm(P[ci],P),P=P[Ja];P===null&&(P=B),mc(P)&&Wm(P[ci],P),J=P&&P[tu]}P=J}}function MA(B,P,J,S){let x=ul+S,e=J.length;S>0&&(J[x-1][tu]=P),S<e-ul?(P[tu]=J[x],Kb(J,ul+S,P)):(J.push(P),P[tu]=null),P[Ja]=J;let p=P[tf];p!==null&&J!==p&&dw(p,P);let y=P[Uu];y!==null&&y.insertView(B),lv(P),P[Jr]|=128}function dw(B,P){let J=B[lh],S=P[Ja];if(mc(S))B[Jr]|=w0.HasTransplantedViews;else{let x=S[Ja][Ll];P[Ll]!==x&&(B[Jr]|=w0.HasTransplantedViews)}J===null?B[lh]=[P]:J.push(P)}function by(B,P){let J=B[lh],S=J.indexOf(P);J.splice(S,1)}function vv(B,P){if(B.length<=ul)return;let J=ul+P,S=B[J];if(S){let x=S[tf];x!==null&&x!==B&&by(x,S),P>0&&(B[J-1][tu]=S[tu]);let e=y0(B,ul+P);_A(S[ci],S);let p=e[Uu];p!==null&&p.detachView(e[ci]),S[Ja]=null,S[tu]=null,S[Jr]&=-129}return S}function pw(B,P){if(!(P[Jr]&256)){let J=P[Na];J.destroyNode&&q0(B,P,J,3,null,null),TA(P)}}function Wm(B,P){if(P[Jr]&256)return;let J=$i(null);try{P[Jr]&=-129,P[Jr]|=256,P[Il]&&_m(P[Il]),kA(B,P),AA(B,P),P[ci].type===1&&P[Na].destroy();let S=P[tf];if(S!==null&&Wu(P[Ja])){S!==P[Ja]&&by(S,P);let x=P[Uu];x!==null&&x.detachView(B)}fA(P)}finally{$i(J)}}function AA(B,P){let J=B.cleanup,S=P[b0];if(J!==null)for(let e=0;e<J.length-1;e+=2)if(typeof J[e]=="string"){let p=J[e+3];p>=0?S[p]():S[-p].unsubscribe(),e+=2}else{let p=S[J[e+1]];J[e].call(p)}S!==null&&(P[b0]=null);let x=P[gc];if(x!==null){P[gc]=null;for(let e=0;e<x.length;e++){let p=x[e];p()}}}function kA(B,P){let J;if(B!=null&&(J=B.destroyHooks)!=null)for(let S=0;S<J.length;S+=2){let x=P[J[S]];if(!(x instanceof af)){let e=J[S+1];if(Array.isArray(e))for(let p=0;p<e.length;p+=2){let y=x[e[p]],n=e[p+1];_u(4,y,n);try{n.call(y)}finally{_u(5,y,n)}}else{_u(4,x,e);try{e.call(x)}finally{_u(5,x,e)}}}}}function gw(B,P,J){return SA(B,P.parent,J)}function SA(B,P,J){let S=P;for(;S!==null&&S.type&40;)P=S,S=P.parent;if(S===null)return J[Gu];{let{componentOffset:x}=S;if(x>-1){let{encapsulation:e}=B.data[S.directiveStart+x];if(e===Tu.None||e===Tu.Emulated)return null}return Pl(S,J)}}function E0(B,P,J,S,x){B.insertBefore(P,J,S,x)}function mw(B,P,J){B.appendChild(P,J)}function Tb(B,P,J,S,x){S!==null?E0(B,P,J,S,x):mw(B,P,J)}function EA(B,P,J,S){B.removeChild(P,J,S)}function _y(B,P){return B.parentNode(P)}function CA(B,P){return B.nextSibling(P)}function vw(B,P,J){return IA(B,P,J)}function DA(B,P,J){return B.type&40?Pl(B,J):null}var IA=DA,Mb;function wy(B,P,J,S){let x=gw(B,S,P),e=P[Na],p=S.parent||P[js],y=vw(p,S,P);if(x!=null)if(Array.isArray(J))for(let n=0;n<J.length;n++)Tb(e,x,J[n],y,!1);else Tb(e,x,J,y,!1);Mb!==void 0&&Mb(e,S,P,J,x)}function p0(B,P){if(P!==null){let J=P.type;if(J&3)return Pl(P,B);if(J&4)return yv(-1,B[P.index]);if(J&8){let S=P.child;if(S!==null)return p0(B,S);{let x=B[P.index];return Wu(x)?yv(-1,x):Mu(x)}}else{if(J&32)return xy(P,B)()||Mu(B[P.index]);{let S=yw(B,P);if(S!==null){if(Array.isArray(S))return S[0];let x=rf(B[Ll]);return p0(x,S)}else return p0(B,P.next)}}}return null}function yw(B,P){if(P!==null){let S=B[Ll][js],x=P.projection;return S.projection[x]}return null}function yv(B,P){let J=ul+B+1;if(J<P.length){let S=P[J],x=S[ci].firstChild;if(x!==null)return p0(S,x)}return P[nf]}function LA(B,P,J){let S=_y(B,P);S&&EA(B,S,P,J)}function Ty(B,P,J,S,x,e,p){for(;J!=null;){let y=S[J.index],n=J.type;if(p&&P===0&&(y&&uf(Mu(y),S),J.flags|=2),(J.flags&32)!==32)if(n&8)Ty(B,P,J.child,S,x,e,!1),th(P,B,x,y,e);else if(n&32){let M=xy(J,S),b;for(;b=M();)th(P,B,x,b,e);th(P,B,x,y,e)}else n&16?xw(B,P,S,J,x,e):th(P,B,x,y,e);J=p?J.projectionNext:J.next}}function q0(B,P,J,S,x,e){Ty(J,S,B.firstChild,P,x,e,!1)}function OA(B,P,J){let S=P[Na],x=gw(B,J,P),e=J.parent||P[js],p=vw(e,J,P);xw(S,0,P,J,x,p)}function xw(B,P,J,S,x,e){let p=J[Ll],n=p[js].projection[S.projection];if(Array.isArray(n))for(let M=0;M<n.length;M++){let b=n[M];th(P,B,x,b,e)}else{let M=n,b=p[Ja];rw(S)&&(M.flags|=128),Ty(B,P,M,b,x,e,!0)}}function PA(B,P,J,S,x){let e=J[nf],p=Mu(J);e!==p&&th(P,B,S,e,x);for(let y=ul;y<J.length;y++){let n=J[y];q0(n[ci],n,B,P,S,e)}}function RA(B,P,J){B.setAttribute(P,"style",J)}function bw(B,P,J){J===""?B.removeAttribute(P,"class"):B.setAttribute(P,"class",J)}function _w(B,P,J){let{mergedAttrs:S,classes:x,styles:e}=J;S!==null&&nv(B,P,S),x!==null&&bw(B,P,x),e!==null&&RA(B,P,e)}var mh={};function Mo(B=1){ww(Us(),ro(),uy()+B,!1)}function ww(B,P,J,S){if(!S)if((P[Jr]&3)===3){let e=B.preOrderCheckHooks;e!==null&&f0(P,e,J)}else{let e=B.preOrderHooks;e!==null&&h0(P,e,0,J)}of(J)}function yo(B,P=mi.Default){let J=ro();if(J===null)return ni(B,P);let S=cl();return K_(S,J,gs(B),P)}function Tw(B,P,J,S,x,e){let p=$i(null);try{let y=null;x&oh.SignalBased&&(y=P[S][S2]),y!==null&&y.transformFn!==void 0&&(e=y.transformFn(e)),x&oh.HasDecoratorInputTransform&&(e=B.inputTransforms[S].call(P,e)),B.setInput!==null?B.setInput(P,y,e,J,S):v_(P,y,S,e)}finally{$i(p)}}function NA(B,P){let J=B.hostBindingOpCodes;if(J!==null)try{for(let S=0;S<J.length;S++){let x=J[S];if(x<0)of(~x);else{let e=x,p=J[++S],y=J[++S];FM(p,e);let n=P[e];y(2,n)}}}finally{of(-1)}}function G0(B,P,J,S,x,e,p,y,n,M,b){let f=P.blueprint.slice();return f[Gu]=x,f[Jr]=S|4|128|8|64,(M!==null||B&&B[Jr]&2048)&&(f[Jr]|=2048),T_(f),f[Ja]=f[hh]=B,f[nu]=J,f[ju]=p||B&&B[ju],f[Na]=y||B&&B[Na],f[sh]=n||B&&B[sh]||null,f[js]=e,f[j0]=uA(),f[cd]=b,f[p_]=M,f[Ll]=P.type==2?B[Ll]:f,f}function bd(B,P,J,S,x){let e=B.data[P];if(e===null)e=FA(B,P,J,S,x),NM()&&(e.flags|=32);else if(e.type&64){e.type=J,e.value=S,e.attrs=x;let p=PM();e.injectorIndex=p===null?-1:p.injectorIndex}return yd(e,!0),e}function FA(B,P,J,S,x){let e=I_(),p=L_(),y=p?e:e&&e.parent,n=B.data[P]=HA(B,y,J,P,S,x);return B.firstChild===null&&(B.firstChild=n),e!==null&&(p?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e)),n}function Mw(B,P,J,S){if(J===0)return-1;let x=P.length;for(let e=0;e<J;e++)P.push(S),B.blueprint.push(S),B.data.push(null);return x}function Aw(B,P,J,S,x){let e=uy(),p=S&2;try{of(-1),p&&P.length>Ol&&ww(B,P,Ol,!1),_u(p?2:0,x),J(S,x)}finally{of(e),_u(p?3:1,x)}}function kw(B,P,J){if(m_(P)){let S=$i(null);try{let x=P.directiveStart,e=P.directiveEnd;for(let p=x;p<e;p++){let y=B.data[p];if(y.contentQueries){let n=J[p];y.contentQueries(1,n,p)}}}finally{$i(S)}}}function Sw(B,P,J){S_()&&(XA(B,P,J,Pl(J,P)),(J.flags&64)===64&&Lw(B,P,J))}function Ew(B,P,J=Pl){let S=P.localNames;if(S!==null){let x=P.index+1;for(let e=0;e<S.length;e+=2){let p=S[e+1],y=p===-1?J(P,B):B[p];B[x++]=y}}}function Cw(B){let P=B.tView;return P===null||P.incompleteFirstPass?B.tView=My(1,null,B.template,B.decls,B.vars,B.directiveDefs,B.pipeDefs,B.viewQuery,B.schemas,B.consts,B.id):P}function My(B,P,J,S,x,e,p,y,n,M,b){let f=Ol+S,s=f+x,t=zA(f,s),o=typeof M=="function"?M():M;return t[ci]={type:B,blueprint:t,template:J,queries:null,viewQuery:y,declTNode:P,data:t.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:s,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof e=="function"?e():e,pipeRegistry:typeof p=="function"?p():p,firstChild:null,schemas:n,consts:o,incompleteFirstPass:!1,ssrId:b}}function zA(B,P){let J=[];for(let S=0;S<P;S++)J.push(S<B?null:mh);return J}function BA(B,P,J,S){let e=S.get(vA,uw)||J===Tu.ShadowDom,p=B.selectRootElement(P,e);return jA(p),p}function jA(B){UA(B)}var UA=()=>null;function VA(B,P,J,S){let x=Rw(P);x.push(J),B.firstCreatePass&&Nw(B).push(S,x.length-1)}function HA(B,P,J,S,x,e){let p=P?P.injectorIndex:-1,y=0;return E_()&&(y|=128),{type:J,index:S,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:x,attrs:e,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:P,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ab(B,P,J,S,x){for(let e in P){if(!P.hasOwnProperty(e))continue;let p=P[e];if(p===void 0)continue;S??={};let y,n=oh.None;Array.isArray(p)?(y=p[0],n=p[1]):y=p;let M=e;if(x!==null){if(!x.hasOwnProperty(e))continue;M=x[e]}B===0?kb(S,J,M,y,n):kb(S,J,M,y)}return S}function kb(B,P,J,S,x){let e;B.hasOwnProperty(J)?(e=B[J]).push(P,S):e=B[J]=[P,S],x!==void 0&&e.push(x)}function qA(B,P,J){let S=P.directiveStart,x=P.directiveEnd,e=B.data,p=P.attrs,y=[],n=null,M=null;for(let b=S;b<x;b++){let f=e[b],s=J?J.get(f):null,t=s?s.inputs:null,o=s?s.outputs:null;n=Ab(0,f.inputs,b,n,t),M=Ab(1,f.outputs,b,M,o);let r=n!==null&&p!==null&&!ey(P)?sk(n,b,p):null;y.push(r)}n!==null&&(n.hasOwnProperty("class")&&(P.flags|=8),n.hasOwnProperty("style")&&(P.flags|=16)),P.initialInputs=y,P.inputs=n,P.outputs=M}function GA(B){return B==="class"?"className":B==="for"?"htmlFor":B==="formaction"?"formAction":B==="innerHtml"?"innerHTML":B==="readonly"?"readOnly":B==="tabindex"?"tabIndex":B}function WA(B,P,J,S,x,e,p,y){let n=Pl(P,J),M=P.inputs,b;!y&&M!=null&&(b=M[S])?(Ay(B,J,b,S,x),U0(P)&&YA(J,P.index)):P.type&3?(S=GA(S),x=p!=null?p(x,P.value||"",S):x,e.setProperty(n,S,x)):P.type&12}function YA(B,P){let J=yc(P,B);J[Jr]&16||(J[Jr]|=64)}function Dw(B,P,J,S){if(S_()){let x=S===null?null:{"":-1},e=JA(B,J),p,y;e===null?p=y=null:[p,y]=e,p!==null&&Iw(B,P,J,p,x,y),x&&QA(J,S,x)}J.mergedAttrs=Qv(J.mergedAttrs,J.attrs)}function Iw(B,P,J,S,x,e){for(let M=0;M<S.length;M++)fv(S0(J,P),B,S[M].type);tk(J,B.data.length,S.length);for(let M=0;M<S.length;M++){let b=S[M];b.providersResolver&&b.providersResolver(b)}let p=!1,y=!1,n=Mw(B,P,S.length,null);for(let M=0;M<S.length;M++){let b=S[M];J.mergedAttrs=Qv(J.mergedAttrs,b.hostAttrs),nk(B,J,P,n,b),ek(n,b,x),b.contentQueries!==null&&(J.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(J.flags|=64);let f=b.type.prototype;!p&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((B.preOrderHooks??=[]).push(J.index),p=!0),!y&&(f.ngOnChanges||f.ngDoCheck)&&((B.preOrderCheckHooks??=[]).push(J.index),y=!0),n++}qA(B,J,e)}function $A(B,P,J,S,x){let e=x.hostBindings;if(e){let p=B.hostBindingOpCodes;p===null&&(p=B.hostBindingOpCodes=[]);let y=~P.index;ZA(p)!=y&&p.push(y),p.push(J,S,e)}}function ZA(B){let P=B.length;for(;P>0;){let J=B[--P];if(typeof J=="number"&&J<0)return J}return 0}function XA(B,P,J,S){let x=J.directiveStart,e=J.directiveEnd;U0(J)&&rk(P,J,B.data[x+J.componentOffset]),B.firstCreatePass||S0(J,P),uf(S,P);let p=J.initialInputs;for(let y=x;y<e;y++){let n=B.data[y],M=sf(P,B,y,J);if(uf(M,P),p!==null&&ak(P,y-x,M,n,J,p),dh(n)){let b=yc(J.index,P);b[nu]=sf(P,B,y,J)}}}function Lw(B,P,J){let S=J.directiveStart,x=J.directiveEnd,e=J.index,p=zM();try{of(e);for(let y=S;y<x;y++){let n=B.data[y],M=P[y];uv(y),(n.hostBindings!==null||n.hostVars!==0||n.hostAttrs!==null)&&KA(n,M)}}finally{of(-1),uv(p)}}function KA(B,P){B.hostBindings!==null&&B.hostBindings(1,P)}function JA(B,P){let J=B.directiveRegistry,S=null,x=null;if(J)for(let e=0;e<J.length;e++){let p=J[e];if(n_(P,p.selectors,!1))if(S||(S=[]),dh(p))if(p.findHostDirectiveDefs!==null){let y=[];x=x||new Map,p.findHostDirectiveDefs(p,y,x),S.unshift(...y,p);let n=y.length;xv(B,P,n)}else S.unshift(p),xv(B,P,0);else x=x||new Map,p.findHostDirectiveDefs?.(p,S,x),S.push(p)}return S===null?null:[S,x]}function xv(B,P,J){P.componentOffset=J,(B.components??=[]).push(P.index)}function QA(B,P,J){if(P){let S=B.localNames=[];for(let x=0;x<P.length;x+=2){let e=J[P[x+1]];if(e==null)throw new Yr(-301,!1);S.push(P[x],e)}}}function ek(B,P,J){if(J){if(P.exportAs)for(let S=0;S<P.exportAs.length;S++)J[P.exportAs[S]]=B;dh(P)&&(J[""]=B)}}function tk(B,P,J){B.flags|=1,B.directiveStart=P,B.directiveEnd=P+J,B.providerIndexes=P}function nk(B,P,J,S,x){B.data[S]=x;let e=x.factory||(x.factory=Qc(x.type,!0)),p=new af(e,dh(x),yo);B.blueprint[S]=p,J[S]=p,$A(B,P,S,Mw(B,J,x.hostVars,mh),x)}function rk(B,P,J){let S=Pl(P,B),x=Cw(J),e=B[ju].rendererFactory,p=16;J.signals?p=4096:J.onPush&&(p=64);let y=W0(B,G0(B,x,null,p,S,P,null,e.createRenderer(S,J),null,null,null));B[P.index]=y}function ik(B,P,J,S,x,e){let p=Pl(B,P);ok(P[Na],p,e,B.value,J,S,x)}function ok(B,P,J,S,x,e,p){if(e==null)B.removeAttribute(P,x,J);else{let y=p==null?Zv(e):p(e,S||"",x);B.setAttribute(P,x,y,J)}}function ak(B,P,J,S,x,e){let p=e[P];if(p!==null)for(let y=0;y<p.length;){let n=p[y++],M=p[y++],b=p[y++],f=p[y++];Tw(S,J,n,M,b,f)}}function sk(B,P,J){let S=null,x=0;for(;x<J.length;){let e=J[x];if(e===0){x+=4;continue}else if(e===5){x+=2;continue}if(typeof e=="number")break;if(B.hasOwnProperty(e)){S===null&&(S=[]);let p=B[e];for(let y=0;y<p.length;y+=3)if(p[y]===P){S.push(e,p[y+1],p[y+2],J[x+1]);break}}x+=2}return S}function Ow(B,P,J,S){return[B,!0,0,P,null,S,null,J,null,null]}function Pw(B,P){let J=B.contentQueries;if(J!==null){let S=$i(null);try{for(let x=0;x<J.length;x+=2){let e=J[x],p=J[x+1];if(p!==-1){let y=B.data[p];ay(e),y.contentQueries(2,P[p],p)}}}finally{$i(S)}}}function W0(B,P){return B[fd]?B[gb][tu]=P:B[fd]=P,B[gb]=P,P}function bv(B,P,J){ay(0);let S=$i(null);try{P(B,J)}finally{$i(S)}}function Rw(B){return B[b0]??=[]}function Nw(B){return B.cleanup??=[]}function Fw(B,P){let J=B[sh],S=J?J.get(Vu,null):null;S&&S.handleError(P)}function Ay(B,P,J,S,x){for(let e=0;e<J.length;){let p=J[e++],y=J[e++],n=J[e++],M=P[p],b=B.data[p];Tw(b,M,S,y,n,x)}}function lk(B,P,J){let S=TM(P,B);bA(B[Na],S,J)}function uk(B,P){let J=yc(P,B),S=J[ci];ck(S,J);let x=J[Gu];x!==null&&J[cd]===null&&(J[cd]=yy(x,J[sh])),ky(S,J,J[nu])}function ck(B,P){for(let J=P.length;J<B.blueprint.length;J++)P.push(B.blueprint[J])}function ky(B,P,J){sy(P);try{let S=B.viewQuery;S!==null&&bv(1,S,J);let x=B.template;x!==null&&Aw(B,P,x,1,J),B.firstCreatePass&&(B.firstCreatePass=!1),P[Uu]?.finishViewCreation(B),B.staticContentQueries&&Pw(B,P),B.staticViewQueries&&bv(2,B.viewQuery,J);let e=B.components;e!==null&&fk(P,e)}catch(S){throw B.firstCreatePass&&(B.incompleteFirstPass=!0,B.firstCreatePass=!1),S}finally{P[Jr]&=-5,ly()}}function fk(B,P){for(let J=0;J<P.length;J++)uk(B,P[J])}function zw(B,P,J,S){let x=$i(null);try{let e=P.tView,y=B[Jr]&4096?4096:16,n=G0(B,e,J,y,null,P,null,null,S?.injector??null,S?.embeddedViewInjector??null,S?.dehydratedView??null),M=B[P.index];n[tf]=M;let b=B[Uu];return b!==null&&(n[Uu]=b.createEmbeddedView(e)),ky(e,n,J),n}finally{$i(x)}}function _v(B,P){return!P||P.firstChild===null||rw(B)}function Bw(B,P,J,S=!0){let x=P[ci];if(MA(x,P,B,J),S){let p=yv(J,B),y=P[Na],n=_y(y,B[nf]);n!==null&&wA(x,B[js],y,P,n,p)}let e=P[cd];e!==null&&e.firstChild!==null&&(e.firstChild=null)}function C0(B,P,J,S,x=!1){for(;J!==null;){let e=P[J.index];e!==null&&S.push(Mu(e)),Wu(e)&&hk(e,S);let p=J.type;if(p&8)C0(B,P,J.child,S);else if(p&32){let y=xy(J,P),n;for(;n=y();)S.push(n)}else if(p&16){let y=yw(P,J);if(Array.isArray(y))S.push(...y);else{let n=rf(P[Ll]);C0(n[ci],n,y,S,!0)}}J=x?J.projectionNext:J.next}return S}function hk(B,P){for(let J=ul;J<B.length;J++){let S=B[J],x=S[ci].firstChild;x!==null&&C0(S[ci],S,x,P)}B[nf]!==B[Gu]&&P.push(B[nf])}var jw=[];function dk(B){return B[Il]??pk(B)}function pk(B){let P=jw.pop()??Object.create(mk);return P.lView=B,P}function gk(B){B.lView[Il]!==B&&(B.lView=null,jw.push(B))}var mk=Yo(zr({},ym),{consumerIsAlwaysLive:!0,consumerMarkedDirty:B=>{V0(B.lView)},consumerOnSignalRead(){this.lView[Il]=this}});function vk(B){let P=B[Il]??Object.create(yk);return P.lView=B,P}var yk=Yo(zr({},ym),{consumerIsAlwaysLive:!0,consumerMarkedDirty:B=>{let P=rf(B.lView);for(;P&&!Uw(P[ci]);)P=rf(P);P&&M_(P)},consumerOnSignalRead(){this.lView[Il]=this}});function Uw(B){return B.type!==2}var xk=100;function Vw(B,P=!0,J=0){let S=B[ju],x=S.rendererFactory,e=!1;e||x.begin?.();try{bk(B,J)}catch(p){throw P&&Fw(B,p),p}finally{e||(x.end?.(),S.inlineEffectRunner?.flush())}}function bk(B,P){let J=P_();try{vb(!0),wv(B,P);let S=0;for(;hd(B);){if(S===xk)throw new Yr(103,!1);S++,wv(B,1)}}finally{vb(J)}}function _k(B,P,J,S){let x=P[Jr];if((x&256)===256)return;let e=!1,p=!1;!e&&P[ju].inlineEffectRunner?.flush(),sy(P);let y=!0,n=null,M=null;e||(Uw(B)?(M=dk(P),n=xm(M)):E2()===null?(y=!1,M=vk(P),n=xm(M)):P[Il]&&(_m(P[Il]),P[Il]=null));try{T_(P),RM(B.bindingStartIndex),J!==null&&Aw(B,P,J,2,S);let b=(x&3)===3;if(!e)if(b){let t=B.preOrderCheckHooks;t!==null&&f0(P,t,null)}else{let t=B.preOrderHooks;t!==null&&h0(P,t,0,null),Hm(P,0)}if(p||wk(P),Hw(P,0),B.contentQueries!==null&&Pw(B,P),!e)if(b){let t=B.contentCheckHooks;t!==null&&f0(P,t)}else{let t=B.contentHooks;t!==null&&h0(P,t,1),Hm(P,1)}NA(B,P);let f=B.components;f!==null&&Gw(P,f,0);let s=B.viewQuery;if(s!==null&&bv(2,s,S),!e)if(b){let t=B.viewCheckHooks;t!==null&&f0(P,t)}else{let t=B.viewHooks;t!==null&&h0(P,t,2),Hm(P,2)}if(B.firstUpdatePass===!0&&(B.firstUpdatePass=!1),P[Vm]){for(let t of P[Vm])t();P[Vm]=null}e||(P[Jr]&=-73)}catch(b){throw e||V0(P),b}finally{M!==null&&(C2(M,n),y&&gk(M)),ly()}}function Hw(B,P){for(let J=ow(B);J!==null;J=aw(J))for(let S=ul;S<J.length;S++){let x=J[S];qw(x,P)}}function wk(B){for(let P=ow(B);P!==null;P=aw(P)){if(!(P[Jr]&w0.HasTransplantedViews))continue;let J=P[lh];for(let S=0;S<J.length;S++){let x=J[S];M_(x)}}}function Tk(B,P,J){let S=yc(P,B);qw(S,J)}function qw(B,P){iy(B)&&wv(B,P)}function wv(B,P){let S=B[ci],x=B[Jr],e=B[Il],p=!!(P===0&&x&16);if(p||=!!(x&64&&P===0),p||=!!(x&1024),p||=!!(e?.dirty&&bm(e)),p||=!1,e&&(e.dirty=!1),B[Jr]&=-9217,p)_k(S,B,S.template,B[nu]);else if(x&8192){Hw(B,1);let y=S.components;y!==null&&Gw(B,y,1)}}function Gw(B,P,J){for(let S=0;S<P.length;S++)Tk(B,P[S],J)}function Sy(B,P){let J=P_()?64:1088;for(B[ju].changeDetectionScheduler?.notify(P);B;){B[Jr]|=J;let S=rf(B);if(av(B)&&!S)return B;B=S}return null}var cf=class{get rootNodes(){let P=this._lView,J=P[ci];return C0(J,P,J.firstChild,[])}constructor(P,J,S=!0){this._lView=P,this._cdRefInjectingView=J,this.notifyErrorHandler=S,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nu]}set context(P){this._lView[nu]=P}get destroyed(){return(this._lView[Jr]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let P=this._lView[Ja];if(Wu(P)){let J=P[_0],S=J?J.indexOf(this):-1;S>-1&&(vv(P,S),y0(J,S))}this._attachedToViewContainer=!1}pw(this._lView[ci],this._lView)}onDestroy(P){A_(this._lView,P)}markForCheck(){Sy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Jr]&=-129}reattach(){lv(this._lView),this._lView[Jr]|=128}detectChanges(){this._lView[Jr]|=1024,Vw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Yr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let P=av(this._lView),J=this._lView[tf];J!==null&&!P&&by(J,this._lView),hw(this._lView[ci],this._lView)}attachToAppRef(P){if(this._attachedToViewContainer)throw new Yr(902,!1);this._appRef=P;let J=av(this._lView),S=this._lView[tf];S!==null&&!J&&dw(S,this._lView),lv(this._lView)}},ff=(()=>{let P=class P{};P.__NG_ELEMENT_ID__=kk;let B=P;return B})(),Mk=ff,Ak=class extends Mk{constructor(P,J,S){super(),this._declarationLView=P,this._declarationTContainer=J,this.elementRef=S}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(P,J){return this.createEmbeddedViewImpl(P,J)}createEmbeddedViewImpl(P,J,S){let x=zw(this._declarationLView,this._declarationTContainer,P,{embeddedViewInjector:J,dehydratedView:S});return new cf(x)}};function kk(){return Ey(cl(),ro())}function Ey(B,P){return B.type&4?new Ak(P,B,gh(B,P)):null}var JO=new RegExp(`^(\\d+)*(${gA}|${pA})*(.*)`);var Sk=()=>null;function Tv(B,P){return Sk(B,P)}var dd=class{},Cy=new Qr("",{providedIn:"root",factory:()=>!1});var Ww=new Qr(""),Mv=class{},D0=class{};function Ek(B){let P=Error(`No component factory found for ${zs(B)}.`);return P[Ck]=B,P}var Ck="ngComponent";var Av=class{resolveComponentFactory(P){throw Ek(P)}},By=class By{};By.NULL=new Av;var uh=By,ch=class{},_d=(()=>{let P=class P{constructor(){this.destroyNode=null}};P.__NG_ELEMENT_ID__=()=>Dk();let B=P;return B})();function Dk(){let B=ro(),P=cl(),J=yc(P.index,B);return(mc(J)?J:B)[Na]}var Ik=(()=>{let P=class P{};P.\u0275prov=Vr({token:P,providedIn:"root",factory:()=>null});let B=P;return B})(),Ym={};var Sb=new Set;function Y0(B){Sb.has(B)||(Sb.add(B),performance?.mark?.("mark_feature_usage",{detail:{feature:B}}))}function Yw(B){let P=!0;return setTimeout(()=>{P&&(P=!1,B())}),typeof Kc.requestAnimationFrame=="function"&&Kc.requestAnimationFrame(()=>{P&&(P=!1,B())}),()=>{P=!1}}function Eb(B){let P=!0;return queueMicrotask(()=>{P&&B()}),()=>{P=!1}}function Cb(...B){}var Fo=class B{constructor({enableLongStackTrace:P=!1,shouldCoalesceEventChangeDetection:J=!1,shouldCoalesceRunChangeDetection:S=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gr(!1),this.onMicrotaskEmpty=new Gr(!1),this.onStable=new Gr(!1),this.onError=new Gr(!1),typeof Zone>"u")throw new Yr(908,!1);Zone.assertZonePatched();let x=this;x._nesting=0,x._outer=x._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),P&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!S&&J,x.shouldCoalesceRunChangeDetection=S,x.callbackScheduled=!1,Pk(x)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!B.isInAngularZone())throw new Yr(909,!1)}static assertNotInAngularZone(){if(B.isInAngularZone())throw new Yr(909,!1)}run(P,J,S){return this._inner.run(P,J,S)}runTask(P,J,S,x){let e=this._inner,p=e.scheduleEventTask("NgZoneEvent: "+x,P,Lk,Cb,Cb);try{return e.runTask(p,J,S)}finally{e.cancelTask(p)}}runGuarded(P,J,S){return this._inner.runGuarded(P,J,S)}runOutsideAngular(P){return this._outer.run(P)}},Lk={};function Dy(B){if(B._nesting==0&&!B.hasPendingMicrotasks&&!B.isStable)try{B._nesting++,B.onMicrotaskEmpty.emit(null)}finally{if(B._nesting--,!B.hasPendingMicrotasks)try{B.runOutsideAngular(()=>B.onStable.emit(null))}finally{B.isStable=!0}}}function Ok(B){B.isCheckStableRunning||B.callbackScheduled||(B.callbackScheduled=!0,Zone.root.run(()=>{Yw(()=>{B.callbackScheduled=!1,kv(B),B.isCheckStableRunning=!0,Dy(B),B.isCheckStableRunning=!1})}),kv(B))}function Pk(B){let P=()=>{Ok(B)};B._inner=B._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(J,S,x,e,p,y)=>{if(Rk(y))return J.invokeTask(x,e,p,y);try{return Db(B),J.invokeTask(x,e,p,y)}finally{(B.shouldCoalesceEventChangeDetection&&e.type==="eventTask"||B.shouldCoalesceRunChangeDetection)&&P(),Ib(B)}},onInvoke:(J,S,x,e,p,y,n)=>{try{return Db(B),J.invoke(x,e,p,y,n)}finally{B.shouldCoalesceRunChangeDetection&&!B.callbackScheduled&&!Nk(y)&&P(),Ib(B)}},onHasTask:(J,S,x,e)=>{J.hasTask(x,e),S===x&&(e.change=="microTask"?(B._hasPendingMicrotasks=e.microTask,kv(B),Dy(B)):e.change=="macroTask"&&(B.hasPendingMacrotasks=e.macroTask))},onHandleError:(J,S,x,e)=>(J.handleError(x,e),B.runOutsideAngular(()=>B.onError.emit(e)),!1)})}function kv(B){B._hasPendingMicrotasks||(B.shouldCoalesceEventChangeDetection||B.shouldCoalesceRunChangeDetection)&&B.callbackScheduled===!0?B.hasPendingMicrotasks=!0:B.hasPendingMicrotasks=!1}function Db(B){B._nesting++,B.isStable&&(B.isStable=!1,B.onUnstable.emit(null))}function Ib(B){B._nesting--,Dy(B)}var Sv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gr,this.onMicrotaskEmpty=new Gr,this.onStable=new Gr,this.onError=new Gr}run(P,J,S){return P.apply(J,S)}runGuarded(P,J,S){return P.apply(J,S)}runOutsideAngular(P){return P()}runTask(P,J,S,x){return P.apply(J,S)}};function Rk(B){return $w(B,"__ignore_ng_zone__")}function Nk(B){return $w(B,"__scheduler_tick__")}function $w(B,P){return!Array.isArray(B)||B.length!==1?!1:B[0]?.data?.[P]===!0}var Zw=(()=>{let P=class P{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let S=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let x of S)x()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};P.\u0275prov=Vr({token:P,providedIn:"root",factory:()=>new P});let B=P;return B})();function Ev(B,P,J){let S=J?B.styles:null,x=J?B.classes:null,e=0;if(P!==null)for(let p=0;p<P.length;p++){let y=P[p];if(typeof y=="number")e=y;else if(e==1)x=ob(x,y);else if(e==2){let n=y,M=P[++p];S=ob(S,n+": "+M+";")}}J?B.styles=S:B.stylesWithoutHost=S,J?B.classes=x:B.classesWithoutHost=x}var I0=class extends uh{constructor(P){super(),this.ngModule=P}resolveComponentFactory(P){let J=ef(P);return new pd(J,this.ngModule)}};function Lb(B){let P=[];for(let J in B){if(!B.hasOwnProperty(J))continue;let S=B[J];S!==void 0&&P.push({propName:Array.isArray(S)?S[0]:S,templateName:J})}return P}function Fk(B){let P=B.toLowerCase();return P==="svg"?__:P==="math"?wM:null}var Cv=class{constructor(P,J){this.injector=P,this.parentInjector=J}get(P,J,S){S=F0(S);let x=this.injector.get(P,Ym,S);return x!==Ym||J===Ym?x:this.parentInjector.get(P,J,S)}},pd=class extends D0{get inputs(){let P=this.componentDef,J=P.inputTransforms,S=Lb(P.inputs);if(J!==null)for(let x of S)J.hasOwnProperty(x.propName)&&(x.transform=J[x.propName]);return S}get outputs(){return Lb(this.componentDef.outputs)}constructor(P,J){super(),this.componentDef=P,this.ngModule=J,this.componentType=P.type,this.selector=tM(P.selectors),this.ngContentSelectors=P.ngContentSelectors?P.ngContentSelectors:[],this.isBoundToModule=!!J}create(P,J,S,x){let e=$i(null);try{x=x||this.ngModule;let p=x instanceof Bs?x:x?.injector;p&&this.componentDef.getStandaloneInjector!==null&&(p=this.componentDef.getStandaloneInjector(p)||p);let y=p?new Cv(P,p):P,n=y.get(ch,null);if(n===null)throw new Yr(407,!1);let M=y.get(Ik,null),b=y.get(Zw,null),f=y.get(dd,null),s={rendererFactory:n,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:b,changeDetectionScheduler:f},t=n.createRenderer(null,this.componentDef),o=this.componentDef.selectors[0][0]||"div",r=S?BA(t,S,this.componentDef.encapsulation,y):fw(t,o,Fk(o)),i=512;this.componentDef.signals?i|=4096:this.componentDef.onPush||(i|=16);let a=null;r!==null&&(a=yy(r,y,!0));let l=My(0,null,null,1,0,null,null,null,null,null,null),u=G0(null,l,null,i,null,null,s,t,y,null,a);sy(u);let h,c;try{let w=this.componentDef,g,v=null;w.findHostDirectiveDefs?(g=[],v=new Map,w.findHostDirectiveDefs(w,g,v),g.push(w)):g=[w];let m=zk(u,r),T=Bk(m,r,w,g,u,s,t);c=w_(l,Ol),r&&Vk(t,w,r,S),J!==void 0&&Hk(c,this.ngContentSelectors,J),h=Uk(T,w,g,v,u,[qk]),ky(l,u,null)}finally{ly()}return new Dv(this.componentType,h,gh(c,u),u,c)}finally{$i(e)}}},Dv=class extends Mv{constructor(P,J,S,x,e){super(),this.location=S,this._rootLView=x,this._tNode=e,this.previousInputValues=null,this.instance=J,this.hostView=this.changeDetectorRef=new cf(x,void 0,!1),this.componentType=P}setInput(P,J){let S=this._tNode.inputs,x;if(S!==null&&(x=S[P])){if(this.previousInputValues??=new Map,this.previousInputValues.has(P)&&Object.is(this.previousInputValues.get(P),J))return;let e=this._rootLView;Ay(e[ci],e,x,P,J),this.previousInputValues.set(P,J);let p=yc(this._tNode.index,e);Sy(p,1)}}get injector(){return new Jc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(P){this.hostView.onDestroy(P)}};function zk(B,P){let J=B[ci],S=Ol;return B[S]=P,bd(J,S,2,"#host",null)}function Bk(B,P,J,S,x,e,p){let y=x[ci];jk(S,B,P,p);let n=null;P!==null&&(n=yy(P,x[sh]));let M=e.rendererFactory.createRenderer(P,J),b=16;J.signals?b=4096:J.onPush&&(b=64);let f=G0(x,Cw(J),null,b,x[B.index],B,e,M,null,null,n);return y.firstCreatePass&&xv(y,B,S.length-1),W0(x,f),x[B.index]=f}function jk(B,P,J,S){for(let x of B)P.mergedAttrs=Qv(P.mergedAttrs,x.hostAttrs);P.mergedAttrs!==null&&(Ev(P,P.mergedAttrs,!0),J!==null&&_w(S,J,P))}function Uk(B,P,J,S,x,e){let p=cl(),y=x[ci],n=Pl(p,x);Iw(y,x,p,J,null,S);for(let b=0;b<J.length;b++){let f=p.directiveStart+b,s=sf(x,y,f,p);uf(s,x)}Lw(y,x,p),n&&uf(n,x);let M=sf(x,y,p.directiveStart+p.componentOffset,p);if(B[nu]=x[nu]=M,e!==null)for(let b of e)b(M,P);return kw(y,p,x),M}function Vk(B,P,J,S){if(S)nv(B,J,["ng-version","18.0.3"]);else{let{attrs:x,classes:e}=nM(P.selectors[0]);x&&nv(B,J,x),e&&e.length>0&&bw(B,J,e.join(" "))}}function Hk(B,P,J){let S=B.projection=[];for(let x=0;x<P.length;x++){let e=J[x];S.push(e!=null?Array.from(e):null)}}function qk(){let B=cl();hy(ro()[ci],B)}var wc=(()=>{let P=class P{};P.__NG_ELEMENT_ID__=Gk;let B=P;return B})();function Gk(){let B=cl();return Kw(B,ro())}var Wk=wc,Xw=class extends Wk{constructor(P,J,S){super(),this._lContainer=P,this._hostTNode=J,this._hostLView=S}get element(){return gh(this._hostTNode,this._hostLView)}get injector(){return new Jc(this._hostTNode,this._hostLView)}get parentInjector(){let P=dy(this._hostTNode,this._hostLView);if(G_(P)){let J=A0(P,this._hostLView),S=M0(P),x=J[ci].data[S+8];return new Jc(x,J)}else return new Jc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(P){let J=Ob(this._lContainer);return J!==null&&J[P]||null}get length(){return this._lContainer.length-ul}createEmbeddedView(P,J,S){let x,e;typeof S=="number"?x=S:S!=null&&(x=S.index,e=S.injector);let p=Tv(this._lContainer,P.ssrId),y=P.createEmbeddedViewImpl(J||{},e,p);return this.insertImpl(y,x,_v(this._hostTNode,p)),y}createComponent(P,J,S,x,e){let p=P&&!yM(P),y;if(p)y=J;else{let o=J||{};y=o.index,S=o.injector,x=o.projectableNodes,e=o.environmentInjector||o.ngModuleRef}let n=p?P:new pd(ef(P)),M=S||this.parentInjector;if(!e&&n.ngModule==null){let r=(p?M:this.parentInjector).get(Bs,null);r&&(e=r)}let b=ef(n.componentType??{}),f=Tv(this._lContainer,b?.id??null),s=f?.firstChild??null,t=n.create(M,x,s,e);return this.insertImpl(t.hostView,y,_v(this._hostTNode,f)),t}insert(P,J){return this.insertImpl(P,J,!0)}insertImpl(P,J,S){let x=P._lView;if(kM(x)){let y=this.indexOf(P);if(y!==-1)this.detach(y);else{let n=x[Ja],M=new Xw(n,n[js],n[Ja]);M.detach(M.indexOf(P))}}let e=this._adjustIndex(J),p=this._lContainer;return Bw(p,x,e,S),P.attachToViewContainerRef(),Kb($m(p),e,P),P}move(P,J){return this.insert(P,J)}indexOf(P){let J=Ob(this._lContainer);return J!==null?J.indexOf(P):-1}remove(P){let J=this._adjustIndex(P,-1),S=vv(this._lContainer,J);S&&(y0($m(this._lContainer),J),pw(S[ci],S))}detach(P){let J=this._adjustIndex(P,-1),S=vv(this._lContainer,J);return S&&y0($m(this._lContainer),J)!=null?new cf(S):null}_adjustIndex(P,J=0){return P??this.length+J}};function Ob(B){return B[_0]}function $m(B){return B[_0]||(B[_0]=[])}function Kw(B,P){let J,S=P[B.index];return Wu(S)?J=S:(J=Ow(S,P,null,B),P[B.index]=J,W0(P,J)),$k(J,P,B,S),new Xw(J,B,P)}function Yk(B,P){let J=B[Na],S=J.createComment(""),x=Pl(P,B),e=_y(J,x);return E0(J,e,S,CA(J,x),!1),S}var $k=Kk,Zk=()=>!1;function Xk(B,P,J){return Zk(B,P,J)}function Kk(B,P,J,S){if(B[nf])return;let x;J.type&8?x=Mu(S):x=Yk(P,J),B[nf]=x}var Iv=class B{constructor(P){this.queryList=P,this.matches=null}clone(){return new B(this.queryList)}setDirty(){this.queryList.setDirty()}},Lv=class B{constructor(P=[]){this.queries=P}createEmbeddedView(P){let J=P.queries;if(J!==null){let S=P.contentQueries!==null?P.contentQueries[0]:J.length,x=[];for(let e=0;e<S;e++){let p=J.getByIndex(e),y=this.queries[p.indexInDeclarationView];x.push(y.clone())}return new B(x)}return null}insertView(P){this.dirtyQueriesWithMatches(P)}detachView(P){this.dirtyQueriesWithMatches(P)}finishViewCreation(P){this.dirtyQueriesWithMatches(P)}dirtyQueriesWithMatches(P){for(let J=0;J<this.queries.length;J++)Iy(P,J).matches!==null&&this.queries[J].setDirty()}},Ov=class{constructor(P,J,S=null){this.flags=J,this.read=S,typeof P=="string"?this.predicate=o8(P):this.predicate=P}},Pv=class B{constructor(P=[]){this.queries=P}elementStart(P,J){for(let S=0;S<this.queries.length;S++)this.queries[S].elementStart(P,J)}elementEnd(P){for(let J=0;J<this.queries.length;J++)this.queries[J].elementEnd(P)}embeddedTView(P){let J=null;for(let S=0;S<this.length;S++){let x=J!==null?J.length:0,e=this.getByIndex(S).embeddedTView(P,x);e&&(e.indexInDeclarationView=S,J!==null?J.push(e):J=[e])}return J!==null?new B(J):null}template(P,J){for(let S=0;S<this.queries.length;S++)this.queries[S].template(P,J)}getByIndex(P){return this.queries[P]}get length(){return this.queries.length}track(P){this.queries.push(P)}},Rv=class B{constructor(P,J=-1){this.metadata=P,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=J}elementStart(P,J){this.isApplyingToNode(J)&&this.matchTNode(P,J)}elementEnd(P){this._declarationNodeIndex===P.index&&(this._appliesToNextNode=!1)}template(P,J){this.elementStart(P,J)}embeddedTView(P,J){return this.isApplyingToNode(P)?(this.crossesNgTemplate=!0,this.addMatch(-P.index,J),new B(this.metadata)):null}isApplyingToNode(P){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let J=this._declarationNodeIndex,S=P.parent;for(;S!==null&&S.type&8&&S.index!==J;)S=S.parent;return J===(S!==null?S.index:-1)}return this._appliesToNextNode}matchTNode(P,J){let S=this.metadata.predicate;if(Array.isArray(S))for(let x=0;x<S.length;x++){let e=S[x];this.matchTNodeWithReadOption(P,J,Jk(J,e)),this.matchTNodeWithReadOption(P,J,d0(J,P,e,!1,!1))}else S===ff?J.type&4&&this.matchTNodeWithReadOption(P,J,-1):this.matchTNodeWithReadOption(P,J,d0(J,P,S,!1,!1))}matchTNodeWithReadOption(P,J,S){if(S!==null){let x=this.metadata.read;if(x!==null)if(x===Yu||x===wc||x===ff&&J.type&4)this.addMatch(J.index,-2);else{let e=d0(J,P,x,!1,!1);e!==null&&this.addMatch(J.index,e)}else this.addMatch(J.index,S)}}addMatch(P,J){this.matches===null?this.matches=[P,J]:this.matches.push(P,J)}};function Jk(B,P){let J=B.localNames;if(J!==null){for(let S=0;S<J.length;S+=2)if(J[S]===P)return J[S+1]}return null}function Qk(B,P){return B.type&11?gh(B,P):B.type&4?Ey(B,P):null}function e8(B,P,J,S){return J===-1?Qk(P,B):J===-2?t8(B,P,S):sf(B,B[ci],J,P)}function t8(B,P,J){if(J===Yu)return gh(P,B);if(J===ff)return Ey(P,B);if(J===wc)return Kw(P,B)}function Jw(B,P,J,S){let x=P[Uu].queries[S];if(x.matches===null){let e=B.data,p=J.matches,y=[];for(let n=0;p!==null&&n<p.length;n+=2){let M=p[n];if(M<0)y.push(null);else{let b=e[M];y.push(e8(P,b,p[n+1],J.metadata.read))}}x.matches=y}return x.matches}function Nv(B,P,J,S){let x=B.queries.getByIndex(J),e=x.matches;if(e!==null){let p=Jw(B,P,x,J);for(let y=0;y<e.length;y+=2){let n=e[y];if(n>0)S.push(p[y/2]);else{let M=e[y+1],b=P[-n];for(let f=ul;f<b.length;f++){let s=b[f];s[tf]===s[Ja]&&Nv(s[ci],s,M,S)}if(b[lh]!==null){let f=b[lh];for(let s=0;s<f.length;s++){let t=f[s];Nv(t[ci],t,M,S)}}}}}return S}function n8(B,P){return B[Uu].queries[P].queryList}function r8(B,P,J){let S=new gv((J&4)===4);return VA(B,P,S,S.destroy),(P[Uu]??=new Lv).queries.push(new Iv(S))-1}function i8(B,P,J){let S=Us();return S.firstCreatePass&&(a8(S,new Ov(B,P,J),-1),(P&2)===2&&(S.staticViewQueries=!0)),r8(S,ro(),P)}function o8(B){return B.split(",").map(P=>P.trim())}function a8(B,P,J){B.queries===null&&(B.queries=new Pv),B.queries.track(new Rv(P,J))}function Iy(B,P){return B.queries.getByIndex(P)}function s8(B,P){let J=B[ci],S=Iy(J,P);return S.crossesNgTemplate?Nv(J,B,P,[]):Jw(J,B,S,P)}var vc=class{},gd=class{};var Fv=class extends vc{constructor(P,J,S){super(),this._parent=J,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I0(this);let x=s_(P);this._bootstrapComponents=cw(x.bootstrap),this._r3Injector=ew(P,J,[{provide:vc,useValue:this},{provide:uh,useValue:this.componentFactoryResolver},...S],zs(P),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(P)}get injector(){return this._r3Injector}destroy(){let P=this._r3Injector;!P.destroyed&&P.destroy(),this.destroyCbs.forEach(J=>J()),this.destroyCbs=null}onDestroy(P){this.destroyCbs.push(P)}},zv=class extends gd{constructor(P){super(),this.moduleType=P}create(P){return new Fv(this.moduleType,P,[])}};var L0=class extends vc{constructor(P){super(),this.componentFactoryResolver=new I0(this),this.instance=null;let J=new ud([...P.providers,{provide:vc,useValue:this},{provide:uh,useValue:this.componentFactoryResolver}],P.parent||ny(),P.debugName,new Set(["environment"]));this.injector=J,P.runEnvironmentInitializers&&J.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(P){this.injector.onDestroy(P)}};function Ly(B,P,J=null){return new L0({providers:B,parent:P,debugName:J,runEnvironmentInitializers:!0}).injector}function Qw(B){return Oy(B)?Array.isArray(B)||!(B instanceof Map)&&Symbol.iterator in B:!1}function l8(B,P){if(Array.isArray(B))for(let J=0;J<B.length;J++)P(B[J]);else{let J=B[Symbol.iterator](),S;for(;!(S=J.next()).done;)P(S.value)}}function Oy(B){return B!==null&&(typeof B=="function"||typeof B=="object")}function e3(B,P,J){return B[P]=J}function u8(B,P){return B[P]}function md(B,P,J){let S=B[P];return Object.is(S,J)?!1:(B[P]=J,!0)}function c8(B,P,J,S){let x=md(B,P,J);return md(B,P+1,S)||x}function f8(B){return(B.flags&32)===32}function h8(B,P,J,S,x,e,p,y,n){let M=P.consts,b=bd(P,B,4,p||null,y||null);Dw(P,J,b,T0(M,n)),hy(P,b);let f=b.tView=My(2,b,S,x,e,P.directiveRegistry,P.pipeRegistry,null,P.schemas,M,null);return P.queries!==null&&(P.queries.template(P,b),f.queries=P.queries.embeddedTView(b)),b}function t3(B,P,J,S,x,e,p,y,n,M){let b=J+Ol,f=P.firstCreatePass?h8(b,P,B,S,x,e,p,y,n):P.data[b];yd(f,!1);let s=d8(P,B,f,J);cy()&&wy(P,B,s,f),uf(s,B);let t=Ow(s,B,s,f);return B[b]=t,W0(B,t),Xk(t,f,B),ry(f)&&Sw(P,B,f),n!=null&&Ew(B,f,M),f}function vh(B,P,J,S,x,e,p,y){let n=ro(),M=Us(),b=T0(M.consts,e);return t3(n,M,B,P,J,S,x,b,p,y),vh}var d8=p8;function p8(B,P,J,S){return fy(!0),P[Na].createComment("")}function $0(B,P,J,S){let x=ro(),e=oy();if(md(x,e,P)){let p=Us(),y=V_();ik(y,x,B,P,J,S)}return $0}function g8(B,P,J,S){return md(B,oy(),J)?P+Zv(J)+S:mh}function iu(B,P,J){let S=ro(),x=oy();if(md(S,x,P)){let e=Us(),p=V_();WA(e,p,S,B,P,S[Na],J,!1)}return iu}function Pb(B,P,J,S,x){let e=P.inputs,p=x?"class":"style";Ay(B,J,e[p],p,S)}function m8(B,P,J,S,x,e){let p=P.consts,y=T0(p,x),n=bd(P,B,2,S,y);return Dw(P,J,n,T0(p,e)),n.attrs!==null&&Ev(n,n.attrs,!1),n.mergedAttrs!==null&&Ev(n,n.mergedAttrs,!0),P.queries!==null&&P.queries.elementStart(P,n),n}function Fr(B,P,J,S){let x=ro(),e=Us(),p=Ol+B,y=x[Na],n=e.firstCreatePass?m8(p,e,x,P,J,S):e.data[p],M=v8(e,x,n,y,P,B);x[p]=M;let b=ry(n);return yd(n,!0),_w(y,M,n),!f8(n)&&cy()&&wy(e,x,M,n),CM()===0&&uf(M,x),DM(),b&&(Sw(e,x,n),kw(e,n,x)),S!==null&&Ew(x,n),Fr}function Br(){let B=cl();L_()?O_():(B=B.parent,yd(B,!1));let P=B;LM(P)&&OM(),IM();let J=Us();return J.firstCreatePass&&(hy(J,B),m_(B)&&J.queries.elementEnd(B)),P.classesWithoutHost!=null&&WM(P)&&Pb(J,P,ro(),P.classesWithoutHost,!0),P.stylesWithoutHost!=null&&YM(P)&&Pb(J,P,ro(),P.stylesWithoutHost,!1),Br}function Fa(B,P,J,S){return Fr(B,P,J,S),Br(),Fa}var v8=(B,P,J,S,x,e)=>(fy(!0),fw(S,x,VM()));function n3(){return ro()}var Zc=void 0;function y8(B){let P=B,J=Math.floor(Math.abs(B)),S=B.toString().replace(/^[^.]*\.?/,"").length;return J===1&&S===0?1:5}var x8=["en",[["a","p"],["AM","PM"],Zc],[["AM","PM"],Zc,Zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zc,"{1} 'at' {0}",Zc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",y8],Zm={};function Py(B){let P=b8(B),J=Rb(P);if(J)return J;let S=P.split("-")[0];if(J=Rb(S),J)return J;if(S==="en")return x8;throw new Yr(701,!1)}function Rb(B){return B in Zm||(Zm[B]=Kc.ng&&Kc.ng.common&&Kc.ng.common.locales&&Kc.ng.common.locales[B]),Zm[B]}var yh=function(B){return B[B.LocaleId=0]="LocaleId",B[B.DayPeriodsFormat=1]="DayPeriodsFormat",B[B.DayPeriodsStandalone=2]="DayPeriodsStandalone",B[B.DaysFormat=3]="DaysFormat",B[B.DaysStandalone=4]="DaysStandalone",B[B.MonthsFormat=5]="MonthsFormat",B[B.MonthsStandalone=6]="MonthsStandalone",B[B.Eras=7]="Eras",B[B.FirstDayOfWeek=8]="FirstDayOfWeek",B[B.WeekendRange=9]="WeekendRange",B[B.DateFormat=10]="DateFormat",B[B.TimeFormat=11]="TimeFormat",B[B.DateTimeFormat=12]="DateTimeFormat",B[B.NumberSymbols=13]="NumberSymbols",B[B.NumberFormats=14]="NumberFormats",B[B.CurrencyCode=15]="CurrencyCode",B[B.CurrencySymbol=16]="CurrencySymbol",B[B.CurrencyName=17]="CurrencyName",B[B.Currencies=18]="Currencies",B[B.Directionality=19]="Directionality",B[B.PluralCase=20]="PluralCase",B[B.ExtraData=21]="ExtraData",B}(yh||{});function b8(B){return B.toLowerCase().replace(/_/g,"-")}var O0="en-US";var _8=O0;function w8(B){typeof B=="string"&&(_8=B.toLowerCase().replace(/_/g,"-"))}var T8=(B,P,J)=>{};function df(B,P,J,S){let x=ro(),e=Us(),p=cl();return A8(e,x,x[Na],p,B,P,S),df}function M8(B,P,J,S){let x=B.cleanup;if(x!=null)for(let e=0;e<x.length-1;e+=2){let p=x[e];if(p===J&&x[e+1]===S){let y=P[b0],n=x[e+2];return y.length>n?y[n]:null}typeof p=="string"&&(e+=2)}return null}function A8(B,P,J,S,x,e,p){let y=ry(S),M=B.firstCreatePass&&Nw(B),b=P[nu],f=Rw(P),s=!0;if(S.type&3||p){let r=Pl(S,P),i=p?p(r):r,a=f.length,l=p?h=>p(Mu(h[S.index])):S.index,u=null;if(!p&&y&&(u=M8(B,P,x,S.index)),u!==null){let h=u.__ngLastListenerFn__||u;h.__ngNextListenerFn__=e,u.__ngLastListenerFn__=e,s=!1}else{e=Fb(S,P,b,e),T8(r,x,e);let h=J.listen(i,x,e);f.push(e,h),M&&M.push(x,l,a,a+1)}}else e=Fb(S,P,b,e);let t=S.outputs,o;if(s&&t!==null&&(o=t[x])){let r=o.length;if(r)for(let i=0;i<r;i+=2){let a=o[i],l=o[i+1],c=P[a][l].subscribe(e),w=f.length;f.push(e,c),M&&M.push(x,S.index,w,-(w+1))}}}function Nb(B,P,J,S){let x=$i(null);try{return _u(6,P,J),J(S)!==!1}catch(e){return Fw(B,e),!1}finally{_u(7,P,J),$i(x)}}function Fb(B,P,J,S){return function x(e){if(e===Function)return S;let p=B.componentOffset>-1?yc(B.index,P):P;Sy(p,5);let y=Nb(P,J,S,e),n=x.__ngNextListenerFn__;for(;n;)y=Nb(P,J,n,e)&&y,n=n.__ngNextListenerFn__;return y}}function r3(B=1){return jM(B)}function k8(B,P){let J=null,S=X6(B);for(let x=0;x<P.length;x++){let e=P[x];if(e==="*"){J=x;continue}if(S===null?n_(B,e,!0):Q6(S,e))return x}return J}function i3(B){let P=ro()[Ll][js];if(!P.projection){let J=B?B.length:1,S=P.projection=V6(J,null),x=S.slice(),e=P.child;for(;e!==null;){let p=B?k8(e,B):0;p!==null&&(x[p]?x[p].projectionNext=e:S[p]=e,x[p]=e),e=e.next}}}function o3(B,P=0,J,S,x,e){let p=ro(),y=Us(),n=S?B+1:null;n!==null&&t3(p,y,n,S,x,e,null,J);let M=bd(y,Ol+B,16,null,J||null);M.projection===null&&(M.projection=P),O_();let f=!p[cd]||E_();p[Ll][js].projection[M.projection]===null&&n!==null?S8(p,y,n):f&&(M.flags&32)!==32&&OA(y,p,M)}function S8(B,P,J){let S=Ol+J,x=P.data[S],e=B[S],p=Tv(e,x.tView.ssrId),y=zw(B,x,void 0,{dehydratedView:p});Bw(e,y,0,_v(x,p))}function a3(B,P,J){i8(B,P,J)}function Ry(B){let P=ro(),J=Us(),S=N_();ay(S+1);let x=Iy(J,S);if(B.dirty&&AM(P)===((x.metadata.flags&2)===2)){if(x.matches===null)B.reset([]);else{let e=s8(P,S);B.reset(e,aA),B.notifyOnChanges()}return!0}return!1}function Ny(){return n8(ro(),N_())}function E8(B,P,J,S){J>=B.data.length&&(B.data[J]=null,B.blueprint[J]=null),P[J]=S}function Zr(B,P=""){let J=ro(),S=Us(),x=B+Ol,e=S.firstCreatePass?bd(S,x,1,P,null):S.data[x],p=C8(S,J,e,P,B);J[x]=p,cy()&&wy(S,J,p,e),yd(e,!1)}var C8=(B,P,J,S,x)=>(fy(!0),xA(P[Na],S));function Vs(B){return pf("",B,""),Vs}function pf(B,P,J){let S=ro(),x=g8(S,B,P,J);return x!==mh&&lk(S,uy(),x),pf}function D8(B,P,J){let S=Us();if(S.firstCreatePass){let x=dh(B);Bv(J,S.data,S.blueprint,x,!0),Bv(P,S.data,S.blueprint,x,!1)}}function Bv(B,P,J,S,x){if(B=gs(B),Array.isArray(B))for(let e=0;e<B.length;e++)Bv(B[e],P,J,S,x);else{let e=Us(),p=ro(),y=cl(),n=ah(B)?B:gs(B.provide),M=d_(B),b=y.providerIndexes&1048575,f=y.directiveStart,s=y.providerIndexes>>20;if(ah(B)||!B.multi){let t=new af(M,x,yo),o=Km(n,P,x?b:b+s,f);o===-1?(fv(S0(y,p),e,n),Xm(e,B,P.length),P.push(n),y.directiveStart++,y.directiveEnd++,x&&(y.providerIndexes+=1048576),J.push(t),p.push(t)):(J[o]=t,p[o]=t)}else{let t=Km(n,P,b+s,f),o=Km(n,P,b,b+s),r=t>=0&&J[t],i=o>=0&&J[o];if(x&&!i||!x&&!r){fv(S0(y,p),e,n);let a=O8(x?L8:I8,J.length,x,S,M);!x&&i&&(J[o].providerFactory=a),Xm(e,B,P.length,0),P.push(n),y.directiveStart++,y.directiveEnd++,x&&(y.providerIndexes+=1048576),J.push(a),p.push(a)}else{let a=s3(J[x?o:t],M,!x&&S);Xm(e,B,t>-1?t:o,a)}!x&&S&&i&&J[o].componentProviders++}}}function Xm(B,P,J,S){let x=ah(P),e=cM(P);if(x||e){let n=(e?gs(P.useClass):P).prototype.ngOnDestroy;if(n){let M=B.destroyHooks||(B.destroyHooks=[]);if(!x&&P.multi){let b=M.indexOf(J);b===-1?M.push(J,[S,n]):M[b+1].push(S,n)}else M.push(J,n)}}}function s3(B,P,J){return J&&B.componentProviders++,B.multi.push(P)-1}function Km(B,P,J,S){for(let x=J;x<S;x++)if(P[x]===B)return x;return-1}function I8(B,P,J,S){return jv(this.multi,[])}function L8(B,P,J,S){let x=this.multi,e;if(this.providerFactory){let p=this.providerFactory.componentProviders,y=sf(J,J[ci],this.providerFactory.index,S);e=y.slice(0,p),jv(x,e);for(let n=p;n<y.length;n++)e.push(y[n])}else e=[],jv(x,e);return e}function jv(B,P){for(let J=0;J<B.length;J++){let S=B[J];P.push(S())}return P}function O8(B,P,J,S,x){let e=new af(B,J,yo);return e.multi=[],e.index=P,e.componentProviders=0,s3(e,x,S&&!J),e}function l3(B,P=[]){return J=>{J.providersResolver=(S,x)=>D8(S,x?x(B):B,P)}}var P8=(()=>{let P=class P{constructor(S){this._injector=S,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(S){if(!S.standalone)return null;if(!this.cachedInjectors.has(S)){let x=c_(!1,S.type),e=x.length>0?Ly([x],this._injector,`Standalone[${S.type.name}]`):null;this.cachedInjectors.set(S,e)}return this.cachedInjectors.get(S)}ngOnDestroy(){try{for(let S of this.cachedInjectors.values())S!==null&&S.destroy()}finally{this.cachedInjectors.clear()}}};P.\u0275prov=Vr({token:P,providedIn:"environment",factory:()=>new P(ni(Bs))});let B=P;return B})();function Hs(B){Y0("NgStandalone"),B.getStandaloneInjector=P=>P.get(P8).getOrCreateStandaloneInjector(B)}function Fy(B,P,J){let S=R_()+B,x=ro();return x[S]===mh?e3(x,S,J?P.call(J):P()):u8(x,S)}function R8(B,P){let J=B[P];return J===mh?void 0:J}function N8(B,P,J,S,x,e,p){let y=P+J;return c8(B,y,x,e)?e3(B,y+2,p?S.call(p,x,e):S(x,e)):R8(B,y+2)}function Au(B,P){let J=Us(),S,x=B+Ol;J.firstCreatePass?(S=F8(P,J.pipeRegistry),J.data[x]=S,S.onDestroy&&(J.destroyHooks??=[]).push(x,S.onDestroy)):S=J.data[x];let e=S.factory||(S.factory=Qc(S.type,!0)),p,y=Fs(yo);try{let n=k0(!1),M=e();return k0(n),E8(J,ro(),x,M),M}finally{Fs(y)}}function F8(B,P){if(P)for(let J=P.length-1;J>=0;J--){let S=P[J];if(B===S.name)return S}}function ku(B,P,J,S){let x=B+Ol,e=ro(),p=MM(e,x);return z8(e,x)?N8(e,R_(),P,p.transform,J,S,p):p.transform(J,S)}function z8(B,P){return B[ci].data[P].pure}var Z0=(()=>{let P=class P{log(S){console.log(S)}warn(S){console.warn(S)}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"platform"});let B=P;return B})();var u3=new Qr("");function wd(B){return!!B&&typeof B.then=="function"}function c3(B){return!!B&&typeof B.subscribe=="function"}var f3=new Qr(""),h3=(()=>{let P=class P{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((S,x)=>{this.resolve=S,this.reject=x}),this.appInits=Dr(f3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let S=[];for(let e of this.appInits){let p=e();if(wd(p))S.push(p);else if(c3(p)){let y=new Promise((n,M)=>{p.subscribe({complete:n,error:M})});S.push(y)}}let x=()=>{this.done=!0,this.resolve()};Promise.all(S).then(()=>{x()}).catch(e=>{this.reject(e)}),S.length===0&&x(),this.initialized=!0}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),X0=new Qr("");function B8(){D2(()=>{throw new Yr(600,!1)})}function j8(B){return B.isBoundToModule}var U8=10;function V8(B,P,J){try{let S=J();return wd(S)?S.catch(x=>{throw P.runOutsideAngular(()=>B.handleError(x)),x}):S}catch(S){throw P.runOutsideAngular(()=>B.handleError(S)),S}}var gf=(()=>{let P=class P{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Dr(tw),this.afterRenderEffectManager=Dr(Zw),this.zonelessEnabled=Dr(Cy),this.externalTestViews=new Set,this.beforeRender=new ps,this.afterTick=new ps,this.componentTypes=[],this.components=[],this.isStable=Dr(xc).hasPendingTasks.pipe(pi(S=>!S)),this._injector=Dr(Bs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(S,x){let e=S instanceof D0;if(!this._injector.get(h3).done){let t=!e&&a_(S),o=!1;throw new Yr(405,o)}let y;e?y=S:y=this._injector.get(uh).resolveComponentFactory(S),this.componentTypes.push(y.componentType);let n=j8(y)?void 0:this._injector.get(vc),M=x||y.selector,b=y.create(lf.NULL,[],M,n),f=b.location.nativeElement,s=b.injector.get(u3,null);return s?.registerApplication(f),b.onDestroy(()=>{this.detachView(b.hostView),Jm(this.components,b),s?.unregisterApplication(f)}),this._loadComponent(b),b}tick(){this._tick(!0)}_tick(S){if(this._runningTick)throw new Yr(101,!1);let x=$i(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(S)}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1,$i(x),this.afterTick.next()}}detectChangesInAttachedViews(S){let x=null;this._injector.destroyed||(x=this._injector.get(ch,null,{optional:!0}));let e=0,p=this.afterRenderEffectManager;for(;e<U8;){let y=e===0;if(S||!y){this.beforeRender.next(y);for(let{_lView:n,notifyErrorHandler:M}of this._views)H8(n,M,y,this.zonelessEnabled)}else x?.begin?.(),x?.end?.();if(e++,p.executeInternalCallbacks(),!this.allViews.some(({_lView:n})=>hd(n))&&(p.execute(),!this.allViews.some(({_lView:n})=>hd(n))))break}}attachView(S){let x=S;this._views.push(x),x.attachToAppRef(this)}detachView(S){let x=S;Jm(this._views,x),x.detachFromAppRef()}_loadComponent(S){this.attachView(S.hostView),this.tick(),this.components.push(S);let x=this._injector.get(X0,[]);[...this._bootstrapListeners,...x].forEach(e=>e(S))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(S=>S()),this._views.slice().forEach(S=>S.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(S){return this._destroyListeners.push(S),()=>Jm(this._destroyListeners,S)}destroy(){if(this._destroyed)throw new Yr(406,!1);let S=this._injector;S.destroy&&!S.destroyed&&S.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();function Jm(B,P){let J=B.indexOf(P);J>-1&&B.splice(J,1)}function H8(B,P,J,S){if(!J&&!hd(B))return;Vw(B,P,J&&!S?0:1)}var Uv=class{constructor(P,J){this.ngModuleFactory=P,this.componentFactories=J}},zy=(()=>{let P=class P{compileModuleSync(S){return new zv(S)}compileModuleAsync(S){return Promise.resolve(this.compileModuleSync(S))}compileModuleAndAllComponentsSync(S){let x=this.compileModuleSync(S),e=s_(S),p=cw(e.declarations).reduce((y,n)=>{let M=ef(n);return M&&y.push(new pd(M)),y},[]);return new Uv(x,p)}compileModuleAndAllComponentsAsync(S){return Promise.resolve(this.compileModuleAndAllComponentsSync(S))}clearCache(){}clearCacheFor(S){}getModuleId(S){}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();var q8=(()=>{let P=class P{constructor(){this.zone=Dr(Fo),this.changeDetectionScheduler=Dr(dd),this.applicationRef=Dr(gf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),G8=new Qr("",{factory:()=>!1});function d3({ngZoneFactory:B,ignoreChangesOutsideZone:P}){return B??=()=>new Fo(g3()),[{provide:Fo,useFactory:B},{provide:ih,multi:!0,useFactory:()=>{let J=Dr(q8,{optional:!0});return()=>J.initialize()}},{provide:ih,multi:!0,useFactory:()=>{let J=Dr(Y8);return()=>{J.initialize()}}},{provide:tw,useFactory:W8},P===!0?{provide:Ww,useValue:!0}:[]]}function W8(){let B=Dr(Fo),P=Dr(Vu);return J=>B.runOutsideAngular(()=>P.handleError(J))}function p3(B){let P=B?.ignoreChangesOutsideZone,J=d3({ngZoneFactory:()=>{let S=g3(B);return S.shouldCoalesceEventChangeDetection&&Y0("NgZone_CoalesceEvent"),new Fo(S)},ignoreChangesOutsideZone:P});return fh([{provide:G8,useValue:!0},{provide:Cy,useValue:!1},J])}function g3(B){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:B?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:B?.runCoalescing??!1}}var Y8=(()=>{let P=class P{constructor(){this.subscription=new ta,this.initialized=!1,this.zone=Dr(Fo),this.pendingTasks=Dr(xc)}initialize(){if(this.initialized)return;this.initialized=!0;let S=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(S=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{S!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(S),S=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),S??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();var $8=(()=>{let P=class P{constructor(){this.appRef=Dr(gf),this.taskService=Dr(xc),this.ngZone=Dr(Fo),this.zonelessEnabled=Dr(Cy),this.disableScheduling=Dr(Ww,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ta,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sv||!this.zoneIsDefined)}notify(S){if(!this.zonelessEnabled&&S===5)return;switch(S){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let x=this.useMicrotaskScheduler?Eb:Yw;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=x(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=x(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Fo.isInAngularZone())}tick(S){if(this.runningTick||this.appRef.destroyed)return;let x=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(S)},void 0,this.schedulerTickApplyArgs)}catch(e){throw this.taskService.remove(x),e}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Eb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(x)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let S=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(S)}}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();function Z8(){return typeof $localize<"u"&&$localize.locale||O0}var K0=new Qr("",{providedIn:"root",factory:()=>Dr(K0,mi.Optional|mi.SkipSelf)||Z8()});var m3=new Qr("");var g0=null;function X8(B=[],P){return lf.create({name:P,providers:[{provide:B0,useValue:"platform"},{provide:m3,useValue:new Set([()=>g0=null])},...B]})}function K8(B=[]){if(g0)return g0;let P=X8(B);return g0=P,B8(),J8(P),P}function J8(B){B.get(my,null)?.forEach(J=>J())}var Td=(()=>{let P=class P{};P.__NG_ELEMENT_ID__=Q8;let B=P;return B})();function Q8(B){return eS(cl(),ro(),(B&16)===16)}function eS(B,P,J){if(U0(B)&&!J){let S=yc(B.index,P);return new cf(S,S)}else if(B.type&47){let S=P[Ll];return new cf(S,P)}return null}var Vv=class{constructor(){}supports(P){return Qw(P)}create(P){return new Hv(P)}},tS=(B,P)=>P,Hv=class{constructor(P){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=P||tS}forEachItem(P){let J;for(J=this._itHead;J!==null;J=J._next)P(J)}forEachOperation(P){let J=this._itHead,S=this._removalsHead,x=0,e=null;for(;J||S;){let p=!S||J&&J.currentIndex<zb(S,x,e)?J:S,y=zb(p,x,e),n=p.currentIndex;if(p===S)x--,S=S._nextRemoved;else if(J=J._next,p.previousIndex==null)x++;else{e||(e=[]);let M=y-x,b=n-x;if(M!=b){for(let s=0;s<M;s++){let t=s<e.length?e[s]:e[s]=0,o=t+s;b<=o&&o<M&&(e[s]=t+1)}let f=p.previousIndex;e[f]=b-M}}y!==n&&P(p,y,n)}}forEachPreviousItem(P){let J;for(J=this._previousItHead;J!==null;J=J._nextPrevious)P(J)}forEachAddedItem(P){let J;for(J=this._additionsHead;J!==null;J=J._nextAdded)P(J)}forEachMovedItem(P){let J;for(J=this._movesHead;J!==null;J=J._nextMoved)P(J)}forEachRemovedItem(P){let J;for(J=this._removalsHead;J!==null;J=J._nextRemoved)P(J)}forEachIdentityChange(P){let J;for(J=this._identityChangesHead;J!==null;J=J._nextIdentityChange)P(J)}diff(P){if(P==null&&(P=[]),!Qw(P))throw new Yr(900,!1);return this.check(P)?this:null}onDestroy(){}check(P){this._reset();let J=this._itHead,S=!1,x,e,p;if(Array.isArray(P)){this.length=P.length;for(let y=0;y<this.length;y++)e=P[y],p=this._trackByFn(y,e),J===null||!Object.is(J.trackById,p)?(J=this._mismatch(J,e,p,y),S=!0):(S&&(J=this._verifyReinsertion(J,e,p,y)),Object.is(J.item,e)||this._addIdentityChange(J,e)),J=J._next}else x=0,l8(P,y=>{p=this._trackByFn(x,y),J===null||!Object.is(J.trackById,p)?(J=this._mismatch(J,y,p,x),S=!0):(S&&(J=this._verifyReinsertion(J,y,p,x)),Object.is(J.item,y)||this._addIdentityChange(J,y)),J=J._next,x++}),this.length=x;return this._truncate(J),this.collection=P,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let P;for(P=this._previousItHead=this._itHead;P!==null;P=P._next)P._nextPrevious=P._next;for(P=this._additionsHead;P!==null;P=P._nextAdded)P.previousIndex=P.currentIndex;for(this._additionsHead=this._additionsTail=null,P=this._movesHead;P!==null;P=P._nextMoved)P.previousIndex=P.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(P,J,S,x){let e;return P===null?e=this._itTail:(e=P._prev,this._remove(P)),P=this._unlinkedRecords===null?null:this._unlinkedRecords.get(S,null),P!==null?(Object.is(P.item,J)||this._addIdentityChange(P,J),this._reinsertAfter(P,e,x)):(P=this._linkedRecords===null?null:this._linkedRecords.get(S,x),P!==null?(Object.is(P.item,J)||this._addIdentityChange(P,J),this._moveAfter(P,e,x)):P=this._addAfter(new qv(J,S),e,x)),P}_verifyReinsertion(P,J,S,x){let e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(S,null);return e!==null?P=this._reinsertAfter(e,P._prev,x):P.currentIndex!=x&&(P.currentIndex=x,this._addToMoves(P,x)),P}_truncate(P){for(;P!==null;){let J=P._next;this._addToRemovals(this._unlink(P)),P=J}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(P,J,S){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(P);let x=P._prevRemoved,e=P._nextRemoved;return x===null?this._removalsHead=e:x._nextRemoved=e,e===null?this._removalsTail=x:e._prevRemoved=x,this._insertAfter(P,J,S),this._addToMoves(P,S),P}_moveAfter(P,J,S){return this._unlink(P),this._insertAfter(P,J,S),this._addToMoves(P,S),P}_addAfter(P,J,S){return this._insertAfter(P,J,S),this._additionsTail===null?this._additionsTail=this._additionsHead=P:this._additionsTail=this._additionsTail._nextAdded=P,P}_insertAfter(P,J,S){let x=J===null?this._itHead:J._next;return P._next=x,P._prev=J,x===null?this._itTail=P:x._prev=P,J===null?this._itHead=P:J._next=P,this._linkedRecords===null&&(this._linkedRecords=new P0),this._linkedRecords.put(P),P.currentIndex=S,P}_remove(P){return this._addToRemovals(this._unlink(P))}_unlink(P){this._linkedRecords!==null&&this._linkedRecords.remove(P);let J=P._prev,S=P._next;return J===null?this._itHead=S:J._next=S,S===null?this._itTail=J:S._prev=J,P}_addToMoves(P,J){return P.previousIndex===J||(this._movesTail===null?this._movesTail=this._movesHead=P:this._movesTail=this._movesTail._nextMoved=P),P}_addToRemovals(P){return this._unlinkedRecords===null&&(this._unlinkedRecords=new P0),this._unlinkedRecords.put(P),P.currentIndex=null,P._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=P,P._prevRemoved=null):(P._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=P),P}_addIdentityChange(P,J){return P.item=J,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=P:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=P,P}},qv=class{constructor(P,J){this.item=P,this.trackById=J,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Gv=class{constructor(){this._head=null,this._tail=null}add(P){this._head===null?(this._head=this._tail=P,P._nextDup=null,P._prevDup=null):(this._tail._nextDup=P,P._prevDup=this._tail,P._nextDup=null,this._tail=P)}get(P,J){let S;for(S=this._head;S!==null;S=S._nextDup)if((J===null||J<=S.currentIndex)&&Object.is(S.trackById,P))return S;return null}remove(P){let J=P._prevDup,S=P._nextDup;return J===null?this._head=S:J._nextDup=S,S===null?this._tail=J:S._prevDup=J,this._head===null}},P0=class{constructor(){this.map=new Map}put(P){let J=P.trackById,S=this.map.get(J);S||(S=new Gv,this.map.set(J,S)),S.add(P)}get(P,J){let S=P,x=this.map.get(S);return x?x.get(P,J):null}remove(P){let J=P.trackById;return this.map.get(J).remove(P)&&this.map.delete(J),P}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zb(B,P,J){let S=B.previousIndex;if(S===null)return S;let x=0;return J&&S<J.length&&(x=J[S]),S+P+x}var Wv=class{constructor(){}supports(P){return P instanceof Map||Oy(P)}create(){return new Yv}},Yv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(P){let J;for(J=this._mapHead;J!==null;J=J._next)P(J)}forEachPreviousItem(P){let J;for(J=this._previousMapHead;J!==null;J=J._nextPrevious)P(J)}forEachChangedItem(P){let J;for(J=this._changesHead;J!==null;J=J._nextChanged)P(J)}forEachAddedItem(P){let J;for(J=this._additionsHead;J!==null;J=J._nextAdded)P(J)}forEachRemovedItem(P){let J;for(J=this._removalsHead;J!==null;J=J._nextRemoved)P(J)}diff(P){if(!P)P=new Map;else if(!(P instanceof Map||Oy(P)))throw new Yr(900,!1);return this.check(P)?this:null}onDestroy(){}check(P){this._reset();let J=this._mapHead;if(this._appendAfter=null,this._forEach(P,(S,x)=>{if(J&&J.key===x)this._maybeAddToChanges(J,S),this._appendAfter=J,J=J._next;else{let e=this._getOrCreateRecordForKey(x,S);J=this._insertBeforeOrAppend(J,e)}}),J){J._prev&&(J._prev._next=null),this._removalsHead=J;for(let S=J;S!==null;S=S._nextRemoved)S===this._mapHead&&(this._mapHead=null),this._records.delete(S.key),S._nextRemoved=S._next,S.previousValue=S.currentValue,S.currentValue=null,S._prev=null,S._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(P,J){if(P){let S=P._prev;return J._next=P,J._prev=S,P._prev=J,S&&(S._next=J),P===this._mapHead&&(this._mapHead=J),this._appendAfter=P,P}return this._appendAfter?(this._appendAfter._next=J,J._prev=this._appendAfter):this._mapHead=J,this._appendAfter=J,null}_getOrCreateRecordForKey(P,J){if(this._records.has(P)){let x=this._records.get(P);this._maybeAddToChanges(x,J);let e=x._prev,p=x._next;return e&&(e._next=p),p&&(p._prev=e),x._next=null,x._prev=null,x}let S=new $v(P);return this._records.set(P,S),S.currentValue=J,this._addToAdditions(S),S}_reset(){if(this.isDirty){let P;for(this._previousMapHead=this._mapHead,P=this._previousMapHead;P!==null;P=P._next)P._nextPrevious=P._next;for(P=this._changesHead;P!==null;P=P._nextChanged)P.previousValue=P.currentValue;for(P=this._additionsHead;P!=null;P=P._nextAdded)P.previousValue=P.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(P,J){Object.is(J,P.currentValue)||(P.previousValue=P.currentValue,P.currentValue=J,this._addToChanges(P))}_addToAdditions(P){this._additionsHead===null?this._additionsHead=this._additionsTail=P:(this._additionsTail._nextAdded=P,this._additionsTail=P)}_addToChanges(P){this._changesHead===null?this._changesHead=this._changesTail=P:(this._changesTail._nextChanged=P,this._changesTail=P)}_forEach(P,J){P instanceof Map?P.forEach(J):Object.keys(P).forEach(S=>J(P[S],S))}},$v=class{constructor(P){this.key=P,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Bb(){return new Md([new Vv])}var Md=(()=>{let P=class P{constructor(S){this.factories=S}static create(S,x){if(x!=null){let e=x.factories.slice();S=S.concat(e)}return new P(S)}static extend(S){return{provide:P,useFactory:x=>P.create(S,x||Bb()),deps:[[P,new Kv,new z0]]}}find(S){let x=this.factories.find(e=>e.supports(S));if(x!=null)return x;throw new Yr(901,!1)}};P.\u0275prov=Vr({token:P,providedIn:"root",factory:Bb});let B=P;return B})();function jb(){return new Ad([new Wv])}var Ad=(()=>{let P=class P{constructor(S){this.factories=S}static create(S,x){if(x){let e=x.factories.slice();S=S.concat(e)}return new P(S)}static extend(S){return{provide:P,useFactory:x=>P.create(S,x||jb()),deps:[[P,new Kv,new z0]]}}find(S){let x=this.factories.find(e=>e.supports(S));if(x)return x;throw new Yr(901,!1)}};P.\u0275prov=Vr({token:P,providedIn:"root",factory:jb});let B=P;return B})();function v3(B){try{let{rootComponent:P,appProviders:J,platformProviders:S}=B,x=K8(S),e=[d3({}),{provide:dd,useExisting:$8},...J||[]],y=new L0({providers:e,parent:x,debugName:"",runEnvironmentInitializers:!1}).injector,n=y.get(Fo);return n.run(()=>{y.resolveInjectorInitializers();let M=y.get(Vu,null),b;n.runOutsideAngular(()=>{b=n.onError.subscribe({next:t=>{M.handleError(t)}})});let f=()=>y.destroy(),s=x.get(m3);return s.add(f),y.onDestroy(()=>{b.unsubscribe(),s.delete(f)}),V8(M,n,()=>{let t=y.get(h3);return t.runInitializers(),t.donePromise.then(()=>{let o=y.get(K0,O0);w8(o||O0);let r=y.get(gf);return P!==void 0&&r.bootstrap(P),r})})})}catch(P){return Promise.reject(P)}}var A3=null;function xh(){return A3}function k3(B){A3??=B}var J0=class{};var qs=new Qr(""),S3=(()=>{let P=class P{historyGo(S){throw new Error("")}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>Dr(aS),providedIn:"platform"});let B=P;return B})();var aS=(()=>{let P=class P extends S3{constructor(){super(),this._doc=Dr(qs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xh().getBaseHref(this._doc)}onPopState(S){let x=xh().getGlobalEventTarget(this._doc,"window");return x.addEventListener("popstate",S,!1),()=>x.removeEventListener("popstate",S)}onHashChange(S){let x=xh().getGlobalEventTarget(this._doc,"window");return x.addEventListener("hashchange",S,!1),()=>x.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,x,e){this._history.pushState(S,x,e)}replaceState(S,x,e){this._history.replaceState(S,x,e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>new P,providedIn:"platform"});let B=P;return B})();function E3(B,P){if(B.length==0)return P;if(P.length==0)return B;let J=0;return B.endsWith("/")&&J++,P.startsWith("/")&&J++,J==2?B+P.substring(1):J==1?B+P:B+"/"+P}function y3(B){let P=B.match(/#|\?|$/),J=P&&P.index||B.length,S=J-(B[J-1]==="/"?1:0);return B.slice(0,S)+B.slice(J)}function mf(B){return B&&B[0]!=="?"?"?"+B:B}var eg=(()=>{let P=class P{historyGo(S){throw new Error("")}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>Dr(C3),providedIn:"root"});let B=P;return B})(),sS=new Qr(""),C3=(()=>{let P=class P extends eg{constructor(S,x){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=x??this._platformLocation.getBaseHrefFromDOM()??Dr(qs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return E3(this._baseHref,S)}path(S=!1){let x=this._platformLocation.pathname+mf(this._platformLocation.search),e=this._platformLocation.hash;return e&&S?`${x}${e}`:x}pushState(S,x,e,p){let y=this.prepareExternalUrl(e+mf(p));this._platformLocation.pushState(S,x,y)}replaceState(S,x,e,p){let y=this.prepareExternalUrl(e+mf(p));this._platformLocation.replaceState(S,x,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}};P.\u0275fac=function(x){return new(x||P)(ni(S3),ni(sS,8))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();var Ed=(()=>{let P=class P{constructor(S){this._subject=new Gr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;let x=this._locationStrategy.getBaseHref();this._basePath=cS(y3(x3(x))),this._locationStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,x=""){return this.path()==this.normalize(S+mf(x))}normalize(S){return P.stripTrailingSlash(uS(this._basePath,x3(S)))}prepareExternalUrl(S){return S&&S[0]!=="/"&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,x="",e=null){this._locationStrategy.pushState(e,"",S,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+mf(x)),e)}replaceState(S,x="",e=null){this._locationStrategy.replaceState(e,"",S,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+mf(x)),e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription??=this.subscribe(x=>{this._notifyUrlChangeListeners(x.url,x.state)}),()=>{let x=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(x,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",x){this._urlChangeListeners.forEach(e=>e(S,x))}subscribe(S,x,e){return this._subject.subscribe({next:S,error:x,complete:e})}};P.normalizeQueryParams=mf,P.joinWithSlash=E3,P.stripTrailingSlash=y3,P.\u0275fac=function(x){return new(x||P)(ni(eg))},P.\u0275prov=Vr({token:P,factory:()=>lS(),providedIn:"root"});let B=P;return B})();function lS(){return new Ed(ni(eg))}function uS(B,P){if(!B||!P.startsWith(B))return P;let J=P.substring(B.length);return J===""||["/",";","?","#"].includes(J[0])?J:P}function x3(B){return B.replace(/\/index.html$/,"")}function cS(B){if(new RegExp("^(https?:)?//").test(B)){let[,J]=B.split(/\/\/[^\/]+/);return J}return B}var D3=function(B){return B[B.Decimal=0]="Decimal",B[B.Percent=1]="Percent",B[B.Currency=2]="Currency",B[B.Scientific=3]="Scientific",B}(D3||{});var $u={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function kd(B,P){let J=Py(B),S=J[yh.NumberSymbols][P];if(typeof S>"u"){if(P===$u.CurrencyDecimal)return J[yh.NumberSymbols][$u.Decimal];if(P===$u.CurrencyGroup)return J[yh.NumberSymbols][$u.Group]}return S}function fS(B,P){return Py(B)[yh.NumberFormats][P]}var hS=/^(\d+)?\.((\d+)(-(\d+))?)?$/,b3=22,Q0=".",Sd="0",dS=";",pS=",",jy="#";function gS(B,P,J,S,x,e,p=!1){let y="",n=!1;if(!isFinite(B))y=kd(J,$u.Infinity);else{let M=xS(B);p&&(M=yS(M));let b=P.minInt,f=P.minFrac,s=P.maxFrac;if(e){let l=e.match(hS);if(l===null)throw new Error(`${e} is not a valid digit info`);let u=l[1],h=l[3],c=l[5];u!=null&&(b=Uy(u)),h!=null&&(f=Uy(h)),c!=null?s=Uy(c):h!=null&&f>s&&(s=f)}bS(M,f,s);let t=M.digits,o=M.integerLen,r=M.exponent,i=[];for(n=t.every(l=>!l);o<b;o++)t.unshift(0);for(;o<0;o++)t.unshift(0);o>0?i=t.splice(o,t.length):(i=t,t=[0]);let a=[];for(t.length>=P.lgSize&&a.unshift(t.splice(-P.lgSize,t.length).join(""));t.length>P.gSize;)a.unshift(t.splice(-P.gSize,t.length).join(""));t.length&&a.unshift(t.join("")),y=a.join(kd(J,S)),i.length&&(y+=kd(J,x)+i.join("")),r&&(y+=kd(J,$u.Exponential)+"+"+r)}return B<0&&!n?y=P.negPre+y+P.negSuf:y=P.posPre+y+P.posSuf,y}function mS(B,P,J){let S=fS(P,D3.Decimal),x=vS(S,kd(P,$u.MinusSign));return gS(B,x,P,$u.Group,$u.Decimal,J)}function vS(B,P="-"){let J={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},S=B.split(dS),x=S[0],e=S[1],p=x.indexOf(Q0)!==-1?x.split(Q0):[x.substring(0,x.lastIndexOf(Sd)+1),x.substring(x.lastIndexOf(Sd)+1)],y=p[0],n=p[1]||"";J.posPre=y.substring(0,y.indexOf(jy));for(let b=0;b<n.length;b++){let f=n.charAt(b);f===Sd?J.minFrac=J.maxFrac=b+1:f===jy?J.maxFrac=b+1:J.posSuf+=f}let M=y.split(pS);if(J.gSize=M[1]?M[1].length:0,J.lgSize=M[2]||M[1]?(M[2]||M[1]).length:0,e){let b=x.length-J.posPre.length-J.posSuf.length,f=e.indexOf(jy);J.negPre=e.substring(0,f).replace(/'/g,""),J.negSuf=e.slice(f+b).replace(/'/g,"")}else J.negPre=P+J.posPre,J.negSuf=J.posSuf;return J}function yS(B){if(B.digits[0]===0)return B;let P=B.digits.length-B.integerLen;return B.exponent?B.exponent+=2:(P===0?B.digits.push(0,0):P===1&&B.digits.push(0),B.integerLen+=2),B}function xS(B){let P=Math.abs(B)+"",J=0,S,x,e,p,y;for((x=P.indexOf(Q0))>-1&&(P=P.replace(Q0,"")),(e=P.search(/e/i))>0?(x<0&&(x=e),x+=+P.slice(e+1),P=P.substring(0,e)):x<0&&(x=P.length),e=0;P.charAt(e)===Sd;e++);if(e===(y=P.length))S=[0],x=1;else{for(y--;P.charAt(y)===Sd;)y--;for(x-=e,S=[],p=0;e<=y;e++,p++)S[p]=Number(P.charAt(e))}return x>b3&&(S=S.splice(0,b3-1),J=x-1,x=1),{digits:S,exponent:J,integerLen:x}}function bS(B,P,J){if(P>J)throw new Error(`The minimum number of digits after fraction (${P}) is higher than the maximum (${J}).`);let S=B.digits,x=S.length-B.integerLen,e=Math.min(Math.max(P,x),J),p=e+B.integerLen,y=S[p];if(p>0){S.splice(Math.max(B.integerLen,p));for(let f=p;f<S.length;f++)S[f]=0}else{x=Math.max(0,x),B.integerLen=1,S.length=Math.max(1,p=e+1),S[0]=0;for(let f=1;f<p;f++)S[f]=0}if(y>=5)if(p-1<0){for(let f=0;f>p;f--)S.unshift(0),B.integerLen++;S.unshift(1),B.integerLen++}else S[p-1]++;for(;x<Math.max(0,e);x++)S.push(0);let n=e!==0,M=P+B.integerLen,b=S.reduceRight(function(f,s,t,o){return s=s+f,o[t]=s<10?s:s-10,n&&(o[t]===0&&t>=M?o.pop():n=!1),s>=10?1:0},0);b&&(S.unshift(b),B.integerLen++)}function Uy(B){let P=parseInt(B);if(isNaN(P))throw new Error("Invalid integer literal when parsing "+B);return P}function tg(B,P){P=encodeURIComponent(P);for(let J of B.split(";")){let S=J.indexOf("="),[x,e]=S==-1?[J,""]:[J.slice(0,S),J.slice(S+1)];if(x.trim()===P)return decodeURIComponent(e)}return null}var Vy=/\s+/,_3=[],I3=(()=>{let P=class P{constructor(S,x){this._ngEl=S,this._renderer=x,this.initialClasses=_3,this.stateMap=new Map}set klass(S){this.initialClasses=S!=null?S.trim().split(Vy):_3}set ngClass(S){this.rawClass=typeof S=="string"?S.trim().split(Vy):S}ngDoCheck(){for(let x of this.initialClasses)this._updateState(x,!0);let S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(let x of S)this._updateState(x,!0);else if(S!=null)for(let x of Object.keys(S))this._updateState(x,!!S[x]);this._applyStateDiff()}_updateState(S,x){let e=this.stateMap.get(S);e!==void 0?(e.enabled!==x&&(e.changed=!0,e.enabled=x),e.touched=!0):this.stateMap.set(S,{enabled:x,changed:!0,touched:!0})}_applyStateDiff(){for(let S of this.stateMap){let x=S[0],e=S[1];e.changed?(this._toggleClass(x,e.enabled),e.changed=!1):e.touched||(e.enabled&&this._toggleClass(x,!1),this.stateMap.delete(x)),e.touched=!1}}_toggleClass(S,x){S=S.trim(),S.length>0&&S.split(Vy).forEach(e=>{x?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}};P.\u0275fac=function(x){return new(x||P)(yo(Yu),yo(_d))},P.\u0275dir=hf({type:P,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let B=P;return B})();var Hy=class{constructor(P,J,S,x){this.$implicit=P,this.ngForOf=J,this.index=S,this.count=x}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ng=(()=>{let P=class P{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,x,e){this._viewContainer=S,this._template=x,this._differs=e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let S=this._ngForOf;if(!this._differ&&S)if(0)try{}catch{}else this._differ=this._differs.find(S).create(this.ngForTrackBy)}if(this._differ){let S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){let x=this._viewContainer;S.forEachOperation((e,p,y)=>{if(e.previousIndex==null)x.createEmbeddedView(this._template,new Hy(e.item,this._ngForOf,-1,-1),y===null?void 0:y);else if(y==null)x.remove(p===null?void 0:p);else if(p!==null){let n=x.get(p);x.move(n,y),w3(n,e)}});for(let e=0,p=x.length;e<p;e++){let n=x.get(e).context;n.index=e,n.count=p,n.ngForOf=this._ngForOf}S.forEachIdentityChange(e=>{let p=x.get(e.currentIndex);w3(p,e)})}static ngTemplateContextGuard(S,x){return!0}};P.\u0275fac=function(x){return new(x||P)(yo(wc),yo(ff),yo(Md))},P.\u0275dir=hf({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let B=P;return B})();function w3(B,P){B.context.$implicit=P.item}var L3=(()=>{let P=class P{constructor(S,x){this._viewContainer=S,this._context=new qy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=x}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){T3("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){T3("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,x){return!0}};P.\u0275fac=function(x){return new(x||P)(yo(wc),yo(ff))},P.\u0275dir=hf({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let B=P;return B})(),qy=class{constructor(){this.$implicit=null,this.ngIf=null}};function T3(B,P){if(!!!(!P||P.createEmbeddedView))throw new Error(`${B} must be a TemplateRef, but received '${zs(P)}'.`)}var O3=(()=>{let P=class P{constructor(S,x,e){this._ngEl=S,this._differs=x,this._renderer=e,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){let S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,x){let[e,p]=S.split("."),y=e.indexOf("-")===-1?void 0:_c.DashCase;x!=null?this._renderer.setStyle(this._ngEl.nativeElement,e,p?`${x}${p}`:x,y):this._renderer.removeStyle(this._ngEl.nativeElement,e,y)}_applyChanges(S){S.forEachRemovedItem(x=>this._setStyle(x.key,null)),S.forEachAddedItem(x=>this._setStyle(x.key,x.currentValue)),S.forEachChangedItem(x=>this._setStyle(x.key,x.currentValue))}};P.\u0275fac=function(x){return new(x||P)(yo(Yu),yo(Ad),yo(_d))},P.\u0275dir=hf({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let B=P;return B})();function _S(B,P){return new Yr(2100,!1)}var P3=(()=>{let P=class P{constructor(S){this._locale=S}transform(S,x,e){if(!wS(S))return null;e||=this._locale;try{let p=TS(S);return mS(p,e,x)}catch(p){throw _S(P,p.message)}}};P.\u0275fac=function(x){return new(x||P)(yo(K0,16))},P.\u0275pipe=r_({name:"number",type:P,pure:!0,standalone:!0});let B=P;return B})();function wS(B){return!(B==null||B===""||B!==B)}function TS(B){if(typeof B=="string"&&!isNaN(Number(B)-parseFloat(B)))return Number(B);if(typeof B!="number")throw new Error(`${B} is not a number`);return B}var fl=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275mod=qu({type:P}),P.\u0275inj=Hu({});let B=P;return B})(),R3="browser",MS="server";function rg(B){return B===MS}var bh=class{};var Dd=class{},Id=class{},Zu=class B{constructor(P){this.normalizedNames=new Map,this.lazyUpdate=null,P?typeof P=="string"?this.lazyInit=()=>{this.headers=new Map,P.split(`
`).forEach(J=>{let S=J.indexOf(":");if(S>0){let x=J.slice(0,S),e=x.toLowerCase(),p=J.slice(S+1).trim();this.maybeSetNormalizedName(x,e),this.headers.has(e)?this.headers.get(e).push(p):this.headers.set(e,[p])}})}:typeof Headers<"u"&&P instanceof Headers?(this.headers=new Map,P.forEach((J,S)=>{this.setHeaderEntries(S,J)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(P).forEach(([J,S])=>{this.setHeaderEntries(J,S)})}:this.headers=new Map}has(P){return this.init(),this.headers.has(P.toLowerCase())}get(P){this.init();let J=this.headers.get(P.toLowerCase());return J&&J.length>0?J[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(P){return this.init(),this.headers.get(P.toLowerCase())||null}append(P,J){return this.clone({name:P,value:J,op:"a"})}set(P,J){return this.clone({name:P,value:J,op:"s"})}delete(P,J){return this.clone({name:P,value:J,op:"d"})}maybeSetNormalizedName(P,J){this.normalizedNames.has(J)||this.normalizedNames.set(J,P)}init(){this.lazyInit&&(this.lazyInit instanceof B?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(P=>this.applyUpdate(P)),this.lazyUpdate=null))}copyFrom(P){P.init(),Array.from(P.headers.keys()).forEach(J=>{this.headers.set(J,P.headers.get(J)),this.normalizedNames.set(J,P.normalizedNames.get(J))})}clone(P){let J=new B;return J.lazyInit=this.lazyInit&&this.lazyInit instanceof B?this.lazyInit:this,J.lazyUpdate=(this.lazyUpdate||[]).concat([P]),J}applyUpdate(P){let J=P.name.toLowerCase();switch(P.op){case"a":case"s":let S=P.value;if(typeof S=="string"&&(S=[S]),S.length===0)return;this.maybeSetNormalizedName(P.name,J);let x=(P.op==="a"?this.headers.get(J):void 0)||[];x.push(...S),this.headers.set(J,x);break;case"d":let e=P.value;if(!e)this.headers.delete(J),this.normalizedNames.delete(J);else{let p=this.headers.get(J);if(!p)return;p=p.filter(y=>e.indexOf(y)===-1),p.length===0?(this.headers.delete(J),this.normalizedNames.delete(J)):this.headers.set(J,p)}break}}setHeaderEntries(P,J){let S=(Array.isArray(J)?J:[J]).map(e=>e.toString()),x=P.toLowerCase();this.headers.set(x,S),this.maybeSetNormalizedName(P,x)}forEach(P){this.init(),Array.from(this.normalizedNames.keys()).forEach(J=>P(this.normalizedNames.get(J),this.headers.get(J)))}};var Wy=class{encodeKey(P){return N3(P)}encodeValue(P){return N3(P)}decodeKey(P){return decodeURIComponent(P)}decodeValue(P){return decodeURIComponent(P)}};function AS(B,P){let J=new Map;return B.length>0&&B.replace(/^\?/,"").split("&").forEach(x=>{let e=x.indexOf("="),[p,y]=e==-1?[P.decodeKey(x),""]:[P.decodeKey(x.slice(0,e)),P.decodeValue(x.slice(e+1))],n=J.get(p)||[];n.push(y),J.set(p,n)}),J}var kS=/%(\d[a-f0-9])/gi,SS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function N3(B){return encodeURIComponent(B).replace(kS,(P,J)=>SS[J]??P)}function og(B){return`${B}`}var Mc=class B{constructor(P={}){if(this.updates=null,this.cloneFrom=null,this.encoder=P.encoder||new Wy,P.fromString){if(P.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=AS(P.fromString,this.encoder)}else P.fromObject?(this.map=new Map,Object.keys(P.fromObject).forEach(J=>{let S=P.fromObject[J],x=Array.isArray(S)?S.map(og):[og(S)];this.map.set(J,x)})):this.map=null}has(P){return this.init(),this.map.has(P)}get(P){this.init();let J=this.map.get(P);return J?J[0]:null}getAll(P){return this.init(),this.map.get(P)||null}keys(){return this.init(),Array.from(this.map.keys())}append(P,J){return this.clone({param:P,value:J,op:"a"})}appendAll(P){let J=[];return Object.keys(P).forEach(S=>{let x=P[S];Array.isArray(x)?x.forEach(e=>{J.push({param:S,value:e,op:"a"})}):J.push({param:S,value:x,op:"a"})}),this.clone(J)}set(P,J){return this.clone({param:P,value:J,op:"s"})}delete(P,J){return this.clone({param:P,value:J,op:"d"})}toString(){return this.init(),this.keys().map(P=>{let J=this.encoder.encodeKey(P);return this.map.get(P).map(S=>J+"="+this.encoder.encodeValue(S)).join("&")}).filter(P=>P!=="").join("&")}clone(P){let J=new B({encoder:this.encoder});return J.cloneFrom=this.cloneFrom||this,J.updates=(this.updates||[]).concat(P),J}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(P=>this.map.set(P,this.cloneFrom.map.get(P))),this.updates.forEach(P=>{switch(P.op){case"a":case"s":let J=(P.op==="a"?this.map.get(P.param):void 0)||[];J.push(og(P.value)),this.map.set(P.param,J);break;case"d":if(P.value!==void 0){let S=this.map.get(P.param)||[],x=S.indexOf(og(P.value));x!==-1&&S.splice(x,1),S.length>0?this.map.set(P.param,S):this.map.delete(P.param)}else{this.map.delete(P.param);break}}}),this.cloneFrom=this.updates=null)}};var Yy=class{constructor(){this.map=new Map}set(P,J){return this.map.set(P,J),this}get(P){return this.map.has(P)||this.map.set(P,P.defaultValue()),this.map.get(P)}delete(P){return this.map.delete(P),this}has(P){return this.map.has(P)}keys(){return this.map.keys()}};function ES(B){switch(B){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function F3(B){return typeof ArrayBuffer<"u"&&B instanceof ArrayBuffer}function z3(B){return typeof Blob<"u"&&B instanceof Blob}function B3(B){return typeof FormData<"u"&&B instanceof FormData}function CS(B){return typeof URLSearchParams<"u"&&B instanceof URLSearchParams}var Cd=class B{constructor(P,J,S,x){this.url=J,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=P.toUpperCase();let e;if(ES(this.method)||x?(this.body=S!==void 0?S:null,e=x):e=S,e&&(this.reportProgress=!!e.reportProgress,this.withCredentials=!!e.withCredentials,e.responseType&&(this.responseType=e.responseType),e.headers&&(this.headers=e.headers),e.context&&(this.context=e.context),e.params&&(this.params=e.params),this.transferCache=e.transferCache),this.headers??=new Zu,this.context??=new Yy,!this.params)this.params=new Mc,this.urlWithParams=J;else{let p=this.params.toString();if(p.length===0)this.urlWithParams=J;else{let y=J.indexOf("?"),n=y===-1?"?":y<J.length-1?"&":"";this.urlWithParams=J+n+p}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||F3(this.body)||z3(this.body)||B3(this.body)||CS(this.body)?this.body:this.body instanceof Mc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||B3(this.body)?null:z3(this.body)?this.body.type||null:F3(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(P={}){let J=P.method||this.method,S=P.url||this.url,x=P.responseType||this.responseType,e=P.transferCache??this.transferCache,p=P.body!==void 0?P.body:this.body,y=P.withCredentials??this.withCredentials,n=P.reportProgress??this.reportProgress,M=P.headers||this.headers,b=P.params||this.params,f=P.context??this.context;return P.setHeaders!==void 0&&(M=Object.keys(P.setHeaders).reduce((s,t)=>s.set(t,P.setHeaders[t]),M)),P.setParams&&(b=Object.keys(P.setParams).reduce((s,t)=>s.set(t,P.setParams[t]),b)),new B(J,S,p,{params:b,headers:M,context:f,reportProgress:n,responseType:x,withCredentials:y,transferCache:e})}},Ac=function(B){return B[B.Sent=0]="Sent",B[B.UploadProgress=1]="UploadProgress",B[B.ResponseHeader=2]="ResponseHeader",B[B.DownloadProgress=3]="DownloadProgress",B[B.Response=4]="Response",B[B.User=5]="User",B}(Ac||{}),Ld=class{constructor(P,J=200,S="OK"){this.headers=P.headers||new Zu,this.status=P.status!==void 0?P.status:J,this.statusText=P.statusText||S,this.url=P.url||null,this.ok=this.status>=200&&this.status<300}},ag=class B extends Ld{constructor(P={}){super(P),this.type=Ac.ResponseHeader}clone(P={}){return new B({headers:P.headers||this.headers,status:P.status!==void 0?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}},Od=class B extends Ld{constructor(P={}){super(P),this.type=Ac.Response,this.body=P.body!==void 0?P.body:null}clone(P={}){return new B({body:P.body!==void 0?P.body:this.body,headers:P.headers||this.headers,status:P.status!==void 0?P.status:this.status,statusText:P.statusText||this.statusText,url:P.url||this.url||void 0})}},Tc=class extends Ld{constructor(P){super(P,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${P.url||"(unknown url)"}`:this.message=`Http failure response for ${P.url||"(unknown url)"}: ${P.status} ${P.statusText}`,this.error=P.error||null}},H3=200,DS=204;function Gy(B,P){return{body:P,headers:B.headers,context:B.context,observe:B.observe,params:B.params,reportProgress:B.reportProgress,responseType:B.responseType,withCredentials:B.withCredentials,transferCache:B.transferCache}}var Pd=(()=>{let P=class P{constructor(S){this.handler=S}request(S,x,e={}){let p;if(S instanceof Cd)p=S;else{let M;e.headers instanceof Zu?M=e.headers:M=new Zu(e.headers);let b;e.params&&(e.params instanceof Mc?b=e.params:b=new Mc({fromObject:e.params})),p=new Cd(S,x,e.body!==void 0?e.body:null,{headers:M,context:e.context,params:b,reportProgress:e.reportProgress,responseType:e.responseType||"json",withCredentials:e.withCredentials,transferCache:e.transferCache})}let y=ti(p).pipe(hc(M=>this.handler.handle(M)));if(S instanceof Cd||e.observe==="events")return y;let n=y.pipe(sl(M=>M instanceof Od));switch(e.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return n.pipe(pi(M=>{if(M.body!==null&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return n.pipe(pi(M=>{if(M.body!==null&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return n.pipe(pi(M=>{if(M.body!==null&&typeof M.body!="string")throw new Error("Response is not a string.");return M.body}));case"json":default:return n.pipe(pi(M=>M.body))}case"response":return n;default:throw new Error(`Unreachable: unhandled observe type ${e.observe}}`)}}delete(S,x={}){return this.request("DELETE",S,x)}get(S,x={}){return this.request("GET",S,x)}head(S,x={}){return this.request("HEAD",S,x)}jsonp(S,x){return this.request("JSONP",S,{params:new Mc().append(x,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(S,x={}){return this.request("OPTIONS",S,x)}patch(S,x,e={}){return this.request("PATCH",S,Gy(e,x))}post(S,x,e={}){return this.request("POST",S,Gy(e,x))}put(S,x,e={}){return this.request("PUT",S,Gy(e,x))}};P.\u0275fac=function(x){return new(x||P)(ni(Dd))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),IS=/^\)\]\}',?\n/,LS="X-Request-URL";function j3(B){if(B.url)return B.url;let P=LS.toLocaleLowerCase();return B.headers.get(P)}var $y=(()=>{let P=class P{constructor(){this.fetchImpl=Dr(Zy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=Dr(Fo)}handle(S){return new Ui(x=>{let e=new AbortController;return this.doRequest(S,e.signal,x).then(Xy,p=>x.error(new Tc({error:p}))),()=>e.abort()})}doRequest(S,x,e){return qc(this,null,function*(){let p=this.createRequestInit(S),y;try{let o=this.fetchImpl(S.urlWithParams,zr({signal:x},p));OS(o),e.next({type:Ac.Sent}),y=yield o}catch(o){e.error(new Tc({error:o,status:o.status??0,statusText:o.statusText,url:S.urlWithParams,headers:o.headers}));return}let n=new Zu(y.headers),M=y.statusText,b=j3(y)??S.urlWithParams,f=y.status,s=null;if(S.reportProgress&&e.next(new ag({headers:n,status:f,statusText:M,url:b})),y.body){let o=y.headers.get("content-length"),r=[],i=y.body.getReader(),a=0,l,u,h=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>qc(this,null,function*(){for(;;){let{done:w,value:g}=yield i.read();if(w)break;if(r.push(g),a+=g.length,S.reportProgress){u=S.responseType==="text"?(u??"")+(l??=new TextDecoder).decode(g,{stream:!0}):void 0;let v=()=>e.next({type:Ac.DownloadProgress,total:o?+o:void 0,loaded:a,partialText:u});h?h.run(v):v()}}}));let c=this.concatChunks(r,a);try{let w=y.headers.get("Content-Type")??"";s=this.parseBody(S,c,w)}catch(w){e.error(new Tc({error:w,headers:new Zu(y.headers),status:y.status,statusText:y.statusText,url:j3(y)??S.urlWithParams}));return}}f===0&&(f=s?H3:0),f>=200&&f<300?(e.next(new Od({body:s,headers:n,status:f,statusText:M,url:b})),e.complete()):e.error(new Tc({error:s,headers:n,status:f,statusText:M,url:b}))})}parseBody(S,x,e){switch(S.responseType){case"json":let p=new TextDecoder().decode(x).replace(IS,"");return p===""?null:JSON.parse(p);case"text":return new TextDecoder().decode(x);case"blob":return new Blob([x],{type:e});case"arraybuffer":return x.buffer}}createRequestInit(S){let x={},e=S.withCredentials?"include":void 0;if(S.headers.forEach((p,y)=>x[p]=y.join(",")),x.Accept??="application/json, text/plain, */*",!x["Content-Type"]){let p=S.detectContentTypeHeader();p!==null&&(x["Content-Type"]=p)}return{body:S.serializeBody(),method:S.method,headers:x,credentials:e}}concatChunks(S,x){let e=new Uint8Array(x),p=0;for(let y of S)e.set(y,p),p+=y.length;return e}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),Zy=class{};function Xy(){}function OS(B){B.then(Xy,Xy)}function PS(B,P){return P(B)}function RS(B,P,J){return(S,x)=>ru(J,()=>P(S,e=>B(e,x)))}var q3=new Qr(""),NS=new Qr(""),FS=new Qr("",{providedIn:"root",factory:()=>!0});var U3=(()=>{let P=class P extends Dd{constructor(S,x){super(),this.backend=S,this.injector=x,this.chain=null,this.pendingTasks=Dr(xc),this.contributeToStability=Dr(FS)}handle(S){if(this.chain===null){let x=Array.from(new Set([...this.injector.get(q3),...this.injector.get(NS,[])]));this.chain=x.reduceRight((e,p)=>RS(e,p,this.injector),PS)}if(this.contributeToStability){let x=this.pendingTasks.add();return this.chain(S,e=>this.backend.handle(e)).pipe($c(()=>this.pendingTasks.remove(x)))}else return this.chain(S,x=>this.backend.handle(x))}};P.\u0275fac=function(x){return new(x||P)(ni(Id),ni(Bs))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})();var zS=/^\)\]\}',?\n/;function BS(B){return"responseURL"in B&&B.responseURL?B.responseURL:/^X-Request-URL:/m.test(B.getAllResponseHeaders())?B.getResponseHeader("X-Request-URL"):null}var V3=(()=>{let P=class P{constructor(S){this.xhrFactory=S}handle(S){if(S.method==="JSONP")throw new Yr(-2800,!1);let x=this.xhrFactory;return(x.\u0275loadImpl?$o(x.\u0275loadImpl()):ti(null)).pipe(ll(()=>new Ui(p=>{let y=x.build();if(y.open(S.method,S.urlWithParams),S.withCredentials&&(y.withCredentials=!0),S.headers.forEach((i,a)=>y.setRequestHeader(i,a.join(","))),S.headers.has("Accept")||y.setRequestHeader("Accept","application/json, text/plain, */*"),!S.headers.has("Content-Type")){let i=S.detectContentTypeHeader();i!==null&&y.setRequestHeader("Content-Type",i)}if(S.responseType){let i=S.responseType.toLowerCase();y.responseType=i!=="json"?i:"text"}let n=S.serializeBody(),M=null,b=()=>{if(M!==null)return M;let i=y.statusText||"OK",a=new Zu(y.getAllResponseHeaders()),l=BS(y)||S.url;return M=new ag({headers:a,status:y.status,statusText:i,url:l}),M},f=()=>{let{headers:i,status:a,statusText:l,url:u}=b(),h=null;a!==DS&&(h=typeof y.response>"u"?y.responseText:y.response),a===0&&(a=h?H3:0);let c=a>=200&&a<300;if(S.responseType==="json"&&typeof h=="string"){let w=h;h=h.replace(zS,"");try{h=h!==""?JSON.parse(h):null}catch(g){h=w,c&&(c=!1,h={error:g,text:h})}}c?(p.next(new Od({body:h,headers:i,status:a,statusText:l,url:u||void 0})),p.complete()):p.error(new Tc({error:h,headers:i,status:a,statusText:l,url:u||void 0}))},s=i=>{let{url:a}=b(),l=new Tc({error:i,status:y.status||0,statusText:y.statusText||"Unknown Error",url:a||void 0});p.error(l)},t=!1,o=i=>{t||(p.next(b()),t=!0);let a={type:Ac.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(a.total=i.total),S.responseType==="text"&&y.responseText&&(a.partialText=y.responseText),p.next(a)},r=i=>{let a={type:Ac.UploadProgress,loaded:i.loaded};i.lengthComputable&&(a.total=i.total),p.next(a)};return y.addEventListener("load",f),y.addEventListener("error",s),y.addEventListener("timeout",s),y.addEventListener("abort",s),S.reportProgress&&(y.addEventListener("progress",o),n!==null&&y.upload&&y.upload.addEventListener("progress",r)),y.send(n),p.next({type:Ac.Sent}),()=>{y.removeEventListener("error",s),y.removeEventListener("abort",s),y.removeEventListener("load",f),y.removeEventListener("timeout",s),S.reportProgress&&(y.removeEventListener("progress",o),n!==null&&y.upload&&y.upload.removeEventListener("progress",r)),y.readyState!==y.DONE&&y.abort()}})))}};P.\u0275fac=function(x){return new(x||P)(ni(bh))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),G3=new Qr(""),jS="XSRF-TOKEN",US=new Qr("",{providedIn:"root",factory:()=>jS}),VS="X-XSRF-TOKEN",HS=new Qr("",{providedIn:"root",factory:()=>VS}),sg=class{},qS=(()=>{let P=class P{constructor(S,x,e){this.doc=S,this.platform=x,this.cookieName=e,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let S=this.doc.cookie||"";return S!==this.lastCookieString&&(this.parseCount++,this.lastToken=tg(S,this.cookieName),this.lastCookieString=S),this.lastToken}};P.\u0275fac=function(x){return new(x||P)(ni(qs),ni(bc),ni(US))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})();function GS(B,P){let J=B.url.toLowerCase();if(!Dr(G3)||B.method==="GET"||B.method==="HEAD"||J.startsWith("http://")||J.startsWith("https://"))return P(B);let S=Dr(sg).getToken(),x=Dr(HS);return S!=null&&!B.headers.has(x)&&(B=B.clone({headers:B.headers.set(x,S)})),P(B)}var W3=function(B){return B[B.Interceptors=0]="Interceptors",B[B.LegacyInterceptors=1]="LegacyInterceptors",B[B.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",B[B.NoXsrfProtection=3]="NoXsrfProtection",B[B.JsonpSupport=4]="JsonpSupport",B[B.RequestsMadeViaParent=5]="RequestsMadeViaParent",B[B.Fetch=6]="Fetch",B}(W3||{});function WS(B,P){return{\u0275kind:B,\u0275providers:P}}function Y3(...B){let P=[Pd,V3,U3,{provide:Dd,useExisting:U3},{provide:Id,useFactory:()=>Dr($y,{optional:!0})??Dr(V3)},{provide:q3,useValue:GS,multi:!0},{provide:G3,useValue:!0},{provide:sg,useClass:qS}];for(let J of B)P.push(...J.\u0275providers);return fh(P)}function $3(){return WS(W3.Fetch,[$y,{provide:Id,useExisting:$y}])}var Qy=class extends J0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},e1=class B extends Qy{static makeCurrent(){k3(new B)}onAndCancel(P,J,S){return P.addEventListener(J,S),()=>{P.removeEventListener(J,S)}}dispatchEvent(P,J){P.dispatchEvent(J)}remove(P){P.parentNode&&P.parentNode.removeChild(P)}createElement(P,J){return J=J||this.getDefaultDocument(),J.createElement(P)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(P){return P.nodeType===Node.ELEMENT_NODE}isShadowRoot(P){return P instanceof DocumentFragment}getGlobalEventTarget(P,J){return J==="window"?window:J==="document"?P:J==="body"?P.body:null}getBaseHref(P){let J=YS();return J==null?null:$S(J)}resetBaseElement(){Rd=null}getUserAgent(){return window.navigator.userAgent}getCookie(P){return tg(document.cookie,P)}},Rd=null;function YS(){return Rd=Rd||document.querySelector("base"),Rd?Rd.getAttribute("href"):null}function $S(B){return new URL(B,document.baseURI).pathname}var ZS=(()=>{let P=class P{build(){return new XMLHttpRequest}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),t1=new Qr(""),Q3=(()=>{let P=class P{constructor(S,x){this._zone=x,this._eventNameToPlugin=new Map,S.forEach(e=>{e.manager=this}),this._plugins=S.slice().reverse()}addEventListener(S,x,e){return this._findPluginFor(x).addEventListener(S,x,e)}getZone(){return this._zone}_findPluginFor(S){let x=this._eventNameToPlugin.get(S);if(x)return x;if(x=this._plugins.find(p=>p.supports(S)),!x)throw new Yr(5101,!1);return this._eventNameToPlugin.set(S,x),x}};P.\u0275fac=function(x){return new(x||P)(ni(t1),ni(Fo))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),lg=class{constructor(P){this._doc=P}},Ky="ng-app-id",e4=(()=>{let P=class P{constructor(S,x,e,p={}){this.doc=S,this.appId=x,this.nonce=e,this.platformId=p,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rg(p),this.resetHostNodes()}addStyles(S){for(let x of S)this.changeUsageCount(x,1)===1&&this.onStyleAdded(x)}removeStyles(S){for(let x of S)this.changeUsageCount(x,-1)<=0&&this.onStyleRemoved(x)}ngOnDestroy(){let S=this.styleNodesInDOM;S&&(S.forEach(x=>x.remove()),S.clear());for(let x of this.getAllStyles())this.onStyleRemoved(x);this.resetHostNodes()}addHost(S){this.hostNodes.add(S);for(let x of this.getAllStyles())this.addStyleToHost(S,x)}removeHost(S){this.hostNodes.delete(S)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(S){for(let x of this.hostNodes)this.addStyleToHost(x,S)}onStyleRemoved(S){let x=this.styleRef;x.get(S)?.elements?.forEach(e=>e.remove()),x.delete(S)}collectServerRenderedStyles(){let S=this.doc.head?.querySelectorAll(`style[${Ky}="${this.appId}"]`);if(S?.length){let x=new Map;return S.forEach(e=>{e.textContent!=null&&x.set(e.textContent,e)}),x}return null}changeUsageCount(S,x){let e=this.styleRef;if(e.has(S)){let p=e.get(S);return p.usage+=x,p.usage}return e.set(S,{usage:x,elements:[]}),x}getStyleElement(S,x){let e=this.styleNodesInDOM,p=e?.get(x);if(p?.parentNode===S)return e.delete(x),p.removeAttribute(Ky),p;{let y=this.doc.createElement("style");return this.nonce&&y.setAttribute("nonce",this.nonce),y.textContent=x,this.platformIsServer&&y.setAttribute(Ky,this.appId),S.appendChild(y),y}}addStyleToHost(S,x){let e=this.getStyleElement(S,x),p=this.styleRef,y=p.get(x)?.elements;y?y.push(e):p.set(x,{elements:[e],usage:1})}resetHostNodes(){let S=this.hostNodes;S.clear(),S.add(this.doc.head)}};P.\u0275fac=function(x){return new(x||P)(ni(qs),ni(gy),ni(vy,8),ni(bc))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),Jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},r1=/%COMP%/g,t4="%COMP%",XS=`_nghost-${t4}`,KS=`_ngcontent-${t4}`,JS=!0,QS=new Qr("",{providedIn:"root",factory:()=>JS});function eE(B){return KS.replace(r1,B)}function tE(B){return XS.replace(r1,B)}function n4(B,P){return P.map(J=>J.replace(r1,B))}var X3=(()=>{let P=class P{constructor(S,x,e,p,y,n,M,b=null){this.eventManager=S,this.sharedStylesHost=x,this.appId=e,this.removeStylesOnCompDestroy=p,this.doc=y,this.platformId=n,this.ngZone=M,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=rg(n),this.defaultRenderer=new Nd(S,y,M,this.platformIsServer)}createRenderer(S,x){if(!S||!x)return this.defaultRenderer;this.platformIsServer&&x.encapsulation===Tu.ShadowDom&&(x=Yo(zr({},x),{encapsulation:Tu.Emulated}));let e=this.getOrCreateRenderer(S,x);return e instanceof ug?e.applyToHost(S):e instanceof Fd&&e.applyStyles(),e}getOrCreateRenderer(S,x){let e=this.rendererByCompId,p=e.get(x.id);if(!p){let y=this.doc,n=this.ngZone,M=this.eventManager,b=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,s=this.platformIsServer;switch(x.encapsulation){case Tu.Emulated:p=new ug(M,b,x,this.appId,f,y,n,s);break;case Tu.ShadowDom:return new n1(M,b,S,x,y,n,this.nonce,s);default:p=new Fd(M,b,x,f,y,n,s);break}e.set(x.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}};P.\u0275fac=function(x){return new(x||P)(ni(Q3),ni(e4),ni(gy),ni(QS),ni(qs),ni(bc),ni(Fo),ni(vy))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),Nd=class{constructor(P,J,S,x){this.eventManager=P,this.doc=J,this.ngZone=S,this.platformIsServer=x,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(P,J){return J?this.doc.createElementNS(Jy[J]||J,P):this.doc.createElement(P)}createComment(P){return this.doc.createComment(P)}createText(P){return this.doc.createTextNode(P)}appendChild(P,J){(K3(P)?P.content:P).appendChild(J)}insertBefore(P,J,S){P&&(K3(P)?P.content:P).insertBefore(J,S)}removeChild(P,J){P&&P.removeChild(J)}selectRootElement(P,J){let S=typeof P=="string"?this.doc.querySelector(P):P;if(!S)throw new Yr(-5104,!1);return J||(S.textContent=""),S}parentNode(P){return P.parentNode}nextSibling(P){return P.nextSibling}setAttribute(P,J,S,x){if(x){J=x+":"+J;let e=Jy[x];e?P.setAttributeNS(e,J,S):P.setAttribute(J,S)}else P.setAttribute(J,S)}removeAttribute(P,J,S){if(S){let x=Jy[S];x?P.removeAttributeNS(x,J):P.removeAttribute(`${S}:${J}`)}else P.removeAttribute(J)}addClass(P,J){P.classList.add(J)}removeClass(P,J){P.classList.remove(J)}setStyle(P,J,S,x){x&(_c.DashCase|_c.Important)?P.style.setProperty(J,S,x&_c.Important?"important":""):P.style[J]=S}removeStyle(P,J,S){S&_c.DashCase?P.style.removeProperty(J):P.style[J]=""}setProperty(P,J,S){P!=null&&(P[J]=S)}setValue(P,J){P.nodeValue=J}listen(P,J,S){if(typeof P=="string"&&(P=xh().getGlobalEventTarget(this.doc,P),!P))throw new Error(`Unsupported event target ${P} for event ${J}`);return this.eventManager.addEventListener(P,J,this.decoratePreventDefault(S))}decoratePreventDefault(P){return J=>{if(J==="__ngUnwrap__")return P;(this.platformIsServer?this.ngZone.runGuarded(()=>P(J)):P(J))===!1&&J.preventDefault()}}};function K3(B){return B.tagName==="TEMPLATE"&&B.content!==void 0}var n1=class extends Nd{constructor(P,J,S,x,e,p,y,n){super(P,e,p,n),this.sharedStylesHost=J,this.hostEl=S,this.shadowRoot=S.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let M=n4(x.id,x.styles);for(let b of M){let f=document.createElement("style");y&&f.setAttribute("nonce",y),f.textContent=b,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(P){return P===this.hostEl?this.shadowRoot:P}appendChild(P,J){return super.appendChild(this.nodeOrShadowRoot(P),J)}insertBefore(P,J,S){return super.insertBefore(this.nodeOrShadowRoot(P),J,S)}removeChild(P,J){return super.removeChild(this.nodeOrShadowRoot(P),J)}parentNode(P){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(P)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fd=class extends Nd{constructor(P,J,S,x,e,p,y,n){super(P,e,p,y),this.sharedStylesHost=J,this.removeStylesOnCompDestroy=x,this.styles=n?n4(n,S.styles):S.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ug=class extends Fd{constructor(P,J,S,x,e,p,y,n){let M=x+"-"+S.id;super(P,J,S,e,p,y,n,M),this.contentAttr=eE(M),this.hostAttr=tE(M)}applyToHost(P){this.applyStyles(),this.setAttribute(P,this.hostAttr,"")}createElement(P,J){let S=super.createElement(P,J);return super.setAttribute(S,this.contentAttr,""),S}},nE=(()=>{let P=class P extends lg{constructor(S){super(S)}supports(S){return!0}addEventListener(S,x,e){return S.addEventListener(x,e,!1),()=>this.removeEventListener(S,x,e)}removeEventListener(S,x,e){return S.removeEventListener(x,e)}};P.\u0275fac=function(x){return new(x||P)(ni(qs))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})(),J3=["alt","control","meta","shift"],rE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iE={alt:B=>B.altKey,control:B=>B.ctrlKey,meta:B=>B.metaKey,shift:B=>B.shiftKey},oE=(()=>{let P=class P extends lg{constructor(S){super(S)}supports(S){return P.parseEventName(S)!=null}addEventListener(S,x,e){let p=P.parseEventName(x),y=P.eventCallback(p.fullKey,e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xh().onAndCancel(S,p.domEventName,y))}static parseEventName(S){let x=S.toLowerCase().split("."),e=x.shift();if(x.length===0||!(e==="keydown"||e==="keyup"))return null;let p=P._normalizeKey(x.pop()),y="",n=x.indexOf("code");if(n>-1&&(x.splice(n,1),y="code."),J3.forEach(b=>{let f=x.indexOf(b);f>-1&&(x.splice(f,1),y+=b+".")}),y+=p,x.length!=0||p.length===0)return null;let M={};return M.domEventName=e,M.fullKey=y,M}static matchEventFullKeyCode(S,x){let e=rE[S.key]||S.key,p="";return x.indexOf("code.")>-1&&(e=S.code,p="code."),e==null||!e?!1:(e=e.toLowerCase(),e===" "?e="space":e==="."&&(e="dot"),J3.forEach(y=>{if(y!==e){let n=iE[y];n(S)&&(p+=y+".")}}),p+=e,p===x)}static eventCallback(S,x,e){return p=>{P.matchEventFullKeyCode(p,S)&&e.runGuarded(()=>x(p))}}static _normalizeKey(S){return S==="esc"?"escape":S}};P.\u0275fac=function(x){return new(x||P)(ni(qs))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac});let B=P;return B})();function r4(B,P){return v3(zr({rootComponent:B},aE(P)))}function aE(B){return{appProviders:[...fE,...B?.providers??[]],platformProviders:cE}}function sE(){e1.makeCurrent()}function lE(){return new Vu}function uE(){return lw(document),document}var cE=[{provide:bc,useValue:R3},{provide:my,useValue:sE,multi:!0},{provide:qs,useFactory:uE,deps:[]}];var fE=[{provide:B0,useValue:"root"},{provide:Vu,useFactory:lE,deps:[]},{provide:t1,useClass:nE,multi:!0,deps:[qs,Fo,bc]},{provide:t1,useClass:oE,multi:!0,deps:[qs]},X3,e4,Q3,{provide:ch,useExisting:X3},{provide:bh,useClass:ZS,deps:[]},[]];var i4=(()=>{let P=class P{constructor(S){this._doc=S}getTitle(){return this._doc.title}setTitle(S){this._doc.title=S||""}};P.\u0275fac=function(x){return new(x||P)(ni(qs))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();var fi="primary",ep=Symbol("RouteTitle"),l1=class{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){let J=this.params[P];return Array.isArray(J)?J[0]:J}return null}getAll(P){if(this.has(P)){let J=this.params[P];return Array.isArray(J)?J:[J]}return[]}get keys(){return Object.keys(this.params)}};function kh(B){return new l1(B)}function dE(B,P,J){let S=J.path.split("/");if(S.length>B.length||J.pathMatch==="full"&&(P.hasChildren()||S.length<B.length))return null;let x={};for(let e=0;e<S.length;e++){let p=S[e],y=B[e];if(p[0]===":")x[p.substring(1)]=y;else if(p!==y.path)return null}return{consumed:B.slice(0,S.length),posParams:x}}function pE(B,P){if(B.length!==P.length)return!1;for(let J=0;J<B.length;++J)if(!Su(B[J],P[J]))return!1;return!0}function Su(B,P){let J=B?u1(B):void 0,S=P?u1(P):void 0;if(!J||!S||J.length!=S.length)return!1;let x;for(let e=0;e<J.length;e++)if(x=J[e],!h4(B[x],P[x]))return!1;return!0}function u1(B){return[...Object.keys(B),...Object.getOwnPropertySymbols(B)]}function h4(B,P){if(Array.isArray(B)&&Array.isArray(P)){if(B.length!==P.length)return!1;let J=[...B].sort(),S=[...P].sort();return J.every((x,e)=>S[e]===x)}else return B===P}function d4(B){return B.length>0?B[B.length-1]:null}function Sc(B){return Pm(B)?B:wd(B)?$o(Promise.resolve(B)):ti(B)}var gE={exact:g4,subset:m4},p4={exact:mE,subset:vE,ignored:()=>!0};function o4(B,P,J){return gE[J.paths](B.root,P.root,J.matrixParams)&&p4[J.queryParams](B.queryParams,P.queryParams)&&!(J.fragment==="exact"&&B.fragment!==P.fragment)}function mE(B,P){return Su(B,P)}function g4(B,P,J){if(!yf(B.segments,P.segments)||!hg(B.segments,P.segments,J)||B.numberOfChildren!==P.numberOfChildren)return!1;for(let S in P.children)if(!B.children[S]||!g4(B.children[S],P.children[S],J))return!1;return!0}function vE(B,P){return Object.keys(P).length<=Object.keys(B).length&&Object.keys(P).every(J=>h4(B[J],P[J]))}function m4(B,P,J){return v4(B,P,P.segments,J)}function v4(B,P,J,S){if(B.segments.length>J.length){let x=B.segments.slice(0,J.length);return!(!yf(x,J)||P.hasChildren()||!hg(x,J,S))}else if(B.segments.length===J.length){if(!yf(B.segments,J)||!hg(B.segments,J,S))return!1;for(let x in P.children)if(!B.children[x]||!m4(B.children[x],P.children[x],S))return!1;return!0}else{let x=J.slice(0,B.segments.length),e=J.slice(B.segments.length);return!yf(B.segments,x)||!hg(B.segments,x,S)||!B.children[fi]?!1:v4(B.children[fi],P,e,S)}}function hg(B,P,J){return P.every((S,x)=>p4[J](B[x].parameters,S.parameters))}var kc=class{constructor(P=new Qi([],{}),J={},S=null){this.root=P,this.queryParams=J,this.fragment=S}get queryParamMap(){return this._queryParamMap??=kh(this.queryParams),this._queryParamMap}toString(){return bE.serialize(this)}},Qi=class{constructor(P,J){this.segments=P,this.children=J,this.parent=null,Object.values(J).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dg(this)}},vf=class{constructor(P,J){this.path=P,this.parameters=J}get parameterMap(){return this._parameterMap??=kh(this.parameters),this._parameterMap}toString(){return x4(this)}};function yE(B,P){return yf(B,P)&&B.every((J,S)=>Su(J.parameters,P[S].parameters))}function yf(B,P){return B.length!==P.length?!1:B.every((J,S)=>J.path===P[S].path)}function xE(B,P){let J=[];return Object.entries(B.children).forEach(([S,x])=>{S===fi&&(J=J.concat(P(x,S)))}),Object.entries(B.children).forEach(([S,x])=>{S!==fi&&(J=J.concat(P(x,S)))}),J}var R1=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>new qd,providedIn:"root"});let B=P;return B})(),qd=class{parse(P){let J=new f1(P);return new kc(J.parseRootSegment(),J.parseQueryParams(),J.parseFragment())}serialize(P){let J=`/${zd(P.root,!0)}`,S=TE(P.queryParams),x=typeof P.fragment=="string"?`#${_E(P.fragment)}`:"";return`${J}${S}${x}`}},bE=new qd;function dg(B){return B.segments.map(P=>x4(P)).join("/")}function zd(B,P){if(!B.hasChildren())return dg(B);if(P){let J=B.children[fi]?zd(B.children[fi],!1):"",S=[];return Object.entries(B.children).forEach(([x,e])=>{x!==fi&&S.push(`${x}:${zd(e,!1)}`)}),S.length>0?`${J}(${S.join("//")})`:J}else{let J=xE(B,(S,x)=>x===fi?[zd(B.children[fi],!1)]:[`${x}:${zd(S,!1)}`]);return Object.keys(B.children).length===1&&B.children[fi]!=null?`${dg(B)}/${J[0]}`:`${dg(B)}/(${J.join("//")})`}}function y4(B){return encodeURIComponent(B).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cg(B){return y4(B).replace(/%3B/gi,";")}function _E(B){return encodeURI(B)}function c1(B){return y4(B).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pg(B){return decodeURIComponent(B)}function a4(B){return pg(B.replace(/\+/g,"%20"))}function x4(B){return`${c1(B.path)}${wE(B.parameters)}`}function wE(B){return Object.entries(B).map(([P,J])=>`;${c1(P)}=${c1(J)}`).join("")}function TE(B){let P=Object.entries(B).map(([J,S])=>Array.isArray(S)?S.map(x=>`${cg(J)}=${cg(x)}`).join("&"):`${cg(J)}=${cg(S)}`).filter(J=>J);return P.length?`?${P.join("&")}`:""}var ME=/^[^\/()?;#]+/;function i1(B){let P=B.match(ME);return P?P[0]:""}var AE=/^[^\/()?;=#]+/;function kE(B){let P=B.match(AE);return P?P[0]:""}var SE=/^[^=?&#]+/;function EE(B){let P=B.match(SE);return P?P[0]:""}var CE=/^[^&#]+/;function DE(B){let P=B.match(CE);return P?P[0]:""}var f1=class{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qi([],{}):new Qi([],this.parseChildren())}parseQueryParams(){let P={};if(this.consumeOptional("?"))do this.parseQueryParam(P);while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let J={};this.peekStartsWith("/(")&&(this.capture("/"),J=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(P.length>0||Object.keys(J).length>0)&&(S[fi]=new Qi(P,J)),S}parseSegment(){let P=i1(this.remaining);if(P===""&&this.peekStartsWith(";"))throw new Yr(4009,!1);return this.capture(P),new vf(pg(P),this.parseMatrixParams())}parseMatrixParams(){let P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){let J=kE(this.remaining);if(!J)return;this.capture(J);let S="";if(this.consumeOptional("=")){let x=i1(this.remaining);x&&(S=x,this.capture(S))}P[pg(J)]=pg(S)}parseQueryParam(P){let J=EE(this.remaining);if(!J)return;this.capture(J);let S="";if(this.consumeOptional("=")){let p=DE(this.remaining);p&&(S=p,this.capture(S))}let x=a4(J),e=a4(S);if(P.hasOwnProperty(x)){let p=P[x];Array.isArray(p)||(p=[p],P[x]=p),p.push(e)}else P[x]=e}parseParens(P){let J={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let S=i1(this.remaining),x=this.remaining[S.length];if(x!=="/"&&x!==")"&&x!==";")throw new Yr(4010,!1);let e;S.indexOf(":")>-1?(e=S.slice(0,S.indexOf(":")),this.capture(e),this.capture(":")):P&&(e=fi);let p=this.parseChildren();J[e]=Object.keys(p).length===1?p[fi]:new Qi([],p),this.consumeOptional("//")}return J}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return this.peekStartsWith(P)?(this.remaining=this.remaining.substring(P.length),!0):!1}capture(P){if(!this.consumeOptional(P))throw new Yr(4011,!1)}};function b4(B){return B.segments.length>0?new Qi([],{[fi]:B}):B}function _4(B){let P={};for(let[S,x]of Object.entries(B.children)){let e=_4(x);if(S===fi&&e.segments.length===0&&e.hasChildren())for(let[p,y]of Object.entries(e.children))P[p]=y;else(e.segments.length>0||e.hasChildren())&&(P[S]=e)}let J=new Qi(B.segments,P);return IE(J)}function IE(B){if(B.numberOfChildren===1&&B.children[fi]){let P=B.children[fi];return new Qi(B.segments.concat(P.segments),P.children)}return B}function Gd(B){return B instanceof kc}function LE(B,P,J=null,S=null){let x=w4(B);return T4(x,P,J,S)}function w4(B){let P;function J(e){let p={};for(let n of e.children){let M=J(n);p[n.outlet]=M}let y=new Qi(e.url,p);return e===B&&(P=y),y}let S=J(B.root),x=b4(S);return P??x}function T4(B,P,J,S){let x=B;for(;x.parent;)x=x.parent;if(P.length===0)return o1(x,x,x,J,S);let e=OE(P);if(e.toRoot())return o1(x,x,new Qi([],{}),J,S);let p=PE(e,x,B),y=p.processChildren?Ud(p.segmentGroup,p.index,e.commands):A4(p.segmentGroup,p.index,e.commands);return o1(x,p.segmentGroup,y,J,S)}function gg(B){return typeof B=="object"&&B!=null&&!B.outlets&&!B.segmentPath}function Wd(B){return typeof B=="object"&&B!=null&&B.outlets}function o1(B,P,J,S,x){let e={};S&&Object.entries(S).forEach(([n,M])=>{e[n]=Array.isArray(M)?M.map(b=>`${b}`):`${M}`});let p;B===P?p=J:p=M4(B,P,J);let y=b4(_4(p));return new kc(y,e,x)}function M4(B,P,J){let S={};return Object.entries(B.children).forEach(([x,e])=>{e===P?S[x]=J:S[x]=M4(e,P,J)}),new Qi(B.segments,S)}var mg=class{constructor(P,J,S){if(this.isAbsolute=P,this.numberOfDoubleDots=J,this.commands=S,P&&S.length>0&&gg(S[0]))throw new Yr(4003,!1);let x=S.find(Wd);if(x&&x!==d4(S))throw new Yr(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OE(B){if(typeof B[0]=="string"&&B.length===1&&B[0]==="/")return new mg(!0,0,B);let P=0,J=!1,S=B.reduce((x,e,p)=>{if(typeof e=="object"&&e!=null){if(e.outlets){let y={};return Object.entries(e.outlets).forEach(([n,M])=>{y[n]=typeof M=="string"?M.split("/"):M}),[...x,{outlets:y}]}if(e.segmentPath)return[...x,e.segmentPath]}return typeof e!="string"?[...x,e]:p===0?(e.split("/").forEach((y,n)=>{n==0&&y==="."||(n==0&&y===""?J=!0:y===".."?P++:y!=""&&x.push(y))}),x):[...x,e]},[]);return new mg(J,P,S)}var Th=class{constructor(P,J,S){this.segmentGroup=P,this.processChildren=J,this.index=S}};function PE(B,P,J){if(B.isAbsolute)return new Th(P,!0,0);if(!J)return new Th(P,!1,NaN);if(J.parent===null)return new Th(J,!0,0);let S=gg(B.commands[0])?0:1,x=J.segments.length-1+S;return RE(J,x,B.numberOfDoubleDots)}function RE(B,P,J){let S=B,x=P,e=J;for(;e>x;){if(e-=x,S=S.parent,!S)throw new Yr(4005,!1);x=S.segments.length}return new Th(S,!1,x-e)}function NE(B){return Wd(B[0])?B[0].outlets:{[fi]:B}}function A4(B,P,J){if(B??=new Qi([],{}),B.segments.length===0&&B.hasChildren())return Ud(B,P,J);let S=FE(B,P,J),x=J.slice(S.commandIndex);if(S.match&&S.pathIndex<B.segments.length){let e=new Qi(B.segments.slice(0,S.pathIndex),{});return e.children[fi]=new Qi(B.segments.slice(S.pathIndex),B.children),Ud(e,0,x)}else return S.match&&x.length===0?new Qi(B.segments,{}):S.match&&!B.hasChildren()?h1(B,P,J):S.match?Ud(B,0,x):h1(B,P,J)}function Ud(B,P,J){if(J.length===0)return new Qi(B.segments,{});{let S=NE(J),x={};if(Object.keys(S).some(e=>e!==fi)&&B.children[fi]&&B.numberOfChildren===1&&B.children[fi].segments.length===0){let e=Ud(B.children[fi],P,J);return new Qi(B.segments,e.children)}return Object.entries(S).forEach(([e,p])=>{typeof p=="string"&&(p=[p]),p!==null&&(x[e]=A4(B.children[e],P,p))}),Object.entries(B.children).forEach(([e,p])=>{S[e]===void 0&&(x[e]=p)}),new Qi(B.segments,x)}}function FE(B,P,J){let S=0,x=P,e={match:!1,pathIndex:0,commandIndex:0};for(;x<B.segments.length;){if(S>=J.length)return e;let p=B.segments[x],y=J[S];if(Wd(y))break;let n=`${y}`,M=S<J.length-1?J[S+1]:null;if(x>0&&n===void 0)break;if(n&&M&&typeof M=="object"&&M.outlets===void 0){if(!l4(n,M,p))return e;S+=2}else{if(!l4(n,{},p))return e;S++}x++}return{match:!0,pathIndex:x,commandIndex:S}}function h1(B,P,J){let S=B.segments.slice(0,P),x=0;for(;x<J.length;){let e=J[x];if(Wd(e)){let n=zE(e.outlets);return new Qi(S,n)}if(x===0&&gg(J[0])){let n=B.segments[P];S.push(new vf(n.path,s4(J[0]))),x++;continue}let p=Wd(e)?e.outlets[fi]:`${e}`,y=x<J.length-1?J[x+1]:null;p&&y&&gg(y)?(S.push(new vf(p,s4(y))),x+=2):(S.push(new vf(p,{})),x++)}return new Qi(S,{})}function zE(B){let P={};return Object.entries(B).forEach(([J,S])=>{typeof S=="string"&&(S=[S]),S!==null&&(P[J]=h1(new Qi([],{}),0,S))}),P}function s4(B){let P={};return Object.entries(B).forEach(([J,S])=>P[J]=`${S}`),P}function l4(B,P,J){return B==J.path&&Su(P,J.parameters)}var Vd="imperative",za=function(B){return B[B.NavigationStart=0]="NavigationStart",B[B.NavigationEnd=1]="NavigationEnd",B[B.NavigationCancel=2]="NavigationCancel",B[B.NavigationError=3]="NavigationError",B[B.RoutesRecognized=4]="RoutesRecognized",B[B.ResolveStart=5]="ResolveStart",B[B.ResolveEnd=6]="ResolveEnd",B[B.GuardsCheckStart=7]="GuardsCheckStart",B[B.GuardsCheckEnd=8]="GuardsCheckEnd",B[B.RouteConfigLoadStart=9]="RouteConfigLoadStart",B[B.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",B[B.ChildActivationStart=11]="ChildActivationStart",B[B.ChildActivationEnd=12]="ChildActivationEnd",B[B.ActivationStart=13]="ActivationStart",B[B.ActivationEnd=14]="ActivationEnd",B[B.Scroll=15]="Scroll",B[B.NavigationSkipped=16]="NavigationSkipped",B}(za||{}),Rl=class{constructor(P,J){this.id=P,this.url=J}},Yd=class extends Rl{constructor(P,J,S="imperative",x=null){super(P,J),this.type=za.NavigationStart,this.navigationTrigger=S,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xf=class extends Rl{constructor(P,J,S){super(P,J),this.urlAfterRedirects=S,this.type=za.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dl=function(B){return B[B.Redirect=0]="Redirect",B[B.SupersededByNewNavigation=1]="SupersededByNewNavigation",B[B.NoDataFromResolver=2]="NoDataFromResolver",B[B.GuardRejected=3]="GuardRejected",B}(dl||{}),d1=function(B){return B[B.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",B[B.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",B}(d1||{}),Xu=class extends Rl{constructor(P,J,S,x){super(P,J),this.reason=S,this.code=x,this.type=za.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bf=class extends Rl{constructor(P,J,S,x){super(P,J),this.reason=S,this.code=x,this.type=za.NavigationSkipped}},$d=class extends Rl{constructor(P,J,S,x){super(P,J),this.error=S,this.target=x,this.type=za.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vg=class extends Rl{constructor(P,J,S,x){super(P,J),this.urlAfterRedirects=S,this.state=x,this.type=za.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},p1=class extends Rl{constructor(P,J,S,x){super(P,J),this.urlAfterRedirects=S,this.state=x,this.type=za.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g1=class extends Rl{constructor(P,J,S,x,e){super(P,J),this.urlAfterRedirects=S,this.state=x,this.shouldActivate=e,this.type=za.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},m1=class extends Rl{constructor(P,J,S,x){super(P,J),this.urlAfterRedirects=S,this.state=x,this.type=za.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v1=class extends Rl{constructor(P,J,S,x){super(P,J),this.urlAfterRedirects=S,this.state=x,this.type=za.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y1=class{constructor(P){this.route=P,this.type=za.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},x1=class{constructor(P){this.route=P,this.type=za.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},b1=class{constructor(P){this.snapshot=P,this.type=za.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_1=class{constructor(P){this.snapshot=P,this.type=za.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},w1=class{constructor(P){this.snapshot=P,this.type=za.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},T1=class{constructor(P){this.snapshot=P,this.type=za.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Zd=class{},Sh=class{constructor(P,J){this.url=P,this.navigationBehaviorOptions=J}};var M1=class{constructor(P){this.injector=P,this.outlet=null,this.route=null,this.children=new Mg(this.injector),this.attachRef=null}},Mg=(()=>{let P=class P{constructor(S){this.parentInjector=S,this.contexts=new Map}onChildOutletCreated(S,x){let e=this.getOrCreateContext(S);e.outlet=x,this.contexts.set(S,e)}onChildOutletDestroyed(S){let x=this.getContext(S);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){let S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let x=this.getContext(S);return x||(x=new M1(this.parentInjector),this.contexts.set(S,x)),x}getContext(S){return this.contexts.get(S)||null}};P.\u0275fac=function(x){return new(x||P)(ni(Bs))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),yg=class{constructor(P){this._root=P}get root(){return this._root.value}parent(P){let J=this.pathFromRoot(P);return J.length>1?J[J.length-2]:null}children(P){let J=A1(P,this._root);return J?J.children.map(S=>S.value):[]}firstChild(P){let J=A1(P,this._root);return J&&J.children.length>0?J.children[0].value:null}siblings(P){let J=k1(P,this._root);return J.length<2?[]:J[J.length-2].children.map(x=>x.value).filter(x=>x!==P)}pathFromRoot(P){return k1(P,this._root).map(J=>J.value)}};function A1(B,P){if(B===P.value)return P;for(let J of P.children){let S=A1(B,J);if(S)return S}return null}function k1(B,P){if(B===P.value)return[P];for(let J of P.children){let S=k1(B,J);if(S.length)return S.unshift(P),S}return[]}var hl=class{constructor(P,J){this.value=P,this.children=J}toString(){return`TreeNode(${this.value})`}};function wh(B){let P={};return B&&B.children.forEach(J=>P[J.value.outlet]=J),P}var xg=class extends yg{constructor(P,J){super(P),this.snapshot=J,N1(this,P)}toString(){return this.snapshot.toString()}};function k4(B){let P=BE(B),J=new Ra([new vf("",{})]),S=new Ra({}),x=new Ra({}),e=new Ra({}),p=new Ra(""),y=new Eh(J,S,e,p,x,fi,B,P.root);return y.snapshot=P.root,new xg(new hl(y,[]),P)}function BE(B){let P={},J={},S={},x="",e=new Mh([],P,S,x,J,fi,B,null,{});return new _g("",new hl(e,[]))}var Eh=class{constructor(P,J,S,x,e,p,y,n){this.urlSubject=P,this.paramsSubject=J,this.queryParamsSubject=S,this.fragmentSubject=x,this.dataSubject=e,this.outlet=p,this.component=y,this._futureSnapshot=n,this.title=this.dataSubject?.pipe(pi(M=>M[ep]))??ti(void 0),this.url=P,this.params=J,this.queryParams=S,this.fragment=x,this.data=e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pi(P=>kh(P))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pi(P=>kh(P))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bg(B,P,J="emptyOnly"){let S,{routeConfig:x}=B;return P!==null&&(J==="always"||x?.path===""||!P.component&&!P.routeConfig?.loadComponent)?S={params:zr(zr({},P.params),B.params),data:zr(zr({},P.data),B.data),resolve:zr(zr(zr(zr({},B.data),P.data),x?.data),B._resolvedData)}:S={params:zr({},B.params),data:zr({},B.data),resolve:zr(zr({},B.data),B._resolvedData??{})},x&&E4(x)&&(S.resolve[ep]=x.title),S}var Mh=class{get title(){return this.data?.[ep]}constructor(P,J,S,x,e,p,y,n,M){this.url=P,this.params=J,this.queryParams=S,this.fragment=x,this.data=e,this.outlet=p,this.component=y,this.routeConfig=n,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kh(this.queryParams),this._queryParamMap}toString(){let P=this.url.map(S=>S.toString()).join("/"),J=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${P}', path:'${J}')`}},_g=class extends yg{constructor(P,J){super(J),this.url=P,N1(this,J)}toString(){return S4(this._root)}};function N1(B,P){P.value._routerState=B,P.children.forEach(J=>N1(B,J))}function S4(B){let P=B.children.length>0?` { ${B.children.map(S4).join(", ")} } `:"";return`${B.value}${P}`}function a1(B){if(B.snapshot){let P=B.snapshot,J=B._futureSnapshot;B.snapshot=J,Su(P.queryParams,J.queryParams)||B.queryParamsSubject.next(J.queryParams),P.fragment!==J.fragment&&B.fragmentSubject.next(J.fragment),Su(P.params,J.params)||B.paramsSubject.next(J.params),pE(P.url,J.url)||B.urlSubject.next(J.url),Su(P.data,J.data)||B.dataSubject.next(J.data)}else B.snapshot=B._futureSnapshot,B.dataSubject.next(B._futureSnapshot.data)}function S1(B,P){let J=Su(B.params,P.params)&&yE(B.url,P.url),S=!B.parent!=!P.parent;return J&&!S&&(!B.parent||S1(B.parent,P.parent))}function E4(B){return typeof B.title=="string"||B.title===null}var F1=(()=>{let P=class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=fi,this.activateEvents=new Gr,this.deactivateEvents=new Gr,this.attachEvents=new Gr,this.detachEvents=new Gr,this.parentContexts=Dr(Mg),this.location=Dr(wc),this.changeDetector=Dr(Td),this.inputBinder=Dr(z1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){let{firstChange:x,previousValue:e}=S.name;if(x)return;this.isTrackedInParentContexts(e)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(e)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Yr(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Yr(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Yr(4012,!1);this.location.detach();let S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,x){this.activated=S,this._activatedRoute=x,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){let S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,x){if(this.isActivated)throw new Yr(4013,!1);this._activatedRoute=S;let e=this.location,y=S.snapshot.component,n=this.parentContexts.getOrCreateContext(this.name).children,M=new E1(S,n,e.injector);this.activated=e.createComponent(y,{index:e.length,injector:M,environmentInjector:x}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};P.\u0275fac=function(x){return new(x||P)},P.\u0275dir=hf({type:P,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ph]});let B=P;return B})(),E1=class B{__ngOutletInjector(P){return new B(this.route,this.childContexts,P)}constructor(P,J,S){this.route=P,this.childContexts=J,this.parent=S}get(P,J){return P===Eh?this.route:P===Mg?this.childContexts:this.parent.get(P,J)}},z1=new Qr("");function jE(B,P,J){let S=Xd(B,P._root,J?J._root:void 0);return new xg(S,P)}function Xd(B,P,J){if(J&&B.shouldReuseRoute(P.value,J.value.snapshot)){let S=J.value;S._futureSnapshot=P.value;let x=UE(B,P,J);return new hl(S,x)}else{if(B.shouldAttach(P.value)){let e=B.retrieve(P.value);if(e!==null){let p=e.route;return p.value._futureSnapshot=P.value,p.children=P.children.map(y=>Xd(B,y)),p}}let S=VE(P.value),x=P.children.map(e=>Xd(B,e));return new hl(S,x)}}function UE(B,P,J){return P.children.map(S=>{for(let x of J.children)if(B.shouldReuseRoute(S.value,x.value.snapshot))return Xd(B,S,x);return Xd(B,S)})}function VE(B){return new Eh(new Ra(B.url),new Ra(B.params),new Ra(B.queryParams),new Ra(B.fragment),new Ra(B.data),B.outlet,B.component,B)}var Kd=class{constructor(P,J){this.redirectTo=P,this.navigationBehaviorOptions=J}},C4="ngNavigationCancelingError";function wg(B,P){let{redirectTo:J,navigationBehaviorOptions:S}=Gd(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,x=D4(!1,dl.Redirect);return x.url=J,x.navigationBehaviorOptions=S,x}function D4(B,P){let J=new Error(`NavigationCancelingError: ${B||""}`);return J[C4]=!0,J.cancellationCode=P,J}function HE(B){return I4(B)&&Gd(B.url)}function I4(B){return!!B&&B[C4]}var qE=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275cmp=Qa({type:P,selectors:[["ng-component"]],standalone:!0,features:[Hs],decls:1,vars:0,template:function(x,e){x&1&&Fa(0,"router-outlet")},dependencies:[F1],encapsulation:2});let B=P;return B})();function GE(B,P){return B.providers&&!B._injector&&(B._injector=Ly(B.providers,P,`Route: ${B.path}`)),B._injector??P}function B1(B){let P=B.children&&B.children.map(B1),J=P?Yo(zr({},B),{children:P}):zr({},B);return!J.component&&!J.loadComponent&&(P||J.loadChildren)&&J.outlet&&J.outlet!==fi&&(J.component=qE),J}function au(B){return B.outlet||fi}function WE(B,P){let J=B.filter(S=>au(S)===P);return J.push(...B.filter(S=>au(S)!==P)),J}function tp(B){if(!B)return null;if(B.routeConfig?._injector)return B.routeConfig._injector;for(let P=B.parent;P;P=P.parent){let J=P.routeConfig;if(J?._loadedInjector)return J._loadedInjector;if(J?._injector)return J._injector}return null}var YE=(B,P,J,S)=>pi(x=>(new C1(P,x.targetRouterState,x.currentRouterState,J,S).activate(B),x)),C1=class{constructor(P,J,S,x,e){this.routeReuseStrategy=P,this.futureState=J,this.currState=S,this.forwardEvent=x,this.inputBindingEnabled=e}activate(P){let J=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(J,S,P),a1(this.futureState.root),this.activateChildRoutes(J,S,P)}deactivateChildRoutes(P,J,S){let x=wh(J);P.children.forEach(e=>{let p=e.value.outlet;this.deactivateRoutes(e,x[p],S),delete x[p]}),Object.values(x).forEach(e=>{this.deactivateRouteAndItsChildren(e,S)})}deactivateRoutes(P,J,S){let x=P.value,e=J?J.value:null;if(x===e)if(x.component){let p=S.getContext(x.outlet);p&&this.deactivateChildRoutes(P,J,p.children)}else this.deactivateChildRoutes(P,J,S);else e&&this.deactivateRouteAndItsChildren(J,S)}deactivateRouteAndItsChildren(P,J){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,J):this.deactivateRouteAndOutlet(P,J)}detachAndStoreRouteSubtree(P,J){let S=J.getContext(P.value.outlet),x=S&&P.value.component?S.children:J,e=wh(P);for(let p of Object.values(e))this.deactivateRouteAndItsChildren(p,x);if(S&&S.outlet){let p=S.outlet.detach(),y=S.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:p,route:P,contexts:y})}}deactivateRouteAndOutlet(P,J){let S=J.getContext(P.value.outlet),x=S&&P.value.component?S.children:J,e=wh(P);for(let p of Object.values(e))this.deactivateRouteAndItsChildren(p,x);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(P,J,S){let x=wh(J);P.children.forEach(e=>{this.activateRoutes(e,x[e.value.outlet],S),this.forwardEvent(new T1(e.value.snapshot))}),P.children.length&&this.forwardEvent(new _1(P.value.snapshot))}activateRoutes(P,J,S){let x=P.value,e=J?J.value:null;if(a1(x),x===e)if(x.component){let p=S.getOrCreateContext(x.outlet);this.activateChildRoutes(P,J,p.children)}else this.activateChildRoutes(P,J,S);else if(x.component){let p=S.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){let y=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),a1(y.route.value),this.activateChildRoutes(P,null,p.children)}else{let y=tp(x.snapshot);p.attachRef=null,p.route=x,p.injector=y??p.injector,p.outlet&&p.outlet.activateWith(x,p.injector),this.activateChildRoutes(P,null,p.children)}}else this.activateChildRoutes(P,null,S)}},Tg=class{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}},Ah=class{constructor(P,J){this.component=P,this.route=J}};function $E(B,P,J){let S=B._root,x=P?P._root:null;return Bd(S,x,J,[S.value])}function ZE(B){let P=B.routeConfig?B.routeConfig.canActivateChild:null;return!P||P.length===0?null:{node:B,guards:P}}function Dh(B,P){let J=Symbol(),S=P.get(B,J);return S===J?typeof B=="function"&&!qb(B)?B:P.get(B):S}function Bd(B,P,J,S,x={canDeactivateChecks:[],canActivateChecks:[]}){let e=wh(P);return B.children.forEach(p=>{XE(p,e[p.value.outlet],J,S.concat([p.value]),x),delete e[p.value.outlet]}),Object.entries(e).forEach(([p,y])=>Hd(y,J.getContext(p),x)),x}function XE(B,P,J,S,x={canDeactivateChecks:[],canActivateChecks:[]}){let e=B.value,p=P?P.value:null,y=J?J.getContext(B.value.outlet):null;if(p&&e.routeConfig===p.routeConfig){let n=KE(p,e,e.routeConfig.runGuardsAndResolvers);n?x.canActivateChecks.push(new Tg(S)):(e.data=p.data,e._resolvedData=p._resolvedData),e.component?Bd(B,P,y?y.children:null,S,x):Bd(B,P,J,S,x),n&&y&&y.outlet&&y.outlet.isActivated&&x.canDeactivateChecks.push(new Ah(y.outlet.component,p))}else p&&Hd(P,y,x),x.canActivateChecks.push(new Tg(S)),e.component?Bd(B,null,y?y.children:null,S,x):Bd(B,null,J,S,x);return x}function KE(B,P,J){if(typeof J=="function")return J(B,P);switch(J){case"pathParamsChange":return!yf(B.url,P.url);case"pathParamsOrQueryParamsChange":return!yf(B.url,P.url)||!Su(B.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S1(B,P)||!Su(B.queryParams,P.queryParams);case"paramsChange":default:return!S1(B,P)}}function Hd(B,P,J){let S=wh(B),x=B.value;Object.entries(S).forEach(([e,p])=>{x.component?P?Hd(p,P.children.getContext(e),J):Hd(p,null,J):Hd(p,P,J)}),x.component?P&&P.outlet&&P.outlet.isActivated?J.canDeactivateChecks.push(new Ah(P.outlet.component,x)):J.canDeactivateChecks.push(new Ah(null,x)):J.canDeactivateChecks.push(new Ah(null,x))}function np(B){return typeof B=="function"}function JE(B){return typeof B=="boolean"}function QE(B){return B&&np(B.canLoad)}function eC(B){return B&&np(B.canActivate)}function tC(B){return B&&np(B.canActivateChild)}function nC(B){return B&&np(B.canDeactivate)}function rC(B){return B&&np(B.canMatch)}function L4(B){return B instanceof zu||B?.name==="EmptyError"}var fg=Symbol("INITIAL_VALUE");function Ch(){return ll(B=>a0(B.map(P=>P.pipe(Bu(1),Bm(fg)))).pipe(pi(P=>{for(let J of P)if(J!==!0){if(J===fg)return fg;if(J===!1||iC(J))return J}return!0}),sl(P=>P!==fg),Bu(1)))}function iC(B){return Gd(B)||B instanceof Kd}function oC(B,P){return la(J=>{let{targetSnapshot:S,currentSnapshot:x,guards:{canActivateChecks:e,canDeactivateChecks:p}}=J;return p.length===0&&e.length===0?ti(Yo(zr({},J),{guardsResult:!0})):aC(p,S,x,B).pipe(la(y=>y&&JE(y)?sC(S,e,B,P):ti(y)),pi(y=>Yo(zr({},J),{guardsResult:y})))})}function aC(B,P,J,S){return $o(B).pipe(la(x=>hC(x.component,x.route,J,P,S)),xu(x=>x!==!0,!0))}function sC(B,P,J,S){return $o(P).pipe(hc(x=>Kf(uC(x.route.parent,S),lC(x.route,S),fC(B,x.path,J),cC(B,x.route,J))),xu(x=>x!==!0,!0))}function lC(B,P){return B!==null&&P&&P(new w1(B)),ti(!0)}function uC(B,P){return B!==null&&P&&P(new b1(B)),ti(!0)}function cC(B,P,J){let S=P.routeConfig?P.routeConfig.canActivate:null;if(!S||S.length===0)return ti(!0);let x=S.map(e=>s0(()=>{let p=tp(P)??J,y=Dh(e,p),n=eC(y)?y.canActivate(P,B):ru(p,()=>y(P,B));return Sc(n).pipe(xu())}));return ti(x).pipe(Ch())}function fC(B,P,J){let S=P[P.length-1],e=P.slice(0,P.length-1).reverse().map(p=>ZE(p)).filter(p=>p!==null).map(p=>s0(()=>{let y=p.guards.map(n=>{let M=tp(p.node)??J,b=Dh(n,M),f=tC(b)?b.canActivateChild(S,B):ru(M,()=>b(S,B));return Sc(f).pipe(xu())});return ti(y).pipe(Ch())}));return ti(e).pipe(Ch())}function hC(B,P,J,S,x){let e=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!e||e.length===0)return ti(!0);let p=e.map(y=>{let n=tp(P)??x,M=Dh(y,n),b=nC(M)?M.canDeactivate(B,P,J,S):ru(n,()=>M(B,P,J,S));return Sc(b).pipe(xu())});return ti(p).pipe(Ch())}function dC(B,P,J,S){let x=P.canLoad;if(x===void 0||x.length===0)return ti(!0);let e=x.map(p=>{let y=Dh(p,B),n=QE(y)?y.canLoad(P,J):ru(B,()=>y(P,J));return Sc(n)});return ti(e).pipe(Ch(),O4(S))}function O4(B){return Dm(ba(P=>{if(typeof P!="boolean")throw wg(B,P)}),pi(P=>P===!0))}function pC(B,P,J,S){let x=P.canMatch;if(!x||x.length===0)return ti(!0);let e=x.map(p=>{let y=Dh(p,B),n=rC(y)?y.canMatch(P,J):ru(B,()=>y(P,J));return Sc(n)});return ti(e).pipe(Ch(),O4(S))}var Jd=class{constructor(P){this.segmentGroup=P||null}},Qd=class extends Error{constructor(P){super(),this.urlTree=P}};function _h(B){return Xf(new Jd(B))}function gC(B){return Xf(new Yr(4e3,!1))}function mC(B){return Xf(D4(!1,dl.GuardRejected))}var D1=class{constructor(P,J){this.urlSerializer=P,this.urlTree=J}lineralizeSegments(P,J){let S=[],x=J.root;for(;;){if(S=S.concat(x.segments),x.numberOfChildren===0)return ti(S);if(x.numberOfChildren>1||!x.children[fi])return gC(`${P.redirectTo}`);x=x.children[fi]}}applyRedirectCommands(P,J,S,x,e){if(typeof J!="string"){let y=J,{queryParams:n,fragment:M,routeConfig:b,url:f,outlet:s,params:t,data:o,title:r}=x,i=ru(e,()=>y({params:t,data:o,queryParams:n,fragment:M,routeConfig:b,url:f,outlet:s,title:r}));if(i instanceof kc)throw new Qd(i);J=i}let p=this.applyRedirectCreateUrlTree(J,this.urlSerializer.parse(J),P,S);if(J[0]==="/")throw new Qd(p);return p}applyRedirectCreateUrlTree(P,J,S,x){let e=this.createSegmentGroup(P,J.root,S,x);return new kc(e,this.createQueryParams(J.queryParams,this.urlTree.queryParams),J.fragment)}createQueryParams(P,J){let S={};return Object.entries(P).forEach(([x,e])=>{if(typeof e=="string"&&e[0]===":"){let y=e.substring(1);S[x]=J[y]}else S[x]=e}),S}createSegmentGroup(P,J,S,x){let e=this.createSegments(P,J.segments,S,x),p={};return Object.entries(J.children).forEach(([y,n])=>{p[y]=this.createSegmentGroup(P,n,S,x)}),new Qi(e,p)}createSegments(P,J,S,x){return J.map(e=>e.path[0]===":"?this.findPosParam(P,e,x):this.findOrReturn(e,S))}findPosParam(P,J,S){let x=S[J.path.substring(1)];if(!x)throw new Yr(4001,!1);return x}findOrReturn(P,J){let S=0;for(let x of J){if(x.path===P.path)return J.splice(S),x;S++}return P}},I1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vC(B,P,J,S,x){let e=j1(B,P,J);return e.matched?(S=GE(P,S),pC(S,P,J,x).pipe(pi(p=>p===!0?e:zr({},I1)))):ti(e)}function j1(B,P,J){if(P.path==="**")return yC(J);if(P.path==="")return P.pathMatch==="full"&&(B.hasChildren()||J.length>0)?zr({},I1):{matched:!0,consumedSegments:[],remainingSegments:J,parameters:{},positionalParamSegments:{}};let x=(P.matcher||dE)(J,B,P);if(!x)return zr({},I1);let e={};Object.entries(x.posParams??{}).forEach(([y,n])=>{e[y]=n.path});let p=x.consumed.length>0?zr(zr({},e),x.consumed[x.consumed.length-1].parameters):e;return{matched:!0,consumedSegments:x.consumed,remainingSegments:J.slice(x.consumed.length),parameters:p,positionalParamSegments:x.posParams??{}}}function yC(B){return{matched:!0,parameters:B.length>0?d4(B).parameters:{},consumedSegments:B,remainingSegments:[],positionalParamSegments:{}}}function u4(B,P,J,S){return J.length>0&&_C(B,J,S)?{segmentGroup:new Qi(P,bC(S,new Qi(J,B.children))),slicedSegments:[]}:J.length===0&&wC(B,J,S)?{segmentGroup:new Qi(B.segments,xC(B,J,S,B.children)),slicedSegments:J}:{segmentGroup:new Qi(B.segments,B.children),slicedSegments:J}}function xC(B,P,J,S){let x={};for(let e of J)if(Ag(B,P,e)&&!S[au(e)]){let p=new Qi([],{});x[au(e)]=p}return zr(zr({},S),x)}function bC(B,P){let J={};J[fi]=P;for(let S of B)if(S.path===""&&au(S)!==fi){let x=new Qi([],{});J[au(S)]=x}return J}function _C(B,P,J){return J.some(S=>Ag(B,P,S)&&au(S)!==fi)}function wC(B,P,J){return J.some(S=>Ag(B,P,S))}function Ag(B,P,J){return(B.hasChildren()||P.length>0)&&J.pathMatch==="full"?!1:J.path===""}function TC(B,P,J,S){return au(B)!==S&&(S===fi||!Ag(P,J,B))?!1:j1(P,B,J).matched}function MC(B,P,J){return P.length===0&&!B.children[J]}var L1=class{};function AC(B,P,J,S,x,e,p="emptyOnly"){return new O1(B,P,J,S,x,p,e).recognize()}var kC=31,O1=class{constructor(P,J,S,x,e,p,y){this.injector=P,this.configLoader=J,this.rootComponentType=S,this.config=x,this.urlTree=e,this.paramsInheritanceStrategy=p,this.urlSerializer=y,this.applyRedirects=new D1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new Yr(4002,`'${P.segmentGroup}'`)}recognize(){let P=u4(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe(pi(({children:J,rootSnapshot:S})=>{let x=new hl(S,J),e=new _g("",x),p=LE(S,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,e.url=this.urlSerializer.serialize(p),{state:e,tree:p}}))}match(P){let J=new Mh([],Object.freeze({}),Object.freeze(zr({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,fi,J).pipe(pi(S=>({children:S,rootSnapshot:J})),fc(S=>{if(S instanceof Qd)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Jd?this.noMatchError(S):S}))}processSegmentGroup(P,J,S,x,e){return S.segments.length===0&&S.hasChildren()?this.processChildren(P,J,S,e):this.processSegment(P,J,S,S.segments,x,!0,e).pipe(pi(p=>p instanceof hl?[p]:[]))}processChildren(P,J,S,x){let e=[];for(let p of Object.keys(S.children))p==="primary"?e.unshift(p):e.push(p);return $o(e).pipe(hc(p=>{let y=S.children[p],n=WE(J,p);return this.processSegmentGroup(P,n,y,p,x)}),zm((p,y)=>(p.push(...y),p)),dc(null),Fm(),la(p=>{if(p===null)return _h(S);let y=P4(p);return SC(y),ti(y)}))}processSegment(P,J,S,x,e,p,y){return $o(J).pipe(hc(n=>this.processSegmentAgainstRoute(n._injector??P,J,n,S,x,e,p,y).pipe(fc(M=>{if(M instanceof Jd)return ti(null);throw M}))),xu(n=>!!n),fc(n=>{if(L4(n))return MC(S,x,e)?ti(new L1):_h(S);throw n}))}processSegmentAgainstRoute(P,J,S,x,e,p,y,n){return TC(S,x,e,p)?S.redirectTo===void 0?this.matchSegmentAgainstRoute(P,x,S,e,p,n):this.allowRedirects&&y?this.expandSegmentAgainstRouteUsingRedirect(P,x,J,S,e,p,n):_h(x):_h(x)}expandSegmentAgainstRouteUsingRedirect(P,J,S,x,e,p,y){let{matched:n,parameters:M,consumedSegments:b,positionalParamSegments:f,remainingSegments:s}=j1(J,x,e);if(!n)return _h(J);typeof x.redirectTo=="string"&&x.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kC&&(this.allowRedirects=!1));let t=new Mh(e,M,Object.freeze(zr({},this.urlTree.queryParams)),this.urlTree.fragment,c4(x),au(x),x.component??x._loadedComponent??null,x,f4(x)),o=bg(t,y,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data);let r=this.applyRedirects.applyRedirectCommands(b,x.redirectTo,f,t,P);return this.applyRedirects.lineralizeSegments(x,r).pipe(la(i=>this.processSegment(P,S,J,i.concat(s),p,!1,y)))}matchSegmentAgainstRoute(P,J,S,x,e,p){let y=vC(J,S,x,P,this.urlSerializer);return S.path==="**"&&(J.children={}),y.pipe(ll(n=>n.matched?(P=S._injector??P,this.getChildConfig(P,S,x).pipe(ll(({routes:M})=>{let b=S._loadedInjector??P,{parameters:f,consumedSegments:s,remainingSegments:t}=n,o=new Mh(s,f,Object.freeze(zr({},this.urlTree.queryParams)),this.urlTree.fragment,c4(S),au(S),S.component??S._loadedComponent??null,S,f4(S)),r=bg(o,p,this.paramsInheritanceStrategy);o.params=Object.freeze(r.params),o.data=Object.freeze(r.data);let{segmentGroup:i,slicedSegments:a}=u4(J,s,t,M);if(a.length===0&&i.hasChildren())return this.processChildren(b,M,i,o).pipe(pi(u=>new hl(o,u)));if(M.length===0&&a.length===0)return ti(new hl(o,[]));let l=au(S)===e;return this.processSegment(b,M,i,a,l?fi:e,!0,o).pipe(pi(u=>new hl(o,u instanceof hl?[u]:[])))}))):_h(J)))}getChildConfig(P,J,S){return J.children?ti({routes:J.children,injector:P}):J.loadChildren?J._loadedRoutes!==void 0?ti({routes:J._loadedRoutes,injector:J._loadedInjector}):dC(P,J,S,this.urlSerializer).pipe(la(x=>x?this.configLoader.loadChildren(P,J).pipe(ba(e=>{J._loadedRoutes=e.routes,J._loadedInjector=e.injector})):mC(J))):ti({routes:[],injector:P})}};function SC(B){B.sort((P,J)=>P.value.outlet===fi?-1:J.value.outlet===fi?1:P.value.outlet.localeCompare(J.value.outlet))}function EC(B){let P=B.value.routeConfig;return P&&P.path===""}function P4(B){let P=[],J=new Set;for(let S of B){if(!EC(S)){P.push(S);continue}let x=P.find(e=>S.value.routeConfig===e.value.routeConfig);x!==void 0?(x.children.push(...S.children),J.add(x)):P.push(S)}for(let S of J){let x=P4(S.children);P.push(new hl(S.value,x))}return P.filter(S=>!J.has(S))}function c4(B){return B.data||{}}function f4(B){return B.resolve||{}}function CC(B,P,J,S,x,e){return la(p=>AC(B,P,J,S,p.extractedUrl,x,e).pipe(pi(({state:y,tree:n})=>Yo(zr({},p),{targetSnapshot:y,urlAfterRedirects:n}))))}function DC(B,P){return la(J=>{let{targetSnapshot:S,guards:{canActivateChecks:x}}=J;if(!x.length)return ti(J);let e=new Set(x.map(n=>n.route)),p=new Set;for(let n of e)if(!p.has(n))for(let M of R4(n))p.add(M);let y=0;return $o(p).pipe(hc(n=>e.has(n)?IC(n,S,B,P):(n.data=bg(n,n.parent,B).resolve,ti(void 0))),ba(()=>y++),Jf(1),la(n=>y===p.size?ti(J):al))})}function R4(B){let P=B.children.map(J=>R4(J)).flat();return[B,...P]}function IC(B,P,J,S){let x=B.routeConfig,e=B._resolve;return x?.title!==void 0&&!E4(x)&&(e[ep]=x.title),LC(e,B,P,S).pipe(pi(p=>(B._resolvedData=p,B.data=bg(B,B.parent,J).resolve,null)))}function LC(B,P,J,S){let x=u1(B);if(x.length===0)return ti({});let e={};return $o(x).pipe(la(p=>OC(B[p],P,J,S).pipe(xu(),ba(y=>{if(y instanceof Kd)throw wg(new qd,y);e[p]=y}))),Jf(1),Nm(e),fc(p=>L4(p)?al:Xf(p)))}function OC(B,P,J,S){let x=tp(P)??S,e=Dh(B,x),p=e.resolve?e.resolve(P,J):ru(x,()=>e(P,J));return Sc(p)}function s1(B){return ll(P=>{let J=B(P);return J?$o(J).pipe(pi(()=>P)):ti(P)})}var N4=(()=>{let P=class P{buildTitle(S){let x,e=S.root;for(;e!==void 0;)x=this.getResolvedTitleForRoute(e)??x,e=e.children.find(p=>p.outlet===fi);return x}getResolvedTitleForRoute(S){return S.data[ep]}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>Dr(PC),providedIn:"root"});let B=P;return B})(),PC=(()=>{let P=class P extends N4{constructor(S){super(),this.title=S}updateTitle(S){let x=this.buildTitle(S);x!==void 0&&this.title.setTitle(x)}};P.\u0275fac=function(x){return new(x||P)(ni(i4))},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),U1=new Qr("",{providedIn:"root",factory:()=>({})}),V1=new Qr(""),RC=(()=>{let P=class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Dr(zy)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return ti(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);let x=Sc(S.loadComponent()).pipe(pi(F4),ba(p=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=p}),$c(()=>{this.componentLoaders.delete(S)})),e=new Zf(x,()=>new ps).pipe($f());return this.componentLoaders.set(S,e),e}loadChildren(S,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return ti({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);let p=NC(x,this.compiler,S,this.onLoadEndListener).pipe($c(()=>{this.childrenLoaders.delete(x)})),y=new Zf(p,()=>new ps).pipe($f());return this.childrenLoaders.set(x,y),y}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();function NC(B,P,J,S){return Sc(B.loadChildren()).pipe(pi(F4),la(x=>x instanceof gd||Array.isArray(x)?ti(x):$o(P.compileModuleAsync(x))),pi(x=>{S&&S(B);let e,p,y=!1;return Array.isArray(x)?(p=x,y=!0):(e=x.create(J).injector,p=e.get(V1,[],{optional:!0,self:!0}).flat()),{routes:p.map(B1),injector:e}}))}function FC(B){return B&&typeof B=="object"&&"default"in B}function F4(B){return FC(B)?B.default:B}var H1=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>Dr(zC),providedIn:"root"});let B=P;return B})(),zC=(()=>{let P=class P{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,x){return S}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),BC=new Qr("");var jC=new Qr(""),UC=(()=>{let P=class P{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ps,this.transitionAbortSubject=new ps,this.configLoader=Dr(RC),this.environmentInjector=Dr(Bs),this.urlSerializer=Dr(R1),this.rootContexts=Dr(Mg),this.location=Dr(Ed),this.inputBindingEnabled=Dr(z1,{optional:!0})!==null,this.titleStrategy=Dr(N4),this.options=Dr(U1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Dr(H1),this.createViewTransition=Dr(BC,{optional:!0}),this.navigationErrorHandler=Dr(jC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ti(void 0),this.rootComponentType=null;let S=e=>this.events.next(new y1(e)),x=e=>this.events.next(new x1(e));this.configLoader.onLoadEndListener=x,this.configLoader.onLoadStartListener=S}complete(){this.transitions?.complete()}handleNavigationRequest(S){let x=++this.navigationId;this.transitions?.next(Yo(zr(zr({},this.transitions.value),S),{id:x}))}setupNavigations(S,x,e){return this.transitions=new Ra({id:0,currentUrlTree:x,currentRawUrl:x,extractedUrl:this.urlHandlingStrategy.extract(x),urlAfterRedirects:this.urlHandlingStrategy.extract(x),rawUrl:x,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vd,restoredState:null,currentSnapshot:e.snapshot,targetSnapshot:null,currentRouterState:e,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sl(p=>p.id!==0),pi(p=>Yo(zr({},p),{extractedUrl:this.urlHandlingStrategy.extract(p.rawUrl)})),ll(p=>{let y=!1,n=!1;return ti(p).pipe(ll(M=>{if(this.navigationId>p.id)return this.cancelNavigationTransition(p,"",dl.SupersededByNewNavigation),al;this.currentTransition=p,this.currentNavigation={id:M.id,initialUrl:M.rawUrl,extractedUrl:M.extractedUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?Yo(zr({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let b=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=M.extras.onSameUrlNavigation??S.onSameUrlNavigation;if(!b&&f!=="reload"){let s="";return this.events.next(new bf(M.id,this.urlSerializer.serialize(M.rawUrl),s,d1.IgnoredSameUrlNavigation)),M.resolve(!1),al}if(this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl))return ti(M).pipe(ll(s=>{let t=this.transitions?.getValue();return this.events.next(new Yd(s.id,this.urlSerializer.serialize(s.extractedUrl),s.source,s.restoredState)),t!==this.transitions?.getValue()?al:Promise.resolve(s)}),CC(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),ba(s=>{p.targetSnapshot=s.targetSnapshot,p.urlAfterRedirects=s.urlAfterRedirects,this.currentNavigation=Yo(zr({},this.currentNavigation),{finalUrl:s.urlAfterRedirects});let t=new vg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(t)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(M.currentRawUrl)){let{id:s,extractedUrl:t,source:o,restoredState:r,extras:i}=M,a=new Yd(s,this.urlSerializer.serialize(t),o,r);this.events.next(a);let l=k4(this.rootComponentType).snapshot;return this.currentTransition=p=Yo(zr({},M),{targetSnapshot:l,urlAfterRedirects:t,extras:Yo(zr({},i),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=t,ti(p)}else{let s="";return this.events.next(new bf(M.id,this.urlSerializer.serialize(M.extractedUrl),s,d1.IgnoredByUrlHandlingStrategy)),M.resolve(!1),al}}),ba(M=>{let b=new p1(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(b)}),pi(M=>(this.currentTransition=p=Yo(zr({},M),{guards:$E(M.targetSnapshot,M.currentSnapshot,this.rootContexts)}),p)),oC(this.environmentInjector,M=>this.events.next(M)),ba(M=>{if(p.guardsResult=M.guardsResult,M.guardsResult&&typeof M.guardsResult!="boolean")throw wg(this.urlSerializer,M.guardsResult);let b=new g1(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.events.next(b)}),sl(M=>M.guardsResult?!0:(this.cancelNavigationTransition(M,"",dl.GuardRejected),!1)),s1(M=>{if(M.guards.canActivateChecks.length)return ti(M).pipe(ba(b=>{let f=new m1(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(f)}),ll(b=>{let f=!1;return ti(b).pipe(DC(this.paramsInheritanceStrategy,this.environmentInjector),ba({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(b,"",dl.NoDataFromResolver)}}))}),ba(b=>{let f=new v1(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(f)}))}),s1(M=>{let b=f=>{let s=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&s.push(this.configLoader.loadComponent(f.routeConfig).pipe(ba(t=>{f.component=t}),pi(()=>{})));for(let t of f.children)s.push(...b(t));return s};return a0(b(M.targetSnapshot.root)).pipe(dc(null),Bu(1))}),s1(()=>this.afterPreactivation()),ll(()=>{let{currentSnapshot:M,targetSnapshot:b}=p,f=this.createViewTransition?.(this.environmentInjector,M.root,b.root);return f?$o(f).pipe(pi(()=>p)):ti(p)}),pi(M=>{let b=jE(S.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return this.currentTransition=p=Yo(zr({},M),{targetRouterState:b}),this.currentNavigation.targetRouterState=b,p}),ba(()=>{this.events.next(new Zd)}),YE(this.rootContexts,S.routeReuseStrategy,M=>this.events.next(M),this.inputBindingEnabled),Bu(1),ba({next:M=>{y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xf(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects))),this.titleStrategy?.updateTitle(M.targetRouterState.snapshot),M.resolve(!0)},complete:()=>{y=!0}}),jm(this.transitionAbortSubject.pipe(ba(M=>{throw M}))),$c(()=>{!y&&!n&&this.cancelNavigationTransition(p,"",dl.SupersededByNewNavigation),this.currentTransition?.id===p.id&&(this.currentNavigation=null,this.currentTransition=null)}),fc(M=>{if(n=!0,I4(M))this.events.next(new Xu(p.id,this.urlSerializer.serialize(p.extractedUrl),M.message,M.cancellationCode)),HE(M)?this.events.next(new Sh(M.url,M.navigationBehaviorOptions)):p.resolve(!1);else{let b=new $d(p.id,this.urlSerializer.serialize(p.extractedUrl),M,p.targetSnapshot??void 0);try{let f=ru(this.environmentInjector,()=>this.navigationErrorHandler?.(b));if(f instanceof Kd){let{message:s,cancellationCode:t}=wg(this.urlSerializer,f);this.events.next(new Xu(p.id,this.urlSerializer.serialize(p.extractedUrl),s,t)),this.events.next(new Sh(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(b);let s=S.errorHandler(M);p.resolve(!!s)}}catch(f){this.options.resolveNavigationPromiseOnError?p.resolve(!1):p.reject(f)}}return al}))}))}cancelNavigationTransition(S,x,e){let p=new Xu(S.id,this.urlSerializer.serialize(S.extractedUrl),x,e);this.events.next(p),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();function VC(B){return B!==Vd}var HC=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>Dr(qC),providedIn:"root"});let B=P;return B})(),P1=class{shouldDetach(P){return!1}store(P,J){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,J){return P.routeConfig===J.routeConfig}},qC=(()=>{let P=class P extends P1{};P.\u0275fac=(()=>{let S;return function(e){return(S||(S=py(P)))(e||P)}})(),P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),z4=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:()=>Dr(GC),providedIn:"root"});let B=P;return B})(),GC=(()=>{let P=class P extends z4{constructor(){super(...arguments),this.location=Dr(Ed),this.urlSerializer=Dr(R1),this.options=Dr(U1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Dr(H1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=k4(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(x=>{x.type==="popstate"&&S(x.url,x.state)})}handleRouterEvent(S,x){if(S instanceof Yd)this.stateMemento=this.createStateMemento();else if(S instanceof bf)this.rawUrlTree=x.initialUrl;else if(S instanceof vg){if(this.urlUpdateStrategy==="eager"&&!x.extras.skipLocationChange){let e=this.urlHandlingStrategy.merge(x.finalUrl,x.initialUrl);this.setBrowserUrl(e,x)}}else S instanceof Zd?(this.currentUrlTree=x.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(x.finalUrl,x.initialUrl),this.routerState=x.targetRouterState,this.urlUpdateStrategy==="deferred"&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x))):S instanceof Xu&&(S.code===dl.GuardRejected||S.code===dl.NoDataFromResolver)?this.restoreHistory(x):S instanceof $d?this.restoreHistory(x,!0):S instanceof xf&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,x){let e=this.urlSerializer.serialize(S);if(this.location.isCurrentPathEqualTo(e)||x.extras.replaceUrl){let p=this.browserPageId,y=zr(zr({},x.extras.state),this.generateNgRouterState(x.id,p));this.location.replaceState(e,"",y)}else{let p=zr(zr({},x.extras.state),this.generateNgRouterState(x.id,this.browserPageId+1));this.location.go(e,"",p)}}restoreHistory(S,x=!1){if(this.canceledNavigationResolution==="computed"){let e=this.browserPageId,p=this.currentPageId-e;p!==0?this.location.historyGo(p):this.currentUrlTree===S.finalUrl&&p===0&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(x&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,x){return this.canceledNavigationResolution==="computed"?{navigationId:S,\u0275routerPageId:x}:{navigationId:S}}};P.\u0275fac=(()=>{let S;return function(e){return(S||(S=py(P)))(e||P)}})(),P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})(),jd=function(B){return B[B.COMPLETE=0]="COMPLETE",B[B.FAILED=1]="FAILED",B[B.REDIRECTING=2]="REDIRECTING",B}(jd||{});function WC(B,P){B.events.pipe(sl(J=>J instanceof xf||J instanceof Xu||J instanceof $d||J instanceof bf),pi(J=>J instanceof xf||J instanceof bf?jd.COMPLETE:(J instanceof Xu?J.code===dl.Redirect||J.code===dl.SupersededByNewNavigation:!1)?jd.REDIRECTING:jd.FAILED),sl(J=>J!==jd.REDIRECTING),Bu(1)).subscribe(()=>{P()})}function YC(B){throw B}var $C={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},B4=(()=>{let P=class P{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Dr(Z0),this.stateManager=Dr(z4),this.options=Dr(U1,{optional:!0})||{},this.pendingTasks=Dr(xc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Dr(UC),this.urlSerializer=Dr(R1),this.location=Dr(Ed),this.urlHandlingStrategy=Dr(H1),this._events=new ps,this.errorHandler=this.options.errorHandler||YC,this.navigated=!1,this.routeReuseStrategy=Dr(HC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Dr(V1,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Dr(z1,{optional:!0}),this.eventsSubscription=new ta,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let S=this.navigationTransitions.events.subscribe(x=>{try{let e=this.navigationTransitions.currentTransition,p=this.navigationTransitions.currentNavigation;if(e!==null&&p!==null){if(this.stateManager.handleRouterEvent(x,p),x instanceof Xu&&x.code!==dl.Redirect&&x.code!==dl.SupersededByNewNavigation)this.navigated=!0;else if(x instanceof xf)this.navigated=!0;else if(x instanceof Sh){let y=x.navigationBehaviorOptions,n=this.urlHandlingStrategy.merge(x.url,e.currentRawUrl),M=zr({info:e.extras.info,skipLocationChange:e.extras.skipLocationChange,replaceUrl:e.extras.replaceUrl||this.urlUpdateStrategy==="eager"||VC(e.source)},y);this.scheduleNavigation(n,Vd,null,M,{resolve:e.resolve,reject:e.reject,promise:e.promise})}}KC(x)&&this._events.next(x)}catch(e){this.navigationTransitions.transitionAbortSubject.next(e)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,x)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(S,"popstate",x)},0)})}navigateToSyncWithBrowser(S,x,e){let p={replaceUrl:!0},y=e?.navigationId?e:null;if(e){let M=zr({},e);delete M.navigationId,delete M.\u0275routerPageId,Object.keys(M).length!==0&&(p.state=M)}let n=this.parseUrl(S);this.scheduleNavigation(n,x,y,p)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(B1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,x={}){let{relativeTo:e,queryParams:p,fragment:y,queryParamsHandling:n,preserveFragment:M}=x,b=M?this.currentUrlTree.fragment:y,f=null;switch(n){case"merge":f=zr(zr({},this.currentUrlTree.queryParams),p);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=p||null}f!==null&&(f=this.removeEmptyProps(f));let s;try{let t=e?e.snapshot:this.routerState.snapshot.root;s=w4(t)}catch{(typeof S[0]!="string"||S[0][0]!=="/")&&(S=[]),s=this.currentUrlTree.root}return T4(s,S,f,b??null)}navigateByUrl(S,x={skipLocationChange:!1}){let e=Gd(S)?S:this.parseUrl(S),p=this.urlHandlingStrategy.merge(e,this.rawUrlTree);return this.scheduleNavigation(p,Vd,null,x)}navigate(S,x={skipLocationChange:!1}){return XC(S),this.navigateByUrl(this.createUrlTree(S,x),x)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,x){let e;if(x===!0?e=zr({},$C):x===!1?e=zr({},ZC):e=x,Gd(S))return o4(this.currentUrlTree,S,e);let p=this.parseUrl(S);return o4(this.currentUrlTree,p,e)}removeEmptyProps(S){return Object.entries(S).reduce((x,[e,p])=>(p!=null&&(x[e]=p),x),{})}scheduleNavigation(S,x,e,p,y){if(this.disposed)return Promise.resolve(!1);let n,M,b;y?(n=y.resolve,M=y.reject,b=y.promise):b=new Promise((s,t)=>{n=s,M=t});let f=this.pendingTasks.add();return WC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:x,restoredState:e,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:p,resolve:n,reject:M,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(s=>Promise.reject(s))}};P.\u0275fac=function(x){return new(x||P)},P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();function XC(B){for(let P=0;P<B.length;P++)if(B[P]==null)throw new Yr(4008,!1)}function KC(B){return!(B instanceof Zd)&&!(B instanceof Sh)}var JC=new Qr("");function j4(B,...P){return fh([{provide:V1,multi:!0,useValue:B},[],{provide:Eh,useFactory:QC,deps:[B4]},{provide:X0,multi:!0,useFactory:eD},P.map(J=>J.\u0275providers)])}function QC(B){return B.routerState.root}function eD(){let B=Dr(lf);return P=>{let J=B.get(gf);if(P!==J.components[0])return;let S=B.get(B4),x=B.get(tD);B.get(nD)===1&&S.initialNavigation(),B.get(rD,null,mi.Optional)?.setUpPreloading(),B.get(JC,null,mi.Optional)?.init(),S.resetRootComponentType(J.componentTypes[0]),x.closed||(x.next(),x.complete(),x.unsubscribe())}}var tD=new Qr("",{factory:()=>new ps}),nD=new Qr("",{providedIn:"root",factory:()=>1});var rD=new Qr("");var U4=(()=>{let P=class P{constructor(){this.title="",this.content="",this.containerClass=""}};P.\u0275fac=function(x){return new(x||P)},P.\u0275cmp=Qa({type:P,selectors:[["app-section"]],inputs:{title:"title",content:"content",containerClass:"containerClass"},standalone:!0,features:[Hs],decls:5,vars:2,consts:[[1,"bg-transparent","p-5","h-screen","flex","flex-col","justify-center","items-center"],[1,"text-3xl","font-bold","text-white","mb-4"],[1,"text-lg","text-gray-300"]],template:function(x,e){x&1&&(Fr(0,"div",0)(1,"h2",1),Zr(2),Br(),Fr(3,"p",2),Zr(4),Br()()),x&2&&(Mo(2),Vs(e.title),Mo(2),Vs(e.content))},dependencies:[fl]});let B=P;return B})();var V4=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275cmp=Qa({type:P,selectors:[["app-home"]],standalone:!0,features:[Hs],decls:2,vars:0,consts:[["containerClass","home-container bg-gray-800 p-8 rounded-lg shadow-md","title","Welcome to the Trading App","content","Explore the latest trades, market trends, and more. Note: This is still in development"],["containerClass","about-container bg-gray-900 p-8 rounded-lg shadow-md mt-8","title","About This Project","content","This application showcases algorithmic trading strategies and market analysis tools designed to optimize trading decisions in real-time."]],template:function(x,e){x&1&&Fa(0,"app-section",0)(1,"app-section",1)},dependencies:[U4]});let B=P;return B})();function iD(B,P){if(B&1&&(Fr(0,"tr")(1,"td",7),Zr(2),Br(),Fr(3,"td",7),Zr(4),Au(5,"number"),Br(),Fr(6,"td",7),Zr(7),Au(8,"number"),Br(),Fr(9,"td",7),Zr(10),Br(),Fr(11,"td",7),Zr(12),Au(13,"number"),Br(),Fr(14,"td",7),Zr(15),Au(16,"number"),Br(),Fr(17,"td",7),Zr(18),Au(19,"number"),Br(),Fr(20,"td",7),Zr(21),Au(22,"number"),Br(),Fr(23,"td",7),Zr(24),Br()()),B&2){let J=P.$implicit,S=P.index;Mo(2),Vs(S+1),Mo(2),Vs(ku(5,9,J.bought_amount,"1.3-3")),Mo(3),Vs(ku(8,12,J.bought_at,"1.3-3")),Mo(3),Vs(J.bought_time),Mo(2),Vs(ku(13,15,J.brokerage,"1.3-3")),Mo(3),Vs(ku(16,18,J.profit,"1.3-3")),Mo(3),Vs(ku(19,21,J.sold_amount,"1.3-3")),Mo(3),Vs(ku(22,24,J.sold_at,"1.3-3")),Mo(3),Vs(J.sold_time)}}var H4=(()=>{let P=class P{constructor(S){this.http=S,this.trades=null,this.date="2024-06-20"}getTotalProfits(){return this.trades?.reduce((S,x)=>S+parseFloat(x.profit),0)??0}getNetProfits(){return this.getTotalProfits()-this.getTotalBrokerage()}getTotalBrokerage(){return this.trades?.reduce((S,x)=>S+parseFloat(x.brokerage),0)??0}ngOnInit(){this.fetchData()}handleChangeDate(S){this.date=S.target.value,this.fetchData()}fetchData(){this.http.get(`https://affanhamid.com:8000/trades/${this.date}`).subscribe({next:S=>{console.log(S.data),this.trades=S.data},error:S=>{console.error("Error fetching data:",S)}})}};P.\u0275fac=function(x){return new(x||P)(yo(Pd))},P.\u0275cmp=Qa({type:P,selectors:[["app-trades"]],standalone:!0,features:[Hs],decls:44,vars:15,consts:[[1,"px-[10%]","h-screen","relative"],[1,"text-center","text-white","text-2xl","font-bold","mb-5"],[1,"text-right","mb-5"],["for","trade-date",1,"text-white","mr-2.5"],["type","date","id","trade-date","name","trade-date",1,"p-2","rounded-md","border-none","bg-[#2c3e50]","text-white",3,"change","value"],[1,"overflow-y-scroll","h-[75vh]"],[1,"text-white","border-collapse","w-full"],[1,"border","border-white","p-2"],[4,"ngFor","ngForOf"],[1,"sticky","bottom-0","left-0","right-0","bg-[#34495e]","p-4","text-white"],[1,"flex","justify-between"]],template:function(x,e){x&1&&(Fr(0,"div",0)(1,"h1",1),Zr(2,"Trade History"),Br(),Fr(3,"div",2)(4,"label",3),Zr(5,"Select Date:"),Br(),Fr(6,"input",4),df("change",function(y){return e.handleChangeDate(y)}),Br()(),Fr(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th",7),Zr(12,"Index"),Br(),Fr(13,"th",7),Zr(14,"Bought Amount"),Br(),Fr(15,"th",7),Zr(16,"Bought At"),Br(),Fr(17,"th",7),Zr(18,"Bought Time"),Br(),Fr(19,"th",7),Zr(20,"Brokerage"),Br(),Fr(21,"th",7),Zr(22,"Profit"),Br(),Fr(23,"th",7),Zr(24,"Sold Amount"),Br(),Fr(25,"th",7),Zr(26,"Sold At"),Br(),Fr(27,"th",7),Zr(28,"Sold Time"),Br()()(),Fr(29,"tbody"),vh(30,iD,25,27,"tr",8),Br()()(),Fr(31,"div",9)(32,"div",10)(33,"div"),Zr(34),Br(),Fr(35,"div"),Zr(36),Au(37,"number"),Br(),Fr(38,"div"),Zr(39),Au(40,"number"),Br(),Fr(41,"div"),Zr(42),Au(43,"number"),Br()()()()),x&2&&(Mo(6),iu("value",e.date),Mo(24),iu("ngForOf",e.trades),Mo(4),pf("Total Trades: ",e.trades==null?null:e.trades.length,""),Mo(2),pf("Total Profits: ",ku(37,6,e.getTotalProfits(),"1.2-2"),""),Mo(3),pf("Net Profits: ",ku(40,9,e.getNetProfits(),"1.2-2"),""),Mo(3),pf("Total Brokerage: ",ku(43,12,e.getTotalBrokerage(),"1.2-2"),""))},dependencies:[fl,ng,P3]}),P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();var uD=$5(q4());var oD=["plot"],aD=["*"],Zo=class B{static setModuleName(P){B.moduleName=P}static getModuleName(){return B.moduleName}static setPlotly(P){if(typeof P=="object"&&typeof P.react!="function")throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");B.plotly=P}static insert(P){return B.instances.indexOf(P)===-1&&B.instances.push(P),P}static remove(P){let J=B.instances.indexOf(P);J>=0&&(B.instances.splice(J,1),B.plotly.purge(P))}getInstanceByDivId(P){for(let J of B.instances)if(J&&J.id===P)return J}getPlotly(){return qc(this,null,function*(){return yield this.waitFor(()=>this._getPlotly()!=="waiting"),this._getPlotly()})}_getPlotly(){if(typeof B.plotly>"u"){let P=B.moduleName==="ViaCDN"?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed";throw new Error(P)}return B.plotly}waitFor(P){return new Promise(J=>{let S=()=>{P()?J():setTimeout(S,10)};S()})}newPlot(P,J,S,x,e){return qc(this,null,function*(){if(yield this.waitFor(()=>this._getPlotly()!=="waiting"),e){let p={data:J,layout:S,config:x,frames:e};return this._getPlotly().newPlot(P,p).then(()=>B.insert(P))}return this._getPlotly().newPlot(P,J,S,x).then(()=>B.insert(P))})}plot(P,J,S,x,e){if(e){let p={data:J,layout:S,config:x,frames:e};return this._getPlotly().newPlot(P,p)}return this._getPlotly().newPlot(P,J,S,x)}update(P,J,S,x,e){if(e){let p={data:J,layout:S,config:x,frames:e};return this._getPlotly().react(P,p)}return this._getPlotly().react(P,J,S,x)}resize(P){return this._getPlotly().Plots.resize(P)}};Zo.instances=[];Zo.plotly=void 0;Zo.moduleName=void 0;Zo.\u0275fac=function(P){return new(P||Zo)};Zo.\u0275prov=Vr({token:Zo,factory:Zo.\u0275fac,providedIn:"root"});var sD=(()=>{class B{constructor(){this._isLoading=!1}get isLoading(){return this._isLoading}load(J){return this._isLoading=!0,new Promise(S=>{S(!0)})}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275prov=Vr({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),G4=(()=>{class B{constructor(J,S,x,e){this.plotly=J,this.themeLoader=S,this.iterableDiffers=x,this.keyValueDiffers=e,this.defaultClassName="js-plotly-plot",this.theme="none",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new Gr,this.update=new Gr,this.purge=new Gr,this.error=new Gr,this.afterExport=new Gr,this.afterPlot=new Gr,this.animated=new Gr,this.animatingFrame=new Gr,this.animationInterrupted=new Gr,this.autoSize=new Gr,this.beforeExport=new Gr,this.beforeHover=new Gr,this.buttonClicked=new Gr,this.click=new Gr,this.plotlyClick=new Gr,this.clickAnnotation=new Gr,this.deselect=new Gr,this.doubleClick=new Gr,this.framework=new Gr,this.hover=new Gr,this.legendClick=new Gr,this.legendDoubleClick=new Gr,this.react=new Gr,this.relayout=new Gr,this.relayouting=new Gr,this.restyle=new Gr,this.redraw=new Gr,this.selected=new Gr,this.selecting=new Gr,this.sliderChange=new Gr,this.sliderEnd=new Gr,this.sliderStart=new Gr,this.sunburstclick=new Gr,this.transitioning=new Gr,this.transitionInterrupted=new Gr,this.unhover=new Gr,this.treemapclick=new Gr,this.webglcontextlost=new Gr,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","beforeHover","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","relayouting","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","sunburstclick","transitioning","transitionInterrupted","unhover","treemapclick","webglcontextlost"]}ngOnInit(){this.createPlot().then(()=>{let J=this.createFigure();this.initialized.emit(J)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){if(typeof this.resizeHandler=="function"&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0),this.plotlyInstance){let J=this.createFigure();this.purge.emit(J),Zo.remove(this.plotlyInstance)}}ngOnChanges(J){let S=!1,x=J.revision;x&&!x.isFirstChange()&&(S=!0);let e=J.debug;e&&!e.isFirstChange()&&(S=!0),S&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let J=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(J=!0):this.layout?this.layoutDiffer=this.keyValueDiffers.find(this.layout).create():this.layoutDiffer=void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(J=!0):Array.isArray(this.data)?this.dataDiffer=this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):this.dataDiffer=void 0),J&&this.plotlyInstance&&this.updatePlot()}getData(){return this.data??[]}getWindow(){return window}getClassName(){let J=[this.defaultClassName];return Array.isArray(this.className)?J=J.concat(this.className):this.className&&J.push(this.className),J.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.getData(),this.layout,this.config,this.frames).then(J=>{this.plotlyInstance=J,this.getWindow().gd=this.debug?J:void 0,this.eventNames.forEach(S=>{let x=`plotly_${S.toLowerCase()}`,e=this[S];J.on(x,p=>e.emit(p))}),J.on("plotly_click",S=>{this.plotlyClick.emit(S)}),this.updateWindowResizeHandler()},J=>{console.error("Error while plotting:",J),this.error.emit(J)})}createFigure(){let J=this.plotlyInstance;return{data:J.data,layout:J.layout,frames:J._transitionData?J._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){let S=new Error("Plotly component wasn't initialized");throw this.error.emit(S),S}let J=zr({},this.layout);return this.plotly.update(this.plotlyInstance,this.getData(),J,this.config,this.frames).then(()=>{let S=this.createFigure();this.update.emit(S)},S=>{console.error("Error while updating plot:",S),this.error.emit(S)})}updateWindowResizeHandler(){this.useResizeHandler?this.resizeHandler===void 0&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):typeof this.resizeHandler=="function"&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(J,S){let x=Object.assign({},S,{uid:""});return JSON.stringify(x)}loadTheme(){this.layout!==void 0&&console.warn("You fulfill both `theme` and `layout` properties. This will overwrite the `layout` data with the `theme` data."),this.themeLoader.load(this.theme).then(J=>this.layout=J)}}return B.\u0275fac=function(J){return new(J||B)(yo(Zo),yo(sD),yo(Md),yo(Ad))},B.\u0275cmp=Qa({type:B,selectors:[["plotly-plot"]],viewQuery:function(J,S){if(J&1&&a3(oD,7),J&2){let x;Ry(x=Ny())&&(S.plotEl=x.first)}},inputs:{data:"data",layout:"layout",config:"config",frames:"frames",style:"style",theme:"theme",divId:"divId",revision:"revision",className:"className",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",beforeHover:"beforeHover",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",relayouting:"relayouting",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",sunburstclick:"sunburstclick",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",treemapclick:"treemapclick",webglcontextlost:"webglcontextlost"},features:[l3([Zo]),ph],ngContentSelectors:aD,decls:3,vars:3,consts:[["plot",""],[3,"ngClass","ngStyle"]],template:function(J,S){J&1&&(i3(),Fr(0,"div",1,0),o3(2),Br()),J&2&&(iu("ngClass",S.getClassName())("ngStyle",S.style),$0("id",S.divId))},dependencies:[I3,O3],encapsulation:2}),B})(),Sg=(()=>{class B{constructor(){}}return B.\u0275fac=function(J){return new(J||B)},B.\u0275mod=qu({type:B}),B.\u0275inj=Hu({providers:[Zo],imports:[fl]}),B})(),G1=(()=>{class B{constructor(){if(!this.isValid()){let J="Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.";throw new Error(J)}Zo.setPlotly(B.plotlyjs)}isValid(){return B.plotlyjs!==void 0&&(typeof B.plotlyjs.plot=="function"||typeof B.plotlyjs.newPlot=="function")}}return B.plotlyjs={},B.\u0275fac=function(J){return new(J||B)},B.\u0275mod=qu({type:B}),B.\u0275inj=Hu({providers:[Zo],imports:[fl,Sg,Sg]}),B})(),Eu=class B{constructor(P){this.plotlyService=P,Zo.setModuleName("ViaCDN")}static setPlotlyVersion(P,J="plotly",S=""){if(!(P==="latest"||/^(strict-)?\d\.\d{1,2}\.\d{1,2}$/.test(P)))throw new Error("Invalid plotly version. Please set 'latest' or version number (i.e.: 1.4.3) or strict version number (i.e.: strict-1.4.3)");B.loadViaCDN(J,S),B.plotlyVersion=P}static setPlotlyBundle(P){if(!(P===null||B.plotlyBundleNames.indexOf(P)>=0)){let S=B.plotlyBundleNames.map(x=>`"${x}"`).join(", ");throw new Error(`Invalid plotly bundle. Please set to null for full or ${S} for a partial bundle.`)}B.plotlyBundle=P}static loadViaCDN(P="plotly",J=""){Zo.setPlotly("waiting"),setTimeout(()=>{let x="";switch(P){case"cloudflare":if(B.plotlyVersion=="latest")throw new Error("As cloudflare hosts version specific files, 'latest' as a version is not supported. Please specify a version or you can choose 'plotly' as a CDN provider.");x=B.plotlyBundle==null?`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${B.plotlyVersion}/plotly.min.js`:`https://cdnjs.cloudflare.com/ajax/libs/plotly.js/${B.plotlyVersion}/plotly-${B.plotlyBundle}.min.js`;break;case"custom":if(!(J&&typeof J=="string"))throw new Error("Invalid or missing CDN URL. Please provide a CDN URL in case of custom provider. Alternatively, you can choose from 'plotly' or 'cloudflare'.");x=J;break;default:x=B.plotlyBundle==null?`https://cdn.plot.ly/plotly-${B.plotlyVersion}.min.js`:`https://cdn.plot.ly/plotly-${B.plotlyBundle}-${B.plotlyVersion}.min.js`;break}let e=document.createElement("script");e.type="text/javascript",e.src=x,e.onerror=()=>console.error(`Error loading plotly.js library from ${x}`),document.getElementsByTagName("head")[0].appendChild(e);let y=200,n=()=>{let M=window.Plotly;if(M)Zo.setPlotly(M);else if(y>0)y--,setTimeout(n,50);else throw new Error(`Error loading plotly.js library from ${x}. Timeout.`)};n()})}};Eu.plotlyBundle=void 0;Eu.plotlyVersion="latest";Eu.plotlyBundleNames=["basic","cartesian","geo","gl3d","gl2d","mapbox","finance"];Eu.\u0275fac=function(P){return new(P||Eu)(ni(Zo))};Eu.\u0275mod=qu({type:Eu});Eu.\u0275inj=Hu({providers:[Zo],imports:[fl,Sg,Sg]});var W4=()=>({displayModeBar:!1,plot_bgcolor:"#333",paper_bgcolor:"#333",template:"plotly_dark"});function cD(B,P){if(B&1){let J=n3();Fr(0,"div",9),Fa(1,"div",10),Fr(2,"div",11)(3,"h2",12),Zr(4,"Trading Strategy Details"),Br(),Fr(5,"p",13),Zr(6," The "),Fr(7,"span",14),Zr(8,"MACD (Moving Average Convergence Divergence)"),Br(),Zr(9," is a trend-following momentum indicator that shows the relationship between two moving averages of a security\u2019s price. It is calculated by subtracting the 26-period Exponential Moving Average (EMA) from the 12-period EMA. "),Br(),Fr(10,"p",13),Zr(11," The "),Fr(12,"span",14),Zr(13,"RVI (Relative Vigor Index)"),Br(),Zr(14," compares the closing price to the price range and provides a predictive indicator of market direction. It is often used in conjunction with the MACD to confirm trends and reversals. "),Br(),Fr(15,"p",13),Zr(16," The "),Fr(17,"span",14),Zr(18,"AO (Awesome Oscillator)"),Br(),Zr(19," is a momentum indicator that uses the difference between the 34-period and 5-period simple moving averages of the bar\u2019s midpoints (H+L)/2. It helps to identify market momentum and potential reversal points. "),Br(),Fr(20,"p",13),Zr(21," Together, these indicators provide a comprehensive view of market trends and potential turning points, making them popular among traders for developing robust trading strategies. "),Br(),Fr(22,"p",13)(23,"strong",14),Zr(24,"Trading Rules:"),Br(),Zr(25," The MACD and the RVI both must produce a bullish signal within 5 periods of each other to enter a long position. The AO must also be bullish to enter a long position. Conversely, if the MACD and the RVI produce a bearish signal within 5 periods of each other, and the AO produces a bearish signal, a short position should be entered. "),Br(),Fr(26,"button",15),df("click",function(){C_(J);let x=r3();return D_(x.closeModal())}),Zr(27,"Close"),Br()()()}}function fD(B,P){if(B&1&&(Fr(0,"div",16),Fa(1,"plotly-plot",7),Br()),B&2){let J=P.$implicit;Mo(),iu("data",J.data)("layout",J.layout)("config",Fy(3,W4))}}G1.plotlyjs=uD;var Y4=(()=>{let P=class P{constructor(S){this.http=S,this.marketData=null,this.graph_price={data:[{x:[],y:[],type:"scatter",mode:"lines",marker:{color:"blue"},name:"Price"},{x:[],y:[],type:"scatter",mode:"lines",marker:{color:"red"},name:"Low"},{x:[],y:[],type:"scatter",mode:"lines",marker:{color:"green"},name:"High"}],layout:{title:"Market Data",template:"plotly_dark"}},this.graph_indicators=[],this.foundPairs=[],this.soleIndicators=[],this.showModal=!1}ngOnInit(){this.fetchData(),setInterval(()=>{this.fetchData()},1e3)}findSoleIndicators(){this.marketData&&this.marketData.length>0&&this.soleIndicators.length==0&&(this.soleIndicators=Object.keys(this.marketData[0]).filter(S=>!["time","price","high","low","best_bid","best_ask","product_id","size","side","open"].includes(S)&&!S.includes("window")&&!S.includes("_Signal")&&!this.foundPairs.some(x=>x.indicator===S))),this.graph_indicators=[...this.foundPairs.map(S=>({data:[{x:[],y:[],type:"scatter",mode:"lines",marker:{color:"blue"},name:S.indicator},{x:[],y:[],type:"scatter",mode:"lines",marker:{color:"red"},name:S.signal}],layout:{title:"Market Data"}})),...this.soleIndicators.map(S=>({data:[{x:[],y:[],type:"scatter",mode:"lines",marker:{color:"blue"},name:S}],layout:{title:"Market Data"}}))]}closeModal(){this.showModal=!1}openModal(){this.showModal=!0}findPairs(){if(this.marketData&&this.foundPairs.length==0){let S=this.marketData[0];for(let x in S){let e=x+"_Signal";e in S&&this.foundPairs.push({indicator:x,signal:e})}}}fetchData(){this.http.get("https://affanhamid.com:8000/data/").subscribe({next:S=>{this.marketData=S.data,this.findPairs(),this.findSoleIndicators(),this.updateGraph()},error:S=>{console.error("Error fetching data:",S)}})}updateGraph(){let S=window.scrollY;window.requestAnimationFrame(()=>{window.scrollTo(0,S)}),this.marketData&&(this.graph_price.data[0].x=this.marketData.map(x=>x.time),this.graph_price.data[0].y=this.marketData.map(x=>x.price),this.graph_price.data[1].x=this.marketData.map(x=>x.time),this.graph_price.data[1].y=this.marketData.map(x=>x.low),this.graph_price.data[2].x=this.marketData.map(x=>x.time),this.graph_price.data[2].y=this.marketData.map(x=>x.high),this.foundPairs.forEach((x,e)=>{this.graph_indicators[e].data[0].x=this.marketData?.map(p=>p.time),this.graph_indicators[e].data[0].y=this.marketData?.map(p=>p[x.indicator]),this.graph_indicators[e].data[1].x=this.marketData?.map(p=>p.time),this.graph_indicators[e].data[1].y=this.marketData?.map(p=>p[x.signal]),this.graph_indicators[e].layout.title=this.foundPairs[e].indicator}),this.soleIndicators.forEach((x,e)=>{this.graph_indicators[this.foundPairs.length+e].data[0].x=this.marketData?.map(p=>p.time),this.graph_indicators[this.foundPairs.length+e].data[0].y=this.marketData?.map(p=>p[x]),this.graph_indicators[this.foundPairs.length+e].layout.title=this.soleIndicators[e]}))}};P.\u0275fac=function(x){return new(x||P)(yo(Pd))},P.\u0275cmp=Qa({type:P,selectors:[["app-market"]],standalone:!0,features:[Hs],decls:12,vars:6,consts:[[1,"px-10","pt-10"],[1,"text-3xl","font-bold","text-highlight","mb-6"],[1,"cursor-pointer","text-sm","align-top",3,"click"],["class","fixed inset-0 flex items-center justify-center z-50",4,"ngIf"],[1,"p-10"],[1,"grid","grid-cols-3","bg-background","gap-2.5","p-2.5"],[1,"col-span-3","bg-transparent","p-2.5","rounded-lg"],[3,"data","layout","config"],["class","bg-transparent p-2.5 rounded-lg",4,"ngFor","ngForOf"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50"],[1,"backdrop-blur-sm","bg-opacity-50","fixed","inset-0"],[1,"bg-white","text-cool-gray-800","p-10","rounded-lg","shadow-lg","max-w-3xl","w-full","z-10"],[1,"text-2xl","font-bold","mb-4"],[1,"text-lg","mb-3"],[1,"font-semibold"],[1,"mt-4","px-4","py-2","bg-highlight","text-white","rounded",3,"click"],[1,"bg-transparent","p-2.5","rounded-lg"]],template:function(x,e){x&1&&(Fr(0,"div",0)(1,"h1",1),Zr(2,"Current Strategy: MACD + RVI + AO "),Fr(3,"span",2),df("click",function(){return e.openModal()}),Zr(4,"\u24D8"),Br()()(),vh(5,cD,28,0,"div",3),Fr(6,"div",4)(7,"div",5)(8,"div",6),Fa(9,"plotly-plot",7),Br(),vh(10,fD,2,4,"div",8),Br()(),Fa(11,"div")),x&2&&(Mo(5),iu("ngIf",e.showModal),Mo(4),iu("data",e.graph_price.data)("layout",e.graph_price.layout)("config",Fy(5,W4)),Mo(),iu("ngForOf",e.graph_indicators))},dependencies:[fl,ng,L3,G1,G4]}),P.\u0275prov=Vr({token:P,factory:P.\u0275fac,providedIn:"root"});let B=P;return B})();var $4=[{path:"",component:V4},{path:"trades",component:H4},{path:"market",component:Y4}];var Z4={providers:[p3({eventCoalescing:!0}),j4($4),Y3($3())]};var X4=(()=>{let P=class P{};P.\u0275fac=function(x){return new(x||P)},P.\u0275cmp=Qa({type:P,selectors:[["app-navbar"]],standalone:!0,features:[Hs],decls:24,vars:0,consts:[[1,"sticky","top-0","bg-gray-800","text-white","shadow-lg","backdrop-filter","backdrop-blur-lg","bg-opacity-30"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-24","items-center"],[1,"flex"],[1,"hidden","sm:ml-6","sm:flex","sm:space-x-8"],["href","",1,"border-transparent","text-gray-300","hover:bg-gray-700","hover:text-white","px-3","py-4","rounded-md","text-sm","font-medium","cursor-pointer"],["href","trades",1,"border-transparent","text-gray-300","hover:bg-gray-700","hover:text-white","px-3","py-4","rounded-md","text-sm","font-medium","cursor-pointer"],["href","market",1,"border-transparent","text-gray-300","hover:bg-gray-700","hover:text-white","px-3","py-4","rounded-md","text-sm","font-medium","cursor-pointer"],[1,"flex","space-x-4"],["href","https://x.com/AffanHamid74147",1,"text-gray-300","hover:text-white"],["fill","currentColor","viewBox","0 0 24 24",1,"h-6","w-6"],["transform","scale(1.5)","d","M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"],["href","https://www.linkedin.com/in/affan-hamid/",1,"text-gray-300","hover:text-white"],["d","M22.23 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.46C23.21 24 24 23.23 24 22.28V1.72C24 .77 23.21 0 22.23 0zM7.12 20.45H3.56V9h3.56v11.45zM5.34 7.5c-1.14 0-2.06-.93-2.06-2.08 0-1.15.92-2.08 2.06-2.08s2.06.93 2.06 2.08c0 1.15-.92 2.08-2.06 2.08zM20.45 20.45h-3.56v-5.6c0-1.34-.03-3.06-1.87-3.06-1.87 0-2.16 1.46-2.16 2.97v5.69h-3.56V9h3.42v1.56h.05c.48-.91 1.66-1.87 3.42-1.87 3.66 0 4.34 2.41 4.34 5.54v6.22z"],["href","https://github.com/affanhamid",1,"text-gray-300","hover:text-white"],["d","M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.387.6.111.82-.261.82-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.108-.776.419-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.3 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.046.138 3.003.404 2.29-1.552 3.297-1.23 3.297-1.23.653 1.652.242 2.873.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.216.694.825.576C20.565 21.795 24 17.296 24 12c0-6.63-5.37-12-12-12z"],["href","https://www.facebook.com/affan.hamid.984/",1,"text-gray-300","hover:text-white"],["d","M22.675 0H1.325C.593 0 0 .593 0 1.325v21.351C0 23.407.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.794.715-1.794 1.763v2.31h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.324-.593 1.324-1.324V1.325C24 .593 23.407 0 22.675 0z"]],template:function(x,e){x&1&&(Fr(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),Zr(6,"Home"),Br(),Fr(7,"a",6),Zr(8,"Trades"),Br(),Fr(9,"a",7),Zr(10,"Market Overview"),Br()()(),Fr(11,"div",8)(12,"a",9),xd(),Fr(13,"svg",10),Fa(14,"path",11),Br()(),H0(),Fr(15,"a",12),xd(),Fr(16,"svg",10),Fa(17,"path",13),Br()(),H0(),Fr(18,"a",14),xd(),Fr(19,"svg",10),Fa(20,"path",15),Br()(),H0(),Fr(21,"a",16),xd(),Fr(22,"svg",10),Fa(23,"path",17),Br()()()()()())}});let B=P;return B})();var K4=(()=>{let P=class P{constructor(){this.title="trading-app"}};P.\u0275fac=function(x){return new(x||P)},P.\u0275cmp=Qa({type:P,selectors:[["app-root"]],standalone:!0,features:[Hs],decls:3,vars:0,consts:[[1,"bg-background"]],template:function(x,e){x&1&&(Fr(0,"div",0),Fa(1,"app-navbar")(2,"router-outlet"),Br())},dependencies:[fl,F1,X4]});let B=P;return B})();r4(K4,Z4).catch(B=>console.error(B));
